<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>RxSwift-Grammar-åŸºæœ¬æ¦‚å¿µ</title>
      <link href="/2018/03/27/RxSwift/Grammar/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚å¿µç†è§£"><a href="#æ¦‚å¿µç†è§£" class="headerlink" title="æ¦‚å¿µç†è§£"></a>æ¦‚å¿µç†è§£</h1><p>â‘  <a href="#">Observable å’Œ Observer</a><br>â‘¡subscribe å’Œ subscribe(onNext:)<br>â‘¢Dispose å’Œ DisposeBag<br>â‘£observeOn() å’Œ subscribeOn()<br>â‘¤shareReplay<br>â‘¥è‡ªå®šä¹‰operator<br>â‘¦Driver<br>â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨<br>â‘¨UIBindingObserver</p><h1 id="â‘ Observable-å’Œ-Observer"><a href="#â‘ Observable-å’Œ-Observer" class="headerlink" title="â‘ Observable å’Œ Observer"></a>â‘ Observable å’Œ Observer</h1><h2 id="å®è´¨"><a href="#å®è´¨" class="headerlink" title="å®è´¨"></a>å®è´¨</h2><blockquote><p>Observer (è§‚å¯Ÿè€…)è®¢é˜…ä¸€ä¸ªå¯è§‚å¯Ÿåºåˆ— Observable(äº‹ä»¶æº)<br>æ¯ä¸€ä¸ªObservableçš„å®ä¾‹éƒ½æ˜¯ä¸€ä¸ªåºåˆ—<br>è§‚å¯Ÿè€… å¯¹ Observable å‘å°„çš„æ•°æ®æˆ–æ•°æ®åºåˆ—ä½œå‡ºå“åº”</p></blockquote><h2 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h2><blockquote><p>Button çš„ç‚¹å‡»è¿™ä¸ªæƒ…æ™¯</p></blockquote><ul><li>æŠŠç”¨æˆ·ä¸€æ¬¡åˆä¸€æ¬¡çš„ç‚¹å‡» Button çœ‹åšæ˜¯åºåˆ—(sequence)</li><li>é€šè¿‡è°ƒç”¨ subscribe æ¥è®¢é˜…è¿™ä¸ªç‚¹å‡»äº‹ä»¶</li><li>æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šå‘å°„ä¸€ä¸ªæ•°æ®</li><li>ä½œä¸ºè®¢é˜…è€…çš„ subscribe æ”¶åˆ°è¿™ä¸ªè¿™ä¸ªæ•°æ®è¿›è¡ŒæŸäº›å“åº”</li></ul><blockquote><p>Rx çš„åŸºæœ¬æ¦‚å¿µï¼Œæœ‰Observerè§‚å¯Ÿè€…è§‚å¯Ÿä¸€ä¸ªåºåˆ—sequenceï¼Œæ¯å½“åºåˆ—å‘å°„å€¼çš„æ—¶å€™ï¼Œè§‚å¯Ÿè€…æ ¹æ®åºåˆ—åšä¸€äº›äº‹æƒ…<br>Observableåºåˆ—ç›¸æ¯”äºSwiftåºåˆ—çš„å…³é”®ä¼˜åŠ¿ç‚¹åœ¨äºå®ƒèƒ½å¤Ÿå¼‚æ­¥åœ°æ¥æ”¶å…ƒç´ </p></blockquote><ul><li>Observable(ObservableType)ç­‰æ•ˆäºSequence</li><li>observableType.subscribe(_:)æ–¹æ³•ç­‰æ•ˆäºSequence.makeIterator()</li><li>ObservableType.subscribe(_:)æ¥æ”¶ä¸€ä¸ªè§‚å¯Ÿè€…ObserverTypeå‚æ•°,å®ƒå°†è¢«è®¢é˜…è‡ªåŠ¨æ¥æ”¶ç”±å¯è§‚å¯Ÿåˆ°çš„åºåˆ—äº‹ä»¶å’Œå…ƒç´ ï¼Œè€Œä¸æ˜¯åœ¨è¿”å›çš„ç”Ÿæˆå™¨ä¸Šæ‰‹åŠ¨è°ƒç”¨next()</li></ul><blockquote><p>å¦‚æœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªnextäº‹ä»¶(Event.next(Element)),å®ƒè¿˜èƒ½å¤Ÿç»§ç»­å‘å‡ºæ›´å¤šçš„äº‹ä»¶<br>ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªerroräº‹ä»¶(Event.error(ErrorType))æˆ–è€…ä¸€ä¸ªcompletedäº‹ä»¶(Event.completed)ï¼Œé‚£ä¹ˆè¿™ä¸ªObservableåºåˆ—å°±ä¸èƒ½ç»™è®¢é˜…è€…å‘é€å…¶ä»–çš„äº‹ä»¶</p></blockquote><h2 id="å¯è§‚å¯Ÿåºåˆ—-Observables-aka-Sequences"><a href="#å¯è§‚å¯Ÿåºåˆ—-Observables-aka-Sequences" class="headerlink" title="å¯è§‚å¯Ÿåºåˆ— (Observables aka Sequences)"></a>å¯è§‚å¯Ÿåºåˆ— (Observables aka Sequences)</h2><blockquote><p>å¯è§‚å¯Ÿåºåˆ— å­˜åœ¨ä¸‰ç§æƒ…å†µ:<br>â‘ å‘å°„æ•°æ®(Next)<br>â‘¡é‡åˆ°é—®é¢˜(Error)<br>â‘¢å‘å°„å®Œæˆ(Completed)</p><p>æœ‰é™åºåˆ—</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æ¯”å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªåºåˆ— --1--2--3--4--5--6--| ï¼Œå®ƒå‘é€äº†æŒ‰é¡ºåºå‘é€äº† 1 2 3 4 5 6 è¿™äº›å€¼åï¼Œå°±ç»ˆæ­¢äº†ï¼Œå°±æ˜¯å‘å°„å®Œæˆã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰é™åºåˆ—</div><div class="line">ä¹Ÿæœ‰å¯èƒ½å› ä¸ºæŸäº›ç‰¹æ®Šçš„æƒ…å†µï¼Œé‡åˆ°æŸäº›é”™è¯¯ï¼ˆæ¯”å¦‚æ•°æ®è§£æé”™è¯¯ï¼‰ï¼Œ--1--2--3--4--X ï¼Œå› ä¸ºè§£æé”™è¯¯æ„å¤–ç»ˆæ­¢</div></pre></td></tr></table></figure><blockquote><p>æ— é™åºåˆ—</p></blockquote><ul><li>æ¯”å¦‚ç”¨æˆ·ç‚¹å‡» Button ï¼Œè¿™ä¸ªå°±å±äºæ— é™åºåˆ—</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">---tap-tap-------tap---&gt; å½“ç„¶è¿™é‡Œçš„æ— é™ä¸æ˜¯çœŸçš„æ— é™ï¼Œæ˜¯ä¸ç¡®å®šç”¨æˆ·ä»€ä¹ˆæ—¶å€™ä¼šç‚¹å‡»ï¼Œä¸ç¡®å®šæ˜¯å¦ä¼šç»§ç»­ç‚¹å‡»ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªæ— é™åºåˆ—ï¼Œæ¯å½“ç”¨æˆ·ç‚¹å‡»ï¼Œåºåˆ—å°±å‘å°„ä¸€ä¸ªå€¼</div></pre></td></tr></table></figure><blockquote><p>å°†ä»¥ä¸Šçš„ä¸‰ç§æƒ…å†µç»Ÿæ¦‚æ‹¬ä¸ºäº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Event</span>&lt;<span class="title">Element</span>&gt;  </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Next</span>(<span class="type">Element</span>)      <span class="comment">// åºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Error</span>(<span class="type">ErrorType</span>)   <span class="comment">// åºåˆ—å› ä¸ºæŸäº›é”™è¯¯ç»ˆæ­¢</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Completed</span>          <span class="comment">// æ­£å¸¸çš„åºåˆ—æŠ€æœ¯</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="è§‚å¯Ÿè€…-Observer"><a href="#è§‚å¯Ÿè€…-Observer" class="headerlink" title="è§‚å¯Ÿè€… (Observer)"></a>è§‚å¯Ÿè€… (Observer)</h2><blockquote><p>è§‚å¯Ÿè€…éœ€è¦ä¸€ä¸ªè®¢é˜…åºåˆ—çš„åŠŸèƒ½</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observable</span>&lt;<span class="title">Element</span>&gt; </span>&#123;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">subscribe</span><span class="params">(observer: Observer&lt;Element&gt;)</span></span> -&gt; <span class="type">Disposable</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ObserverType</span> </span>&#123;</div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">on</span><span class="params">(event: Event&lt;Element&gt;)</span></span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>é€šè¿‡åºåˆ—çš„è¿™ä¸ª subscribe æ¥è®¢é˜…åºåˆ—<br>è¿™é‡Œå°±åº”è¯¥æåˆ°åºåˆ—çš„â€œå†·â€â€œçƒ­â€é—®é¢˜</p></blockquote><ul><li>å†·ï¼šåªæœ‰å½“æœ‰è§‚å¯Ÿè€…è®¢é˜…è¿™ä¸ªåºåˆ—æ—¶ï¼Œåºåˆ—æ‰å‘å°„å€¼</li><li>çƒ­ï¼šåºåˆ—åˆ›å»ºæ—¶å°±å¼€å§‹å‘å°„å€¼</li></ul><blockquote><p>æ•´ä½“ä¸Šå°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªå…³ç³»ï¼Œåºåˆ—å‘å°„å€¼ï¼Œè§‚å¯Ÿè€…è®¢é˜…åºåˆ—ï¼Œæ”¶åˆ°å€¼ï¼Œè¿›è¡Œå¤„ç†</p></blockquote><h2 id="Obserable"><a href="#Obserable" class="headerlink" title="Obserable"></a>Obserable</h2><blockquote><p>åˆ›å»ºè¢«è§‚å¯Ÿè€…å…¶å®å°±æ˜¯<strong>åˆ›å»ºä¸€ä¸ªObserableçš„sequence</strong>ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªæµï¼Œç„¶åå°±å¯ä»¥è¢«è®¢é˜…subscribeï¼Œè¿™æ ·è¢«è§‚å¯Ÿè€…å‘å‡ºæ—¶é—´æ¶ˆå¤±ï¼Œå°±èƒ½åšç›¸åº”çš„å¤„ç†</p></blockquote><h1 id="â‘¡subscribe-å’Œ-subscribe-onNext"><a href="#â‘¡subscribe-å’Œ-subscribe-onNext" class="headerlink" title="â‘¡subscribe å’Œ subscribe(onNext:)"></a>â‘¡subscribe å’Œ subscribe(onNext:)</h1><blockquote><p>Subscribe</p></blockquote><ul><li><strong>subscribeæ˜¯è®¢é˜…sequenceå‘å‡ºçš„äº‹ä»¶</strong>ï¼Œæ¯”å¦‚nextäº‹ä»¶ï¼Œerroräº‹ä»¶ç­‰</li><li>è€Œsubscribe(onNext:)æ˜¯ç›‘å¬sequenceå‘å‡ºçš„nextäº‹ä»¶ä¸­çš„elementè¿›è¡Œå¤„ç†ï¼Œä»–ä¼šå¿½ç•¥errorå’Œcompletedäº‹ä»¶</li><li>ç›¸å¯¹åº”çš„è¿˜æœ‰subscribe(onError:) å’Œ subscribe(onCompleted:)</li></ul><h1 id="â‘¢Dispose-å’Œ-DisposeBag"><a href="#â‘¢Dispose-å’Œ-DisposeBag" class="headerlink" title="â‘¢Dispose å’Œ DisposeBag"></a>â‘¢Dispose å’Œ DisposeBag</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">å½“ç›‘å¬ä¸€ä¸ªsequenceçš„æ—¶å€™ï¼Œæœ‰æ¶ˆæ¯äº‹ä»¶æ¥äº†ï¼ŒåšæŸäº›äº‹æƒ…ã€‚ä½†æ˜¯è¿™ä¸ªsequenceä¸å†å‘é€æ¶ˆæ¯äº‹ä»¶äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç›‘å¬ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆå­˜åœ¨çš„ä»·å€¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡Šæ”¾æˆ‘ä»¬è¿™äº›ç›‘å¬èµ„æºï¼Œå…¶å®ä¹Ÿå°±æ˜¯å†…å­˜èµ„æºé‡Šæ”¾</div></pre></td></tr></table></figure><p>##æ‰‹åŠ¨è°ƒç”¨é‡Šæ”¾æ–¹å¼(ä¸€èˆ¬ä¸é€‚ç”¨è¿™ç§æ–¹å¼)</p><blockquote><p>åˆ›å»ºä¸€ä¸ªsubscriptionç›‘å¬ï¼Œåœ¨ä¸¤ç§’ä»¥åæˆ‘ä»¬ä¸éœ€è¦äº†ï¼Œæ‰‹åŠ¨è°ƒç”¨dispose()æ–¹æ³•ï¼Œå°±èƒ½é‡Šæ”¾ç›‘å¬èµ„æºï¼Œä¸å†æ‰“å°ä¿¡æ¯ã€‚ä¸Šé¢çš„subscriptionä¸è®ºæ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ä¸­ç›‘å¬ï¼Œå°±ç®—åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨çš„dispose()æ–¹æ³•ä¸€æ ·ä¼šé”€æ¯èµ„æº</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> subscription = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">0.3</span>, scheduler:<span class="type">SerialDispatchQueueScheduler</span>.<span class="keyword">init</span>(internalSerialQueueName: <span class="string">"scott"</span>))</div><div class="line">                                  .observeOn(<span class="type">MainScheduler</span>.instance)</div><div class="line"> .subscribe &#123; event <span class="keyword">in</span> </div><div class="line">          <span class="built_in">print</span> (event)</div><div class="line">       &#125;</div><div class="line"><span class="type">Thread</span>.sleep(forTimeInterval: <span class="number">2.0</span>)</div><div class="line">subscription.dispose()</div><div class="line">   </div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line">next(<span class="number">0</span>)</div><div class="line">next(<span class="number">1</span>)</div><div class="line">next(<span class="number">2</span>)</div><div class="line">next(<span class="number">3</span>)</div><div class="line">next(<span class="number">4</span>)</div><div class="line">next(<span class="number">5</span>)</div></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨æ–¹å¼"><a href="#è‡ªåŠ¨æ–¹å¼" class="headerlink" title="è‡ªåŠ¨æ–¹å¼"></a>è‡ªåŠ¨æ–¹å¼</h2><blockquote><p>åˆ›å»ºä¸€ä¸ªdisposeBagæ¥ç››æ”¾æˆ‘ä»¬éœ€è¦ç®¡ç†çš„èµ„æºï¼Œç„¶åæŠŠæ–°å»ºçš„ç›‘å¬éƒ½æ”¾è¿›å»ï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è¿™äº›èµ„æº<br>å¦‚æœéœ€è¦ç«‹å³é‡Šæ”¾èµ„æºåªéœ€è¦æ–°å»ºä¸€ä¸ªDisposeBag()ï¼Œé‚£ä¹ˆä¸Šä¸€ä¸ªDisposeBagå°±ä¼šè¢«é”€æ¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.empty()</div><div class="line">               .subscribe&#123; event <span class="keyword">in</span> </div><div class="line">                   <span class="built_in">print</span> (event)</div><div class="line">                   &#125;</div><div class="line">                .addDisponseableTo(disposeBag)</div></pre></td></tr></table></figure><h2 id="DisposeBag"><a href="#DisposeBag" class="headerlink" title="DisposeBag"></a>DisposeBag</h2><blockquote><p>DisposeBagå…¶å®å°±ç›¸å½“äºiOSä¸­çš„ARCä¼¼å¾—ï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è§‚å¯Ÿè€…ï¼Œç›¸å½“äºå†…å­˜ç®¡ç†è€…å§</p></blockquote><h1 id="â‘£observeOn-å’Œ-subscribeOn"><a href="#â‘£observeOn-å’Œ-subscribeOn" class="headerlink" title="â‘£observeOn() å’Œ subscribeOn()"></a>â‘£observeOn() å’Œ subscribeOn()</h1><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>subscribeOn()</td><td>è®¾ç½®èµ·ç‚¹åœ¨å“ªä¸ªçº¿ç¨‹</td></tr><tr><td>observeOn()</td><td>ç½®äº†åç»­å·¥ä½œåœ¨å“ªä¸ªçº¿ç¨‹</td></tr></tbody></table><blockquote><p>1)æ‰€æœ‰åŠ¨ä½œéƒ½å‘ç”Ÿåœ¨å½“å‰çš„é»˜è®¤çº¿ç¨‹<br>2)observeOn()è½¬æ¢çº¿ç¨‹åˆ°ä¸»çº¿ç¨‹ï¼Œä¸‹é¢æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ä¸»çº¿ç¨‹<br>3)subscribeOn()è§„å®šåŠ¨ä½œä¸€å¼€å§‹ä¸æ˜¯å‘ç”Ÿåœ¨é»˜è®¤çº¿ç¨‹ï¼Œè€Œæ˜¯åœ¨OtherScheduleräº†<br>)-å¦‚æœä¹‹å‰æ²¡æœ‰è°ƒç”¨observeOn()ï¼Œé‚£ä¹ˆè¿™è¾¹ä¼šåœ¨OtherSchedulerå‘ç”Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å‰é¢è°ƒç”¨äº†observeOn()ï¼Œæ‰€ä»¥è¿™ä¸ªåŠ¨ä½œä¼šåœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨<br>subscribeOn()åªæ˜¯å½±å“äº‹ä»¶é“¾å¼€å§‹é»˜è®¤çš„çº¿ç¨‹ï¼Œè€ŒobserveOn()è§„å®šäº†ä¸‹ä¸€æ­¥åŠ¨ä½œå‘ç”Ÿåœ¨å“ªä¸ªçº¿ç¨‹ä¸­ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">someObservable</div><div class="line">     .doOneThing() <span class="comment">//1</span></div><div class="line">     .observeOn(<span class="type">MainRouteScheduler</span>.instance) <span class="comment">// 2</span></div><div class="line">      .subscribeOn(<span class="type">OtherScheduler</span>.instance) <span class="comment">// 3</span></div><div class="line">      .subscribeNext &#123; <span class="comment">// 4</span></div><div class="line">        ......</div><div class="line">         &#125;</div><div class="line">      .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h1 id="â‘¤shareReplay"><a href="#â‘¤shareReplay" class="headerlink" title="â‘¤shareReplay"></a>â‘¤shareReplay</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>.just(<span class="string">"ğŸ¤£"</span>)</div><div class="line">                           .<span class="built_in">map</span>&#123; </div><div class="line">                                <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">                                &#125;</div><div class="line">observable.subscribe&#123;</div><div class="line">                 <span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)</div><div class="line">             &#125;</div><div class="line">           .disposed(by: disposeBag)</div><div class="line">observable.subscribe&#123; </div><div class="line">                  <span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)</div><div class="line">              &#125;</div><div class="line">           .disposed(by: disposeBag)</div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line"></div><div class="line">ğŸ¤£</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div><div class="line">ğŸ¤£</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div></pre></td></tr></table></figure><blockquote><p>map()å‡½æ•°æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³è®©map()å‡½æ•°é‡Œé¢çš„ä¸œè¥¿æ‰§è¡Œä¸¤æ¬¡ï¼Œæ¯”å¦‚map()å‡½æ•°é‡Œé¢æ‰§è¡Œçš„æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œæˆ‘åªéœ€è¦æ‰§è¡Œä¸€æ¬¡è¯·æ±‚ï¼Œç„¶åæŠŠç»“æœæä¾›ç»™å¤§å®¶ä½¿ç”¨å°±è¡Œäº†ï¼Œå¤šä½™çš„è¯·æ±‚ä¼šå¢åŠ è´Ÿæ‹…ã€‚æ‰€ä»¥è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨shareReplay(1)äº†ã€‚è¿™é‡Œé¢çš„æ•°å­—ä¸€èˆ¬æ˜¯1ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚(ps:æˆ‘æ”¹æˆ 2ï¼Œ3 ä¹Ÿåªæ‰“å°ä¸€æ¬¡)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>.just(<span class="string">"ğŸ¤£"</span>).<span class="built_in">map</span>&#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;.shareReplay(<span class="number">1</span>)</div><div class="line">    </div><div class="line">observable.subscribe&#123;<span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)&#125;.disposed(by: disposeBag)</div><div class="line">observable.subscribe&#123;<span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)&#125;.disposed(by: disposeBag)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line">ğŸ¤£</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div></pre></td></tr></table></figure><h1 id="â‘¥è‡ªå®šä¹‰operator"><a href="#â‘¥è‡ªå®šä¹‰operator" class="headerlink" title="â‘¥è‡ªå®šä¹‰operator"></a>â‘¥è‡ªå®šä¹‰operator</h1><blockquote><p>è‡ªå®šä¹‰æ“ä½œç¬¦å¾ˆç®€å•ï¼Œå®˜æ–¹æ¨èå°½é‡ä½¿ç”¨æ ‡å‡†çš„æ“ä½œç¬¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„æ“ä½œç¬¦ï¼Œæ–‡æ¡£ä¸Šè¯´æœ‰ä¸¤ç§æ–¹æ³•ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•å§<br>è‡ªå®šä¹‰ä¸€ä¸ªmapæ“ä½œç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">ObserverType</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">myMap</span>&lt;R&gt;<span class="params">(transform: E -&gt; R)</span></span> -&gt; <span class="type">Observable</span>&lt;<span class="type">R</span>&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">Observable</span>.create&#123; observer <span class="keyword">in</span></div><div class="line">            <span class="keyword">let</span> subscription = <span class="keyword">self</span>.subscribe &#123;e <span class="keyword">in</span></div><div class="line">                <span class="keyword">switch</span> e&#123;</div><div class="line">                <span class="keyword">case</span> .next(<span class="keyword">let</span> value):</div><div class="line">                    <span class="keyword">let</span> result = transform(value)</div><div class="line">                    observer.on(.next(result))</div><div class="line">                <span class="keyword">case</span> .error(<span class="keyword">let</span> error):</div><div class="line">                    observer.on(.error(error))</div><div class="line">                <span class="keyword">case</span> .completed:</div><div class="line">                    observer.on(.completed)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> subscription</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå…¶ä¸­é—­åŒ…å‚æ•°æ˜¯Eç±»å‹è¿”å›å€¼æ˜¯Rç±»å‹ï¼Œmapå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªObservableç±»å‹ã€‚</p></blockquote><h1 id="â‘¦Driver"><a href="#â‘¦Driver" class="headerlink" title="â‘¦Driver"></a>â‘¦Driver</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> et results = query.rx.text</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .bindTo(resultCount.rx.text)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">results</div><div class="line">    .bindTo(resultsTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><ul><li>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯ç›‘å¬åºåˆ—resultsï¼Œå…¶ä¸­flatMapLatestä¸‹é¢ä¼šè®²;</li><li>ç„¶åå°†resultsç»‘å®šåˆ°resultCount.rx.textä¸Š;</li><li>å°†resultsç»‘å®šåˆ°resultsTableViewä¸Š.</li></ul><blockquote><p>ä¸Šé¢ç¨‹åºä¼šå‡ºç°ä¸‹é¢å‡ ä¸ªå¼‚å¸¸ï¼š</p></blockquote><ul><li>å¦‚æœfetchAutoCompleteItemså‡ºé”™ï¼Œé‚£ä¹ˆå®ƒç»‘å®šçš„UIå°†ä¸å†æ”¶åˆ°ä»»ä½•äº‹ä»¶æ¶ˆæ¯ï¼›</li><li>å¦‚æœfetchAutoCompleteItemså‘ç”Ÿåœ¨åå°çº¿ç¨‹ï¼Œé‚£ä¹ˆå®ƒç»‘å®šçš„äº‹ä»¶ä¹Ÿå°†åœ¨åå°çº¿ç¨‹æ‰§è¡Œï¼Œè¿™æ ·æ›´æ–°UIä¼šé€ æˆcrashï¼›<br>  æœ‰ä¸¤æ¬¡ç»‘å®šï¼ŒfetchAutoCompleteItemså°±ä¼šæ‰§è¡Œä¸¤æ¬¡</li></ul><blockquote><p>å½“ç„¶é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆï¼Œé’ˆå¯¹ç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¥å™¨shareReplay(1)ä¿è¯åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨observeOn()ä¿è¯åé¢æ‰€æœ‰æ“ä½œåœ¨ä¸»çº¿ç¨‹å®Œæˆ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> results = query.rx.text</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">            .observeOn(<span class="type">MainScheduler</span>.instance)</div><div class="line">            .catchErrorJustReturn([])           </div><div class="line">    &#125;</div><div class="line">    .shareReplay(<span class="number">1</span>)</div><div class="line">                                 </div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .bindTo(resultCount.rx.text)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">results</div><div class="line">    .bindTo(resultTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>å¯ä»¥ä½¿ç”¨Driveræ¥è§£å†³</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> results = query.rx.text.asDriver()</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">            .asDriver(onErrorJustReturn: [])  <span class="comment">//å½“é‡è§é”™è¯¯éœ€è¦è¿”å›ä»€ä¹ˆ</span></div><div class="line">    &#125;   <span class="comment">//ä¸éœ€è¦æ·»åŠ shareReplay(1)</span></div><div class="line">    </div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .drive(resultCount.rx.text)     <span class="comment">//å’ŒbingTo()åŠŸèƒ½ä¸€æ ·</span></div><div class="line">    .addDisposableTo(disposeBag) </div><div class="line">                                             </div><div class="line">results</div><div class="line">    .drive(resultTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>driveæ–¹æ³•åªèƒ½åœ¨Driveråºåˆ—ä¸­ä½¿ç”¨ï¼ŒDriveræœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p></blockquote><ul><li>Driveråºåˆ—ä¸å…è®¸å‘å‡ºerrorï¼Œ</li><li>Driveråºåˆ—çš„ç›‘å¬åªä¼šåœ¨ä¸»çº¿ç¨‹ä¸­ã€‚</li></ul><blockquote><p>æ‰€ä»¥Driveræ˜¯ä¸“ä¸ºUIç»‘å®šé‡èº«æ‰“é€ çš„ä¸œè¥¿ã€‚<br>ä»¥ä¸‹æƒ…å†µä½ å¯ä»¥ä½¿ç”¨Driveræ›¿æ¢BindTo:</p></blockquote><ul><li>ä¸èƒ½å‘å‡ºerror;</li><li>åœ¨ä¸»çº¿ç¨‹ä¸­ç›‘å¬;</li><li>å…±äº«äº‹ä»¶æµ;</li></ul><h1 id="â‘§map-å’Œ-flatMap-ä½•æ—¶ä½¿ç”¨"><a href="#â‘§map-å’Œ-flatMap-ä½•æ—¶ä½¿ç”¨" class="headerlink" title="â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨"></a>â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨</h1><blockquote><p>mapå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªRç±»å‹çš„åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªRç±»å‹çš„åºåˆ—ï¼Œè¿˜æ˜¯åŸæ¥çš„åºåˆ—ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">map</span>&lt;R&gt;<span class="params">(<span class="number">_</span> transform: @escaping <span class="params">(<span class="keyword">Self</span>.E)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">R</span>) -&gt; <span class="type">RxSwift</span>.<span class="type">Observable</span>&lt;<span class="type">R</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>flatMapå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªOç±»å‹çš„åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªO.Eç±»å‹çš„åºåˆ—ï¼Œä¹Ÿå°±æ˜¯æœ‰åŸæ¥åºåˆ—é‡Œå…ƒç´ ç»„æˆçš„æ–°åºåˆ—ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">flatMap</span>&lt;O: ObservableConvertibleType&gt;<span class="params">(<span class="number">_</span> selector: @escaping <span class="params">(E)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">O</span>)</div><div class="line">        -&gt; <span class="type">Observable</span>&lt;<span class="type">O</span>.<span class="type">E</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>å®è¿™é‡Œçš„mapå’ŒflatMapåœ¨swiftä¸­çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚mapå‡½æ•°å¯ä»¥å¯¹åŸæœ‰åºåˆ—é‡Œé¢çš„äº‹ä»¶å…ƒç´ è¿›è¡Œæ”¹é€ ï¼Œè¿”å›çš„è¿˜æ˜¯åŸæ¥çš„åºåˆ—ã€‚è€ŒflatMapå¯¹åŸæœ‰åºåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ”¹é€ å’Œå¤„ç†ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è¿”å›ä¸€ä¸ªæ–°çš„sequenceï¼Œç„¶åæŠŠæ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„sequenceåˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„sequenceåºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>.of(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="string">"5"</span>).<span class="built_in">map</span>&#123;$<span class="number">0</span> + <span class="string">"scott"</span>&#125;</div><div class="line">    </div><div class="line">observable.subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;).disposed(by: disposeBag)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line">1scott</div><div class="line">2scott</div><div class="line">3scott</div><div class="line">4scott</div><div class="line">5scott</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨mapå¯¹åºåˆ—ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä½¿ç”¨flatMapéœ€è¦è¿”å›çš„åºåˆ—ã€‚é‚£ä¹ˆä½¿ç”¨mapä¹Ÿè¿”å›ä¸€ä¸ªåºåˆ—çœ‹çœ‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;</div><div class="line">    </div><div class="line">test.subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line"><span class="comment">// è¿è¡Œç»“æœ:</span></div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>çœ‹åˆ°ç»“æœä¼šæ‰“å°å‡ºæ¯ä¸€ä¸ªåºåˆ—ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨merge()æ–¹æ³•å°†è¿™å‡ ä¸ªåºåˆ—è¿›è¡Œåˆå¹¶:</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;.merge()</div><div class="line">    </div><div class="line">test.subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"><span class="comment">//è¿è¡Œç»“æœ:</span></div><div class="line"> <span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div></pre></td></tr></table></figure><blockquote><p>å¹¶ä¸ºä¸€ä¸ªæ–°åºåˆ—åæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸æ‰“å°å…ƒç´ äº†ã€‚ä¸‹é¢çœ‹çœ‹ä½¿ç”¨faltMap()å‡½æ•°å¹²è¿™ä»¶äº‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .flatMap &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;</div><div class="line">    </div><div class="line">test.subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"> <span class="comment">//è¿è¡Œç»“æœ:</span></div><div class="line"> <span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div></pre></td></tr></table></figure><blockquote><p>çœ‹ä¸‹å¯¹æ¯”æ˜¯ä¸æ˜¯ä¸€æ ·ï¼Œè¿™æ ·å­å¯¹æ¯”å°±æ¸…æ™°äº†å§ã€‚</p></blockquote><ul><li>mapå‡½æ•°åªèƒ½è¿”å›åŸæ¥çš„é‚£ä¸€ä¸ªåºåˆ—ï¼Œé‡Œé¢çš„å‚æ•°çš„è¿”å›å€¼è¢«å½“åšåŸæ¥åºåˆ—ä¸­æ‰€å¯¹åº”çš„å…ƒç´ ã€‚</li><li>flatMapå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—ï¼Œå°†åŸæ¥å…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›è¿™äº›å¤„ç†åçš„å…ƒç´ ç»„æˆçš„æ–°åºåˆ—</li><li>mapå‡½æ•° + åˆå¹¶å‡½æ•° = flatMapå‡½æ•°</li></ul><blockquote><p>flatMapå‡½æ•°åœ¨å®é™…åº”ç”¨ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ï¼Œç½‘ç»œè¯·æ±‚å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¯·æ±‚è¿‡ç¨‹è¿›è¡Œç›‘å¬ï¼Œç„¶åå¤„ç†é”™è¯¯ã€‚åªè¦ç»§ç»­ä»–è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—</p></blockquote><h1 id="â‘¨UIBindingObserver"><a href="#â‘¨UIBindingObserver" class="headerlink" title="â‘¨UIBindingObserver"></a>â‘¨UIBindingObserver</h1><blockquote><p>UIBindingObserverè¿™ä¸ªä¸œè¥¿å¾ˆæœ‰ç”¨çš„ï¼Œåˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ç›‘å¬è€…ï¼Œæœ‰æ—¶å€™RxCocoa(RxSwiftä¸­å¯¹UIKitçš„ä¸€ä¸ªæ‰©å±•åº“)ç»™çš„æ‰©å±•ä¸å¤Ÿæˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªUITextFieldæœ‰ä¸ªisEnabledå±æ€§ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªisEnabledå˜ä¸ºä¸€ä¸ªobserverï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åš</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">extension Reactive where Base: UITextField &#123;</div><div class="line">    var inputEnabled: UIBindingObserver&lt;Base, Result&gt; &#123;</div><div class="line">        return UIBindingObserver(UIElement: base) &#123; textFiled, result in</div><div class="line">            textFiled.isEnabled = result.isValid</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>UIBindingObserveræ˜¯ä¸€ä¸ªç±»ï¼Œä»–çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå…ƒç´ æœ¬èº«ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œé—­åŒ…å‚æ•°æ˜¯å…ƒç´ æœ¬èº«ï¼Œè¿˜æœ‰ä»–çš„ä¸€ä¸ªå±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">init</span>(<span class="type">UIElement</span>: <span class="type">UIElementType</span>, binding: @escaping (<span class="type">UIElementType</span>, <span class="type">Value</span>) -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div></pre></td></tr></table></figure><blockquote><p>è‡ªå®šä¹‰äº†ä¸€ä¸ªinputEnabledå…³è”äº†UITextFieldçš„isEnabledå±æ€§</p></blockquote><p><a href="http://blog.csdn.net/sdefzhpk/article/details/73322040" target="_blank" rel="external">èµ„æ–™</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-Editor-3Dåœºæ™¯ç¼–è¾‘å™¨</title>
      <link href="/2018/03/22/SceneKit/Grammar/Editor-3D%E5%9C%BA%E6%99%AF%E7%BC%96%E8%BE%91%E5%99%A8/SceneKit-%20Base/"/>
      <content type="html"><![CDATA[<h1 id="SceneKit-Editor"><a href="#SceneKit-Editor" class="headerlink" title="SceneKit-Editor"></a>SceneKit-Editor</h1><blockquote><p>Xcodeè‡ªå¸¦äº†ä¸€ä¸ªç®€å•å¥½ç”¨çš„3Dåœºæ™¯ç¼–è¾‘å™¨,å½“é€‰ä¸­æˆ–åˆ›å»ºä¸€ä¸ªxxx.scnæ–‡ä»¶æ—¶å°±ä¼šå‡ºç°</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/3D%E5%9C%BA%E6%99%AF%E7%BC%96%E8%BE%91%E5%99%A8.png" alt=""></p><blockquote><p>1.Scene graph(åœºæ™¯èŠ‚ç‚¹æ ‘)</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">åœºæ™¯ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¾ç¤ºåœ¨è¿™é‡Œ,å¯ä»¥æ‹–æ‹½æ ‘çŠ¶ç»“æ„çš„å…ƒç´ æ¥æ§åˆ¶çˆ¶å­å…³ç³»</div></pre></td></tr></table></figure><blockquote><p>2.Design area(è®¾è®¡åŒº)</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æ•ˆæœå‘ˆç°åŒº,å¯ä»¥æ‹–æ‹½,æ—‹è½¬å’Œç¼©æ”¾,ä¹Ÿå¯ä»¥ä»å¯¹è±¡åº“ä¸­æ‹–æ”¾åŸå§‹èŠ‚ç‚¹åˆ°è¿™é‡Œ</div></pre></td></tr></table></figure><blockquote><p>3.Inspectors(æ£€æŸ¥å™¨)</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">å’Œåœºæ™¯ç±»å‹æœ‰å…³çš„æ£€æŸ¥å™¨,æ£€æŸ¥å™¨ä¸­çš„å†…å®¹å°†æ ¹æ®ä½ é€‰ä¸­çš„èŠ‚ç‚¹ä¸åŒè€Œæ”¹å˜,æœ€ä¸Šæ–¹æ¨ªæ”¾çš„æœ‰äº”ä¸ªæ–°çš„æ£€æŸ¥å™¨</div></pre></td></tr></table></figure><table><thead><tr><th>æ£€æŸ¥å™¨</th><th></th></tr></thead><tbody><tr><td>Node Inspector(èŠ‚ç‚¹æ£€æŸ¥å™¨)</td><td>SCNNodeå¯¹è±¡æœ‰å…³çš„å±æ€§</td></tr><tr><td>Attributes Inspector(å±æ€§æ£€æŸ¥å™¨):å’Œé€‰ä¸­èŠ‚ç‚¹ç±»å‹æœ‰å¤´çš„æ£€æŸ¥å™¨,å¦‚æœé€‰ä¸­çš„æ˜¯Box,å¯ä»¥è®¾ç½®é•¿å®½é«˜,å¦‚æœæ˜¯Sphere,å¯ä»¥è®¾ç½®åŠå¾„</td></tr><tr><td>Material Inspector(ææ–™æ£€æŸ¥å™¨):è®¾ç½®èŠ‚ç‚¹çš„é¢œè‰²å’Œçº¹ç†</td></tr><tr><td>Physics Inspector(ç‰©ç†æ£€æŸ¥å™¨):è®¾ç½®ç‰©ç†è¡Œä¸ºçš„é…ç½®</td></tr><tr><td>Scene Inspector(åœºæ™¯æ£€æŸ¥å™¨):åœºæ™¯ä¸­æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰çš„å…¨å±€æ£€æŸ¥å™¨,å¯ä»¥è®¾ç½®åœºæ™¯ä¸­çš„ä¸€äº›å±æ€§</td></tr></tbody></table><blockquote><p>4.Properties(å±æ€§)</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æ£€æŸ¥å™¨çš„å†…éƒ¨å±æ€§</div></pre></td></tr></table></figure><blockquote><p>5.Object Library(å¯¹è±¡åº“)</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æ‰€æœ‰å¯ç”¨çš„SCNNodeå¯¹è±¡,ä»ç³»ç»Ÿè‡ªå¸¦åˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„èŠ‚ç‚¹éƒ½æœ‰.SCNActionå¯¹è±¡ä¹Ÿåœ¨è¿™é‡Œ</div></pre></td></tr></table></figure><blockquote><p>6.Toolbar(å·¥å…·æ¡):</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">åŒ…å«ä¸€äº›é‡è¦å…ƒç´ ,ä»å·¦åˆ°å³,æŒ‰é’®åŠŸèƒ½</div></pre></td></tr></table></figure><table><thead><tr><th>æŒ‰é’®åŠŸèƒ½</th><th></th></tr></thead><tbody><tr><td>Add/delete node(æ·»åŠ /åˆ é™¤èŠ‚ç‚¹)</td><td>é€‰ä¸­èŠ‚ç‚¹æ ‘ä¸­çš„èŠ‚ç‚¹,æ·»åŠ ä¸€ä¸ªå­å…ƒç´ æˆ–è€…åˆ é™¤é€‰ä¸­èŠ‚ç‚¹</td></tr><tr><td>Search filter(æœç´¢è¿‡æ»¤å™¨)</td><td>å¤æ‚åœºæ™¯ä¸‹ç”¨æ¥å¿«é€Ÿæœç´¢</td></tr><tr><td>Expand/collapse scene graph area(å¯æ”¶ç¼©åœºæ™¯å›¾è¡¨åŒº)</td><td>æ‰“å¼€/å…³é—­å·¦ä¾§çš„åœºæ™¯å›¾è¡¨åŒº</td></tr><tr><td>Coordinate system(åæ ‡ç³»)</td><td>é€‰æ‹©ä¸€ä¸ªæ´»è·ƒåæ ‡ç³»æ¥ç¼–è¾‘ä½ çš„èŠ‚ç‚¹,å¯é€‰local,parent,worldæˆ–è€…screen</td></tr><tr><td>View/camera select(è§†ç‚¹/ç›¸æœºé€‰æ‹©)</td><td>å½“æœ‰å¤šä¸ªç›¸æœºæ—¶,å¯ä»¥é€‰æ‹©ç›¸æœºåˆ—è¡¨ä¸­ä»»ä¸€ä¸ªæ´»è·ƒè§†ç‚¹</td></tr><tr><td>Play/stop scene(æ’­æ”¾/æš‚åœåœºæ™¯)</td><td>æ’­æ”¾/æš‚åœç‰©ç†å’ŒåŠ¨ä½œæ¨¡æ‹Ÿ</td></tr><tr><td>Expand/collapse actions(æ”¶ç¼©åŠ¨ä½œåŒº)</td><td>æ‰“å¼€/å…³é—­ä¸‹é¢çš„åŠ¨ä½œåŒº</td></tr></tbody></table><blockquote><p>7.Actions area(åŠ¨ä½œåŒº)</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">ç»™èŠ‚ç‚¹æ·»åŠ åŠ¨ä½œæ—¶,å¯ä»¥ä»å¯¹è±¡åº“ä¸­æ‹–æ”¾ä¸€ä¸ªactionåˆ°è¿™é‡Œ,å°±ä¼šå½±å“è¢«é€‰ä¸­çš„èŠ‚ç‚¹</div></pre></td></tr></table></figure><h1 id="Basic-scene-navigationåŸºç¡€åœºæ™¯å¯¼èˆª"><a href="#Basic-scene-navigationåŸºç¡€åœºæ™¯å¯¼èˆª" class="headerlink" title="Basic scene navigationåŸºç¡€åœºæ™¯å¯¼èˆª"></a>Basic scene navigationåŸºç¡€åœºæ™¯å¯¼èˆª</h1><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>Pan(æ‹–åŠ¨)</td><td>Magicé¼ æ ‡ç›´æ¥åœ¨æ»šè½®å¤„ä¸Šä¸‹å·¦å³ç§»åŠ¨,è§¦æ‘¸æ¿ç”¨åŒæŒ‡ç§»åŠ¨,æ™®é€šé¼ æ ‡æŒ‰ä½optioné”®æ‹–åŠ¨</td></tr><tr><td>Rotate(æ—‹è½¬)</td><td>æŒ‰ä¸‹å·¦é”®å¹¶ç§»åŠ¨é¼ æ ‡</td></tr><tr><td>Zoom(ç¼©æ”¾)</td><td>æŒ‰ä½optioné”®ä½¿ç”¨æ»šè½®ç¼©æ”¾,è§¦æ‘¸æ¿ç”¨æåˆæ‰‹åŠ¿</td></tr><tr><td>Multi-selection(å¤šé€‰)</td><td>æŒ‰ä½Commandå•å‡»å¤šé€‰</td></tr></tbody></table><h1 id="Basic-node-manipulationåŸºç¡€èŠ‚ç‚¹æ“ä½œ"><a href="#Basic-node-manipulationåŸºç¡€èŠ‚ç‚¹æ“ä½œ" class="headerlink" title="Basic node manipulationåŸºç¡€èŠ‚ç‚¹æ“ä½œ"></a>Basic node manipulationåŸºç¡€èŠ‚ç‚¹æ“ä½œ</h1><blockquote><p>ä»¥BoxèŠ‚ç‚¹ä¸ºä¾‹</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/%E4%BB%A5Box%E8%8A%82%E7%82%B9%E4%B8%BA%E4%BE%8B01.png" alt=""></p><p><img src="http://ozr735s7e.bkt.clouddn.com/%E4%BB%A5Box%E8%8A%82%E7%82%B9%E4%B8%BA%E4%BE%8B02.png" alt=""></p><p>Positioning(å®šä½):æ‹–åŠ¨é«˜äº®çš„åæ ‡è½´,å¯ä»¥åœ¨åæ ‡è½´æ–¹å‘ä¸Šç§»åŠ¨.æ‹–åŠ¨ç°è‰²æ‰‡å½¢åŒº,å¯ä»¥æ²¿æ‰€æœ‰å¹³é¢ç§»åŠ¨<br>Rotatation(æ—‹è½¬):æ‹–åŠ¨é«˜äº®çš„åæ ‡è½´æ›²çº¿,å¯ä»¥æ—‹è½¬èŠ‚ç‚¹</p><ul><li>é™„åŠ æ“ä½œ:ç§»åŠ¨èŠ‚ç‚¹æ—¶,æŒ‰ä½Commandé”®,å¯æ”¾å¤§å¹¶ä»”ç»†æ£€æŸ¥ä½ç½®.</li><li>æ—‹è½¬èŠ‚ç‚¹æ—¶,æŒ‰ä½Commandé”®,å¯æ”¾å¤§å¹¶ä»”ç»†æ£€æŸ¥è§’åº¦.</li><li>æŒ‰ä½Optioné”®å¹¶æ‹–åŠ¨,å¯å¤åˆ¶ä¸€ä¸ªå…±äº«å±æ€§çš„å‰¯æœ¬,å°±æ˜¯è¯´å¯¹åŸæœ¬åšçš„å±æ€§æ›´æ”¹æ“ä½œå°†å½±å“å‰¯æœ¬.å¦‚æœæƒ³å–æ¶ˆå…±äº«å±æ€§,å–æ¶ˆæŒ‰é’®åœ¨å±æ€§æ£€æŸ¥å™¨ä¸­å‡ ä½•ä½“å…±äº«åˆ†ç±»ä¸‹é¢.</li></ul><h1 id="xxx-scnæ–‡ä»¶çš„åŠ è½½"><a href="#xxx-scnæ–‡ä»¶çš„åŠ è½½" class="headerlink" title="xxx.scnæ–‡ä»¶çš„åŠ è½½"></a>xxx.scnæ–‡ä»¶çš„åŠ è½½</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  scnScene = <span class="type">SCNScene</span>(named: <span class="string">"B.scnassets/Scenes/Game.scn"</span>)</div><div class="line">scnView.scene = scnScene</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Editor </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
            <tag> Editor </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Protocolåè®®-åŸºç¡€</title>
      <link href="/2018/03/21/Swift/Grammar/Protocol%E5%8D%8F%E8%AE%AE-Base/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/flyingkuikui/article/details/77717480" target="_blank" rel="external">ç›¸å…³èµ„æ–™1</a><br><a href="http://blog.csdn.net/u010586842/article/details/47971853" target="_blank" rel="external">ç›¸å…³èµ„æ–™2</a><br><a href="http://blog.csdn.net/u010586842/article/details/47971853" target="_blank" rel="external">ç›¸å…³èµ„æ–™3</a></p><p>1.<a href="#Protocol">Protocol</a><br>   1.1<a href="#Protocolè¯­æ³•">Protocolè¯­æ³•</a><br>      1.2<a href="#æ ¼å¼">æ ¼å¼</a><br>      1.3<a href="#å¯¹å±æ€§çš„ä½¿ç”¨">å¯¹å±æ€§çš„ä½¿ç”¨</a><br>      1.4<a href="#æ–¹æ³•è¦æ±‚">æ–¹æ³•è¦æ±‚</a><br>      1.5<a href="#Mutatingæ–¹æ³•è¦æ±‚">Mutatingæ–¹æ³•è¦æ±‚</a><br>      1.6<a href="#ä½¿ç”¨åè®®è§„èŒƒæ„é€ å‡½æ•°">ä½¿ç”¨åè®®è§„èŒƒæ„é€ å‡½æ•°</a><br>      1.7<a href="#åè®®ç±»å‹">åè®®ç±»å‹</a><br>2.<a href="#å§”æ‰˜/ä»£ç†è®¾è®¡æ¨¡å¼">å§”æ‰˜/ä»£ç†è®¾è®¡æ¨¡å¼</a><br>3.<a href="#åè®®çš„ä½¿ç”¨">åè®®çš„ä½¿ç”¨</a><br>  3.1<a href="#åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜">åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜</a><br>  3.2<a href="#é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜">é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜</a><br>  3.3<a href="#é›†åˆä¸­çš„åè®®ç±»å‹">é›†åˆä¸­çš„åè®®ç±»å‹</a><br>  3.4<a href="#ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®">ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®</a><br>4.<a href="#åè®®çš„ç»§æ‰¿">åè®®çš„ç»§æ‰¿</a><br>  4.1<a href="#protocolCompositionåè®®çš„åˆæˆ">protocolCompositionåè®®çš„åˆæˆ</a><br>  4.2<a href="#æ£€éªŒåè®®çš„ä¸€è‡´æ€§">æ£€éªŒåè®®çš„ä¸€è‡´æ€§</a><br>   4.3<a href="#å¯é€‰åè®®è¦æ±‚">å¯é€‰åè®®è¦æ±‚</a></p><h1 id="Protocol"><a href="#Protocol" class="headerlink" title="Protocol"></a>Protocol</h1><p><span id="Protocol"></span></p><ul><li>åè®®ï¼šä»£ç†è®¾è®¡æ¨¡å¼</li><li>åè®®èƒ½å¤Ÿè¢« ç±»ã€æšä¸¾ã€ç»“æ„ä½“ å®ç°ï¼Œæ»¡è¶³åè®®è¦æ±‚çš„ç±»ã€æšä¸¾ã€ç»“æ„ä½“è¢«ç§°ä¸ºåè®®çš„æ˜¯å®ç°è€…</li><li>å®˜æ–¹çš„å®šä¹‰ï¼šåè®®å®šä¹‰äº†ä¸€ä¸ªè“å›¾ ï¼Œ è§„å®šäº†ç”¨æ¥å®ç°æŸä¸€ç‰¹å®šå·¥ä½œæˆ–è€…åŠŸèƒ½æ‰€å¿…é¡»çš„æ–¹æ³•å’Œå±æ€§ï¼Œç±»ã€ç»“æ„ä½“ã€æˆ–è€…æšä¸¾ç±»å‹éƒ½å¯ä»¥éµå¾ªåè®®ï¼Œ å¹¶æä¾›å…·ä½“å®ç°æ¥å®Œæˆåè®®å®šä¹‰çš„æ–¹æ³•å’ŒåŠŸèƒ½ ã€‚ ä»»æ„èƒ½å¤Ÿæ»¡è¶³åè®®è¦æ±‚çš„ç±»å‹éƒ½è¢«æˆä¸ºéµå¾ªäº†è¿™ä¸ªåè®®</li></ul><h1 id="Protocolè¯­æ³•"><a href="#Protocolè¯­æ³•" class="headerlink" title="Protocolè¯­æ³•"></a>Protocolè¯­æ³•</h1><p><span id="Protocolè¯­æ³•"></span></p><h2 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h2><p><span id="æ ¼å¼"></span></p><ul><li>åœ¨ç±»ã€æšä¸¾ã€ç»“æ„ä½“çš„åç§°ååŠ ä¸Šåè®®åç§°ï¼Œä¸­é—´ä»¥å†’å·(:)åˆ†éš”ï¼Œå³å¯å®ç°åè®®ï¼Œå½“å®ç°å¤šä¸ªåè®®æ—¶ï¼Œå¤šä¸ªåè®®é—´ç”¨é€—å·(,)éš”å¼€</li><li>ç±»å«æœ‰çˆ¶ç±»,åˆ™åº”å½“å°†çˆ¶ç±»æ”¾åœ¨æ‰€æœ‰çš„åè®®ä¹‹å‰</li></ul><blockquote><p>åè®®å®ç°ä¹¦å†™æ ¼å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> ç±»å : åè®®1 , åè®®<span class="title">n</span></span>&#123;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> ç±»å:çˆ¶ç±»,åè®®1,åè®®<span class="title">n</span></span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å¯¹å±æ€§çš„ä½¿ç”¨"><a href="#å¯¹å±æ€§çš„ä½¿ç”¨" class="headerlink" title="å¯¹å±æ€§çš„ä½¿ç”¨"></a>å¯¹å±æ€§çš„ä½¿ç”¨</h2><p><span id="å¯¹å±æ€§çš„ä½¿ç”¨"></span></p><ul><li>æ— è®ºå£°æ˜çš„å±æ€§ä¸ºç±»å±æ€§è¿˜æ˜¯å¯¹è±¡å±æ€§ï¼Œå‡éœ€è¦åœ¨å±æ€§å£°æ˜ååŠ ä¸Š{get}æˆ–{get set}ï¼Œä»£è¡¨å±æ€§åªè¯»æˆ–è¯»å†™</li><li>å±æ€§è¢«å£°æ˜ä¸º{get}ï¼Œä¸ºå¯è¯»çš„å±æ€§å®ç°{setter}æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</li><li>åœ¨å£°æ˜ç±»å±æ€§æ—¶ï¼Œéœ€è¦åœ¨å£°æ˜çš„å±æ€§å‰æ·»åŠ å…³é”®å­—staticã€‚</li><li>åœ¨å®ç°è€…å†…ï¼Œå¿…é¡»å®ç°åè®®çš„ç±»å±æ€§çš„getteræ–¹æ³•ï¼Œå¦‚æœåè®®å†…å®šä¹‰çš„ç±»å±æ€§æ˜¯è¯»å†™çš„ï¼Œåˆ™è¿˜å¿…é¡»å®ç°setteræ–¹æ³•</li><li>åœ¨åè®®ä¸­ä½¿ç”¨ç±»å‹å±æ€§ æ€»æ˜¯ä½¿ç”¨static</li></ul><blockquote><p>åè®®1</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">oneProtocol</span></span>&#123;</div><div class="line">    <span class="comment">// å®šä¹‰å˜é‡ï¼Œå¿…é¡»åœ¨å±æ€§å£°æ˜åæ·»åŠ &#123;get&#125;æˆ–è€…&#123;get set&#125;</span></div><div class="line">    <span class="keyword">var</span> argumentOne:<span class="type">Int</span>&#123;<span class="keyword">get</span>&#125; <span class="comment">// åªè¯»</span></div><div class="line">    <span class="keyword">var</span> argumentTwo:<span class="type">Int</span>&#123;<span class="keyword">get</span> <span class="keyword">set</span>&#125; <span class="comment">// è¯»å†™</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> argumentClass:<span class="type">Int</span>&#123;<span class="keyword">get</span>&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç±»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:<span class="title">oneProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> argumentOne: <span class="type">Int</span></div><div class="line">    <span class="keyword">var</span> argumentTwo: <span class="type">Int</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> argumentClass: <span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">get</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">30</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>(argumentOne:<span class="type">Int</span>,argumentTwo:<span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.argumentOne = argumentOne</div><div class="line">        <span class="keyword">self</span>.argumentTwo = argumentTwo</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> per = <span class="type">Person</span>(argumentOne: <span class="number">90</span>, argumentTwo: <span class="number">1</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"\(per.argumentOne)"</span>) <span class="comment">// 90</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"\(Person.argumentClass)"</span>) <span class="comment">// 30</span></div></pre></td></tr></table></figure><blockquote><p>åè®®2</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Pro1</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> name:<span class="type">String</span>&#123;<span class="keyword">set</span> <span class="keyword">get</span>&#125;  <span class="comment">//å¯è¯»å¯å†™</span></div><div class="line">    <span class="keyword">var</span> age:<span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;  <span class="comment">//åªè¯»å±æ€§</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> status:<span class="type">Int</span> &#123;<span class="keyword">set</span> <span class="keyword">get</span>&#125;   </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>éµå¾ªåè®®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Struct1</span> : <span class="title">Pro1</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">var</span> _name = <span class="string">""</span></div><div class="line">    <span class="keyword">var</span> name:<span class="type">String</span>   &#123;</div><div class="line">        <span class="keyword">set</span>&#123;</div><div class="line">           _name = newValue</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">get</span>&#123;</div><div class="line">            <span class="keyword">return</span> _name</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> age = <span class="number">18</span> <span class="comment">//å¯ä»¥å£°æ˜ä¸ºå¯è¯»å¯å†™çš„</span></div><div class="line">    <span class="keyword">static</span>  <span class="keyword">var</span> status = <span class="number">1</span>  <span class="comment">//ç±»å‹æ–¹æ³•ã€‚</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Class1</span>: <span class="title">Pro1</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> name = <span class="string">"class"</span></div><div class="line">    <span class="keyword">var</span> age:<span class="type">Int</span>&#123; <span class="keyword">return</span>  <span class="number">19</span> &#125; <span class="comment">//ä¹Ÿå¯ä»¥æ˜¯åªè¯»</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> status = <span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ–¹æ³•è¦æ±‚"><a href="#æ–¹æ³•è¦æ±‚" class="headerlink" title="æ–¹æ³•è¦æ±‚"></a>æ–¹æ³•è¦æ±‚</h2><p><span id="æ–¹æ³•è¦æ±‚"></span></p><ul><li>åè®®å†…å£°æ˜çš„æ–¹æ³•ä¸éœ€è¦åè®®è¿›è¡Œæ–¹æ³•çš„å®ç°(OCå·®ä¸å¤š)</li><li>ç±»æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨å…³é”®å­— <strong>static</strong></li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">funcProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">()</span></span></div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">sayBad</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:<span class="title">funcProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Hello"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">sayBad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Bad"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="Mutatingæ–¹æ³•è¦æ±‚"><a href="#Mutatingæ–¹æ³•è¦æ±‚" class="headerlink" title="Mutatingæ–¹æ³•è¦æ±‚"></a>Mutatingæ–¹æ³•è¦æ±‚</h2><p><span id="Mutatingæ–¹æ³•è¦æ±‚"></span></p><ul><li>èƒ½åœ¨æ–¹æ³•æˆ–è€…å‡½æ•°å†…éƒ¨æ”¹å˜å­—æ®µçš„æ–¹æ³•ç§°ä¸ºMutatingæ–¹æ³•ã€‚</li><li>mutatingå…³é”®å­—è¡¨ç¤ºè¯¥å‡½æ•°å…è®¸æ”¹å˜è¯¥ç¤ºä¾‹å’Œå…¶å±æ€§çš„ç±»å‹ã€‚</li><li>ä¸€èˆ¬mutatingç”¨åœ¨å€¼æ‹·è´çš„åœ°æ–¹ï¼Œä¾‹å¦‚ï¼šç»“æ„ä½“ã€æšä¸¾ã€‚å¯¹äºç±»æˆ–è€…ç±»ç»‘å®šåè®®ä¸­çš„æ–¹æ³•æ— æ•ˆ</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Togglable</span></span>&#123;</div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">toggle</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">OnOffSwitch</span>:<span class="title">Togglable</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">On</span>,<span class="type">Off</span></div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">toggle</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Off</span>:</div><div class="line">            <span class="keyword">self</span> = .<span class="type">On</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">On</span>:</div><div class="line">            <span class="keyword">self</span> = .<span class="type">Off</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> light = <span class="type">OnOffSwitch</span>.<span class="type">Off</span> <span class="comment">//Off</span></div><div class="line">light.toggle()  <span class="comment">// On</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OnOFF</span>:<span class="title">Togglable</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> one:<span class="type">Int</span></div><div class="line">    <span class="keyword">var</span> two:<span class="type">Int</span></div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">toggle</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.one &gt; <span class="number">10</span> &#123;</div><div class="line">            <span class="keyword">self</span>.two = <span class="number">30</span></div><div class="line"></div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">self</span>.two = <span class="number">20</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> <span class="type">LIGHT</span> = <span class="type">OnOFF</span>(one: <span class="number">2</span>, two: <span class="number">3</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"\(LIGHT.two)"</span>) <span class="comment">// 3</span></div><div class="line"><span class="type">LIGHT</span>.toggle()</div><div class="line"><span class="built_in">print</span>(<span class="string">"\(LIGHT.two)"</span>) <span class="comment">// 20</span></div></pre></td></tr></table></figure><h2 id="ä½¿ç”¨åè®®è§„èŒƒæ„é€ å‡½æ•°"><a href="#ä½¿ç”¨åè®®è§„èŒƒæ„é€ å‡½æ•°" class="headerlink" title="ä½¿ç”¨åè®®è§„èŒƒæ„é€ å‡½æ•°"></a>ä½¿ç”¨åè®®è§„èŒƒæ„é€ å‡½æ•°</h2><p><span id="ä½¿ç”¨åè®®è§„èŒƒæ„é€ å‡½æ•°"></span></p><ul><li>åè®®å¯ä»¥è§„å®šå¿…é¡»å®ç°æŒ‡å®šçš„æ„é€ å‡½æ•°ï¼Œæ¯”å¦‚ä¸€äº›ç±»ä¸­å¿…é¡»è¦æ±‚å®ç°initæ„é€ å‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥åˆ¶é€ ä¸€ä¸ªåè®®ï¼Œè®©å®ç°åè®®çš„ç±»å¿…é¡»å®ç°è¯¥æ„é€ å‡½æ•°ã€‚</li><li>å®ç°æ„é€ åè®®çš„ç±»ï¼Œå¿…é¡»ä½¿ç”¨å…³é”®å­—required</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TwoProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">init</span>(twoArgument:<span class="type">Int</span>)</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">two</span>:<span class="title">TwoProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(twoArgument: <span class="type">Int</span>) &#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>çˆ¶ç±»ä¸­å­˜åœ¨ä¸åè®®å†…ç›¸åŒçš„æ„é€ æ–¹æ³•ï¼Œåˆ™å­ç±»åœ¨å®ç°æ„é€ æ–¹æ³•æ—¶ï¼Œéœ€è¦åŒæ—¶ä½¿ç”¨å…³é”®å­—requiredå’Œoverride</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TwoProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">init</span>()</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TwoSuperClass</span></span>&#123;</div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Two</span>:<span class="title">TwoSuperClass</span>,<span class="title">TwoProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">required</span> <span class="keyword">override</span> <span class="keyword">init</span>() &#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>ä¸èƒ½åœ¨finalç±»ä¸­å®ç°æ„é€ å‡½æ•°åè®®ï¼Œå› ä¸ºfinalç±»æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ï¼Œå› æ­¤ä¸èƒ½å®ç°æ„é€ å‡½æ•°åè®®</li><li>çˆ¶ç±»å†…è¢«finalä¿®é¥°çš„æ–¹æ³•ä¸åè®®å†…ç›¸åŒï¼Œåˆ™è¯¥æ–¹æ³•ä¸èƒ½è¢«éµå¾ªåè®®çš„å­ç±»å®ç°</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">protocol</span> <span class="title">TwoProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TwoSuperClass</span></span>&#123;</div><div class="line">    <span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Super Say Hello"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Two</span>:<span class="title">TwoSuperClass</span>,<span class="title">TwoProtocol</span></span>&#123;</div><div class="line">    <span class="comment">// æ— æ³•å®ç°sayæ–¹æ³•</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="åè®®ç±»å‹"><a href="#åè®®ç±»å‹" class="headerlink" title="åè®®ç±»å‹"></a>åè®®ç±»å‹</h2><p><span id="åè®®ç±»å‹"></span></p><ul><li>åè®®æœ¬èº«ä¸å®ç°ä»»ä½•åŠŸèƒ½ï¼Œä½†æ˜¯å¯ä»¥å°†å®ƒå½“ä½œç±»å‹æ¥ä½¿ç”¨ã€‚</li><li>åè®®ä½œä¸ºç±»å‹ä½¿ç”¨çš„åœºæ™¯ï¼š<br>  â’ˆä½œä¸ºå‡½æ•°ã€æ–¹æ³•æˆ–æ„é€ å™¨ä¸­çš„å‚æ•°ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹ã€‚<br>  â’‰ä½œä¸ºå¸¸é‡ã€å˜é‡ã€å±æ€§çš„ç±»å‹ã€‚<br>  â’Šä½œä¸ºæ•°ç»„ã€å­—å…¸æˆ–å…¶å®ƒå®¹å™¨ä¸­çš„å…ƒç´ ç±»å‹</li></ul><h1 id="å§”æ‰˜-ä»£ç†è®¾è®¡æ¨¡å¼"><a href="#å§”æ‰˜-ä»£ç†è®¾è®¡æ¨¡å¼" class="headerlink" title="å§”æ‰˜/ä»£ç†è®¾è®¡æ¨¡å¼"></a>å§”æ‰˜/ä»£ç†è®¾è®¡æ¨¡å¼</h1><p><span id="å§”æ‰˜/ä»£ç†è®¾è®¡æ¨¡å¼"></span></p><ul><li>å§”æ‰˜/ä»£ç†æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ç±»æˆ–è€…ç»“æ„ä½“å°†ä¸€äº›éœ€è¦å®ƒä»¬è´Ÿè´£çš„åŠŸèƒ½äº¤ç”±ç»™å…¶ä»–ç±»å‹ã€‚</li><li>å§”æ‰˜æ¨¡å¼çš„å®ç°ï¼šå®šä¹‰åè®®æ¥å°è£…é‚£äº›éœ€è¦è¢«å§”æ‰˜çš„å‡½æ•°å’Œæ–¹æ³•ï¼Œä½¿å®ç°è€…æ‹¥æœ‰æ•°æ®æºçš„ç±»å‹</li></ul><h1 id="åè®®çš„ä½¿ç”¨"><a href="#åè®®çš„ä½¿ç”¨" class="headerlink" title="åè®®çš„ä½¿ç”¨"></a>åè®®çš„ä½¿ç”¨</h1><p><span id="åè®®çš„ä½¿ç”¨"></span></p><h2 id="åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜"><a href="#åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜" class="headerlink" title="åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜"></a>åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜</h2><p><span id="åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜"></span></p><ul><li>å½“æ— æ³•ä¿®æ”¹åŸä»£ç æ—¶ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•æ¥è¡¥å……å·²ç»å­˜åœ¨çš„ç±»å‹ã€‚</li><li>æ‰©å±•å¯ä»¥ä¸ºå·²ç»å­˜åœ¨çš„ç±»å‹æ·»åŠ å±æ€§ã€æ–¹æ³•ã€ä¸‹æ ‡ã€åè®®ç­‰æˆå‘˜ã€‚</li><li>é€šè¿‡æ‰©å±•ä¸ºå·²å­˜åœ¨çš„ç±»å‹å®ç°åè®®æ—¶ï¼Œè¯¥ç±»å‹çš„æ‰€æœ‰å®ä¾‹ä¹Ÿä¼šéšä¹‹æ·»åŠ åè®®ä¸­çš„æ–¹æ³•</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TextProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printSomeMessage</span><span class="params">(message:String)</span></span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dice</span></span>&#123;</div><div class="line">&#125;]</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dice</span>:<span class="title">TextProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printSomeMessage</span><span class="params">(message: String)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(message)"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> dic = <span class="type">Dice</span>()</div><div class="line">dic.printSomeMessage(message: <span class="string">"hello"</span>);</div></pre></td></tr></table></figure><h2 id="é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜"><a href="#é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜" class="headerlink" title="é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜"></a>é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜</h2><p><span id="é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜"></span></p><ul><li>å½“ä¸€ä¸ªç±»å‹å·²ç»å®ç°äº†åè®®ä¸­çš„æ‰€æœ‰è¦æ±‚ï¼Œå´æ²¡æœ‰å£°æ˜æ—¶ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•è¡¥å……åè®®çš„å£°æ˜ã€‚</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TextProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printSomeMessage</span><span class="params">(message:String)</span></span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Hamster</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printSomeMessage</span><span class="params">(message: String)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(message)"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Hamster</span>:<span class="title">TextProtocol</span></span>&#123;</div><div class="line">   <span class="comment">// æ­¤æ—¶ï¼ŒHamsterçš„å®ä¾‹ä¹Ÿå¯ä»¥ä½œä¸ºTextProtocolç±»å‹ä½¿ç”¨</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> hamster = <span class="type">Hamster</span>()</div></pre></td></tr></table></figure><h2 id="é›†åˆä¸­çš„åè®®ç±»å‹"><a href="#é›†åˆä¸­çš„åè®®ç±»å‹" class="headerlink" title="é›†åˆä¸­çš„åè®®ç±»å‹"></a>é›†åˆä¸­çš„åè®®ç±»å‹</h2><p><span id="é›†åˆä¸­çš„åè®®ç±»å‹"></span></p><ul><li>åè®®ä¹Ÿå¯ä»¥ä½œä¸ºç±»å‹åœ¨é›†åˆä¸­è¢«ä½¿ç”¨ï¼Œè¡¨ç¤ºé›†åˆä¸­çš„å…ƒç´ å‡ä¸ºåè®®ç±»å‹</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> things:[<span class="type">TextProtocol</span>] = [dic,hamster]</div><div class="line"><span class="keyword">for</span> thing <span class="keyword">in</span> things &#123;</div><div class="line">    thing.printSomeMessage(message: <span class="string">"Hello Word"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// ç”±äºthingè¢«å½“ä½œæ˜¯TextProtocolç±»å‹ï¼Œæ•…éƒ½èƒ½è°ƒç”¨printSomeMessageæ–¹æ³•</span></div></pre></td></tr></table></figure><h2 id="ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®"><a href="#ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®" class="headerlink" title="ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®"></a>ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®</h2><p><span id="ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®"></span></p><ul><li>é€šè¿‡åœ¨åè®®ä¸­å¢åŠ classå…³é”®å­—ï¼Œå¯ä»¥å®ç°åè®®åªè®©ç±»æ¥å®ç°ã€‚</li><li>å¦‚æœè¯¥åè®®åŒæ—¶ç»§æ‰¿å…¶å®ƒåè®®ï¼Œåˆ™éœ€è¦åœ¨classåæ·»åŠ ï¼Œå¹¶ä¸”ç”¨é€—å·éš”å¼€</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">protocol</span> <span class="title">SomeOnlyClassProtocol</span>:<span class="title">class</span></span>&#123;</div><div class="line">&#125;</div><div class="line"><span class="comment">// åè®®SomeOnlyClassProtocolå®ç°è€…åªèƒ½æ˜¯ç±»</span></div></pre></td></tr></table></figure><h1 id="åè®®çš„ç»§æ‰¿"><a href="#åè®®çš„ç»§æ‰¿" class="headerlink" title="åè®®çš„ç»§æ‰¿"></a>åè®®çš„ç»§æ‰¿</h1><p><span id="åè®®çš„ç»§æ‰¿"></span></p><ul><li>åè®®å¯ä»¥ç»§æ‰¿ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…¶ä»–åè®®ï¼Œå¤šä¸ªåè®®é—´ç”¨é€—å·éš”å¼€ã€‚</li><li>å½“ç±»æˆ–è€…æšä¸¾ç­‰éµå¾ªåè®®æ—¶ï¼Œä¸ä»…ä»…è¦å®ç°å½“å‰åè®®çš„æ–¹æ³•ï¼Œä¹Ÿéœ€è¦å®ç°æ‰€éµå¾ªåè®®ç»§æ‰¿çš„å…¶ä»–åè®®</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">OneProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sayOne</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="comment">// åè®®çš„ç»§æ‰¿</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TwoProtocol</span>:<span class="title">OneProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sayTwo</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:<span class="title">TwoProtocol</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sayOne</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="comment">// åè®®OneProtocolçš„æ–¹æ³•</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sayTwo</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="comment">// åè®®TwoProtocolçš„æ–¹æ³•</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="protocolCompositionåè®®çš„åˆæˆ"><a href="#protocolCompositionåè®®çš„åˆæˆ" class="headerlink" title="protocolCompositionåè®®çš„åˆæˆ"></a>protocolCompositionåè®®çš„åˆæˆ</h2><p><span id="protocolCompositionåè®®çš„åˆæˆ"></span></p><ul><li>ä¸€ä¸ªåè®®å¯ä»¥ç”±å¤šä¸ªåè®®é‡‡ç”¨protocol<namedprotocol,genderprotocol>è¿™æ ·çš„æ ¼å¼è¿›è¡Œç»„åˆï¼Œç§°ä¹‹ä¸ºåè®®çš„åˆæˆ(protocol composition)ã€‚</namedprotocol,genderprotocol></li><li>åè®®åˆæˆå¹¶ä¸ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„åè®®ï¼Œè€Œæ˜¯å°†å¤šä¸ªåè®®åˆæˆä¸€ä¸ªä¸´æ—¶çš„åè®®ï¼Œè¶…å‡ºèŒƒå›´åç«‹å³å¤±æ•ˆ</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">NamedProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> name:<span class="type">String</span>&#123;<span class="keyword">get</span> <span class="keyword">set</span>&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">GenderProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> gender:<span class="type">String</span>&#123;<span class="keyword">get</span> <span class="keyword">set</span>&#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">AgedProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> age:<span class="type">Int</span>&#123;<span class="keyword">get</span>&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>:<span class="title">NamedProtocol</span>,<span class="title">GenderProtocol</span>,<span class="title">AgedProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> gender: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">wishBirthday</span><span class="params">(celebrator:NamedProtocol &amp; GenderProtocol)</span></span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"å§“åï¼š\(celebrator.name)ï¼Œæ€§åˆ«ï¼š\(celebrator.gender)"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> per = <span class="type">Person</span>(name: <span class="string">"wang"</span>, gender: <span class="string">"man"</span>,age:<span class="number">20</span>)</div><div class="line">wishBirthday(celebrator: per)</div><div class="line"><span class="comment">// å½¢å‚celebratorçš„ç±»å‹ä¸ºprotocol&lt;NamedProtocol,GenderProtocol&gt;ï¼Œå¯ä»¥ä¼ å…¥ä»»ä½•å®ç°è¿™ä¸¤ä¸ªåè®®çš„å®ä¾‹ã€‚å³ä½¿æ­¤å®ä¾‹ä¸ä»…ä»…éµå¾ªè¿™ä¸¤ä¸ªåè®®ã€‚</span></div><div class="line"><span class="comment">// swift3.0ä¹‹åï¼Œprotocol&lt;NamedProtocol,GenderProtocol&gt;è¢«NamedProtocol &amp; GenderProtocolæ›¿æ¢ã€‚</span></div></pre></td></tr></table></figure><h2 id="æ£€éªŒåè®®çš„ä¸€è‡´æ€§"><a href="#æ£€éªŒåè®®çš„ä¸€è‡´æ€§" class="headerlink" title="æ£€éªŒåè®®çš„ä¸€è‡´æ€§"></a>æ£€éªŒåè®®çš„ä¸€è‡´æ€§</h2><p><span id="æ£€éªŒåè®®çš„ä¸€è‡´æ€§"></span></p><ul><li>ç”¨isæ£€éªŒåè®®çš„ä¸€è‡´æ€§ï¼Œä½¿ç”¨aså°†åè®®ç±»å‹å‘ä¸‹è½¬æ¢ä¸ºå…¶ä»–åè®®ç±»å‹ã€‚</li><li>isæ“ä½œç¬¦ç”¨æ¥æ£€æŸ¥å®ä¾‹æ˜¯å¦å®ç°äº†æŸä¸ªåè®®ã€‚è¿”å›å€¼true/falseã€‚</li><li>as?è¿”å›ä¸€ä¸ªå¯é€‰å€¼ï¼Œå½“å®ä¾‹å®ç°åè®®æ—¶ï¼Œè¿”å›è¯¥åè®®ç±»å‹ï¼›å¦åˆ™è¿”å›nilã€‚</li><li>asç”¨ä»¥å¼ºåˆ¶å‘ä¸‹è½¬åŒ–ç±»å‹ã€‚</li><li>@objcç”¨æ¥è¡¨ç¤ºåè®®æ—¶å¯é€‰çš„ï¼Œè¿˜å¯ä»¥è¡¨ç¤ºæš´éœ²ç»™Objective-Cçš„ä»£ç ï¼Œã€‚</li><li>@objcå‹åè®®åªå¯¹ç±»æœ‰æ•ˆï¼Œå› æ­¤åªèƒ½åœ¨ç±»ä¸­æ£€æŸ¥åè®®çš„ä¸€è‡´æ€§ã€‚</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="meta">@objc</span> <span class="class"><span class="keyword">protocol</span> <span class="title">HasArea</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> area:<span class="type">Double</span>&#123;<span class="keyword">get</span>&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span>:<span class="title">HasArea</span></span>&#123;</div><div class="line">    <span class="keyword">let</span> pi = <span class="number">3.1415927</span></div><div class="line">    <span class="keyword">var</span> radius:<span class="type">Double</span></div><div class="line">    <span class="keyword">var</span> area: <span class="type">Double</span>&#123;</div><div class="line">        <span class="keyword">return</span> pi * radius * radius</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>(radius:<span class="type">Double</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.radius = radius</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Country</span>:<span class="title">HasArea</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> area: <span class="type">Double</span></div><div class="line">    <span class="keyword">init</span>(area:<span class="type">Double</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.area = area</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> legs:<span class="type">Int</span></div><div class="line">    <span class="keyword">init</span>(legs:<span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.legs = legs</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> objects:[<span class="type">AnyObject</span>] = [</div><div class="line">    <span class="type">Circle</span>(radius: <span class="number">20</span>),</div><div class="line">    <span class="type">Country</span>(area: <span class="number">200</span>),</div><div class="line">    <span class="type">Animal</span>(legs: <span class="number">10</span>)</div><div class="line">]</div><div class="line"><span class="keyword">for</span> object <span class="keyword">in</span> objects &#123;</div><div class="line">    <span class="keyword">var</span> objectWithArea = object <span class="keyword">as</span>? <span class="type">HasArea</span></div><div class="line">    <span class="keyword">if</span> objectWithArea != <span class="literal">nil</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(objectWithArea)"</span>)</div><div class="line">        <span class="built_in">print</span>(<span class="string">"éµå¾ªäº†HasAreaåè®®ï¼Œ\(object.area)"</span>)</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"æ²¡æœ‰éµå¾ªHasAreaåè®®"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(<span class="string">"--------------------"</span>)</div><div class="line"><span class="keyword">for</span> object <span class="keyword">in</span> objects &#123;</div><div class="line">    <span class="comment">// è¿”å›å€¼ true/false</span></div><div class="line">    <span class="keyword">var</span> objectWithArea = object <span class="keyword">is</span> <span class="type">HasArea</span></div><div class="line">    <span class="keyword">if</span> objectWithArea &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(objectWithArea)"</span>)</div><div class="line">        <span class="built_in">print</span>(<span class="string">"éµå¾ªäº†HasAreaåè®®ï¼Œ\(object.area)"</span>)</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"æ²¡æœ‰éµå¾ªHasAreaåè®®"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment">æ‰“å°ç»“æœï¼š</span></div><div class="line"><span class="comment">Optional(__lldb_expr_386.Circle)</span></div><div class="line"><span class="comment">éµå¾ªäº†HasAreaåè®®ï¼ŒOptional(1256.63708)</span></div><div class="line"><span class="comment">Optional(__lldb_expr_386.Country)</span></div><div class="line"><span class="comment">éµå¾ªäº†HasAreaåè®®ï¼ŒOptional(200.0)</span></div><div class="line"><span class="comment">æ²¡æœ‰éµå¾ªHasAreaåè®®</span></div><div class="line"><span class="comment">--------------------</span></div><div class="line"><span class="comment">true</span></div><div class="line"><span class="comment">éµå¾ªäº†HasAreaåè®®ï¼ŒOptional(1256.63708)</span></div><div class="line"><span class="comment">true</span></div><div class="line"><span class="comment">éµå¾ªäº†HasAreaåè®®ï¼ŒOptional(200.0)</span></div><div class="line"><span class="comment">æ²¡æœ‰éµå¾ªHasAreaåè®®</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure><p>##å¯é€‰åè®®è¦æ±‚<br>  <span id="å¯é€‰åè®®è¦æ±‚"></span></p><ul><li>å¯é€‰åè®®å«æœ‰å¯é€‰æˆå‘˜ï¼Œå…¶å®ç°è€…å¯ä»¥é€‰æ‹©æ˜¯å¦å®ç°è¿™äº›æˆå‘˜ã€‚</li><li>åœ¨åè®®ä¸­ä½¿ç”¨å…³é”®å­—optionalå…³é”®å­—ä½œä¸ºå‰ç¼€æ¥å®šä¹‰å¯é€‰æˆå‘˜</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="meta">@objc</span> <span class="class"><span class="keyword">protocol</span> <span class="title">HasArea</span></span>&#123;</div><div class="line">    <span class="meta">@objc</span> <span class="keyword">optional</span> <span class="keyword">var</span> area:<span class="type">Double</span>&#123;<span class="keyword">get</span>&#125;</div><div class="line">    <span class="keyword">var</span> width:<span class="type">Double</span>&#123;<span class="keyword">get</span>&#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span>:<span class="title">HasArea</span></span>&#123;</div><div class="line">    <span class="keyword">let</span> pi = <span class="number">3.1415927</span></div><div class="line">    <span class="keyword">var</span> radius:<span class="type">Double</span> = <span class="number">10.0</span></div><div class="line">    <span class="keyword">var</span> width: <span class="type">Double</span> = <span class="number">20.0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> Protocol </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-GCD-å¤šè¯·æ±‚å¹¶å‘</title>
      <link href="/2018/03/20/OC/GCD/GCD-%E5%A4%9A%E8%AF%B7%E6%B1%82%E5%B9%B6%E5%8F%91/"/>
      <content type="html"><![CDATA[<h1 id="GCD-æ–¹å¼"><a href="#GCD-æ–¹å¼" class="headerlink" title="GCD æ–¹å¼"></a>GCD æ–¹å¼</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// åˆ›å»ºä¿¡å·é‡</div><div class="line"> dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);</div><div class="line"> // åˆ›å»ºå…¨å±€å¹¶è¡Œ</div><div class="line"> dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</div><div class="line"> dispatch_group_t group = dispatch_group_create();</div><div class="line"> dispatch_group_async(group, queue, ^&#123;</div><div class="line"></div><div class="line">     // è¯·æ±‚ä¸€</div><div class="line">     [loginCode getUserInfoWithNick:nil andUserId:kUserId onSuc:^(id data) &#123;</div><div class="line">         NSLog(@&quot;yue&quot;);</div><div class="line">         dispatch_semaphore_signal(semaphore);</div><div class="line"></div><div class="line">     &#125; andFail:^(NSError *error) &#123;       </div><div class="line">     &#125;];</div><div class="line"></div><div class="line"> &#125;);</div><div class="line"> dispatch_group_async(group, queue, ^&#123;</div><div class="line"></div><div class="line">     // è¯·æ±‚äºŒ</div><div class="line">     [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123;</div><div class="line"></div><div class="line">         NSLog(@&quot;duihuan11&quot;);</div><div class="line">         dispatch_semaphore_signal(semaphore);</div><div class="line"></div><div class="line">     &#125; onFailure:^(NSError *error) &#123;</div><div class="line">     &#125;];</div><div class="line"> &#125;);</div><div class="line"> dispatch_group_async(group, queue, ^&#123;</div><div class="line"></div><div class="line">     // è¯·æ±‚ä¸‰</div><div class="line">     [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123;</div><div class="line">         NSLog(@&quot;duihuan22&quot;);</div><div class="line">         dispatch_semaphore_signal(semaphore);</div><div class="line"></div><div class="line">     &#125; onFailure:^(NSError *error) &#123;            </div><div class="line">     &#125;];</div><div class="line"> &#125;);</div><div class="line"></div><div class="line"> dispatch_group_notify(group, queue, ^&#123;</div><div class="line"></div><div class="line">     // ä¸‰ä¸ªè¯·æ±‚å¯¹åº”ä¸‰æ¬¡ä¿¡å·ç­‰å¾…</div><div class="line">     dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);</div><div class="line">     dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);</div><div class="line">     dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);</div><div class="line"></div><div class="line">     //åœ¨è¿™é‡Œ è¿›è¡Œè¯·æ±‚åçš„æ–¹æ³•ï¼Œå›åˆ°ä¸»çº¿ç¨‹</div><div class="line">     dispatch_async(dispatch_get_main_queue(), ^&#123;</div><div class="line"></div><div class="line">         //æ›´æ–°UIæ“ä½œ</div><div class="line"></div><div class="line">     &#125;);</div><div class="line"></div><div class="line"></div><div class="line"> &#125;);</div></pre></td></tr></table></figure><h1 id="é€šè¿‡è¯·æ±‚æ•°é‡è®¡æ•°"><a href="#é€šè¿‡è¯·æ±‚æ•°é‡è®¡æ•°" class="headerlink" title="é€šè¿‡è¯·æ±‚æ•°é‡è®¡æ•°"></a>é€šè¿‡è¯·æ±‚æ•°é‡è®¡æ•°</h1><blockquote><p>å®šä¹‰ä¸€ä¸ªblock</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">typedef void(^Complete)();</div></pre></td></tr></table></figure><blockquote><p>å°†blockä½œä¸ºç±»çš„å±æ€§</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@property (copy, nonatomic) Complete complete;</div></pre></td></tr></table></figure><blockquote><p>å®ç°æ–¹å¼ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">NSInteger requestCount = 0;</div><div class="line"></div><div class="line">    //ç¬¬ä¸€ä¸ªç½‘ç»œè¯·æ±‚</div><div class="line">    [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123;</div><div class="line">        NSLog(@&quot;duihuan11&quot;);</div><div class="line">        requestCount++;</div><div class="line">        if (self.complete) &#123;</div><div class="line">            self.complete();</div><div class="line">        &#125;</div><div class="line">    &#125; onFailure:^(NSError *error) &#123;</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">    //ç¬¬äºŒä¸ªç½‘ç»œè¯·æ±‚</div><div class="line">    [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123;</div><div class="line">        NSLog(@&quot;duihuan22&quot;);</div><div class="line">        requestCount++;</div><div class="line">        if (self.complete) &#123;</div><div class="line">            self.complete();</div><div class="line">        &#125;</div><div class="line">    &#125; onFailure:^(NSError *error) &#123;</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">    //ç¬¬ä¸‰ä¸ªç½‘ç»œè¯·æ±‚</div><div class="line">    [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123;</div><div class="line">        NSLog(@&quot;duihuan33&quot;);</div><div class="line">        requestCount++;</div><div class="line">        if (self.complete) &#123;</div><div class="line">            self.complete();</div><div class="line">        &#125;</div><div class="line">    &#125; onFailure:^(NSError *error) &#123;</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">    self.complete = ^&#123;</div><div class="line"></div><div class="line">            //è¯·æ±‚ç½‘ç»œçš„æ•°é‡ç­‰äº3è¡¨ç¤ºä¸‰ä¸ªç½‘ç»œè¯·æ±‚å·²å®Œæˆ</div><div class="line">            if (requestCount == 3) &#123;</div><div class="line"></div><div class="line">                //åœ¨è¿™é‡Œ è¿›è¡Œè¯·æ±‚åçš„æ–¹æ³•ï¼Œå›åˆ°ä¸»çº¿ç¨‹</div><div class="line">                dispatch_async(dispatch_get_main_queue(), ^&#123;</div><div class="line"></div><div class="line">                    //æ›´æ–°UIæ“ä½œ</div><div class="line"></div><div class="line">                &#125;);</div><div class="line"></div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> GCD </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> GCD </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-å…³é”®å­—-typealias/associatedtype</title>
      <link href="/2018/03/07/Swift/Grammar/%E5%85%B3%E9%94%AE%E5%AD%97-typealias:associatedtype/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/longshihua/article/details/74347889" target="_blank" rel="external">wenz</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Lib-Moya-ç½‘ç»œå°è£…(RxSwift)</title>
      <link href="/2018/03/07/Swift/Lib/Moya%20-%E7%BD%91%E7%BB%9C%E5%B0%81%E8%A3%85(RxSwift)/"/>
      <content type="html"><![CDATA[<p><a href="https://zjqian.github.io/2017/03/13/moya/" target="_blank" rel="external">å‚è€ƒ01</a><br><a href="https://www.jianshu.com/p/c1494681400b" target="_blank" rel="external">å‚è€ƒ02</a></p><h1 id="â‘ Moya"><a href="#â‘ Moya" class="headerlink" title="â‘ Moya"></a>â‘ Moya</h1><blockquote><p>Swiftæˆ‘ä»¬ç”¨Alamofireæ¥åšç½‘ç»œåº“.è€ŒMoyaåœ¨Alamofireçš„åŸºç¡€ä¸Šåˆå°è£…äº†ä¸€å±‚<br>å®˜æ–¹è¯´moyaæœ‰ä»¥ä¸‹ç‰¹æ€§:</p></blockquote><ul><li>ç¼–è¯‘æ—¶æ£€æŸ¥æ­£ç¡®çš„APIç«¯ç‚¹è®¿é—®.</li><li>ä½¿ä½ å®šä¹‰ä¸åŒç«¯ç‚¹æšä¸¾å€¼å¯¹åº”ç›¸åº”çš„ç”¨é€”æ›´åŠ æ˜æ™°.</li><li>æé«˜æµ‹è¯•åœ°ä½ä»è€Œä½¿å•å…ƒæµ‹è¯•æ›´åŠ å®¹æ˜“.</li></ul><p><img src="http://ot0mms4k8.bkt.clouddn.com/%20Swift-Lib-Moya-%E7%BD%91%E7%BB%9C%E5%B0%81%E8%A3%85%28RxSwift%29-001.png" alt="001"></p><h1 id="â‘¡å¼€å§‹"><a href="#â‘¡å¼€å§‹" class="headerlink" title="â‘¡å¼€å§‹"></a>â‘¡å¼€å§‹</h1><h2 id="â¶åˆ›å»ºæšä¸¾API"><a href="#â¶åˆ›å»ºæšä¸¾API" class="headerlink" title="â¶åˆ›å»ºæšä¸¾API"></a>â¶åˆ›å»ºæšä¸¾API</h2><blockquote><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª enum æ¥æšä¸¾ä½ æ‰€æœ‰çš„ API targets<br>å…³äºè¿™ä¸ªAPIçš„ä¿¡æ¯æ”¾åœ¨è¿™ä¸ªæšä¸¾ç±»å‹ä¸­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">APIManager</span> </span>&#123;</div><div class="line">   <span class="keyword">case</span> getNewsLatest      <span class="comment">//è·å–æœ€æ–°æ¶ˆæ¯</span></div><div class="line">   <span class="keyword">case</span> getStartImage      <span class="comment">//å¯åŠ¨ç•Œé¢å›¾åƒè·å–</span></div><div class="line">   <span class="keyword">case</span> getVersion(<span class="type">String</span>) <span class="comment">//è½¯ä»¶ç‰ˆæœ¬æŸ¥è¯¢</span></div><div class="line">   <span class="keyword">case</span> getThemes          <span class="comment">//ä¸»é¢˜æ—¥æŠ¥åˆ—è¡¨æŸ¥çœ‹</span></div><div class="line">   <span class="keyword">case</span> getNewsDetail(<span class="type">Int</span>) <span class="comment">//è·å–æ–°é—»è¯¦æƒ…</span></div><div class="line">   <span class="keyword">case</span> create(title: <span class="type">String</span>, body: <span class="type">String</span>, userId: <span class="type">Int</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>##â·å®ç°TargetTypeåè®®</p><blockquote><p>åœ¨è¿™é‡Œ,å¯ä»¥è®¾ç½®è¯·æ±‚çš„å‚æ•°,ä¾‹å¦‚urlâ€¦â€¦methodâ€¦â€¦paraç­‰.</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">APIManager</span>: <span class="title">TargetType</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">/// The target's base `URL`.</span></div><div class="line"><span class="keyword">var</span> baseURL: <span class="type">URL</span> &#123;</div><div class="line">     <span class="keyword">return</span> <span class="type">URL</span>.<span class="keyword">init</span>(string: <span class="string">"http://news-at.zhihu.com/api/"</span>)!</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/// The path to be appended to `baseURL` to form the full `URL`.</span></div><div class="line"><span class="keyword">var</span> path: <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">       <span class="keyword">case</span> .getNewsLatest:</div><div class="line">            <span class="keyword">return</span> <span class="string">"4/news/latest"</span></div><div class="line">       <span class="keyword">case</span> .getStartImage:</div><div class="line">            <span class="comment">//start-image åä¸ºå›¾åƒåˆ†è¾¨ç‡ï¼Œæ¥å—ä»»æ„çš„ number*number æ ¼å¼ï¼Œ number ä¸ºä»»æ„éè´Ÿæ•´æ•°ï¼Œè¿”å›å€¼å‡ç›¸åŒã€‚</span></div><div class="line">            <span class="keyword">return</span> <span class="string">"4/start-image/1080*1776"</span></div><div class="line">       <span class="keyword">case</span> .getVersion(<span class="keyword">let</span> version):</div><div class="line">            <span class="comment">//URL æœ€åéƒ¨åˆ†çš„æ•°å­—ä»£è¡¨æ‰€å®‰è£…ã€çŸ¥ä¹æ—¥æŠ¥ã€çš„ç‰ˆæœ¬</span></div><div class="line">            <span class="keyword">return</span> <span class="string">"4/version/ios/"</span> + version</div><div class="line">       <span class="keyword">case</span> .getThemes:</div><div class="line">            <span class="keyword">return</span> <span class="string">"4/themes"</span></div><div class="line">       <span class="keyword">case</span> .getNewsDetail(<span class="keyword">let</span> id):</div><div class="line">            <span class="keyword">return</span> <span class="string">"4/news/\(id)"</span></div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/// The HTTP method used in the request.</span></div><div class="line"><span class="comment">// è®¾ç½®Getã€POST</span></div><div class="line"><span class="keyword">var</span> method: <span class="type">Moya</span>.<span class="type">Method</span> &#123;</div><div class="line">    <span class="keyword">return</span> .<span class="keyword">get</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/// The parameters to be incoded in the request.</span></div><div class="line"><span class="keyword">var</span> parameters: [<span class="type">String</span>: <span class="type">Any</span>]? &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">&#125;</div><div class="line"><span class="comment">/// The method used for parameter encoding.</span></div><div class="line"><span class="keyword">var</span> parameterEncoding: <span class="type">ParameterEncoding</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">URLEncoding</span>.<span class="keyword">default</span></div><div class="line">&#125;</div><div class="line"><span class="comment">/// Provides stub data for use in testing.</span></div><div class="line"><span class="keyword">var</span> sampleData: <span class="type">Data</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">""</span>.data(using: <span class="type">String</span>.<span class="type">Encoding</span>.utf8)!</div><div class="line">&#125;</div><div class="line"><span class="comment">/// The type of HTTP task to be performed.</span></div><div class="line"><span class="keyword">var</span> task: <span class="type">Task</span> &#123;</div><div class="line">    <span class="keyword">return</span> .request</div><div class="line">&#125;</div><div class="line"><span class="comment">/// Whether or not to perform Alamofire validation. Defaults to `false`.</span></div><div class="line"><span class="keyword">var</span> validate: <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="â¸ä½¿ç”¨"><a href="#â¸ä½¿ç”¨" class="headerlink" title="â¸ä½¿ç”¨"></a>â¸ä½¿ç”¨</h1><blockquote><p>Moyaçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œé€šè¿‡TargetTypeåè®®å®šä¹‰å¥½æ¯ä¸ªtargetä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨Moyaå¼€å§‹å‘é€ç½‘ç»œè¯·æ±‚äº†ã€‚å°±åƒè¿™æ ·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> provider = <span class="type">MoyaProvider</span>&lt;<span class="type">APIManager</span>&gt;()</div><div class="line">provider.request(.getNewsLatest) &#123; result <span class="keyword">in</span></div><div class="line"><span class="comment">// do something with result</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>â¹âº</p><h2 id="â‘¢é…åˆRxSwift"><a href="#â‘¢é…åˆRxSwift" class="headerlink" title="â‘¢é…åˆRxSwift"></a>â‘¢é…åˆRxSwift</h2><blockquote><p>Moyaæä¾›äº†éå¸¸æ–¹é¢çš„RxSwiftæ‰©å±•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> provider = <span class="type">RxMoyaProvider</span>&lt;<span class="type">APIManager</span>&gt;()</div><div class="line">provider.request(.getNewsLatest)</div><div class="line">        .filterSuccessfulStatusCodes()</div><div class="line">        .mapJSON()</div><div class="line">        .subscribe(onNext: &#123; (json) <span class="keyword">in</span></div><div class="line">         <span class="comment">//do something with posts</span></div><div class="line">        <span class="built_in">print</span>(json)</div><div class="line">        &#125;)</div><div class="line">        .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>RxMoyaProvider</td><td>æ˜¯MoyaProviderçš„å­ç±»ï¼Œæ˜¯å¯¹RxSwiftçš„æ‰©å±•</td></tr><tr><td>filterSuccessfulStatusCodes()</td><td>æ˜¯Moyaä¸ºRxSwiftæä¾›çš„æ‰©å±•æ–¹æ³•ï¼Œå¯ä»¥å¾—åˆ°æˆåŠŸåœ°ç½‘ç»œè¯·æ±‚ï¼Œå¿½ç•¥å…¶ä»–çš„</td></tr><tr><td>mapJSON()</td><td>æ˜¯Moya RxSwiftçš„æ‰©å±•æ–¹æ³•ï¼Œå¯ä»¥æŠŠè¿”å›çš„æ•°æ®è§£ææˆ JSON æ ¼å¼</td></tr><tr><td>subscribe</td><td>æ˜¯ä¸€ä¸ªRxSwiftçš„æ–¹æ³•,å¯¹ç»è¿‡ä¸€å±‚ä¸€å±‚å¤„ç†çš„ Observable è®¢é˜…ä¸€ä¸ª onNext çš„ observerï¼Œä¸€æ—¦å¾—åˆ° JSON æ ¼å¼çš„æ•°æ®ï¼Œå°±ä¼šç»è¡Œç›¸åº”çš„å¤„ç†</td></tr><tr><td>addDisposableTo(disposeBag)</td><td>æ˜¯ RxSwift çš„ä¸€ä¸ªè‡ªåŠ¨å†…å­˜å¤„ç†æœºåˆ¶ï¼Œè·ŸARCæœ‰ç‚¹ç±»ä¼¼ï¼Œä¼šè‡ªåŠ¨æ¸…ç†ä¸éœ€è¦çš„å¯¹è±¡</td></tr><tr><td></td><td></td></tr></tbody></table><h1 id="â‘£é…åˆHandyJSON"><a href="#â‘£é…åˆHandyJSON" class="headerlink" title="â‘£é…åˆHandyJSON"></a>â‘£é…åˆHandyJSON</h1><blockquote><p>â¶ç½‘ç»œè¯·æ±‚ç´§å¯†è¿æ¥ç€æ•°æ®å±‚ï¼ˆModelï¼‰ï¼Œå…·ä½“åœ°è¯´ï¼Œä¸€èˆ¬éœ€è¦å»ºç«‹ä¸€ä¸ªç±»ç”¨æ¥ç»Ÿä¸€ç®¡ç†æ•°æ®ï¼Œç„¶åæŠŠå¾—åˆ°çš„ JSON æ•°æ®æ˜ å°„åˆ°æ•°æ®å±‚ï¼ˆModelï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MenuModel</span>: <span class="title">HandyJSON</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> others: [<span class="type">ThemeModel</span>]?</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ThemeModel</span>: <span class="title">HandyJSON</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> color: <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> thumnail: <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> id: <span class="type">Int</span>?</div><div class="line">    <span class="keyword">var</span> description: <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?</div></pre></td></tr></table></figure><blockquote><p>â·åˆ›å»ºViewModelç±»,åˆ›å»ºå…·ä½“è¯·æ±‚æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MenuViewModel</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> <span class="keyword">let</span> provider = <span class="type">RxMoyaProvider</span>&lt;<span class="type">APIManager</span>&gt;()</div><div class="line">  <span class="keyword">var</span> dispose = <span class="type">DisposeBag</span>()</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">getThemes</span><span class="params">(completed: @escaping <span class="params">(<span class="number">_</span> menuModel: MenuModel)</span></span></span> -&gt;())&#123;</div><div class="line">        provider.reuest(.getThemes)</div><div class="line">                .mapModel(<span class="type">MenuModel</span>.<span class="keyword">self</span>)</div><div class="line">                .subscribe( onNext: &#123; (model) <span class="keyword">in</span> </div><div class="line">                                      completed(model)&#125;,</div><div class="line">                            onError:&#123; (error) <span class="keyword">in</span> &#125;,</div><div class="line">                            onCompleted:<span class="literal">nil</span>,</div><div class="line">                            onDisposed:<span class="literal">nil</span>,</div><div class="line">                           )</div><div class="line">               .addDisposableTo(dispose)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæ˜¯å°†è¯·æ±‚çš„æ•°æ®é€šè¿‡é—­åŒ…ä¼ äº†å‡ºå»,å½“ç„¶ä¹Ÿå¯ä»¥ä¸é‚£ä¹ˆåš.ä¸ªäººå–œå¥½é—®é¢˜.<br>è¿™é‡Œæ˜¯ä¸º RxSwift ä¸­çš„ ObservableTypeå’Œ Responseå†™ä¸€ä¸ªç®€å•çš„æ‰©å±•æ–¹æ³• mapModelï¼Œåˆ©ç”¨æˆ‘ä»¬å†™å¥½çš„Model ç±»ï¼Œä¸€æ­¥å°±æŠŠJSONæ•°æ®æ˜ å°„æˆ model</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ObservableType</span> <span class="title">where</span> <span class="title">E</span> == <span class="title">Response</span> </span>&#123;</div><div class="line">     <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">mapModel</span> &lt;T: HandyJSON&gt;<span class="params">(<span class="number">_</span> type: T.<span class="keyword">Type</span>)</span></span>-&gt; <span class="type">Observable</span>&lt;<span class="type">T</span>&gt; &#123;</div><div class="line">          <span class="keyword">return</span> flatMap &#123; response -&gt; <span class="type">Observable</span>&lt;<span class="type">T</span>&gt; <span class="keyword">in</span> </div><div class="line">          <span class="keyword">return</span> <span class="type">Observable</span>.just(response.mapModel(<span class="type">T</span>.<span class="keyword">self</span>))</div><div class="line">        &#125;</div><div class="line">     &#125;</div><div class="line"> &#125;</div><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">Response</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">mapModel</span>&lt;T: HandyJSON&gt;<span class="params">(<span class="number">_</span> type: T.<span class="keyword">Type</span>)</span></span> -&gt; <span class="type">T</span> &#123;</div><div class="line">         <span class="keyword">let</span> jsonString = <span class="type">String</span>.<span class="keyword">init</span>(data: data,encoding: .utf8)</div><div class="line">         <span class="keyword">return</span> <span class="type">JSONDeserializer</span>&lt;<span class="type">T</span>&gt;.deserializeFrom(json: jsonString)!</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure><p>#â‘¤é…åˆObjectMapper</p><p>##â·â¶åˆ›å»ºmodelç±»</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">DetailModel</span>: <span class="title">Mappable</span> </span>&#123;</div><div class="line">        <span class="keyword">var</span> body = <span class="type">String</span>()</div><div class="line">        <span class="keyword">var</span> image_source: <span class="type">String</span>?</div><div class="line">  <span class="keyword">var</span> title = <span class="type">String</span>()</div><div class="line">  <span class="keyword">var</span> image: <span class="type">String</span>?</div><div class="line">  <span class="keyword">var</span> share_url = <span class="type">String</span>()</div><div class="line">  <span class="keyword">var</span> js = <span class="type">String</span>()</div><div class="line">  <span class="keyword">var</span> recommenders = [[<span class="type">String</span>: <span class="type">String</span>]]()</div><div class="line">  <span class="keyword">var</span> ga_prefix = <span class="type">String</span>()</div><div class="line">  <span class="keyword">var</span> section: <span class="type">DetailSectionModel</span>?</div><div class="line">  <span class="keyword">var</span> type = <span class="type">Int</span>()</div><div class="line">  <span class="keyword">var</span> id = <span class="type">Int</span>()</div><div class="line">  <span class="keyword">var</span> css = [<span class="type">String</span>]()</div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">mapping</span><span class="params">(<span class="built_in">map</span>: Map)</span></span> &#123;</div><div class="line">         body &lt;- <span class="built_in">map</span>[<span class="string">"body"</span>]</div><div class="line">  image_source &lt;- <span class="built_in">map</span>[<span class="string">"image_source"</span>]</div><div class="line">  title &lt;- <span class="built_in">map</span>[<span class="string">"title"</span>]</div><div class="line">  image &lt;- <span class="built_in">map</span>[<span class="string">"image"</span>]</div><div class="line">  share_url &lt;- <span class="built_in">map</span>[<span class="string">"share_url"</span>]</div><div class="line">  js &lt;- <span class="built_in">map</span>[<span class="string">"js"</span>]</div><div class="line">  recommenders &lt;- <span class="built_in">map</span>[<span class="string">"recommenders"</span>]</div><div class="line">  ga_prefix &lt;- <span class="built_in">map</span>[<span class="string">"ga_prefix"</span>]</div><div class="line">  section &lt;- <span class="built_in">map</span>[<span class="string">"section"</span>]</div><div class="line">  type &lt;- <span class="built_in">map</span>[<span class="string">"type"</span>]</div><div class="line">  id &lt;- <span class="built_in">map</span>[<span class="string">"id"</span>]</div><div class="line">  css &lt;- <span class="built_in">map</span>[<span class="string">"css"</span>]</div><div class="line">     &#125;</div><div class="line">  reuired <span class="keyword">init</span>?(<span class="built_in">map</span>: <span class="type">Map</span>) &#123;</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â·ä½¿ç”¨ ObjectMapper ï¼Œéœ€è¦è®©è‡ªå·±çš„ Model ç±»ä½¿ç”¨ Mappable åè®®ï¼Œè¿™ä¸ªåè®®åŒ…æ‹¬ä¸¤ä¸ªæ–¹æ³•ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(<span class="built_in">map</span>: <span class="type">Map</span>) &#123;&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mapping</span><span class="params">(<span class="built_in">map</span>: Map)</span></span> &#123;&#125;<span class="comment">//åœ¨ mapping æ–¹æ³•ä¸­ï¼Œç”¨ &lt;- æ“ä½œç¬¦æ¥å¤„ç†å’Œæ˜ å°„ä½ çš„ JSONæ•°æ®</span></div></pre></td></tr></table></figure><blockquote><p>â¸æ•°æ®ç±»å»ºç«‹å¥½ä¹‹åï¼Œè¿˜éœ€è¦ä¸º RxSwift ä¸­çš„ Observable å†™ä¸€ä¸ªç®€å•çš„æ‰©å±•æ–¹æ³• mapObjectï¼Œåˆ©ç”¨å†™å¥½çš„model ç±»ï¼Œä¸€æ­¥å°±æŠŠJSON æ•°æ®æ˜ å°„æˆä¸€ä¸ªä¸ª model</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Observable</span> </span>&#123;</div><div class="line">       <span class="function"><span class="keyword">func</span> <span class="title">mapObject</span>&lt;T: Mappable&gt;<span class="params">(type: T.<span class="keyword">Type</span>)</span></span> -&gt; <span class="type">Observale</span>&lt;<span class="type">T</span>&gt; &#123;</div><div class="line">             <span class="keyword">return</span> <span class="keyword">self</span>.<span class="built_in">map</span> &#123; response <span class="keyword">in</span> </div><div class="line">               <span class="comment">//if response is a dictionary, then use ObjectMapper to map the dictionary</span></div><div class="line">               <span class="comment">//if not throw an error</span></div><div class="line">               <span class="keyword">guard</span> <span class="keyword">let</span> dict = response an? [<span class="type">String</span>: <span class="type">Any</span>] <span class="keyword">else</span> &#123;</div><div class="line">                     thow <span class="type">RxSwiftMoyaError</span>.<span class="type">ParseJSONError</span></div><div class="line">               &#125;</div><div class="line">                 <span class="keyword">return</span> <span class="type">Mapper</span>&lt;<span class="type">T</span>&gt;().<span class="built_in">map</span>(<span class="type">JSON</span>: dict)!</div><div class="line">               &#125;</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="function"><span class="keyword">func</span> <span class="title">mapArray</span>&lt;T: Mappable&gt;<span class="params">(type: T.<span class="keyword">Type</span>)</span></span> -&gt; <span class="type">Observale</span>&lt;[<span class="type">T</span>]&gt; &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.<span class="built_in">map</span> &#123; response <span class="keyword">in</span> </div><div class="line">               <span class="comment">//if response is an array of dictionaries, then use ObjectMapper to map the dictionary</span></div><div class="line">               <span class="comment">//if not, throw an error</span></div><div class="line">               </div><div class="line">               <span class="keyword">guard</span> <span class="keyword">let</span> array = response <span class="keyword">as</span>? [<span class="type">Any</span>] <span class="keyword">else</span> &#123;</div><div class="line">                     thow <span class="type">RxSwiftMoyaError</span>.<span class="type">ParseJSONError</span></div><div class="line">               &#125;</div><div class="line">               </div><div class="line">               <span class="keyword">guard</span> <span class="keyword">let</span> dicts = array <span class="keyword">as</span>? [[<span class="type">String</span>: <span class="type">Any</span>]] <span class="keyword">else</span> &#123;</div><div class="line">                     thow <span class="type">RxSwiftMoyaError</span>.<span class="type">ParseJSONError</span></div><div class="line">               &#125;</div><div class="line">               </div><div class="line">               <span class="keyword">guard</span> <span class="keyword">let</span> dicts = array <span class="keyword">as</span>? [[<span class="type">String</span>: <span class="type">Any</span>]] <span class="keyword">else</span> &#123;</div><div class="line">                     thow <span class="type">RxSwiftMoyaError</span>.<span class="type">ParseJSONError</span></div><div class="line">               &#125;</div><div class="line">               </div><div class="line">               <span class="keyword">return</span> <span class="type">Mapper</span>&lt;<span class="type">T</span>&gt;().mapArray(<span class="type">JSONArray</span>: dicts)!</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">      <span class="class"><span class="keyword">enum</span> <span class="title">RXSwiftMoyaError</span>: <span class="title">String</span> </span>&#123;</div><div class="line">           <span class="keyword">case</span> <span class="type">ParaseJSONError</span></div><div class="line">           <span class="keyword">case</span> <span class="type">OtherError</span></div><div class="line">      &#125;</div><div class="line">      </div><div class="line">      <span class="class"><span class="keyword">extension</span> <span class="title">RxSwiftMoyaError</span>: <span class="title">Swift</span>.<span class="title">Error</span> </span>&#123;</div><div class="line">      &#125;</div></pre></td></tr></table></figure><ul><li>mapObject æ–¹æ³•å¤„ç†å•ä¸ªå¯¹è±¡ï¼ŒmapArray æ–¹æ³•å¤„ç†å¯¹è±¡æ•°ç»„</li><li>æœä¼ è¿›æ¥çš„æ•°æ® response æ˜¯ä¸€ä¸ª dictionaryï¼Œé‚£ä¹ˆå°±åˆ©ç”¨ ObjectMapper çš„ mapæ–¹æ³•æ˜ å°„è¿™äº›æ•°æ®ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè°ƒç”¨ä½ ä¹‹å‰åœ¨ mappingæ–¹æ³•é‡Œé¢å®šä¹‰çš„é€»è¾‘</li><li>å¦‚æœ response ä¸æ˜¯ä¸€ä¸ª dictionaryï¼Œ é‚£ä¹ˆå°±æŠ›å‡ºä¸€ä¸ªé”™è¯¯</li><li>åœ¨åº•éƒ¨è‡ªå®šä¹‰äº†ç®€å•çš„Errorï¼Œç»§æ‰¿äº†Swift çš„ Errorç±»ï¼Œåœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­å¯ä»¥æ ¹æ®éœ€è¦æä¾›è‡ªå·±æƒ³è¦çš„ Error</li></ul><blockquote><p>â¹è¿è¡Œè¯·æ±‚æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">calss <span class="type">DetailViewModel</span> &#123;</div><div class="line">      <span class="keyword">private</span> <span class="keyword">let</span> provider = <span class="type">RxMoyaProvider</span>&lt;<span class="type">APIManager</span>&gt;()</div><div class="line">      <span class="function"><span class="keyword">func</span> <span class="title">getNewsDetail</span><span class="params">(id: Int)</span></span> -&gt; <span class="type">Observable</span>&lt;<span class="type">DetailModel</span>&gt; &#123;</div><div class="line">        <span class="keyword">return</span> provider.request(.getNewDetail(id))</div><div class="line">                       .filterSuccesssfulStatusCodes()</div><div class="line">                       .mapJSON()</div><div class="line">                       .mapObject(type: <span class="type">DetailModel</span>.<span class="keyword">self</span>)</div><div class="line">      &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Lib </category>
          
          <category> Moya </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>RxSwift + ReactorKit æ„å»ºä¿¡æ¯æµæ¡†æ¶</title>
      <link href="/2018/03/07/RxSwift/Error/RxSwift-Error/"/>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Lib-ObjectMapper-æ•°æ®è½¬æ¨¡å‹</title>
      <link href="/2018/03/05/Swift/Lib/ObjectMapper-%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%A8%A1%E5%9E%8B/"/>
      <content type="html"><![CDATA[<h1 id="é›†æˆ"><a href="#é›†æˆ" class="headerlink" title="é›†æˆ"></a>é›†æˆ</h1><h2 id="CocoaPodsåº“å¯¼å…¥"><a href="#CocoaPodsåº“å¯¼å…¥" class="headerlink" title="CocoaPodsåº“å¯¼å…¥"></a>CocoaPodsåº“å¯¼å…¥</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">pod '<span class="type">ObjectMapper'</span></div></pre></td></tr></table></figure><h2 id="å¤´æ–‡ä»¶"><a href="#å¤´æ–‡ä»¶" class="headerlink" title="å¤´æ–‡ä»¶"></a>å¤´æ–‡ä»¶</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> ObjectMapper</div></pre></td></tr></table></figure><h2 id="ObjectMapper-çš„åè®®-Mappable"><a href="#ObjectMapper-çš„åè®®-Mappable" class="headerlink" title="ObjectMapper çš„åè®® Mappable"></a>ObjectMapper çš„åè®® Mappable</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">YKModel</span>:<span class="title">Mappable</span></span></div></pre></td></tr></table></figure><h2 id="è¿›å…¥å¤´æ–‡ä»¶ä¼šçœ‹åˆ°-Mappable-å¿…é¡»è¦å®ç°ä¸¤ä¸ªåè®®æ–¹æ³•ï¼Œå’Œä¸€ä¸ªæ„é€ å™¨"><a href="#è¿›å…¥å¤´æ–‡ä»¶ä¼šçœ‹åˆ°-Mappable-å¿…é¡»è¦å®ç°ä¸¤ä¸ªåè®®æ–¹æ³•ï¼Œå’Œä¸€ä¸ªæ„é€ å™¨" class="headerlink" title="è¿›å…¥å¤´æ–‡ä»¶ä¼šçœ‹åˆ° Mappable å¿…é¡»è¦å®ç°ä¸¤ä¸ªåè®®æ–¹æ³•ï¼Œå’Œä¸€ä¸ªæ„é€ å™¨"></a>è¿›å…¥å¤´æ–‡ä»¶ä¼šçœ‹åˆ° Mappable å¿…é¡»è¦å®ç°ä¸¤ä¸ªåè®®æ–¹æ³•ï¼Œå’Œä¸€ä¸ªæ„é€ å™¨</h2><blockquote><p>é‡‡çº³è¿™ä¸ªåè®®çš„ç±»ï¼Œå¿…é¡»å®ç° Mappable è¿™ä¸ª protocol ä¸­æ‰€æŒ‡å®šçš„éå¯é€‰çš„æ‰€æœ‰ä¸œè¥¿</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">public protocol Mappable &#123;</div><div class="line"> </div><div class="line"> /// This function can be used to validate JSON prior to mapping. Return nil to cancel mapping at this point</div><div class="line">  </div><div class="line">    init?(_ map: Map)</div><div class="line">  </div><div class="line">    /// This function is where all variable mappings should occur. It is executed by Mapper during the mapping (serialization and deserialization) process</div><div class="line">mutating func mapping(map: Map)</div><div class="line">/// This is an optional function that can be used to:</div><div class="line"> ///     1) provide an existing cached object to be used for mapping</div><div class="line">  /// 2) return an object of another class (which conforms to Mappable) to be used for mapping. For instance, you may inspect the JSON to infer the type of object that should be used for any given mapping </div><div class="line">  </div><div class="line">  static func objectForMapping(map: Map) -&gt; Mappable?</div></pre></td></tr></table></figure><h2 id="åœ¨æ¨¡å‹ç±»çš„ä¸‹é¢å®ç°åè®®æ–¹æ³•"><a href="#åœ¨æ¨¡å‹ç±»çš„ä¸‹é¢å®ç°åè®®æ–¹æ³•" class="headerlink" title="åœ¨æ¨¡å‹ç±»çš„ä¸‹é¢å®ç°åè®®æ–¹æ³•"></a>åœ¨æ¨¡å‹ç±»çš„ä¸‹é¢å®ç°åè®®æ–¹æ³•</h2><blockquote><p>åœ¨ç±»ä¸­æ˜¯æ— éœ€æ ‡æ³¨mutatingå…³é”®å­—çš„ï¼Œmutating åªé’ˆå¯¹å€¼ç±»å‹ï¼Œå¦‚æšä¸¾ï¼Œç»“æ„ä½“ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(<span class="number">_</span> <span class="built_in">map</span>: <span class="type">Map</span>) &#123;     </div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mapping</span><span class="params">(<span class="built_in">map</span>: Map)</span></span> &#123;     </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„ä»£ç ä¸­å¹¶æ²¡æœ‰å®ç° Mappable ä¸­æ‰€æŒ‡å®šçš„ static func objectForMapping(map: Map) -&gt; Mappable? è¿™ä¸ªç±»æ–¹æ³•ï¼Œæ˜¯è¿™æ ·çš„ï¼Œå†æ¬¡è¿›å…¥å¤´æ–‡ä»¶ä¼šå‘ç° Mappable åè®®ä¸‹é¢å­˜åœ¨ä¸€ä¸ª Mappable çš„åè®®æ‰©å±•ï¼Œæˆªå–äº†å…¶ä¸­çš„ä¸€éƒ¨åˆ†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">Mappable</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">objectForMapping</span><span class="params">(<span class="built_in">map</span>: Map)</span></span> -&gt; <span class="type">Mappable</span>? &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">        ......</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªæ‰©å±•ä¸­å·²ç»å¸®æˆ‘ä»¬é»˜è®¤å®ç°äº† objectForMappingæ–¹æ³•ï¼Œæ‰€æœ‰ä¸éœ€è¦ä½¿ç”¨è€…å®ç°è¿™ä¸ªæ–¹æ³•ï¼Œå½“ç„¶è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯è”æƒ³ä¸å‡ºæ¥çš„</p></blockquote><p><a href="https://www.jianshu.com/p/3e999c40491a" target="_blank" rel="external">å‚è€ƒåŸæ–‡</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Lib </category>
          
          <category> ObjectMapper </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Lib-Reusable-ä¼˜é›…åœ°ä½¿ç”¨ReusableIdentifier</title>
      <link href="/2018/03/02/Swift/Lib/Reusable%E4%BC%98%E9%9B%85%E5%9C%B0%E4%BD%BF%E7%94%A8ReusableIdentifier/"/>
      <content type="html"><![CDATA[<h1 id="cellçš„é‡ç”¨æœºåˆ¶ä¸æ ‡ç¤ºç¬¦"><a href="#cellçš„é‡ç”¨æœºåˆ¶ä¸æ ‡ç¤ºç¬¦" class="headerlink" title="cellçš„é‡ç”¨æœºåˆ¶ä¸æ ‡ç¤ºç¬¦"></a>cellçš„é‡ç”¨æœºåˆ¶ä¸æ ‡ç¤ºç¬¦</h1><blockquote><p>è‹¹æœä¸ºäº†ä¿å‡†UITableViewè§†å›¾çš„æ€§èƒ½ï¼Œä½¿ç”¨äº†cellçš„é‡ç”¨æœºåˆ¶ï¼Œcellå¯ä»¥é€šè¿‡é‡ç”¨æ ‡ç¤ºç¬¦ï¼ˆreusableIdentifierï¼‰è¿›è¡Œå¤ç”¨ï¼Œé»˜è®¤çš„æ³¨å†Œcellå’Œè·å–cellçš„æ–¹æ³•ä¸­ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œé‡ç”¨æ ‡ç¤ºç¬¦<br>ä½†è¿™ç§æ–¹å¼å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”ä½¿ç”¨èµ·æ¥ä¹Ÿç›¸å½“åˆ«æ‰­ï¼Œä¸€ç§æ™®éçš„è§£å†³æ–¹å¼ï¼Œå°±æ˜¯ç›´æ¥åªç”¨ç±»åä½œä¸ºé‡ç”¨æ ‡ç¤ºç¬¦:</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">tableView.registerClass(<span class="type">UITableView</span>.<span class="keyword">self</span>,forCellReuseIdentifier:<span class="type">String</span>(<span class="type">UITableViewCell</span>.<span class="keyword">self</span>))</div><div class="line">tableView.dequeueReusableCellWithIdentifier(<span class="type">String</span>(<span class="type">UITableViewCell</span>.<span class="keyword">self</span>))</div></pre></td></tr></table></figure><blockquote><p>è¿™ç§å†™æ³•ä¾ç„¶ç¹çï¼Œæ¯æ¬¡ä¼ å…¥ä¸€ä¸ªç±»å¹¶æŠŠå®ƒè½¬åŒ–æˆå­—ç¬¦ä¸²<br>so,å¯å€ŸåŠ©Swiftçš„æ³›å‹ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰æ›´åŠ ä¼˜é›…çš„å®ç°æ–¹å¼</p></blockquote><h1 id="ä½¿ç”¨åè®®"><a href="#ä½¿ç”¨åè®®" class="headerlink" title="ä½¿ç”¨åè®®"></a>ä½¿ç”¨åè®®</h1><ul><li><a href="http://swift.gg/2016/01/27/generic-tableviewcells/index.html" target="_blank" rel="external">ä½¿ç”¨æ³›å‹æ¥ä¼˜åŒ– TableView Cells çš„ä½¿ç”¨ä½“éªŒ</a>è¯¦ç»†ä»‹ç»äº†å¦‚ä½•é€šè¿‡åè®®+æ³›å‹çš„æ–¹å¼ï¼Œä¼˜åŒ–TableView Cells çš„ä½¿ç”¨ä½“éªŒ</li></ul><h2 id="å…·ä½“çš„åšæ³•å¾ˆç®€å•"><a href="#å…·ä½“çš„åšæ³•å¾ˆç®€å•" class="headerlink" title="å…·ä½“çš„åšæ³•å¾ˆç®€å•:"></a>å…·ä½“çš„åšæ³•å¾ˆç®€å•:</h2><blockquote><p>â¶åè®®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//å£°æ˜äº†ä¸€ä¸ªåè®®</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Reusable</span>: <span class="title">class</span> </span>&#123;</div><div class="line">   <span class="keyword">static</span> <span class="keyword">var</span> reuseIdentifier: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//æä¾›å¹¶é»˜è®¤å®ç°äº†ä¸€ä¸ªreuseIdentifieré™æ€å±æ€§</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Reusable</span> </span>&#123;</div><div class="line">   <span class="keyword">static</span> <span class="keyword">var</span> reuseIdentifier: <span class="type">String</span> &#123;</div><div class="line">     <span class="keyword">return</span> <span class="type">String</span> (<span class="type">Self</span>) </div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â·æä¾›ä¸€ä¸ªæ³¨å†Œå’Œè·å–é‡ç”¨cellçš„æ–¹æ³•<br>è¿™æ ·åªè¦celléµå®ˆäº†Reusableåè®®ï¼Œå°±å¯ä»¥é€šè¿‡ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•æ³¨å†Œå¤ç”¨celläº†ã€‚å…·ä½“çš„ä»£ç å’Œä½¿ç”¨<a href="http://swift.gg/2016/01/27/generic-tableviewcells/index.html" target="_blank" rel="external">ä½¿ç”¨æ³›å‹æ¥ä¼˜åŒ– TableView Cells çš„ä½¿ç”¨ä½“éªŒ</a></p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">registerReusableCell</span>&lt;T: UITableViewCell where T: Reusable&gt;<span class="params">(<span class="number">_</span>: T.<span class="keyword">Type</span>)</span></span> &#123; </div><div class="line">     <span class="keyword">self</span>.registerClass(<span class="type">T</span>.<span class="keyword">self</span>, forCellReuseIdentifier: <span class="type">T</span>.reuseIdentifier) </div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">dequeueReusableCell</span>&lt;T: UITableViewCell where T: Reusable&gt;<span class="params">(indexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">T</span> &#123; </div><div class="line">      <span class="keyword">return</span> <span class="keyword">self</span>.dequeueReusableCellWithIdentifier(<span class="type">T</span>.reuseIdentifier, forIndexPath: indexPath) <span class="keyword">as</span>! <span class="type">T</span> </div><div class="line">      &#125;</div></pre></td></tr></table></figure><blockquote><p>cellå¿…é¡»éµå®ˆäº†Reusableåè®®ï¼Œè™½ç„¶é€šè¿‡è®©UITableViewCelléµå®ˆè¿™ä¸ªåè®®çš„æ–¹å¼ï¼Œé¿å…æ¯ä¸ªUITableViewCellå­celléƒ½å†™ä¸€éï¼Œä½†è¿™ä¾ç„¶è¿˜ä¸æ˜¯æœ€ç†æƒ³çš„è§£å†³æ–¹å¼ã€‚æœ€ç†æƒ³çš„è§£å†³æ–¹å¼ï¼Œåº”è¯¥æ˜¯åªéœ€è¦è°ƒç”¨æ–¹æ³•ï¼Œä¸éœ€è¦UITableViewCellåšä»»ä½•ä¿®æ”¹ï¼Œä¸ºæ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»“æ„ä½“ï¼Œè€Œéåè®®æ¥å®ç°</p></blockquote><h1 id="ä½¿ç”¨ç»“æ„ä½“"><a href="#ä½¿ç”¨ç»“æ„ä½“" class="headerlink" title="ä½¿ç”¨ç»“æ„ä½“"></a>ä½¿ç”¨ç»“æ„ä½“</h1><blockquote><p>ä½¿ç”¨æ³›å‹å®šä¹‰ä¸€ä¸ªReusableIdentifierç»“æ„ä½“ï¼Œæœ‰ä¸€ä¸ªidentifierçš„ä¸å˜é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">ReusableIdentifier</span> &lt;<span class="title">T</span>: <span class="title">UIView</span>&gt; </span>&#123;</div><div class="line">       <span class="keyword">let</span> identifier: string</div><div class="line">       </div><div class="line">       <span class="keyword">init</span> () &#123;</div><div class="line">          identifier = <span class="type">String</span>(<span class="type">T</span>.<span class="type">Self</span>)</div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ³¨å†Œçš„æ—¶å€™å°±éå¸¸ç®€å•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">tableview.register(<span class="type">UITableViewCell</span>.<span class="keyword">self</span>)</div></pre></td></tr></table></figure><blockquote><p>åŒæ ·çš„ï¼Œå¯ä»¥ä¸ºUITableViewå®ç°ä¸€ä¸ªdequeueæ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="meta">@warn_unused_result</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">dequeue</span>&lt;T: UICollectionViewCell&gt;<span class="params">(indexPath: NSIndexPath)</span></span> -&gt; <span class="type">T</span> &#123;</div><div class="line">    <span class="keyword">let</span> rid = <span class="type">ReusableIdentifier</span>&lt;<span class="type">T</span>&gt;()</div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> cell = dequeueReusableCellWithReuseIdentifier(rid.identifier, forIndexPath: indexPath) <span class="keyword">as</span>? <span class="type">T</span> <span class="keyword">else</span> &#123; </div><div class="line">    <span class="built_in">assertionFailure</span>(<span class="string">"No identifier(\(rid.identifier)) found for \(T.self)"</span>)</div><div class="line">    <span class="keyword">return</span> <span class="type">T</span>.<span class="keyword">init</span>()</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> cell</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦æŒ‡å®šcellçš„ç±»å‹ï¼Œä¼ å…¥indexPathå³å¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> cell: <span class="type">UITableViewCell</span> = tableview.dequeue(indexPath)</div></pre></td></tr></table></figure><ul><li><p>é€šè¿‡å¼•å…¥ä¸€ä¸ªç»“æ„ä½“ï¼Œåˆ©ç”¨æ³›å‹ç‰¹æ€§ï¼Œä¸éœ€è¦å¯¹å·²æœ‰çš„ç±»å‹åšä»»ä½•ä¿®æ”¹ï¼Œåªéœ€è¦æ›¿æ¢æ³¨å†Œå’Œå¤ç”¨cellæ—¶è°ƒç”¨çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥éå¸¸ä¼˜é›…çš„å¤ç”¨Tableview Cellã€‚</p></li><li><p>å‚è€ƒä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ReusableIdentifierç»“æ„ä½“ï¼Œä¸ºUICollectionViewå®ç°ç›¸åº”çš„æ–¹æ³•</p></li></ul>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Lib </category>
          
          <category> Reusable </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Lib </tag>
            
            <tag> Reusable </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>RxSwift + ReactorKit æ„å»ºä¿¡æ¯æµæ¡†æ¶</title>
      <link href="/2018/03/02/RxSwift/Demo/RxSwift%20%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%A1%86%E6%9E%B6/"/>
      <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/48545ae1e33f" target="_blank" rel="external">https://www.jianshu.com/p/48545ae1e33f</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>RxSwift + ReactorKit æ„å»ºä¿¡æ¯æµæ¡†æ¶</title>
      <link href="/2018/03/02/RxSwift/Func/RxSwift%20+%20ReactorKit%20%E6%9E%84%E5%BB%BA%E4%BF%A1%E6%81%AF%E6%B5%81%E6%A1%86%E6%9E%B6/"/>
      <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/dff7b0368d2b" target="_blank" rel="external">https://www.jianshu.com/p/dff7b0368d2b</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Lib-Thenåè®®åº“-åˆå§‹åŒ–æ–¹å¼</title>
      <link href="/2018/03/02/Swift/Lib/Then%E5%8D%8F%E8%AE%AE%E5%BA%93-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F/"/>
      <content type="html"><![CDATA[<h1 id="å†™æ³•å¯¹æ¯”"><a href="#å†™æ³•å¯¹æ¯”" class="headerlink" title="å†™æ³•å¯¹æ¯”"></a>å†™æ³•å¯¹æ¯”</h1><blockquote><p>æ™®é€šçš„å†™æ³•ï¼Œå…ˆçœ‹é€šè¿‡Blockåˆ›å»ºå¯¹è±¡çš„å†™æ³•<br>ä¼˜ç‚¹ï¼šä»£ç æ•´åˆåœ¨ä¸€ä¸ªé—­åŒ…é‡Œé¢ï¼Œå¯è¯»æ€§å¼º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="number">_</span> = &#123; () -&gt; <span class="type">UILabel</span> <span class="keyword">in</span> </div><div class="line"> <span class="keyword">let</span>  label = <span class="type">UILab</span>()</div><div class="line"> view.addSubview(label)</div><div class="line"> label.text = <span class="string">"myLabel"</span></div><div class="line"> label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</div><div class="line"> label.center = <span class="keyword">self</span>.view.center</div><div class="line"> label.bounds = <span class="type">CGRect</span>.<span class="keyword">init</span>(x : <span class="number">0</span>, y : <span class="number">0</span>, width : <span class="number">100</span>, height : <span class="number">50</span>)</div><div class="line"> <span class="keyword">return</span> label</div><div class="line"> &#125;()</div></pre></td></tr></table></figure><blockquote><p>åœ¨Blockå¤–åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œå†ä¼ è¿›é—­åŒ…è¿›è¡Œè®¾å€¼ï¼Œç»Ÿä¸€ç”¨$0å–å‚æ•°å¯¹è±¡ï¼Œä¸ç”¨å†å»çƒ¦å¦‚ä½•å‘½åäº†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å‘½åï¼Œå‚è€ƒåæ–‡çš„å†™æ³• ä¸è¿‡æœ‰ä¸ªç¼ºç‚¹ï¼šé‡Œé¢çš„$0æ²¡æ³•è‡ªåŠ¨è”æƒ³å‡ºå±æ€§ï¼Œæ‰‹æ•²å‡ è¡Œä»£ç ä½ å°±ä¼šè“ç˜¦é¦™è‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="number">_</span> =:<span class="type">UILabel</span> &#123;</div><div class="line">  view.addSubview($<span class="number">0</span>)</div><div class="line">  $<span class="number">0</span>.text = <span class="string">"æµ‹è¯•"</span></div><div class="line">  $<span class="number">0</span>.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</div><div class="line">  $<span class="number">0</span>.center = <span class="keyword">self</span>.view.center</div><div class="line">  $<span class="number">0</span>.bounds = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">100</span>,height: <span class="number">50</span>)</div><div class="line">  <span class="keyword">return</span> $<span class="number">0</span></div><div class="line">&#125;(<span class="type">UILabel</span>())</div></pre></td></tr></table></figure><blockquote><p>ç”¨Thenåè®®åº“çš„åˆå§‹åŒ–å†™æ³•<br>æ¯”ä¸Šé¢çš„ä»£ç æ›´ç®€æ´ï¼Œä¸ç”¨å†™returnäº†ï¼Œè€Œä¸”é‡Œé¢çš„$0è¿˜èƒ½è‡ªåŠ¨è”æƒ³ã€‚ä¼˜ç‚¹ï¼šæš‚æ—¶æ²¡æœ‰åæ§½ç‚¹</p><p>å¸¦å‚æ•°ï¼Œå¯è‡ªè¡Œå‘½å</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="number">_</span> = <span class="type">UILabel</span>().then_Any&#123; (label) <span class="keyword">in</span></div><div class="line">    label.backgroundColor = .blue</div><div class="line">    label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</div><div class="line">    label.textAlinment = .center</div><div class="line">    label.text = <span class="string">"Thenåè®®åº“å†™æ³•"</span></div><div class="line">    label.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">20</span>, y:<span class="number">200</span>, width: <span class="number">150</span>, height:<span class="number">40</span>)</div><div class="line">      <span class="comment">// ä¸ä¼šå¾ªç¯å¼•ç”¨(å·²æµ‹è¯•)</span></div><div class="line">     <span class="keyword">self</span>.view.addSubview(label)</div></pre></td></tr></table></figure><blockquote><p>(æ¨è)æ— å‚æ•°ï¼Œæ— éœ€å‘½åï¼Œç”¨$0å–å‚æ•°ï¼Œå¯è‡ªåŠ¨è”æƒ³å±æ€§(æ¨è)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="number">_</span> = <span class="type">UILabel</span>().then_Any&#123;</div><div class="line">   $<span class="number">0</span>.backgroundColor = .blue</div><div class="line">   $<span class="number">0</span>.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</div><div class="line">   $<span class="number">0</span>.textAlignment = .center</div><div class="line">   $<span class="number">0</span>.text = <span class="string">"Thenåº“å†™æ³•1.1"</span></div><div class="line">   $<span class="number">0</span>.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">200</span>, y: <span class="number">200</span>, height: <span class="number">50</span>)</div><div class="line">   <span class="keyword">self</span>.view.adSubview($<span class="number">0</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>2.0 å¸¦å‚æ•°ï¼Œå¯è‡ªè¡Œå‘½å</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> label_Any0 = <span class="type">UILabel</span>().then&#123; (label) <span class="keyword">in</span></div><div class="line">    label.backgroundColor = .blue</div><div class="line">    label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</div><div class="line">    label.textAlignment = .center</div><div class="line">    label.text = <span class="string">"Thenåº“å†™æ³•_2.0"</span></div><div class="line">    label.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">200</span>, y:<span class="number">240</span>, width:<span class="number">150</span>, height: <span class="number">40</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">self</span>.view.addSubview(label_Any0)</div></pre></td></tr></table></figure><blockquote><p>2.1 (æ¨è)æ— å‚æ•°ï¼Œæ— éœ€å‘½åï¼Œç”¨$0å–å‚æ•°ï¼Œå¯è‡ªåŠ¨è”æƒ³å±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="number">_</span> = <span class="type">UILabel</span>().then &#123;</div><div class="line">   $<span class="number">0</span>.backgroundColor = .blue</div><div class="line">   $<span class="number">0</span>.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</div><div class="line">   $<span class="number">0</span>.textAlignment = .center</div><div class="line">   $<span class="number">0</span>.text = <span class="string">"Thenåº“å†™æ³•_2.1"</span></div><div class="line">   $<span class="number">0</span>.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="number">200</span>, y: <span class="number">260</span>,width: <span class="number">150</span>,height: <span class="number">40</span>)</div><div class="line">   <span class="keyword">self</span>.view.addSubview($<span class="number">0</span>)</div></pre></td></tr></table></figure><blockquote><p>æ —å­ï¼šæŸå·¥å‚æ–¹æ³• </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">label</span> (<span class="title">withFrame</span> <span class="title">frame</span>: <span class="title">CGRect</span>, <span class="title">text</span>: <span class="title">String</span>?, <span class="title">font</span>: <span class="title">UIFont</span>)-&gt;<span class="title">UILabel</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">UILabel</span>.<span class="keyword">init</span>(frame: frame).then(block: &#123; (label) <span class="keyword">in</span> </div><div class="line">          label.text = text</div><div class="line">          label.textColor = <span class="type">UIColor</span>.black</div><div class="line">          label.backgroundColor = <span class="type">UIColor</span>.white</div><div class="line">          label.font = font</div><div class="line"> &#125;)</div></pre></td></tr></table></figure><blockquote><p>å…¶å®Thenåè®®åº“åªæœ‰åå‡ è¡Œä»£ç ï¼Œä½†æ˜¯èƒ½å¸¦æ¥éå¸¸å¥½çš„ä½“éªŒæ„Ÿï¼Œç®€çº¦å®ç”¨ï¼Œä¸ä¼šå‡ºç°å¾ªç¯å¼•ç”¨ã€‚ä¸‹é¢çš„ä»£ç å¯ä»¥å¤åˆ¶åˆ°ä¸€ä¸ªswift fileä¸­ï¼Œç›´æ¥ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Then</span> </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Then</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">Any</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">then_Any</span><span class="params">( block: <span class="params">(<span class="keyword">inout</span> <span class="keyword">Self</span>)</span></span></span> -&gt; <span class="type">Void</span>) -&gt; <span class="type">Self</span> &#123;</div><div class="line">        <span class="keyword">var</span> copy = <span class="keyword">self</span></div><div class="line">        block(&amp;copy)</div><div class="line">        <span class="keyword">return</span> copy</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Then</span> <span class="title">where</span> <span class="title">Self</span>: <span class="title">AnyObject</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">then</span><span class="params">( block: <span class="params">(<span class="keyword">Self</span>)</span></span></span> -&gt; <span class="type">Void</span>) -&gt; <span class="type">Self</span> &#123;</div><div class="line">        block(<span class="keyword">self</span>)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">self</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NSObject</span>: <span class="title">Then</span> </span>&#123;&#125;</div></pre></td></tr></table></figure><p><a href="https://www.jianshu.com/p/6cc1e21df6ac" target="_blank" rel="external">å‚è€ƒåŸæ–‡</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Lib </category>
          
          <category> Then </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>RxSwift+Moya+åˆ—è¡¨å±•ç¤º</title>
      <link href="/2018/03/01/RxSwift/Demo/RxSwift+Moya+%E5%88%97%E8%A1%A8%E5%B1%95%E7%A4%BA/"/>
      <content type="html"><![CDATA[<h1 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h1><blockquote><p>æ ¹æ®ç½‘ä¸Šdemoä»¿å†™<a href="https://mp.weixin.qq.com/s/B-AdatKDkjknKCYorqSfEw" target="_blank" rel="external">åŸæ–‡</a></p></blockquote><h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>Controller</td><td></td><td></td></tr><tr><td></td><td>LXFViewController.swift</td><td>ä¸»è§†å›¾æ§åˆ¶å™¨</td></tr><tr><td>Extension</td><td></td><td></td></tr><tr><td></td><td>Response+ObjectMapper.swift</td><td>Responseåˆ†ç±»ï¼ŒMoyaè¯·æ±‚å®Œè¿›è¡ŒJsonè½¬æ¨¡å‹æˆ–æ¨¡å‹æ•°ç»„</td></tr><tr><td>Model</td><td></td><td></td></tr><tr><td></td><td>LXFModel.swift</td><td>æ¨¡å‹</td></tr><tr><td>Protocol</td><td></td><td></td></tr><tr><td></td><td>LXFViewModelType.swift</td><td>å®šä¹‰äº†æ¨¡å‹åè®®</td></tr><tr><td>Tool</td><td></td><td></td></tr><tr><td></td><td>LXFNetworkTool.swift</td><td>å°è£…Moyaè¯·æ±‚</td></tr><tr><td></td><td>LXFProgressHUD.swift</td><td>å°è£…çš„HUD</td></tr><tr><td>View</td><td></td><td></td></tr><tr><td></td><td>LXFViewCell.swift</td><td>è‡ªå®šä¹‰cell</td></tr><tr><td></td><td>LXFViewCell.xib</td><td>cellçš„xibæ–‡ä»¶</td></tr><tr><td>ViewModel</td><td></td><td></td></tr><tr><td></td><td>LXFViewModel.swift</td><td>è§†å›¾æ¨¡å‹</td></tr><tr><td></td><td></td></tr></tbody></table><h2 id="ç¬¬ä¸‰æ–¹åº“"><a href="#ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“"></a>ç¬¬ä¸‰æ–¹åº“</h2><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>RxSwift</td><td>æƒ³ç©RxSwiftçš„å¿…å¤‡åº“</td></tr><tr><td>RxCocoa</td><td>å¯¹ UIKit Foundation è¿›è¡Œ Rx åŒ–</td></tr><tr><td>NSObject+Rx</td><td>ä¸ºæˆ‘ä»¬æä¾› rx_disposeBag</td></tr><tr><td>Moya/RxSwift</td><td>ä¸ºRxSwiftä¸“ç”¨æä¾›ï¼Œå¯¹Alamofireè¿›è¡Œå°è£…çš„ä¸€ä¸ªç½‘ç»œè¯·æ±‚åº“</td></tr><tr><td>ObjectMapper</td><td>Jsonè½¬æ¨¡å‹ä¹‹å¿…å¤‡è‰¯å“</td></tr><tr><td>RxDataSources</td><td>å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨tableViewçš„æ•°æ®æºæ–¹æ³•</td></tr><tr><td>Then</td><td>æä¾›å¿«é€Ÿåˆå§‹åŒ–çš„è¯­æ³•ç³–</td></tr><tr><td>Kingfisher</td><td>å›¾ç‰‡åŠ è½½åº“</td></tr><tr><td>SnapKit</td><td>è§†å›¾çº¦æŸåº“</td></tr><tr><td>Reusable</td><td>å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨è‡ªå®šä¹‰cellå’Œview,ä¸å†å‡ºç°Optional</td></tr><tr><td>MJRefresh</td><td>ä¸Šæ‹‰åŠ è½½ã€ä¸‹æ‹‰åˆ·æ–°çš„åº“</td></tr><tr><td>SVProgressHUD</td><td>ç®€å•æ˜“ç”¨çš„HUD</td></tr></tbody></table><h3 id="Moya"><a href="#Moya" class="headerlink" title="Moya"></a>Moya</h3><ul><li>Moyaæ˜¯åŸºäºAlamofireçš„ç½‘ç»œè¯·æ±‚åº“</li><li>Moyaçš„åŸºç¡€ä¸Šæ·»åŠ äº†å¯¹RxSwiftçš„æ¥å£æ”¯æŒ</li></ul><blockquote><p>â¶åˆ›å»ºä¸€ä¸ªæšä¸¾ï¼Œç”¨æ¥å­˜æ”¾è¯·æ±‚ç±»å‹</p><ul><li>é¡ºä¾¿è®¾ç½®ç›¸åº”çš„è·¯å¾„ï¼Œç­‰ä¸‹ç»Ÿä¸€å–å‡ºæ¥ç›´æ¥èµ‹å€¼å³å¯</li></ul></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">LXFNetworkCategory</span> : <span class="title">String</span> </span>&#123;</div><div class="line"> <span class="keyword">case</span> all = <span class="string">"all"</span></div><div class="line"> <span class="keyword">case</span> android = <span class="string">"Android"</span></div><div class="line"> <span class="keyword">case</span> ios = <span class="string">"iOS"</span></div><div class="line"> <span class="keyword">case</span> welfare = <span class="string">"ç¦åˆ©"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â·æšä¸¾å†™ä¸€ä¸ªæ‰©å±•ï¼Œå¹¶éµå¾ªå¡„ TargetTypeï¼Œè¿™ä¸ªåè®®çš„Moyaè¿™ä¸ªåº“è§„å®šçš„åè®®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">LXFNetworkTool</span> : <span class="title">TargetType</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">//baseURL ç»Ÿä¸€åŸºæœ¬çš„URL</span></div><div class="line">    <span class="keyword">var</span> baseURL : <span class="type">URL</span> &#123;</div><div class="line">       <span class="keyword">return</span> <span class="type">URL</span> (string : <span class="string">"http://xxxx/xx/"</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//pathå­—æ®µä¼šè¿½åŠ è‡³baseURLåé¢</span></div><div class="line">    <span class="keyword">var</span> path : <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span>.data(<span class="keyword">let</span> type, <span class="keyword">let</span> size , <span class="keyword">let</span> index):</div><div class="line">             <span class="keyword">return</span> <span class="string">"(type.rawValue)/(size)/(index)"</span></div><div class="line">         &#125;</div><div class="line">     &#125;</div><div class="line">     </div><div class="line">     <span class="comment">// HTTPçš„è¯·æ±‚æ–¹å¼</span></div><div class="line">     <span class="keyword">var</span> method : <span class="type">Moya</span>.<span class="type">Method</span> &#123;</div><div class="line">       <span class="keyword">return</span> .<span class="keyword">get</span></div><div class="line">     &#125;</div><div class="line">     </div><div class="line">      <span class="comment">//è¯·æ±‚å‚æ•°(ä¼šåœ¨è¯·æ±‚æ—¶è¿›è¡Œç¼–ç )</span></div><div class="line">      <span class="keyword">var</span> parameters : [<span class="type">String</span> : <span class="type">Any</span>]?&#123;</div><div class="line">          <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">      &#125;</div><div class="line">      </div><div class="line">       <span class="comment">//å‚æ•°ç¼–ç æ–¹å¼(è¿™é‡Œä½¿ç”¨URLçš„é»˜è®¤æ–¹å¼)</span></div><div class="line">       <span class="keyword">var</span> parameterEncoding : <span class="type">ParameterEncoding</span> &#123;</div><div class="line">           <span class="keyword">return</span> <span class="type">URLEncoding</span>.<span class="keyword">default</span></div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="comment">//ç”¨äºå•å…ƒæµ‹è¯•ï¼Œä¸éœ€è¦çš„å°±åƒæˆ‘ä¸€æ ·éšä¾¿å†™å†™</span></div><div class="line">       <span class="keyword">var</span> sampleData : <span class="type">Data</span> &#123;</div><div class="line">           <span class="keyword">return</span> <span class="string">"AAAA"</span>.data(using : .utf8)</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">      <span class="comment">//å°†è¦è¢«æ‰§è¡Œçš„ä»»åŠ¡(è¯·æ±‚ï¼šrequest ä¸‹è½½ï¼šupload ä¸Šä¼ ï¼šdownload)</span></div><div class="line">      </div><div class="line">      <span class="keyword">var</span> task : <span class="type">Task</span> &#123;</div><div class="line">          <span class="keyword">return</span> .reuqest</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">      <span class="comment">//æ˜¯å¦æ‰§è¡ŒAlamofireéªŒè¯ï¼Œé»˜è®¤å€¼ä¸ºfalse</span></div><div class="line">        <span class="keyword">var</span> validate : <span class="type">Bool</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">      &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â¸å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ç”¨äºæ•´ä¸ªé¡¹ç›®çš„ç½‘ç»œè¯·æ±‚<br>ä»¥ä½¿ç”¨è¿™ä¸ªå…¨å±€å˜é‡æ¥è¯·æ±‚æ•°æ®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> lxfNetTool = <span class="type">RxMoyaProvider</span>&lt;<span class="type">LXFNetworkTool</span>&gt;</div></pre></td></tr></table></figure><h3 id="RxDataSources"><a href="#RxDataSources" class="headerlink" title="RxDataSources"></a>RxDataSources</h3><ul><li>RxDataSourcesæ˜¯ä»¥sectionæ¥åšä¸ºæ•°æ®ç»“æ„æ¥ä¼ è¾“</li></ul><blockquote><p>è‡ªå®šä¹‰Section<br>Modelä¸­åˆ›å»ºä¸€ä¸ªSectionçš„ç»“æ„ä½“ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ‰©å±•ï¼Œéµå¾ªSectionModelTypeåè®®ï¼Œå®ç°ç›¸åº”çš„åè®®æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">LXFModel</span>.swift</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">LXFSection</span> </span>&#123;</div><div class="line">  <span class="comment">// itemså°±æ˜¯rows</span></div><div class="line">  <span class="keyword">var</span> items : [<span class="type">Item</span>]</div><div class="line">  <span class="comment">//è¿™é‡ŒåŠ ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ headerView çš„ title</span></div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">LXFSection</span> : <span class="title">SectionModelType</span> </span>&#123;</div><div class="line">  <span class="comment">// é‡å®šä¹‰ Item çš„ç±»å‹ä¸º LXFModel</span></div><div class="line">  <span class="keyword">typealias</span> <span class="type">Item</span> = <span class="type">LXFModel</span></div><div class="line">  </div><div class="line">  <span class="comment">// å®ç°åè®®ä¸­çš„æ–¹å¼</span></div><div class="line">    <span class="keyword">init</span>(original: <span class="type">LXFSection</span>, items: [<span class="type">LXFSection</span>.<span class="type">Item</span>]) &#123;</div><div class="line">        <span class="keyword">self</span> = original</div><div class="line">        <span class="keyword">self</span>.items = items</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â·æ§åˆ¶å™¨ä¸‹åˆ›å»ºæ•°æ®æºå±æ€§<br>LXFViewController.swift</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±æ€§ï¼Œç±»å‹ä¸ºè‡ªå®šä¹‰çš„Sectionç±»å‹</span></div><div class="line">   <span class="keyword">let</span> dataSource = <span class="type">RxTableViewSectionedReloadDataSource</span>&lt;<span class="type">LXFSection</span>&gt;()</div><div class="line">   </div><div class="line"> <span class="comment">//ä½¿ç”¨æ•°æ®æºå±æ€§ç»‘å®šcell</span></div><div class="line"> dataSource.configureCell = &#123; ds,tv,ip,iteam <span class="keyword">in</span></div><div class="line">   <span class="comment">// è¿™ä¸ªåœ°æ–¹ä½¿ç”¨äº†Reusableè¿™ä¸ªåº“ï¼Œåœ¨LXFViewCellä¸­éµå®ˆäº†ç›¸åº”çš„åè®®</span></div><div class="line">   <span class="comment">// ä½¿å…¶æ–¹ä¾¿è½¬æ¢cellä¸ºéå¯é€‰å‹çš„ç›¸åº”çš„cellç±»å‹</span></div><div class="line">   <span class="keyword">let</span> cell = tv.dequeueReusableCell(<span class="keyword">for</span> : ip) <span class="keyword">as</span> <span class="type">LXFViewCell</span></div><div class="line">   cell.picView.kf.setImgage(with : <span class="type">URL</span>(string: item.url))</div><div class="line">   cell.descLabel.text = <span class="string">"æè¿° : (item.desc)"</span></div><div class="line">   cell.sourceLabel.text = <span class="string">"æ¥æº : (item.source)"</span></div><div class="line">   <span class="keyword">return</span> cell;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â¸sectionsåºåˆ—ç»‘å®šç»™æˆ‘ä»¬çš„rows</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">output.sections</div><div class="line">      .asDriver()</div><div class="line">      .drive(tableView.rx</div><div class="line">                      .items(dataSource : dataSource))</div><div class="line">       .addDisposable(rx_disposeBag)</div></pre></td></tr></table></figure><h3 id="ViewModelçš„è§„èŒƒ"><a href="#ViewModelçš„è§„èŒƒ" class="headerlink" title="ViewModelçš„è§„èŒƒ"></a>ViewModelçš„è§„èŒƒ</h3><ul><li>MVVMæ€æƒ³æ˜¯å°†åŸæœ¬åœ¨ViewControllerçš„è§†å›¾æ˜¾ç¤ºé€»è¾‘ã€éªŒè¯é€»è¾‘ã€ç½‘ç»œè¯·æ±‚ç­‰ä»£ç å­˜æ”¾äºViewModelä¸­ï¼Œè¾¾åˆ°ViewControllerç˜¦èº«-</li><li>é€»è¾‘ç”±ViewModelè´Ÿè´£ï¼Œå¤–ç•Œä¸éœ€è¦å…³å¿ƒï¼Œå¤–ç•Œåªéœ€è¦ç»“æœï¼ŒViewModelä¹Ÿåªéœ€è¦å°†ç»“æœç»™åˆ°å¤–ç•Œ</li><li>åŸºäºæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåè®®LXFViewModelType</li></ul><blockquote><p>â¶åˆ›å»ºLXFViewModelType.swift</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">LXFViewModelType</span>.swift</div><div class="line"></div><div class="line"><span class="comment">// associatedtype å…³é”®å­— ç”¨æ¥å£°æ˜ä¸€ä¸ªç±»å‹çš„å ä½ç¬¦ä½œä¸ºåè®®å®šä¹‰çš„ä¸€éƒ¨åˆ†</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">LXFViewModelType</span> </span>&#123;</div><div class="line"></div><div class="line">  associatedtype <span class="type">Input</span></div><div class="line">  associatedtype <span class="type">Output</span></div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">transform</span><span class="params">(input : Input )</span></span> - &gt; <span class="type">Output</span></div></pre></td></tr></table></figure><blockquote><p>â·viewModeléµå®ˆLXFViewModelTypeåè®®</p></blockquote><ul><li>å¯ä»¥ä¸ºXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«åï¼Œä»¥ç¤ºåŒºåˆ†,å¦‚ï¼šè¿™ä¸ªviewModelçš„ç”¨äºè¯·æ±‚é¦–é¡µæ¨¡å—ç›¸å…³è”çš„ï¼Œåˆ™å¯ä»¥å‘½åä¸ºï¼šHomeInput å’Œ HomeOutput</li><li>å¯ä»¥ä¸°å¯Œæˆ‘ä»¬çš„ Input å’Œ Output ã€‚å¯ä»¥çœ‹åˆ°ä¸ºOutputæ·»åŠ äº†ä¸€ä¸ªåºåˆ—ï¼Œç±»å‹ä¸ºè‡ªå®šä¹‰çš„LXFSectionæ•°ç»„ï¼Œåœ¨Inputé‡Œé¢æ·»åŠ äº†ä¸€ä¸ªè¯·æ±‚ç±»å‹(å³è¦è¯·æ±‚ä»€ä¹ˆæ•°æ®ï¼Œæ¯”å¦‚é¦–é¡µçš„æ•°æ®)</li><li>é€šè¿‡ transform æ–¹æ³•å°†inputæºå¸¦çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆäº†ä¸€ä¸ªOutput</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">LXFViewModel</span>.swift</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">LXFViewModel</span> :<span class="title">LXFViewModelType</span> </span>&#123;</div><div class="line">        <span class="comment">// å­˜æ”¾ç€è§£æå®Œæˆçš„æ¨¡å‹æ•°ç»„</span></div><div class="line">        <span class="keyword">let</span> models = <span class="type">Variable</span> &lt;[<span class="type">LXFModel</span>]&gt;([])</div><div class="line">        </div><div class="line">        <span class="comment">// ä¸ºLXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«å</span></div><div class="line">        <span class="keyword">typealias</span> <span class="type">Input</span> = <span class="type">LXFInput</span></div><div class="line">        <span class="keyword">typealias</span> <span class="type">Output</span> = <span class="type">LXFOutput</span></div><div class="line">        </div><div class="line">        <span class="comment">// ä¸°å¯ŒInputå’ŒOutput</span></div><div class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">LXFInput</span> </span>&#123;</div><div class="line">           <span class="comment">//ç½‘ç»œè¯·æ±‚ç±»å‹</span></div><div class="line">           <span class="keyword">let</span> category : <span class="type">LXFNetworkTool</span>.<span class="type">LXFNetworkCategory</span></div><div class="line">           int(category : <span class="type">LXFNetworkTool</span>.<span class="type">LXFNetworkCategory</span>)&#123;</div><div class="line">              <span class="keyword">self</span>.category = category</div><div class="line">        &#125;</div><div class="line">     &#125;</div><div class="line">     </div><div class="line">     <span class="class"><span class="keyword">struct</span> <span class="title">LXFOutput</span> </span>&#123;</div><div class="line">            <span class="comment">//tableViewçš„sectionsæ•°æ®</span></div><div class="line">            <span class="keyword">let</span> sections : <span class="type">Driver</span> &lt;<span class="type">LXFsection</span>&gt;</div><div class="line">            </div><div class="line">            <span class="keyword">init</span>(sections : <span class="type">Driver</span> &lt;[<span class="type">LXFSection</span>]&gt;)&#123;</div><div class="line">               <span class="keyword">self</span>.sections = sections</div><div class="line">             &#125;</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">      <span class="function"><span class="keyword">func</span> <span class="title">transform</span><span class="params">(input : LXFViewModel.LXFInput)</span></span> -&gt; <span class="type">LXFViewModel</span>.<span class="type">LXFOutput</span>&#123;</div><div class="line">           <span class="keyword">let</span> sections = models.asObservable()</div><div class="line">                                .<span class="built_in">map</span>&#123; (models) -&gt; [<span class="type">LXFSection</span>] <span class="keyword">in</span> </div><div class="line">                                 <span class="comment">// å½“modelsçš„å€¼è¢«æ”¹å˜æ—¶ä¼šè°ƒç”¨ï¼Œè¿™æ˜¯Variableçš„ç‰¹æ€§</span></div><div class="line">                                 <span class="comment">// è¿”å›sectionæ•°ç»„</span></div><div class="line">                                 <span class="keyword">return</span> [<span class="type">LXFSection</span>(item : models)]</div><div class="line">                                 &#125;</div><div class="line">                                 .asDriver(onErrorJustReturn : [])</div><div class="line">           <span class="keyword">let</span> output = <span class="type">LXFOutput</span>(sections : sections)</div><div class="line">       <span class="comment">// æ¥ä¸‹æ¥çš„ä»£ç æ˜¯ç½‘ç»œè¯·æ±‚</span></div><div class="line">      &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â¸åœ¨ViewControllerä¸­åˆå§‹åŒ–æˆ‘ä»¬çš„inputï¼Œé€šè¿‡transformå¾—åˆ°outputï¼Œ<br>ç„¶åå°†outputä¸­çš„sectionsåºåˆ—ç»‘å®štableViewçš„items</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">LXFViewController</span>.swift</div><div class="line"></div><div class="line"><span class="comment">// åˆå§‹åŒ–input</span></div><div class="line"><span class="keyword">let</span> vmInput = <span class="type">LXFViewModel</span>.<span class="type">LXFInput</span>(category : welfare)</div><div class="line"><span class="comment">// é€šè¿‡transformå¾—åˆ°output</span></div><div class="line"><span class="keyword">let</span> vmOutput = viewModel.transform(input : vmInput)</div><div class="line">vmOutput.sections</div><div class="line">        .asDriver()</div><div class="line">        .drive(tableView.rx</div><div class="line">                        .items(dataSource : dataSource))</div><div class="line">        .addDisposableTo(rx_disposeBag)</div></pre></td></tr></table></figure><h3 id="MJRefresh"><a href="#MJRefresh" class="headerlink" title="MJRefresh"></a>MJRefresh</h3><blockquote><p>â¶å®šä¹‰æšä¸¾LXFRefreshStatusï¼Œç”¨äºæ ‡å¿—å½“å‰åˆ·æ–°çŠ¶æ€</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">LXFRefreshStatus</span> </span>&#123;</div><div class="line">     <span class="keyword">case</span> <span class="keyword">none</span></div><div class="line">     <span class="keyword">case</span> beingHeaderRefresh</div><div class="line">     <span class="keyword">case</span> endHeaderRefresh</div><div class="line">     <span class="keyword">case</span> beingFooterRefresh</div><div class="line">     <span class="keyword">case</span> endFooterRefresh</div><div class="line">     <span class="keyword">case</span> noMoreData</div><div class="line"> &#125;</div></pre></td></tr></table></figure><blockquote><p>â·LXFOutputæ·»åŠ ä¸€ä¸ªrefreshStatusåºåˆ—ï¼Œç±»å‹ä¸ºLXFRefreshStatus<br>ç»™å¤–ç•Œè®¢é˜…ï¼Œå‘Šè¯‰å¤–ç•Œçš„tableViewå½“å‰çš„åˆ·æ–°çŠ¶æ€</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> refreshStatus = <span class="type">Variable</span>&lt;<span class="type">LXFRefreshStatus</span>&gt;(.<span class="keyword">none</span>)</div></pre></td></tr></table></figure><ul><li>è¿›è¡Œç½‘ç»œè¯·æ±‚å¹¶å¾—åˆ°ç»“æœä¹‹åï¼Œä¿®æ”¹refreshStatusçš„valueä¸ºç›¸åº”çš„LXFRefreshStatusé¡¹</li></ul><blockquote><p>â¸å¤–ç•Œè®¢é˜…outputçš„refreshStatus,å¹¶ä¸”æ ¹æ®æ¥æ”¶åˆ°çš„å€¼è¿›è¡Œç›¸åº”çš„æ“ä½œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">vmOutput.refreshStatus</div><div class="line">        .asObservable()</div><div class="line">        .subscribe(onNext : &#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] status <span class="keyword">in</span> </div><div class="line">          <span class="keyword">switch</span> status &#123;</div><div class="line">           <span class="keyword">case</span> .beingHeaderRefresh:</div><div class="line">                <span class="keyword">self</span>?.tableView.mj_header</div><div class="line">                     .beginRefreshing()</div><div class="line">           <span class="keyword">case</span> .endHeaderRefresh:</div><div class="line">                <span class="keyword">self</span>?.tableView</div><div class="line">                     .mj_header</div><div class="line">                     .endRefreshing()</div><div class="line">           <span class="keyword">case</span> .beingFooterRefresh:</div><div class="line">                <span class="keyword">self</span>?.tableView</div><div class="line">                     .mj_footer</div><div class="line">                     .beginRefreshing()</div><div class="line">           <span class="keyword">case</span> .endFooterRefresh:</div><div class="line">                <span class="keyword">self</span>?.tableView</div><div class="line">                     .mj_footer</div><div class="line">                     .endRefreshing</div><div class="line">           <span class="keyword">case</span> .noMoreData :</div><div class="line">                 <span class="keyword">self</span>?.tableView</div><div class="line">                       .endRefreshingWithNoMoreData()</div><div class="line">            <span class="keyword">default</span> :</div><div class="line">             <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">  &#125;).addDisposable(rx_disposeBag)</div></pre></td></tr></table></figure><blockquote><p>â¹outputæä¾›ä¸€ä¸ªrequestCommondç”¨äºè¯·æ±‚æ•°æ®<br>PublishSubject çš„ç‰¹ç‚¹ï¼šå³å¯ä»¥ä½œä¸ºObservableï¼Œä¹Ÿå¯ä»¥ä½œä¸ºObserverï¼Œå°±æ˜¯å¯ä»¥å‘é€ä¿¡å·ï¼Œä¹Ÿå¯ä»¥è®¢é˜…ä¿¡å·<br>å¤–ç•Œé€šè¿‡è¯¥å±æ€§å‘Šè¯‰viewModelåŠ è½½æ•°æ®ï¼ˆä¼ å…¥çš„å€¼æ˜¯ä¸ºäº†æ ‡å¿—æ˜¯å¦é‡æ–°åŠ è½½ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> requestCommond = <span class="type">PublishSubject</span>&lt;<span class="type">Bool</span>&gt;()</div></pre></td></tr></table></figure><blockquote><p>åœ¨transformä¸­ï¼Œå¯¹ç”Ÿæˆçš„outputçš„requestCommondè¿›è¡Œè®¢é˜…</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">output.requestCommond</div><div class="line">      .subscribe(onNext : &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] isReloadData <span class="keyword">in</span></div><div class="line">      <span class="keyword">self</span>.index = isReload ?<span class="number">1</span>:<span class="keyword">self</span>.index+<span class="number">1</span></div><div class="line">      lxfNetTool.request(.data(type:input.category,</div><div class="line">                               size:<span class="number">10</span>,</div><div class="line">                               index:<span class="keyword">self</span>.index</div><div class="line">                               )</div><div class="line">                         )</div><div class="line">                 .mapArray(<span class="type">LXFModel</span>.<span class="keyword">self</span>)</div><div class="line">                 .subscribe(&#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (event) <span class="keyword">in</span></div><div class="line">                     <span class="keyword">switch</span> event &#123;</div><div class="line">                        <span class="keyword">case</span> <span class="keyword">let</span>.next(modelArr):</div><div class="line">                           <span class="keyword">self</span>?.models.value = isReloadData?modelArr:(<span class="keyword">self</span>?.models.value??[])+modelArr</div><div class="line">                           <span class="type">LXFProgressHUD</span>.showSuccess(<span class="string">"åŠ è½½æˆåŠŸ"</span>)</div><div class="line">                        <span class="keyword">case</span> <span class="keyword">let</span>.error(error):</div><div class="line">                           <span class="type">LXFProgressHUD</span>.showError(error.localizedDescription)</div><div class="line">                        <span class="keyword">case</span> .completed:</div><div class="line">                           output.refreshStatus.value = isReloadData?.endHeaderRefresh:.endFooterRefresh</div><div class="line">                     &#125;</div><div class="line">                  &#125;)</div><div class="line">                  .addDisposableTo(slf.rx_disposeBag)</div><div class="line">     &#125;)</div><div class="line">     .addDisposableTo(rx_disposeBag)</div></pre></td></tr></table></figure><blockquote><p>âºåœ¨ViewControllerä¸­åˆå§‹åŒ–åˆ·æ–°æ§ä»¶<br>ä¸ºtableViewè®¾ç½®åˆ·æ–°æ§ä»¶ï¼Œå¹¶ä¸”åœ¨åˆ›å»ºåˆ·æ–°æ§ä»¶çš„å›è°ƒä¸­ä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">tableView.mj_header = <span class="type">MJRefreshNormalHeader</span>(refreshingBlock:&#123;</div><div class="line">  vmOutput.requestCommond</div><div class="line">          .onNext(<span class="literal">true</span>)</div><div class="line"> &#125;)</div><div class="line"></div><div class="line">tableView.mj_footer = <span class="type">MJRefreshAutoNormalFooter</span>(refreshingBlock:&#123;</div><div class="line">  vmOutput.requestCommond</div><div class="line">          .onNext(<span class="literal">false</span>)</div></pre></td></tr></table></figure><h1 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h1><ul><li>ViewControllerå·²ç»æ‹¿åˆ°outputï¼Œå½“ä¸‹æ‹‰åŠ è½½æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡æ¯ï¼Œå‘Šè¯‰viewModelæˆ‘ä»¬è¦åŠ è½½æ•°æ®</li><li>viewModelè¯·æ±‚æ•°æ®ï¼Œåœ¨å¤„ç†å®Œjsonè½¬æ¨¡å‹æˆ–æ¨¡å‹æ•°ç»„åä¿®æ”¹modelsï¼Œå½“modelsçš„å€¼è¢«ä¿®æ”¹çš„æ—¶å€™ä¼šå‘ä¿¡å·ç»™sectionsï¼Œsectionsåœ¨ViewControllerå·²ç»ç»‘å®šåˆ°tableViewçš„itemsäº†ï¼Œæ‰€ä»¥æ­¤æ—¶tableViewçš„æ•°æ®ä¼šè¢«æ›´æ–°ã€‚æ¥ç€æˆ‘ä»¬æ ¹æ®è¯·æ±‚ç»“æœï¼Œä¿®æ”¹outputçš„refreshStatuså±æ€§çš„å€¼</li><li>å½“outputçš„refreshStatuså±æ€§çš„å€¼æ”¹å˜åï¼Œä¼šå‘å°„ä¿¡å·ï¼Œç”±äºå¤–ç•Œä¹‹å‰å·²ç»è®¢é˜…äº†outputçš„refreshStatusï¼Œæ­¤æ—¶å°±ä¼šæ ¹æ®refreshStatusçš„æ–°å€¼æ¥å¤„ç†åˆ·æ–°æ§ä»¶çš„çŠ¶æ€</li></ul><p><a href="https://github.com/LinXunFeng/RxSwiftDemo" target="_blank" rel="external">åŸæ–‡Demo</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
          <category> Demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
            <tag> Demo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>RxSwift+Moya+ç™»å½•+æœç´¢</title>
      <link href="/2018/03/01/RxSwift/Demo/RxSwift+Moya+%E7%99%BB%E5%BD%95+%E6%90%9C%E7%B4%A2/"/>
      <content type="html"><![CDATA[<h1 id="é¡¹ç›®åŠŸèƒ½"><a href="#é¡¹ç›®åŠŸèƒ½" class="headerlink" title="é¡¹ç›®åŠŸèƒ½"></a>é¡¹ç›®åŠŸèƒ½</h1><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>ç™»å½•æ³¨å†ŒåŠŸèƒ½</td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
          <category> Demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
            <tag> Demo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Closuresé—­åŒ…-ä½¿ç”¨åˆ†æ</title>
      <link href="/2018/02/28/Swift/Grammar/Closures%E9%97%AD%E5%8C%85-%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90/"/>
      <content type="html"><![CDATA[<h1 id="OC-Block"><a href="#OC-Block" class="headerlink" title="OC-Block"></a>OC-Block</h1><blockquote><p>Blocké€šå¸¸ä¼šç”¨åœ¨ç½‘ç»œè¯·æ±‚ä¸­ï¼Œè¯·æ±‚åˆ°æ•°æ®åç„¶åå›è°ƒ</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">HttpTool</span></span></div><div class="line">-(<span class="keyword">void</span>)loadData:(<span class="keyword">void</span>(^)(<span class="built_in">NSString</span> * json))callBack&#123;</div><div class="line">        <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">         <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="built_in">NSThread</span> currentThread]);</div><div class="line">         <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">         <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="built_in">NSThread</span> currentThread]);</div><div class="line">            callBack(<span class="string">@"222"</span>);</div><div class="line">          &#125;);</div><div class="line">        &#125;);</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure><blockquote><p>è°ƒç”¨</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></div><div class="line">   <span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) HttpTool * tool;</div><div class="line">   <span class="keyword">@end</span></div><div class="line">   <span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line">   - (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">     [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="keyword">self</span>.tool = [HttpTool new];</div><div class="line">  &#125;</div><div class="line">-(<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span>&lt;<span class="built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</div><div class="line">        [<span class="keyword">self</span>.tool loadData:^(<span class="built_in">NSString</span> *json) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,json);</div><div class="line">          &#125;];</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure><h1 id="ç”¨é—­åŒ…æ¥é‡å†™ä¸Šé¢çš„é€»è¾‘"><a href="#ç”¨é—­åŒ…æ¥é‡å†™ä¸Šé¢çš„é€»è¾‘" class="headerlink" title="ç”¨é—­åŒ…æ¥é‡å†™ä¸Šé¢çš„é€»è¾‘"></a>ç”¨é—­åŒ…æ¥é‡å†™ä¸Šé¢çš„é€»è¾‘</h1><blockquote><p>1ï¼Œé—­åŒ…çš„ç±»å‹ï¼š(å‚æ•°åˆ—è¡¨) -&gt; (è¿”å›å€¼åˆ—è¡¨)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HttpTool</span>:<span class="title">NSObject</span></span>&#123;</div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">loadData</span><span class="params">(callBack:<span class="params">(json:String)</span></span></span>-&gt;())&#123;</div><div class="line">  dispatch_async(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>)) &#123;</div><div class="line">      <span class="built_in">print</span>(<span class="string">"\(NSthread.currentThread)"</span>)</div><div class="line">      dispatch_sync(dispatch_get_main_queue(), &#123;</div><div class="line">      <span class="built_in">print</span>(<span class="string">"\((NSThread.currentThread())"</span>)</div><div class="line">      callBack(json:<span class="string">"json"</span>)</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>2.è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"><span class="keyword">var</span> tool : <span class="type">HttpTool</span> = <span class="type">HttpTool</span>()</div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">super</span>.viewDidLoad()</div><div class="line">&#125;</div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?)</span></span> &#123;</div><div class="line">  tool.loadData&#123;(json) <span class="keyword">in</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"\(json)"</span>)</div><div class="line"> &#125;</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="å¾ªç¯å¼•ç”¨"><a href="#å¾ªç¯å¼•ç”¨" class="headerlink" title="å¾ªç¯å¼•ç”¨"></a>å¾ªç¯å¼•ç”¨</h1><h2 id="blackå¾ªç¯å¼•ç”¨"><a href="#blackå¾ªç¯å¼•ç”¨" class="headerlink" title="blackå¾ªç¯å¼•ç”¨"></a>blackå¾ªç¯å¼•ç”¨</h2><blockquote><p>weak self<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event</div><div class="line">&#123;</div><div class="line">  __weak ViewController * weakSelf = self;</div><div class="line">      [self.tool loadData:^(NSString *json) &#123;</div><div class="line">          NSLog(@&quot;%@&quot;,json);</div><div class="line">          weakSelf.view.backgroundColor = [UIColor redColor];</div><div class="line">             &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p></blockquote><h2 id="é—­åŒ…çš„å¾ªç¯å¼•ç”¨"><a href="#é—­åŒ…çš„å¾ªç¯å¼•ç”¨" class="headerlink" title="é—­åŒ…çš„å¾ªç¯å¼•ç”¨"></a>é—­åŒ…çš„å¾ªç¯å¼•ç”¨</h2><blockquote><p>é—­åŒ…å¼ºå¼•ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit </div><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Httptool</span>: <span class="title">NSObject</span></span>&#123;</div><div class="line">    <span class="comment">//å£°æ˜æˆå¯é€‰ç±»å‹çš„é—­åŒ…</span></div><div class="line">    <span class="keyword">var</span> callBack :((json : <span class="type">String</span>)-&gt;())?</div><div class="line">     <span class="function"><span class="keyword">func</span> <span class="title">loadData</span><span class="params">(callBack : <span class="params">(json : String)</span></span></span>-&gt;()) &#123;</div><div class="line">      <span class="comment">//å¼ºå¼•ç”¨</span></div><div class="line">      <span class="keyword">self</span>.callBack = callBack</div><div class="line">       dispatch_async(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>)) &#123;</div><div class="line">       <span class="built_in">print</span>(<span class="string">"\(NSThread.currentThread())"</span>)</div><div class="line">        dispatch_sync(dispatch_get_main_queue(), &#123;</div><div class="line">         <span class="built_in">print</span>(<span class="string">"\(NSThread.currentThread())"</span>)</div><div class="line">          callBack(json: <span class="string">"json"</span>)</div><div class="line">                &#125;)</div><div class="line">            &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è§£å†³é—­åŒ…å¾ªç¯å¼•ç”¨çš„3ç§æ–¹å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line">     <span class="keyword">var</span> tool : <span class="type">HttpTool</span> = <span class="type">HttpTool</span>()</div><div class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">&#125;</div><div class="line"></div><div class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?)</span></span> &#123;</div><div class="line">          <span class="comment">/*</span></div><div class="line"><span class="comment">        weak var weakSelf = self</span></div><div class="line"><span class="comment">        tool.loadData &#123; (json) in</span></div><div class="line"><span class="comment">        print("\(json)")</span></div><div class="line"><span class="comment">        //weakSelf?.view ï¼š å¦‚æœå‰é¢çš„å¯é€‰ç±»å‹ï¼Œæ²¡æœ‰å€¼ï¼Œåé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ</span></div><div class="line"><span class="comment">        //å¦‚æœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf</span></div><div class="line"><span class="comment">        weakSelf?.view.backgroundColor = UIColor.redColor()</span></div><div class="line"><span class="comment">          &#125;</span></div><div class="line"><span class="comment">        */</span></div><div class="line">        </div><div class="line">          tool.loadData &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (json) <span class="keyword">in</span></div><div class="line">               <span class="built_in">print</span>(<span class="string">"\(json)"</span>)</div><div class="line">               <span class="comment">//weakSelf?.view ï¼š å¦‚æœå‰é¢çš„å¯é€‰ç±»å‹ï¼Œæ²¡æœ‰å€¼ï¼Œåé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ</span></div><div class="line">               <span class="comment">//å¦‚æœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf</span></div><div class="line">                 <span class="keyword">self</span>?.view.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">           &#125;</div><div class="line">           </div><div class="line">              <span class="comment">/*</span></div><div class="line"><span class="comment">              //è¿™ç§å†™æ³•ä¸€æ—¦selfä¸ºç©ºï¼Œå°±ä¼šæŠ¥é”™</span></div><div class="line"><span class="comment">              //unownedç›¸å½“äºocä¸­çš„__unsafe_unretainedï¼Œ__unsafe_unretained ä¿®é¥°çš„å¼±å¼•ç”¨ï¼Œå¦‚æœæŒ‡å‘çš„å¯¹è±¡é”€æ¯ï¼Œé‚£ä¹ˆæŒ‡é’ˆæŒ‡å‘ä¹‹å‰çš„å†…å­˜åœ°å€ï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿåå†…å­˜è®¿é—®ï¼Œé‡æŒ‡é’ˆã€‚åƒµå°¸å¯¹è±¡</span></div><div class="line"><span class="comment">              tool.loadData &#123;[unowned self] (json) in</span></div><div class="line"><span class="comment">               print("\(json)")</span></div><div class="line"><span class="comment">               //weakSelf?.view ï¼š å¦‚æœå‰é¢çš„å¯é€‰ç±»å‹ï¼Œæ²¡æœ‰å€¼ï¼Œåé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ</span></div><div class="line"><span class="comment">               //å¦‚æœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf</span></div><div class="line"><span class="comment">                self.view.backgroundColor = UIColor.redColor()</span></div><div class="line"><span class="comment">               &#125;</span></div><div class="line"><span class="comment">    */</span></div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> <span class="comment">//ç›¸å½“äºocä¸­çš„deallocæ–¹æ³•</span></div><div class="line">    <span class="keyword">deinit</span>&#123;</div><div class="line">     <span class="built_in">print</span>(<span class="string">"deinit"</span>)</div><div class="line">     &#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure><h1 id="å°¾éšé—­åŒ…"><a href="#å°¾éšé—­åŒ…" class="headerlink" title="å°¾éšé—­åŒ…"></a>å°¾éšé—­åŒ…</h1><blockquote><p>æ™®é€šå†™æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">tool.loadData(&#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (json) <span class="keyword">in</span> </div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(json)"</span>)</div><div class="line">     <span class="comment">//weakSelf?.view ï¼š å¦‚æœå‰é¢çš„å¯é€‰ç±»å‹ï¼Œæ²¡æœ‰å€¼ï¼Œåé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ</span></div><div class="line">      <span class="comment">//å¦‚æœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf</span></div><div class="line">     <span class="keyword">self</span>?.view.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">&#125;)</div></pre></td></tr></table></figure><blockquote><p>å°¾éšé—­åŒ…ä¸€</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">tool.loadData () &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (json) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(json)"</span>)</div><div class="line">     <span class="comment">//weakSelf?.view ï¼š å¦‚æœå‰é¢çš„å¯é€‰ç±»å‹ï¼Œæ²¡æœ‰å€¼ï¼Œåé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ</span></div><div class="line">     <span class="comment">//å¦‚æœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å°¾éšé—­åŒ…äºŒï¼Œå½“é—­åŒ…ä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°æ—¶ï¼Œä¼šè‡ªåŠ¨çœç•¥()</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">tool.loadData &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (json) <span class="keyword">in</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"\(json)"</span>)</div><div class="line">  <span class="comment">//weakSelf?.view ï¼š å¦‚æœå‰é¢çš„å¯é€‰ç±»å‹ï¼Œæ²¡æœ‰å€¼ï¼Œåé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ</span></div><div class="line">  <span class="comment">//å¦‚æœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p><a href="https://www.jianshu.com/p/3a4e72b5eefd" target="_blank" rel="external"></a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-Func-è§‚å¯Ÿè€…ä¸é™€èºä»ªä¼ æ„Ÿå™¨çš„åº”ç”¨ï¼ˆåŸºäºPanoramaImageViewï¼‰</title>
      <link href="/2018/02/28/SceneKit/Func/SceneKit-Func-%E8%A7%82%E5%AF%9F%E8%80%85%E4%B8%8E%E9%99%80%E8%9E%BA%E4%BB%AA%E4%BC%A0%E6%84%9F%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/enjoy_azad/article/details/53981091" target="_blank" rel="external">èµ„æ–™æ¥æº</a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> SceneKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-Grammar-åæ ‡åŒºåŸŸé›†åˆäº¤äº’æ£€æµ‹.md</title>
      <link href="/2018/02/27/OC/Grammar/OC-%20%E5%9D%90%E6%A0%87%E5%8C%BA%E5%9F%9F%E9%9B%86%E5%90%88%E4%BA%A4%E4%BA%92%E6%A3%80%E6%B5%8B/"/>
      <content type="html"><![CDATA[<h1 id="åæ ‡åŒºåŸŸé›†åˆäº¤äº’æ£€æµ‹"><a href="#åæ ‡åŒºåŸŸé›†åˆäº¤äº’æ£€æµ‹" class="headerlink" title="åæ ‡åŒºåŸŸé›†åˆäº¤äº’æ£€æµ‹"></a>åæ ‡åŒºåŸŸé›†åˆäº¤äº’æ£€æµ‹</h1><h2 id="ç‚¹ä¸åŒºåŸŸ"><a href="#ç‚¹ä¸åŒºåŸŸ" class="headerlink" title="ç‚¹ä¸åŒºåŸŸ"></a>ç‚¹ä¸åŒºåŸŸ</h2><blockquote><p>åˆ¤æ–­ç»™å®šçš„ç‚¹æ˜¯å¦è¢«ä¸€ä¸ªCGRectåŒ…å« CGRectContainsPointå‡½æ•°</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">BOOL</span> contains = <span class="built_in">CGRectContainsPoint</span>(<span class="built_in">CGRect</span> rect, <span class="built_in">CGPoint</span> point);</div></pre></td></tr></table></figure><p>##åŒºåŸŸåŒ…å«</p><blockquote><p>åˆ¤æ–­ä¸€ä¸ªCGRectæ˜¯å¦åŒ…å«å†å¦ä¸€ä¸ªCGRecté‡Œé¢,å¸¸ç”¨ä¸æµ‹è¯•ç»™å®šçš„å¯¹è±¡ä¹‹é—´æ˜¯å¦åˆé‡å </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">BOOL</span> contains = <span class="built_in">CGRectContainsRect</span>(<span class="built_in">CGRect</span> rect1, <span class="built_in">CGRect</span> rect2);</div></pre></td></tr></table></figure><h2 id="åŒºåŸŸäº¤é›†"><a href="#åŒºåŸŸäº¤é›†" class="headerlink" title="åŒºåŸŸäº¤é›†"></a>åŒºåŸŸäº¤é›†</h2><blockquote><p>åˆ¤æ–­ä¸¤ä¸ªç»“æ„ä½“æ˜¯å¦æœ‰äº¤é”™.å¯ä»¥ç”¨CGRectIntersectsRect</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">BOOL</span> contains = <span class="built_in">CGRectIntersectsRect</span>(<span class="built_in">CGRect</span> rect1, <span class="built_in">CGRect</span> rect2);</div></pre></td></tr></table></figure><h2 id="è¾¹ç¼˜çš„åæ ‡"><a href="#è¾¹ç¼˜çš„åæ ‡" class="headerlink" title="è¾¹ç¼˜çš„åæ ‡"></a>è¾¹ç¼˜çš„åæ ‡</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">float</span> float_ = <span class="built_in">CGRectGetMaxX</span>(<span class="built_in">CGRect</span> rect);è¿”å›çŸ©å½¢å³è¾¹ç¼˜çš„åæ ‡</div><div class="line"><span class="built_in">CGRectGetMinY</span>è¿”å›çŸ©å½¢é¡¶éƒ¨çš„åæ ‡</div><div class="line"><span class="built_in">CGRectGetMidX</span>è¿”å›çŸ©å½¢ä¸­å¿ƒXçš„åæ ‡</div><div class="line"><span class="built_in">CGRectGetMidY</span> è¿”å›çŸ©å½¢ä¸­å¿ƒYçš„åæ ‡</div><div class="line"><span class="built_in">CGRectGetMinX</span> è¿”å›çŸ©å½¢å·¦è¾¹ç¼˜çš„åæ ‡</div><div class="line"><span class="built_in">CGRectGetMaxY</span> è¿”å›çŸ©å½¢åº•éƒ¨çš„åæ ‡</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> UIKit </category>
          
          <category> NSSet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> UIKit </tag>
            
            <tag> Grammar </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNMaterial-æè´¨-Base</title>
      <link href="/2018/02/15/SceneKit/Grammar/SCNMaterial-%E6%9D%90%E8%B4%A8/SCNMaterial-%E6%9D%90%E8%B4%A8-Base/"/>
      <content type="html"><![CDATA[<h1 id="SCNMaterial"><a href="#SCNMaterial" class="headerlink" title="SCNMaterial"></a>SCNMaterial</h1><blockquote><p>æè´¨:å‡ ä½•ä½“çš„å¤–è§‚,é¢œè‰²ï¼Œåå…‰å¼ºåº¦ç­‰ç­‰</p></blockquote><h2 id="â‘ å…‰ç…§æ¨¡å‹"><a href="#â‘ å…‰ç…§æ¨¡å‹" class="headerlink" title="â‘ å…‰ç…§æ¨¡å‹"></a>â‘ å…‰ç…§æ¨¡å‹</h2><blockquote><p>æåˆ°æè´¨å°±ä¸å¾—ä¸æåˆ°å…‰ç…§æ¨¡å‹ã€‚åœ¨ç°å®ç”Ÿæ´»ä¸­æœ‰å¤ªé˜³ï¼Œæ—¥å…‰ç¯ç­‰å¯ä»¥äº§ç”Ÿå…‰çš„å…‰æºï¼Œå…‰ç…§å°„åœ¨ç‰©ä½“ä¸Šï¼Œä¸åŒçš„ç‰©ä½“å‘ˆç°å‡ºä¸åŒçš„è´¨æ„Ÿï¼Œè¿™éƒ½æ˜¯å¾ˆå¹³å¸¸çš„<br>åœ¨è®¡ç®—æœºé‡Œï¼Œä½¿ç”¨å…‰æºç…§å°„3Dæ¨¡å‹ï¼Œäº§ç”Ÿå‡ºæƒ³è¦çš„è´¨æ„Ÿå°±ä¸æ˜¯é‚£ä¹ˆå¹³å¸¸ã€‚åœ¨OpenGLä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Shaderæ ¹æ®æä¾›çš„æè´¨å‚æ•°å’Œå…‰ç…§æ¥è®¡ç®—æ¯ä¸ªåƒç´ çš„é¢œè‰²ï¼Œä»è€Œäº§ç”Ÿç‰©ä½“è¢«å…‰ç…§å°„çš„æ„Ÿè§‰<br>æƒ³è¦äº†è§£Shaderä¸­æ˜¯å¦‚ä½•å®ç°å…‰ç…§æ¨¡å‹çš„åŸºæœ¬å…‰ç…§å’Œé«˜çº§å…‰ç…§å…¶ä¸­æœ‰æ¶‰åŠåˆ°lambertå’Œblinnä¸¤ç§å…‰ç…§æ¨¡å‹</p></blockquote><h3 id="â¶Lambert"><a href="#â¶Lambert" class="headerlink" title="â¶Lambert"></a>â¶Lambert</h3><ul><li>ä½¿ç”¨SCNMaterialæ¥è¡¨ç¤ºæè´¨</li><li>SCNMaterialçš„ä¸€ä¸ªå±æ€§lightingModelè¡¨ç¤ºçš„å°±æ˜¯ä½¿ç”¨ä½•ç§å…‰ç…§æ¨¡å‹ã€‚</li><li>é€‰æ‹©Lambertå…‰ç…§æ¨¡å‹ï¼Œå¹¶ä¸”è®¾ç½®å¦‚ä¸‹å±æ€§ï¼Œå¹¶ä¸”æŠŠmaterialèµ‹ç»™çƒå½¢å‡ ä½•ä½“geometry</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> material = <span class="type">SCNMaterial</span>()</div><div class="line">material.lightingModel = .lambert</div><div class="line">material.diffuse.contents = <span class="type">UIColor</span>.red</div><div class="line">material.ambient.contents = <span class="type">UIColor</span>.<span class="keyword">init</span>(white: <span class="number">0.1</span>, alpha: <span class="number">1</span>)</div><div class="line">material.locksAmbientWithDiffuse = <span class="literal">false</span></div><div class="line">geometry.materials = [material]</div></pre></td></tr></table></figure><p><img src="http://ot0mms4k8.bkt.clouddn.com/SCNMaterial-001.png" alt=""></p><blockquote><p>ä½¿ç”¨çš„ç¯å…‰åœ¨(0,6,3)å¤„ï¼Œæ‰€ä»¥çƒä½“ä¸Šé¢æ˜¯ç…§å°„åˆ°ç¯å…‰çš„ï¼Œä¸‹é¢æ˜¯ç°è‰²çš„ã€‚è¿™é‡Œæ¶‰åŠåˆ°äº†ä¸¤ä¸ªå…‰ç…§åˆ†é‡ï¼Œdiffuseå’Œambient<br>diffuseè¡¨ç¤ºå‡ ä½•ä½“çš„æœ¬è‰²ï¼Œæ‰€ä»¥ç¯å…‰ç…§å°„åˆ°çš„éƒ¨åˆ†å°±æ˜¯æœ¬è‰²çº¢è‰²ï¼Œæ³¨æ„ç”¨çš„ç¯å…‰æ˜¯ç™½è‰²çš„ï¼Œå¦‚æœç¯å…‰æ˜¯å…¶ä»–é¢œè‰²ï¼Œåˆ™ä¼šå’Œå‡ ä½•ä½“çš„æœ¬è‰²æ··åˆï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªé¢œè‰²è¿›è¡Œ3ç»´å‘é‡ä¹˜æ³•ã€‚é‚£ç¯å…‰ç…§å°„ä¸åˆ°çš„åœ°æ–¹å‘¢ï¼Ÿå°±æ˜¯ambientç¯å¢ƒå…‰<br>ç¯å¢ƒå…‰çš„å‡ºç°æ˜¯ä¸ºäº†è®©ç¯å…‰ç…§å°„ä¸åˆ°çš„åœ°æ–¹ä¸ä¼šæ˜¯å…¨é»‘ï¼Œä½ å¯ä»¥è¯•è¯•æŠŠç¯å¢ƒå…‰æ”¹æˆå…¶ä»–é¢œè‰²ï¼Œçœ‹çœ‹æ¸²æŸ“ç»“æœå¦‚ä½•<br>ç”±äºPBRå…‰ç…§æ¨¡å‹ä¸­ambientå’Œdiffuseæ˜¯é”å®šçš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠlocksAmbientWithDiffuseè®¾ç½®ä¸ºfalseï¼Œå¦åˆ™ambientåªèƒ½å’Œdiffuseå–ç›¸åŒçš„å€¼ã€‚å…³äºPBRå…‰ç…§æ¨¡å‹æˆ‘ä¼šåœ¨åé¢çš„æ–‡ç« å•ç‹¬ä»‹ç»ã€‚æœ€åå°†materialèµ‹å€¼ç»™å‡ ä½•ä½“ï¼Œè¿™é‡Œmaterialæ˜¯è¢«æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œèµ‹å€¼çš„ï¼Œå¦‚æœä½ çš„å‡ ä½•ä½“æœ‰å¤šä¸ªelementï¼Œç³»ç»Ÿä¼šæ ¹æ®é¡ºåºä¸ºæ¯ä¸ªelementæä¾›ä¸åŒçš„æè´¨ã€‚ç¬¬nä¸ªelementä¼šå¾—åˆ°ç¬¬n%æè´¨ä¸ªæ•°ä¸ªæè´¨</p><p>diffuseè¿˜å’Œæ³•çº¿ç›¸å…³ï¼Œæ³•çº¿å’Œå…‰çº¿çš„å¤¹è„šè¶Šå°ï¼Œåˆ™è¶Šäº®ã€‚æ³•çº¿å°±æ˜¯ä¸Šä¸€ç¯‡ä»£ç é‡Œçš„normals<br>æ€»çš„æ¥è¯´ï¼ŒLambertæ¨¡å‹å°±æ˜¯æœ€ç»ˆé¢œè‰²=å…‰çº¿å’Œæ³•çº¿å¤¹è„šç³»æ•°<em>å…‰ç…§é¢œè‰²</em>æœ¬è‰²diffuse + ç¯å¢ƒè‰²ambient</p></blockquote><h3 id="â·Blinn"><a href="#â·Blinn" class="headerlink" title="â·Blinn"></a>â·Blinn</h3><blockquote><p>Blinnå…‰ç…§æ¨¡å‹å…¶å®å°±æ˜¯åœ¨lambertåŸºç¡€ä¸ŠåŠ ä¸Šé«˜å…‰ï¼Œæˆ‘ä»¬å°†å…‰ç…§æ¨¡å‹ä¿®æ”¹ä¸º.blinnï¼Œå†è®¾ç½®é«˜å…‰çš„å±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> material.lightingModel = .blinn</div><div class="line">material.specular.contents = <span class="type">UIColor</span>.white</div><div class="line">material.shininess = <span class="number">1.0</span></div></pre></td></tr></table></figure><blockquote><p>å½“å…‰çº¿è¢«åå°„åå’Œæˆ‘ä»¬è§†çº¿çš„å¤¹è„šæ¯”è¾ƒå°çš„æ—¶å€™ï¼Œåœ¨é‡‘å±æˆ–è€…ç»ç’ƒç­‰åå…‰æè´¨ä¸‹ï¼Œä¼šçœ‹åˆ°éå¸¸äº®çš„åŒºåŸŸï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé«˜å…‰ã€‚è¶Šæ˜¯å…‰æ»‘çš„ç‰©ä½“ï¼Œé«˜å…‰åŒºåŸŸä¼šè¶Šå°ã€‚æˆ‘ä»¬ç”¨shininessæ¥è¡¨ç¤ºç‰©ä½“çš„è¡¨é¢æœ‰å¤šé—ªï¼ˆå…‰æ»‘ï¼‰ï¼Œå®ƒçš„å€¼ä»0åˆ°1ã€‚å€¼è¶Šå¤§ï¼Œè¶Šå…‰æ»‘ã€‚ä¸‹é¢æ˜¯å€¼ä¸º0.2å’Œ1çš„æ•ˆæœå›¾ã€‚material.specularè¡¨ç¤ºé«˜å…‰çš„é¢œè‰²ï¼Œä¸è¿‡æœ€ç»ˆå‘ˆç°çš„é«˜å…‰é¢œè‰²å—material.specularå’Œç¯å…‰çš„é¢œè‰²å…±åŒå½±å“ï¼Œæ˜¯å®ƒä»¬é¢œè‰²å€¼çš„ä¸‰ç»´å‘é‡ç›¸ä¹˜</p></blockquote><p><img src="http://ot0mms4k8.bkt.clouddn.com/SCNMaterial-002.png" alt=""></p><p><img src="http://ot0mms4k8.bkt.clouddn.com/SCNMaterial-002-2.png" alt=""></p><h2 id="â‘¡æè´¨å‚æ•°çš„å–å€¼"><a href="#â‘¡æè´¨å‚æ•°çš„å–å€¼" class="headerlink" title="â‘¡æè´¨å‚æ•°çš„å–å€¼"></a>â‘¡æè´¨å‚æ•°çš„å–å€¼</h2><blockquote><p>ä¸Šé¢æˆ‘åªç»™æè´¨çš„å‚æ•°èµ‹äºˆäº†é¢œè‰²å€¼ï¼Œé™¤äº†é¢œè‰²ï¼Œè¿˜å¯ä»¥èµ‹äºˆè´´å›¾ï¼Œæˆ–è€…è¯´æ˜¯å›¾ç‰‡<br>diffuseå’Œspecularéƒ½æ˜¯å¯ä»¥æ¥å—å›¾ç‰‡å¯¹è±¡çš„ã€‚æ¯”å¦‚ç»™diffuseèµ‹å€¼ä¸€å¼ åœ°çƒçš„è´´å›¾ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">material.diffuse.contents = <span class="type">UIImage</span>.<span class="keyword">init</span>(named: <span class="string">"earth.jpg"</span>)</div></pre></td></tr></table></figure><p><img src="http://ot0mms4k8.bkt.clouddn.com/SCNMaterial-003.png" alt=""></p><blockquote><p>æ•ˆæœå¦‚ä¸‹</p></blockquote><p><img src="http://ot0mms4k8.bkt.clouddn.com/SCNMaterial-003-2.png" alt=""></p><blockquote><p>specularæ¥å—çš„è´´å›¾å°±æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯ä¸€å¼ é»‘ç™½ä¸¤è‰²çš„å›¾ã€‚å›¾ä¸­é»‘è‰²å¯¹åº”çš„åœ°æ–¹å°†æ²¡æœ‰é«˜å…‰</p></blockquote><p><img src="" alt="004-1"></p><blockquote><p>ä½¿ç”¨äº†specularè´´å›¾<br>æ˜¾å¤§æµ·éƒ¨åˆ†é«˜å…‰</p></blockquote><p><img src="" alt="004-2"></p><blockquote><p>æ²¡æœ‰ä½¿ç”¨specularè´´å›¾</p></blockquote><p><img src="" alt="004-3"></p><blockquote><p>ä¸ç®¡æ˜¯ä»€ä¹ˆè´´å›¾ï¼Œéƒ½æ˜¯éœ€è¦å‡ ä½•ä½“æä¾›UVæ•°æ®çš„ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„è´´å›¾åæ ‡ï¼Œåœ¨ä¸Šä¸€ç¯‡çš„ä»£ç ä¸­æœ‰æ¶‰åŠåˆ°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> uvs: [<span class="type">CGPoint</span>] = [</div><div class="line">        <span class="type">CGPoint</span>(x: <span class="number">0</span>, y: <span class="number">1</span>),</div><div class="line">        <span class="type">CGPoint</span>(x: <span class="number">0</span>, y: <span class="number">0</span>),</div><div class="line">        <span class="type">CGPoint</span>(x: <span class="number">1</span>, y: <span class="number">0</span>),</div><div class="line">        <span class="type">CGPoint</span>(x: <span class="number">1</span>, y: <span class="number">1</span>),</div><div class="line">        ]</div><div class="line">    <span class="keyword">let</span> uvSource = <span class="type">SCNGeometrySource</span>.<span class="keyword">init</span>(textureCoordinates:</div><div class="line">uvs)</div></pre></td></tr></table></figure><p>ç³»ç»Ÿæä¾›çš„çƒå½¢å‡ ä½•ä½“å·²ç»æœ‰äº†UVæ•°æ®ï¼Œæ‰€ä»¥æ‰å¯ä»¥è½»æ¾çš„è¿›è¡Œè´´å›¾ï¼Œå…³äºè´´å›¾çš„æ›´å¤šä¿¡æ¯ï¼Œä¼šåœ¨åé¢çš„æ–‡ç« ä¸­ä»‹ç»ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥å»çœ‹æˆ‘å†™çš„åŸºäºOpenGLçš„è´´å›¾æ–‡ç« ã€‚</p><h2 id="â‘¢"><a href="#â‘¢" class="headerlink" title="â‘¢"></a>â‘¢</h2><h2 id="â‘£"><a href="#â‘£" class="headerlink" title="â‘£"></a>â‘£</h2><h2 id="â‘¤"><a href="#â‘¤" class="headerlink" title="â‘¤"></a>â‘¤</h2><p><a href="https://www.jianshu.com/p/d71c1bfee6d3" target="_blank" rel="external">https://www.jianshu.com/p/d71c1bfee6d3</a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
          <category> SCNMaterial </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
            <tag> SCNMaterial </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>RxSwift-Grammar-åŸºæœ¬æ¦‚å¿µç®€å•æ€»ç»“ä½¿ç”¨</title>
      <link href="/2018/02/11/RxSwift/Grammar/%E6%A6%82%E5%BF%B5%E5%BD%92%E7%BA%B3%E6%80%BB%E7%BB%93/"/>
      <content type="html"><![CDATA[<p><a href="http://www.cnblogs.com/scott-mr/p/7234769.html" target="_blank" rel="external"></a></p><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><ul><li>â‘ Observable å’Œ Observer</li><li>â‘¡subscribe å’Œ subscribe(onNext:)</li><li>â‘¢Dispose å’Œ DisposeBag</li><li>â‘£observeOn() å’Œ subscribeOn()</li><li>â‘¤shareReplay</li><li>â‘¥è‡ªå®šä¹‰operator</li><li>â‘¦Driver</li><li>â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨</li><li>â‘¨UIBindingObserver</li></ul><h2 id="â‘ Observable-å’Œ-Observer"><a href="#â‘ Observable-å’Œ-Observer" class="headerlink" title="â‘ Observable å’Œ Observer"></a>â‘ Observable å’Œ Observer</h2><blockquote><p>Observableå°±æ˜¯å¯è¢«è§‚å¯Ÿçš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„å®å®ï¼Œä»–ä¹Ÿæ˜¯äº‹ä»¶æºã€‚è€ŒObserverå°±æ˜¯æˆ‘ä»¬çš„è§‚å¯Ÿè€…ï¼Œä¹Ÿå°±æ˜¯å½“æ”¶åˆ°äº‹ä»¶çš„æ—¶å€™å»åšæŸäº›å¤„ç†çš„çˆ¸çˆ¸å¦ˆå¦ˆã€‚è§‚å¯Ÿè€…éœ€è¦å»è®¢é˜…(subscribe)è¢«è§‚å¯Ÿè€…ï¼Œæ‰èƒ½æ”¶åˆ°Observableçš„äº‹ä»¶é€šçŸ¥æ¶ˆæ¯</p></blockquote><h2 id="â‘¡subscribe-å’Œ-subscribe-onNext"><a href="#â‘¡subscribe-å’Œ-subscribe-onNext" class="headerlink" title="â‘¡subscribe å’Œ subscribe(onNext:)"></a>â‘¡subscribe å’Œ subscribe(onNext:)</h2><blockquote><p>subscribeæ˜¯è®¢é˜…sequenceå‘å‡ºçš„äº‹ä»¶ï¼Œæ¯”å¦‚nextäº‹ä»¶ï¼Œerroräº‹ä»¶ç­‰ã€‚<br>è€Œsubscribe(onNext:)æ˜¯ç›‘å¬sequenceå‘å‡ºçš„nextäº‹ä»¶ä¸­çš„elementè¿›è¡Œå¤„ç†ï¼Œä»–ä¼šå¿½ç•¥errorå’Œcompletedäº‹ä»¶<br>ç›¸å¯¹åº”çš„è¿˜æœ‰subscribe(onError:) å’Œ subscribe(onCompleted:)</p></blockquote><h2 id="â‘¢Dispose-å’Œ-DisposeBag"><a href="#â‘¢Dispose-å’Œ-DisposeBag" class="headerlink" title="â‘¢Dispose å’Œ DisposeBag"></a>â‘¢Dispose å’Œ DisposeBag</h2><blockquote><p>å½“ç›‘å¬ä¸€ä¸ªsequenceçš„æ—¶å€™ï¼Œæœ‰æ¶ˆæ¯äº‹ä»¶æ¥äº†ï¼Œæˆ‘ä»¬åšæŸäº›äº‹æƒ…ã€‚ä½†æ˜¯è¿™ä¸ªsequenceä¸å†å‘é€æ¶ˆæ¯äº‹ä»¶äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç›‘å¬ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆå­˜åœ¨çš„ä»·å€¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡Šæ”¾æˆ‘ä»¬è¿™äº›ç›‘å¬èµ„æºï¼Œå…¶å®ä¹Ÿå°±æ˜¯å†…å­˜èµ„æºé‡Šæ”¾ã€‚<br>é‡Šæ”¾æŸä¸€ä¸ªç›‘å¬çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼å¤„ç†ï¼š</p><p>å¯ä»¥æ‰‹åŠ¨è°ƒç”¨é‡Šæ”¾æ–¹å¼ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸é€‚ç”¨è¿™ç§æ–¹å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// å…³äºschedulerï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹é¢è®²åˆ°</span></div><div class="line"><span class="keyword">let</span> subscription = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">0.3</span>, scheduler: <span class="type">SerialDispatchQueueScheduler</span>.<span class="keyword">init</span>(internalSerialQueueName: <span class="string">"scott"</span>))</div><div class="line">    .observeOn(<span class="type">MainScheduler</span>.instance)  <span class="comment">//observeOnä¹Ÿä¼šåœ¨ä¸‹é¢è®²åˆ°</span></div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="type">Thread</span>.sleep(forTimeInterval: <span class="number">2.0</span>)</div><div class="line">    </div><div class="line">subscription.dispose()</div><div class="line"></div><div class="line">æ‰“å°ç»“æœï¼š</div><div class="line"></div><div class="line">next(<span class="number">0</span>)</div><div class="line">next(<span class="number">1</span>)</div><div class="line">next(<span class="number">2</span>)</div><div class="line">next(<span class="number">3</span>)</div><div class="line">next(<span class="number">4</span>)</div><div class="line">next(<span class="number">5</span>)</div></pre></td></tr></table></figure><blockquote><p>æ¯”å¦‚ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªsubscriptionç›‘å¬ï¼Œåœ¨ä¸¤ç§’ä»¥åæˆ‘ä»¬ä¸éœ€è¦äº†ï¼Œæ‰‹åŠ¨è°ƒç”¨dispose()æ–¹æ³•ï¼Œå°±èƒ½é‡Šæ”¾ç›‘å¬èµ„æºï¼Œä¸å†æ‰“å°ä¿¡æ¯ã€‚ä¸Šé¢çš„subscriptionä¸è®ºæ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ä¸­ç›‘å¬ï¼Œå°±ç®—åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨çš„dispose()æ–¹æ³•ä¸€æ ·ä¼šé”€æ¯èµ„æº</p><p>é™¤äº†ä¸Šè¿°æ‰‹åŠ¨é‡Šæ”¾èµ„æºå¤–ï¼Œè¿˜æœ‰ä¸€ç§è‡ªåŠ¨æ–¹å¼ï¼Œæ¨èå¤§å®¶ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å°±åƒiOSä¸­çš„ARCï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è§‚å¯Ÿè€…ï¼Œè‡ªåŠ¨é‡Šæ”¾èµ„æº</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.empty()</div><div class="line">   .subscribe &#123; event <span class="keyword">in</span></div><div class="line">       <span class="built_in">print</span>(event)</div><div class="line">   &#125;</div><div class="line">   .addDisposableTo(disposeBag)</div><div class="line">``` </div><div class="line">&gt;å¦‚ä¸Šä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªdisposeBagæ¥ç››æ”¾æˆ‘ä»¬éœ€è¦ç®¡ç†çš„èµ„æºï¼Œç„¶åæŠŠæ–°å»ºçš„ç›‘å¬éƒ½æ”¾è¿›å»ï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è¿™äº›èµ„æºã€‚å¦‚æœä½ éœ€è¦ç«‹å³é‡Šæ”¾èµ„æºåªéœ€è¦æ–°å»ºä¸€ä¸ª<span class="type">DisposeBag</span>()ï¼Œé‚£ä¹ˆä¸Šä¸€ä¸ª<span class="type">DisposeBag</span>å°±ä¼šè¢«é”€æ¯</div><div class="line"></div><div class="line">## â‘£observeOn() å’Œ subscribeOn()</div><div class="line"></div><div class="line">&gt; è¿™ä¸¤ä¸ªä¸œè¥¿åˆšå¼€å§‹çœ‹çš„æ—¶å€™ä¹Ÿæ˜¯ä¸€è„¸æ‡µé€¼ï¼Œå°±çŸ¥é“æœ€å¥½å¤šç”¨observeOn()ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥æ­å¼€å®ƒä»¬çš„é¢çº±çœ‹ä¸‹å®ƒä»¬çš„çœŸé¢ç›®å§</div><div class="line"></div><div class="line">åŒºåˆ«å…¶å®æˆ‘æ„Ÿè§‰å°±ä¸€å¥è¯ï¼ŒsubscribeOn()è®¾ç½®èµ·ç‚¹åœ¨å“ªä¸ªçº¿ç¨‹ï¼ŒobserveOn()è®¾ç½®äº†åç»­å·¥ä½œåœ¨å“ªä¸ªçº¿ç¨‹ã€‚ä¾‹å¦‚ï¼š</div><div class="line"></div><div class="line">```swift</div><div class="line"> someObservable </div><div class="line">    .doOneThing()  <span class="comment">// 1</span></div><div class="line">    .observeOn(<span class="type">MainRouteScheduler</span>.instance) <span class="comment">// 2</span></div><div class="line">    .subscribeOn(<span class="type">OtherScheduler</span>.instance) <span class="comment">// 3</span></div><div class="line">    .subscribeNext &#123; <span class="comment">// 4</span></div><div class="line">        ......</div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><ul><li>æ‰€æœ‰åŠ¨ä½œéƒ½å‘ç”Ÿåœ¨å½“å‰çš„é»˜è®¤çº¿ç¨‹</li><li>observeOn()è½¬æ¢çº¿ç¨‹åˆ°ä¸»çº¿ç¨‹ï¼Œä¸‹é¢æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ä¸»çº¿ç¨‹</li><li>subscribeOn()è§„å®šåŠ¨ä½œä¸€å¼€å§‹ä¸æ˜¯å‘ç”Ÿåœ¨é»˜è®¤çº¿ç¨‹ï¼Œè€Œæ˜¯åœ¨OtherScheduleräº†ã€‚</li><li>å¦‚æœæˆ‘ä»¬ä¹‹å‰æ²¡æœ‰è°ƒç”¨observeOn()ï¼Œé‚£ä¹ˆè¿™è¾¹ä¼šåœ¨OtherSchedulerå‘ç”Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å‰é¢è°ƒç”¨äº†observeOn()ï¼Œæ‰€ä»¥è¿™ä¸ªåŠ¨ä½œä¼šåœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨</li><li>æ€»ç»“ä¸€ä¸‹ï¼šsubscribeOn()åªæ˜¯å½±å“äº‹ä»¶é“¾å¼€å§‹é»˜è®¤çš„çº¿ç¨‹ï¼Œè€ŒobserveOn()è§„å®šäº†ä¸‹ä¸€æ­¥åŠ¨ä½œå‘ç”Ÿåœ¨å“ªä¸ªçº¿ç¨‹ä¸­ã€‚</li></ul><h2 id="â‘¤shareReplay"><a href="#â‘¤shareReplay" class="headerlink" title="â‘¤shareReplay"></a>â‘¤shareReplay</h2><blockquote><p>çœ‹å®˜æ–¹é¡¹ç›®é‡Œé¢çš„Demoæ—¶ï¼Œæˆ‘ä¹Ÿå¾ˆç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆå¾ˆå¤šçš„sequenceåé¢éƒ½æœ‰shareReplay(1)å‘¢ï¼Ÿæƒ³çš„æ˜å¤´æ¶¨è„‘ã€‚<br>è¿™é‡Œæˆ‘å°±ç»™å¤§å®¶è®²è§£ä¸€ä¸‹æˆ‘çš„ç†è§£å§ã€‚å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>.just(<span class="string">"ğŸ¤£"</span>).<span class="built_in">map</span>&#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;</div><div class="line">    </div><div class="line">observable.subscribe&#123;<span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)&#125;.disposed(by: disposeBag)</div><div class="line">observable.subscribe&#123;<span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)&#125;.disposed(by: disposeBag)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line">ğŸ¤£</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div><div class="line">ğŸ¤£</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div></pre></td></tr></table></figure><blockquote><p>å¤§å®¶å‘ç°æ²¡æœ‰ï¼Œmap()å‡½æ•°æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³è®©map()å‡½æ•°é‡Œé¢çš„ä¸œè¥¿æ‰§è¡Œä¸¤æ¬¡ï¼Œæ¯”å¦‚map()å‡½æ•°é‡Œé¢æ‰§è¡Œçš„æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œæˆ‘åªéœ€è¦æ‰§è¡Œä¸€æ¬¡è¯·æ±‚ï¼Œç„¶åæŠŠç»“æœæä¾›ç»™å¤§å®¶ä½¿ç”¨å°±è¡Œäº†ï¼Œå¤šä½™çš„è¯·æ±‚ä¼šå¢åŠ è´Ÿæ‹…ã€‚æ‰€ä»¥è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨shareReplay(1)äº†ã€‚è¿™é‡Œé¢çš„æ•°å­—ä¸€èˆ¬æ˜¯1ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚(ps:æˆ‘æ”¹æˆ 2ï¼Œ3 ä¹Ÿåªæ‰“å°ä¸€æ¬¡)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>.just(<span class="string">"ğŸ¤£"</span>).<span class="built_in">map</span>&#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;.shareReplay(<span class="number">1</span>)</div><div class="line">    </div><div class="line">observable.subscribe&#123;<span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)&#125;.disposed(by: disposeBag)</div><div class="line">observable.subscribe&#123;<span class="built_in">print</span>(<span class="string">"Even:\($0)"</span>)&#125;.disposed(by: disposeBag)</div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line">ğŸ¤£</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div><div class="line"><span class="type">Even</span>:next(())</div><div class="line"><span class="type">Even</span>:completed</div></pre></td></tr></table></figure><h2 id="â‘¥è‡ªå®šä¹‰operator"><a href="#â‘¥è‡ªå®šä¹‰operator" class="headerlink" title="â‘¥è‡ªå®šä¹‰operator"></a>â‘¥è‡ªå®šä¹‰operator</h2><blockquote><p>è‡ªå®šä¹‰æ“ä½œç¬¦å¾ˆç®€å•ï¼Œå®˜æ–¹æ¨èå°½é‡ä½¿ç”¨æ ‡å‡†çš„æ“ä½œç¬¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„æ“ä½œç¬¦ï¼Œæ–‡æ¡£ä¸Šè¯´æœ‰ä¸¤ç§æ–¹æ³•ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•å§ã€‚</p></blockquote><p>ä¾‹å¦‚æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªmapæ“ä½œç¬¦:</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">ObserverType</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">myMap</span>&lt;R&gt;<span class="params">(transform: E -&gt; R)</span></span> -&gt; <span class="type">Observable</span>&lt;<span class="type">R</span>&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">Observable</span>.create&#123; observer <span class="keyword">in</span></div><div class="line">            <span class="keyword">let</span> subscription = <span class="keyword">self</span>.subscribe &#123;e <span class="keyword">in</span></div><div class="line">                <span class="keyword">switch</span> e&#123;</div><div class="line">                <span class="keyword">case</span> .next(<span class="keyword">let</span> value):</div><div class="line">                    <span class="keyword">let</span> result = transform(value)</div><div class="line">                    observer.on(.next(result))</div><div class="line">                <span class="keyword">case</span> .error(<span class="keyword">let</span> error):</div><div class="line">                    observer.on(.error(error))</div><div class="line">                <span class="keyword">case</span> .completed:</div><div class="line">                    observer.on(.completed)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> subscription</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå…¶ä¸­é—­åŒ…å‚æ•°æ˜¯Eç±»å‹è¿”å›å€¼æ˜¯Rç±»å‹ï¼Œmapå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªObservableç±»å‹</p></blockquote><h2 id="â‘¦Driver"><a href="#â‘¦Driver" class="headerlink" title="â‘¦Driver"></a>â‘¦Driver</h2><blockquote><p>è®²è§£Driverä¹‹å‰æˆ‘ä»¬ç°åœ¨çœ‹çœ‹ä¸‹é¢çš„ğŸŒ°ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> results = query.rx.text</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .bindTo(resultCount.rx.text)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">results</div><div class="line">    .bindTo(resultsTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><ul><li>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯ç›‘å¬åºåˆ—resultsï¼Œå…¶ä¸­flatMapLatestä¸‹é¢ä¼šè®²;</li><li>ç„¶åå°†resultsç»‘å®šåˆ°resultCount.rx.textä¸Š;</li><li>å°†resultsç»‘å®šåˆ°resultsTableViewä¸Š.</li></ul><blockquote><p>ä¸Šé¢ç¨‹åºä¼šå‡ºç°ä¸‹é¢å‡ ä¸ªå¼‚å¸¸ï¼š</p></blockquote><ul><li>å¦‚æœfetchAutoCompleteItemså‡ºé”™ï¼Œé‚£ä¹ˆå®ƒç»‘å®šçš„UIå°†ä¸å†æ”¶åˆ°ä»»ä½•äº‹ä»¶æ¶ˆæ¯ï¼›</li><li>å¦‚æœfetchAutoCompleteItemså‘ç”Ÿåœ¨åå°çº¿ç¨‹ï¼Œé‚£ä¹ˆå®ƒç»‘å®šçš„äº‹ä»¶ä¹Ÿå°†åœ¨åå°çº¿ç¨‹æ‰§è¡Œï¼Œè¿™æ ·æ›´æ–°UIä¼šé€ æˆcrashï¼›</li><li>æœ‰ä¸¤æ¬¡ç»‘å®šï¼ŒfetchAutoCompleteItemså°±ä¼šæ‰§è¡Œä¸¤æ¬¡</li></ul><blockquote><p>å½“ç„¶é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆï¼Œé’ˆå¯¹ç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¥å™¨shareReplay(1)ä¿è¯åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨observeOn()ä¿è¯åé¢æ‰€æœ‰æ“ä½œåœ¨ä¸»çº¿ç¨‹å®Œæˆ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> results = query.rx.text</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">            .observeOn(<span class="type">MainScheduler</span>.instance)</div><div class="line">            .catchErrorJustReturn([])           </div><div class="line">    &#125;</div><div class="line">    .shareReplay(<span class="number">1</span>)</div><div class="line">                                 </div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .bindTo(resultCount.rx.text)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">results</div><div class="line">    .bindTo(resultTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>ä¹Ÿå¯ä»¥ä½¿ç”¨Driveræ¥è§£å†³</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> results = query.rx.text.asDriver()</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">            .asDriver(onErrorJustReturn: [])  <span class="comment">//å½“é‡è§é”™è¯¯éœ€è¦è¿”å›ä»€ä¹ˆ</span></div><div class="line">    &#125;   <span class="comment">//ä¸éœ€è¦æ·»åŠ shareReplay(1)</span></div><div class="line">    </div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .drive(resultCount.rx.text)     <span class="comment">//å’ŒbingTo()åŠŸèƒ½ä¸€æ ·</span></div><div class="line">    .addDisposableTo(disposeBag) </div><div class="line">                                             </div><div class="line">results</div><div class="line">    .drive(resultTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>driveæ–¹æ³•åªèƒ½åœ¨Driveråºåˆ—ä¸­ä½¿ç”¨ï¼ŒDriveræœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p></blockquote><ul><li>Driveråºåˆ—ä¸å…è®¸å‘å‡ºerrorï¼Œ</li><li>Driveråºåˆ—çš„ç›‘å¬åªä¼šåœ¨ä¸»çº¿ç¨‹ä¸­ã€‚</li></ul><blockquote><p>æ‰€ä»¥Driveræ˜¯ä¸“ä¸ºUIç»‘å®šé‡èº«æ‰“é€ çš„ä¸œè¥¿ã€‚<br>ä»¥ä¸‹æƒ…å†µä½ å¯ä»¥ä½¿ç”¨Driveræ›¿æ¢BindTo:</p></blockquote><ul><li>ä¸èƒ½å‘å‡ºerror;</li><li>åœ¨ä¸»çº¿ç¨‹ä¸­ç›‘å¬;</li><li>å…±äº«äº‹ä»¶æµ;</li></ul><h2 id="â‘§map-å’Œ-flatMap-ä½•æ—¶ä½¿ç”¨"><a href="#â‘§map-å’Œ-flatMap-ä½•æ—¶ä½¿ç”¨" class="headerlink" title="â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨"></a>â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨</h2><blockquote><p>mapå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªRç±»å‹çš„åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªRç±»å‹çš„åºåˆ—ï¼Œè¿˜æ˜¯åŸæ¥çš„åºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">map</span>&lt;R&gt;<span class="params">(<span class="number">_</span> transform: @escaping <span class="params">(<span class="keyword">Self</span>.E)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">R</span>) -&gt; <span class="type">RxSwift</span>.<span class="type">Observable</span>&lt;<span class="type">R</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>flatMapå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªOç±»å‹çš„åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªO.Eç±»å‹çš„åºåˆ—ï¼Œä¹Ÿå°±æ˜¯æœ‰åŸæ¥åºåˆ—é‡Œå…ƒç´ ç»„æˆçš„æ–°åºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">flatMap</span>&lt;O: ObservableConvertibleType&gt;<span class="params">(<span class="number">_</span> selector: @escaping <span class="params">(E)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">O</span>)</div><div class="line">       -&gt; <span class="type">Observable</span>&lt;<span class="type">O</span>.<span class="type">E</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>å…¶å®è¿™é‡Œçš„mapå’ŒflatMapåœ¨swiftä¸­çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚mapå‡½æ•°å¯ä»¥å¯¹åŸæœ‰åºåˆ—é‡Œé¢çš„äº‹ä»¶å…ƒç´ è¿›è¡Œæ”¹é€ ï¼Œè¿”å›çš„è¿˜æ˜¯åŸæ¥çš„åºåˆ—ã€‚è€ŒflatMapå¯¹åŸæœ‰åºåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ”¹é€ å’Œå¤„ç†ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è¿”å›ä¸€ä¸ªæ–°çš„sequenceï¼Œç„¶åæŠŠæ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„sequenceåˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„sequenceåºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>.of(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="string">"5"</span>).<span class="built_in">map</span>&#123;$<span class="number">0</span> + <span class="string">"scott"</span>&#125;</div><div class="line">    </div><div class="line">observable.subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;).disposed(by: disposeBag</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line"></div><div class="line">1scott</div><div class="line">2scott</div><div class="line">3scott</div><div class="line">4scott</div><div class="line">5scott</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨mapå¯¹åºåˆ—ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä½¿ç”¨flatMapéœ€è¦è¿”å›çš„åºåˆ—ã€‚é‚£ä¹ˆä½¿ç”¨mapä¹Ÿè¿”å›ä¸€ä¸ªåºåˆ—çœ‹çœ‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;</div><div class="line">    </div><div class="line">test.subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    <span class="comment">//è¿è¡Œç»“æœ:</span></div><div class="line">    <span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.(<span class="type">Just</span> <span class="keyword">in</span> _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>çœ‹åˆ°ç»“æœä¼šæ‰“å°å‡ºæ¯ä¸€ä¸ªåºåˆ—ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨merge()æ–¹æ³•å°†è¿™å‡ ä¸ªåºåˆ—è¿›è¡Œåˆå¹¶:</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;.merge()</div><div class="line">    </div><div class="line">test.subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    è¿è¡Œç»“æœ:</div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div></pre></td></tr></table></figure><blockquote><p>åˆå¹¶ä¸ºä¸€ä¸ªæ–°åºåˆ—åæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸æ‰“å°å…ƒç´ äº†ã€‚ä¸‹é¢çœ‹çœ‹ä½¿ç”¨faltMap()å‡½æ•°å¹²è¿™ä»¶äº‹:</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .flatMap &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;</div><div class="line">    </div><div class="line">test.subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">    <span class="comment">//è¿è¡Œç»“æœ:</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div></pre></td></tr></table></figure><blockquote><p>çœ‹ä¸‹å¯¹æ¯”æ˜¯ä¸æ˜¯ä¸€æ ·ï¼Œè¿™æ ·å­å¯¹æ¯”å°±æ¸…æ™°äº†å§ã€‚</p></blockquote><ul><li>mapå‡½æ•°åªèƒ½è¿”å›åŸæ¥çš„é‚£ä¸€ä¸ªåºåˆ—ï¼Œé‡Œé¢çš„å‚æ•°çš„è¿”å›å€¼è¢«å½“åšåŸæ¥åºåˆ—ä¸­æ‰€å¯¹åº”çš„å…ƒç´ ã€‚</li><li>flatMapå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—ï¼Œå°†åŸæ¥å…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›è¿™äº›å¤„ç†åçš„å…ƒç´ ç»„æˆçš„æ–°åºåˆ—</li><li><p>mapå‡½æ•° + åˆå¹¶å‡½æ•° = flatMapå‡½æ•°</p></li><li><p>flatMapå‡½æ•°åœ¨å®é™…åº”ç”¨ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ï¼Œç½‘ç»œè¯·æ±‚å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¯·æ±‚è¿‡ç¨‹è¿›è¡Œç›‘å¬ï¼Œç„¶åå¤„ç†é”™è¯¯ã€‚åªè¦ç»§ç»­ä»–è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—</p></li></ul><h2 id="â‘¨UIBindingObserver"><a href="#â‘¨UIBindingObserver" class="headerlink" title="â‘¨UIBindingObserver"></a>â‘¨UIBindingObserver</h2><blockquote><p>UIBindingObserverè¿™ä¸ªä¸œè¥¿å¾ˆæœ‰ç”¨çš„ï¼Œåˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ç›‘å¬è€…ï¼Œæœ‰æ—¶å€™RxCocoa(RxSwiftä¸­å¯¹UIKitçš„ä¸€ä¸ªæ‰©å±•åº“)ç»™çš„æ‰©å±•ä¸å¤Ÿæˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªUITextFieldæœ‰ä¸ªisEnabledå±æ€§ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªisEnabledå˜ä¸ºä¸€ä¸ªobserverï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åš</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">Reactive</span> <span class="title">where</span> <span class="title">Base</span>: <span class="title">UITextField</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> inputEnabled: <span class="type">UIBindingObserver</span>&lt;<span class="type">Base</span>, <span class="type">Result</span>&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">UIBindingObserver</span>(<span class="type">UIElement</span>: base) &#123; textFiled, result <span class="keyword">in</span></div><div class="line">            textFiled.isEnabled = result.isValid</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>UIBindingObserveræ˜¯ä¸€ä¸ªç±»ï¼Œä»–çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå…ƒç´ æœ¬èº«ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œé—­åŒ…å‚æ•°æ˜¯å…ƒç´ æœ¬èº«ï¼Œè¿˜æœ‰ä»–çš„ä¸€ä¸ªå±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">init</span>(<span class="type">UIElement</span>: <span class="type">UIElementType</span>, binding: @escaping (<span class="type">UIElementType</span>, <span class="type">Value</span>) -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div></pre></td></tr></table></figure><ul><li>è‡ªå®šä¹‰äº†ä¸€ä¸ªinputEnabledå…³è”äº†UITextFieldçš„isEnabledå±æ€§</li></ul>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-Grammar-SCNCamera-ç›¸æœº-æ–‡æ¡£</title>
      <link href="/2018/02/05/SceneKit/Grammar/SCNCamera-%E7%9B%B8%E6%9C%BA/SCNCamera-%E7%9B%B8%E6%9C%BA-%E6%96%87%E6%A1%A3/"/>
      <content type="html"><![CDATA[<h1 id="SCNCamera"><a href="#SCNCamera" class="headerlink" title="SCNCamera"></a>SCNCamera</h1><blockquote><p>çˆ¶ç±»ä¸ºNSObject</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">```</div><div class="line"></div><div class="line">&gt;åˆå§‹åŒ–çš„æ–¹æ³•</div><div class="line"></div><div class="line">```swift </div><div class="line"> + (instancetype)camera;</div></pre></td></tr></table></figure><blockquote><p>ç…§ç›¸æœºå¯¹è±¡è®¾ç½®åå­—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic, copy, nullable) <span class="type">NSString</span> *name;</div></pre></td></tr></table></figure><blockquote><p>Xè½´æ–¹å‘çš„è§†è§’(é»˜è®¤ä¸º60åº¦)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) double xFov;</div></pre></td></tr></table></figure><blockquote><p>Yè½´æ–¹å‘çš„è§†è§’(é»˜è®¤ä¸º60åº¦)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) double yFov;</div></pre></td></tr></table></figure><blockquote><p>ç…§ç›¸æœºèƒ½ç…§åˆ°çš„æœ€è¿‘è·ç¦»(é»˜è®¤å€¼ä¸º1)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) double zNear;</div></pre></td></tr></table></figure><blockquote><p>ç…§ç›¸æœºèƒ½ç…§åˆ°çš„æœ€è¿œè·ç¦»(é»˜è®¤å€¼ä¸º100)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) double zFar;</div></pre></td></tr></table></figure><blockquote><p>è®©ç…§ç›¸æœºè‡ªåŠ¨è°ƒèŠ‚æœ€è¿‘å’Œæœ€è¿œè·ç¦»<br>(é»˜è®¤ä¸ºå…³é—­,å¼€å¯å,æ²¡æœ‰æœ€è¿‘å’Œæœ€è¿œçš„é™åˆ¶)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) <span class="type">BOOL</span> automaticallyAdjustsZRange <span class="type">NS_AVAILABLE</span>(<span class="number">10_9</span>, <span class="number">8_0</span>);</div></pre></td></tr></table></figure><blockquote><p>æ˜¯å¦å¼€å¯æ­£æŠ•å½±æ¨¡å¼<br>æ­£æŠ•å½±å°±æ˜¯è¯´ç‰©ä½“åœ¨è¿œç¦»æˆ–è€…é è¿‘ç…§ç›¸æœºæ˜¯,å¤§å°ä¿æŒä¸å˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) <span class="type">BOOL</span> usesOrthographicProjection;</div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®æ­£æŠ•å½±çš„æ¯”ä¾‹ (é»˜è®¤ä¸º1)<br>è¿™é‡Œè®¾ç½®çš„æ¯”ä¾‹è¶Šå¤§,æ˜¾ç¤ºçš„å›¾åƒè¶Šå°,ä½ å¯ä»¥è¿™æ ·ç†è§£scale = å±å¹•çš„å¤§å°:å›¾ç‰‡çš„å¤§å°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) double orthographicScale <span class="type">NS_AVAILABLE</span>(<span class="number">10_9</span>, <span class="number">8_0</span>);</div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®ç„¦è·(é»˜è®¤ä¸º10)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) <span class="type">CGFloat</span> focalDistance <span class="type">NS_AVAILABLE</span>(<span class="number">10_9</span>, <span class="number">8_0</span>);</div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®èšç„¦æ—¶ï¼Œæ¨¡ç³Šç‰©ä½“æ¨¡ç³Šåº¦(é»˜è®¤ä¸º0)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) <span class="type">CGFloat</span> focalBlurRadius <span class="type">NS_AVAILABLE</span>(<span class="number">10_9</span>, <span class="number">8_0</span>);</div></pre></td></tr></table></figure><blockquote><p>å†³å®šè¿›å…¥ç„¦ç‚¹å’Œç¦»å¼€ç„¦ç‚¹çš„è¿‡æ¸¡é€Ÿåº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) <span class="type">CGFloat</span> aperture <span class="type">NS_AVAILABLE</span>(<span class="number">10_9</span>, <span class="number">8_0</span>);</div></pre></td></tr></table></figure><blockquote><p>ç”¨äºæ£€æµ‹èŠ‚ç‚¹ç¢°æ’ä½¿ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">@property(nonatomic) <span class="type">NSUInteger</span> categoryBitMask <span class="type">NS_AVAILABLE</span>(<span class="number">10_10</span>, <span class="number">8_0</span>);</div></pre></td></tr></table></figure><p><a href="http://aes.jypc.org/?p=15368" target="_blank" rel="external">å‚è€ƒèµ„æ–™</a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
          <category> SCNCamera </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> SceneKit </tag>
            
            <tag> SCNCamera </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-Reference-èµ„æ–™</title>
      <link href="/2018/02/05/SceneKit/Reference/Reference-%E8%B5%84%E6%96%99/"/>
      <content type="html"><![CDATA[<p><a href="https://code.i-harness.com/zh-CN/tagged/scenekit" target="_blank" rel="external"> ç½‘é€Ÿå¡ã€‚é‡Œé¢æ–‡ç« å±•ä¸å¼€</a></p><p> <a href="https://www.jianshu.com/p/079a05381f02" target="_blank" rel="external">ä¹Ÿå°±çœ‹çœ‹è€Œå·²</a><br> <a href="https://juejin.im/post/5a322530f265da43062ac948" target="_blank" rel="external">å‚è€ƒå­¦ä¹ 2</a></p><p><a href="https://juejin.im/user/5a311af051882554bd510dd0" target="_blank" rel="external">åªèƒ½å­¦ä¹ è€Œå·²ï¼Œå¤ªéš¾</a></p><p><a href="https://gitee.com/Roc.Tian/Blog_DEMO" target="_blank" rel="external">æ²¡æ‰¾åˆ°åšå®¢</a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
            <tag> Reference </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-Grammar-SCNCamera-ç›¸æœº-æ—‹è½¬SCNCameraèŠ‚ç‚¹</title>
      <link href="/2018/02/05/SceneKit/Grammar/SCNCamera-%E7%9B%B8%E6%9C%BA/SCNCamera-%E7%9B%B8%E6%9C%BA-%E6%97%8B%E8%BD%ACSCNCamera%E8%8A%82%E7%82%B9/"/>
      <content type="html"><![CDATA[<p><a href="https://code.i-harness.com/zh-CN/q/18775f4" target="_blank" rel="external">å‚è€ƒèµ„æ–™</a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
          <category> SCNCamera </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>RxSwift-Grammar-Observables</title>
      <link href="/2018/02/01/RxSwift/Grammar/Observables/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><blockquote><p>æ¯ä¸€ä¸ªObservableçš„å®ä¾‹éƒ½æ˜¯ä¸€ä¸ªåºåˆ—<br>Observableåºåˆ—ç›¸æ¯”äºSwiftåºåˆ—çš„å…³é”®ä¼˜åŠ¿ç‚¹åœ¨äºå®ƒèƒ½å¤Ÿå¼‚æ­¥åœ°æ¥æ”¶å…ƒç´ </p></blockquote><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>Observable(ObservableType)</td><td>ç­‰æ•ˆäºSequence</td><td></td></tr><tr><td>observableType.subscribe(_:)</td><td>æ–¹æ³•ç­‰æ•ˆäºSequence.makeIterator()</td><td></td></tr><tr><td>ObservableType.subscribe(_:)</td><td>æ¥æ”¶ä¸€ä¸ªè§‚å¯Ÿè€…ObserverTypeå‚æ•°,å®ƒå°†è¢«è®¢é˜…è‡ªåŠ¨æ¥æ”¶ç”±å¯è§‚å¯Ÿåˆ°çš„åºåˆ—äº‹ä»¶å’Œå…ƒç´ ï¼Œè€Œä¸æ˜¯åœ¨è¿”å›çš„ç”Ÿæˆå™¨ä¸Šæ‰‹åŠ¨è°ƒç”¨next()</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><ul><li>å¦‚æœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªnextäº‹ä»¶(Event.next(Element)),å®ƒè¿˜èƒ½å¤Ÿç»§ç»­å‘å‡ºæ›´å¤šçš„äº‹ä»¶</li><li>å¦‚æœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªerroräº‹ä»¶(Event.error(ErrorType))æˆ–è€…ä¸€ä¸ªcompletedäº‹ä»¶(Event.completed)ï¼Œé‚£ä¹ˆè¿™ä¸ªObservableåºåˆ—å°±ä¸èƒ½ç»™è®¢é˜…è€…å‘é€å…¶ä»–çš„äº‹ä»¶äº†</li></ul><h1 id="Observables-and-Observers-åˆåsubscribers-â€“-è®¢é˜…è€…"><a href="#Observables-and-Observers-åˆåsubscribers-â€“-è®¢é˜…è€…" class="headerlink" title="Observables and Observers(åˆåsubscribers â€“ è®¢é˜…è€…)"></a>Observables and Observers(åˆåsubscribers â€“ è®¢é˜…è€…)</h1><blockquote><p>é™¤éæœ‰è®¢é˜…è€…ï¼Œå¦åˆ™Observableä¸ä¼šæ‰§è¡Œå®ƒä»¬çš„é—­åŒ…<br>æ²¡æœ‰è®¢é˜…è€…è®¢é˜…,Observableçš„é—­åŒ…å°†ä¸ä¼šè¢«æ‰§è¡Œ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">_ = Observable&lt;String&gt;.create(&#123; (observingString) -&gt; Disposable in</div><div class="line">      print(&quot;the code will not be executed&quot;)</div><div class="line">      observingString.onNext(&quot;ğŸ˜&quot;)</div><div class="line">      observingString.onCompleted()</div><div class="line">      return Disposables.create()</div><div class="line">  &#125;)</div></pre></td></tr></table></figure><blockquote><p>æœ‰è®¢é˜…è€…è®¢é˜…,Observableçš„é—­åŒ…å°†ä¼šè¢«æ‰§è¡Œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="number">_</span> = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create(&#123; (observingString) -&gt; <span class="type">Disposable</span> <span class="keyword">in</span></div><div class="line">       <span class="built_in">print</span>(<span class="string">"the code will be executed"</span>)</div><div class="line">       observingString.onNext(<span class="string">"ğŸ˜"</span>)</div><div class="line">       observingString.onCompleted()</div><div class="line">       <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">   &#125;).subscribe(&#123; (event) <span class="keyword">in</span></div><div class="line">       <span class="built_in">print</span>(event)</div><div class="line">   &#125;)</div></pre></td></tr></table></figure><ul><li>subscribe(_:)è¿”å›ä¸€ä¸ªä¸€æ¬¡æ€§çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹è¡¨ç¤ºä¸€ä¸ªå¯ä½¿ç”¨çš„èµ„æºï¼Œå¦‚è®¢é˜…ã€‚åœ¨å‰é¢çš„ç®€å•ç¤ºä¾‹ä¸­ï¼Œå®ƒè¢«å¿½ç•¥äº†ï¼Œä½†æ˜¯åº”è¯¥æ­£å¸¸åœ°å¤„ç†å®ƒã€‚è¿™é€šå¸¸æ„å‘³ç€å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªDisposeBagå®ä¾‹ä¸­</li></ul><h1 id="Creating-and-Subscribing-to-Observables"><a href="#Creating-and-Subscribing-to-Observables" class="headerlink" title="Creating and Subscribing to Observables"></a>Creating and Subscribing to Observables</h1><blockquote><p>æœ‰å‡ ç§æ–¹å¼åˆ›å»ºå’Œè®¢é˜…Observables:</p></blockquote><h2 id="never"><a href="#never" class="headerlink" title="never"></a>never</h2><blockquote><p>åˆ›å»ºä¸€ä¸ªæ°¸ä¸ç»ˆæ­¢ä¸”ä¸å‘å‡ºä»»ä½•äº‹ä»¶çš„åºåˆ—ã€‚æ›´å¤šè¯¦æƒ…</p></blockquote><pre><code></code></pre><p><a href="http://www.cnblogs.com/scott-mr/p/7211316.html" target="_blank" rel="external"></a></p>]]></content>
      
      <categories>
          
          <category> RxSwift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>RxSwift-Grammar-æ”¯æŒçš„æ“ä½œç¬¦</title>
      <link href="/2018/01/31/RxSwift/Grammar/%E6%94%AF%E6%8C%81%E7%9A%84%E6%93%8D%E4%BD%9C%E7%AC%A6/"/>
      <content type="html"><![CDATA[<p>RxSwift æ”¯æŒçš„æ“ä½œç¬¦</p><p>åœ¨æŸäº›æƒ…å†µï¼Œç”±äºä¸åŒå¹³å°/å®ç°æ–¹å¼ï¼Œç›¸åŒçš„æ“ä½œç¬¦æœ‰å¤šä¸ªåˆ«åï¼Œæœ‰æ—¶ç›¸åŒçš„æ“ä½œå‘½åä¹Ÿä¸ä¸€æ ·ï¼Œæœ‰äº›æ˜¯å› ä¸ºå†å²çš„åŸå› ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›æ˜¯å› ä¸ºè¯­è¨€çš„é¢„ç•™å…³é”®å­—ã€‚</p><p>å½“ç¼ºå°‘ç¤¾åŒºå…±è¯†çš„æ—¶å€™ï¼ŒRxSwift é€šå¸¸ä¼šåŒ…å«å¤šä¸ªåˆ«åã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ“ä½œç¬¦æ˜¯æ²¡æœ‰çŠ¶æ€çš„ã€‚<br>åˆ›å»º Observable</p><pre><code>asObservablecreatedeferredemptyerrortoObservable (array)intervalneverjustofrangerepeatElementtimer</code></pre><p>å˜æ¢ Observable</p><pre><code>bufferflatMapflatMapFirstflatMapLatestmapscanwindow</code></pre><p>è¿‡æ»¤ Observable</p><pre><code>debounce / throttledistinctUntilChanged`elementAtfiltersampleskiptaketakeLastsingle</code></pre><p>è”åˆ Observable</p><pre><code>mergestartWithswitchLatestcombineLatestzip</code></pre><p>é”™è¯¯å¤„ç†æ“ä½œç¬¦</p><pre><code>catchretryretryWhen</code></pre><p>Observable Utility Operators</p><pre><code>delaySubscriptiondo / doOnNextobserveOn / observeSingleOnsubscribesubscribeOntimeoutusingdebug</code></pre><p>æ¡ä»¶å’Œ Bool æ“ä½œç¬¦</p><pre><code>ambskipWhileskipUntiltakeUntiltakeWhile</code></pre><p>æ•°å­¦å’Œèšåˆæ“ä½œç¬¦</p><pre><code>concatreduce / aggregatetoArray</code></pre><p>è¿æ¥ Observable æ“ä½œç¬¦</p><pre><code>multicastpublishrefCountreplayshareReplayåˆ›å»ºæ–°çš„æ“ä½œç¬¦ä¹Ÿæ˜¯ç›¸å½“ç®€å•çš„ã€‚</code></pre><p><a href="http://blog.csdn.net/yangmeng13930719363/article/details/51905739" target="_blank" rel="external"></a></p>]]></content>
      
      <categories>
          
          <category> 520 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>RxSwift-Grammar-åˆ›å»ºObservableå¯¹è±¡çš„æ–¹æ³•</title>
      <link href="/2018/01/31/RxSwift/Grammar/%E5%88%9B%E5%BB%BAObservable%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <content type="html"><![CDATA[<h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><h2 id="â‘ never"><a href="#â‘ never" class="headerlink" title="â‘ never"></a>â‘ never</h2><blockquote><p>neverå°±æ˜¯åˆ›å»ºä¸€ä¸ªsequenceï¼Œä½†æ˜¯<strong>ä¸å‘å‡ºä»»ä½•äº‹ä»¶ä¿¡å·</strong></p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/RxSwift-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5001.png" alt="001"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"></div><div class="line"><span class="keyword">let</span> neverSequence = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.never()</div><div class="line"> </div><div class="line"><span class="keyword">let</span> neverSequenceSubscription = neverSequence</div><div class="line"> .subscribe &#123; <span class="number">_</span> <span class="keyword">in</span></div><div class="line">  <span class="built_in">print</span>(<span class="string">"This will never be printed"</span>)</div><div class="line"> &#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"><span class="comment">// ç»“æœæ˜¯ä»€ä¹ˆéƒ½ä¸æ‰“å°y</span></div></pre></td></tr></table></figure><h2 id="â‘¡empty"><a href="#â‘¡empty" class="headerlink" title="â‘¡empty"></a>â‘¡empty</h2><blockquote><p>emptyå°±æ˜¯åˆ›å»ºä¸€ä¸ªç©ºçš„sequence,åªèƒ½å‘å‡ºä¸€ä¸ªcompletedäº‹ä»¶</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/RxSwift-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5002.png" alt="002"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"></div><div class="line"><span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.empty()</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">completed</div></pre></td></tr></table></figure><h2 id="â‘¢just"><a href="#â‘¢just" class="headerlink" title="â‘¢just"></a>â‘¢just</h2><blockquote><p>justæ˜¯åˆ›å»ºä¸€ä¸ªsequenceåªèƒ½å‘å‡ºä¸€ç§ç‰¹å®šçš„äº‹ä»¶ï¼Œèƒ½æ­£å¸¸ç»“æŸ</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/RxSwift-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5003.png" alt="003"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.just(<span class="string">"ğŸ”´"</span>)</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">next(ğŸ”´)</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="â‘£of"><a href="#â‘£of" class="headerlink" title="â‘£of"></a>â‘£of</h2><blockquote><p>ofæ˜¯åˆ›å»ºä¸€ä¸ªsequenceèƒ½å‘å‡ºå¾ˆå¤šç§äº‹ä»¶ä¿¡å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ­"</span>, <span class="string">"ğŸ¹"</span>)</div><div class="line">    .subscribe(onNext: &#123; element <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(element)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">ğŸ¶</div><div class="line">ğŸ±</div><div class="line">ğŸ­</div><div class="line">ğŸ¹</div></pre></td></tr></table></figure><blockquote><p>æŠŠä¸Šé¢çš„onNext:å»æ‰çš„è¯ï¼Œç»“æœä¼šæ˜¯è¿™æ ·å­ï¼Œä¹Ÿæ­£å¥½å¯¹åº”äº†æˆ‘ä»¬subscribeä¸­ï¼Œsubscribeåªç›‘å¬äº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  next(ğŸ¶)</div><div class="line">next(ğŸ±)</div><div class="line">next(ğŸ­)</div><div class="line">next(ğŸ¹)</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="â‘¤from"><a href="#â‘¤from" class="headerlink" title="â‘¤from"></a>â‘¤from</h2><blockquote><p>fromå°±æ˜¯ä»é›†åˆä¸­åˆ›å»ºsequenceï¼Œä¾‹å¦‚æ•°ç»„ï¼Œå­—å…¸æˆ–è€…Set</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.from([<span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ­"</span>, <span class="string">"ğŸ¹"</span>])</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h2 id="â‘¥create"><a href="#â‘¥create" class="headerlink" title="â‘¥create"></a>â‘¥create</h2><blockquote><p>è‡ªå®šä¹‰å¯è§‚å¯Ÿçš„sequence<br>createæ“ä½œç¬¦ä¼ å…¥ä¸€ä¸ªè§‚å¯Ÿè€…observerï¼Œç„¶åè°ƒç”¨observerçš„onNextï¼ŒonCompletedå’ŒonErroræ–¹æ³•ã€‚è¿”å›ä¸€ä¸ªå¯è§‚å¯Ÿçš„obserableåºåˆ—</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/RxSwift-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5006.png" alt="006"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="keyword">let</span> myJust = &#123; (element: <span class="type">String</span>) -&gt; <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> <span class="type">Observable</span>.create &#123; observer <span class="keyword">in</span></div><div class="line">        observer.on(.next(element))</div><div class="line">        observer.on(.completed)</div><div class="line">        <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">    </div><div class="line">myJust(<span class="string">"ğŸ”´"</span>)</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">next(ğŸ”´)</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="â‘¦range"><a href="#â‘¦range" class="headerlink" title="â‘¦range"></a>â‘¦range</h2><blockquote><p>rangeå°±æ˜¯åˆ›å»ºä¸€ä¸ªsequenceï¼Œä»–ä¼šå‘å‡ºè¿™ä¸ªèŒƒå›´ä¸­çš„ä»å¼€å§‹åˆ°ç»“æŸçš„æ‰€æœ‰äº‹ä»¶</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/RxSwift-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5007.png" alt="007"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.range(start: <span class="number">1</span>, <span class="built_in">count</span>: <span class="number">10</span>)</div><div class="line"> .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line"> .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  next(<span class="number">1</span>)</div><div class="line">  next(<span class="number">2</span>)</div><div class="line">next(<span class="number">3</span>)</div><div class="line">next(<span class="number">4</span>)</div><div class="line">next(<span class="number">5</span>)</div><div class="line">next(<span class="number">6</span>)</div><div class="line">next(<span class="number">7</span>)</div><div class="line">next(<span class="number">8</span>)</div><div class="line">next(<span class="number">9</span>)</div><div class="line">next(<span class="number">10</span>)</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="â‘§repeatElement"><a href="#â‘§repeatElement" class="headerlink" title="â‘§repeatElement"></a>â‘§repeatElement</h2><blockquote><p>åˆ›å»ºä¸€ä¸ªsequenceï¼Œå‘å‡ºç‰¹å®šçš„äº‹ä»¶næ¬¡</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/RxSwift-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5008.png" alt="008"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.repeatElement(<span class="string">"ğŸ”´"</span>)</div><div class="line">    .take(<span class="number">3</span>)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">ğŸ”´</div><div class="line">ğŸ”´</div><div class="line">ğŸ”´</div></pre></td></tr></table></figure><h2 id="â‘¨generate"><a href="#â‘¨generate" class="headerlink" title="â‘¨generate"></a>â‘¨generate</h2><blockquote><p>generateæ˜¯åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿsequenceï¼Œå½“åˆå§‹åŒ–çš„æ¡ä»¶ä¸ºtrueçš„æ—¶å€™ï¼Œä»–å°±ä¼šå‘å‡ºæ‰€å¯¹åº”çš„äº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.generate(</div><div class="line">        initialState: <span class="number">0</span>,</div><div class="line">        condition: &#123; $<span class="number">0</span> &lt; <span class="number">3</span> &#125;,</div><div class="line">        iterate: &#123; $<span class="number">0</span> + <span class="number">1</span> &#125;</div><div class="line">    )</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">0</div><div class="line">1</div><div class="line">2</div></pre></td></tr></table></figure><h2 id="â‘©-deferred"><a href="#â‘©-deferred" class="headerlink" title="â‘© deferred"></a>â‘© deferred</h2><blockquote><p>deferredä¼šä¸ºæ¯ä¸€ä¸ºè®¢é˜…è€…observeråˆ›å»ºä¸€ä¸ªæ–°çš„å¯è§‚å¯Ÿåºåˆ—<br>ä¸‹é¢ä¾‹å­ä¸­æ¯æ¬¡è¿›è¡Œsubscribeçš„æ—¶å€™éƒ½ä¼šå»åˆ›å»ºä¸€ä¸ªæ–°çš„deferredSequenceï¼Œæ‰€ä»¥Emittingä¼šæ‰“å°ä¸¤é</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/RxSwift-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5010.png" alt="010"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">1</span></div><div class="line">    </div><div class="line"><span class="keyword">let</span> deferredSequence = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.deferred &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Creating \(count)"</span>)</div><div class="line">    <span class="built_in">count</span> += <span class="number">1</span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="type">Observable</span>.create &#123; observer <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"Emitting..."</span>)</div><div class="line">        observer.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">        observer.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">        observer.onNext(<span class="string">"ğŸµ"</span>)</div><div class="line">        <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">    </div><div class="line">deferredSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">deferredSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  Creating 1</div><div class="line">Emitting...</div><div class="line">ğŸ¶</div><div class="line">ğŸ±</div><div class="line">ğŸµ</div><div class="line">Creating 2</div><div class="line">Emitting...</div><div class="line">ğŸ¶</div><div class="line">ğŸ±</div><div class="line">ğŸµ</div></pre></td></tr></table></figure><h2 id="â‘ªerror"><a href="#â‘ªerror" class="headerlink" title="â‘ªerror"></a>â‘ªerror</h2><blockquote><p>åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿåºåˆ—ï¼Œä½†ä¸å‘å‡ºä»»ä½•æ­£å¸¸çš„äº‹ä»¶ï¼Œåªå‘å‡ºerroräº‹ä»¶å¹¶ç»“æŸ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.error(<span class="type">TestError</span>.test)</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">error(test)</div></pre></td></tr></table></figure><h2 id="â‘«doOn"><a href="#â‘«doOn" class="headerlink" title="â‘«doOn"></a>â‘«doOn</h2><blockquote><p>doOnæˆ‘æ„Ÿè§‰å°±æ˜¯åœ¨ç›´æ¥onNextå¤„ç†æ—¶å€™ï¼Œå…ˆæ‰§è¡ŒæŸä¸ªæ–¹æ³•ï¼ŒdoOnNext(<em> :)æ–¹æ³•å°±æ˜¯åœ¨subscribe(onNext:)å‰è°ƒç”¨ï¼ŒdoOnCompleted(</em>:)å°±æ˜¯åœ¨subscribe(onCompleted:)å‰é¢è°ƒç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ"</span>, <span class="string">"ğŸ"</span>, <span class="string">"ğŸŠ"</span>, <span class="string">"ğŸ‹"</span>)</div><div class="line">    .<span class="keyword">do</span>(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Intercepted:"</span>, $<span class="number">0</span>) &#125;, onError: &#123; <span class="built_in">print</span>(<span class="string">"Intercepted error:"</span>, $<span class="number">0</span>) &#125;, onCompleted: &#123; <span class="built_in">print</span>(<span class="string">"Completed"</span>)  &#125;)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;,onCompleted: &#123; <span class="built_in">print</span>(<span class="string">"ç»“æŸ"</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><p><a href="http://blog.csdn.net/xwl198937/article/details/50823558" target="_blank" rel="external">èµ„æ–™</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PPNetwork æ‰©å±•</title>
      <link href="/2018/01/23/OC/Lib/PPNetworkHelper/PPNetworkHelper%E6%89%A9%E5%B1%95/"/>
      <content type="html"><![CDATA[<h1 id="PPNetworkHelperæ‰©å±•"><a href="#PPNetworkHelperæ‰©å±•" class="headerlink" title="PPNetworkHelperæ‰©å±•"></a>PPNetworkHelperæ‰©å±•</h1><h2 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">void</span>)httpDeleteWithURLStr:(<span class="built_in">NSString</span> *)urlStr</div><div class="line">                    paramDic:(<span class="built_in">NSDictionary</span> *)paramDic</div><div class="line">                     noLoginToken:(<span class="built_in">NSString</span> *)noLoginToken</div><div class="line">                      finishedBlock:(<span class="keyword">void</span>(^)(<span class="keyword">id</span> responseObject))finishedBlock</div><div class="line">                     errorBlock:(<span class="keyword">void</span>(^)(<span class="built_in">NSError</span> *error))errorBlock&#123;</div><div class="line">    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">    <span class="comment">//åå°éœ€è¦å¢åŠ application/x-www-form-urlencoded</span></div><div class="line">    manager.responseSerializer.acceptableContentTypes = [<span class="built_in">NSSet</span> setWithObjects:<span class="string">@"text/html"</span>,</div><div class="line">                                                         <span class="string">@"application/json"</span>,</div><div class="line">                                                         <span class="string">@"text/javascript"</span>,</div><div class="line">                                                         <span class="string">@"text/json"</span>,</div><div class="line">                                                         <span class="string">@"text/plain"</span>,</div><div class="line">                                                         <span class="string">@"application/x-www-form-urlencoded"</span>,<span class="literal">nil</span>];</div><div class="line">    <span class="comment">// è®¾ç½®è¯·æ±‚å¤´</span></div><div class="line">    [manager.requestSerializer setValue:<span class="string">@"application/json"</span></div><div class="line">                     forHTTPHeaderField:<span class="string">@"Accept"</span>];</div><div class="line"></div><div class="line"><span class="comment">//      [manager.requestSerializer setValue:authorization forHTTPHeaderField:@"Authorization"];</span></div><div class="line">    [manager.requestSerializer setValue:noLoginToken forHTTPHeaderField:<span class="string">@"noLoginToken"</span>];</div><div class="line">    [manager DELETE:urlStr</div><div class="line">      parameters:paramDic</div><div class="line">         success:^(<span class="built_in">NSURLSessionDataTask</span> * _Nonnull task, <span class="keyword">id</span> _Nullable responseObject) &#123;</div><div class="line">               finishedBlock(responseObject);</div><div class="line">         &#125;</div><div class="line">         failure:^(<span class="built_in">NSURLSessionDataTask</span> * _Nullable task, <span class="built_in">NSError</span> * _Nonnull error) &#123;</div><div class="line">             finishedBlock(error);</div><div class="line">         &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="Put"><a href="#Put" class="headerlink" title="Put"></a>Put</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+ (void)httpPutWithURLStr:(NSString *)urlStr</div><div class="line">                    paramDic:(NSDictionary *)paramDic</div><div class="line">                noLoginToken:(NSString *)noLoginToken</div><div class="line">               finishedBlock:(void(^)(id responseObject))finishedBlock</div><div class="line">                  errorBlock:(void(^)(NSError *error))errorBlock&#123;</div><div class="line">    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">    manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,</div><div class="line">                                                         @&quot;application/json&quot;,</div><div class="line">                                                         @&quot;text/javascript&quot;,</div><div class="line">                                                         @&quot;text/json&quot;,</div><div class="line">                                                         @&quot;text/plain&quot;,</div><div class="line">                                                         @&quot;application/x-www-form-urlencoded&quot;,nil];</div><div class="line">    // è®¾ç½®è¯·æ±‚å¤´</div><div class="line">    [manager.requestSerializer setValue:@&quot;application/json&quot;</div><div class="line">                     forHTTPHeaderField:@&quot;Accept&quot;];</div><div class="line">    //[manager.requestSerializer setValue:authorization forHTTPHeaderField:@&quot;Authorization&quot;];</div><div class="line">    [manager.requestSerializer setValue:noLoginToken forHTTPHeaderField:@&quot;noLoginToken&quot;];</div><div class="line">    [manager PUT:urlStr</div><div class="line">      parameters:paramDic</div><div class="line">         success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) &#123;</div><div class="line">                        finishedBlock(responseObject);</div><div class="line">    &#125;</div><div class="line">         failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123;</div><div class="line">                 finishedBlock(error);</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="éœ€è¦ä¿®æ”¹AFNetworkingå¯æ¥æ”¶çš„Content-Type"><a href="#éœ€è¦ä¿®æ”¹AFNetworkingå¯æ¥æ”¶çš„Content-Type" class="headerlink" title="éœ€è¦ä¿®æ”¹AFNetworkingå¯æ¥æ”¶çš„Content-Type"></a>éœ€è¦ä¿®æ”¹AFNetworkingå¯æ¥æ”¶çš„Content-Type</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> ä¿®æ”¹AFNetworkingå¯æ¥æ”¶çš„Content-Typeï¼Œå‰å¾€AFNetworkingæºä»£ç ç›®å½•æ‰¾åˆ°AFURLResponseSerialization.mæ–‡ä»¶å°†é‡Œé¢çš„ä»£ç ï¼š</div><div class="line">self.acceptableContentTypes =[NSSetsetWithObjects:@&quot;application/json&quot;,@&quot;text/json&quot;,@&quot;text/javascript&quot;,nil];</div><div class="line"></div><div class="line">ä¿®æ”¹ä¸ºï¼š</div><div class="line">self.acceptableContentTypes =[NSSetsetWithObjects:@&quot;application/json&quot;,@&quot;text/json&quot;,@&quot;text/javascript&quot;,@&quot;text/html&quot;,nil];</div><div class="line"></div><div class="line">PPNetworkHelperé‡Œä¹Ÿå¯ä»¥ä¿®æ”¹</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> PPNetwork </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Demo-TableViewåŒè”è¡¨</title>
      <link href="/2018/01/20/Swift/Demo/Swift-Demo-TableView%E5%8F%8C%E8%81%94%E8%A1%A8/"/>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Demo </category>
          
          <category> TableView </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-å°„çº¿æ£€æµ‹</title>
      <link href="/2018/01/19/SceneKit/Grammar/SceneKit-%E5%B0%84%E7%BA%BF%E6%A3%80%E6%B5%8B/"/>
      <content type="html"><![CDATA[<p>#SceneKit-å°„çº¿æ£€æµ‹</p><blockquote><p>touchesBeganæ–¹æ³•åœ¨3Dä¸­ä»ç„¶å¯ç”¨<br>åœ¨3Dç©ºé—´å†…é‡‡ç”¨äº†å°„çº¿æ£€æµ‹æ–¹æ³•æ¥è¿”å›è§¦æ‘¸åˆ°çš„ç‰©ä½“</p></blockquote><h1 id="å½“æœ‰è§¦æ‘¸äº‹ä»¶å‘ç”Ÿæ—¶"><a href="#å½“æœ‰è§¦æ‘¸äº‹ä»¶å‘ç”Ÿæ—¶" class="headerlink" title="å½“æœ‰è§¦æ‘¸äº‹ä»¶å‘ç”Ÿæ—¶"></a>å½“æœ‰è§¦æ‘¸äº‹ä»¶å‘ç”Ÿæ—¶</h1><ul><li>æ‹¿åˆ°ç”¨æˆ·è§¦æ‘¸åœ¨å±å¹•ä¸Šçš„ä½ç½®</li><li>è½¬æ¢åˆ°SCNViewçš„åæ ‡ç³»ä¸­</li><li>å½“è§¦æ‘¸ç‚¹åœ¨SCNViewä¸Šæ—¶,å‘å°„ä¸€ä¸ªå°„çº¿,è¿”å›ä¸è¯¥å°„çº¿ç›¸äº¤çš„ä¸€ç³»åˆ—ç‰©ä½“</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(touches: Set&lt;UITouch&gt;, withEvent event:</span></span></div><div class="line"><span class="function"><span class="params">UIEvent?)</span></span> &#123;</div><div class="line"><span class="comment">// 1 æ‹¿åˆ°è§¦æ‘¸å¯¹è±¡</span></div><div class="line">  <span class="keyword">let</span> touch = touches.first!</div><div class="line">  <span class="comment">// 2 è½¬æ¢åæ ‡ç³»</span></div><div class="line">  <span class="keyword">let</span> location = touch.locationInView(scnView)</div><div class="line">  <span class="comment">// 3 æ‰§è¡ŒhitTest,å‘å°„å°„çº¿,è¿”å›ç›¸äº¤çš„ç‰©ä½“</span></div><div class="line">  <span class="keyword">let</span> hitResults = scnView.hitTest(location, options: <span class="literal">nil</span>)</div><div class="line">  <span class="comment">// 4 </span></div><div class="line">  <span class="keyword">if</span> hitResults.<span class="built_in">count</span> &gt; <span class="number">0</span> &#123;</div><div class="line"><span class="comment">// 5 å–å‡ºæœ€è¿‘çš„ç‰©ä½“</span></div><div class="line">    <span class="keyword">let</span> result = hitResults.first!</div><div class="line">    <span class="comment">// 6 å¤„ç†è¯¥èŠ‚ç‚¹</span></div><div class="line">    handleTouchFor(result.node)</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNCamera-ç›¸æœº-Base</title>
      <link href="/2018/01/19/SceneKit/Grammar/SCNCamera-%E7%9B%B8%E6%9C%BA/SCNCamera-%E7%9B%B8%E6%9C%BA-Base/"/>
      <content type="html"><![CDATA[<h1 id="SCNCamera-ç›¸æœº"><a href="#SCNCamera-ç›¸æœº" class="headerlink" title="SCNCamera-ç›¸æœº"></a>SCNCamera-ç›¸æœº</h1><ul><li>SCNCameraç›¸æœºæ˜¯ç”¨äºæ˜¾ç¤ºåœºæ™¯å†…å®¹å¿…é¡»çš„èŠ‚ç‚¹, éœ€è¦æŠŠç›¸æœºåŠ åˆ°èŠ‚ç‚¹ä¹‹ä¸Š, å†æŠŠèŠ‚ç‚¹åŠ åˆ°æ ¹èŠ‚ç‚¹ä¸Š</li><li>SCNNodeåŒ…å«ç›¸æœºç‰©ä½“è§‚å¯Ÿè§†é‡çš„è§‚å¯Ÿç‚¹, å³ç›¸æœºçš„ <strong>ä½ç½®</strong> &amp; <strong>æ–¹å‘</strong></li><li>ç›¸æœºçš„è§†è§’å§‹ç»ˆæ²¿ç€èŠ‚ç‚¹çš„å±€éƒ¨åæ ‡ç³»çš„è´ŸZè½´, è¦åœ¨ä¸åŒçš„åœºæ™¯æŒ‡å®šä¸åŒçš„ç›¸æœºçš„è§†é‡, ä½¿ç”¨<strong>position</strong>, <strong>rotation</strong>, <strong>transfrom</strong>æ¥è®¾ç½®</li></ul><p><img src="http://ozr735s7e.bkt.clouddn.com/%E7%9B%B8%E6%9C%BA%E7%9A%84%E8%A7%86%E8%A7%92.png" alt=""></p><h1 id="ç›¸æœºç±»å‹"><a href="#ç›¸æœºç±»å‹" class="headerlink" title="ç›¸æœºç±»å‹"></a>ç›¸æœºç±»å‹</h1><blockquote><p>é€è§†(perspective)<br>æ­£äº¤(orthographic)</p></blockquote><h2 id="é€è§†ç›¸æœº"><a href="#é€è§†ç›¸æœº" class="headerlink" title="é€è§†ç›¸æœº"></a>é€è§†ç›¸æœº</h2><blockquote><p>æ¸¸æˆä¸­ç»å¸¸ä½¿ç”¨ç¬¬ä¸€è§†è§’çš„ç›¸æœº, ä¼šæœ‰ä¸€ç§è¿‘å¤§è¿œå°çš„æ„Ÿè§‰</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/%E9%80%8F%E8%A7%86%E7%9B%B8%E6%9C%BA.png" alt="é€è§†ç›¸æœº"></p><h2 id="æ­£äº¤æŠ•å½±"><a href="#æ­£äº¤æŠ•å½±" class="headerlink" title="æ­£äº¤æŠ•å½±"></a>æ­£äº¤æŠ•å½±</h2><blockquote><p>æŠ•å½±çº¿å‚ç›´äºæŠ•å½±é¢çš„æŠ•å½±å±äºæ­£äº¤æŠ•å½± ï¼Œå±äºå¹³è¡ŒæŠ•å½±ä¸€ç§<br>é è¿‘å’Œè¿œç¦», ç‰©ä½“å¤§å°éƒ½æ˜¯ç›¸åŒçš„</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/%E6%AD%A3%E4%BA%A4%E6%8A%95%E5%BD%B1.png" alt=""></p><h1 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h1><h2 id="è§†è§’"><a href="#è§†è§’" class="headerlink" title="è§†è§’"></a>è§†è§’</h2><blockquote><p>åœºæ™¯:</p></blockquote><ul><li>ç…§ç›¸æœºçš„ä½ç½®ä¸º(10,0,0) </li><li>ç‰©ä½“Açš„ä½ç½®ä¸º(0,0,-6)ï¼ŒyFor è¡¨ç¤ºçš„æ˜¯Yè½´ä¸Šçš„è§†è§’</li></ul><p><img src="http://ozr735s7e.bkt.clouddn.com/SCNCamera-%E7%9B%B8%E6%9C%BA-Base-001.png" alt="è§†è§’"></p><blockquote><p>,ç…§ç›¸æœºå¥½æ¯”çœ¼ç›,çœ¼ç›åœ¨Xè½´(å·¦å³çœ‹)å’ŒYè½´(ä¸Šä¸‹çœ‹)æœ‰ä¸ªæœ€å¤§è§’åº¦ï¼Œè¿™ä¸ªè§’åº¦å«åšxFovå’ŒyFov<br>å¯¹äºåŒä¸€ä¸ªç‰©ä½“ï¼Œå½“ç„¶åœ¨è§†é‡å°çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„ä½“ç§¯å¤§ï¼Œåœ¨è§†é‡å¤§çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„ä½“ç§¯å°</p></blockquote><h2 id="ç„¦è·"><a href="#ç„¦è·" class="headerlink" title="ç„¦è·"></a>ç„¦è·</h2><p><img src="http://ozr735s7e.bkt.clouddn.com/SCNCamera-%E7%9B%B8%E6%9C%BA-Base-%E7%84%A6%E8%B7%9D.png" alt="ç„¦è·"></p><ul><li>è®¾å¤‡å±å¹•ä¸­çš„ç‰©ä½“éƒ½æ˜¯èƒ½è¢«ç…§ç›¸æœºçœ‹åˆ°çš„ç‰©ä½“</li></ul>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
          <category> SCNCamera </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> SceneKit </tag>
            
            <tag> SCNCamera </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-RenderLoopæ¸²æŸ“å¾ªç¯</title>
      <link href="/2018/01/19/SceneKit/Grammar/RenderLoop%E6%B8%B2%E6%9F%93%E5%BE%AA%E7%8E%AF/"/>
      <content type="html"><![CDATA[<h1 id="SCNSceneRendererDelegateåè®®"><a href="#SCNSceneRendererDelegateåè®®" class="headerlink" title="SCNSceneRendererDelegateåè®®"></a>SCNSceneRendererDelegateåè®®</h1><blockquote><p>SCNViewæœ‰ä¸€ä¸ªdelegateå±æ€§,éœ€è¦éµå®ˆSCNSceneRendererDelegateåè®®,å¯ä»¥åœ¨æ¯å¸§ç”»é¢çš„åŠ¨ç”»å’Œæ¸²æŸ“è¿‡ç¨‹ä¸­æ”¶åˆ°ä»£ç†æ–¹æ³•çš„è°ƒç”¨</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/%E5%8D%8F%E8%AE%AE.png" alt=""></p><p>##Update</p><ul><li>ä¼šè°ƒç”¨renderer(_:updateAtTime:)ä»£ç†æ–¹æ³•,å¯ä»¥åœ¨è¿™é‡Œå†™ä¸€äº›åŸºç¡€é€»è¾‘,æ¯”å¦‚æ·»åŠ æˆ–ç§»é™¤nodeèŠ‚ç‚¹.</li></ul><h2 id="Execute-Actions-amp-Animations"><a href="#Execute-Actions-amp-Animations" class="headerlink" title="Execute Actions&amp;Animations:"></a>Execute Actions&amp;Animations:</h2><ul><li>æ‰§è¡Œactions(åŠ¨ä½œ)å’Œanimations(åŠ¨ç”»).</li></ul><h2 id="Did-Apply-Animations"><a href="#Did-Apply-Animations" class="headerlink" title="Did Apply Animations:"></a>Did Apply Animations:</h2><ul><li>ä¼šè°ƒç”¨renderer(_: didApplyAnimationsAtTime:)æ–¹æ³•,æ­¤æ—¶åœºæ™¯ä¸­æ‰€æœ‰èŠ‚ç‚¹åœ¨è¿™ä¸€å¸§çš„actions(åŠ¨ä½œ)å’Œanimations(åŠ¨ç”»)éƒ½å·²ç»æ›´æ–°å®Œæˆ.</li></ul><h2 id="Simulates-Physics"><a href="#Simulates-Physics" class="headerlink" title="Simulates Physics:"></a>Simulates Physics:</h2><ul><li>ç‰©ç†æ•ˆæœæ¨¡æ‹Ÿ.</li></ul><h2 id="Did-Simulate-Physics"><a href="#Did-Simulate-Physics" class="headerlink" title="Did Simulate Physics:"></a>Did Simulate Physics:</h2><ul><li>ä¼šè°ƒç”¨renderer(_:didSimulatePhysicsAtTime:)æ–¹æ³•,æ­¤æ—¶ç‰©ç†æ•ˆæœæ¨¡æ‹Ÿå·²ç»å®Œæˆ,å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å’Œç‰©ç†æ•ˆæœæœ‰å…³çš„ä»£ç ,æ¯”å¦‚nodeåœ¨å—åˆ°ä¸€ä¸ªåŠ›å½±å“åæ”¹å˜é¢œè‰².</li></ul><h2 id="Evaluates-Constraints"><a href="#Evaluates-Constraints" class="headerlink" title="Evaluates Constraints:"></a>Evaluates Constraints:</h2><ul><li>çº¦æŸæ›´æ–°.</li></ul><h2 id="Will-Render-Scene"><a href="#Will-Render-Scene" class="headerlink" title="Will Render Scene:"></a>Will Render Scene:</h2><ul><li>ä¼šè°ƒç”¨renderer(_:willRenderScene:atTime:)æ–¹æ³•,æ­¤æ—¶å³å°†è¦æ¸²æŸ“åœºæ™¯,å¯ä»¥åœ¨è¿™é‡Œå¯¹åœºæ™¯åšæœ€åçš„æ›´æ”¹.</li></ul><h2 id="Renders-Scene-In-View-SceneKit"><a href="#Renders-Scene-In-View-SceneKit" class="headerlink" title="Renders Scene In View:SceneKit"></a>Renders Scene In View:SceneKit</h2><ul><li>åœ¨viewä¸­æ¸²æŸ“åœºæ™¯.</li></ul><h2 id="Did-Render-Scene"><a href="#Did-Render-Scene" class="headerlink" title="Did Render Scene:"></a>Did Render Scene:</h2><ul><li>ä¼šè°ƒç”¨renderer(_: didRenderScene: atTime:)æ–¹æ³•,å®ƒæ ‡è¯†ç€ä¸€ä¸ªæ¸²æŸ“å¾ªç¯çš„ç»“æŸ,å¯ä»¥å†™ä¸€äº›é€»è¾‘æ›´æ–°ä»£ç åœ¨è¿™é‡Œ,æ¯”å¦‚æ¸¸æˆä¸­è¡€é‡å¢å‡</li></ul><h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h1><blockquote><p>é»˜è®¤æƒ…å†µä¸‹,å¦‚æœä¸€ä¸ªåœºæ™¯ä¸­æ²¡æœ‰ä»»ä½•æ”¹å˜æ—¶,Scene Kitä¼šè¿›å…¥â€pausedâ€(æš‚åœ)çŠ¶æ€,æ¸²æŸ“å¾ªç¯æš‚åœåä»£ç†æ–¹æ³•å°†ä¸ä¼šç»§ç»­è°ƒç”¨,ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µ,éœ€è¦åœ¨åˆ›å»ºSCNViewå®ä¾‹æ—¶è®¾ç½®playingå±æ€§ä¸ºtrueå¦‚:<br>æ¸²æŸ“å¾ªç¯çš„ä»£ç†å°±ä¼šä¸€ç›´è°ƒç”¨</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">scnView.playing = <span class="literal">true</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> SceneKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-Grammar-Physicsç‰©ç†æ•ˆæœ</title>
      <link href="/2018/01/18/SceneKit/Grammar/SceneKit-Grammar-Physics%E7%89%A9%E7%90%86%E6%95%88%E6%9E%9C/"/>
      <content type="html"><![CDATA[<h1 id="ç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿ"><a href="#ç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿ" class="headerlink" title="ç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿ"></a>ç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿ</h1><h2 id="å®è´¨"><a href="#å®è´¨" class="headerlink" title="å®è´¨"></a>å®è´¨</h2><blockquote><p>ç‰©ç†ä»¿çœŸä¸­çš„typeå°±æ˜¯ä¸ºäº†å®šä¹‰å½“ä¸€ä¸ªç‰©ä½“å—åˆ°åŠ›çš„ä½œç”¨æ—¶è¯¥å¦‚ä½•å»å“åº”.</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">é¦–å…ˆ, åŠ›çš„ä½œç”¨çš„ç›¸äº’çš„, å½“ä¸¤ä¸ªç‰©ä½“ä¹‹é—´è¿›è¡ŒåŠ›çš„ä½œç”¨æ—¶æƒ…å†µæ˜¯å¤šæ ·çš„, å¯èƒ½ä¸¤è€…éƒ½æœ‰è¿åŠ¨, ä¹Ÿå¯èƒ½åªæœ‰å…¶ä¸­çš„ä¸€ä¸ªä¼šè¿åŠ¨, è¯•æƒ³, å¦‚æœæ‹¿ä¸€ä¸ªé¸¡è›‹å»ç¢°æ’ä¸€å—å¾ˆå¤§çš„çŸ³å¤´, å¾ˆæ˜¾ç„¶, é¸¡è›‹ç¢äº†, çŸ³å¤´ä¸ä¼šæœ‰ä»»ä½•å˜åŒ–(ä»¥æˆ‘ä»¬è‚‰çœ¼æ¥è§‚å¯Ÿ, çŸ³å¤´æ˜¯ä¸ä¼šæœ‰å˜åŒ–çš„, å®è´¨ä¸ŠçŸ³å¤´æ˜¯æœ‰å˜åŒ–çš„),</div></pre></td></tr></table></figure><h1 id="physics-bodyç‰©ç†å½¢ä½“"><a href="#physics-bodyç‰©ç†å½¢ä½“" class="headerlink" title="physics bodyç‰©ç†å½¢ä½“"></a>physics bodyç‰©ç†å½¢ä½“</h1><h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><blockquote><p>é™æ€ç‰©ä½“ä¸ä¼šç§»åŠ¨</p></blockquote><ul><li>å½“å…¶ä»–ç‰©ä½“å¯èƒ½ä¸è¿™äº›ç‰©ä½“ç¢°æ’æ—¶ï¼Œé™æ€ç‰©ä½“æœ¬èº«ä¸å—æ¨¡æ‹Ÿä¸­çš„ä»»ä½•åŠ›å’Œç¢°æ’çš„å½±å“ã€‚</li><li>å¯ä»¥ä½¿ç”¨è¿™ç§ç±»å‹çš„å¢™å£å’Œå¤§å—ä¸åŠ¨çš„å·¨çŸ³</li></ul><h2 id="dynamic"><a href="#dynamic" class="headerlink" title="dynamic"></a>dynamic</h2><blockquote><p>åŠ¨åŠ›ä½“å—åŠ›é‡å’Œç¢°æ’çš„å½±å“</p></blockquote><ul><li>å¯ä»¥ä½¿ç”¨è¿™ç§ç±»å‹çš„ä¸œè¥¿ï¼Œå¦‚æ´»åŠ¨æ¤…å­ï¼Œæ¡Œå­å’Œæ¯å­</li></ul><h2 id="kinematic"><a href="#kinematic" class="headerlink" title="kinematic"></a>kinematic</h2><blockquote><p>è¿åŠ¨ä½“ç±»ä¼¼äºé™æ€ä½“ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿä¸å—å½±å“</p></blockquote><ul><li>åŠ›é‡å’Œç¢°æ’ ä½†æ˜¯å¯ä»¥ç§»åŠ¨è¿™äº›ç±»å‹ï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿå¯èƒ½ä¸åŠ¨æ€ä¸»ä½“ç›¸å†²çª</li><li>å¯ä»¥ä½¿ç”¨è¿™ç§ç±»å‹çš„èº«ä½“ï¼Œä¾‹å¦‚ç§»åŠ¨ç”µæ¢¯æˆ–å¯ä»¥æ‰“å¼€å’Œå…³é—­çš„é—¨</li></ul><h2 id="SCNPhysicsBody"><a href="#SCNPhysicsBody" class="headerlink" title="SCNPhysicsBody"></a>SCNPhysicsBody</h2><blockquote><p>SceneKitä¸­æ‰€æœ‰çš„ç‰©ç†å¯¹è±¡éƒ½æ˜¯SCNPhysicsBody<br>ç„¶åéœ€è¦æŠŠè¯¥å¯¹è±¡ç»‘å®šåˆ°SCNNodeçš„physicsBodyå®ä¾‹å±æ€§,<br>ç„¶åç‰©ç†å¼•æ“å°±å¯ä»¥è¿›è¡Œä»¿çœŸæ¨¡æ‹Ÿ</p><p>ç‰©ç†å½¢çŠ¶å†³å®šäº†ç‰©ç†å¼•æ“åœ¨å¤„ç†ç¢°æ’æ—¶çš„å½¢çŠ¶æ£€æµ‹.<br>ä¸ºäº†è®©ç‰©ç†æ¨¡æ‹Ÿå™¨è¿è¡Œçš„æ›´å¿«,æœ€å¥½å°†ç‰©ç†å½¢çŠ¶è®¾å®šä¸ºç®€å•çš„æ–¹å½¢,çƒå½¢æˆ–å…¶ä»–ç³»ç»Ÿæä¾›çš„åŸå§‹å½¢çŠ¶,å¤§ç•¥åŒ¹é…èŠ‚ç‚¹å¤–è§‚å°±è¡Œäº†</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/%E7%89%A9%E7%90%86%E5%BD%A2%E7%8A%B6.png" alt=""></p><h2 id="ç®¡ç†ç‰©ç†å¼•æ“"><a href="#ç®¡ç†ç‰©ç†å¼•æ“" class="headerlink" title="ç®¡ç†ç‰©ç†å¼•æ“"></a>ç®¡ç†ç‰©ç†å¼•æ“</h2><blockquote><p>ä½¿ç”¨Nodeå»ç®¡ç†ä¸€ä¸ªå‡ ä½•ä½“, åŒæ ·, SCNPhysicsBodyå¯¹è±¡ä¹Ÿç®¡ç†ç‰©ç†å¼•æ“<br>ä¹Ÿå°±æ˜¯è¯´, æ­¤æ—¶æˆ‘ä»¬çš„nodeæ‹¥æœ‰ä¸€ä¸ªå¯ä»¥åšç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿçš„å‡ ä½•ä½“</p></blockquote><h2 id="æŒ‡å®šç‰©ä½“åº”å…·æœ‰çš„ç±»å‹å’Œå½¢çŠ¶"><a href="#æŒ‡å®šç‰©ä½“åº”å…·æœ‰çš„ç±»å‹å’Œå½¢çŠ¶" class="headerlink" title="æŒ‡å®šç‰©ä½“åº”å…·æœ‰çš„ç±»å‹å’Œå½¢çŠ¶"></a>æŒ‡å®šç‰©ä½“åº”å…·æœ‰çš„ç±»å‹å’Œå½¢çŠ¶</h2><blockquote><p>åˆ›å»ºç‰©ç†ä½“æ—¶ï¼Œå¯ä»¥æŒ‡å®šç‰©ä½“åº”å…·æœ‰çš„ç±»å‹å’Œå½¢çŠ¶<br>å¦‚æœä¸ºnilï¼ŒScene Kitå°†æ ¹æ®èŠ‚ç‚¹çš„å‡ ä½•å½¢çŠ¶è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå½¢çŠ¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> geometryNode = <span class="type">SCNNode</span>(geometry: geometry)</div><div class="line"> <span class="comment">//--- &gt;æ·»åŠ ä»£ç </span></div><div class="line">  geometryNode.physicsBody = <span class="type">SCNPhysicsBody</span>(type: .<span class="keyword">dynamic</span>, shape: <span class="literal">nil</span>)</div></pre></td></tr></table></figure><blockquote><p>Scene Kitä¸­çš„sceneé»˜è®¤æ‰“å¼€äº†é‡åŠ›,å½“è®¾å®šè¿‡åŠ¨æ€å½¢ä½“å,ç‰©ä½“å°±ä¼šå—åˆ°é‡åŠ›å½±å“ä¸‹è½<br>æ¥ä¸‹æ¥è¿è¡Œå·¥ç¨‹,  ä¼šå‘ç°ä¸€ä¸ªç«‹æ–¹ä½“å¾ˆå¿«çš„æ‰è½ä¸‹æ¥, ç„¶åæ¶ˆå¤±.</p></blockquote><h2 id="ä¿®æ”¹ä¸‹è§†è§’"><a href="#ä¿®æ”¹ä¸‹è§†è§’" class="headerlink" title="ä¿®æ”¹ä¸‹è§†è§’"></a>ä¿®æ”¹ä¸‹è§†è§’</h2><blockquote><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸‹è§†è§’, è®©ç‰©ä½“å—é‡åŠ›ä½œç”¨æ›´æ˜æ˜¾ä¸€äº›.<br>çœ‹åˆ°ä¸€ä¸ªç‰©ä½“ä»é¡¶éƒ¨æ‰ä¸‹æ¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">cameraNode.position = <span class="type">SCNVector3</span>(x: <span class="number">0</span>, y: -<span class="number">5</span>, z: <span class="number">10</span>)</div></pre></td></tr></table></figure><h2 id="æŠ›ç‰©çº¿çš„è‡ªç”±è½ä½“è¿åŠ¨"><a href="#æŠ›ç‰©çº¿çš„è‡ªç”±è½ä½“è¿åŠ¨" class="headerlink" title="æŠ›ç‰©çº¿çš„è‡ªç”±è½ä½“è¿åŠ¨"></a>æŠ›ç‰©çº¿çš„è‡ªç”±è½ä½“è¿åŠ¨</h2><blockquote><p>è‡ªç”±è½ä½“å®ç°äº†, æ¥ä¸‹æ¥æˆ‘ä»¬ç»™è¯¥ç‰©ä½“æ·»åŠ ä¸€ä¸ªå‘ä¸Šçš„æ¨åŠ›<br>è®©ç‰©ä½“å®ç°ä¸€ä¸ªæŠ›ç‰©çº¿çš„è‡ªç”±è½ä½“è¿åŠ¨<br>åœ¨geometryNode.physicsBody = SCNPhysicsBody(type: .dynamic, shape: nil)ä¸‹é¢æ·»åŠ å¦‚ä¸‹ä»£ç </p><p>è¿™ä¸ªè®¾ç½®æˆ‘ä»¬çš„ç‰©ä½“è¦ç§»åŠ¨çš„é‡ç‚¹ä½ç½®,<br>ä¸‹é¢ä¸‰ä¸ªå€¼å¾—æ„æ€æ˜¯, xä¸º0, ä»£è¡¨ä»ä¸­å¿ƒå¸¦å¼€å§‹è¿åŠ¨, yå€¼ä¸ºæ­£æ•°, ä»£è¡¨å‘ä¸Š, zä¸º0ä»£è¡¨æˆ‘ä»¬çœ‹çš„è§†è§’çš„æ·±åº¦ä¸ä¼šå˜, å¦‚æœæ˜¯è´Ÿæ•°, åˆ™ä¼šå‘ç°åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­, ç‰©ä½“è¶Šæ¥è¶Šå°, å¦‚æœä¸ºæ­£, åˆ™å‘ç°åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­ç‰©ä½“åˆ™ä¼šè¿æ¥è¶Šå¤§</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">let force = SCNVector3(x: 0, y: 15 , z: 0)</div></pre></td></tr></table></figure><blockquote><p>ä½œç”¨åŠ›çš„ä½ç½®</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">let position = SCNVector3(x: 0.05, y: 0.05, z: 0.05)</div></pre></td></tr></table></figure><blockquote><p>ç»™èŠ‚ç‚¹ä¸Šçš„å‡ ä½•ä½“æ·»åŠ ä¸€ä¸ªä½œç”¨åŠ›, å½“æ‚¨å‘ç‰©ç†æœºæ„æ–½åŠ åŠ›é‡æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨applyForceï¼ˆ_ï¼šatPositionï¼šimpluse :)ï¼Œå¹¶å°†SCNVector3çš„å®ä¾‹ä¼ é€’ç»™è¦æ–½åŠ è¯¥åŠ›çš„åŠ›å’Œä½ç½®ï¼Œä»¥åŠæ˜¯å¦å¼ºåˆ¶å°†è¢«ç”¨ä½œå†²åŠ¨ã€‚æ‚¨åº”ç”¨çš„åŠ›å°†å½±å“ç‰©ç†ä½“çš„çº¿æ€§å’Œè§’åŠ é€Ÿåº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">geometryNode.physicsBody?.applyForce(force, at: position, asImpulse: <span class="literal">true</span>)</div></pre></td></tr></table></figure><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><blockquote><p>åˆšåˆšä¸ºäº†è§‚å¯Ÿè‡ªç”±è½ä½“æ•ˆæœ, æˆ‘ä»¬æŠŠè§†è§’ä¿®æ”¹äº†, è®©ç‰©ä½“ä»é¡¶éƒ¨æ‰è½, ç°åœ¨éœ€è¦æŠŠå®ƒå†æ”¹å›æ¥, è®©å…¶ä»åº•éƒ¨å‡ºç°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">cameraNode.position = <span class="type">SCNVector3</span>(x: <span class="number">0</span>, y: <span class="number">5</span>, z: <span class="number">10</span>)</div></pre></td></tr></table></figure><ul><li>ç‰©ç†ä»¿çœŸä¸­çš„åŠ›ä½¿ç”¨çš„æ˜¯å‘é‡è¡¨ç¤ºçš„, å‘é‡æ˜¯æœ‰æ–¹å‘æœ‰è·ç¦»çš„ä¸€ä¸ªå€¼</li></ul><h2 id="forcesåŠ›"><a href="#forcesåŠ›" class="headerlink" title="forcesåŠ›"></a>forcesåŠ›</h2><blockquote><p>åŠ›ä½¿ç”¨3ç»´å‘é‡SCNVector3è¡¨ç¤º,ä½¿ç”¨applyForce(_: atPosition: impluse:)æ–¹æ³•æ¥æ·»åŠ ä¸€ä¸ªåŠ›,å¹¶æŒ‡å®šä½ç½®.ä¸€ä¸ªåŠ›å¯ä»¥åŒæ—¶å½±å“çº¿é€Ÿåº¦å’Œè§’é€Ÿåº¦.<br>impluseè„‰å†²çŠ¶åªä½œç”¨ä¸€æ¬¡,æ¯”å¦‚è¸¢ä¸€ä¸ªçƒ,éè„‰å†²çŠ¶çš„åˆ™å¯ä»¥æŒç»­ä½œç”¨.<br>Positionä½ç½®å¯ä»¥å½±å“åŠ›çš„ä½œç”¨æ•ˆæœ</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/forces%E5%8A%9B.png" alt=""></p><h2 id="torqueåŠ›çŸ©"><a href="#torqueåŠ›çŸ©" class="headerlink" title="torqueåŠ›çŸ©"></a>torqueåŠ›çŸ©</h2><blockquote><p>åŠ›çŸ©ä½¿ç”¨4ç»´å‘é‡SCNVector4è¡¨ç¤º,ä½¿ç”¨applyTorque(_: impulse:)æ¥æ·»åŠ ä¸€ä¸ªåŠ›çŸ©,åŠ›çŸ©åªå½±å“è§’åŠ¨é‡.<br>x-,y-,z-æŒ‡å®šæ—‹è½¬è½´,w-æŒ‡å®šæ—‹è½¬è§’åº¦ä¹Ÿå°±æ˜¯å¤§å°å€¼<br>Scene Kitä½¿ç”¨å›½é™…å•ä½åˆ¶,å› æ­¤è´¨é‡å•ä½æ˜¯kgåƒå…‹,åŠ›çš„å•ä½æ˜¯Nç‰›,è„‰å†²å•ä½æ˜¯N-sç‰›ç§’,åŠ›çŸ©å•ä½æ˜¯N-mç‰›ç±³.</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/torque%E5%8A%9B%E7%9F%A9.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> SceneKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-å‡ ä½•ç‰©ä½“-æ­£æ–¹ä½“</title>
      <link href="/2018/01/18/SceneKit/Grammar/SceneKit-%E5%87%A0%E4%BD%95%E7%89%A9%E4%BD%93-%E6%AD%A3%E6%96%B9%E4%BD%93(Swift)/"/>
      <content type="html"><![CDATA[<p>//<br>//  ViewController.swift<br>//  SceneKit-å‡ ä½•ç‰©ä½“-æ­£æ–¹ä½“(Swift)<br>//<br>//  Created by RN on 2018/1/18.<br>//  Copyright Â© 2018å¹´ YKK. All rights reserved.<br>//</p><p>import UIKit<br>import SceneKit<br>class ViewController: UIViewController {<br>//æ˜¾ç¤º3Dåœºæ™¯çš„è§†å›¾<br>fileprivate lazy  var scnView : SCNView = {<br>let scnView =  SCNView()<br>scnView.showsStatistics = true<br>// 2<br>scnView.allowsCameraControl = true<br>// 3<br>scnView.autoenablesDefaultLighting = true<br>return scnView<br>}()</p><p>//åœºæ™¯scene<br>fileprivate lazy  var  scnScene : SCNScene = {<br>let  scnScene = SCNScene()<br>//è®¾ç½®èƒŒæ™¯å›¾ç‰‡, GeometryFighter.scnassetsæ˜¯æˆ‘è®¾ç½®çš„ä¸€ä¸ªèµ„æºåº“, å­˜æ”¾3Dèµ„æºçš„<br>// scnScene.background.contents = â€œGeometryFighter.scnassets/Textures/Background_Diffuse.pngâ€<br>return scnScene<br>}()</p><p>//3. æ·»åŠ ä¸€ä¸ªSCNCamera<br>fileprivate lazy  var cameraNode : SCNNode = {<br>// åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹<br>let  cameraNode = SCNNode()<br>// ç»™ç›¸æœºèŠ‚ç‚¹èµ‹å€¼ç›¸æœº<br>cameraNode.camera = SCNCamera()<br>// è®¾ç½®è§†è§’çš„ä½ç½®, x:0,y:0å°±æ˜¯ä¸­å¿ƒç‚¹, zåªä»£è¡¨è§‚å¯Ÿçš„è·ç¦», zè¶Šå¤§, ç‰©ä½“è¶Šå°<br>cameraNode.position = SCNVector3(x: 0, y: 0, z: 10)<br>return cameraNode<br>}()</p><p>//4.å‡ ä½•ç‰©ä½“<br>fileprivate lazy  var geometryNode : SCNNode =  {<br>//ç”»ä¸€ä¸ªç«‹æ–¹ä½“<br>let  shape  = SCNBox(width: 1.0,<br>height: 1.0,<br>length: 1.0,<br>chamferRadius: 0.0)<br>//æŠŠç«‹æ–¹ä½“ç»‘å®šåˆ°èŠ‚ç‚¹<br>let geometryNode = SCNNode(geometry: shape)<br>return geometryNode<br>}()</p><p>override func viewDidLoad() {<br>super.viewDidLoad()<br>//ç»™å½“å‰çš„SCNView èµ‹å€¼SCNScene<br>scnView.scene = scnScene<br>// æŠŠç›¸æœºçš„èŠ‚ç‚¹æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹é‡Œé¢<br>scnScene.rootNode.addChildNode(cameraNode)<br>//æŠŠèŠ‚ç‚¹æ·»åŠ åˆ°åœºæ™¯<br>scnScene.rootNode.addChildNode(geometryNode)<br>}<br>//æ§åˆ¶å±å¹•æ—‹è½¬<br>override var shouldAutorotate: Bool {<br>return true<br>}<br>//éšè—çŠ¶æ€æ <br>override var prefersStatusBarHidden: Bool {<br>return true<br>}</p><p>}</p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> SceneKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-æ„å»ºç®€å•å‡ ä½•æ¨¡å‹</title>
      <link href="/2018/01/17/SceneKit/Grammar/SceneKit-%E6%9E%84%E5%BB%BA%E7%AE%80%E5%8D%95%E5%87%A0%E4%BD%95%E6%A8%A1%E5%9E%8B/"/>
      <content type="html"><![CDATA[<h1 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h1><h2 id="æ„å»º3DèŠ‚ç‚¹"><a href="#æ„å»º3DèŠ‚ç‚¹" class="headerlink" title="æ„å»º3DèŠ‚ç‚¹"></a>æ„å»º3DèŠ‚ç‚¹</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNScene</span>    *scene;           <span class="comment">//åœºæ™¯ï¼Œå­˜æ”¾å…ƒç´ èŠ‚ç‚¹</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNView</span>     *sceneView;       <span class="comment">//ç”¨æ¥å±•ç¤º3Då›¾å½¢çš„æ§ä»¶</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNNode</span>     *lightNode;       <span class="comment">//ç¯å¢ƒå…‰Node</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNNode</span>     *assistLightNode; <span class="comment">//å¢åŠ ä¸€ä¸ªå‰¯å…‰</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNNode</span>     *caremaNode;      <span class="comment">//æ·»åŠ æ‘„åƒæœºèŠ‚ç‚¹</span></div></pre></td></tr></table></figure><p>##åˆ›å»ºå‡ ä½•æ¨¡å‹</p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNGeometry</span> *carbonAtom;   <span class="comment">// C åŸå­</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNGeometry</span> *hydrogenAtom; <span class="comment">// H åŸå­</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNGeometry</span> *oxyGenAtom;   <span class="comment">// O åŸå­</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>) <span class="built_in">SCNGeometry</span> *fluorAtom;    <span class="comment">// F åŸå­</span></div></pre></td></tr></table></figure><h1 id="æ·»åŠ åœºæ™¯"><a href="#æ·»åŠ åœºæ™¯" class="headerlink" title="æ·»åŠ åœºæ™¯"></a>æ·»åŠ åœºæ™¯</h1><h2 id="åŠ è½½"><a href="#åŠ è½½" class="headerlink" title="åŠ è½½"></a>åŠ è½½</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> addScene];</div></pre></td></tr></table></figure><h2 id="æ„å»ºåœºæ™¯è®¾ç½®èŠ‚ç‚¹"><a href="#æ„å»ºåœºæ™¯è®¾ç½®èŠ‚ç‚¹" class="headerlink" title="æ„å»ºåœºæ™¯è®¾ç½®èŠ‚ç‚¹"></a>æ„å»ºåœºæ™¯è®¾ç½®èŠ‚ç‚¹</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)addScene&#123;</div><div class="line"><span class="comment">//    SCNBox *box = [SCNBox boxWithWidth:10 height:10 length:10 chamferRadius:1];</span></div><div class="line"><span class="comment">//    SCNNode *node = [SCNNode nodeWithGeometry:box];</span></div><div class="line">     <span class="comment">//æ·»åŠ æ‘„åƒæœº</span></div><div class="line">    <span class="comment">//[self.scene.rootNode addChildNode:self.caremaNode];</span></div><div class="line">    <span class="comment">//æ·»åŠ ç¯å¢ƒå‰¯å…‰</span></div><div class="line">      [<span class="keyword">self</span>.scene.rootNode addChildNode:<span class="keyword">self</span>.assistLightNode];</div><div class="line">    <span class="comment">//æ·»åŠ ç¯å¢ƒå…‰</span></div><div class="line"><span class="comment">//[self.scene.rootNode addChildNode:self.lightNode];//æ·»åŠ ç¯å¢ƒå…‰</span></div><div class="line">    <span class="comment">//æ·»åŠ æ­£æ–¹ä½“</span></div><div class="line">    <span class="comment">// [self.scene.rootNode addChildNode:node];</span></div><div class="line">    <span class="comment">//å°†åˆ›å»ºçš„åŸå­èŠ‚ç‚¹æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹</span></div><div class="line">    [<span class="keyword">self</span>.scene.rootNode addChildNode:[<span class="keyword">self</span> addGeometryToSCNNode]];</div><div class="line">    <span class="keyword">self</span>.sceneView.scene = <span class="keyword">self</span>.scene;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å‡ ä½•ä½“æ·»åŠ åˆ°èŠ‚ç‚¹"><a href="#å‡ ä½•ä½“æ·»åŠ åˆ°èŠ‚ç‚¹" class="headerlink" title="å‡ ä½•ä½“æ·»åŠ åˆ°èŠ‚ç‚¹"></a>å‡ ä½•ä½“æ·»åŠ åˆ°èŠ‚ç‚¹</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNNode</span> *)addGeometryToSCNNode&#123;</div><div class="line">    <span class="comment">//Creates and initializes a node instance with the specified geometry attached</span></div><div class="line">    <span class="comment">//æŒ‡å®šå‡ ä½•å›¾å½¢æ·»åŠ åˆ°èŠ‚ç‚¹</span></div><div class="line">    <span class="built_in">SCNNode</span> *carbonNode = [<span class="built_in">SCNNode</span> nodeWithGeometry:[<span class="keyword">self</span> carbonAtom]];</div><div class="line">    <span class="built_in">SCNNode</span> *hydrogenNode = [<span class="built_in">SCNNode</span> nodeWithGeometry:[<span class="keyword">self</span> hydrogenAtom]];</div><div class="line">    <span class="built_in">SCNNode</span> *oxygenNode = [<span class="built_in">SCNNode</span> nodeWithGeometry:[<span class="keyword">self</span> oxyGenAtom]];</div><div class="line">    <span class="built_in">SCNNode</span> *fluorNode = [<span class="built_in">SCNNode</span> nodeWithGeometry:[<span class="keyword">self</span> fluorAtom]];</div><div class="line">    </div><div class="line">    <span class="comment">//èŠ‚ç‚¹ä½ç½®</span></div><div class="line">    carbonNode.position = <span class="built_in">SCNVector3Make</span>(<span class="number">-6</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    hydrogenNode.position = <span class="built_in">SCNVector3Make</span>(<span class="number">-2</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    oxygenNode.position = <span class="built_in">SCNVector3Make</span>(<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    fluorNode.position = <span class="built_in">SCNVector3Make</span>(<span class="number">6</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    </div><div class="line">    <span class="comment">//å­èŠ‚ç‚¹æ·»åŠ åˆ°æŸä¸ªçˆ¶èŠ‚ç‚¹</span></div><div class="line">    <span class="built_in">SCNNode</span> *tempNode = [<span class="built_in">SCNNode</span> node];</div><div class="line">    [tempNode addChildNode:carbonNode];</div><div class="line">    [tempNode addChildNode:hydrogenNode];</div><div class="line">    [tempNode addChildNode:oxygenNode];</div><div class="line">    [tempNode addChildNode:fluorNode];</div><div class="line">    <span class="keyword">return</span> tempNode;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="Getetr"><a href="#Getetr" class="headerlink" title="Getetr"></a>Getetr</h1><h2 id="SCNView"><a href="#SCNView" class="headerlink" title="SCNView"></a>SCNView</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNView</span> *)sceneView&#123;</div><div class="line">    <span class="keyword">if</span> (!_sceneView) &#123;</div><div class="line">        _sceneView = [[<span class="built_in">SCNView</span> alloc]initWithFrame:<span class="keyword">self</span>.view.bounds];</div><div class="line">        _sceneView.center = <span class="keyword">self</span>.view.center;</div><div class="line">        _sceneView.backgroundColor = [<span class="built_in">UIColor</span> grayColor];</div><div class="line">        _sceneView.allowsCameraControl = <span class="literal">YES</span>;</div><div class="line">        _sceneView.autoenablesDefaultLighting = <span class="literal">YES</span>;</div><div class="line">        [<span class="keyword">self</span>.view addSubview:_sceneView];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _sceneView;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="SCNScene"><a href="#SCNScene" class="headerlink" title="SCNScene"></a>SCNScene</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNScene</span> *)scene&#123;</div><div class="line">    <span class="keyword">if</span> (!_scene) &#123;</div><div class="line">        _scene =[<span class="built_in">SCNScene</span> scene];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _scene;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="ç¯å¢ƒå…‰"><a href="#ç¯å¢ƒå…‰" class="headerlink" title="ç¯å¢ƒå…‰"></a>ç¯å¢ƒå…‰</h2><blockquote><p>æ·»åŠ ä¸€ä¸ªç¯å¢ƒå…‰node<br>å‰åéƒ½æ˜¯äº®æ»´</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNNode</span> *)lightNode&#123;</div><div class="line">    <span class="keyword">if</span> (!_lightNode) &#123;</div><div class="line">        _lightNode = [<span class="built_in">SCNNode</span> node];</div><div class="line">        _lightNode.light = [<span class="built_in">SCNLight</span> light];</div><div class="line">        _lightNode.light.type = <span class="built_in">SCNLightTypeAmbient</span>;</div><div class="line">        _lightNode.light.color = [<span class="built_in">UIColor</span> colorWithWhite:<span class="number">0.4</span></div><div class="line">                                                   alpha:<span class="number">1.0</span>];</div><div class="line">        <span class="comment">//_lightNode.light.color = [UIColor redColor];</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _lightNode;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å¢åŠ ä¸€ä¸ªå‰¯å…‰"><a href="#å¢åŠ ä¸€ä¸ªå‰¯å…‰" class="headerlink" title="å¢åŠ ä¸€ä¸ªå‰¯å…‰"></a>å¢åŠ ä¸€ä¸ªå‰¯å…‰</h2><blockquote><p>SCNLightTypeDirectional å¹³è¡Œå…‰  SCNLightTypeSpot   èšç„¦å…‰<br>å°çƒå‰è¡¨é¢äº®ã€‚åè¡¨é¢æš—</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNNode</span> *)assistLightNode&#123;</div><div class="line">    <span class="keyword">if</span> (!_assistLightNode) &#123;</div><div class="line">        _assistLightNode =  [<span class="built_in">SCNNode</span> node];</div><div class="line">        _assistLightNode.light = [<span class="built_in">SCNLight</span> light];</div><div class="line">        _assistLightNode.light.type = <span class="built_in">SCNLightTypeOmni</span>;<span class="comment">//åƒå„æ–¹å‘å‘å‡ºçš„å…‰ç…§å¼ºåº¦ä¸€æ ·</span></div><div class="line">        _assistLightNode.light.color = [<span class="built_in">UIColor</span> colorWithWhite:<span class="number">0.75</span> alpha:<span class="number">1</span>];</div><div class="line">         _assistLightNode.light.color = [<span class="built_in">UIColor</span> redColor];</div><div class="line">        _assistLightNode.position = <span class="built_in">SCNVector3Make</span>(<span class="number">0</span>, <span class="number">-50</span>, <span class="number">50</span>);<span class="comment">//è®¾ç½®å…‰æº</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _assistLightNode;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ·»åŠ æ‘„åƒæœºèŠ‚ç‚¹"><a href="#æ·»åŠ æ‘„åƒæœºèŠ‚ç‚¹" class="headerlink" title="æ·»åŠ æ‘„åƒæœºèŠ‚ç‚¹"></a>æ·»åŠ æ‘„åƒæœºèŠ‚ç‚¹</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNNode</span> *)caremaNode&#123;</div><div class="line">    <span class="keyword">if</span> (!_caremaNode) &#123;</div><div class="line">        _caremaNode =  [<span class="built_in">SCNNode</span> node];</div><div class="line">        _caremaNode.camera = [<span class="built_in">SCNCamera</span> camera];<span class="comment">//Creates and returns a camera instance.</span></div><div class="line">        _caremaNode.position = <span class="built_in">SCNVector3Make</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">50</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _caremaNode;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>##å‡ ä½•æ¨¡å‹-C åŸå­</p><blockquote><p>SCNSphere  æœ‰åŠå¾„å±æ€§ï¼Œç±»ä¼¼iOS å‰ªåˆ‡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNGeometry</span> *)carbonAtom&#123;</div><div class="line">    <span class="keyword">if</span>(!_carbonAtom)&#123;</div><div class="line">        <span class="built_in">SCNSphere</span> *phere = [<span class="built_in">SCNSphere</span> sphereWithRadius:<span class="number">1.7</span>];</div><div class="line">        phere.firstMaterial.diffuse.contents = [<span class="built_in">UIColor</span> darkGrayColor];</div><div class="line">        phere.firstMaterial.specular.contents = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">        _carbonAtom = phere;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _carbonAtom;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>##å‡ ä½•æ¨¡å‹ -  H åŸå­</p><blockquote><p>contents æ‰©æ•£de å†…å®¹ é¢œè‰²(NSColor, UIColor, CGColorRef)ï¼Œä¸€ä¸ªå›¾åƒ(NSImage, UIImage, CGImageRef)ï¼Œä¸€ä¸ªå±‚(CALayer)ï¼Œä¸€ä¸ªè·¯å¾„(NSStringæˆ–NSURL)ï¼Œä¸€ä¸ªSpriteKitåœºæ™¯(SKScene)ï¼Œä¸€ä¸ªçº¹ç†(skçº¹ç†ï¼Œid&lt; mtlçº¹ç†&gt;æˆ–GLKTextureInfo)ï¼Œæˆ–ä¸€ä¸ªæµ®åŠ¨å€¼åœ¨0åˆ°1 (NSNumber)ä¹‹é—´çš„é‡‘å±å’Œç²—ç³™åº¦å±æ€§</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNGeometry</span> *)hydrogenAtom&#123;</div><div class="line">    <span class="keyword">if</span> (!_hydrogenAtom) &#123;</div><div class="line">        <span class="built_in">SCNSphere</span> *sphere = [<span class="built_in">SCNSphere</span> sphereWithRadius:<span class="number">1.2</span>];</div><div class="line">        sphere.firstMaterial.diffuse.contents = [<span class="built_in">UIColor</span> lightGrayColor];</div><div class="line">        <span class="comment">//specular - é•œé¢</span></div><div class="line">        sphere.firstMaterial.specular.contents = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">        _hydrogenAtom = sphere;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _hydrogenAtom;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å‡ ä½•æ¨¡å‹-O-åŸå­"><a href="#å‡ ä½•æ¨¡å‹-O-åŸå­" class="headerlink" title="å‡ ä½•æ¨¡å‹ -  O åŸå­"></a>å‡ ä½•æ¨¡å‹ -  O åŸå­</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNGeometry</span> *)oxyGenAtom&#123;</div><div class="line">    <span class="keyword">if</span> (!_oxyGenAtom) &#123;</div><div class="line">        <span class="built_in">SCNSphere</span> *sphere = [<span class="built_in">SCNSphere</span> sphereWithRadius:<span class="number">1.52</span>];</div><div class="line">        sphere.firstMaterial.diffuse.contents = [<span class="built_in">UIColor</span> redColor];</div><div class="line">        sphere.firstMaterial.specular.contents = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">        _oxyGenAtom = sphere;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _oxyGenAtom;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>##å‡ ä½•æ¨¡å‹ -  F åŸå­</p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNGeometry</span> *)fluorAtom</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (!_fluorAtom) &#123;</div><div class="line">        <span class="built_in">SCNSphere</span> *sphere = [<span class="built_in">SCNSphere</span> sphereWithRadius:<span class="number">1.47</span>];</div><div class="line">        sphere.firstMaterial.diffuse.contents = [<span class="built_in">UIColor</span> yellowColor];</div><div class="line">        sphere.firstMaterial.specular.contents = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">        _fluorAtom = sphere;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> _fluorAtom;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNNode</title>
      <link href="/2018/01/17/SceneKit/Grammar/SceneKit-SCNNode/"/>
      <content type="html"><![CDATA[<h1 id="SCNNode"><a href="#SCNNode" class="headerlink" title="SCNNode"></a>SCNNode</h1><blockquote><p>SCNNode : NSObject<br>abstract SCNNode is the model class for node-tree object</p></blockquote><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>name</td><td>NSString</td><td></td><td></td></tr><tr><td>light</td><td>SCNLight</td><td></td><td></td></tr><tr><td>camera</td><td>SCNGeometry</td><td></td><td></td></tr><tr><td>skinner</td><td>SCNSkinner</td><td>æ§åˆ¶çš®è‚¤å‡ ä½•å›¾å½¢çš„å˜å½¢</td><td></td></tr><tr><td>morpher</td><td>SCNMorpher</td><td>æ§åˆ¶å˜å½¢çš„å‡ ä½•å›¾å½¢</td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>transform</td><td>SCNMatrix4</td><td>å˜æ¢</td><td></td></tr><tr><td>worldTransform</td><td>SCNMatrix4</td><td>ä¸–ç•Œè½¬æ¢</td><td>åœ¨ä¸–ç•Œç©ºé—´ä¸­çš„è½¬æ¢(ç›¸å¯¹äºåœºæ™¯çš„æ ¹èŠ‚ç‚¹)</td></tr><tr><td>position</td><td>SCNVector3</td><td></td><td></td></tr><tr><td>worldPosition</td><td>SCNVector3</td><td></td><td></td></tr><tr><td>rotation</td><td>SCNVector4</td><td></td><td></td></tr><tr><td>orientation</td><td>SCNQuaternion</td><td></td><td></td></tr><tr><td>worldOrientation</td><td>SCNQuaternion</td><td></td><td></td></tr><tr><td>eulerAngles</td><td>SCNVector3</td><td></td><td></td></tr><tr><td>scale</td><td>SCNVector3</td><td></td><td></td></tr><tr><td>pivot</td><td>SCNMatrix4</td><td></td><td></td></tr><tr><td>hidden</td><td>BOOL</td><td>å¦æ˜¾ç¤º</td><td>dedault NO</td></tr><tr><td>opacity</td><td>CGFloat</td><td>ä¸é€æ˜åº¦</td><td>Default is 1</td></tr><tr><td>castsShadow</td><td>BOOL</td><td>æŠ•ä¸‹é˜´å½±</td><td>Defaults to YES</td></tr><tr><td>movabilityHint</td><td>SCNMovabilityHint</td><td>å¯åŠ¨æ€§æš—ç¤º</td><td>ä¸SceneKitçš„å‘ˆç°ç³»ç»Ÿæ²Ÿé€šä½ æƒ³å¦‚ä½•åœ¨åœºæ™¯ä¸­ç§»åŠ¨å†…å®¹<br>å®ƒä¸ä¼šå½±å“æ‚¨æ›´æ”¹èŠ‚ç‚¹ä½ç½®æˆ–å‘èŠ‚ç‚¹æ·»åŠ åŠ¨ç”»æˆ–ç‰©ç†çš„èƒ½åŠ›<br>é»˜è®¤ä¸ºSCNMovabilityHintFixed</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>parentNode</td><td>SCNNode</td><td>çˆ¶èŠ‚ç‚¹</td><td></td></tr><tr><td>childNodes</td><td>NSArray<scnnode *=""></scnnode></td><td>å­èŠ‚ç‚¹æ•°ç»„</td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><blockquote><p>åŠ è½½</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">instancetype</span>)node;</div></pre></td></tr></table></figure><blockquote><p>åŠ è½½<br>geometryï¼š å‡ ä½•æ¨¡å‹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNNode</span> *)nodeWithGeometry:(<span class="keyword">nullable</span> <span class="built_in">SCNGeometry</span> *)geometry;</div></pre></td></tr></table></figure><blockquote><p>å…‹éš†</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)clone;</div></pre></td></tr></table></figure><blockquote><p>è¢«å…‹éš†</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)flattenedClone</div></pre></td></tr></table></figure><blockquote><p>ä¸–ç•Œè½¬æ¢|åœ¨ä¸–ç•Œç©ºé—´ä¸­çš„è½¬æ¢(ç›¸å¯¹äºåœºæ™¯çš„æ ¹èŠ‚ç‚¹)</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setWorldTransform:(<span class="built_in">SCNMatrix4</span>)worldTransform;</div></pre></td></tr></table></figure><blockquote><p>åŠ å­èŠ‚ç‚¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)addChildNode:(<span class="built_in">SCNNode</span> *)child;</div></pre></td></tr></table></figure><blockquote><p>æ ¹æ®indexåŠ å­èŠ‚ç‚¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)insertChildNode:(<span class="built_in">SCNNode</span> *)child atIndex:(<span class="built_in">NSUInteger</span>)index;</div></pre></td></tr></table></figure><blockquote><p>ä»çˆ¶èŠ‚ç‚¹ç§»é™¤</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)removeFromParentNode;</div></pre></td></tr></table></figure><blockquote><p>æ–°çš„å­èŠ‚ç‚¹æ›¿æ¢æŸä¸ªèŠ‚ç‚¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)replaceChildNode:(<span class="built_in">SCNNode</span> *)oldChild with:(<span class="built_in">SCNNode</span> *)newChild;</div></pre></td></tr></table></figure><blockquote><p>Returns the first node found in the node tree with the specified name<br>è¿”å›åœ¨èŠ‚ç‚¹æ ‘ä¸­æ‰¾åˆ°å…·æœ‰æŒ‡å®šåç§°çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹<br>recursively é€’å½’</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">nullable</span> <span class="built_in">SCNNode</span> *)childNodeWithName:(<span class="built_in">NSString</span> *)name recursively:(<span class="built_in">BOOL</span>)recursively;</div></pre></td></tr></table></figure><blockquote><p>å­èŠ‚ç‚¹é€šè¿‡æµ‹è¯•<br>Returns the child nodes of the receiver that passes a test in a given Block.è¿”å›åœ¨ç»™å®šå—ä¸­é€šè¿‡æµ‹è¯•çš„æ¥æ”¶æ–¹çš„å­èŠ‚ç‚¹</p><p>predicate:è°“è¯</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">NSArray</span>&lt;<span class="built_in">SCNNode</span> *&gt; *)childNodesPassingTest:(<span class="built_in">NS_NOESCAPE</span> <span class="built_in">BOOL</span> (^)(<span class="built_in">SCNNode</span> *child, <span class="built_in">BOOL</span> *stop))predicate;</div></pre></td></tr></table></figure><p>&gt;</p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure><p>ç³»ç»Ÿæ–‡æ¡£å¤ªå¤šäº†ã€‚ã€‚ã€‚</p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNMaterial- æè´¨</title>
      <link href="/2018/01/17/SceneKit/Grammar/SceneKit-SCNMaterial/"/>
      <content type="html"><![CDATA[<h1 id="SCNMaterial-æè´¨"><a href="#SCNMaterial-æè´¨" class="headerlink" title="SCNMaterial- æè´¨"></a>SCNMaterial- æè´¨</h1><blockquote><p>SCNMaterial : NSObject</p></blockquote><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">instancetype</span>)material;</div></pre></td></tr></table></figure><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><table><thead><tr><th>Properties</th><th></th><th></th><th></th></tr></thead><tbody><tr><td>name</td><td>NSString</td><td></td><td></td></tr><tr><td>diffuse</td><td>SCNMaterialProperty</td><td>æ‰©æ•£</td><td>æ¼«å°„å±æ€§æŒ‡å®šä»è¡¨é¢æ¼«åå°„çš„å…‰é‡<br>æ¼«å°„å…‰åœ¨å„ä¸ªæ–¹å‘ä¸Šéƒ½æ˜¯å‡åŒ€åå°„çš„ï¼Œå› æ­¤ä¸è§†ç‚¹æ— å…³</td></tr><tr><td>ambient</td><td>SCNMaterialProperty</td><td>ç¯å¢ƒ</td><td>ç¯å¢ƒå±æ€§æŒ‡å®šè¦åå°„çš„ç¯å¢ƒå…‰çš„æ•°é‡<br>è¿™ä¸ªå±æ€§å¯¹æ²¡æœ‰ç¯å¢ƒå…‰çš„åœºæ™¯æ²¡æœ‰è§†è§‰æ•ˆæœ<br>å¦‚æœå°†locksambientwithæ‰©æ•£è®¾ç½®ä¸ºYESï¼Œåˆ™è®¾ç½®ç¯å¢ƒæ²¡æœ‰æ•ˆæœ</td></tr><tr><td>specular</td><td>SCNMaterialProperty</td><td>é•œé¢</td><td>é•œå­çš„å±æ€§æŒ‡å®šå…‰çš„æ•°é‡ä»¥ç±»ä¼¼é•œå­çš„æ–¹å¼åå°„<br>å½“è§†ç‚¹ä¸åå°„å…‰çš„æ–¹å‘ä¸€è‡´æ—¶ï¼Œé•œé¢å¼ºåº¦å¢åŠ </td></tr><tr><td>emission</td><td>SCNMaterialProperty</td><td>å‘å°„</td><td>å‘å°„å±æ€§æŒ‡å®šææ–™å‘å‡ºçš„å…‰é‡<br>è¿™ç§å‘å°„ä¸ä¼šç…§äº®åœºæ™¯ä¸­çš„å…¶ä»–è¡¨é¢</td></tr><tr><td>transparent</td><td>SCNMaterialProperty</td><td>é€æ˜</td><td>é€æ˜å±æ€§æŒ‡å®šææ–™çš„é€æ˜åŒºåŸŸ</td></tr><tr><td>reflective</td><td>SCNMaterialProperty</td><td>åå°„</td><td>åå°„ç‰¹æ€§æŒ‡å®šäº†è¡¨é¢çš„åå°„ç‡<br>è¡¨é¢ä¸ä¼šçœŸå®åœ°åæ˜ åœºæ™¯ä¸­çš„å…¶ä»–ç‰©ä½“<br>è¿™ä¸ªå±æ€§å¯ä»¥ä½œä¸ºä¸€ä¸ªçƒä½“æ˜ å°„æ¥åæ˜ ä¸€ä¸ªé¢„å…ˆè®¡ç®—çš„ç¯å¢ƒ</td></tr><tr><td>multiply</td><td>SCNMaterialProperty</td><td>ä¹˜æ³•</td><td>ä¹˜æ³•å±æ€§æŒ‡å®šç”¨äºå°†è¾“å‡ºç‰‡æ®µç›¸ä¹˜çš„é¢œè‰²æˆ–å›¾åƒ<br>è®¡ç®—å‡ºçš„ç‰‡æ®µä¸ç›¸ä¹˜å€¼ç›¸ä¹˜ä»¥äº§ç”Ÿæœ€åçš„ç‰‡æ®µ<br>æ­¤å±æ€§å¯ç”¨äºé˜´å½±æ˜ å°„ã€æ·¡å‡ºæˆ–tint 3då¯¹è±¡</td></tr><tr><td>normal</td><td>SCNMaterialProperty</td><td>æ™®é€š</td><td>æ™®é€šå±æ€§æŒ‡å®šè¡¨é¢æ–¹å‘<br>å½“ä¸€ä¸ªå›¾åƒè®¾ç½®åœ¨æ­£å¸¸çš„å±æ€§ä¸Šæ—¶ï¼Œæ¯ä¸ªåƒç´ çš„ææ–™ä¼šè‡ªåŠ¨è¢«ç‚¹äº®<br>è®¾ç½®é¢œè‰²æ²¡æœ‰æ•ˆæœ</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>displacement</td><td>SCNMaterialProperty</td><td>ä½ç§»</td><td></td></tr><tr><td>ambientOcclusion</td><td>SCNMaterialProperty</td><td>ç¯å¢ƒé—­å¡</td><td>æŒ‡å®šäº†è¡¨é¢çš„ç¯å¢ƒé®æŒ¡<br>ç¯å¢ƒé®æŒ¡ä¸ç¯å¢ƒå…‰ç›¸ä¹˜ï¼Œç»“æœè¢«æ·»åŠ åˆ°ç…§æ˜è´¡çŒ®<br>è¿™ä¸ªå±æ€§å¯¹æ²¡æœ‰ç¯å¢ƒå…‰çš„åœºæ™¯æ²¡æœ‰è§†è§‰æ•ˆæœ<br>å½“ç¯å¢ƒé®æŒ¡å›¾è¢«è®¾ç½®æ—¶ï¼Œç¯å¢ƒå±æ€§è¢«å¿½ç•¥ã€‚</td></tr><tr><td>selfIllumination</td><td>SCNMaterialProperty</td><td>çº¹ç†æˆ–é¢œè‰²</td><td>å±æ€§æŒ‡å®šä¸€ä¸ªçº¹ç†æˆ–é¢œè‰²ï¼Œå®ƒè¢«æ·»åŠ åˆ°è¡¨é¢çš„ç…§æ˜è´¡çŒ®ä¸­<br>å½“è®¾ç½®ä¸€ä¸ªè‡ªå¡«ä½“æ—¶ï¼Œä¼šå¿½ç•¥å‘å°„ç‰¹æ€§</td></tr><tr><td>metalness</td><td>SCNMaterialProperty</td><td>é‡‘å±å±æ€§</td><td>é‡‘å±å±æ€§æŒ‡å®šææ–™è¡¨é¢çš„é‡‘å±æè´¨<br>è¾ƒä½çš„å€¼(è¾ƒæ·±çš„é¢œè‰²)ä½¿ææ–™çœ‹èµ·æ¥æ›´åƒä»‹è´¨è¡¨é¢<br>è¾ƒé«˜çš„å€¼(è¾ƒäº®çš„é¢œè‰²)ä¼šä½¿è¡¨é¢çœ‹èµ·æ¥æ›´æœ‰é‡‘å±æ„Ÿ<br>æ­¤å±æ€§æ—¶æ‰ä¼šè¢«â€œlightingModelNameâ€æ˜¯â€œSCNLightingModelPhysicallyBasedâ€ã€‚</td></tr><tr><td>roughness</td><td>SCNMaterialProperty</td><td>ç²—ç³™åº¦</td><td>ç²—ç³™åº¦å±æ€§æŒ‡å®šè¡¨é¢å¹³æ»‘åº¦<br>è¾ƒä½çš„é¢œè‰²(è¾ƒæ·±çš„é¢œè‰²)ä½¿ææ–™çœ‹èµ·æ¥é—ªé—ªå‘äº®ï¼Œæœ‰æ˜ç¡®çš„é«˜å…‰<br>è¾ƒé«˜çš„å€¼(è¾ƒäº®çš„é¢œè‰²)ä¼šå¯¼è‡´é«˜å…‰çš„é«˜å…‰ï¼Œä½¿ææ–™çš„å¼¥æ•£æ€§å˜å¾—æ›´å¼ºåå°„æ€§<br>æ­¤å±æ€§æ—¶æ‰ä¼šè¢«â€œlightingModelNameâ€æ˜¯â€œSCNLightingModelPhysicallyBasedâ€</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>shininess</td><td>CGFloat</td><td>äº®åº¦å€¼</td><td>é»˜è®¤ä¸º1.0</td></tr><tr><td>transparency</td><td>CGFloat</td><td>é€æ˜åº¦</td><td>é»˜è®¤ä¸º1.0</td></tr><tr><td>lightingModelName</td><td>SCNLightingModel</td><td>æ˜æ¨¡å‹åç§°</td><td>å†³å®šäº†æ¥æ”¶æœºçš„ç…§æ˜æ¨¡å‹<br>è¯·å‚é˜…ä¸Šé¢çš„ç…§æ˜æ¨¡å‹åˆ—è¡¨<br>é»˜è®¤ä¸ºSCNLightingModelBlinn</td></tr><tr><td>litPerPixel</td><td>BOOL</td><td>å¦æŒ‰åƒç´ ç‚¹äº®</td><td>é»˜è®¤YES</td></tr><tr><td>doubleSided</td><td>BOOL</td><td>æ˜¯å¦ä¸ºåŒé¢</td><td>é»˜è®¤NO</td></tr><tr><td>fillMode</td><td>SCNFillMode</td><td>æ …æ ¼åŒ–</td><td>é»˜è®¤ä¸ºSCNFillModeFill</td></tr><tr><td>cullMode</td><td>SCNCullMode</td><td>ç­›é€‰æ¨¡å¼</td><td>é»˜è®¤ä¸ºSCNCullBack</td></tr><tr><td>transparencyMode</td><td>SCNTransparencyMode</td><td>é€æ˜æ¨¡å¼</td><td>é€æ˜æ¨¡å¼è§ä¸Šæ–‡<br>é»˜è®¤ä¸ºSCNTransparencyModeDefault</td></tr><tr><td>locksAmbientWithDiffuse</td><td>BOOL</td><td>ç¯å¢ƒå±æ€§è‡ªåŠ¨åŒ¹é…æ‰©æ•£å±æ€§</td><td>é»˜è®¤å€¼ä¸ºYES</td></tr><tr><td>writesToDepthBuffer</td><td>BOOL</td><td>æ˜¯å¦å†™å…¥åˆ°æ·±åº¦ç¼“å†²åŒº</td><td>é»˜è®¤å€¼ä¸ºYES</td></tr><tr><td>colorBufferWriteMask</td><td>SCNColorMask</td><td>æ˜¯å¦å†™å…¥é¢œè‰²ç¼“å†²åŒº</td><td>é»˜è®¤ä¸ºSCNColorMaskAll</td></tr><tr><td>readsFromDepthBuffer</td><td>BOOL</td><td>æ˜¯å¦ä»æ·±åº¦ç¼“å†²åŒºè¯»å–</td><td>é»˜è®¤å€¼ä¸ºYES</td></tr><tr><td>fresnelExponent</td><td>CGFloat</td><td>yè²æ¶…è€³æŒ‡æ•°</td><td>é»˜è®¤ä¸º0.0<br>åå°„ç‡ç‰¹æ€§çš„å½±å“<br>fresnelæŒ‡æ•°æ”¹å˜äº†åå°„ç‡çš„æŒ‡æ•°<br>æŒ‡æ•°è¶Šå¤§ï¼Œåå°„å°±è¶Šé›†ä¸­åœ¨è¾¹ç¼˜</td></tr><tr><td>blendMode</td><td>SCNBlendMode</td><td>æ··åˆæ¨¡å¼</td><td>é»˜è®¤ä¸ºSCNBlendModeAlpha</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
            <tag> SCNMaterial </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNGeometry-SCNSphere-å‡ ä½•-çƒ</title>
      <link href="/2018/01/17/SceneKit/Grammar/SCNGeometry/SCNGeometry-SCNSphere-%E5%87%A0%E4%BD%95-%E7%90%83/"/>
      <content type="html"><![CDATA[<h1 id="Sphere-å‡ ä½•-çƒ"><a href="#Sphere-å‡ ä½•-çƒ" class="headerlink" title="Sphere å‡ ä½•-çƒ"></a>Sphere å‡ ä½•-çƒ</h1><blockquote><p>SCNPlane : SCNGeometry</p></blockquote><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><blockquote><p>radius:çƒçš„åŠå¾„</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">instancetype</span>)sphereWithRadius:(<span class="built_in">CGFloat</span>)radius;</div></pre></td></tr></table></figure><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>radius</td><td>CGFloat</td><td>çƒçš„åŠå¾„</td><td>é»˜è®¤å€¼æ˜¯0.5</td></tr><tr><td>geodesic</td><td>BOOL</td><td>æµ‹åœ°çº¿</td><td>è¡¨ç¤ºå‡ ä½•æ˜¯ä¸€ä¸ªå²©çŸ³åœˆ<br>é»˜è®¤å€¼ä¸ºNO</td></tr><tr><td>segmentCount</td><td>NSInteger</td><td>æ®µæ•°</td><td>åœ¨ä¸¤ä¸ªçƒåæ ‡ä¸‹çš„çº¿æ®µæ•°ã€‚å¯ä»¥åšæˆåŠ¨ç”»<br>å¦‚æœå€¼å°äº3ï¼Œåˆ™è¯¥è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚é»˜è®¤å€¼æ˜¯24</td></tr><tr><td></td><td></td></tr></tbody></table><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><blockquote><p>åˆ›å»º C åŸå­æ¨¡å‹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> - (<span class="built_in">SCNGeometry</span> *) carbonAtom</div><div class="line">&#123;</div><div class="line">    <span class="built_in">SCNSphere</span> *phere = [<span class="built_in">SCNSphere</span> sphereWithRadius:<span class="number">1.7</span>];</div><div class="line">    phere.firstMaterial.diffuse.contents = [<span class="built_in">UIColor</span> darkGrayColor];</div><div class="line">    phere.firstMaterial.specular.contents = [<span class="built_in">UIColor</span> whiteColor];</div><div class="line">    <span class="keyword">return</span> phere;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åŸå­æ·»åŠ åˆ°èŠ‚ç‚¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">SCNNode</span> *tempNode = [<span class="built_in">SCNNode</span> node];</div><div class="line"><span class="built_in">SCNNode</span> *carbonNode = [<span class="built_in">SCNNode</span> nodeWithGeometry:[<span class="keyword">self</span> carbonAtom]];</div><div class="line">[tempNode addChildNode:carbonNode];</div></pre></td></tr></table></figure><blockquote><p>å°†åˆ›å»ºçš„åŸå­èŠ‚ç‚¹æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span>.scene.rootNode addChildNode:[<span class="keyword">self</span> AddFunction]];</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
          <category> SCNGeometry </category>
          
          <category> SCNSphere </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNGeometry</title>
      <link href="/2018/01/17/SceneKit/Grammar/SceneKit-SCNGeometry/"/>
      <content type="html"><![CDATA[<h1 id="SCNGeometry-å‡ ä½•"><a href="#SCNGeometry-å‡ ä½•" class="headerlink" title="SCNGeometry å‡ ä½•"></a>SCNGeometry å‡ ä½•</h1><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><blockquote><p>åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªç©ºçš„å‡ ä½•å¯¹è±¡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">instancetype</span>)geometry;</div></pre></td></tr></table></figure><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>name</td><td>NSString</td><td></td></tr><tr><td>materials</td><td>NSArray<scnmaterial *=""></scnmaterial></td><td>ææ–™æ•°ç»„</td></tr><tr><td>firstMaterial</td><td>SCNMaterial</td><td>å†³å®šå‡ ä½•çš„ç¬¬ä¸€ä¸ªææ–™<br>å¦‚æœå‡ ä½•å›¾å½¢æ²¡æœ‰æè´¨ï¼Œè¿”å›nil<br>å®ƒç­‰ä»·äºä¸Šé¢çš„â€œææ–™â€æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå¯¹è±¡</td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNScene-åœºæ™¯</title>
      <link href="/2018/01/17/SceneKit/Grammar/SCNScene-%E5%9C%BA%E6%99%AF/SCNScene/"/>
      <content type="html"><![CDATA[<h1 id="SCNScene-åœºæ™¯"><a href="#SCNScene-åœºæ™¯" class="headerlink" title="SCNScene-åœºæ™¯"></a>SCNScene-åœºæ™¯</h1><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><blockquote><p>SCNScene : NSObject</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">instancetype</span>)scene;</div></pre></td></tr></table></figure><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><blockquote><p>æ ¹èŠ‚ç‚¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">SCNNode</span> *rootNode;</div></pre></td></tr></table></figure><blockquote><p>ç‰©ç†ä¸–ç•Œ</p></blockquote><ul><li>æ¯ä¸ªåœºæ™¯è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç‰©ç†ä¸–ç•Œå¯¹è±¡æ¥æ¨¡æ‹Ÿåœºæ™¯ä¸­çš„èŠ‚ç‚¹ç‰©ç†</li><li>ä½¿ç”¨æ­¤å±æ€§å¯è®¿é—®åœºæ™¯çš„å…¨å±€ç‰©ç†å±æ€§ï¼Œä¾‹å¦‚é‡åŠ›</li><li>è¦å°†ç‰©ç†æ·»åŠ åˆ°ç‰¹å®šçš„èŠ‚ç‚¹ï¼Œè¯·å‚é˜…ç‰©ç†ä½“</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">SCNPhysicsWorld</span> *physicsWorld</div></pre></td></tr></table></figure><blockquote><p>èƒŒæ™¯ï¼ˆææ–™å±æ€§ï¼‰</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">SCNMaterialProperty</span> *background</div></pre></td></tr></table></figure><blockquote><p>ç…§æ˜ç¯å¢ƒ</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">SCNMaterialProperty</span> *lightingEnvironment</div></pre></td></tr></table></figure><blockquote><p>é›¾å¼€å§‹è·ç¦»</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> fogStartDistance ;</div></pre></td></tr></table></figure><blockquote><p>é›¾ç»“æŸè·ç¦»</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> fogEndDistance ;</div></pre></td></tr></table></figure><blockquote><p>é›¾å¯†åº¦æŒ‡æ•°</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> fogDensityExponent API_AVAILABLE(macos(<span class="number">10.10</span>));</div></pre></td></tr></table></figure><blockquote><p>é›¾çš„é¢œè‰²</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="keyword">id</span> fogColor ;</div></pre></td></tr></table></figure><blockquote><p>åœé¡¿</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">getter</span>=isPaused) <span class="built_in">BOOL</span> paused</div></pre></td></tr></table></figure><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><blockquote><p>å…³é”®å±æ€§</p></blockquote><ul><li>abstract:æ£€ç´¢åœºæ™¯å±æ€§</li><li>æŒ‡å®šè¦è¯»å–çš„å±æ€§çš„NSStringå¯¹è±¡</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">nullable</span> <span class="keyword">id</span>)attributeForKey:(<span class="built_in">NSString</span> *)key;</div></pre></td></tr></table></figure><blockquote><p>attributeForKey</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)setAttribute:(<span class="keyword">nullable</span> <span class="keyword">id</span>)attribute forKey:(<span class="built_in">NSString</span> *)key;</div></pre></td></tr></table></figure><blockquote><p>name</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">nullable</span> <span class="keyword">instancetype</span>)sceneNamed:(<span class="built_in">NSString</span> *)name</div></pre></td></tr></table></figure><blockquote><p>name </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">nullable</span> <span class="keyword">instancetype</span>)sceneNamed:(<span class="built_in">NSString</span> *)name inDirectory:(<span class="keyword">nullable</span> <span class="built_in">NSString</span> *)directory options:(<span class="keyword">nullable</span> <span class="built_in">NSDictionary</span>&lt;<span class="built_in">SCNSceneSourceLoadingOption</span>, <span class="keyword">id</span>&gt; *)options ;</div></pre></td></tr></table></figure><blockquote><p>url</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="keyword">nullable</span> <span class="keyword">instancetype</span>)sceneWithURL:(<span class="built_in">NSURL</span> *)url options:(<span class="keyword">nullable</span> <span class="built_in">NSDictionary</span>&lt;<span class="built_in">SCNSceneSourceLoadingOption</span>, <span class="keyword">id</span>&gt; *)options error:(<span class="built_in">NSError</span> **)error;</div></pre></td></tr></table></figure><blockquote><p>writeToURL</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)writeToURL:(<span class="built_in">NSURL</span> *)url options:(<span class="keyword">nullable</span> <span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)options delegate:(<span class="keyword">nullable</span> <span class="keyword">id</span> &lt;<span class="built_in">SCNSceneExportDelegate</span>&gt;)delegate progressHandler:(<span class="keyword">nullable</span> <span class="built_in">SCNSceneExportProgressHandler</span>)progressHandler;</div></pre></td></tr></table></figure><h3 id="ä»£ç†åè®®"><a href="#ä»£ç†åè®®" class="headerlink" title="ä»£ç†åè®®"></a>ä»£ç†åè®®</h3><blockquote><p>SCNSceneExportDelegate</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">nullable</span> <span class="built_in">NSURL</span> *)writeImage:(<span class="built_in">UIImage</span> *)image withSceneDocumentURL:(<span class="built_in">NSURL</span> *)documentURL originalImageURL:(<span class="keyword">nullable</span> <span class="built_in">NSURL</span> *)originalImageURL;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNLight</title>
      <link href="/2018/01/17/SceneKit/Grammar/SceneKit-SCNLight/"/>
      <content type="html"><![CDATA[<h1 id="SCNLight-å…‰æº"><a href="#SCNLight-å…‰æº" class="headerlink" title="SCNLight å…‰æº"></a>SCNLight å…‰æº</h1><blockquote><p>å…‰æºå¯ä»¥é™„åŠ åˆ°èŠ‚ç‚¹ä¸Šï¼Œåœ¨æ¸²æŸ“åœºæ™¯ä¸­æä¾›ç€è‰²</p></blockquote><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><blockquote><p>åˆå§‹åŒ–</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+ (instancetype)light;</div></pre></td></tr></table></figure><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><blockquote><p>type</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">SCNLightType</span> type;</div></pre></td></tr></table></figure><table><thead><tr><th>SCNLightType</th><th></th></tr></thead><tbody><tr><td>SCNLightTypeAmbient</td><td>ç¯å¢ƒå…‰</td></tr><tr><td>SCNLightTypeOmni</td><td>å‘å„æ–¹å‘å‘å‡ºçš„å…‰ç…§å¼ºåº¦ä¸€æ ·</td></tr><tr><td>SCNLightTypeDirectional</td><td>å¹³è¡Œå…‰</td></tr><tr><td>SCNLightTypeSpot</td><td>èšç„¦å…‰</td></tr><tr><td>SCNLightTypeIES</td><td></td></tr><tr><td>SCNLightTypeProbe</td></tr></tbody></table><blockquote><p>clolor </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>) <span class="keyword">id</span> color;</div></pre></td></tr></table></figure><blockquote><p>temperature  æ¸©åº¦å€¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> temperature;</div></pre></td></tr></table></figure><blockquote><p>intensity äº®åº¦å€¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> intensity</div></pre></td></tr></table></figure><blockquote><p>ç¡®å®šæ¥æ”¶æ–¹çš„åç§°</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>, <span class="keyword">nullable</span>) <span class="built_in">NSString</span> *name;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
            <tag> SCNLight </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNView</title>
      <link href="/2018/01/17/SceneKit/Grammar/SceneKit-SCNView/"/>
      <content type="html"><![CDATA[<h1 id="SCNView"><a href="#SCNView" class="headerlink" title="SCNView"></a>SCNView</h1><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">SCNView</span> : <span class="built_in">UIView</span> &lt;<span class="built_in">SCNSceneRenderer</span>, <span class="built_in">SCNTechniqueSupport</span>&gt;</div></pre></td></tr></table></figure><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><blockquote><p>options è§†å›¾åˆå§‹åŒ–é€‰é¡¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">instancetype</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame options:(<span class="keyword">nullable</span> <span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *, <span class="keyword">id</span>&gt; *)options;</div></pre></td></tr></table></figure><h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><blockquote><p>èŠ‚ç‚¹</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>, <span class="keyword">nullable</span>) <span class="built_in">SCNScene</span> *scene;</div></pre></td></tr></table></figure><blockquote><p>æ˜¯å¦å¼€å¯è¿ç»­ç»˜åˆ¶ï¼ˆç±»ä¼¼å®šä½æ˜¯å¦æŒç»­å®šä½ï¼‰</p></blockquote><ul><li>å½“è®¾ç½®ä¸ºYESæ—¶ï¼Œè§†å›¾ä¼šè¿ç»­åœ°é‡ç»˜æ˜¾ç¤ºé“¾è·¯å¸§é€Ÿç‡ã€‚</li><li>å½“è®¾ç½®ä¸ºNOæ—¶ï¼Œè§†å›¾åªä¼šåœ¨æ¥æ”¶æ–¹åœºæ™¯å‘ç”Ÿå˜åŒ–æˆ–åŠ¨ç”»æ—¶é‡æ–°ç»˜åˆ¶ã€‚é»˜è®¤ä¸ºæ²¡æœ‰ã€‚</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">BOOL</span> rendersContinuously;</div></pre></td></tr></table></figure><blockquote><p>ç›¸æœºæ§åˆ¶</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">BOOL</span> allowsCameraControl;</div></pre></td></tr></table></figure><blockquote><p>ç›¸æœºè®¾ç½®</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="keyword">id</span> &lt;<span class="built_in">SCNCameraControlConfiguration</span>&gt; cameraControlConfiguration</div></pre></td></tr></table></figure><blockquote><p>é»˜è®¤ç›¸æœºæ§åˆ¶å™¨</p><ul><li>è¿”å›é»˜è®¤çš„SCNCameraControllerç”¨äºé©±åŠ¨å½“å‰çš„è§†è§’ï¼Œå½“å…è®¸cameracontrollerè®¾ç½®ä¸ºYES</li></ul></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonnull</span>, <span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">SCNCameraController</span>* defaultCameraController</div></pre></td></tr></table></figure><blockquote><p>å¸§ç‡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">NSInteger</span> preferredFramesPerSecond</div></pre></td></tr></table></figure><blockquote><p>æŒ‡å®šä¸æ¥æ”¶æ–¹å…³è”çš„EAGLä¸Šä¸‹æ–‡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">retain</span>, <span class="keyword">nullable</span>) EAGLContext *eaglContext;</div></pre></td></tr></table></figure><blockquote><p>æŠ—é”¯é½¿æ¨¡å¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">SCNAntialiasingMode</span> antialiasingMode</div></pre></td></tr></table></figure><h2 id="ä¸»è¦API"><a href="#ä¸»è¦API" class="headerlink" title="ä¸»è¦API"></a>ä¸»è¦API</h2><blockquote><p>å¿«ç…§</p></blockquote><ul><li>ç»˜åˆ¶è§†å›¾çš„å†…å®¹å¹¶å°†å…¶ä½œä¸ºä¸€ä¸ªæ–°çš„å›¾åƒå¯¹è±¡è¿”å›</li><li>æ–¹æ³•æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥éšæ—¶è°ƒç”¨</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">UIImage</span> *)snapshot</div></pre></td></tr></table></figure><blockquote><p>æ’­æ”¾æ§åˆ¶æ–¹æ³•</p></blockquote><ul><li>play</li><li>pause</li><li>stop</li></ul><p><a href="http://www.tk4479.net/niceboydo/article/details/54021364" target="_blank" rel="external">SCNViewåˆ‡æ¢ç›¸æœºè§†è§’</a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
            <tag> SCNView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>SceneKit-SCNAction</title>
      <link href="/2018/01/17/SceneKit/Grammar/SceneKit-SCNAction/"/>
      <content type="html"><![CDATA[<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><blockquote><p>èŠ‚ç‚¹ï¼ˆNodeï¼‰ åŠ¨ç”»ç§»åŠ¨åˆ°(19,18,17)è¿™ä¸ªä½ç½®ï¼Œæ—¶é—´=5s</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="built_in">SCNAction</span> *action = [<span class="built_in">SCNAction</span> moveTo:<span class="built_in">SCNVector3Make</span>(<span class="number">19</span>,<span class="number">18</span>,<span class="number">17</span>) </div><div class="line">                                      duration:<span class="number">5</span>];</div><div class="line"></div><div class="line">[oneNode runAction: action];</div></pre></td></tr></table></figure><h1 id="SCNAction-ä¸»è¦çš„API"><a href="#SCNAction-ä¸»è¦çš„API" class="headerlink" title="SCNAction ä¸»è¦çš„API"></a>SCNAction ä¸»è¦çš„API</h1><h2 id="SCNAction-å±æ€§"><a href="#SCNAction-å±æ€§" class="headerlink" title="SCNAction å±æ€§"></a>SCNAction å±æ€§</h2><blockquote><p>æ—¶é—´é—´éš”ï¼ŒçœŸå®æ—¶é—´é—´éš”å—speedå½±å“</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">NSTimeInterval</span> duration</div></pre></td></tr></table></figure><blockquote><p>é€Ÿåº¦ç³»æ•°ã€‚å‡è®¾duration ä¸º10ï¼Œä½†speed ä¸º2çš„è¯ï¼Œ<br>å°±æ˜¯é€Ÿåº¦æ˜¯ä»¥å‰çš„2å€ï¼Œå®é™…duration å°±ä¸º5</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> speed</div></pre></td></tr></table></figure><blockquote><p>å®šæ—¶æ¨¡å¼,æœ‰å››ä¸ªå¸¸é‡å€¼ï¼š<br>Constants<br>SCNActionTimingModeLinear åŒ€é€Ÿ<br>SCNActionTimingModeEaseIn ä¸€å¼€å§‹æ…¢ï¼Œæ…¢æ…¢åŠ å¿«<br>SCNActionTimingModeEaseOut ä¸€å¼€å§‹å¿«ï¼Œé€æ¸å˜æ…¢<br>SCNActionTimingModeEaseInEaseOut å¼€å§‹æ…¢æ…¢åœ°,é€šè¿‡ä¸­é—´çš„æ—¶å€™åŠ é€Ÿ,ç„¶åå†æ¬¡æ”¾ç¼“</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>) <span class="built_in">SCNActionTimingMode</span> timingMode</div></pre></td></tr></table></figure><h2 id="SCNActionä¸»è¦çš„API"><a href="#SCNActionä¸»è¦çš„API" class="headerlink" title="SCNActionä¸»è¦çš„API"></a>SCNActionä¸»è¦çš„API</h2><blockquote><p>å°†nodeä»x,y,zä¸Šå„ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)moveByX:(<span class="built_in">CGFloat</span>)deltaX</div><div class="line">                   y:(<span class="built_in">CGFloat</span>)deltaY</div><div class="line">                   z:(<span class="built_in">CGFloat</span>)deltaZ</div><div class="line">            duration:(<span class="built_in">NSTimeInterval</span>)duration</div></pre></td></tr></table></figure><blockquote><p>å‘é‡æ–¹å¼è¾“å…¥å‚æ•°ï¼Œç§»åŠ¨åˆ°æŒ‡å®šä½ç½®</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)moveBy:(<span class="built_in">SCNVector3</span>)delta</div><div class="line">           duration:(<span class="built_in">NSTimeInterval</span>)duration</div></pre></td></tr></table></figure><blockquote><p>å°†nodeç§»åŠ¨åˆ°locationè¿™ä¸ªä½ç½®</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)moveTo:(<span class="built_in">SCNVector3</span>)location</div><div class="line">           duration:(<span class="built_in">NSTimeInterval</span>)duration</div></pre></td></tr></table></figure><blockquote><p>å°†nodeä»x,y,zä¸Šå„æ—‹è½¬å¤šå°‘åº¦</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)rotateByX:(<span class="built_in">CGFloat</span>)xAngle</div><div class="line">                     y:(<span class="built_in">CGFloat</span>)yAngle</div><div class="line">                     z:(<span class="built_in">CGFloat</span>)zAngle</div><div class="line">              duration:(<span class="built_in">NSTimeInterval</span>)duration</div></pre></td></tr></table></figure><blockquote><p>/å°†nodeä»x,y,zä¸Šæ—‹è½¬åˆ°æŒ‡å®šè§’åº¦</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)rotateToX:(<span class="built_in">CGFloat</span>)xAngle</div><div class="line">                     y:(<span class="built_in">CGFloat</span>)yAngle</div><div class="line">                     z:(<span class="built_in">CGFloat</span>)zAngle</div><div class="line">              duration:(<span class="built_in">NSTimeInterval</span>)duration</div></pre></td></tr></table></figure><p>&gt;</p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> </div></pre></td></tr></table></figure><blockquote><p>// åŒä¸Šï¼Œä¸ä¸Šé¢çš„æ–¹æ³•åŒºåˆ«åœ¨äºå¤šäº†shortestUnitArc è¿™ä¸ªå‚æ•°ï¼ŒBOOLå€¼ã€‚<br>//ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªnodeä» 0åº¦æ—‹è½¬åˆ°270åº¦ï¼Œ<br>//å¦‚æœå°†shortestUnitArcè®¾ç½®ä¸ºNOï¼Œnodeä¼šé¡ºæ—¶é’ˆæ—‹è½¬åˆ°270åº¦ï¼›<br>//å¦‚æœå°†shortestUnitArcè®¾ç½®ä¸ºYESï¼Œnodeä¼šé€†æ—¶é’ˆæ—‹è½¬90åº¦åˆ°270åº¦ï¼Œ<br>//å³é€‰æ‹©æœ€å°çš„æ—‹è½¬è§’åº¦æ—‹è½¬åˆ°ç‰¹å®šçš„åº¦æ•°ã€‚é»˜è®¤ä¸ºNO</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)rotateToX:(<span class="built_in">CGFloat</span>)xAngle</div><div class="line">                     y:(<span class="built_in">CGFloat</span>)yAngle</div><div class="line">                     z:(<span class="built_in">CGFloat</span>)zAngle</div><div class="line">              duration:(<span class="built_in">NSTimeInterval</span>)duration</div><div class="line">       shortestUnitArc:(<span class="built_in">BOOL</span>)shortestUnitArc</div></pre></td></tr></table></figure><blockquote><p>// æ²¿ç€ç‰¹å®šçš„è½´æ—‹è½¬angleåº¦ã€‚å‰é¢æ—‹è½¬éƒ½æ˜¯æ²¿x,y,zè½´æ—‹è½¬ï¼Œéƒ½æ˜¯äº’ç›¸å‚ç›´çš„ï¼Œ<br>//å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡å¦‚ä½•æ²¿ç€ä¸xè½´æˆ45åº¦å¤¹è§’çš„æ–¹å‘æ—‹è½¬nodeï¼Ÿ<br>//è¿™ä¸ªAPIå¤§å®¶è¿™é‡Œç•™æ„ä¸€ä¸‹ï¼Œ<br>//ä¸Šç¯‡æåˆ°çš„ä¸åœ¨X-Z è¿™ä¸ªå¹³é¢æ—‹è½¬ï¼Œä¼šç”¨è¿™ä¸ªæ–¹æ³•åœ¨åé¢çš„demoä¸­è§£å†³ã€‚</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)rotateByAngle:(<span class="built_in">CGFloat</span>)angle</div><div class="line">                aroundAxis:(<span class="built_in">SCNVector3</span>)axis</div><div class="line">                  duration:(<span class="built_in">NSTimeInterval</span>)duration</div></pre></td></tr></table></figure><blockquote><p>// SCNVector4(x,y,z,angle)  æ²¿ç€ç‰¹å®šçš„è½´æ—‹è½¬åˆ°angleåº¦ã€‚<br>//è¿™é‡Œè§£é‡Šä¸€ä¸‹angle ç±»ä¼¼Ï€ï¼Œå¦‚æœangle=2,<br>//æˆ‘ä»¬å¯ä¸èƒ½ç†è§£ä¸ºæ—‹è½¬åˆ°2åº¦ï¼Œè€Œæ˜¯æ—‹è½¬åˆ°2/Ï€*180 åº¦</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)rotateToAxisAngle:(<span class="built_in">SCNVector4</span>)axisAngle</div><div class="line">                      duration:(<span class="built_in">NSTimeInterval</span>)duration</div></pre></td></tr></table></figure><blockquote><p>ç¼©å°ï¼ˆæ”¾å¤§ï¼‰By å¤šå°‘</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)scaleBy:(<span class="built_in">CGFloat</span>)scale</div><div class="line">            duration:(<span class="built_in">NSTimeInterval</span>)sec</div></pre></td></tr></table></figure><blockquote><p>ç¼©å°ï¼ˆæ”¾å¤§ï¼‰åˆ° Toå¤šå°‘</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)scaleTo:(<span class="built_in">CGFloat</span>)scale</div><div class="line">            duration:(<span class="built_in">NSTimeInterval</span>)sec</div></pre></td></tr></table></figure><blockquote><p>æ·¡å…¥<br>å°†node çš„opacity æ¸æ¸å˜æˆ1</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)fadeInWithDuration:(<span class="built_in">NSTimeInterval</span>)sec</div></pre></td></tr></table></figure><blockquote><p>æ·¡å‡º</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)fadeOutWithDuration:(<span class="built_in">NSTimeInterval</span>)sec</div></pre></td></tr></table></figure><blockquote><p>å°†node çš„opacity æ¸æ¸å˜åŒ–ç‰¹å®šçš„æ•°å€¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)fadeOpacityBy:(<span class="built_in">CGFloat</span>)factor</div><div class="line">                   duration:(<span class="built_in">NSTimeInterval</span>)sec</div></pre></td></tr></table></figure><blockquote><p>å°†node çš„opacity æ¸æ¸å˜åŒ–åˆ°ç‰¹å®šçš„æ•°å€¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)fadeOpacityTo:(<span class="built_in">CGFloat</span>)opacity</div><div class="line">                   duration:(<span class="built_in">NSTimeInterval</span>)sec</div></pre></td></tr></table></figure><blockquote><p>éšè—node</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)hide</div></pre></td></tr></table></figure><blockquote><p>æ˜¾ç¤ºnode</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)unhide</div></pre></td></tr></table></figure><blockquote><p>ç§»é™¤node</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)removeFromParentNode</div></pre></td></tr></table></figure><blockquote><p>æ’­æ”¾éŸ³é¢‘ waitForCompletionï¼ŒBOOLå€¼</p></blockquote><ul><li>å¦‚æœä¸ºYES Actionçš„durationå°±æ˜¯éŸ³é¢‘çš„æ—¶é•¿</li><li>å¦‚æœä¸ºNOï¼Œå¯ä»¥è®¤ä¸ºduration ä¸º0</li><li>å¯ä»¥å»çœ‹SCNAudioPlayer çš„API</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)playAudioSource:(<span class="built_in">SCNAudioSource</span> *)source</div><div class="line">            waitForCompletion:(<span class="built_in">BOOL</span>)wait</div></pre></td></tr></table></figure><blockquote><p>roup è¢«ç”¨æ¥å¹¶å‘æ‰§è¡Œå¤šä¸ªSCNAction</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)group:(<span class="built_in">NSArray</span>&lt;<span class="built_in">SCNAction</span> *&gt; *)actions</div></pre></td></tr></table></figure><blockquote><p>é¡ºåºæ‰§è¡Œå¤šä¸ªSCNActionï¼Œä¸Šä¸ªSCNActionæ‰§è¡Œç»“æŸåï¼Œæ‰æ‰§è¡Œä¸‹ä¸ªSCNAction</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)sequence:(<span class="built_in">NSArray</span>&lt;<span class="built_in">SCNAction</span> *&gt; *)actions</div></pre></td></tr></table></figure><blockquote><p>å°†ä¸€ä¸ªSCNActionæ‰§è¡Œcount æ¬¡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)repeatAction:(<span class="built_in">SCNAction</span> *)action</div><div class="line">                      count:(<span class="built_in">NSUInteger</span>)count</div></pre></td></tr></table></figure><blockquote><p>ä¸€ç›´æ‰§è¡ŒæŸä¸ªSCNAction</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)repeatActionForever:(<span class="built_in">SCNAction</span> *)action</div></pre></td></tr></table></figure><blockquote><p>å»¶è¿ŸSCNAction</p></blockquote><ul><li>æ¯”å¦‚ç”¨sequence é¡ºåºæ‰§è¡Œå¤šä¸ªSCNActionæ—¶ï¼Œ</li><li>å¯ä»¥ç»™SCNAction a,c  ä¸­é—´æ·»åŠ ä¸€ä¸ªSCNAction b,  </li><li>ç­‰aæ‰§è¡Œç»“æŸåï¼Œå»¶è¿Ÿä¸€ä¼šï¼Œå†å»æ‰§è¡Œc</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)waitForDuration:(<span class="built_in">NSTimeInterval</span>)sec</div></pre></td></tr></table></figure><blockquote><p>è‡ªå®šä¹‰SCNAction ï¼Œä½ å¯ä»¥åœ¨block åšä¸€äº›æ“ä½œ</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)runBlock:(<span class="keyword">void</span> (^)(<span class="built_in">SCNNode</span> *node))block</div></pre></td></tr></table></figure><blockquote><p>åœ¨ä¸€ä¸ªç‰¹å®šçš„é˜Ÿåˆ—ä¸­ï¼Œæ‰§è¡Œblock</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)runBlock:(<span class="keyword">void</span> (^)(<span class="built_in">SCNNode</span> *node))block</div><div class="line">                 queue:(<span class="built_in">dispatch_queue_t</span>)queue</div></pre></td></tr></table></figure><blockquote><p>ä¸Šç¯‡æ•°å­¦æ—‹è½¬ç”¨åˆ°çš„æ–¹æ³•ï¼Œå½“è¿™ä¸ªSCNActionæ‰§è¡Œæ—¶ï¼Œ<br>SceneKit åœ¨è¿™ä¸ªæ—¶é—´é—´éš”å†…ä¼šé‡å¤è°ƒç”¨actionBlockï¼Œ<br>å¹¶å°†å·²é€å»çš„æ—¶é—´ä¼ ç»™actionBlock</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)customActionWithDuration:(<span class="built_in">NSTimeInterval</span>)seconds</div><div class="line">                           actionBlock:(<span class="keyword">void</span> (^)(<span class="built_in">SCNNode</span> *node,</div><div class="line">                                                 <span class="built_in">CGFloat</span> elapsedTime))block</div></pre></td></tr></table></figure><blockquote><p>åœ¨æ—¶é—´é—´éš”å†…ï¼Œæ‰§è¡Œä¸€æ®µJavaScriptä»£ç </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">+ (<span class="built_in">SCNAction</span> *)javaScriptActionWithScript:(<span class="built_in">NSString</span> *)script</div><div class="line">                                duration:(<span class="built_in">NSTimeInterval</span>)seconds</div></pre></td></tr></table></figure><blockquote><p>é€†è½¬ä¸€ä¸ªå·²ç»åˆ›å»ºçš„SCNAction</p></blockquote><ul><li>ç›¸å½“äºCABasicAnimationçš„autoreverseså±æ€§</li><li>å“ªé‡Œæ¥çš„ï¼Œå›å“ªé‡Œå»</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">SCNAction</span> *)reversedAction</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
            <tag> SCNAction </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Scenekit-Roation-æ—‹è½¬</title>
      <link href="/2018/01/16/SceneKit/Grammar/Scenekit-Roation-%E6%97%8B%E8%BD%AC/"/>
      <content type="html"><![CDATA[<h1 id="æ—‹è½¬"><a href="#æ—‹è½¬" class="headerlink" title="æ—‹è½¬"></a>æ—‹è½¬</h1><blockquote><p>æ¯ä¸ªSCNNode éƒ½æœ‰è‡ªèº«çš„ä¸‰ç»´åæ ‡ç³»ï¼Œç”¨CABasicAnimationè®©SCNNodeç»•è‡ªèº«çš„ä¸‰ç»´åæ ‡è½´æ—‹è½¬ï¼Œæ‰€ä»¥è¦ç‰¹åˆ«æ³¨æ„æ˜¯åæ ‡è½´ï¼Œä¸æ˜¯è¿™ä¸ªSCNNodeçš„å‡ ä½•ä¸­å¿ƒã€‚<br>ä¸€èˆ¬SceneKit çš„è‡ªå¸¦çš„å‡ ä¸ªå‡ ä½•ä½“çš„åæ ‡ç³»åŸç‚¹(0,0,0)å°±æ˜¯è¿™ä¸ªå®ƒçš„å‡ ä½•ä¸­å¿ƒï¼Œæ¯”å¦‚è¯´SCNBoxï¼›SCNSphereç­‰ç­‰</p></blockquote><h1 id="å…ˆå®ç°åœ°çƒï¼Œæœˆçƒè‡ªè½¬"><a href="#å…ˆå®ç°åœ°çƒï¼Œæœˆçƒè‡ªè½¬" class="headerlink" title="å…ˆå®ç°åœ°çƒï¼Œæœˆçƒè‡ªè½¬"></a>å…ˆå®ç°åœ°çƒï¼Œæœˆçƒè‡ªè½¬</h1>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>OC-Lib-WCDB -ç®€å•ä½¿ç”¨å‚è€ƒ</title>
      <link href="/2018/01/12/OC/Lib/WCDB/OC-Lib-WCDB%20-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E5%8F%82%E8%80%83/"/>
      <content type="html"><![CDATA[<h1 id="åˆ›å»ºmodel"><a href="#åˆ›å»ºmodel" class="headerlink" title="åˆ›å»ºmodel"></a>åˆ›å»ºmodel</h1><blockquote><p>Message.h</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Message</span> : <span class="title">NSObject</span></span></div><div class="line"><span class="keyword">@property</span>         <span class="keyword">int</span>      localID;</div><div class="line"><span class="keyword">@property</span>(<span class="keyword">retain</span>) <span class="built_in">NSString</span> *content;</div><div class="line"><span class="keyword">@property</span>(<span class="keyword">retain</span>) <span class="built_in">NSDate</span>   *createTime;</div><div class="line"><span class="keyword">@property</span>(<span class="keyword">retain</span>) <span class="built_in">NSDate</span>   *modifiedTime;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure><blockquote><p>Message.mm</p></blockquote><ul><li>ç»‘å®šåˆ°è¡¨çš„ç±»</li><li>ç»‘å®šåˆ°è¡¨ä¸­çš„å­—æ®µ</li><li>ä¸»é”®</li><li>ç´¢å¼•å±æ€§</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Message</span></span></div><div class="line"> </div><div class="line"><span class="comment">// åˆ©ç”¨è¿™ä¸ªå®å®šä¹‰ç»‘å®šåˆ°è¡¨çš„ç±»</span></div><div class="line">WCDB_IMPLEMENTATION(Message) </div><div class="line"></div><div class="line"><span class="comment">// ä¸‹é¢å››ä¸ªå®å®šä¹‰ç»‘å®šåˆ°è¡¨ä¸­çš„å­—æ®µ</span></div><div class="line">WCDB_SYNTHESIZE(Message, localID)</div><div class="line">WCDB_SYNTHESIZE(Message, content)</div><div class="line">WCDB_SYNTHESIZE(Message, createTime)</div><div class="line">WCDB_SYNTHESIZE(Message, modifiedTime)</div><div class="line"></div><div class="line"><span class="comment">// çº¦æŸå®å®šä¹‰æ•°æ®åº“çš„ä¸»é”®</span></div><div class="line">WCDB_PRIMARY(Message, localID)</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰æ•°æ®åº“çš„ç´¢å¼•å±æ€§ï¼Œå®ƒç›´æ¥å®šä¹‰createTimeå­—æ®µä¸ºç´¢å¼•</span></div><div class="line"><span class="comment">// åŒæ—¶ WCDB ä¼šå°†è¡¨å + "_index" ä½œä¸ºè¯¥ç´¢å¼•çš„åç§°</span></div><div class="line">WCDB_INDEX(Message, <span class="string">"_index"</span>, createTime)</div></pre></td></tr></table></figure><h1 id="ç±»åˆ«æ‰©å±•ï¼ˆmodelï¼‰"><a href="#ç±»åˆ«æ‰©å±•ï¼ˆmodelï¼‰" class="headerlink" title="ç±»åˆ«æ‰©å±•ï¼ˆmodelï¼‰"></a>ç±»åˆ«æ‰©å±•ï¼ˆmodelï¼‰</h1><blockquote><p>Message+WCTTableCoding.h</p></blockquote><ul><li>è¦å¯¼å…¥WCDB  </li><li>åè®®  WCTTableCoding</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"Message.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;WCDB/WCDB.h&gt;</span> </span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Message</span> (<span class="title">WCTTableCoding</span>) &lt;<span class="title">WCTTableCoding</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// å®ç°WCTTableCodingä»£ç†  </span></div><div class="line"><span class="comment">// éœ€è¦ç»‘å®šåˆ°è¡¨ä¸­çš„å­—æ®µåœ¨è¿™é‡Œå£°æ˜ï¼Œåœ¨.mmä¸­å»ç»‘å®š</span></div><div class="line">WCDB_PROPERTY(localID)</div><div class="line">WCDB_PROPERTY(content)</div><div class="line">WCDB_PROPERTY(createTime)</div><div class="line">WCDB_PROPERTY(modifiedTime)</div></pre></td></tr></table></figure><h2 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="comment">//è·å–æ²™ç›’æ ¹ç›®å½•</span></div><div class="line">  <span class="built_in">NSString</span> *documentsPath = [<span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>) lastObject];</div><div class="line">  </div><div class="line">  <span class="comment">// æ–‡ä»¶è·¯å¾„</span></div><div class="line">  <span class="built_in">NSString</span> *filePath = [documentsPath stringByAppendingPathComponent:<span class="string">@"model.sqlite"</span>];</div><div class="line">  <span class="built_in">NSLog</span>(<span class="string">@"path = %@"</span>,filePath);</div><div class="line">  </div><div class="line">  database = [[WCTDatabase alloc]initWithPath:filePath];</div><div class="line">  <span class="comment">// æ•°æ®åº“åŠ å¯†</span></div><div class="line">  <span class="built_in">NSData</span> *password = [<span class="string">@"MyPassword"</span> dataUsingEncoding:<span class="built_in">NSASCIIStringEncoding</span>];</div><div class="line">  [database setCipherKey:password];</div><div class="line">  <span class="comment">//æµ‹è¯•æ•°æ®åº“æ˜¯å¦èƒ½å¤Ÿæ‰“å¼€</span></div><div class="line">  <span class="keyword">if</span> ([database canOpen]) &#123;</div><div class="line">      </div><div class="line">      <span class="comment">// WCDBå¤§é‡ä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆLazy initializationï¼‰çš„æ–¹å¼ç®¡ç†å¯¹è±¡ï¼Œå› æ­¤SQLiteè¿æ¥ä¼šåœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶è¢«æ‰“å¼€ã€‚å¼€å‘è€…ä¸éœ€è¦æ‰‹åŠ¨æ‰“å¼€æ•°æ®åº“ã€‚</span></div><div class="line">      <span class="comment">// å…ˆåˆ¤æ–­è¡¨æ˜¯ä¸æ˜¯å·²ç»å­˜åœ¨</span></div><div class="line">      <span class="keyword">if</span> ([database isOpened]) &#123;</div><div class="line">          </div><div class="line">          <span class="keyword">if</span> ([database isTableExists:tableName]) &#123;</div><div class="line">              </div><div class="line">              <span class="built_in">NSLog</span>(<span class="string">@"è¡¨å·²ç»å­˜åœ¨"</span>);</div><div class="line">              </div><div class="line">          &#125;<span class="keyword">else</span> &#123;</div><div class="line">            [database createTableAndIndexesOfName:tableName withClass:Message.class];</div><div class="line">      &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure><h2 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">Message *message = [[Message alloc] init];</div><div class="line">message.localID = <span class="number">1</span>;</div><div class="line">message.content = <span class="string">@"Hello, WCDB!"</span>;</div><div class="line">message.createTime = [<span class="built_in">NSDate</span> date];</div><div class="line">message.modifiedTime = [<span class="built_in">NSDate</span> date];</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> INSERT INTO message(localID, content, createTime, modifiedTime)</span></div><div class="line"><span class="comment"> VALUES(1, "Hello, WCDB!", 1496396165, 1496396165);</span></div><div class="line"><span class="comment"> */</span></div><div class="line">  [database insertObject:message  into:<span class="string">@"message"</span>];</div></pre></td></tr></table></figure><h2 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="comment">//UPDATE message SET content="Hello, Wechat!";</span></div><div class="line">Message *message = [[Message alloc] init];</div><div class="line">message.content = <span class="string">@"Hello, Wechat!"</span>;</div><div class="line">    </div><div class="line"><span class="comment">//ä¸‹é¢è¿™å¥åœ¨17å·çš„æ—¶å€™å’Œå¾®ä¿¡å›¢é˜Ÿçš„äººåœ¨å­¦ä¹ ç¾¤é‡Œé¢æ²Ÿé€šè¿‡ï¼Œè¿™ä¸ªæ–¹æ³•ç¡®å®æ˜¯ä¸å­˜åœ¨çš„ï¼Œä½¿ç”¨æ•™ç¨‹åº”è¯¥ä¼šæ›´æ–°ï¼Œè¦æ˜¯æ²¡æ›´æ–°æ³¨æ„è¿™ä¸ªæ–¹æ³•</span></div><div class="line"><span class="comment">//BOOL result = [database updateTable:@"message" onProperties:Message.content withObject:message];</span></div><div class="line">[database updateAllRowsInTable:<span class="string">@"message"</span> onProperty:Message.content withObject:message];</div></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//SELECT * FROM message ORDER BY localID</span></div><div class="line"><span class="built_in">NSArray</span>&lt;Message *&gt; * message = [database getObjectsOfClass:Message.class fromTable:<span class="string">@"message"</span> orderBy:Message.localID.order()];</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"&gt;&gt;&gt;&gt; %@"</span>,message);</div></pre></td></tr></table></figure><h2 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[database deleteObjectsFromTable:<span class="string">@"message"</span> where:Message.localID &gt; <span class="number">0</span>];</div></pre></td></tr></table></figure><h2 id="WCTDatabase-äº‹åŠ¡æ“ä½œï¼Œåˆ©ç”¨WCTTransaction"><a href="#WCTDatabase-äº‹åŠ¡æ“ä½œï¼Œåˆ©ç”¨WCTTransaction" class="headerlink" title="WCTDatabase äº‹åŠ¡æ“ä½œï¼Œåˆ©ç”¨WCTTransaction"></a>WCTDatabase äº‹åŠ¡æ“ä½œï¼Œåˆ©ç”¨WCTTransaction</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">BOOL</span> ret = [database beginTransaction];</div><div class="line">   ret = [<span class="keyword">self</span> insertMessage];</div><div class="line">   <span class="keyword">if</span> (ret) &#123;</div><div class="line">       </div><div class="line">       [database commitTransaction];</div><div class="line">       </div><div class="line">   &#125;<span class="keyword">else</span></div><div class="line">       </div><div class="line">       [database rollbackTransaction];</div><div class="line">   </div><div class="line">   <span class="keyword">return</span> ret;</div></pre></td></tr></table></figure><h2 id="ä½¿ç”¨Blockå¤„ç†äº‹åŠ¡"><a href="#ä½¿ç”¨Blockå¤„ç†äº‹åŠ¡" class="headerlink" title="ä½¿ç”¨Blockå¤„ç†äº‹åŠ¡"></a>ä½¿ç”¨Blockå¤„ç†äº‹åŠ¡</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">BOOL</span> commit  =  [database runTransaction:^<span class="built_in">BOOL</span>&#123;</div><div class="line">      </div><div class="line">         <span class="built_in">BOOL</span> ret = [<span class="keyword">self</span> insertMessage];</div><div class="line">         <span class="keyword">if</span> (ret) &#123;</div><div class="line">             </div><div class="line">             <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">             </div><div class="line">         &#125;<span class="keyword">else</span></div><div class="line">             <span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">         </div><div class="line">     &#125; event:^(WCTTransactionEvent event) &#123;</div><div class="line">         </div><div class="line">         <span class="built_in">NSLog</span>(<span class="string">@"Event %d"</span>, event);</div><div class="line">     &#125;];</div><div class="line">    <span class="keyword">return</span> commit;</div></pre></td></tr></table></figure><h2 id="FMDBè¿ç§»åˆ°WCDB"><a href="#FMDBè¿ç§»åˆ°WCDB" class="headerlink" title="FMDBè¿ç§»åˆ°WCDB"></a>FMDBè¿ç§»åˆ°WCDB</h2><p><a href="https://github.com/Tencent/wcdb/wiki/%E4%BB%8EFMDB%E8%BF%81%E7%A7%BB%E5%88%B0WCDB" target="_blank" rel="external">FMDBè¿ç§»åˆ°WCDB</a></p><p><a href="https://github.com/Tencent/wcdb/wiki/ORM%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B" target="_blank" rel="external">ORM</a></p><p><a href="https://www.jianshu.com/p/7395f778c020" target="_blank" rel="external">èµ„æ–™1 </a></p><p><a href="https://github.com/Tencent/wcdb/wiki/iOS-macOS%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B" target="_blank" rel="external">å®˜æ–¹ç®€å•ä½¿ç”¨æ–‡æ¡£</a><br><a href="http://blog.csdn.net/wgl_happy/article/details/77584519" target="_blank" rel="external">èµ„æ–™2</a></p>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> WCDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Lib </tag>
            
            <tag> WCDB </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-Lib-WCDB</title>
      <link href="/2018/01/12/OC/Lib/WCDB/OC-Lib-WCDB/"/>
      <content type="html"><![CDATA[<h1 id="WCDB"><a href="#WCDB" class="headerlink" title="WCDB"></a>WCDB</h1><blockquote><p>æ–‡æ¡£</p></blockquote><p><a href="https://github.com/Tencent/wcdb" target="_blank" rel="external">WCDB ä½¿ç”¨ å®˜æ–¹iOSæ–‡æ¡£</a></p><blockquote><p>CocoaPods</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">pod &apos;WCDB&apos;</div></pre></td></tr></table></figure><blockquote><p>å¼•å…¥</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#import &lt;WCDB/WCDB.h&gt;</div></pre></td></tr></table></figure><blockquote><p>âš ï¸å¼•ç”¨æ³¨æ„</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">WCDBæ˜¯åŸºäºObjective-C++ï¼Œéœ€è¦å°†å¼•ç”¨WCDBçš„æºæ–‡ä»¶åç¼€.mæ”¹ä¸º.mmã€‚</div></pre></td></tr></table></figure><blockquote><p>iOS 11ä¸­Bug</p></blockquote><ul><li>éœ€è¦åœ¨podä¸­æŒ‡å®šè¯¥åº“çš„åœ°å€ï¼Œå¹¶ä¸”æŒ‡å®šåˆ†æ”¯master</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  target &apos;WCDBDemo&apos; do</div><div class="line"></div><div class="line">platform:ios,&quot;8.0&quot;</div><div class="line"></div><div class="line">pod &apos;WCDB&apos;,git: &apos;https://github.com/Tencent/wcdb.git&apos; , branch: &apos;master&apos;</div><div class="line">pod &apos;YYModel&apos;</div><div class="line"></div><div class="line">end</div></pre></td></tr></table></figure><h1 id="åŸºæœ¬ç®€ä»‹"><a href="#åŸºæœ¬ç®€ä»‹" class="headerlink" title="åŸºæœ¬ç®€ä»‹"></a>åŸºæœ¬ç®€ä»‹</h1><h2 id="WCDB-1"><a href="#WCDB-1" class="headerlink" title="WCDB"></a>WCDB</h2><blockquote><p>æ˜“ç”¨</p></blockquote><ul><li>WCDBæ”¯æŒä¸€å¥ä»£ç å³å¯å°†æ•°æ®å–å‡ºå¹¶ç»„åˆä¸ºobject</li></ul><blockquote><p>WINQ(WCDBè¯­è¨€é›†æˆæŸ¥è¯¢)</p></blockquote><ul><li>é€šè¿‡WINQï¼Œå¼€å‘è€…æ— é¡»ä¸ºäº†æ‹¼æ¥SQLçš„å­—ç¬¦ä¸²è€Œå†™ä¸€å¤§å¨èƒ¶æ°´ä»£ç </li></ul><blockquote><p>ORM(Object Relational Mapping)</p></blockquote><ul><li>å°†ä¸€ä¸ªObjCçš„ç±»ï¼Œæ˜ å°„åˆ°æ•°æ®åº“çš„è¡¨å’Œç´¢å¼•ï¼›</li><li>å°†ç±»çš„propertyï¼Œæ˜ å°„åˆ°æ•°æ®åº“è¡¨çš„å­—æ®µ</li><li>é€šè¿‡ORMï¼Œå¯ä»¥è¾¾åˆ°ç›´æ¥é€šè¿‡Objectè¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œçœå»æ‹¼è£…è¿‡ç¨‹çš„ç›®çš„</li><li>WCDBæ”¯æŒçµæ´»ã€æ˜“ç”¨çš„ORM</li><li>å¼€å‘è€…å¯ä»¥å¾ˆä¾¿æ·åœ°å®šä¹‰è¡¨ã€ç´¢å¼•ã€çº¦æŸï¼Œå¹¶è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[database getObjectsOfClass:WCTSampleConvenient.class</div><div class="line">                 fromTable:tableName</div><div class="line">                     where:WCTSampleConvenient.intValue&gt;=<span class="number">10</span></div><div class="line">                     limit:<span class="number">20</span>];</div></pre></td></tr></table></figure><blockquote><p>é«˜æ•ˆ</p></blockquote><ul><li>WCDBé€šè¿‡æ¡†æ¶å±‚å’Œsqlcipheræºç ä¼˜åŒ–ï¼Œä½¿å…¶æ›´é«˜æ•ˆçš„è¡¨ç°</li></ul><blockquote><p>å¤šçº¿ç¨‹é«˜å¹¶å‘</p></blockquote><ul><li>WCDBæ”¯æŒå¤šçº¿ç¨‹è¯»ä¸è¯»ã€è¯»ä¸å†™å¹¶å‘æ‰§è¡Œï¼Œå†™ä¸å†™ä¸²è¡Œæ‰§è¡Œ</li></ul><blockquote><p>æ‰¹é‡å†™æ“ä½œæ€§èƒ½æµ‹è¯•</p></blockquote><ul><li>æ€§èƒ½æ•°æ®ï¼Œè¯·å‚è€ƒbenchmark</li></ul><blockquote><p>å®Œæ•´(WCDBè¦†ç›–äº†æ•°æ®åº“ç›¸å…³å„ç§åœºæ™¯çš„æ‰€éœ€åŠŸèƒ½)</p></blockquote><ul><li>åŠ å¯†ï¼šWCDBæä¾›åŸºäºSQLCipherçš„æ•°æ®åº“åŠ å¯†</li><li>æŸåä¿®å¤ï¼šWCDBå†…å»ºäº†Repair Kitç”¨äºä¿®å¤æŸåçš„æ•°æ®åº“</li><li>åæ³¨å…¥ï¼šWCDBå†…å»ºäº†å¯¹SQLæ³¨å…¥çš„ä¿æŠ¤</li></ul><h1 id="å·²æœ‰çš„OCç±»QRMç»‘å®šçš„è¿‡ç¨‹"><a href="#å·²æœ‰çš„OCç±»QRMç»‘å®šçš„è¿‡ç¨‹" class="headerlink" title="å·²æœ‰çš„OCç±»QRMç»‘å®šçš„è¿‡ç¨‹"></a>å·²æœ‰çš„OCç±»QRMç»‘å®šçš„è¿‡ç¨‹</h1><h2 id="â‘ åè®®ã€å®šä¹‰"><a href="#â‘ åè®®ã€å®šä¹‰" class="headerlink" title="â‘ åè®®ã€å®šä¹‰"></a>â‘ åè®®ã€å®šä¹‰</h2><blockquote><p>å®šä¹‰è¯¥ç±»éµå®ˆWCTTableCodingåè®®<br>å¯ä»¥åœ¨ç±»å£°æ˜ä¸Šå®šä¹‰<br>ä¹Ÿå¯ä»¥é€šè¿‡æ–‡ä»¶æ¨¡ç‰ˆåœ¨categoryå†…å®šä¹‰</p></blockquote><ul><li>æ¨èç”¨ç¬¬2ç§ï¼Œé€šè¿‡æ–‡ä»¶æ¨¡æ¿åœ¨categoryå†…å®šä¹‰ï¼Œä¸ºäº†éš”ç¦»Objective-C++ä»£ç </li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">ä¸é€šè¿‡categoryå®šä¹‰ï¼Œè€Œæ˜¯é€‰æ‹©äº†åœ¨ç±»å£°æ˜ä¸­å†™ï¼Œ</div><div class="line">è¿™æ ·çš„è¯Message.h ä¸­å°±éœ€è¦æœ‰å®WCDB_PROPERTYï¼Œè¿™æ ·ä½ å°±åœ¨Message.hä½¿ç”¨äº†WCDBçš„ä»£ç ï¼Œ</div><div class="line">å½“ä½ æŠŠMessage.håœ¨å…¶ä»–Controller/Viewä¸­å¼•ç”¨çš„æ—¶å€™ï¼Œé‚£ç›¸åº”çš„Controller/Viewçš„.må°±éœ€è¦ä¿®æ”¹æˆ.mm ã€‚</div><div class="line">é€ æˆä¸å¿…è¦çš„å·¥ä½œï¼Œä½†ä½ ç”¨ç¬¬äºŒç§æ–¹æ³•å†™çš„æ—¶å€™ï¼Œä½ å°±å‘ç°åœ¨Message.hä¸­æ˜¯æ²¡æœ‰ä»»ä½•çš„å…³äºWCDBçš„ä»£ç çš„ï¼Œåé¢ä½ å¼•ç”¨ä¹Ÿä¸éœ€è¦å†å»ä¿®æ”¹</div></pre></td></tr></table></figure><h2 id="â‘¡ä¿®æ”¹æ–‡ä»¶"><a href="#â‘¡ä¿®æ”¹æ–‡ä»¶" class="headerlink" title="â‘¡ä¿®æ”¹æ–‡ä»¶"></a>â‘¡ä¿®æ”¹æ–‡ä»¶</h2><blockquote><p>WCDBåŸºäºWINQï¼Œå¼•å…¥äº†Objective-C++ä»£ç ï¼Œæ‰€ä»¥å¯¹äºå¼•å…¥äº†WCDBçš„æºæ–‡ä»¶ï¼Œéƒ½éœ€è¦æŠŠåç¼€.mæ”¹ä¸º.mm<br>ä¸ºå‡å°‘å½±å“èŒƒå›´ï¼Œå¯ä»¥é€šè¿‡Objective-Cçš„categoryç‰¹æ€§å°†å…¶éš”ç¦»ï¼Œè¾¾åˆ°åªåœ¨modelå±‚ä½¿ç”¨Objective-C++ç¼–è¯‘ï¼Œè€Œä¸å½±å“Controllerå’ŒView<br>è¿™ä¸€ç‚¹åœ¨Wikiä¸­æ˜¯æœ‰æåˆ°çš„</p></blockquote><h2 id="â‘¢ä½¿ç”¨WCDB-PROPERTYå®"><a href="#â‘¢ä½¿ç”¨WCDB-PROPERTYå®" class="headerlink" title="â‘¢ä½¿ç”¨WCDB_PROPERTYå®"></a>â‘¢ä½¿ç”¨WCDB_PROPERTYå®</h2><blockquote><p>ä½¿ç”¨WCDB_PROPERTYå®åœ¨å¤´æ–‡ä»¶å£°æ˜éœ€è¦ç»‘å®šåˆ°æ•°æ®åº“è¡¨çš„å­—æ®µ(ä¹Ÿå°±æ˜¯æŠŠä½ çš„è¡¨é‡Œé¢éœ€è¦çš„å­—æ®µåœ¨è¿™é‡Œç”¨è¿™å®å£°æ˜ä¸€æ¬¡)<br>ä½¿ç”¨WCDB_IMPLEMENTATIOå®åœ¨ç±»æ–‡ä»¶å®šä¹‰ç»‘å®šåˆ°æ•°æ®åº“è¡¨çš„ç±»ï¼ˆæŠŠè¿™ä¸ªç±»ç»‘å®šåˆ°æ•°æ®åº“çš„è¡¨ï¼Œä½ ä¼šåœ¨ä¸‹é¢åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™åˆ›å»ºç›¸åº”çš„è¡¨ï¼Œè¡¨ä¼šå’Œç±»ç»‘å®šï¼‰<br>ä½¿ç”¨WCDB_SYNTHESIZEå®åœ¨ç±»æ–‡ä»¶å®šä¹‰ç»‘å®šåˆ°æ•°æ®åº“è¡¨çš„ç±»ï¼ˆç¬¬äºŒæ­¥å£°æ˜äº†è¡¨éœ€è¦çš„å­—æ®µï¼Œç¬¬ä¸‰æ­¥ç»‘å®šäº†è¡¨ä¸­çš„ç±»ï¼Œç¬¬å››æ­¥å°±ç­‰äºæŠŠè¡¨å’Œå­—æ®µç»‘å®šï¼‰</p></blockquote><table><thead><tr><th>å®</th><th>å£°æ˜</th><th>ç»‘å®šåˆ°æ•°æ®åº“è¡¨</th><th></th></tr></thead><tbody><tr><td>WCDB_PROPERTY</td><td>å¤´æ–‡ä»¶å£°æ˜</td><td>å­—æ®µ</td><td></td></tr><tr><td>WCDB_IMPLEMENTATIO</td><td>ç±»ç±»æ–‡ä»¶å®šä¹‰</td><td>ç±»</td><td></td></tr><tr><td>WCDB_SYNTHESIZE</td><td>ç±»æ–‡ä»¶å®šä¹‰</td><td>å­—æ®µ</td></tr><tr><td></td><td></td><td></td></tr><tr><td>WCDB_PRIMARY</td><td></td><td>ä¸»é”®</td><td>å¯é€‰çš„å®</td></tr><tr><td>WCDB_INDEX</td><td></td><td>ç´¢å¼•</td><td>å¯é€‰çš„å®</td></tr><tr><td>WCDB_UNIQUE</td><td></td><td>å”¯ä¸€çº¦æŸ</td><td>å¯é€‰çš„å®</td></tr><tr><td>WCDB_NOT_NULL</td><td></td><td>éç©ºçº¦æŸ</td><td>å¯é€‰çš„å®</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> WCDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lib </tag>
            
            <tag> WCDB </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-QMUIKit</title>
      <link href="/2018/01/12/OC/Lib/QMUIKit/OC-QMUIKit/"/>
      <content type="html"><![CDATA[<h1 id="QMUIKit"><a href="#QMUIKit" class="headerlink" title="QMUIKit"></a>QMUIKit</h1><p><a href="http://qmuiteam.com/ios/page/start.html#qw_downloadForUse" target="_blank" rel="external">QMUIKit ä½¿ç”¨ å®˜æ–¹æ–‡æ¡£</a></p><h2 id="CocoaPods"><a href="#CocoaPods" class="headerlink" title="CocoaPods"></a>CocoaPods</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">pod &apos;QMUIKit&apos;</div><div class="line"></div><div class="line">#import &lt;QMUIKit/QMUIKit.h&gt;</div></pre></td></tr></table></figure><h2 id="QMUI-iOS-ä¸»è¦ç”±-5-å¤§éƒ¨åˆ†ç»„æˆï¼š"><a href="#QMUI-iOS-ä¸»è¦ç”±-5-å¤§éƒ¨åˆ†ç»„æˆï¼š" class="headerlink" title="QMUI iOS ä¸»è¦ç”± 5 å¤§éƒ¨åˆ†ç»„æˆï¼š"></a>QMUI iOS ä¸»è¦ç”± 5 å¤§éƒ¨åˆ†ç»„æˆï¼š</h2><h3 id="QMUICore"><a href="#QMUICore" class="headerlink" title="QMUICore"></a>QMUICore</h3><blockquote><p>é…ç½®è¡¨ã€å…¨å±€çš„å®ã€å·¥å…·æ–¹æ³•ç­‰ï¼Œæ˜¯æ‰€æœ‰ QMUI ç±»çš„åŸºç¡€ä»£ç </p></blockquote><h3 id="QMUIMainFrame"><a href="#QMUIMainFrame" class="headerlink" title="QMUIMainFrame"></a>QMUIMainFrame</h3><blockquote><p>å‡ ä¸ªå¸¸ç”¨çš„ UIViewController çš„åŸºç±»ï¼Œå»ºè®®å°†è¿™å‡ ä¸ªåŸºç±»ä½œä¸ºä½ é¡¹ç›®é‡Œçš„å¯¹åº” class çš„çˆ¶ç±»ï¼ŒQMUI iOS æœ‰å¤§é‡åŠŸèƒ½ä¹Ÿæ˜¯åŸºäºè¿™å‡ ä¸ªåŸºç±»å®ç°</p></blockquote><h3 id="UIKitExtensions"><a href="#UIKitExtensions" class="headerlink" title="UIKitExtensions"></a>UIKitExtensions</h3><blockquote><p>å¯¹ç³»ç»Ÿ UIKit çš„æ‹“å±•ï¼Œæ‰€æœ‰ Category çš„æ–¹æ³•ã€å±æ€§å‡ä¼šå¸¦ qmui_ å‰ç¼€ï¼Œä»¥é¿å…å†²çª</p></blockquote><h3 id="QMUIComponents"><a href="#QMUIComponents" class="headerlink" title="QMUIComponents"></a>QMUIComponents</h3><blockquote><p>æä¾›å¤§é‡å¸¸ç”¨çš„æ§ä»¶ï¼Œå…·ä½“çš„æ§ä»¶åˆ—è¡¨ã€æ•ˆæœå±•ç¤ºã€ä½¿ç”¨ä»£ç ç¤ºä¾‹è¯·æŸ¥çœ‹ QMUI Demoã€‚</p><h3 id="QMUIResources"><a href="#QMUIResources" class="headerlink" title="QMUIResources"></a>QMUIResources</h3><p>å­˜å‚¨ QMUI æ§ä»¶é‡Œå¯èƒ½ç”¨åˆ°çš„ä¸€äº›å›¾ï¼Œä¾‹å¦‚è¡¨æƒ…é¢æ¿çš„åˆ é™¤æŒ‰é’®ã€é€‰å›¾æ§ä»¶çš„ checkboxã€QMUITips é‚£äº›æˆåŠŸã€å¤±è´¥çš„ icon ç­‰ã€‚</p></blockquote><p><a href="http://qmuiteam.com/ios/page/document.html" target="_blank" rel="external">åŠŸèƒ½åˆ—è¡¨</a></p><h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><p><a href="https://github.com/Tencent/MLeaksFinder" target="_blank" rel="external">è…¾è®¯å¼€æºiOSè‡ªåŠ¨å†…å­˜æ³„éœ²æ£€æµ‹å·¥å…·MLeaksFinder</a></p><p><a href="https://github.com/Tencent/wcdb" target="_blank" rel="external">è…¾è®¯å¼€æºçš„æ•°æ®åº“æ¡†æ¶</a></p><p><a href="https://github.com/QMUI/QMUI_iOS" target="_blank" rel="external">QMUI iOSâ€”â€”è‡´åŠ›äºæé«˜é¡¹ç›® UI å¼€å‘æ•ˆç‡çš„è§£å†³æ–¹æ¡ˆ</a></p><p><a href="https://github.com/Tencent/VasSonic" target="_blank" rel="external">ä¸“æ³¨äºæå‡H5é¦–å±é€Ÿåº¦ä¼˜åŒ–</a></p>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> QMUIKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QMUIKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Lib-CYLTabBarCtl</title>
      <link href="/2018/01/10/OC/Lib/CYLTabBarCtl/OC-Lib-CYLTabBarCtl/"/>
      <content type="html"><![CDATA[<p><a href="https://github.com/ChenYilong/CYLTabBarController#%E9%9B%86%E6%88%90%E5%90%8E%E7%9A%84%E6%95%88%E6%9E%9C" target="_blank" rel="external">Github Adress</a></p>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> CYLTabBarCtl </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>SceneKit-Panorama-å…¨æ™¯å›¾</title>
      <link href="/2018/01/10/SceneKit/Grammar/SceneKit-Panorama-%E5%85%A8%E6%99%AF%E5%9B%BE/"/>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Git-Gitlabä»£ç æ‰˜ç®¡é…ç½®</title>
      <link href="/2018/01/09/Git/Git-Gitlab%E4%BB%A3%E7%A0%81%E6%89%98%E7%AE%A1%E9%85%8D%E7%BD%AE/"/>
      <content type="html"><![CDATA[<h1 id="Gitlabå¹³å°è®¾ç½®"><a href="#Gitlabå¹³å°è®¾ç½®" class="headerlink" title="Gitlabå¹³å°è®¾ç½®"></a>Gitlabå¹³å°è®¾ç½®</h1><p>ä¸ºProjectæ·»åŠ Gitcd â€œæœ¬åœ°é¡¹ç›®çš„è·¯å¾„â€</p><p> git init //åˆå§‹åŒ–</p><p> git remote add origin git@gitlab.com:USERNAME/PROJECTNAME.git //å°†â€USERNAMEâ€å’Œâ€PROJECTNAMEâ€æ›¿æ¢ä¸ºè‡ªå·±çš„ç”¨æˆ·åå’Œé¡¹ç›®å</p><p> git add . //æ³¨æ„addå’Œâ€.â€ä¹‹é—´çš„ç©ºæ ¼</p><p> git commit -m â€˜commit descriptionâ€™</p><p>  //æäº¤æ”¹åŠ¨åˆ°æœ¬åœ°åº“git push -u origin master //pushåˆ°Gitlab</p><h1 id="é—®é¢˜1"><a href="#é—®é¢˜1" class="headerlink" title="é—®é¢˜1"></a>é—®é¢˜1</h1><p>  éœ€è¦æ³¨æ„ï¼Œè¾“å…¥commitå‘½ä»¤åä¼šæç¤ºè¾“å…¥commit messageï¼Œå¦‚ä¸‹å›¾ï¼Œå¯¹ç»ˆç«¯ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯èƒ½è¦æŠ“ç‹‚äº†ï¼Œè¿™é‡Œéœ€è¦æŒ‰sé”®è¿›å…¥INSERTæ¨¡å¼,å¼€å§‹è¾“å…¥commit messageï¼Œæœ€åæŒ‰ESCï¼Œç„¶åè¾“å…¥:wqé€€å‡ºcommit messageè¾“å…¥æ¨¡å¼</p><p>æ³¨æ„ï¼šå»ºè®®commit messageç¬¬ä¸€è¡Œè¾“å…¥æ ‡é¢˜ï¼ˆæ¦‚è¦ï¼‰ï¼Œç©ºä¸€è¡Œå†è¾“å…¥è¯¦ç»†ä¿¡æ¯ã€‚å½“ç„¶ï¼Œè¿™æ˜¯å»ºè®®ï¼Œå¦‚æœä½ è§‰å¾—æ— æ‰€è°“ï¼Œä¹Ÿå¯ä»¥éšæ„è¾“å…¥æˆ–ç›´æ¥:wqè·³è¿‡</p><p>è¾“å…¥commit message</p><h1 id="å‘No-2"><a href="#å‘No-2" class="headerlink" title="å‘No.2"></a>å‘No.2</h1><p>git push -u origin masterå‘½ä»¤åå¯ä»¥çœ‹åˆ°æç¤ºï¼šerror: src refspec master does not match any.error: failed to push some refs to â€˜git@gitlab.com:int1987/testProject.gitâ€™</p><p>è¿™æ˜¯å› ä¸ºæ²¡æœ‰é¡¹ç›®è¯´æ˜ä¹¦ï¼Œæ‰€ä»¥pushå¤±è´¥</p><p>è§£å†³æ–¹æ¡ˆï¼š<br>touch README //ç”Ÿæˆè¯´æ˜æ–‡ä»¶</p><p>git add README //æ·»åŠ è¯´æ˜æ–‡ä»¶åˆ°</p><p>git commit -m â€˜commit readme fileâ€™ //æäº¤æ”¹åŠ¨</p><p>Pushåˆ°Gitlabæ·»åŠ READMEåå†é‡æ–°è¾“å…¥git push -u origin masterï¼Œpushé¡¹ç›®åˆ°Gitlabï¼Œ</p><p>é¦–æ¬¡pushä¼šæç¤ºgitlab.comçš„çœŸå®æ€§æ— æ³•ç¡®å®šï¼Œè¾“å…¥yesï¼Œç¡®å®šå³å¯ã€‚ä¹‹ågitlab.comå°±ä¼šè¢«æ·»åŠ åˆ°å·²çŸ¥æœåŠ¡å™¨ï¼ˆå¯ä»¥åœ¨~/.sshæ–‡ä»¶å¤¹ä¸­æŸ¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªknown_hostsæ–‡ä»¶ï¼Œå®ƒå°±æ˜¯å­˜å‚¨å·²çŸ¥æœåŠ¡å™¨çš„æ–‡ä»¶ï¼‰</p><p>Gitlab <a href="https://baijiahao.baidu.com/s?id=1560915146966961&amp;wfr=spider&amp;for=pc" target="_blank" rel="external">https://baijiahao.baidu.com/s?id=1560915146966961&amp;wfr=spider&amp;for=pc</a></p><p><a href="http://blog.csdn.net/lemonaha/article/details/69977098" target="_blank" rel="external">http://blog.csdn.net/lemonaha/article/details/69977098</a></p>]]></content>
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Gitlab </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-SceneKit-Reference</title>
      <link href="/2018/01/09/SceneKit/Grammar/SceneKit-Reference/"/>
      <content type="html"><![CDATA[<h1 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h1><p> <a href="https://www.jianshu.com/p/079a05381f02" target="_blank" rel="external">å‚è€ƒå­¦ä¹ 1</a><br> <a href="https://juejin.im/post/5a322530f265da43062ac948" target="_blank" rel="external">å‚è€ƒå­¦ä¹ 2</a></p><p><a href="https://juejin.im/user/5a311af051882554bd510dd0" target="_blank" rel="external">åªèƒ½å­¦ä¹ è€Œå·²ï¼Œå¤ªéš¾</a></p><p><a href="https://gitee.com/Roc.Tian/Blog_DEMO" target="_blank" rel="external">æ²¡æ‰¾åˆ°åšå®¢</a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-SceneKit-å±•ç¤º3Dæ¨¡å‹&amp;æ–½åŠ åŠ¨ç”»</title>
      <link href="/2018/01/08/SceneKit/Grammar/SceneKit-%E5%B1%95%E7%A4%BA3D%E6%A8%A1%E5%9E%8B&amp;%E6%96%BD%E5%8A%A0%E5%8A%A8%E7%94%BB/"/>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
            <tag> SceneKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-SceneKit-åŠ è½½objæ–‡ä»¶</title>
      <link href="/2018/01/08/SceneKit/Grammar/SceneKit-%E5%8A%A0%E8%BD%BDobj%E6%96%87%E4%BB%B6/"/>
      <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/6a761a834ab9" target="_blank" rel="external"></a></p>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SceneKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-SceneKit-Base</title>
      <link href="/2018/01/08/SceneKit/Grammar/SceneKit-%20Base/"/>
      <content type="html"><![CDATA[<h1 id="SceneKit"><a href="#SceneKit" class="headerlink" title="SceneKit"></a>SceneKit</h1><h2 id="SceneKit-çš„ä¸‰ç»´åæ ‡ç³»"><a href="#SceneKit-çš„ä¸‰ç»´åæ ‡ç³»" class="headerlink" title="SceneKit çš„ä¸‰ç»´åæ ‡ç³»"></a>SceneKit çš„ä¸‰ç»´åæ ‡ç³»</h2><blockquote><p>å³æ‰‹åæ ‡ç³»(ç¬›å¡å°”åæ ‡ç³»)<br>ä¸å…¶ä»–3Dæ¡†æ¶å…±äº«æ•°æ®ï¼Œäº†è§£å…¶æ¡†æ¶æ˜¯å³ã€å·¦æ‰‹åæ ‡ç³»ï¼ˆå°±æ˜¯Z è½´çš„æ­£è´Ÿä¸ä¸€æ ·ï¼‰</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/SceneKit%20%E7%9A%84%E4%B8%89%E7%BB%B4%E5%9D%90%E6%A0%87%E7%B3%BB.jpg" alt="ä¸‰ç»´åæ ‡ç³»"></p><h2 id="ç›¸å…³ç±»"><a href="#ç›¸å…³ç±»" class="headerlink" title="ç›¸å…³ç±»"></a>ç›¸å…³ç±»</h2><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>SCNView<br>SCNSceneRenderer</td><td>ç±»ä¼¼UIView</td><td>ç”¨æ¥æ˜¾ç¤º SceneKit çš„å†…å®¹ï¼Œå®šä¹‰äº†ä¸€äº›ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥ç”¨ addSubView æ–¹æ³•æ·»åŠ åˆ°UiView ä¸­</td></tr><tr><td>SCNScene</td><td>åœºæ™¯å›¾(SceneKitå†…å®¹çš„å®¹å™¨)</td><td>ä»3Då»ºæ¨¡å·¥å…·ç”Ÿæˆçš„.daeæ–‡ä»¶ä¸­åŠ è½½ä¸€ä¸ªåœºæ™¯ï¼Œæˆ–è€…ç”¨ä»£ç åˆ›å»ºä¸€ä¸ª ï¼Œç„¶åæŠŠå®ƒæ˜¾ç¤ºåœ¨è§†å›¾ä¸Š</td></tr><tr><td>SCNNode</td><td>èŠ‚ç‚¹æ ‘çš„æ¨¡å‹ç±»å¯¹è±¡</td><td>å¯ä»¥æŠŠæ‘„åƒæœºï¼Œç¯å…‰ï¼Œå‡ ä½•ä½“é™„åŠ åˆ°èŠ‚ç‚¹ä¸Š</td></tr><tr><td>SCNGeometry</td><td>ä¸€ä¸ªå¯ä»¥è¿æ¥åˆ°ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‰ç»´ç‰©ä½“</td><td>ä¸€ä¸ªå‡ ä½•ä½“ï¼ˆæœ‰æ—¶ç§°ä¸ºæ¨¡å‹æˆ–ç½‘æ ¼ï¼‰åªå®šä¹‰äº†ä¸€ä¸ªå¯è§ç‰©ä½“çš„å½¢çŠ¶ã€‚è¦å®šä¹‰å¯¹è±¡çš„è¡¨é¢é¢œè‰²å›¾æ¡ˆï¼Œä½ å¿…éœ€è¦ç»™å‡ ä½•ä½“è¦é™„åŠ ææ–™ã€‚ç„¶åç»™ææ–™è´´å›¾ï¼Œæˆ–è€…ä¸Šè‰²ï¼Œè¿™ä¸ªå‡ ä½•ä½“è¡¨é¢æ‰ä¼šæœ‰é¢œè‰²ï¼Œæˆ–è€…å›¾æ¡ˆã€‚SceneKit æä¾›äº†å‡ ç§å¸¸è§å‡ ä½•ä½“ï¼Œæ˜¯SCNGeometryçš„å­ç±»ï¼Œæ¯”å¦‚é•¿æ–¹ä½“ï¼Œçƒï¼Œåœ†æŸ±çƒç­‰ç­‰</td></tr><tr><td>SCNMaterial</td><td>æè´¨</td><td>ç”±äºåœ¨3Då»ºæ¨¡å·¥å…·ä¸­å‘ˆç°çƒå½¢ï¼Œæ‰€ä»¥ä¹Ÿå«æè´¨çƒã€‚ä¸Šè‰²ï¼Œè´´å›¾å…¨é å®ƒ</td></tr><tr><td>SCNLight</td><td>å…‰æº</td><td>å…‰æºå¯ä»¥é™„åŠ åˆ°èŠ‚ç‚¹ä¸Šï¼Œåœ¨æ¸²æŸ“åœºæ™¯ä¸­æä¾›ç€è‰²</td></tr><tr><td>SCNCamera</td><td>è™šæ‹Ÿæ‘„åƒæœº,è§‚å¯Ÿåœºæ™¯çš„è§†è§’</td><td>è™šæ‹Ÿæ‘„åƒæœºå¯ä»¥é™„åŠ åˆ°èŠ‚ç‚¹ä¸Šï¼Œæä¾›äº†ä¸€ä¸ªåœºæ™¯çš„è§†å›¾<br>è¦æ˜¾ç¤ºåœºæ™¯ä¸­çš„å†…å®¹, å¿…é¡»ä¸ºèŠ‚ç‚¹æŒ‡å®šä¸€ä¸ªSCNCameraå¯¹è±¡<br>ç›¸æœºçš„è§†è§’å§‹ç»ˆæ²¿ç€èŠ‚ç‚¹çš„å±€éƒ¨åæ ‡ç³»çš„è´Ÿzè½´</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> SceneKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
            <tag> SceneKit </tag>
            
            <tag> 3Då¼•æ“ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Lib-ArcGIS-å¤§å›¾åŠ è½½</title>
      <link href="/2018/01/08/OC/Lib/ArcGIS/OC-Lib-ArcGIS-%E5%A4%A7%E5%9B%BE%E5%8A%A0%E8%BD%BD/"/>
      <content type="html"><![CDATA[<p>èµ„æ–™</p><p><a href="https://developers.arcgis.com" target="_blank" rel="external">https://developers.arcgis.com</a></p><p><a href="http://blog.csdn.net/pzhtpf/article/details/51027047" target="_blank" rel="external">http://blog.csdn.net/pzhtpf/article/details/51027047</a></p>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> ArcGIS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Lib </tag>
            
            <tag> ArcGIS </tag>
            
            <tag> å¤§å›¾åŠ è½½ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Git-å¸¸ç”¨çš„å‘½ä»¤</title>
      <link href="/2018/01/08/Git/Git-%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4/"/>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  1. git statusï¼ˆæŸ¥çœ‹æœ¬åœ°åˆ†æ”¯æ–‡ä»¶ä¿¡æ¯ï¼Œç¡®ä¿æ›´æ–°æ—¶ä¸äº§ç”Ÿå†²çªï¼‰</div><div class="line"></div><div class="line">2. git checkout -- [file name] ï¼ˆè‹¥æ–‡ä»¶æœ‰ä¿®æ”¹ï¼Œå¯ä»¥è¿˜åŸåˆ°æœ€åˆçŠ¶æ€; è‹¥æ–‡ä»¶éœ€è¦æ›´æ–°åˆ°æœåŠ¡å™¨ä¸Šï¼Œåº”è¯¥å…ˆmergeåˆ°æœåŠ¡å™¨ï¼Œå†æ›´æ–°åˆ°æœ¬åœ°ï¼‰</div><div class="line"></div><div class="line">3. git branchï¼ˆæŸ¥çœ‹å½“å‰åˆ†æ”¯æƒ…å†µï¼‰</div><div class="line"></div><div class="line">4. git checkout [remote branch](è‹¥åˆ†æ”¯ä¸ºæœ¬åœ°åˆ†æ”¯ï¼Œåˆ™éœ€åˆ‡æ¢åˆ°æœåŠ¡å™¨çš„è¿œç¨‹åˆ†æ”¯)</div><div class="line"></div><div class="line">5. git pull</div><div class="line"></div><div class="line">è‹¥å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œåˆ™æ›´æ–°ä»£ç æˆåŠŸï¼</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> &lt;a&gt;githubçš„æäº¤æ–¹å¼ </div><div class="line">     ï¼ˆ1ï¼‰git add .--------------------å­˜å‚¨åˆ°æœ¬åœ° </div><div class="line">         git commit -m &apos;message&apos;-------å­˜å‚¨æ—¶çš„æ ‡è®°ï¼ˆä¿®æ”¹äº†å“ªäº›åœ°æ–¹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æŸ¥è¯¢ï¼‰ </div><div class="line">         git pull------------------------ä¸‹è½½æœåŠ¡å™¨ä»£ç  </div><div class="line">         git push------------------------ä¸Šä¼ ä»£ç è‡³æœåŠ¡å™¨ </div><div class="line">  &lt;b&gt;svnæœåŠ¡å™¨çš„æäº¤æ–¹å¼ </div><div class="line">   ï¼ˆ1ï¼‰git add .  ------------------å­˜å‚¨åˆ°æœ¬åœ° </div><div class="line">        git commit -m &apos;message&apos;--------å­˜å‚¨æ—¶çš„æ ‡è®°ï¼ˆä¿®æ”¹äº†å“ªäº›åœ°æ–¹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æŸ¥è¯¢ï¼‰ </div><div class="line">        git svn rebase------------------ä¸‹è½½æœåŠ¡å™¨ä»£ç  </div><div class="line">        git svn dcommit-----------------ä¸Šä¼ ä»£ç è‡³æœåŠ¡å™¨ </div><div class="line">   &lt;c&gt;å…¶ä»–ç›¸å…³çš„gitå‘½ä»¤ </div><div class="line">ï¼ˆ1ï¼‰git branch-------------------æŸ¥çœ‹å½“å‰å±äºå“ªä¸ªåˆ†æ”¯ </div><div class="line">    1ã€åªæœ‰å†²çªå­˜åœ¨æ—¶æ‰ä¼šä¿®æ”¹åˆ†æ”¯â€”â€”æ”¹ä¸ºå†²çªå†git add . </div><div class="line">    2ã€git rebase â€“-continue-------------------è‡ªåŠ¨åˆå¹¶ </div><div class="line">    3ã€git checkout â€“b svn æ–°å»ºåˆ†æ”¯å----------æ–°å»ºåˆ†æ”¯å­˜å‚¨ç°æœ‰æ–‡ä»¶ </div><div class="line">    4ã€git branch-------------------------------æŸ¥çœ‹åœ¨å“ªä¸ªåˆ†æ”¯ä¸‹ </div><div class="line">    5ã€git checkout master----------------------å°†å…¶æ”¾åˆ°masteråˆ†æ”¯ä¸‹ </div><div class="line">    6ã€git merge-------------------------------æ•´åˆåˆ†æ”¯ </div><div class="line">    7ã€git branch -d åˆ†æ”¯å----------------------åˆ é™¤åˆ†æ”¯ </div><div class="line">ï¼ˆ2ï¼‰git checkout + ä¸Šä¼ çš„commitç¼–å·-----------å°†æœ¬åœ°ä»£ç æ¢å¤åˆ°æ­¤çŠ¶æ€ </div><div class="line">ï¼ˆ3ï¼‰git log------------------------------------æŸ¥çœ‹æœ¬åœ°gitä¸Šä¼ æ—¥å¿— </div><div class="line">ï¼ˆ4ï¼‰git log -p app/controllers/grids_controller.rb----æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å² </div><div class="line">ï¼ˆ5ï¼‰git checkout d0eb6ef3afe8a377943d3cf6f1e9c320c18f6f32 </div><div class="line">     app/controllers/charts_controller.rb-----------è¿”å›åˆ°è¿™ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ï¼ˆé‡ç°é”™è¯¯ï¼‰ </div><div class="line">ï¼ˆ6ï¼‰git diff ï¼‹ commitç¼–å·--------------------------æŸ¥è¯¢ä¸åŒä»£ç </div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-MVVM-Login ç™»å½•æ³¨å†Œ</title>
      <link href="/2018/01/01/RxSwift/Demo/Swift-RxSwift-MVVM-Login%E7%AE%80%E5%8D%95%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C/"/>
      <content type="html"><![CDATA[<h1 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h1><h2 id="æ³¨å†Œç•Œé¢éœ€æ±‚"><a href="#æ³¨å†Œç•Œé¢éœ€æ±‚" class="headerlink" title="æ³¨å†Œç•Œé¢éœ€æ±‚"></a>æ³¨å†Œç•Œé¢éœ€æ±‚</h2><ul><li>è¾“å…¥ç”¨æˆ·åå¿…é¡»å¤§äºç­‰äº6ä¸ªå­—ç¬¦ï¼Œä¸ç„¶å¯†ç ä¸èƒ½è¾“å…¥ï¼›</li><li>å¯†ç å¿…é¡»å¤§äºç­‰äº6ä¸ªå­—ç¬¦ï¼Œä¸ç„¶é‡å¤å¯†ç ä¸èƒ½è¾“å…¥ï¼›</li><li>é‡å¤å¯†ç å’Œå¯†ç å¿…é¡»ä¸€æ ·ï¼Œ ä¸èƒ½æ³¨å†ŒæŒ‰é’®ä¸èƒ½ç‚¹å‡»ï¼›</li><li>ç‚¹å‡»æ³¨å†ŒæŒ‰é’®ï¼Œæç¤ºæ³¨å†ŒæˆåŠŸæˆ–è€…æ³¨å†Œå¤±è´¥ï¼›</li><li>æ³¨å†ŒæˆåŠŸä¼šå†™è¿›æœ¬åœ°çš„plistæ–‡ä»¶ï¼Œç„¶åè¾“å…¥ç”¨æˆ·åä¼šæ£€æµ‹è¯¥ç”¨æˆ·åæ˜¯å¦å·²æ³¨å†Œ</li></ul><h2 id="ç™»å½•ç•Œé¢éœ€æ±‚"><a href="#ç™»å½•ç•Œé¢éœ€æ±‚" class="headerlink" title="ç™»å½•ç•Œé¢éœ€æ±‚"></a>ç™»å½•ç•Œé¢éœ€æ±‚</h2><ul><li>ç‚¹å‡»è¾“å…¥ç”¨æˆ·åï¼Œæ£€æµ‹æ˜¯å¦å·²å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œæˆ·åå¯ç”¨ï¼Œå¦åˆ™æç¤ºç”¨æˆ·åä¸å­˜åœ¨ï¼›</li><li>è¾“å…¥å¯†ç ï¼Œç‚¹å‡»ç™»å½•ï¼Œå¦‚æœå¯†ç é”™åˆ™æç¤ºå¯†ç é”™è¯¯ï¼Œå¦åˆ™è¿›å…¥åˆ—è¡¨ç•Œé¢ï¼Œæç¤ºç™»å½•æˆåŠŸ</li></ul><h1 id="æ³¨å†Œç•Œé¢UI-ViewController-swift"><a href="#æ³¨å†Œç•Œé¢UI-ViewController-swift" class="headerlink" title="æ³¨å†Œç•Œé¢UI(ViewController.swift)"></a>æ³¨å†Œç•Œé¢UI(ViewController.swift)</h1><blockquote><p>å°è£…åˆå§‹åŒ–UI</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">initUI()  <span class="comment">//è®¾ç½®UI</span></div><div class="line"></div><div class="line"><span class="comment">//MARK: UIè®¾ç½®</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">initUI</span><span class="params">()</span></span>&#123;</div><div class="line">    view.backgroundColor = <span class="type">UIColor</span>.white</div><div class="line">    view.addSubview(userNameLab)</div><div class="line">    view.addSubview(userNameTextField)</div><div class="line">    view.addSubview(userNameInputLab)</div><div class="line">    </div><div class="line">    view.addSubview(passWordLab)</div><div class="line">    view.addSubview(passWordTextField)</div><div class="line">    view.addSubview(passWordInputLab)</div><div class="line">    </div><div class="line">    view.addSubview(checkPassWordLab)</div><div class="line">    view.addSubview(checkPassWordTextField)</div><div class="line">    view.addSubview(checkPassWordLab)</div><div class="line">    </div><div class="line">    view.addSubview(registerBtn)</div><div class="line">    view.addSubview(loginBtn)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="Serviceç½‘ç»œè¯·æ±‚"><a href="#Serviceç½‘ç»œè¯·æ±‚" class="headerlink" title="Serviceç½‘ç»œè¯·æ±‚"></a>Serviceç½‘ç»œè¯·æ±‚</h1><blockquote><p>Serviceæ–‡ä»¶ä¸»è¦è´Ÿè´£ä¸€äº›ç½‘ç»œè¯·æ±‚ï¼Œå’Œä¸€äº›æ•°æ®è®¿é—®çš„æ“ä½œ<br>ç„¶åä¾›ViewModelä½¿ç”¨ï¼Œæ¨¡æ‹Ÿä»æœ¬åœ°plistæ–‡ä»¶ä¸­è¯»å–ç”¨æˆ·æ•°æ®</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIWKWebView</title>
      <link href="/2017/12/21/Swift/UIKit/Swift-UIKit-UIWKWebView/"/>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> WKWebView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> WKWebView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-é”™è¯¯å¤„ç†æ“ä½œ</title>
      <link href="/2017/12/19/RxSwift/Grammar/Operators-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C/"/>
      <content type="html"><![CDATA[<h1 id="é”™è¯¯å¤„ç†æ“ä½œ"><a href="#é”™è¯¯å¤„ç†æ“ä½œ" class="headerlink" title="é”™è¯¯å¤„ç†æ“ä½œ"></a>é”™è¯¯å¤„ç†æ“ä½œ</h1><h2 id="catchErrorJustReturn"><a href="#catchErrorJustReturn" class="headerlink" title="catchErrorJustReturn"></a>catchErrorJustReturn</h2><blockquote><p>é‡åˆ°erroräº‹ä»¶çš„æ—¶å€™ï¼Œå°±returnä¸€ä¸ªå€¼ï¼Œç„¶åç»“æŸ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="keyword">let</span> sequenceThatFails = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">    </div><div class="line">sequenceThatFails</div><div class="line">    .catchErrorJustReturn(<span class="string">"ğŸ˜Š"</span>)</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¬"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¨"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¡"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ”´"</span>)</div><div class="line">sequenceThatFails.onError(<span class="type">TestError</span>.test)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">next(ğŸ˜¬)</div><div class="line">next(ğŸ˜¨)</div><div class="line">next(ğŸ˜¡)</div><div class="line">next(ğŸ”´)</div><div class="line">next(ğŸ˜Š)</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="catchError"><a href="#catchError" class="headerlink" title="catchError"></a>catchError</h2><blockquote><p>æ•è·errorè¿›è¡Œå¤„ç†ï¼Œå¯ä»¥è¿”å›å¦ä¸€ä¸ªsequenceè¿›è¡Œè®¢é˜…</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="keyword">let</span> sequenceThatFails = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> recoverySequence = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">    </div><div class="line">sequenceThatFails</div><div class="line">    .catchError &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Error:"</span>, $<span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> recoverySequence</div><div class="line">    &#125;</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¬"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¨"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¡"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ”´"</span>)</div><div class="line">sequenceThatFails.onError(<span class="type">TestError</span>.test)</div><div class="line">    </div><div class="line">recoverySequence.onNext(<span class="string">"ğŸ˜Š"</span>)</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line">next(ğŸ˜¬)</div><div class="line">next(ğŸ˜¨)</div><div class="line">next(ğŸ˜¡)</div><div class="line">next(ğŸ”´)</div><div class="line"><span class="type">Error</span>: test</div><div class="line">next(ğŸ˜Š)</div></pre></td></tr></table></figure><h2 id="retry"><a href="#retry" class="headerlink" title="retry"></a>retry</h2><blockquote><p>é‡è§erroräº‹ä»¶å¯ä»¥è¿›è¡Œé‡è¯•ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œå¯ä»¥è¿›è¡Œé‡æ–°è¿æ¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">1</span></div><div class="line">    </div><div class="line"><span class="keyword">let</span> sequenceThatErrors = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create &#123; observer <span class="keyword">in</span></div><div class="line">    observer.onNext(<span class="string">"ğŸ"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸ"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸŠ"</span>)</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> <span class="built_in">count</span> == <span class="number">1</span> &#123;</div><div class="line">        observer.onError(<span class="type">TestError</span>.test)</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Error encountered"</span>)</div><div class="line">        <span class="built_in">count</span> += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    observer.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸ­"</span>)</div><div class="line">    observer.onCompleted()</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">&#125;</div><div class="line">    </div><div class="line">sequenceThatErrors</div><div class="line">    .retry(<span class="number">3</span>)       <span class="comment">//ä¸ä¼ å…¥æ•°å­—çš„è¯ï¼Œåªä¼šé‡è¯•ä¸€æ¬¡</span></div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h1 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h1><blockquote><p>æ‰“å°æ‰€æœ‰çš„è®¢é˜…, äº‹ä»¶å’Œdisposals</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   </div><div class="line"></div><div class="line">sequenceThatErrors</div><div class="line">    .retry(<span class="number">3</span>)</div><div class="line">    .debug()</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h1 id="RxSwift-Resources-total"><a href="#RxSwift-Resources-total" class="headerlink" title="RxSwift.Resources.total"></a>RxSwift.Resources.total</h1><blockquote><p>æŸ¥çœ‹RxSwiftæ‰€æœ‰èµ„æºçš„å ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="type">RxSwift</span>.<span class="type">Resources</span>.total)</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-è¿æ¥æ€§æ“ä½œ</title>
      <link href="/2017/12/19/RxSwift/Grammar/Operators-%E8%BF%9E%E6%8E%A5%E6%80%A7%E6%93%8D%E4%BD%9C/"/>
      <content type="html"><![CDATA[<h1 id="è¿æ¥æ€§æ“ä½œ"><a href="#è¿æ¥æ€§æ“ä½œ" class="headerlink" title="è¿æ¥æ€§æ“ä½œ"></a>è¿æ¥æ€§æ“ä½œ</h1><blockquote><p>Connectable Observableæœ‰è®¢é˜…æ—¶ä¸å¼€å§‹å‘å°„äº‹ä»¶æ¶ˆæ¯ï¼Œè€Œæ˜¯ä»…å½“è°ƒç”¨å®ƒä»¬çš„connectï¼ˆï¼‰æ–¹æ³•æ—¶ã€‚è¿™æ ·å°±å¯ä»¥ç­‰å¾…æ‰€æœ‰æˆ‘ä»¬æƒ³è¦çš„è®¢é˜…è€…éƒ½å·²ç»è®¢é˜…äº†ä»¥åï¼Œå†å¼€å§‹å‘å‡ºäº‹ä»¶æ¶ˆæ¯ï¼Œè¿™æ ·èƒ½ä¿è¯æˆ‘ä»¬æƒ³è¦çš„æ‰€æœ‰è®¢é˜…è€…éƒ½èƒ½æ¥æ”¶åˆ°äº‹ä»¶æ¶ˆæ¯ã€‚å…¶å®ä¹Ÿå°±æ˜¯ç­‰å¤§å®¶éƒ½å°±ä½ä»¥åï¼Œå¼€å§‹å‘å‡ºæ¶ˆæ¯</p></blockquote><h2 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h2><blockquote><p>å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequence</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> intSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">1</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .publish()</div><div class="line">    </div><div class="line"><span class="number">_</span> = intSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 1:, Event: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line">delay(<span class="number">2</span>) &#123; <span class="number">_</span> = intSequence.connect() &#125; <span class="comment">//ç›¸å½“äºæŠŠäº‹ä»¶æ¶ˆæ¯æ¨è¿Ÿäº†ä¸¤ç§’</span></div><div class="line">    </div><div class="line">delay(<span class="number">4</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 2:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div><div class="line">    </div><div class="line">delay(<span class="number">6</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 3:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">0</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">1</span></div><div class="line"><span class="type">Subscription</span> <span class="number">2</span>:, <span class="type">Event</span>: <span class="number">1</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">2</span></div><div class="line"><span class="type">Subscription</span> <span class="number">2</span>:, <span class="type">Event</span>: <span class="number">2</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">3</span></div><div class="line"><span class="type">Subscription</span> <span class="number">3</span>:, <span class="type">Event</span>: <span class="number">3</span></div><div class="line"><span class="type">Subscription</span> <span class="number">2</span>:, <span class="type">Event</span>: <span class="number">3</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">4</span></div><div class="line"><span class="type">Subscription</span> <span class="number">3</span>:, <span class="type">Event</span>: <span class="number">4</span></div></pre></td></tr></table></figure><h2 id="replay"><a href="#replay" class="headerlink" title="replay"></a>replay</h2><blockquote><p>å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œç„¶åå’ŒreplaySubjectç›¸ä¼¼ï¼Œèƒ½æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„äº‹ä»¶æ¶ˆæ¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> intSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">1</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .replay(<span class="number">5</span>)  <span class="comment">//æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„5æ¡äº‹ä»¶æ¶ˆæ¯</span></div><div class="line">    </div><div class="line"><span class="number">_</span> = intSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 1:, Event: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line">delay(<span class="number">2</span>) &#123; <span class="number">_</span> = intSequence.connect() &#125;</div><div class="line">    </div><div class="line">delay(<span class="number">4</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 2:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div><div class="line">    </div><div class="line">delay(<span class="number">8</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 3:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="multicast"><a href="#multicast" class="headerlink" title="multicast"></a>multicast</h2><blockquote><p>å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œå¹¶ä¸”é€šè¿‡ç‰¹æ€§çš„subjectå‘é€å‡ºå»ï¼Œæ¯”å¦‚PublishSubjectï¼Œæˆ–è€…replaySubjectï¼ŒbehaviorSubjectç­‰ã€‚ä¸åŒçš„Subjectä¼šæœ‰ä¸åŒçš„ç»“æœ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line">    </div><div class="line"><span class="number">_</span> = subject</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subject: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line"><span class="keyword">let</span> intSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">1</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .multicast(subject)</div><div class="line">    </div><div class="line"><span class="number">_</span> = intSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"\tSubscription 1:, Event: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line">delay(<span class="number">2</span>) &#123; <span class="number">_</span> = intSequence.connect() &#125;</div><div class="line">    </div><div class="line">delay(<span class="number">4</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"\tSubscription 2:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-è¿‡æ»¤å’Œæ¡ä»¶æ“ä½œç¬¦</title>
      <link href="/2017/12/19/RxSwift/Grammar/Operators-%E8%BF%87%E6%BB%A4%E5%92%8C%E6%9D%A1%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%AC%A6/"/>
      <content type="html"><![CDATA[<h1 id="è¿‡æ»¤å’Œæ¡ä»¶æ“ä½œç¬¦"><a href="#è¿‡æ»¤å’Œæ¡ä»¶æ“ä½œç¬¦" class="headerlink" title="è¿‡æ»¤å’Œæ¡ä»¶æ“ä½œç¬¦"></a>è¿‡æ»¤å’Œæ¡ä»¶æ“ä½œç¬¦</h1><pre><code>â‘ filterâ‘¡distinctUntilChangedâ‘¢elementAtâ‘£singleâ‘¤takeâ‘¥takeLastâ‘¦takeWhileâ‘§takeUntilâ‘¨skipâ‘© skipWhileâ‘ªskipWhileWithIndexâ‘«skipUntil</code></pre><h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><blockquote><p>è¿‡æ»¤æ‰æŸäº›ä¸ç¬¦åˆè¦æ±‚çš„äº‹ä»¶<br>åœ¨Observableåºåˆ—ä¸­åªå‘å‡ºæ»¡è¶³è¿‡æ»¤æ¡ä»¶çš„äº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(</div><div class="line">    <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>,</div><div class="line">    <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>,</div><div class="line">    <span class="string">"ğŸ¹"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ±"</span>)</div><div class="line">    .<span class="built_in">filter</span> &#123;</div><div class="line">        $<span class="number">0</span> == <span class="string">"ğŸ±"</span></div><div class="line">    &#125;</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"><span class="comment">///</span></div><div class="line">ğŸ±</div><div class="line">ğŸ±</div><div class="line">ğŸ±</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line">  <span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</div><div class="line">            .<span class="built_in">filter</span>(</div><div class="line">                   &#123;$<span class="number">0</span> &gt; <span class="number">2</span>&#125;</div><div class="line">                   )</div><div class="line">            .subscribe(</div><div class="line">                       onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;</div><div class="line">                      )</div><div class="line">            .disposed(by: disposeBag)</div><div class="line"><span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div></pre></td></tr></table></figure><h2 id="â‘¡distinctUntilChanged"><a href="#â‘¡distinctUntilChanged" class="headerlink" title="â‘¡distinctUntilChanged"></a>â‘¡distinctUntilChanged</h2><blockquote><p>è¿‡æ»¤è¿ç»­å‘å‡ºçš„ç›¸åŒäº‹ä»¶<br>distinctUntilChangedå°±æ˜¯å½“ä¸‹ä¸€ä¸ªäº‹ä»¶ä¸å‰ä¸€ä¸ªäº‹ä»¶æ˜¯ä¸åŒäº‹ä»¶çš„äº‹ä»¶æ‰è¿›è¡Œå¤„ç†æ“ä½œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸµ"</span>, <span class="string">"ğŸ±"</span>)</div><div class="line">    .distinctUntilChanged()</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">ğŸ±</div><div class="line">ğŸ·</div><div class="line">ğŸ±</div><div class="line">ğŸµ</div><div class="line">ğŸ±</div></pre></td></tr></table></figure><h2 id="â‘¢elementAt"><a href="#â‘¢elementAt" class="headerlink" title="â‘¢elementAt"></a>â‘¢elementAt</h2><blockquote><p>åªå¤„ç†åœ¨æŒ‡å®šä½ç½®çš„äº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line">    .elementAt(<span class="number">3</span>)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"><span class="comment">//</span></div><div class="line">ğŸ¸</div></pre></td></tr></table></figure><h2 id="â‘£single"><a href="#â‘£single" class="headerlink" title="â‘£single"></a>â‘£single</h2><blockquote><p>ç”¨æ³•ä¸€ï¼šæ£€æµ‹Observableåºåˆ—æ˜¯å¦å‘å°„ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœå‘å°„å¤šä¸ªï¼Œä¼šæŠ¥é”™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"></div><div class="line"><span class="comment">// error:Sequence contains more than one element</span></div><div class="line"><span class="comment">// Observable.of(1,2,3).single().subscribe(onNext: &#123;print($0)&#125;).disposed(by: disposeBag)</span></div><div class="line"></div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>)</div><div class="line">          .single()</div><div class="line">          .subscribe(</div><div class="line">                     onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;</div><div class="line">                    )</div><div class="line">          .disposed(by: disposeBag)</div></pre></td></tr></table></figure><blockquote><p>ç”¨æ³•äºŒ:æ£€æµ‹Observableåºåˆ—å‘å°„çš„å…ƒç´ é‡Œé¢æ˜¯å¦åŒ…å«å¤šä¸ªæŒ‡å®šçš„å…ƒç´ ï¼Œå¦‚æœæœ‰å¤šä¸ªæˆ–è€…æ²¡æœ‰ï¼Œä¼šæŠ¥é”™ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line">    .single &#123; $<span class="number">0</span> == <span class="string">"ğŸ¸"</span> &#125;</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .disposed(by: disposeBag)</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>)</div><div class="line">    .single &#123; $<span class="number">0</span> == <span class="string">"ğŸ’"</span> &#125;</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .disposed(by: disposeBag)</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¶"</span>,<span class="string">"ğŸ¸"</span>)</div><div class="line">    .single &#123; $<span class="number">0</span> == <span class="string">"ğŸ¶"</span> &#125;</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .disposed(by: disposeBag</div><div class="line">    </div><div class="line">   <span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line">next(ğŸ¸)</div><div class="line">completed</div><div class="line">error(<span class="type">Sequence</span> doesn't contain any elements.)</div><div class="line">next(ğŸ¶)</div><div class="line">error(<span class="type">Sequence</span> <span class="built_in">contains</span> more than one element.)</div></pre></td></tr></table></figure><blockquote><p>å‡ºåœ¨sequenceåªå‘å‡ºä¸€æ¬¡çš„äº‹ä»¶ï¼Œå¦‚æœè¶…è¿‡ä¸€ä¸ªå°±ä¼šå‘å‡ºerroré”™è¯¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line"> .single()</div><div class="line"> .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line"> .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  ğŸ±  <span class="comment">//å•ä¸€ä¿¡å·è¶…è¿‡äº†ä¸€ä¸ª</span></div><div class="line"><span class="type">Received</span> unhandled error: /<span class="keyword">var</span>/folders/hz/v15ld5mj0nqf83d21j13y0tw0000gn/<span class="type">T</span>/./lldb/<span class="number">7229</span>/playground107.swift:<span class="number">69</span>:__lldb_expr_107 -&gt; <span class="type">Sequence</span> <span class="built_in">contains</span> more than one element.</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line"> .single &#123; $<span class="number">0</span> == <span class="string">"ğŸ¸"</span> &#125;      <span class="comment">//é’è›™åªæœ‰ä¸€ä¸ªï¼Œcompleted</span></div><div class="line"> .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line"> .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>)</div><div class="line"> .single &#123; $<span class="number">0</span> == <span class="string">"ğŸ°"</span> &#125; <span class="comment">//å…”å­æœ‰ä¸¤ä¸ªï¼Œä¼šå‘å‡ºerror</span></div><div class="line"> .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line"> .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line"> .single &#123; $<span class="number">0</span> == <span class="string">"ğŸ”µ"</span> &#125; <span class="comment">//æ²¡æœ‰è“è‰²çƒï¼Œä¼šå‘å‡ºerror</span></div><div class="line"> .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line"> .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h2 id="â‘¤take"><a href="#â‘¤take" class="headerlink" title="â‘¤take"></a>â‘¤take</h2><blockquote><p>åªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶ä¿¡å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line">    .take(<span class="number">3</span>)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line">ğŸ±</div><div class="line">ğŸ°</div><div class="line">ğŸ¶</div></pre></td></tr></table></figure><blockquote><p>ä»Observableåºåˆ—å¼€å§‹ç‚¹èµ·åªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</div><div class="line">         .take(<span class="number">2</span>)</div><div class="line">         .subscribe(</div><div class="line">                    onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;</div><div class="line">                   )</div><div class="line">         .disposed(by: disposeBag)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœ:</span></div><div class="line"> <span class="number">1</span></div><div class="line"> <span class="number">2</span></div></pre></td></tr></table></figure><h2 id="â‘¥takeLast"><a href="#â‘¥takeLast" class="headerlink" title="â‘¥takeLast"></a>â‘¥takeLast</h2><blockquote><p>åªå¤„ç†åå‡ ä¸ªäº‹ä»¶ä¿¡å·<br>ä¸takeç›¸åï¼Œä»Observableåºåˆ—çš„ç»“æŸä½ç½®èµ·ï¼Œåªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line">    .takeLast(<span class="number">3</span>)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"><span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line">ğŸ¸</div><div class="line">ğŸ·</div><div class="line">ğŸµ</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()    </div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</div><div class="line">          .takeLast(<span class="number">2</span>)</div><div class="line">          .subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">          .disposed(by: disposeBag)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure><h2 id="â‘¦takeWhile"><a href="#â‘¦takeWhile" class="headerlink" title="â‘¦takeWhile"></a>â‘¦takeWhile</h2><blockquote><p>åªå¤„ç†æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶ã€‚æ„Ÿè§‰å’Œfilteræ²¡ä»€ä¹ˆåŒºåˆ«</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</div><div class="line">    .takeWhile &#123; $<span class="number">0</span> &lt; <span class="number">4</span> &#125;</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">   <span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</div><div class="line">          .takeWhile&#123;$<span class="number">0</span> &lt; <span class="number">3</span>&#125;</div><div class="line">          .subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">          .disposed(by: disposeBag)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure><h2 id="â‘§takeUntil"><a href="#â‘§takeUntil" class="headerlink" title="â‘§takeUntil"></a>â‘§takeUntil</h2><blockquote><p>æ¥æ”¶äº‹ä»¶æ¶ˆæ¯ï¼Œç›´åˆ°å¦ä¸€ä¸ªsequenceå‘å‡ºäº‹ä»¶æ¶ˆæ¯çš„æ—¶å€™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> sourceSequence = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> referenceSequence = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">   </div><div class="line">sourceSequence</div><div class="line">    .takeUntil(referenceSequence)</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">   </div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ°"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">    </div><div class="line">referenceSequence.onNext(<span class="string">"ğŸ”´"</span>)  <span class="comment">//åœæ­¢æ¥æ”¶æ¶ˆæ¯</span></div><div class="line">    </div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ¸"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ·"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸµ"</span>)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">next(ğŸ±)</div><div class="line">next(ğŸ°)</div><div class="line">next(ğŸ¶)</div><div class="line">completed</div></pre></td></tr></table></figure><blockquote><p>ç›´åˆ°å¦ä¸€ä¸ªObservableåºåˆ—å‘å‡ºä¸€ä¸ªä¿¡å·ï¼Œåˆ™åŸåºåˆ—ç»ˆ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> orinSubject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"><span class="keyword">let</span> refreSubject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line">    </div><div class="line">orinSubject.takeUntil(refreSubject)</div><div class="line">           .subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">           .disposed(by: disposeBag)</div><div class="line">    </div><div class="line">orinSubject.onNext(<span class="number">1</span>)</div><div class="line">orinSubject.onNext(<span class="number">2</span>)</div><div class="line">refreSubject.onNext(<span class="number">10</span>)</div><div class="line">orinSubject.onNext(<span class="number">3</span>)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure><h2 id="â‘¨skip"><a href="#â‘¨skip" class="headerlink" title="â‘¨skip"></a>â‘¨skip</h2><blockquote><p>å–æ¶ˆå‰å‡ ä¸ªäº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line">    .skip(<span class="number">2</span>)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"> <span class="comment">//</span></div><div class="line"> ğŸ¶</div><div class="line"> ğŸ¸</div><div class="line"> ğŸ·</div><div class="line"> ğŸµ</div></pre></td></tr></table></figure><blockquote><p>ä»Observableåºåˆ—çš„å…ƒç´ è·³è¿‡æŒ‡å®šä¸ªæ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</div><div class="line">          .skip(<span class="number">2</span>)</div><div class="line">          .subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">          .disposed(by: disposeBag)</div><div class="line"><span class="comment">//æ‰“å°ç»“æœï¼š</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div><div class="line"><span class="number">6</span></div></pre></td></tr></table></figure><h2 id="â‘©-skipWhile"><a href="#â‘©-skipWhile" class="headerlink" title="â‘© skipWhile"></a>â‘© skipWhile</h2><blockquote><p>æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶æ¶ˆæ¯éƒ½å–æ¶ˆ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)</div><div class="line">    .skipWhile &#123; $<span class="number">0</span> &lt; <span class="number">4</span> &#125;</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"><span class="comment">///</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div><div class="line"><span class="number">6</span></div></pre></td></tr></table></figure><blockquote><p>è·³è¿‡æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶ï¼Œåªè¦é‡è§ä¸æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶ï¼Œåˆ™è¯¥äº‹ä»¶ä»¥åŠä¹‹åçš„äº‹ä»¶ï¼ˆä¸ç®¡æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼‰éƒ½ä¼šå‘å‡º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()    </div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</div><div class="line">          .skipWhile&#123;$<span class="number">0</span> &lt; <span class="number">3</span>&#125;</div><div class="line">          .subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">          .disposed(by: disposeBag)</div><div class="line"><span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div><div class="line"><span class="number">6</span></div></pre></td></tr></table></figure><h2 id="â‘ªskipWhileWithIndex"><a href="#â‘ªskipWhileWithIndex" class="headerlink" title="â‘ªskipWhileWithIndex"></a>â‘ªskipWhileWithIndex</h2><blockquote><p>æ»¡è¶³æ¡ä»¶çš„éƒ½è¢«å–æ¶ˆï¼Œä¼ å…¥çš„é—­åŒ…åŒskipWhileæœ‰ç‚¹åŒºåˆ«è€Œå·²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="string">"ğŸ±"</span>, <span class="string">"ğŸ°"</span>, <span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ¸"</span>, <span class="string">"ğŸ·"</span>, <span class="string">"ğŸµ"</span>)</div><div class="line">    .skipWhileWithIndex &#123; element, index <span class="keyword">in</span></div><div class="line">        index &lt; <span class="number">3</span></div><div class="line">    &#125;</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>è·³è¿‡ç´¢å¼•æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>).skipWhileWithIndex(&#123; (element, index) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></div><div class="line">        index &lt; <span class="number">3</span></div><div class="line">    &#125;).subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;).disposed(by: disposeBag)</div><div class="line">  <span class="comment">//æ‰“å°ç»“æœ:</span></div><div class="line">  <span class="number">4</span></div><div class="line"><span class="number">5</span></div><div class="line"><span class="number">6</span></div></pre></td></tr></table></figure><h2 id="â‘«skipUntil"><a href="#â‘«skipUntil" class="headerlink" title="â‘«skipUntil"></a>â‘«skipUntil</h2><blockquote><p>ç›´åˆ°æŸä¸ªsequenceå‘å‡ºäº†äº‹ä»¶æ¶ˆæ¯ï¼Œæ‰å¼€å§‹æ¥æ”¶å½“å‰sequenceå‘å‡ºçš„äº‹ä»¶æ¶ˆæ¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="keyword">let</span> sourceSequence = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> referenceSequence = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">    </div><div class="line">sourceSequence</div><div class="line">    .skipUntil(referenceSequence)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ°"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">    </div><div class="line">referenceSequence.onNext(<span class="string">"ğŸ”´"</span>)</div><div class="line">    </div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ¸"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸ·"</span>)</div><div class="line">sourceSequence.onNext(<span class="string">"ğŸµ"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è·³è¿‡å¦ä¸€ä¸ªObservableåºåˆ—å‘å‡ºäº‹ä»¶ä¹‹å‰çš„æ‰€æœ‰äº‹ä»¶<br>ä¸takeUntilç›¸åã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line">  <span class="keyword">let</span> oriSubject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line">  <span class="keyword">let</span> refreSubject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line">   </div><div class="line">oriSubject.skipUntil(refreSubject)</div><div class="line">          .subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">          .disposed(by: disposeBag)</div><div class="line">    </div><div class="line">oriSubject.onNext(<span class="number">1</span>)</div><div class="line">oriSubject.onNext(<span class="number">2</span>)</div><div class="line">    </div><div class="line">refreSubject.onNext(<span class="number">10</span>)</div><div class="line">oriSubject.onNext(<span class="number">3</span>)</div><div class="line">oriSubject.onNext(<span class="number">4</span>)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœ:</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-æ•°å­¦æ“ä½œ</title>
      <link href="/2017/12/19/RxSwift/Grammar/Operators-%E6%95%B0%E5%AD%A6%E6%93%8D%E4%BD%9C/"/>
      <content type="html"><![CDATA[<h1 id="æ•°å­¦æ“ä½œ"><a href="#æ•°å­¦æ“ä½œ" class="headerlink" title="æ•°å­¦æ“ä½œ"></a>æ•°å­¦æ“ä½œ</h1><h2 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h2><blockquote><p>å°†sequenceè½¬æ¢æˆä¸€ä¸ªarrayï¼Œå¹¶è½¬æ¢æˆå•ä¸€äº‹ä»¶ä¿¡å·ï¼Œç„¶åç»“æŸ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.range(start: <span class="number">1</span>, <span class="built_in">count</span>: <span class="number">10</span>)</div><div class="line">    .toArray()</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">next([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>])</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><blockquote><p>ç”¨ä¸€ä¸ªåˆå§‹å€¼ï¼Œå¯¹äº‹ä»¶æ•°æ®è¿›è¡Œç´¯è®¡æ“ä½œ<br>reduceæ¥å—ä¸€ä¸ªåˆå§‹å€¼ï¼Œå’Œä¸€ä¸ªæ“ä½œç¬¦å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.of(<span class="number">10</span>, <span class="number">100</span>, <span class="number">1000</span>)</div><div class="line">    .<span class="built_in">reduce</span>(<span class="number">1</span>, accumulator: +)</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">  <span class="number">1111</span></div></pre></td></tr></table></figure><h2 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h2><blockquote><p>oncatä¼šæŠŠå¤šä¸ªsequenceå’Œå¹¶ä¸ºä¸€ä¸ªsequenceï¼Œå¹¶ä¸”å½“å‰é¢ä¸€ä¸ªsequenceå‘å‡ºäº†completedäº‹ä»¶ï¼Œæ‰ä¼šå¼€å§‹ä¸‹ä¸€ä¸ªsequenceçš„äº‹ä»¶<br>åœ¨ç¬¬ä¸€sequenceå®Œæˆä¹‹å‰ï¼Œç¬¬äºŒä¸ªsequenceå‘å‡ºçš„äº‹ä»¶éƒ½ä¼šè¢«å¿½ç•¥ï¼Œä½†ä¼šæ¥æ”¶ä¸€å®Œæˆä¹‹å‰çš„äºŒå‘å‡ºçš„æœ€åä¸€ä¸ªäº‹ä»¶ã€‚ä¸å¥½è§£é‡Šï¼Œçœ‹ä¾‹å­è¯´æ˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="keyword">let</span> subject1 = <span class="type">BehaviorSubject</span>(value: <span class="string">"ğŸ"</span>)</div><div class="line"><span class="keyword">let</span> subject2 = <span class="type">BehaviorSubject</span>(value: <span class="string">"ğŸ¶"</span>)</div><div class="line">    </div><div class="line"><span class="keyword">let</span> variable = <span class="type">Variable</span>(subject1)</div><div class="line">    </div><div class="line">variable.asObservable()</div><div class="line">    .concat()</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">subject1.onNext(<span class="string">"ğŸ"</span>)</div><div class="line">subject1.onNext(<span class="string">"ğŸŠ"</span>)</div><div class="line">    </div><div class="line">variable.value = subject2</div><div class="line">    </div><div class="line"></div><div class="line">subject2.onNext(<span class="string">"ğŸ±"</span>)   <span class="comment">//1å®Œæˆå‰ï¼Œä¼šè¢«å¿½ç•¥</span></div><div class="line">subject2.onNext(<span class="string">"teng"</span>) <span class="comment">//1å®Œæˆå‰ï¼Œä¼šè¢«å¿½ç•¥</span></div><div class="line">subject2.onNext(<span class="string">"fei"</span>)  <span class="comment">//1å®Œæˆå‰çš„æœ€åä¸€ä¸ªï¼Œä¼šè¢«æ¥æ”¶</span></div><div class="line">    </div><div class="line">subject1.onCompleted()</div><div class="line">    </div><div class="line">subject2.onNext(<span class="string">"ğŸ­"</span>)</div><div class="line"></div><div class="line">next(ğŸ)</div><div class="line">next(ğŸ)</div><div class="line">next(ğŸŠ)</div><div class="line">next(fei)</div><div class="line">next(ğŸ­)</div></pre></td></tr></table></figure><h1 id="è¿æ¥æ€§æ“ä½œ"><a href="#è¿æ¥æ€§æ“ä½œ" class="headerlink" title="è¿æ¥æ€§æ“ä½œ"></a>è¿æ¥æ€§æ“ä½œ</h1><blockquote><p>Connectable Observableæœ‰è®¢é˜…æ—¶ä¸å¼€å§‹å‘å°„äº‹ä»¶æ¶ˆæ¯ï¼Œè€Œæ˜¯ä»…å½“è°ƒç”¨å®ƒä»¬çš„connectï¼ˆï¼‰æ–¹æ³•æ—¶ã€‚è¿™æ ·å°±å¯ä»¥ç­‰å¾…æ‰€æœ‰æˆ‘ä»¬æƒ³è¦çš„è®¢é˜…è€…éƒ½å·²ç»è®¢é˜…äº†ä»¥åï¼Œå†å¼€å§‹å‘å‡ºäº‹ä»¶æ¶ˆæ¯ï¼Œè¿™æ ·èƒ½ä¿è¯æˆ‘ä»¬æƒ³è¦çš„æ‰€æœ‰è®¢é˜…è€…éƒ½èƒ½æ¥æ”¶åˆ°äº‹ä»¶æ¶ˆæ¯ã€‚å…¶å®ä¹Ÿå°±æ˜¯ç­‰å¤§å®¶éƒ½å°±ä½ä»¥åï¼Œå¼€å§‹å‘å‡ºæ¶ˆæ¯</p></blockquote><h2 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h2><blockquote><p>å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequence</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> intSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">1</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .publish()</div><div class="line">    </div><div class="line"><span class="number">_</span> = intSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 1:, Event: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line">delay(<span class="number">2</span>) &#123; <span class="number">_</span> = intSequence.connect() &#125; <span class="comment">//ç›¸å½“äºæŠŠäº‹ä»¶æ¶ˆæ¯æ¨è¿Ÿäº†ä¸¤ç§’</span></div><div class="line">    </div><div class="line">delay(<span class="number">4</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 2:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div><div class="line">    </div><div class="line">delay(<span class="number">6</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 3:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">0</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">1</span></div><div class="line"><span class="type">Subscription</span> <span class="number">2</span>:, <span class="type">Event</span>: <span class="number">1</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">2</span></div><div class="line"><span class="type">Subscription</span> <span class="number">2</span>:, <span class="type">Event</span>: <span class="number">2</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">3</span></div><div class="line"><span class="type">Subscription</span> <span class="number">3</span>:, <span class="type">Event</span>: <span class="number">3</span></div><div class="line"><span class="type">Subscription</span> <span class="number">2</span>:, <span class="type">Event</span>: <span class="number">3</span></div><div class="line"><span class="type">Subscription</span> <span class="number">1</span>:, <span class="type">Event</span>: <span class="number">4</span></div><div class="line"><span class="type">Subscription</span> <span class="number">3</span>:, <span class="type">Event</span>: <span class="number">4</span></div></pre></td></tr></table></figure><h2 id="replay"><a href="#replay" class="headerlink" title="replay"></a>replay</h2><blockquote><p>å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œç„¶åå’ŒreplaySubjectç›¸ä¼¼ï¼Œèƒ½æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„äº‹ä»¶æ¶ˆæ¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> intSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">1</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .replay(<span class="number">5</span>)  <span class="comment">//æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„5æ¡äº‹ä»¶æ¶ˆæ¯</span></div><div class="line">    </div><div class="line"><span class="number">_</span> = intSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 1:, Event: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line">delay(<span class="number">2</span>) &#123; <span class="number">_</span> = intSequence.connect() &#125;</div><div class="line">    </div><div class="line">delay(<span class="number">4</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 2:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div><div class="line">    </div><div class="line">delay(<span class="number">8</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subscription 3:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="multicast"><a href="#multicast" class="headerlink" title="multicast"></a>multicast</h2><blockquote><p>å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œå¹¶ä¸”é€šè¿‡ç‰¹æ€§çš„subjectå‘é€å‡ºå»ï¼Œæ¯”å¦‚PublishSubjectï¼Œæˆ–è€…replaySubjectï¼ŒbehaviorSubjectç­‰ã€‚ä¸åŒçš„Subjectä¼šæœ‰ä¸åŒçš„ç»“æœ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line">    </div><div class="line"><span class="number">_</span> = subject</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"Subject: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line"><span class="keyword">let</span> intSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">1</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .multicast(subject)</div><div class="line">    </div><div class="line"><span class="number">_</span> = intSequence</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"\tSubscription 1:, Event: \($0)"</span>) &#125;)</div><div class="line">    </div><div class="line">delay(<span class="number">2</span>) &#123; <span class="number">_</span> = intSequence.connect() &#125;</div><div class="line">    </div><div class="line">delay(<span class="number">4</span>) &#123;</div><div class="line">    <span class="number">_</span> = intSequence</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>(<span class="string">"\tSubscription 2:, Event: \($0)"</span>) &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h1><h2 id="catchErrorJustReturn"><a href="#catchErrorJustReturn" class="headerlink" title="catchErrorJustReturn"></a>catchErrorJustReturn</h2><blockquote><p>é‡åˆ°erroräº‹ä»¶çš„æ—¶å€™ï¼Œå°±returnä¸€ä¸ªå€¼ï¼Œç„¶åç»“æŸ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="keyword">let</span> sequenceThatFails = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">    </div><div class="line">sequenceThatFails</div><div class="line">    .catchErrorJustReturn(<span class="string">"ğŸ˜Š"</span>)</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¬"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¨"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¡"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ”´"</span>)</div><div class="line">sequenceThatFails.onError(<span class="type">TestError</span>.test)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">next(ğŸ˜¬)</div><div class="line">next(ğŸ˜¨)</div><div class="line">next(ğŸ˜¡)</div><div class="line">next(ğŸ”´)</div><div class="line">next(ğŸ˜Š)</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="catchError"><a href="#catchError" class="headerlink" title="catchError"></a>catchError</h2><blockquote><p>æ•è·errorè¿›è¡Œå¤„ç†ï¼Œå¯ä»¥è¿”å›å¦ä¸€ä¸ªsequenceè¿›è¡Œè®¢é˜…</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="keyword">let</span> sequenceThatFails = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> recoverySequence = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">    </div><div class="line">sequenceThatFails</div><div class="line">    .catchError &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Error:"</span>, $<span class="number">0</span>)</div><div class="line">        <span class="keyword">return</span> recoverySequence</div><div class="line">    &#125;</div><div class="line">    .subscribe &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¬"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¨"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ˜¡"</span>)</div><div class="line">sequenceThatFails.onNext(<span class="string">"ğŸ”´"</span>)</div><div class="line">sequenceThatFails.onError(<span class="type">TestError</span>.test)</div><div class="line">    </div><div class="line">recoverySequence.onNext(<span class="string">"ğŸ˜Š"</span>)</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line">next(ğŸ˜¬)</div><div class="line">next(ğŸ˜¨)</div><div class="line">next(ğŸ˜¡)</div><div class="line">next(ğŸ”´)</div><div class="line"><span class="type">Error</span>: test</div><div class="line">next(ğŸ˜Š)</div></pre></td></tr></table></figure><h2 id="retry"><a href="#retry" class="headerlink" title="retry"></a>retry</h2><blockquote><p>é‡è§erroräº‹ä»¶å¯ä»¥è¿›è¡Œé‡è¯•ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œå¯ä»¥è¿›è¡Œé‡æ–°è¿æ¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">var</span> <span class="built_in">count</span> = <span class="number">1</span></div><div class="line">    </div><div class="line"><span class="keyword">let</span> sequenceThatErrors = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create &#123; observer <span class="keyword">in</span></div><div class="line">    observer.onNext(<span class="string">"ğŸ"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸ"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸŠ"</span>)</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> <span class="built_in">count</span> == <span class="number">1</span> &#123;</div><div class="line">        observer.onError(<span class="type">TestError</span>.test)</div><div class="line">        <span class="built_in">print</span>(<span class="string">"Error encountered"</span>)</div><div class="line">        <span class="built_in">count</span> += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    observer.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">    observer.onNext(<span class="string">"ğŸ­"</span>)</div><div class="line">    observer.onCompleted()</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">&#125;</div><div class="line">    </div><div class="line">sequenceThatErrors</div><div class="line">    .retry(<span class="number">3</span>)       <span class="comment">//ä¸ä¼ å…¥æ•°å­—çš„è¯ï¼Œåªä¼šé‡è¯•ä¸€æ¬¡</span></div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h1 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h1><blockquote><p>æ‰“å°æ‰€æœ‰çš„è®¢é˜…, äº‹ä»¶å’Œdisposals</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   </div><div class="line"></div><div class="line">sequenceThatErrors</div><div class="line">    .retry(<span class="number">3</span>)</div><div class="line">    .debug()</div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h1 id="RxSwift-Resources-total"><a href="#RxSwift-Resources-total" class="headerlink" title="RxSwift.Resources.total"></a>RxSwift.Resources.total</h1><blockquote><p>æŸ¥çœ‹RxSwiftæ‰€æœ‰èµ„æºçš„å ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="type">RxSwift</span>.<span class="type">Resources</span>.total)</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-è½¬æ¢æ“ä½œç¬¦</title>
      <link href="/2017/12/19/RxSwift/Demo/Swift-RxSwift-%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/xiaochuanding/article/details/53727426" target="_blank" rel="external">è¿™æ˜¯java</a><br>Buffer():<br>2.map() flatMap()<br>3.concatMap()<br>4.switchMap():<br>5.cast():<br>6.groupBy():<br>7.scan():<br>8.window():</p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-çº¿ç¨‹</title>
      <link href="/2017/12/19/RxSwift/Grammar/%E7%BA%BF%E7%A8%8B/"/>
      <content type="html"><![CDATA[<p>#çº¿ç¨‹</p><h2 id="çº¿ç¨‹åˆ‡æ¢"><a href="#çº¿ç¨‹åˆ‡æ¢" class="headerlink" title="çº¿ç¨‹åˆ‡æ¢"></a>çº¿ç¨‹åˆ‡æ¢</h2><blockquote><p>RxSwift ä¸­åˆ‡æ¢çº¿ç¨‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">sequence1</div><div class="line">.observeOn(backgroundScheduler) <span class="comment">// åˆ‡æ¢åˆ°åå°çº¿ç¨‹</span></div><div class="line">.<span class="built_in">map</span> &#123; n <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"åœ¨ background scheduler æ‰§è¡Œ"</span>)</div><div class="line">&#125;</div><div class="line">.observeOn(<span class="type">MainScheduler</span>.instance) <span class="comment">// åˆ‡æ¢åˆ°ä¸»çº¿ç¨‹</span></div><div class="line">.<span class="built_in">map</span> &#123; n <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"åœ¨ main scheduler"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è°ƒç”¨ä¸€ä¸‹ observeOn å°±åˆ‡æ¢åˆ°æˆ‘ä»¬æƒ³è¦çš„çº¿ç¨‹äº†<br>å½“å‰çš„çº¿ç¨‹åˆ‡æ¢æ”¯æŒ GCD å’Œ NSOperation<br>åœ¨çº¿ç¨‹è¿™éƒ¨åˆ†ä¸»è¦æœ‰ä¸¤ä¸ªæ“ä½œç¬¦ï¼šobserveOn å’Œ subscribeOn ï¼Œå¸¸ç”¨çš„è¿˜æ˜¯ observeOn</p></blockquote><ul><li>è°ƒç”¨ observeOn æŒ‡å®šæ¥ä¸‹æ¥çš„æ“ä½œåœ¨å“ªä¸ªçº¿ç¨‹</li><li>è°ƒç”¨ subscribeOn å†³å®šè®¢é˜…è€…çš„æ“ä½œæ‰§è¡Œåœ¨å“ªä¸ªçº¿ç¨‹</li></ul><blockquote><p>å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ˜ç¡®è°ƒç”¨è¿™ä¸¤ä¸ªæ“ä½œï¼Œåé¢çš„æ“ä½œéƒ½æ˜¯åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œçš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">extension</span> <span class="title">ObservableType</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">observeOn</span><span class="params">(scheduler: ImmediateSchedulerType)</span></span> -&gt; <span class="type">RxSwift</span>.<span class="type">Observable</span>&lt;<span class="type">Self</span>.<span class="type">E</span>&gt;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">subscribeOn</span><span class="params">(scheduler: ImmediateSchedulerType)</span></span> -&gt; <span class="type">RxSwift</span>.<span class="type">Observable</span>&lt;<span class="type">Self</span>.<span class="type">E</span>&gt;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸¤ä¸ªæ–¹æ³•çš„å£°æ˜å‡ ä¹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦ä¼ å…¥ä¸€ä¸ªæ»¡è¶³ ImmediateSchedulerType åè®®çš„ä¸œè¥¿</p></blockquote><h2 id="MainScheduler-ä¸²è¡Œ"><a href="#MainScheduler-ä¸²è¡Œ" class="headerlink" title="MainScheduler ä¸²è¡Œ"></a>MainScheduler ä¸²è¡Œ</h2><blockquote><p>åœ¨ Rx ä¸­æˆ‘ä»¬å·²ç»æœ‰ä¸»çº¿ç¨‹åˆ‡æ¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">.observeOn(<span class="type">MainScheduler</span>.instance)<span class="comment">//åˆ‡æ¢åˆ°äº†ä¸»çº¿ç¨‹</span></div></pre></td></tr></table></figure><blockquote><p>MainScheduler æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„åŠŸèƒ½</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">ensureExecutingOnScheduler</span>()</span></div></pre></td></tr></table></figure><blockquote><p>å¯ä»¥åœ¨éœ€è¦ä¿è¯ä»£ç ä¸€å®šæ‰§è¡Œåœ¨ä¸»çº¿ç¨‹çš„åœ°æ–¹è°ƒç”¨ MainScheduler.ensureExecutingOnScheduler()<br>ç‰¹åˆ«æ˜¯åœ¨çº¿ç¨‹åˆ‡æ¢æ¥åˆ‡æ¢å»çš„æƒ…å†µä¸‹ï¼Œæˆ–è€…æ˜¯è°ƒç”¨å…¶ä»–çš„åº“ï¼Œæˆ‘ä»¬ä¸ç¡®å®šå½“å‰æ˜¯å¦åœ¨æ‰§è¡Œåœ¨ä¸»çº¿ç¨‹<br>æ¯•ç«Ÿ UI çš„æ›´æ–°è¿˜æ˜¯è¦åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„</p></blockquote><h2 id="SerialDispatchQueueScheduler-ä¸²è¡Œ"><a href="#SerialDispatchQueueScheduler-ä¸²è¡Œ" class="headerlink" title="SerialDispatchQueueScheduler ä¸²è¡Œ"></a>SerialDispatchQueueScheduler ä¸²è¡Œ</h2><ul><li>SerialDispatchQueueScheduler ï¼Œè¿™ä¸ªå°±æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è°ƒåº¦å™¨ï¼Œä¸Šé¢çš„ MainScheduler å°±æ˜¯ç»§æ‰¿çš„è¿™ä¸ª</li></ul><blockquote><p>DispatchQueueSchedulerQOS<br>iOS 8 æ–°å¢åŠ äº† QOS ï¼Œåˆ†åˆ«æœ‰ä»¥ä¸‹äº”ç§ç­‰çº§ï¼š</p></blockquote><ul><li>QOS_CLASS_USER_INTERACTIVE</li><li>QOS_CLASS_USER_INITIATED</li><li>QOS_CLASS_DEFAULT</li><li>QOS_CLASS_UTILITY</li><li>QOS_CLASS_BACKGROUND</li></ul><blockquote><p>åœ¨ Rx ä¸­ï¼Œæˆ‘ä»¬ç”¨ enum åˆ›å»ºäº† DispatchQueueSchedulerQOS ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">DispatchQueueSchedulerQOS</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">UserInteractive</span></div><div class="line">    <span class="keyword">case</span> <span class="type">UserInitiated</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Default</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Utility</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Background</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å’Œä¸Šé¢çš„ç­‰çº§æ˜¯ä¸€ä¸€å¯¹åº”çš„<br>ç”¨ QOS åˆ›å»ºä¸€ä¸ª DispatchQueueSchedulerQOS éå¸¸æ–¹ä¾¿</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(globalConcurrentQueueQOS: <span class="type">DispatchQueueSchedulerQOS</span>, </div><div class="line">internalSerialQueueName: <span class="type">String</span> = <span class="string">"rx.global_dispatch_queue.serial"</span>)</div></pre></td></tr></table></figure><blockquote><p>ç”¨ä¸€ä¸ªåˆå§‹åŒ–å°± OK ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">SerialDispatchQueueScheduler</span>(globalConcurrentQueueQOS: .<span class="type">Background</span>)</div></pre></td></tr></table></figure><ul><li>æ›´æ¨èä½ ä½¿ç”¨å·²æœ‰çš„ QOS ç®¡ç†å¤šçº¿ç¨‹é—®é¢˜ï¼Œæ¯•ç«Ÿè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹ç­‰çº§æ›´æ˜ç¡®çš„æ–¹æ¡ˆã€‚å³ä¾¿æ˜¯åˆ›å»ºè‡ªå·±çš„ GCD æˆ‘ä¹Ÿå»ºè®®ç›´æ¥ä½¿ç”¨ SerialDispatchQueueScheduler ï¼Œæ¯•ç«Ÿè‡ªå·±å†å»å®ç°é‚£äº›åè®®å¾ˆéº»çƒ¦ä¸æ˜¯å—</li></ul><blockquote><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼åˆ›å»ºè‡ªå·±çš„ GCD ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">public</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(internalSerialQueueName: <span class="type">String</span>, serialQueueConfiguration: ((dispatch_queue_t) -&gt; <span class="type">Void</span>)? = <span class="literal">nil</span>)</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(queue: dispatch_queue_t, internalSerialQueueName: <span class="type">String</span>)</div></pre></td></tr></table></figure><blockquote><p>MainScheduler æ˜¯ç»§æ‰¿ SerialDispatchQueueScheduler çš„</p></blockquote><h2 id="ConcurrentDispatchQueueScheduler-å¹¶è¡Œ"><a href="#ConcurrentDispatchQueueScheduler-å¹¶è¡Œ" class="headerlink" title="ConcurrentDispatchQueueScheduler å¹¶è¡Œ"></a>ConcurrentDispatchQueueScheduler å¹¶è¡Œ</h2><blockquote><p>åŒæ ·æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªå¹¶è¡Œçš„ Scheduler ï¼šConcurrentDispatchQueueScheduler<br>API çš„ä½¿ç”¨å’Œ SerialDispatchQueueScheduler æ˜¯ä¸€æ ·çš„</p></blockquote><h2 id="OperationQueueScheduler-å¹¶è¡Œ"><a href="#OperationQueueScheduler-å¹¶è¡Œ" class="headerlink" title="OperationQueueScheduler å¹¶è¡Œ"></a>OperationQueueScheduler å¹¶è¡Œ</h2><blockquote><p>ä½¿ç”¨ NSOperationQueue æœ€å¤§çš„å¥½å¤„å°±æ˜¯æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®šåˆ¶æœ€å¤§å¹¶å‘çº¿ç¨‹æ•°é‡ï¼Œå³è®¾ç½® maxConcurrentOperationCount<br>åˆ›å»ºæ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ª NSOperationQueue</p></blockquote><p>éš¾æ‡‚å•Š</p><p><a href="http://t.swift.gg/t/rxswift-course" target="_blank" rel="external">åŸæ–‡</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
            <tag> çº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-æ“ä½œ</title>
      <link href="/2017/12/19/RxSwift/Grammar/Operators-Transforming%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6/"/>
      <content type="html"><![CDATA[<h1 id="å˜æ¢æ“ä½œ"><a href="#å˜æ¢æ“ä½œ" class="headerlink" title="å˜æ¢æ“ä½œ"></a>å˜æ¢æ“ä½œ</h1><h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><blockquote><p>é€šè¿‡ä½¿ç”¨ä¸€ä¸ªé—­åŒ…å‡½æ•°å°†åŸæ¥çš„Observableåºåˆ—sequenceè½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„Observableåºåˆ—sequence</p></blockquote><p><img src="http://ot0mms4k8.bkt.clouddn.com/map-001.png" alt="map"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line">   <span class="type">Observable</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</div><div class="line">   .<span class="built_in">map</span>(&#123;</div><div class="line">         <span class="keyword">return</span> <span class="number">10</span> * $<span class="number">0</span></div><div class="line">        &#125;)</div><div class="line">   .subscribe(&#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">   .disposed(by: disposeBag)</div><div class="line">  <span class="comment">//æ‰“å°</span></div><div class="line">next(<span class="number">10</span>)</div><div class="line">next(<span class="number">20</span>)</div><div class="line">next(<span class="number">30</span>)</div><div class="line">completed</div></pre></td></tr></table></figure><h2 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap"></a>flatMap</h2><blockquote><p>å°†ä¸€ä¸ªsequenceè½¬æ¢ä¸ºä¸€ä¸ªsequencesï¼Œå½“ä½ æ¥æ”¶ä¸€ä¸ªsequenceçš„äº‹ä»¶ï¼Œä½ è¿˜æƒ³æ¥æ”¶å…¶ä»–sequenceå‘å‡ºçš„äº‹ä»¶çš„è¯å¯ä»¥ä½¿ç”¨flatMapï¼Œå¥¹ä¼šå°†æ¯ä¸€ä¸ªsequenceäº‹ä»¶è¿›è¡Œå¤„ç†ä»¥åï¼Œç„¶åå†ä»¥ä¸€ä¸ªsequenceå½¢å¼å‘å‡ºäº‹ä»¶<br>è€Œä¸”flatMapæœ‰ä¸€æ¬¡æ‹†åŒ…åŠ¨ä½œ<br>å°†ä¸€ä¸ªObservableåºåˆ—è½¬æ¢ä¸ºå¦ä¸€ä¸ªObservableåºåˆ—ï¼Œå¹¶ä¸”åˆå¹¶ä¸¤ä¸ªObservableåºåˆ—ã€‚ä¼šæŒ‰æ—¶é—´é¡ºåºæ¥æ”¶ä¸¤ä¸ªåºåˆ—å‘å‡ºçš„å…ƒç´ </p></blockquote><p><img src="" alt="flatMap"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   sttuct <span class="type">Player</span>&#123;</div><div class="line">      <span class="keyword">var</span> score: <span class="type">Variable</span>&lt;<span class="type">Int</span>&gt; <span class="comment">//é‡Œé¢æ˜¯ä¸€ä¸ªVariable</span></div><div class="line">   &#125;</div><div class="line">   <span class="keyword">let</span> ğŸ‘¦ğŸ» = <span class="type">Player</span>(score: <span class="type">Variable</span>(<span class="number">80</span>))      </div><div class="line">   <span class="keyword">let</span> ğŸ‘§ğŸ¼ = <span class="type">Player</span>(score: <span class="type">Variable</span>(<span class="number">90</span>))</div><div class="line">   <span class="keyword">let</span> ğŸ˜‚ = <span class="type">Player</span>(score: <span class="type">Variable</span>(<span class="number">550</span>))</div><div class="line">   <span class="keyword">let</span> player = <span class="type">Variable</span>(ğŸ‘¦ğŸ»)  <span class="comment">//å°†playerè½¬ä¸ºVariable</span></div><div class="line">   </div><div class="line">   player.asObservable()       <span class="comment">//æ‹†ç®±è½¬æˆå¯è¢«ç›‘å¬çš„sequence</span></div><div class="line">    .flatMap &#123; $<span class="number">0</span>.score.asObservable() &#125; <span class="comment">// flatMapæœ‰ä¸€æ¬¡æ‹†åŒ…åŠ¨ä½œï¼Œ$0æœ¬æ¥åº”è¯¥æ˜¯ä¸€ä¸ªBehaviorSubjectç±»å‹ï¼Œä½†æ˜¯ç›´æ¥è®¿é—®äº†scoreã€‚æ‰€ä»¥çŒœæƒ³flatMapå¯¹behaviorSubjectè¿›è¡Œäº†onNextæ‹†åŒ…å–æ•°æ®</span></div><div class="line">    .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">    ğŸ‘¦ğŸ».score.value = <span class="number">85</span></div><div class="line">    </div><div class="line">player.value = ğŸ‘§ğŸ¼ <span class="comment">//æ›´æ¢äº†valueï¼Œç›¸å½“äºåˆæ·»åŠ äº†ä¸€ä¸ªsequenceï¼Œä¸¤ä¸ªsequenceéƒ½å¯ä»¥æ¥æ”¶</span></div><div class="line">    </div><div class="line">ğŸ‘¦ğŸ».score.value = <span class="number">95</span></div><div class="line">ğŸ‘¦ğŸ».score.value = <span class="number">222</span></div><div class="line">player.value = ğŸ˜‚</div><div class="line">    </div><div class="line">ğŸ‘§ğŸ¼.score.value = <span class="number">100</span></div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="number">80</span></div><div class="line"><span class="number">85</span></div><div class="line"><span class="number">90</span></div><div class="line"><span class="number">95</span></div><div class="line"><span class="number">222</span></div><div class="line"><span class="number">550</span></div><div class="line"><span class="number">100</span></div></pre></td></tr></table></figure><h2 id="flatMapLatest"><a href="#flatMapLatest" class="headerlink" title="flatMapLatest"></a>flatMapLatest</h2><blockquote><p>flatMapLateståªä¼šæ¥æ”¶æœ€æ–°çš„valueäº‹ä»¶ï¼Œå°†ä¸Šä¾‹æ”¹ä¸ºflatMapLatestã€‚ç»“æœä¸º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="number">80</span></div><div class="line"><span class="number">85</span></div><div class="line"><span class="number">90</span></div><div class="line"><span class="number">550</span></div></pre></td></tr></table></figure><h2 id="scan"><a href="#scan" class="headerlink" title="scan"></a>scan</h2><blockquote><p>scanå°±æ˜¯ç»™ä¸€ä¸ªåˆå§‹åŒ–çš„æ•°ï¼Œç„¶åä¸æ–­çš„æ‹¿å‰ä¸€ä¸ªç»“æœå’Œæœ€æ–°çš„å€¼è¿›è¡Œå¤„ç†æ“ä½œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"> <span class="type">Observable</span>.of(<span class="number">10</span>,<span class="number">100</span>,<span class="number">1000</span>)</div><div class="line">           .scan(<span class="number">1</span>)&#123;aggregateValue, newValue <span class="keyword">in</span></div><div class="line">      aggregateValue + newValue&#125;</div><div class="line">           .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">           .addDisposableTo(disposeBag)</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="number">11</span></div><div class="line"><span class="number">111</span></div><div class="line"><span class="number">1111</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-Combination Operators-è”åˆæ“ä½œObservableæµ</title>
      <link href="/2017/12/19/RxSwift/Grammar/Operators-%E8%81%94%E5%90%88%E6%93%8D%E4%BD%9CObservable%E6%B5%81/"/>
      <content type="html"><![CDATA[<h1 id="è”åˆæ“ä½œObservableæµ"><a href="#è”åˆæ“ä½œObservableæµ" class="headerlink" title="è”åˆæ“ä½œObservableæµ"></a>è”åˆæ“ä½œObservableæµ</h1><blockquote><p>è”åˆæ“ä½œå°±æ˜¯æŠŠå¤šä¸ªObservableæµåˆæˆå•ä¸ªObservableæµ</p></blockquote><ul><li>â‘ startWith</li><li>â‘¡merge</li><li>â‘¢zip</li><li>â‘£combineLatest</li><li>â‘¤switchLatest</li></ul><h2 id="â‘ startWith"><a href="#â‘ startWith" class="headerlink" title="â‘ startWith"></a>â‘ startWith</h2><blockquote><p>åœ¨å‘å‡ºäº‹ä»¶æ¶ˆæ¯ä¹‹å‰ï¼Œå…ˆå‘å‡ºæŸä¸ªç‰¹å®šçš„äº‹ä»¶æ¶ˆæ¯ã€‚æ¯”å¦‚å‘å‡ºäº‹ä»¶2 ï¼Œ3ç„¶åæˆ‘startWith(1)ï¼Œé‚£ä¹ˆå°±ä¼šå…ˆå‘å‡º1ï¼Œç„¶å2 ï¼Œ3</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/startWith.png" alt="startWith"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"> <span class="type">Observable</span>.of(<span class="string">"2"</span>,<span class="string">"3"</span>)</div><div class="line">           .startWith(<span class="string">"1"</span>)</div><div class="line">           .subscribe(onNext:&#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">           .addDisposableTo(disposeBag)</div><div class="line">           </div><div class="line">  </div><div class="line"><span class="comment">//</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure><blockquote><p>åœ¨Observableé‡Šæ”¾å…ƒç´ ä¹‹å‰ï¼Œå‘å°„æŒ‡å®šçš„å…ƒç´ åºåˆ—<br>åœ¨å‘é€ä¸€ä¸ªä¸œè¥¿ä¹‹å‰ï¼Œæˆ‘å…ˆå‘é€ä¸€ä¸ªæŒ‡å®šçš„ä¸œè¥¿</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">let disposeBag = DisposeBag()</div><div class="line">  Observable.of([&quot;C&quot;,&quot;C++&quot;,&quot;OC&quot;]).startWith([&quot;æŒ‡å®šå†…å®¹&quot;]).subscribe(&#123; (event) in</div><div class="line">       print(event)</div><div class="line">   &#125;).disposed(by: disposeBag)</div><div class="line">  //æ‰“å°ç»“æœ</div><div class="line">   next([&quot;å…ˆåƒé¥±é¥­å†å­¦ä¹ &quot;])</div><div class="line">   next([&quot;C&quot;, &quot;C++&quot;, &quot;OC&quot;])</div><div class="line">   completed</div></pre></td></tr></table></figure><h2 id="â‘¡merge"><a href="#â‘¡merge" class="headerlink" title="â‘¡merge"></a>â‘¡merge</h2><blockquote><p>å°†å¤šä¸ªObservableç»„åˆæˆå•ä¸ªObservable,å¹¶ä¸”æŒ‰ç…§æ—¶é—´é¡ºåºå‘å°„å¯¹åº”äº‹ä»¶</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/merge.png" alt="merge"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">let</span> sbj1 = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> sbj2 = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"></div><div class="line"><span class="type">Observable</span>.of(sbj1,sbj2)</div><div class="line">          .merge()</div><div class="line">          .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">          .addDisposableTo(disposeBag)</div><div class="line">subject1.onNext(<span class="string">"ğŸ…°ï¸"</span>)</div><div class="line">subject1.onNext(<span class="string">"ğŸ…±ï¸"</span>)</div><div class="line">subject2.onNext(<span class="string">"â‘ "</span>)</div><div class="line">subject2.onNext(<span class="string">"â‘¡"</span>)</div><div class="line">subject1.onNext(<span class="string">"ğŸ†"</span>)</div><div class="line">subject2.onNext(<span class="string">"â‘¢"</span>)</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line">ğŸ…°ï¸</div><div class="line">ğŸ…±ï¸</div><div class="line">â‘ </div><div class="line">â‘¡</div><div class="line">ğŸ†</div><div class="line">â‘¢</div></pre></td></tr></table></figure><h2 id="â‘¢zip"><a href="#â‘¢zip" class="headerlink" title="â‘¢zip"></a>â‘¢zip</h2><blockquote><p>ç»‘å®šè¶…è¿‡æœ€å¤šä¸è¶…è¿‡8ä¸ªçš„Observableæµï¼Œç»“åˆåœ¨ä¸€èµ·å¤„ç†<br>æ³¨æ„Zipæ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹åº”å¦ä¸€ä¸ªæµä¸€ä¸ªäº‹ä»¶<br>å°†å¤šä¸ªObservable(æ³¨æ„ï¼šå¿…é¡»æ˜¯è¦æˆå¯¹)ç»„åˆæˆå•ä¸ªObservableï¼Œå½“æœ‰äº‹ä»¶åˆ°è¾¾æ—¶ï¼Œä¼šåœ¨æ¯ä¸ªåºåˆ—ä¸­å¯¹åº”çš„ç´¢å¼•ä¸Šå¯¹åº”çš„å…ƒç´ å‘å‡ºã€‚(ps:ä¹‹å‰ç‰ˆæœ¬çš„RxSwiftå¥½åƒæœ€å¤šåªèƒ½ç»„åˆ8ä¸ªObservable)</p></blockquote><p><img src="" alt="zip"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"></div><div class="line"><span class="keyword">let</span> strSbj = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> intSbj = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"><span class="type">Observable</span>.<span class="built_in">zip</span>(strSbj, intSbj)&#123;</div><div class="line">  strElement,intElement  <span class="keyword">in</span> </div><div class="line">   <span class="string">"\(strElement) \(intElement)"</span></div><div class="line">&#125;.subscribe(<span class="type">OnNext</span>: &#123;pint($<span class="number">0</span>)&#125;)</div><div class="line"> .addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">strSbj.onNext(<span class="string">"ğŸ…°ï¸"</span>)</div><div class="line">strSbj.onNext(<span class="string">"ğŸ…±ï¸"</span>)</div><div class="line"></div><div class="line">intSbj.onNext(<span class="number">1</span>)</div><div class="line">intSbj.onNext(<span class="number">2</span>)</div><div class="line"></div><div class="line">strSbj.onNext(<span class="string">"ğŸ†"</span>)</div><div class="line">intSbj.onNext(<span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line">ğŸ…°ï¸ <span class="number">1</span>   å°†stringSubjectå’ŒintSubjectå‹ç¼©åˆ°ä¸€èµ·å…±åŒå¤„ç†</div><div class="line">ğŸ…±ï¸ <span class="number">2</span></div><div class="line">ğŸ† <span class="number">3</span></div></pre></td></tr></table></figure><h2 id="â‘£combineLatest"><a href="#â‘£combineLatest" class="headerlink" title="â‘£combineLatest"></a>â‘£combineLatest</h2><blockquote><p>ç»‘å®šè¶…è¿‡æœ€å¤šä¸è¶…è¿‡8ä¸ªçš„Observableæµï¼Œç»“åˆåœ¨ä¸€èµ·å¤„ç†<br>å’ŒZipä¸åŒçš„æ˜¯combineLatestæ˜¯ä¸€ä¸ªæµçš„äº‹ä»¶å¯¹åº”å¦ä¸€ä¸ªæµçš„æœ€æ–°çš„äº‹ä»¶ï¼Œä¸¤ä¸ªäº‹ä»¶éƒ½ä¼šæ˜¯æœ€æ–°çš„äº‹ä»¶ï¼Œå¯å°†ä¸‹å›¾ä¸Zipçš„å›¾è¿›è¡Œå¯¹æ¯”<br>é‚»è¿‘äº‹ä»¶ä¸€èµ·å¤„ç†</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/combineLatest.png" alt="combineLatest"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">let</span> strSbj = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> intSbj = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"></div><div class="line"><span class="type">Observable</span>.combineLatest(strSbj, intSbj)&#123; strElement,intElement <span class="keyword">in</span></div><div class="line">    <span class="string">"\(strElement) \(intElement)"</span></div><div class="line">&#125;</div><div class="line">.addscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;)</div><div class="line">.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">strSbj.onNext(<span class="string">"ğŸ…°ï¸"</span>)</div><div class="line">strSbj.onNext(<span class="string">"ğŸ…±ï¸"</span>)</div><div class="line">intSbj.onNext(<span class="number">1</span>)</div><div class="line">intSbj.onNext(<span class="number">2</span>)</div><div class="line">strSbj.onNext(<span class="string">"ğŸ†"</span>)</div><div class="line"><span class="comment">// ????</span></div><div class="line">ğŸ…±ï¸ <span class="number">1</span></div><div class="line">ğŸ…±ï¸ <span class="number">2</span></div><div class="line">ğŸ† <span class="number">2</span></div></pre></td></tr></table></figure><blockquote><p>å½“ä¸€ä¸ªé¡¹ç›®ç”±ä¸¤ä¸ªObservableså‘å°„æ—¶ï¼Œé€šè¿‡ä¸€ä¸ªæŒ‡å®šçš„åŠŸèƒ½å°†æ¯ä¸ªObservableè§‚å¯Ÿåˆ°çš„æœ€æ–°é¡¹ç›®ç»„åˆèµ·æ¥ï¼Œå¹¶æ ¹æ®è¯¥åŠŸèƒ½çš„ç»“æœå‘å°„äº‹ä»¶</p></blockquote><p><img src="http://ot0mms4k8.bkt.clouddn.com/Combination-Operators-4-2.png" alt=""></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"></div><div class="line"><span class="keyword">let</span> subject1 = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> subject2 = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">    </div><div class="line"><span class="type">Observable</span>.combineLatest(subject1, subject2) &#123; string1,string2 <span class="keyword">in</span></div><div class="line">    <span class="string">"\(string1)--\(string2)"</span></div><div class="line">    &#125;.subscribe(onNext: &#123;<span class="built_in">print</span>($<span class="number">0</span>)&#125;).disposed(by: disposeBag)</div><div class="line">    </div><div class="line">subject1.onNext(<span class="string">"A"</span>)</div><div class="line">    </div><div class="line">subject2.onNext(<span class="string">"1"</span>)</div><div class="line">subject2.onNext(<span class="string">"2"</span>)</div><div class="line">    </div><div class="line">subject1.onNext(<span class="string">"B"</span>)</div><div class="line">subject1.onNext(<span class="string">"C"</span>)</div><div class="line"></div><div class="line">  <span class="comment">//è¾“å‡ºç»“æœ</span></div><div class="line">  <span class="type">A</span>--<span class="number">1</span></div><div class="line">  <span class="type">A</span>--<span class="number">2</span></div><div class="line">  <span class="type">B</span>--<span class="number">2</span></div><div class="line">  <span class="type">C</span>--<span class="number">2</span></div></pre></td></tr></table></figure><h2 id="â‘¤switchLatest"><a href="#â‘¤switchLatest" class="headerlink" title="â‘¤switchLatest"></a>â‘¤switchLatest</h2><blockquote><p>åˆ‡æ¢Observableé˜Ÿåˆ—<br>switchLatestå¯ä»¥å¯¹äº‹ä»¶æµè¿›è¡Œè½¬æ¢ï¼Œæœ¬æ¥ç›‘å¬çš„sbj1ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹variableé‡Œé¢çš„valueæ›´æ¢äº‹ä»¶æºâ€”&gt;å˜æˆç›‘å¬sbj2</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/switchLatest.png" alt="switchLatest"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">  </div><div class="line">  <span class="keyword">let</span> sbj1 = <span class="type">BehaviorSubject</span>(value: <span class="string">"âš½ï¸"</span>)</div><div class="line">  <span class="keyword">let</span> sbj2 = <span class="type">BehaviorSubject</span>(value: <span class="string">"ğŸ"</span>)</div><div class="line">  </div><div class="line">  <span class="keyword">let</span> variable = <span class="type">Variable</span>(sbj1)</div><div class="line">  variable.asObservable()</div><div class="line">   .switchLatest()</div><div class="line">   .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">   .addDisposableTo(disposeBag)</div><div class="line">   </div><div class="line">sbj1.onNext(<span class="string">"ğŸˆ"</span>)</div><div class="line">sbj1.onNext(<span class="string">"ğŸ€"</span>)</div><div class="line">    </div><div class="line">variable.value = sbj1</div><div class="line">    </div><div class="line">subject1.onNext(<span class="string">"âš¾ï¸"</span>)</div><div class="line">    </div><div class="line">sbj2.onNext(<span class="string">"ğŸ"</span>)</div><div class="line">variable.value = sbj1</div><div class="line">sbj2.onNext(<span class="string">"54321"</span>)</div><div class="line">sbj1.onNext(<span class="string">"12345"</span>)</div><div class="line">  <span class="comment">///</span></div><div class="line">  âš½ï¸</div><div class="line">ğŸˆ</div><div class="line">ğŸ€</div><div class="line">ğŸ</div><div class="line">ğŸ</div><div class="line">âš¾ï¸</div><div class="line"><span class="number">12345</span></div></pre></td></tr></table></figure><blockquote><p>ä¾‹å­åˆ†æ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> et disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line"><span class="keyword">let</span> subject1 = <span class="type">BehaviorSubject</span>(value: <span class="string">"1"</span>)</div><div class="line"><span class="keyword">let</span> subject2 = <span class="type">BehaviorSubject</span>(value: <span class="string">"A"</span>)</div><div class="line">    </div><div class="line"><span class="keyword">let</span> variable = <span class="type">Variable</span>(subject1)</div><div class="line">    </div><div class="line">variable.asObservable()</div><div class="line">        .switchLatest()</div><div class="line">        .subscribe(onNext: &#123; <span class="built_in">print</span>($<span class="number">0</span>) &#125;)</div><div class="line">        .disposed(by: disposeBag)</div><div class="line">    </div><div class="line">subject1.onNext(<span class="string">"2"</span>)</div><div class="line">subject1.onNext(<span class="string">"3"</span>)</div><div class="line">    </div><div class="line">variable.value = subject2</div><div class="line">    </div><div class="line">subject1.onNext(<span class="string">"4"</span>)</div><div class="line">subject2.onNext(<span class="string">"B"</span>)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="type">A</span></div><div class="line"><span class="type">B</span></div></pre></td></tr></table></figure><p><img src="http://ot0mms4k8.bkt.clouddn.com/switchLatest-002.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-è¿›é˜¶ç†è§£</title>
      <link href="/2017/12/18/RxSwift/Grammar/%E8%BF%9B%E9%98%B6%E7%90%86%E8%A7%A3/"/>
      <content type="html"><![CDATA[<h1 id="Disposing"><a href="#Disposing" class="headerlink" title="Disposing"></a>Disposing</h1><p>   å½“ç›‘å¬ä¸€ä¸ªäº‹ä»¶åºåˆ—çš„æ—¶å€™ï¼Œæœ‰æ¶ˆæ¯äº‹ä»¶æ¥äº†ï¼Œæˆ‘ä»¬åšæŸäº›äº‹æƒ…<br>   ä½†æ˜¯è¿™ä¸ªäº‹ä»¶åºåˆ—ä¸å†å‘å‡ºæ¶ˆæ¯äº†ï¼Œæˆ‘ä»¬çš„ç›‘å¬ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆå­˜åœ¨ä»·å€¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡Šæ”¾æˆ‘ä»¬è¿™äº›ç›‘å¬èµ„æºï¼Œå…¶å®ä¹Ÿå°±æ˜¯æ¯ç§ç¼–ç¨‹è¯­è¨€ä¸­çš„å†…å­˜èµ„æºé‡Šæ”¾<br>   OCå’ŒSwiftä¸­ä¹Ÿä¸€æ ·ï¼Œåœ¨ä½ ä¸éœ€è¦ç”¨æŸäº›å˜é‡çš„æ—¶å€™ï¼Œä½ éœ€è¦æŠŠè¿™äº›å˜é‡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´é‡Šæ”¾æ‰</p><blockquote><p>é‡Šæ”¾æŸä¸€ä¸ªç›‘å¬çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è°ƒç”¨é‡Šæ”¾æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªè²Œä¼¼ä¸€èˆ¬ä¸å¸¸ç”¨ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// å…³äºschedulerï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹é¢è®²åˆ°</span></div><div class="line"><span class="keyword">let</span> subscription = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">0.3</span>, scheduler: <span class="type">SerialDispatchQueueScheduler</span>.<span class="keyword">init</span>(internalSerialQueueName: <span class="string">"test"</span>))</div><div class="line">    .observeOn(<span class="type">MainScheduler</span>.instance)<span class="comment">//observeOnä¹Ÿä¼šåœ¨ä¸‹é¢è®²åˆ°</span></div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="type">Thread</span>.sleep(forTimeInterval: <span class="number">2.0</span>)</div><div class="line">    </div><div class="line">subscription.dispose()</div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line">next(<span class="number">0</span>)</div><div class="line">next(<span class="number">1</span>)</div><div class="line">next(<span class="number">2</span>)</div><div class="line">next(<span class="number">3</span>)</div><div class="line">next(<span class="number">4</span>)</div><div class="line">next(<span class="number">5</span>)</div></pre></td></tr></table></figure><p>æ¯”å¦‚ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªsubscriptionç›‘å¬ï¼Œåœ¨ä¸¤ç§’ä»¥åæˆ‘ä»¬ä¸éœ€è¦äº†ï¼Œæ‰‹åŠ¨è°ƒç”¨dispose()æ–¹æ³•ï¼Œå°±èƒ½é‡Šæ”¾ç›‘å¬èµ„æºï¼Œä¸å†æ‰“å°ä¿¡æ¯ã€‚ä¸Šé¢çš„subscriptionä¸ä¼¦æ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ä¸­ç›‘å¬ï¼Œå°±ç®—åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨çš„dispose()æ–¹æ³•ä¸€æ ·ä¼šé”€æ¯èµ„æº</p><h1 id="Dispose-Bag"><a href="#Dispose-Bag" class="headerlink" title="Dispose Bag"></a>Dispose Bag</h1><p>è¿˜æœ‰ä¸€ç§æ˜¯è‡ªåŠ¨çš„æ–¹å¼ï¼Œæ¨èå¤§å®¶ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å°±å¥½åƒiOSä¸­çš„ARCæ–¹å¼ä¼¼å¾—ï¼Œä¼šè‡ªåŠ¨å»é‡Šæ”¾èµ„æº</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">   </div><div class="line"><span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.empty()</div><div class="line">   .subscribe &#123; event <span class="keyword">in</span></div><div class="line">       <span class="built_in">print</span>(event)</div><div class="line">   &#125;</div><div class="line">   .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><p>å¦‚ä¸Šä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªdisposeBagæ¥ç››æ”¾æˆ‘ä»¬éœ€è¦ç®¡ç†çš„èµ„æºï¼Œç„¶åæŠŠæ–°å»ºçš„ç›‘å¬éƒ½æ”¾è¿›å»ï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è¿™äº›èµ„æºã€‚å¦‚æœä½ éœ€è¦ç«‹å³é‡Šæ”¾èµ„æºåªéœ€è¦æ–°å»ºä¸€ä¸ªDisposeBag()ï¼Œé‚£ä¹ˆä¸Šä¸€ä¸ªDisposeBagå°±ä¼šè¢«é”€æ¯</p><h1 id="observeOn-å’ŒsubscribeOn"><a href="#observeOn-å’ŒsubscribeOn" class="headerlink" title="observeOn()å’ŒsubscribeOn()"></a>observeOn()å’ŒsubscribeOn()</h1><p>åŒºåˆ«å…¶å®æˆ‘æ„Ÿè§‰å…¶å®å°±ä¸€å¥è¯ï¼ŒsubscribeOn()è®¾ç½®èµ·ç‚¹åœ¨å“ªä¸ªçº¿ç¨‹ï¼ŒobserveOn()è®¾ç½®äº†åç»­å·¥ä½œåœ¨å“ªä¸ªçº¿ç¨‹</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">someObservable </div><div class="line"> .doOneThing() â‘ </div><div class="line"> .observeOn(<span class="type">MainRouteScheduler</span>.instance) â‘¡</div><div class="line"> .subscribeOn(<span class="type">OtherScheduler</span>.instance) â‘¢</div><div class="line"> .subscribeNext &#123; â‘£</div><div class="line"> ......</div><div class="line"> &#125;</div><div class="line"> .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><p> â‘  æ‰€æœ‰åŠ¨ä½œéƒ½å‘ç”Ÿåœ¨å½“å‰çš„é»˜è®¤çº¿ç¨‹<br> â‘¡ observeOnè½¬æ¢çº¿ç¨‹åˆ°ä¸»çº¿ç¨‹ï¼Œä¸‹é¢æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­<br> â‘¢ subscribeOnè§„å®šåŠ¨ä½œä¸€å¼€å§‹ä¸æ˜¯å‘ç”Ÿåœ¨é»˜è®¤çº¿ç¨‹äº†ï¼Œè€Œæ˜¯åœ¨OtherScheduleräº†<br> â‘£ å¦‚æœæˆ‘ä»¬ä¹‹å‰æ²¡æœ‰è°ƒç”¨observeOnï¼Œé‚£ä¹ˆè¿™è¾¹ä¼šåœ¨OtherSchedulerå‘ç”Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å‰é¢è°ƒç”¨äº†observeOnï¼Œæ‰€ä»¥è¿™ä¸ªåŠ¨ä½œä¼šåœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨</p><ul><li>subscribeOnåªæ˜¯å½±å“äº‹ä»¶é“¾å¼€å§‹é»˜è®¤çš„çº¿ç¨‹ï¼Œè€ŒobserveOnè§„å®šäº†ä¸‹ä¸€æ­¥åŠ¨ä½œå‘ç”Ÿåœ¨å“ªä¸ªçº¿ç¨‹ä¸­</li></ul><h1 id="shareReplay"><a href="#shareReplay" class="headerlink" title="shareReplay"></a>shareReplay</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> testReplay = <span class="type">Observable</span>.just(<span class="string">"ğŸ˜‚"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123;  <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    </div><div class="line">testReplay</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;.addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">testReplay</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">   ğŸ˜‚</div><div class="line">next(())</div><div class="line">completed</div><div class="line">ğŸ˜‚</div><div class="line">next(())</div><div class="line">completed</div></pre></td></tr></table></figure><p>å¤§å®¶å‘ç°æ²¡ï¼Œmapå‡½æ•°æ‰§è¡Œäº†ä¸¤éï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™æˆ‘ä¸éœ€è¦mapå‡½æ•°é‡Œçš„ä¸œè¥¿æ‰§è¡Œä¸¤éï¼Œæ¯”å¦‚mapå‡½æ•°é‡Œé¢å¦‚æœæ‰§è¡Œçš„æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œæˆ‘åªéœ€è¦ä¸€æ¬¡è¯·æ±‚ç»“æœä¾›å¤§å®¶ä½¿ç”¨å°±è¡Œäº†ï¼Œå¤šä½™çš„è¯·æ±‚æ²¡å•¥ç”¨ï¼Œæµªè´¹æ—¶é—´ã€‚æ‰€ä»¥è¿™æ—¶å€™å°±éœ€è¦shareReplay(1)äº†ã€‚è¿™é‡Œé¢çš„æ•°å­—ä¸€èˆ¬éƒ½æ˜¯1ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚ä½ å¯ä»¥æ”¹ä¸º2ï¼Œ3çœ‹çœ‹ç»“æœæœ‰å•¥ä¸åŒå“¦ã€‚</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> testReplay = <span class="type">Observable</span>.just(<span class="string">"ğŸ˜‚"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123;  <span class="built_in">print</span>($<span class="number">0</span>) &#125;</div><div class="line">    .shareReplay(<span class="number">1</span>)</div><div class="line">    </div><div class="line">testReplay</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;.addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">testReplay</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line"><span class="comment">///</span></div><div class="line">  ğŸ˜‚ <span class="comment">//åªæ‰§è¡Œäº†ä¸€æ¬¡</span></div><div class="line">  next(())</div><div class="line">  completed</div><div class="line">  next(())</div><div class="line">  completed</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰operator"><a href="#è‡ªå®šä¹‰operator" class="headerlink" title="è‡ªå®šä¹‰operator"></a>è‡ªå®šä¹‰operator</h1><p>   è‡ªå®šä¹‰æ“ä½œç¬¦å¾ˆç®€å•ï¼Œå®˜æ–¹æ¨èå°½é‡ç”¨æ ‡å‡†çš„æ“ä½œç¬¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„æ“ä½œç¬¦ï¼Œæ–‡æ¡£ä¸Šè¯´æœ‰ä¸¤ç§æ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬åªè¯´ä¸€ä¸‹æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•</p><blockquote><p>è‡ªå®šä¹‰ä¸€ä¸ªmapæ“ä½œç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">extension</span> <span class="title">ObservableType</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">myMap</span>&lt;R&gt;<span class="params">(transform: E -&gt; R)</span></span> -&gt; <span class="type">Observable</span>&lt;<span class="type">R</span>&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">Observable</span>.create &#123; observer <span class="keyword">in</span></div><div class="line">            <span class="keyword">let</span> subscription = <span class="keyword">self</span>.subscribe &#123; e <span class="keyword">in</span></div><div class="line">                    <span class="keyword">switch</span> e &#123;</div><div class="line">                    <span class="keyword">case</span> .next(<span class="keyword">let</span> value):</div><div class="line">                        <span class="keyword">let</span> result = transform(value)</div><div class="line">                        observer.on(.next(result))</div><div class="line">                    <span class="keyword">case</span> .error(<span class="keyword">let</span> error):</div><div class="line">                        observer.on(.error(error))</div><div class="line">                    <span class="keyword">case</span> .completed:</div><div class="line">                        observer.on(.completed)</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            <span class="keyword">return</span> subscription</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå…¶ä¸­é—­åŒ…å‚æ•°æ˜¯Eç±»å‹è¿”å›å€¼æ˜¯Rç±»å‹ï¼Œmapå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªObservableç±»å‹</p></blockquote><h1 id="Driver"><a href="#Driver" class="headerlink" title="Driver"></a>Driver</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> results = query.rx.text</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">    &#125;</div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .bindTo(resultCount.rx.text)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">results</div><div class="line">    .bindTo(resultsTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><ul><li>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯ç›‘å¬åºåˆ—resultsï¼Œå…¶ä¸­flatMapLatestæ€ä¹ˆç”¨æˆ‘ä»¬ä¸‹é¢è®²</li><li>ç„¶åå°†resultsç»‘å®šåˆ°resultCount.rx.textä¸Š</li><li>å°†resultsç»‘å®šåˆ°resultsTableViewä¸Š</li></ul><blockquote><p>ä¸Šé¢ç¨‹åºä¼šæœ‰ä¸‹é¢å‡ ä¸ªå¼‚å¸¸æƒ…å†µ</p></blockquote><ul><li>å¦‚æœä¸Šé¢fetchAutoCompleteItemså‡ºé”™äº†ï¼Œé‚£ä¹ˆä»–ç»‘å®šçš„UIå°†ä¸å†æ”¶åˆ°ä»»ä½•äº‹ä»¶æ¶ˆæ¯</li><li>å¦‚æœä¸Šé¢fetchAutoCompleteItemsæ˜¯åœ¨åå°æŸä¸ªçº¿ç¨‹ä¸­è¿è¡Œçš„ï¼Œé‚£ä¹ˆäº‹ä»¶ç»‘å®šä¹Ÿæ˜¯å‘ç”Ÿåœ¨åå°æŸä¸ªçº¿ç¨‹ï¼Œè¿™æ ·æ›´æ–°UIçš„æ—¶å€™ä¼šé€ æˆcrash</li><li>æœ‰ä¸¤æ¬¡ç»‘å®šfetchAutoCompleteItemsä¼šæ‰§è¡Œä¸¤æ¬¡</li></ul><p>å½“ç„¶é’ˆå¯¹ä¸Šé¢é—®é¢˜æˆ‘ä»¬ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¥å™¨shareReplay(1)ä¿è¯ä¸ä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨observeOn()ä¿è¯åé¢æ‰€æœ‰æ“ä½œåœ¨ä¸»çº¿ç¨‹å®Œæˆ</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> results = query.rx.text</div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">            .observeOn(<span class="type">MainScheduler</span>.instance)</div><div class="line">            .catchErrorJustReturn([])           </div><div class="line">    &#125;</div><div class="line">    .shareReplay(<span class="number">1</span>)                             </div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .bindTo(resultCount.rx.text)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">results</div><div class="line">    .bindTo(resultTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯,ä¹Ÿå¯ä»¥ä½¿ç”¨Driver</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> results = query.rx.text.asDriver()<span class="comment">//è½¬æ¢æˆä¸€ä¸ªDriveråºåˆ—</span></div><div class="line">    .throttle(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">    .flatMapLatest &#123; query <span class="keyword">in</span></div><div class="line">        fetchAutoCompleteItems(query)</div><div class="line">            .asDriver(onErrorJustReturn: [])  <span class="comment">//å½“é‡è§é”™è¯¯éœ€è¦è¿”å›ä»€ä¹ˆ</span></div><div class="line">    &#125;<span class="comment">//ä¸éœ€è¦æ·»åŠ shareReplay(1)</span></div><div class="line">results</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="string">"\($0.count)"</span> &#125;</div><div class="line">    .drive(resultCount.rx.text)<span class="comment">//å’ŒbingTo()åŠŸèƒ½ä¸€æ ·</span></div><div class="line">    .addDisposableTo(disposeBag) </div><div class="line">                                             </div><div class="line">results</div><div class="line">    .drive(resultTableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>)) &#123; (<span class="number">_</span>, result, cell) <span class="keyword">in</span></div><div class="line">        cell.textLabel?.text = <span class="string">"\(result)"</span></div><div class="line">    &#125;</div><div class="line">    .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>driveæ–¹æ³•åªèƒ½åœ¨Driveråºåˆ—ä¸­ä½¿ç”¨ï¼ŒDriveræœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š<br>â‘  Driveråºåˆ—ä¸å…è®¸å‘å‡ºerror<br>â‘¡ Driveråºåˆ—çš„ç›‘å¬åªä¼šåœ¨ä¸»çº¿ç¨‹ä¸­<br>æ‰€ä»¥Driveræ˜¯è½¬ä¸ºUIç»‘å®šé‡èº«æ‰“é€ çš„ä¸œè¥¿ã€‚ä»¥ä¸‹æƒ…å†µä½ å¯ä»¥ä½¿ç”¨Driveræ›¿æ¢BindTo:</p></blockquote><ul><li>ä¸èƒ½å‘å‡ºerror</li><li>åœ¨ä¸»çº¿ç¨‹ä¸­ç›‘å¬</li><li>å…±äº«äº‹ä»¶æµ</li></ul><h1 id="mapå’ŒflatMapä½•æ—¶ä½¿ç”¨"><a href="#mapå’ŒflatMapä½•æ—¶ä½¿ç”¨" class="headerlink" title="mapå’ŒflatMapä½•æ—¶ä½¿ç”¨"></a>mapå’ŒflatMapä½•æ—¶ä½¿ç”¨</h1><p>å®˜æ–¹Demoçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šè¿·æƒ‘ä¸ºå•¥æœ‰çš„åœ°æ–¹ä½¿ç”¨flatMapLatestä¸ºå•¥æœ‰äº›åœ°æ–¹ä½¿ç”¨mapå‘¢ï¼Ÿæ¯”å¦‚ä¸Šé¢é‚£ä¸ªDriveræ‰€ç”¨çš„ä¾‹å­</p><blockquote><p>mapå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªRç±»å‹çš„åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªRç±»å‹çš„åºåˆ—ï¼Œè¿˜æ˜¯åŸæ¥çš„åºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">map</span>&lt;R&gt;<span class="params">(<span class="number">_</span> transform: @escaping <span class="params">(<span class="keyword">Self</span>.E)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">R</span>) -&gt; <span class="type">RxSwift</span>.<span class="type">Observable</span>&lt;<span class="type">R</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>flatMapå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªOç±»å‹çš„åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªO.Eç±»å‹çš„åºåˆ—ï¼Œä¹Ÿå°±æ˜¯æœ‰åŸæ¥åºåˆ—é‡Œå…ƒç´ ç»„æˆçš„æ–°åºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">flatMap</span>&lt;O : ObservableConvertibleType&gt;<span class="params">(<span class="number">_</span> selector: @escaping <span class="params">(<span class="keyword">Self</span>.E)</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">O</span>) -&gt; <span class="type">RxSwift</span>.<span class="type">Observable</span>&lt;<span class="type">O</span>.<span class="type">E</span>&gt;</div></pre></td></tr></table></figure><p>å…¶å®è¿™é‡Œçš„mapå’ŒflatMapåœ¨swiftä¸­çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚mapå‡½æ•°å¯ä»¥å¯¹åŸæœ‰åºåˆ—é‡Œé¢çš„äº‹ä»¶å…ƒç´ è¿›è¡Œæ”¹é€ ï¼Œè¿”å›çš„è¿˜æ˜¯åŸæ¥çš„åºåˆ—ã€‚è€ŒflatMapå¯¹åŸæœ‰åºåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ”¹é€ å’Œå¤„ç†ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è¿”å›ä¸€ä¸ªæ–°çš„sequenceï¼Œç„¶åæŠŠæ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„sequenceåˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„sequenceåºåˆ—</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123; $<span class="number">0</span> + <span class="string">"TTF"</span> &#125;</div><div class="line">    </div><div class="line">test</div><div class="line">    .subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line">    </div><div class="line">1TTF</div><div class="line">2TTF</div><div class="line">3TTF</div><div class="line">4TTF</div><div class="line">5TTF</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨mapå¯¹åºåˆ—ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä½¿ç”¨flatMapéœ€è¦è¿”å›çš„åºåˆ—ã€‚é‚£ä¹ˆä½¿ç”¨mapä¹Ÿè¿”å›ä¸€ä¸ªåºåˆ—çœ‹çœ‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;</div><div class="line">test</div><div class="line">    .subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line"><span class="type">RxSwift</span>.<span class="type">Just</span>&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.<span class="type">Just</span>&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.<span class="type">Just</span>&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.<span class="type">Just</span>&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div><div class="line"><span class="type">RxSwift</span>.<span class="type">Just</span>&lt;<span class="type">Swift</span>.<span class="type">String</span>&gt;</div></pre></td></tr></table></figure><blockquote><p>çœ‹åˆ°ç»“æœä¼šæ‰“å°å‡ºæ¯ä¸€ä¸ªåºåˆ—ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨merge()æ–¹æ³•å°†è¿™å‡ ä¸ªåºåˆ—è¿›è¡Œåˆå¹¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .<span class="built_in">map</span> &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;</div><div class="line">    .merge()</div><div class="line">    </div><div class="line">test</div><div class="line">    .subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line"> <span class="comment">///</span></div><div class="line">  <span class="number">1</span></div><div class="line">  <span class="number">2</span></div><div class="line">  <span class="number">3</span></div><div class="line">  <span class="number">4</span></div><div class="line">  <span class="number">5</span></div></pre></td></tr></table></figure><blockquote><p>åˆå¹¶ä¸ºä¸€ä¸ªæ–°åºåˆ—åæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸æ‰“å°å…ƒç´ äº†ã€‚ä¸‹é¢çœ‹çœ‹ä½¿ç”¨faltMap()å‡½æ•°å¹²è¿™ä»¶äº‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> test = <span class="type">Observable</span>.of(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>)</div><div class="line">    .flatMap &#123; <span class="type">Observable</span>.just($<span class="number">0</span>) &#125;</div><div class="line">    </div><div class="line">test</div><div class="line">    .subscribe(onNext: &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">    </div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">3</span></div><div class="line"><span class="number">4</span></div><div class="line"><span class="number">5</span></div></pre></td></tr></table></figure><blockquote><p>çœ‹ä¸‹å¯¹æ¯”æ˜¯ä¸æ˜¯ä¸€æ ·ï¼Œè¿™æ ·å­å¯¹æ¯”å°±æ¸…æ™°äº†å§</p></blockquote><ul><li>mapå‡½æ•°åªèƒ½è¿”å›åŸæ¥çš„é‚£ä¸€ä¸ªåºåˆ—ï¼Œé‡Œé¢çš„å‚æ•°çš„è¿”å›å€¼è¢«å½“åšåŸæ¥åºåˆ—ä¸­æ‰€å¯¹åº”çš„å…ƒç´ ã€‚</li><li>flatMapå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—ï¼Œå°†åŸæ¥å…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›è¿™äº›å¤„ç†åçš„å…ƒç´ ç»„æˆçš„æ–°åºåˆ—</li><li>mapå‡½æ•° + åˆå¹¶å‡½æ•° = flatMapå‡½æ•°</li></ul><blockquote><p>flatMapå‡½æ•°åœ¨å®é™…åº”ç”¨ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ï¼Œç½‘ç»œè¯·æ±‚å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¯·æ±‚è¿‡ç¨‹è¿›è¡Œç›‘å¬ï¼Œç„¶åå¤„ç†é”™è¯¯ã€‚åªè¦ç»§ç»­ä»–è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">validatedUsername = input.username</div><div class="line">          .flatMapLatest &#123; username <span class="keyword">in</span></div><div class="line">              <span class="keyword">return</span> validationService.validateUsername(username)</div><div class="line">                  .observeOn(<span class="type">MainScheduler</span>.instance)</div><div class="line">                  .catchErrorJustReturn(.failed(message: <span class="string">"Error contacting server"</span>))</div><div class="line">          &#125;</div><div class="line">          .shareReplay(<span class="number">1</span>)</div></pre></td></tr></table></figure><blockquote><p>flatMapLatestå…¶å®å°±æ˜¯flatMapçš„å¦ä¸€ä¸ªæ–¹å¼ï¼Œåªå‘é€æœ€åä¸€ä¸ªåˆè¿›æ¥çš„åºåˆ—äº‹ä»¶ã€‚ä¸Šé¢è®¤è¯usernameæ˜¯ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¿‡ç¨‹è¿›è¡Œå¤„ç†<br>è¿™ä¸ªpasswordä¸éœ€è¦åå°è”ç½‘è®¤è¯ï¼Œåªéœ€è¦è¿”å›passwordç¬¦åˆä¸ç¬¦åˆè¦æ±‚å°±è¡Œäº†ï¼Œè¿˜æ˜¯åŸæ¥çš„åºåˆ—å°±è¡Œäº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">validatedPassword = input.password</div><div class="line">  .<span class="built_in">map</span> &#123; password <span class="keyword">in</span></div><div class="line">      <span class="keyword">return</span> validationService.validatePassword(password)</div><div class="line">  &#125;</div><div class="line">  .shareReplay(<span class="number">1</span>)</div></pre></td></tr></table></figure><blockquote><p>flatMapä¹Ÿè§£å†³äº†å†…åµŒå¤šä¸ªsubscribeçš„é—®é¢˜ï¼Œå®˜æ–¹ä¸å»ºè®®å†…åµŒå¤šä¸ªsubscribeã€‚æ¯”å¦‚ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   textField.rx_text.subscribe(onNext: &#123; text <span class="keyword">in</span></div><div class="line">    performURLRequest(text).subscribe(onNext: &#123; result <span class="keyword">in</span></div><div class="line">        ...</div><div class="line">    &#125;)</div><div class="line">    .addDisposableTo(disposeBag)</div><div class="line">&#125;)</div><div class="line">.addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><blockquote><p>æ”¹å†™ä¸ºflatMap</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.rx_text</div><div class="line"> .flatMapLatest &#123; text <span class="keyword">in</span></div><div class="line">     <span class="keyword">return</span> performURLRequest(text) <span class="comment">//å› ä¸ºflatMapè¿”å›ä¸€ä¸ªæ–°çš„sequence</span></div><div class="line"> &#125;</div><div class="line"> ...</div><div class="line"> .addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå½“æˆ‘ä»¬ç½‘ç»œè¯·æ±‚å¾—åˆ°jsonæ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨flatmapè¿›è¡Œåºåˆ—è½¬æ¢ï¼Œè§£ææˆModelåºåˆ—ï¼Œç„¶åæˆ‘ä»¬è®¢é˜…è¿™ä¸ªå¸¦æœ‰Modelçš„åºåˆ—ï¼Œä»£ç å°±ä¼šå˜å¾—å¾ˆä¼˜é›…</p><h1 id="UIBindingObserver"><a href="#UIBindingObserver" class="headerlink" title="UIBindingObserver"></a>UIBindingObserver</h1><blockquote><p>UIBindingObserverè¿™ä¸ªä¸œè¥¿å¾ˆæœ‰ç”¨çš„ï¼Œåˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ç›‘å¬è€…ï¼Œæœ‰æ—¶å€™RxCocoa(RxSwiftzä¸­å¯¹UIKitçš„ä¸€ä¸ªæ‰©å±•åº“)ç»™çš„æ‰©å±•ä¸å¤Ÿæˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªUITextFieldæœ‰ä¸ªisEnabledå±æ€§ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªisEnabledå˜ä¸ºä¸€ä¸ªobserverï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Reactive</span> <span class="title">where</span> <span class="title">Base</span>: <span class="title">UITextField</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> inputEnabled: <span class="type">UIBindingObserver</span>&lt;<span class="type">Base</span>, <span class="type">Result</span>&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">UIBindingObserver</span>(<span class="type">UIElement</span>: base) &#123; textFiled, result <span class="keyword">in</span></div><div class="line">            textFiled.isEnabled = result.isValid</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>UIBindingObserveræ˜¯ä¸€ä¸ªç±»ï¼Œä»–çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå…ƒç´ æœ¬èº«ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œé—­åŒ…å‚æ•°æ˜¯å…ƒç´ æœ¬èº«ï¼Œè¿˜æœ‰ä»–çš„ä¸€ä¸ªæ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">init</span>(<span class="type">UIElement</span>: <span class="type">UIElementType</span>, binding: @escaping (<span class="type">UIElementType</span>, <span class="type">Value</span>) -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div></pre></td></tr></table></figure><blockquote><p>è‡ªå®šä¹‰äº†ä¸€ä¸ªinputEnabled Observeré‡Œé¢å…³è”çš„UITextFieldçš„isEnabledå±æ€§</p></blockquote>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-ç®€å•åŸºç¡€é¡¹ç›®</title>
      <link href="/2017/12/15/RxSwift/Grammar/%E7%AE%80%E5%8D%95%E5%9F%BA%E7%A1%80%E9%A1%B9%E7%9B%AE/"/>
      <content type="html"><![CDATA[<h1 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">â”œâ”€â”€ <span class="type">Controller</span></div><div class="line">â”‚   â””â”€â”€ <span class="type">LXFViewController</span>.swift     <span class="comment">// ä¸»è§†å›¾æ§åˆ¶å™¨</span></div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ <span class="type">Extension</span></div><div class="line">â”‚   â””â”€â”€ <span class="type">Response</span>+<span class="type">ObjectMapper</span>.swift <span class="comment">// Responseåˆ†ç±»ï¼Œ</span></div><div class="line"><span class="type">Moya</span>è¯·æ±‚å®Œè¿›è¡Œ<span class="type">Json</span>è½¬æ¨¡å‹æˆ–æ¨¡å‹æ•°ç»„</div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ <span class="type">Model</span></div><div class="line">â”‚   â””â”€â”€ <span class="type">LXFModel</span>.swift              <span class="comment">// æ¨¡å‹</span></div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ <span class="type">Protocol</span></div><div class="line">â”‚   â””â”€â”€ <span class="type">LXFViewModelType</span>.swift      <span class="comment">// å®šä¹‰äº†æ¨¡å‹åè®®</span></div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ <span class="type">Tool</span></div><div class="line">â”‚   â”œâ”€â”€ <span class="type">LXFNetworkTool</span>.swift        <span class="comment">// å°è£…Moyaè¯·æ±‚</span></div><div class="line">â”‚   â”‚</div><div class="line">â”‚   â””â”€â”€ <span class="type">LXFProgressHUD</span>.swift        <span class="comment">// å°è£…çš„HUD</span></div><div class="line">â”‚</div><div class="line">â”œâ”€â”€ <span class="type">View</span></div><div class="line">â”‚   â”œâ”€â”€ <span class="type">LXFViewCell</span>.swift           <span class="comment">// è‡ªå®šä¹‰cell</span></div><div class="line">â”‚   â”‚</div><div class="line">â”‚   â””â”€â”€ <span class="type">LXFViewCell</span>.xib             <span class="comment">// cellçš„xibæ–‡ä»¶</span></div><div class="line">â”‚</div><div class="line">â””â”€â”€ <span class="type">ViewModel</span></div><div class="line">    â”‚</div><div class="line">    â””â”€â”€ <span class="type">LXFViewModel</span>.swift          <span class="comment">// è§†å›¾æ¨¡å‹</span></div></pre></td></tr></table></figure><h1 id="Lib"><a href="#Lib" class="headerlink" title="Lib"></a>Lib</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="type">RxSwift</span>         <span class="comment">// æƒ³ç©RxSwiftçš„å¿…å¤‡åº“</span></div><div class="line"><span class="type">RxCocoa</span>         <span class="comment">// å¯¹ UIKit Foundation è¿›è¡Œ Rx åŒ–</span></div><div class="line"><span class="type">NSObject</span>+<span class="type">Rx</span>     <span class="comment">// ä¸ºæˆ‘ä»¬æä¾› rx_disposeBag </span></div><div class="line"><span class="type">Moya</span>/<span class="type">RxSwift</span>    <span class="comment">// ä¸ºRxSwiftä¸“ç”¨æä¾›ï¼Œå¯¹Alamofireè¿›è¡Œå°è£…çš„ä¸€ä¸ªç½‘ç»œè¯·æ±‚åº“</span></div><div class="line"><span class="type">ObjectMapper</span>    <span class="comment">// Jsonè½¬æ¨¡å‹ä¹‹å¿…å¤‡è‰¯å“</span></div><div class="line"><span class="type">RxDataSources</span>   <span class="comment">// å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨tableViewçš„æ•°æ®æºæ–¹æ³•</span></div><div class="line"><span class="type">Then</span>            <span class="comment">// æä¾›å¿«é€Ÿåˆå§‹åŒ–çš„è¯­æ³•ç³–</span></div><div class="line"><span class="type">Kingfisher</span>      <span class="comment">// å›¾ç‰‡åŠ è½½åº“</span></div><div class="line"><span class="type">SnapKit</span>         <span class="comment">// è§†å›¾çº¦æŸåº“</span></div><div class="line"><span class="type">Reusable</span>        <span class="comment">// å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨è‡ªå®šä¹‰cellå’Œview,ä¸å†å‡ºç°Optional</span></div><div class="line"><span class="type">MJRefresh</span>       <span class="comment">// ä¸Šæ‹‰åŠ è½½ã€ä¸‹æ‹‰åˆ·æ–°çš„åº“</span></div><div class="line"><span class="type">SVProgressHUD</span>   <span class="comment">// ç®€å•æ˜“ç”¨çš„HUD</span></div></pre></td></tr></table></figure><h1 id="Moyaçš„ä½¿ç”¨"><a href="#Moyaçš„ä½¿ç”¨" class="headerlink" title="Moyaçš„ä½¿ç”¨"></a>Moyaçš„ä½¿ç”¨</h1><ul><li>Moyaæ˜¯åŸºäºAlamofireçš„ç½‘ç»œè¯·æ±‚åº“</li><li>ä½¿ç”¨äº†Moya/Swiftï¼Œå®ƒåœ¨Moyaçš„åŸºç¡€ä¸Šæ·»åŠ äº†å¯¹RxSwiftçš„æ¥å£æ”¯æŒã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯´ä¸‹Moyaçš„ä½¿ç”¨</li></ul><blockquote><p>åˆ›å»ºä¸€ä¸ªæšä¸¾ï¼Œç”¨æ¥å­˜æ”¾è¯·æ±‚ç±»å‹ï¼Œè¿™é‡Œæˆ‘é¡ºä¾¿è®¾ç½®ç›¸åº”çš„è·¯å¾„ï¼Œç­‰ä¸‹ç»Ÿä¸€å–å‡ºæ¥ç›´æ¥èµ‹å€¼å³å¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">enum</span> <span class="title">LXFNetworkTool</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">LXFNetworkCategory</span>: <span class="title">String</span> </span>&#123;</div><div class="line">        <span class="keyword">case</span> all     = <span class="string">"all"</span></div><div class="line">        <span class="keyword">case</span> android = <span class="string">"Android"</span></div><div class="line">        <span class="keyword">case</span> ios     = <span class="string">"iOS"</span></div><div class="line">        <span class="keyword">case</span> welfare = <span class="string">"ç¦åˆ©"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">case</span> data(type: <span class="type">LXFNetworkCategory</span>, size:<span class="type">Int</span>, index:<span class="type">Int</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸ºè¿™ä¸ªæšä¸¾å†™ä¸€ä¸ªæ‰©å±•ï¼Œå¹¶éµå¾ªå¡„ TargetTypeï¼Œè¿™ä¸ªåè®®çš„Moyaè¿™ä¸ªåº“è§„å®šçš„åè®®ï¼Œå¯ä»¥æŒ‰ä½Commondé”®+å•å‡»å·¦é”®è¿›å…¥ç›¸åº”çš„æ–‡ä»¶è¿›è¡ŒæŸ¥çœ‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">extension</span> <span class="title">LXFNetworkTool</span>: <span class="title">TargetType</span> </span>&#123;</div><div class="line">    <span class="comment">/// baseURL ç»Ÿä¸€åŸºæœ¬çš„URL</span></div><div class="line">    <span class="keyword">var</span> baseURL: <span class="type">URL</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">URL</span>(string: <span class="string">"http://gank.io/api/data/"</span>)!</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/// pathå­—æ®µä¼šè¿½åŠ è‡³baseURLåé¢</span></div><div class="line">    <span class="keyword">var</span> path: <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .data(<span class="keyword">let</span> type, <span class="keyword">let</span> size, <span class="keyword">let</span> index):</div><div class="line">            <span class="keyword">return</span> <span class="string">"\(type.rawValue)/\(size)/\(index)"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/// HTTPçš„è¯·æ±‚æ–¹å¼</span></div><div class="line">    <span class="keyword">var</span> method: <span class="type">Moya</span>.<span class="type">Method</span> &#123;</div><div class="line">        <span class="keyword">return</span> .<span class="keyword">get</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/// è¯·æ±‚å‚æ•°(ä¼šåœ¨è¯·æ±‚æ—¶è¿›è¡Œç¼–ç )</span></div><div class="line">    <span class="keyword">var</span> parameters: [<span class="type">String</span>: <span class="type">Any</span>]? &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/// å‚æ•°ç¼–ç æ–¹å¼(è¿™é‡Œä½¿ç”¨URLçš„é»˜è®¤æ–¹å¼)</span></div><div class="line">    <span class="keyword">var</span> parameterEncoding: <span class="type">ParameterEncoding</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">URLEncoding</span>.<span class="keyword">default</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/// è¿™é‡Œç”¨äºå•å…ƒæµ‹è¯•ï¼Œä¸éœ€è¦çš„å°±åƒæˆ‘ä¸€æ ·éšä¾¿å†™å†™</span></div><div class="line">    <span class="keyword">var</span> sampleData: <span class="type">Data</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"LinXunFeng"</span>.data(using: .utf8)!</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/// å°†è¦è¢«æ‰§è¡Œçš„ä»»åŠ¡(è¯·æ±‚ï¼šrequest ä¸‹è½½ï¼šupload ä¸Šä¼ ï¼šdownload)</span></div><div class="line">    <span class="keyword">var</span> task: <span class="type">Task</span> &#123;</div><div class="line">        <span class="keyword">return</span> .request</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/// æ˜¯å¦æ‰§è¡ŒAlamofireéªŒè¯ï¼Œé»˜è®¤å€¼ä¸ºfalse</span></div><div class="line">    <span class="keyword">var</span> validate: <span class="type">Bool</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ç”¨äºæ•´ä¸ªé¡¹ç›®çš„ç½‘ç»œè¯·æ±‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> lxfNetTool = <span class="type">RxMoyaProvider</span>&lt;<span class="type">LXFNetworkTool</span>&gt;()</div></pre></td></tr></table></figure><h1 id="RxDataSources"><a href="#RxDataSources" class="headerlink" title="RxDataSources"></a>RxDataSources</h1><blockquote><p>å¦‚ä½•ä¼˜é›…çš„æ¥å®ç°tableViewçš„æ•°æ®æºã€‚å…¶å®RxDataSourceså®˜ç½‘ä¸Šå·²ç»æœ‰å¾ˆæ˜ç¡®çš„ä½¿ç”¨è¯´æ˜ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯æ€»ç»“ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹å§<br>æ¦‚å¿µç‚¹ :RxDataSourcesæ˜¯ä»¥sectionæ¥åšä¸ºæ•°æ®ç»“æ„æ¥ä¼ è¾“ï¼Œè¿™ç‚¹å¾ˆé‡è¦ï¼Œå¯èƒ½å¾ˆå¤šåŒå­¦ä¼šæ¯”è¾ƒç–‘æƒ‘è¿™å¥è¯å§ï¼Œæˆ‘åœ¨æ­¤ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¼ ç»Ÿçš„æ•°æ®æºå®ç°çš„æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªnumberOfSectionï¼Œæˆ‘ä»¬åœ¨å¾ˆå¤šæƒ…å†µä¸‹åªéœ€è¦ä¸€ä¸ªsectionï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•å¯å®ç°ï¼Œä¹Ÿå¯ä»¥ä¸å®ç°ï¼Œé»˜è®¤è¿”å›çš„å°±æ˜¯1ï¼Œè¿™ç»™æˆ‘ä»¬å¸¦æ¥çš„ä¸€ä¸ªè¿·æƒ‘ç‚¹ï¼šã€tableViewæ˜¯ç”±rowæ¥ç»„æˆçš„ã€‘ï¼Œä¸çŸ¥é“åœ¨åçš„å„ä½ä¸­æœ‰æ²¡æœ‰æ˜¯è¿™ä¹ˆæƒ³çš„å‘¢ï¼Ÿï¼Ÿæœ‰çš„è¯é‚£ä»ä»Šå¤©å¼€å§‹å°±è¦è®¤æ¸…æ¥šè¿™ä¸€ç‚¹ï¼Œã€tableViewå…¶å®æ˜¯ç”±sectionç»„æˆçš„ã€‘ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨RxDataSourcesçš„è¿‡ç¨‹ä¸­ï¼Œå³ä½¿ä½ çš„setionåªæœ‰ä¸€ä¸ªï¼Œé‚£ä½ ä¹Ÿå¾—è¿”å›ä¸€ä¸ªsectionçš„æ•°ç»„å‡ºå»</p></blockquote><h2 id="è‡ªå®šä¹‰Section"><a href="#è‡ªå®šä¹‰Section" class="headerlink" title="è‡ªå®šä¹‰Section"></a>è‡ªå®šä¹‰Section</h2><blockquote><p>åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„Modelä¸­åˆ›å»ºä¸€ä¸ªSectionçš„ç»“æ„ä½“ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ‰©å±•ï¼Œéµå¾ªSectionModelTypeåè®®ï¼Œå®ç°ç›¸åº”çš„åè®®æ–¹æ³•ã€‚çº¦å®šä¿—æˆçš„å†™æ³•å‘¢è¯·å‚è€ƒå¦‚ä¸‹æ–¹å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="type">LXFModel</span>.swift</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">LXFSection</span> </span>&#123;</div><div class="line">    <span class="comment">// itemså°±æ˜¯rows</span></div><div class="line">    <span class="keyword">var</span> items: [<span class="type">Item</span>]</div><div class="line">    <span class="comment">// ä½ ä¹Ÿå¯ä»¥è¿™é‡ŒåŠ ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ headerView çš„ title</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">LXFSection</span>: <span class="title">SectionModelType</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// é‡å®šä¹‰ Item çš„ç±»å‹ä¸º LXFModel</span></div><div class="line">    <span class="keyword">typealias</span> <span class="type">Item</span> = <span class="type">LXFModel</span></div><div class="line"></div><div class="line">    <span class="comment">// å®ç°åè®®ä¸­çš„æ–¹å¼</span></div><div class="line">    <span class="keyword">init</span>(original: <span class="type">LXFSection</span>, items: [<span class="type">LXFSection</span>.<span class="type">Item</span>]) &#123;</div><div class="line">        <span class="keyword">self</span> = original</div><div class="line">        <span class="keyword">self</span>.items = items</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="åœ¨æ§åˆ¶å™¨ä¸‹åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±æ€§"><a href="#åœ¨æ§åˆ¶å™¨ä¸‹åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±æ€§" class="headerlink" title="åœ¨æ§åˆ¶å™¨ä¸‹åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±æ€§"></a>åœ¨æ§åˆ¶å™¨ä¸‹åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±æ€§</h2><blockquote><p>ä»¥ä¸‹ä»£ç å‡åœ¨ LXFViewController.swift æ–‡ä»¶ä¸­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±æ€§ï¼Œç±»å‹ä¸ºè‡ªå®šä¹‰çš„Sectionç±»å‹</span></div><div class="line"><span class="keyword">let</span> dataSource = <span class="type">RxTableViewSectionedReloadDataSource</span>&lt;<span class="type">LXFSection</span>&gt;()</div></pre></td></tr></table></figure><h2 id="ä½¿ç”¨æ•°æ®æºå±æ€§ç»‘å®šæˆ‘ä»¬çš„cell"><a href="#ä½¿ç”¨æ•°æ®æºå±æ€§ç»‘å®šæˆ‘ä»¬çš„cell" class="headerlink" title="ä½¿ç”¨æ•°æ®æºå±æ€§ç»‘å®šæˆ‘ä»¬çš„cell"></a>ä½¿ç”¨æ•°æ®æºå±æ€§ç»‘å®šæˆ‘ä»¬çš„cell</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// ç»‘å®šcell</span></div><div class="line">dataSource.configureCell = &#123; ds, tv, ip, item <span class="keyword">in</span></div><div class="line">    <span class="comment">// è¿™ä¸ªåœ°æ–¹ä½¿ç”¨äº†Reusableè¿™ä¸ªåº“ï¼Œåœ¨LXFViewCellä¸­éµå®ˆäº†ç›¸åº”çš„åè®®</span></div><div class="line">    <span class="comment">// ä½¿å…¶æ–¹ä¾¿è½¬æ¢cellä¸ºéå¯é€‰å‹çš„ç›¸åº”çš„cellç±»å‹</span></div><div class="line">    <span class="keyword">let</span> cell = tv.dequeueReusableCell(<span class="keyword">for</span>: ip) <span class="keyword">as</span> <span class="type">LXFViewCell</span></div><div class="line">    cell.picView.kf.setImage(with: <span class="type">URL</span>(string: item.url))</div><div class="line">    cell.descLabel.text = <span class="string">"æè¿°: \(item.desc)"</span></div><div class="line">    cell.sourceLabel.text = <span class="string">"æ¥æº: \(item.source)"</span></div><div class="line">    <span class="keyword">return</span> cell</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å°†sectionsåºåˆ—ç»‘å®šç»™æˆ‘ä»¬çš„rows"><a href="#å°†sectionsåºåˆ—ç»‘å®šç»™æˆ‘ä»¬çš„rows" class="headerlink" title="å°†sectionsåºåˆ—ç»‘å®šç»™æˆ‘ä»¬çš„rows"></a>å°†sectionsåºåˆ—ç»‘å®šç»™æˆ‘ä»¬çš„rows</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">output.sections.asDriver().drive(tableView.rx.items(dataSource:dataSource)).addDisposableTo(rx_disposeBag)</div></pre></td></tr></table></figure><h1 id="ViewModelçš„è§„èŒƒ"><a href="#ViewModelçš„è§„èŒƒ" class="headerlink" title="ViewModelçš„è§„èŒƒ"></a>ViewModelçš„è§„èŒƒ</h1><blockquote><p>MVVMæ€æƒ³å°±æ˜¯å°†åŸæœ¬åœ¨ViewControllerçš„è§†å›¾æ˜¾ç¤ºé€»è¾‘ã€éªŒè¯é€»è¾‘ã€ç½‘ç»œè¯·æ±‚ç­‰ä»£ç å­˜æ”¾äºViewModelä¸­ï¼Œè®©æˆ‘ä»¬æ‰‹ä¸­çš„ViewControllerç˜¦èº«ã€‚è¿™äº›é€»è¾‘ç”±ViewModelè´Ÿè´£ï¼Œå¤–ç•Œä¸éœ€è¦å…³å¿ƒï¼Œå¤–ç•Œåªéœ€è¦ç»“æœï¼ŒViewModelä¹Ÿåªéœ€è¦å°†ç»“æœç»™åˆ°å¤–ç•Œï¼ŒåŸºäºæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåè®®LXFViewModelType</p></blockquote><h2 id="åˆ›å»ºä¸€ä¸ªLXFViewModelType-swift"><a href="#åˆ›å»ºä¸€ä¸ªLXFViewModelType-swift" class="headerlink" title="åˆ›å»ºä¸€ä¸ªLXFViewModelType.swift"></a>åˆ›å»ºä¸€ä¸ªLXFViewModelType.swift</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="type">LXFViewModelType</span>.swift</div><div class="line"></div><div class="line"><span class="comment">// associatedtype å…³é”®å­— ç”¨æ¥å£°æ˜ä¸€ä¸ªç±»å‹çš„å ä½ç¬¦ä½œä¸ºåè®®å®šä¹‰çš„ä¸€éƒ¨åˆ†</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">LXFViewModelType</span> </span>&#123;</div><div class="line">    associatedtype <span class="type">Input</span></div><div class="line">    associatedtype <span class="type">Output</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">transform</span><span class="params">(input: Input)</span></span> -&gt; <span class="type">Output</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="viewModeléµå®ˆLXFViewModelTypeåè®®"><a href="#viewModeléµå®ˆLXFViewModelTypeåè®®" class="headerlink" title="viewModeléµå®ˆLXFViewModelTypeåè®®"></a>viewModeléµå®ˆLXFViewModelTypeåè®®</h2><ul><li>å¯ä»¥ä¸ºXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«åï¼Œä»¥ç¤ºåŒºåˆ†ï¼Œå¦‚ï¼šä½ è¿™ä¸ªviewModelçš„ç”¨äºè¯·æ±‚é¦–é¡µæ¨¡å—ç›¸å…³è”çš„ï¼Œåˆ™å¯ä»¥å‘½åä¸ºï¼šHomeInput å’Œ HomeOutput</li><li>å¯ä»¥ä¸°å¯Œæˆ‘ä»¬çš„ Input å’Œ Output ã€‚å¯ä»¥çœ‹åˆ°æˆ‘ä¸ºOutputæ·»åŠ äº†ä¸€ä¸ªåºåˆ—ï¼Œç±»å‹ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„LXFSectionæ•°ç»„ï¼Œåœ¨Inputé‡Œé¢æ·»åŠ äº†ä¸€ä¸ªè¯·æ±‚ç±»å‹(å³è¦è¯·æ±‚ä»€ä¹ˆæ•°æ®ï¼Œæ¯”å¦‚é¦–é¡µçš„æ•°æ®)</li><li>é€šè¿‡ transform æ–¹æ³•å°†inputæºå¸¦çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆäº†ä¸€ä¸ªOutput</li></ul><blockquote><p>ä»¥ä¸‹ä»£ç ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œè¿›è¡Œäº†éƒ¨åˆ†åˆ å‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="type">LXFViewModel</span>.swift</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">LXFViewModel</span>: <span class="title">LXFViewModelType</span> </span>&#123;</div><div class="line">   <span class="comment">// å­˜æ”¾ç€è§£æå®Œæˆçš„æ¨¡å‹æ•°ç»„</span></div><div class="line">   <span class="keyword">let</span> models = <span class="type">Variable</span>&lt;[<span class="type">LXFModel</span>]&gt;([])</div><div class="line"></div><div class="line">    <span class="comment">// ä¸ºLXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«å</span></div><div class="line">    <span class="keyword">typealias</span> <span class="type">Input</span> = <span class="type">LXFInput</span></div><div class="line">    <span class="keyword">typealias</span> <span class="type">Output</span> = <span class="type">LXFOutput</span></div><div class="line"></div><div class="line">    <span class="comment">// ä¸°å¯Œæˆ‘ä»¬çš„Inputå’ŒOutput</span></div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LXFInput</span> </span>&#123;</div><div class="line">        <span class="comment">// ç½‘ç»œè¯·æ±‚ç±»å‹</span></div><div class="line">        <span class="keyword">let</span> category: <span class="type">LXFNetworkTool</span>.<span class="type">LXFNetworkCategory</span></div><div class="line"></div><div class="line">        <span class="keyword">init</span>(category: <span class="type">LXFNetworkTool</span>.<span class="type">LXFNetworkCategory</span>) &#123;</div><div class="line">            <span class="keyword">self</span>.category = category</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LXFOutput</span> </span>&#123;</div><div class="line">        <span class="comment">// tableViewçš„sectionsæ•°æ®</span></div><div class="line">        <span class="keyword">let</span> sections: <span class="type">Driver</span>&lt;[<span class="type">LXFSection</span>]&gt;</div><div class="line"></div><div class="line">        <span class="keyword">init</span>(sections: <span class="type">Driver</span>&lt;[<span class="type">LXFSection</span>]&gt;) &#123;</div><div class="line">            <span class="keyword">self</span>.sections = sections</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">transform</span><span class="params">(input: LXFViewModel.LXFInput)</span></span> -&gt; <span class="type">LXFViewModel</span>.<span class="type">LXFOutput</span> &#123;</div><div class="line">        <span class="keyword">let</span> sections = models.asObservable().<span class="built_in">map</span> &#123; (models) -&gt; [<span class="type">LXFSection</span>] <span class="keyword">in</span></div><div class="line">            <span class="comment">// å½“modelsçš„å€¼è¢«æ”¹å˜æ—¶ä¼šè°ƒç”¨ï¼Œè¿™æ˜¯Variableçš„ç‰¹æ€§</span></div><div class="line">            <span class="keyword">return</span> [<span class="type">LXFSection</span>(items: models)] <span class="comment">// è¿”å›sectionæ•°ç»„</span></div><div class="line">        &#125;.asDriver(onErrorJustReturn: [])</div><div class="line"></div><div class="line">        <span class="keyword">let</span> output = <span class="type">LXFOutput</span>(sections: sections)</div><div class="line"></div><div class="line">        <span class="comment">// æ¥ä¸‹æ¥çš„ä»£ç æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œè¯·ç»“åˆé¡¹ç›®æŸ¥çœ‹ï¼Œä¸ç„¶ä¼šä¸æ–¹ä¾¿é˜…è¯»å’Œç†è§£</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åœ¨ViewControllerä¸­åˆå§‹åŒ–æˆ‘ä»¬çš„inputï¼Œé€šè¿‡transformå¾—åˆ°outputï¼Œç„¶åå°†æˆ‘ä»¬outputä¸­çš„sectionsåºåˆ—ç»‘å®štableViewçš„items</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="type">LXFViewController</span>.swift</div><div class="line"></div><div class="line"><span class="comment">// åˆå§‹åŒ–input</span></div><div class="line"><span class="keyword">let</span> vmInput = <span class="type">LXFViewModel</span>.<span class="type">LXFInput</span>(category: .welfare)</div><div class="line"><span class="comment">// é€šè¿‡transformå¾—åˆ°output</span></div><div class="line"><span class="keyword">let</span> vmOutput = viewModel.transform(input: vmInput)</div><div class="line"></div><div class="line">vmOutput.sections.asDriver().drive(tableView.rx.items(dataSource: dataSource)).addDisposableTo(rx_disposeBag)</div></pre></td></tr></table></figure><h1 id="RxSwiftä¸­ä½¿ç”¨MJRefresh"><a href="#RxSwiftä¸­ä½¿ç”¨MJRefresh" class="headerlink" title="RxSwiftä¸­ä½¿ç”¨MJRefresh"></a>RxSwiftä¸­ä½¿ç”¨MJRefresh</h1><h2 id="å®šä¹‰ä¸€ä¸ªæšä¸¾LXFRefreshStatusï¼Œç”¨äºæ ‡å¿—å½“å‰åˆ·æ–°çŠ¶æ€"><a href="#å®šä¹‰ä¸€ä¸ªæšä¸¾LXFRefreshStatusï¼Œç”¨äºæ ‡å¿—å½“å‰åˆ·æ–°çŠ¶æ€" class="headerlink" title="å®šä¹‰ä¸€ä¸ªæšä¸¾LXFRefreshStatusï¼Œç”¨äºæ ‡å¿—å½“å‰åˆ·æ–°çŠ¶æ€"></a>å®šä¹‰ä¸€ä¸ªæšä¸¾LXFRefreshStatusï¼Œç”¨äºæ ‡å¿—å½“å‰åˆ·æ–°çŠ¶æ€</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">enum</span> <span class="title">LXFRefreshStatus</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="keyword">none</span></div><div class="line">    <span class="keyword">case</span> beingHeaderRefresh</div><div class="line">    <span class="keyword">case</span> endHeaderRefresh</div><div class="line">    <span class="keyword">case</span> beingFooterRefresh</div><div class="line">    <span class="keyword">case</span> endFooterRefresh</div><div class="line">    <span class="keyword">case</span> noMoreData</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="åœ¨LXFOutputæ·»åŠ ä¸€ä¸ªrefreshStatusåºåˆ—ï¼Œç±»å‹ä¸ºLXFRefreshStatus"><a href="#åœ¨LXFOutputæ·»åŠ ä¸€ä¸ªrefreshStatusåºåˆ—ï¼Œç±»å‹ä¸ºLXFRefreshStatus" class="headerlink" title="åœ¨LXFOutputæ·»åŠ ä¸€ä¸ªrefreshStatusåºåˆ—ï¼Œç±»å‹ä¸ºLXFRefreshStatus"></a>åœ¨LXFOutputæ·»åŠ ä¸€ä¸ªrefreshStatusåºåˆ—ï¼Œç±»å‹ä¸ºLXFRefreshStatus</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// ç»™å¤–ç•Œè®¢é˜…ï¼Œå‘Šè¯‰å¤–ç•Œçš„tableViewå½“å‰çš„åˆ·æ–°çŠ¶æ€</span></div><div class="line"><span class="keyword">let</span> refreshStatus = <span class="type">Variable</span>&lt;<span class="type">LXFRefreshStatus</span>&gt;(.<span class="keyword">none</span>)</div></pre></td></tr></table></figure><blockquote><p>åœ¨è¿›è¡Œç½‘ç»œè¯·æ±‚å¹¶å¾—åˆ°ç»“æœä¹‹åï¼Œä¿®æ”¹refreshStatusçš„valueä¸ºç›¸åº”çš„LXFRefreshStatusé¡¹</p></blockquote><h2 id="å¤–ç•Œè®¢é˜…outputçš„refreshStatus"><a href="#å¤–ç•Œè®¢é˜…outputçš„refreshStatus" class="headerlink" title="å¤–ç•Œè®¢é˜…outputçš„refreshStatus"></a>å¤–ç•Œè®¢é˜…outputçš„refreshStatus</h2><blockquote><p>å¤–ç•Œè®¢é˜…outputçš„refreshStatusï¼Œå¹¶ä¸”æ ¹æ®æ¥æ”¶åˆ°çš„å€¼è¿›è¡Œç›¸åº”çš„æ“ä½œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   vmOutput.refreshStatus.asObservable().subscribe(onNext: &#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] status <span class="keyword">in</span></div><div class="line">    <span class="keyword">switch</span> status &#123;</div><div class="line">    <span class="keyword">case</span> .beingHeaderRefresh:</div><div class="line">        <span class="keyword">self</span>?.tableView.mj_header.beginRefreshing()</div><div class="line">    <span class="keyword">case</span> .endHeaderRefresh:</div><div class="line">        <span class="keyword">self</span>?.tableView.mj_header.endRefreshing()</div><div class="line">    <span class="keyword">case</span> .beingFooterRefresh:</div><div class="line">        <span class="keyword">self</span>?.tableView.mj_footer.beginRefreshing()</div><div class="line">    <span class="keyword">case</span> .endFooterRefresh:</div><div class="line">        <span class="keyword">self</span>?.tableView.mj_footer.endRefreshing()</div><div class="line">    <span class="keyword">case</span> .noMoreData:</div><div class="line">        <span class="keyword">self</span>?.tableView.mj_footer.endRefreshingWithNoMoreData()</div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        <span class="keyword">break</span></div><div class="line">    &#125;</div><div class="line">&#125;).addDisposableTo(rx_disposeBag)</div></pre></td></tr></table></figure><h2 id="outputæä¾›ä¸€ä¸ªrequestCommondç”¨äºè¯·æ±‚æ•°æ®"><a href="#outputæä¾›ä¸€ä¸ªrequestCommondç”¨äºè¯·æ±‚æ•°æ®" class="headerlink" title="outputæä¾›ä¸€ä¸ªrequestCommondç”¨äºè¯·æ±‚æ•°æ®"></a>outputæä¾›ä¸€ä¸ªrequestCommondç”¨äºè¯·æ±‚æ•°æ®</h2><blockquote><p>PublishSubject çš„ç‰¹ç‚¹ï¼šå³å¯ä»¥ä½œä¸ºObservableï¼Œä¹Ÿå¯ä»¥ä½œä¸ºObserverï¼Œè¯´ç™½äº†å°±æ˜¯å¯ä»¥å‘é€ä¿¡å·ï¼Œä¹Ÿå¯ä»¥è®¢é˜…ä¿¡å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// å¤–ç•Œé€šè¿‡è¯¥å±æ€§å‘Šè¯‰viewModelåŠ è½½æ•°æ®ï¼ˆä¼ å…¥çš„å€¼æ˜¯ä¸ºäº†æ ‡å¿—æ˜¯å¦é‡æ–°åŠ è½½ï¼‰</span></div><div class="line"><span class="keyword">let</span> requestCommond = <span class="type">PublishSubject</span>&lt;<span class="type">Bool</span>&gt;()</div></pre></td></tr></table></figure><blockquote><p>åœ¨transformä¸­ï¼Œæˆ‘ä»¬å¯¹ç”Ÿæˆçš„outputçš„requestCommondè¿›è¡Œè®¢é˜…</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   output.requestCommond.subscribe(onNext: &#123;[<span class="keyword">unowned</span> <span class="keyword">self</span>] isReloadData <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>.index = isReloadData ? <span class="number">1</span> : <span class="keyword">self</span>.index+<span class="number">1</span></div><div class="line">    lxfNetTool.request(.data(type: input.category, size: <span class="number">10</span>, index: <span class="keyword">self</span>.index)).mapArray(<span class="type">LXFModel</span>.<span class="keyword">self</span>).subscribe(&#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (event) <span class="keyword">in</span></div><div class="line">        <span class="keyword">switch</span> event &#123;</div><div class="line">        <span class="keyword">case</span> <span class="keyword">let</span> .next(modelArr):</div><div class="line">            <span class="keyword">self</span>?.models.value = isReloadData ? modelArr : (<span class="keyword">self</span>?.models.value ?? []) + modelArr</div><div class="line">            <span class="type">LXFProgressHUD</span>.showSuccess(<span class="string">"åŠ è½½æˆåŠŸ"</span>)</div><div class="line">        <span class="keyword">case</span> <span class="keyword">let</span> .error(error):</div><div class="line">            <span class="type">LXFProgressHUD</span>.showError(error.localizedDescription)</div><div class="line">        <span class="keyword">case</span> .completed:</div><div class="line">            output.refreshStatus.value = isReloadData ? .endHeaderRefresh : .endFooterRefresh</div><div class="line">        &#125;</div><div class="line">    &#125;).addDisposableTo(<span class="keyword">self</span>.rx_disposeBag)</div><div class="line">&#125;).addDisposableTo(rx_disposeBag)</div></pre></td></tr></table></figure><h2 id="åœ¨ViewControllerä¸­åˆå§‹åŒ–åˆ·æ–°æ§ä»¶"><a href="#åœ¨ViewControllerä¸­åˆå§‹åŒ–åˆ·æ–°æ§ä»¶" class="headerlink" title="åœ¨ViewControllerä¸­åˆå§‹åŒ–åˆ·æ–°æ§ä»¶"></a>åœ¨ViewControllerä¸­åˆå§‹åŒ–åˆ·æ–°æ§ä»¶</h2><blockquote><p>ä¸ºtableViewè®¾ç½®åˆ·æ–°æ§ä»¶ï¼Œå¹¶ä¸”åœ¨åˆ›å»ºåˆ·æ–°æ§ä»¶çš„å›è°ƒä¸­ä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   tableView.mj_header = <span class="type">MJRefreshNormalHeader</span>(refreshingBlock: &#123; </div><div class="line">    vmOutput.requestCommond.onNext(<span class="literal">true</span>)</div><div class="line">&#125;)</div><div class="line">tableView.mj_footer = <span class="type">MJRefreshAutoNormalFooter</span>(refreshingBlock: &#123; </div><div class="line">    vmOutput.requestCommond.onNext(<span class="literal">false</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure><h1 id="æ€»ç»“æµç¨‹"><a href="#æ€»ç»“æµç¨‹" class="headerlink" title="æ€»ç»“æµç¨‹"></a>æ€»ç»“æµç¨‹</h1><ul><li><p>ViewControllerå·²ç»æ‹¿åˆ°outputï¼Œå½“ä¸‹æ‹‰åŠ è½½æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡æ¯ï¼Œå‘Šè¯‰viewModelæˆ‘ä»¬è¦åŠ è½½æ•°æ®</p></li><li><p>viewModelè¯·æ±‚æ•°æ®ï¼Œåœ¨å¤„ç†å®Œjsonè½¬æ¨¡å‹æˆ–æ¨¡å‹æ•°ç»„åä¿®æ”¹modelsï¼Œå½“modelsçš„å€¼è¢«ä¿®æ”¹çš„æ—¶å€™ä¼šå‘ä¿¡å·ç»™sectionsï¼Œsectionsåœ¨ViewControllerå·²ç»ç»‘å®šåˆ°tableViewçš„itemsäº†ï¼Œæ‰€ä»¥æ­¤æ—¶tableViewçš„æ•°æ®ä¼šè¢«æ›´æ–°ã€‚æ¥ç€æˆ‘ä»¬æ ¹æ®è¯·æ±‚ç»“æœï¼Œä¿®æ”¹outputçš„refreshStatuså±æ€§çš„å€¼</p><ul><li>å½“outputçš„refreshStatuså±æ€§çš„å€¼æ”¹å˜åï¼Œä¼šå‘å°„ä¿¡å·ï¼Œç”±äºå¤–ç•Œä¹‹å‰å·²ç»è®¢é˜…äº†outputçš„refreshStatusï¼Œæ­¤æ—¶å°±ä¼šæ ¹æ®refreshStatusçš„æ–°å€¼æ¥å¤„ç†åˆ·æ–°æ§ä»¶çš„çŠ¶æ€</li></ul><p><a href="http://blog.csdn.net/lincsdnnet/article/details/77896404" target="_blank" rel="external">yuan wen</a></p><p><a href="https://github.com/LinXunFeng/RxSwiftDemo" target="_blank" rel="external">demo</a></p></li></ul>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-Grammar- èµ„æ–™</title>
      <link href="/2017/12/15/RxSwift/Grammar/RxSwift-%E8%B5%84%E6%96%99/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/chelongfei/article/details/50969901" target="_blank" rel="external">Driver</a></p><p><a href="http://blog.csdn.net/chelongfei/article/details/75314346" target="_blank" rel="external">RxSwiftåœ¨UITableViewCellæˆ–è€…UICollectionViewCellä¸­ç»‘å®šæ•°æ®é‡åˆ°çš„UIæ··ä¹±çš„é—®é¢˜</a></p><p><a href="https://www.jianshu.com/p/d57ff2b3e0d4" target="_blank" rel="external">ã€RxSwiftç³»åˆ—ã€‘ç”¨RxSwiftå®ç°ä¸€ä¸ªUITableViewï¼ˆä¸€ï¼‰</a></p><p><a href="https://www.jianshu.com/p/e510bc944508" target="_blank" rel="external">MVVMæ¨¡å¼ä»¿å†™æ–—é±¼APPé¦–é¡µ</a></p><p><a href="https://www.jianshu.com/p/431f645cb805" target="_blank" rel="external">RxSwiftè¿›é˜¶ä¸å®æˆ˜</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-UIæ§ä»¶çš„æ‰©å±•</title>
      <link href="/2017/12/15/RxSwift/Grammar/%E5%9F%BA%E6%9C%ACUI%E6%8E%A7%E4%BB%B6%E7%9A%84%E6%89%A9%E5%B1%95/"/>
      <content type="html"><![CDATA[<h1 id="UITextField-UITextView"><a href="#UITextField-UITextView" class="headerlink" title="UITextField / UITextView"></a>UITextField / UITextView</h1><h2 id="ç›‘å¬å¤šä¸ªUITextField"><a href="#ç›‘å¬å¤šä¸ªUITextField" class="headerlink" title="ç›‘å¬å¤šä¸ªUITextField"></a>ç›‘å¬å¤šä¸ªUITextField</h2><blockquote><p>ç›‘å¬ä¸‰ä¸ªUITextFieldéšä¾¿å“ªä¸ªçš„textå˜åŒ–äº†ï¼Œéƒ½ä¼šå¼•èµ·ä»£ç æ‰§è¡Œï¼Œå¹¶ä¸”ç»“æœèµ‹å€¼åˆ°resultçš„text</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> number1: <span class="type">UITextField</span>!</div><div class="line"><span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> number2: <span class="type">UITextField</span>!</div><div class="line"><span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> number3: <span class="type">UITextField</span>!</div><div class="line"></div><div class="line"><span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> result: <span class="type">UILabel</span>!</div><div class="line"></div><div class="line"><span class="keyword">var</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"></div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">super</span>.viewDidLoad()</div><div class="line"></div><div class="line">    <span class="type">Observable</span>.combineLatest(number1.rx.text.orEmpty, number2.rx.text.orEmpty, number3.rx.text.orEmpty) &#123; textValue1, textValue2, textValue3 -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">        <span class="keyword">return</span> (<span class="type">Int</span>(textValue1) ?? <span class="number">0</span>) + (<span class="type">Int</span>(textValue2) ?? <span class="number">0</span>) + (<span class="type">Int</span>(textValue3) ?? <span class="number">0</span>)</div><div class="line">    &#125;</div><div class="line">    .<span class="built_in">map</span> &#123; $<span class="number">0</span>.description &#125;</div><div class="line">    .bindTo(result.rx.text)</div><div class="line">    .disposed(by: disposeBag)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å•ä¸ªUITextFieldå˜åŒ–ç›‘å¬"><a href="#å•ä¸ªUITextFieldå˜åŒ–ç›‘å¬" class="headerlink" title="å•ä¸ªUITextFieldå˜åŒ–ç›‘å¬"></a>å•ä¸ªUITextFieldå˜åŒ–ç›‘å¬</h2><blockquote><p>å®˜æ–¹ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// also test two way binding</span></div><div class="line"><span class="keyword">let</span> textValue = <span class="type">Variable</span>(<span class="string">""</span>)</div><div class="line"><span class="number">_</span> = textField.rx.textInput &lt;-&gt; textValue</div><div class="line"></div><div class="line">textValue.asObservable()</div><div class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] x <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>?.debug(<span class="string">"UITextField text \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div></pre></td></tr></table></figure><blockquote><p>ä¾‹å­ï¼šå•ä¸ªUITextFieldäº‹ä»¶ç›‘å¬</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">usernameTF.rx.controlEvent([.editingDidBegin]) <span class="comment">//çŠ¶æ€å¯ä»¥ç»„åˆ</span></div><div class="line"> .asObservable()</div><div class="line"> .subscribe(onNext: &#123; <span class="number">_</span> <span class="keyword">in</span></div><div class="line">     <span class="built_in">print</span>(<span class="string">"begin edit"</span>)</div><div class="line"> &#125;).disposed(by: disposeBag)</div></pre></td></tr></table></figure><h2 id="UITextFieldé‡åˆ°é”®ç›˜Next-GoæŒ‰é’®æ—¶ï¼Œç„¦ç‚¹çš„åˆ‡æ¢"><a href="#UITextFieldé‡åˆ°é”®ç›˜Next-GoæŒ‰é’®æ—¶ï¼Œç„¦ç‚¹çš„åˆ‡æ¢" class="headerlink" title="UITextFieldé‡åˆ°é”®ç›˜Next/GoæŒ‰é’®æ—¶ï¼Œç„¦ç‚¹çš„åˆ‡æ¢"></a>UITextFieldé‡åˆ°é”®ç›˜Next/GoæŒ‰é’®æ—¶ï¼Œç„¦ç‚¹çš„åˆ‡æ¢</h2><blockquote><p>è¿™é‡Œæœ‰ä¸ªå°å‘ï¼Œå¦‚æœusernameTFå’ŒpasswordTFç”¨äº†Observable.combineLatestç„¶åè®¢é˜…çš„è¯ï¼Œä½ ä¼šå‘ç°ä¸‹é¢çš„delegateä»£ç æ²¡ç”¨äº†ï¼Œåœ¨usernameTFç‚¹å‡»Next/Goä¸èƒ½åˆ‡æ¢åˆ°passwordTFäº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">if</span> textField == usernameTF &#123;</div><div class="line">        passwordTF.becomeFirstResponder()</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        passwordTF.resignFirstResponder()</div><div class="line">        <span class="type">Log</span>(<span class="string">"view become"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç”¨äº‹ä»¶ç›‘å¬å³å¯ï¼Œç›‘å¬return keyç»“æŸç¼–è¾‘çš„äº‹ä»¶(editingDidEndOnExit)ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">/* editingDidEndOnExit: UIControlEvents // 'return key' ending editing */</span></div><div class="line"></div><div class="line">usernameTF.rx.controlEvent(.editingDidEndOnExit).subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (<span class="number">_</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>?.passwordTF.becomeFirstResponder()</div><div class="line">&#125;).disposed(by: disposeBag)</div><div class="line"></div><div class="line">passwordTF.rx.controlEvent(.editingDidEndOnExit).subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (<span class="number">_</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>?.passwordTF.resignFirstResponder()</div><div class="line">&#125;).disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="UITextViewå˜åŒ–ç›‘å¬"><a href="#UITextViewå˜åŒ–ç›‘å¬" class="headerlink" title="UITextViewå˜åŒ–ç›‘å¬"></a>UITextViewå˜åŒ–ç›‘å¬</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   / also test two way binding</div><div class="line"><span class="keyword">let</span> textViewValue = <span class="type">Variable</span>(<span class="string">""</span>)</div><div class="line"><span class="number">_</span> = textView.rx.textInput &lt;-&gt; textViewValue</div><div class="line"></div><div class="line">textViewValue.asObservable()</div><div class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] x <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>?.debug(<span class="string">"UITextView text \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="UIButton-UIBarButtonItem"><a href="#UIButton-UIBarButtonItem" class="headerlink" title="UIButton / UIBarButtonItem"></a>UIButton / UIBarButtonItem</h1><h2 id="ç›‘å¬æŒ‰é’®çš„ç‚¹å‡»ï¼ˆtouchUpInsideï¼‰"><a href="#ç›‘å¬æŒ‰é’®çš„ç‚¹å‡»ï¼ˆtouchUpInsideï¼‰" class="headerlink" title="ç›‘å¬æŒ‰é’®çš„ç‚¹å‡»ï¼ˆtouchUpInsideï¼‰"></a>ç›‘å¬æŒ‰é’®çš„ç‚¹å‡»ï¼ˆtouchUpInsideï¼‰</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> doSomethingOutlet: <span class="type">UIButton</span>!</div><div class="line">    </div><div class="line">doSomethingOutlet.rx.tap</div><div class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span> </div><div class="line">        <span class="keyword">self</span>?.showAlert() <span class="comment">//è¿™é‡ŒselfæŒ‡vc</span></div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div></pre></td></tr></table></figure><blockquote><p>ä¹Ÿå¯ä»¥è¿™æ ·ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">button.rx.tap</div><div class="line">  .bindNext &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span></div><div class="line">      <span class="keyword">self</span>?.openAppPreferences()</div><div class="line">  &#125;</div><div class="line">  .disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="UISegmentedControl-UISwitch"><a href="#UISegmentedControl-UISwitch" class="headerlink" title="UISegmentedControl / UISwitch"></a>UISegmentedControl / UISwitch</h1><blockquote><p>ç›‘å¬çŠ¶æ€åˆ‡æ¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// also test two way binding</span></div><div class="line"><span class="keyword">let</span> segmentedValue = <span class="type">Variable</span>(<span class="number">0</span>)</div><div class="line"><span class="number">_</span> = segmentedControl.rx.value &lt;-&gt; segmentedValue</div><div class="line"></div><div class="line">segmentedValue.asObservable()</div><div class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] x <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>?.debug(<span class="string">"UISegmentedControl value \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div><div class="line">    </div><div class="line">    </div><div class="line"><span class="comment">// also test two way binding</span></div><div class="line"><span class="keyword">let</span> switchValue = <span class="type">Variable</span>(<span class="literal">true</span>)</div><div class="line"><span class="number">_</span> = switcher.rx.value &lt;-&gt; switchValue</div><div class="line"></div><div class="line">switchValue.asObservable()</div><div class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] x <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>?.debug(<span class="string">"UISwitch value \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="UIActivityIndicatorView"><a href="#UIActivityIndicatorView" class="headerlink" title="UIActivityIndicatorView"></a>UIActivityIndicatorView</h1><blockquote><p>çŠ¶æ€æŒ‡ç¤ºå™¨æ ¹æ®UISwitchçš„çŠ¶æ€æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºæ—‹è½¬</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switcher.rx.value</div><div class="line"> .bindTo(activityIndicator.rx.isAnimating)</div><div class="line"> .disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="UISlider"><a href="#UISlider" class="headerlink" title="UISlider"></a>UISlider</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// also test two way binding</span></div><div class="line"><span class="keyword">let</span> sliderValue = <span class="type">Variable</span>&lt;<span class="type">Float</span>&gt;(<span class="number">1.0</span>)</div><div class="line"><span class="number">_</span> = slider.rx.value &lt;-&gt; sliderValue</div><div class="line"></div><div class="line">sliderValue.asObservable()</div><div class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] x <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>?.debug(<span class="string">"UISlider value \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="UIDatePicker"><a href="#UIDatePicker" class="headerlink" title="UIDatePicker"></a>UIDatePicker</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">// also test two way binding</span></div><div class="line"><span class="keyword">let</span> dateValue = <span class="type">Variable</span>(<span class="type">Date</span>(timeIntervalSince1970: <span class="number">0</span>))</div><div class="line"><span class="number">_</span> = datePicker.rx.date &lt;-&gt; dateValue</div><div class="line"></div><div class="line">dateValue.asObservable()</div><div class="line">    .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] x <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>?.debug(<span class="string">"UIDatePicker date \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="UIGestureRecognizer"><a href="#UIGestureRecognizer" class="headerlink" title="UIGestureRecognizer"></a>UIGestureRecognizer</h1><blockquote><p>æ‰‹åŠ¿å›è°ƒï¼Œxæ˜¯UIPanGestureRecognizerå¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   mypan.rx.event</div><div class="line">.subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] x <span class="keyword">in</span></div><div class="line">    <span class="keyword">self</span>?.debug(<span class="string">"UIGestureRecognizer event \(x.state)"</span>)</div><div class="line">    <span class="keyword">let</span> p = x.location(<span class="keyword">in</span>: x.view)</div><div class="line">    <span class="keyword">self</span>?.debug(<span class="string">"pan ges point: \(p)"</span>)</div><div class="line">&#125;)</div><div class="line">.disposed(by: disposeBag)</div></pre></td></tr></table></figure><h1 id="CLLocationManager"><a href="#CLLocationManager" class="headerlink" title="CLLocationManager"></a>CLLocationManager</h1><blockquote><p>è¿˜æœ‰ä¸€å †didxxxæ–¹æ³•ï¼Œè‡ªå·±Commandç‚¹è¿›å»çœ‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  manager.requestWhenInUseAuthorization()</div><div class="line"></div><div class="line">manager.rx.didUpdateLocations</div><div class="line">    .subscribe(onNext: &#123; x <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"rx.didUpdateLocations \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div><div class="line"></div><div class="line"><span class="number">_</span> = manager.rx.didFailWithError</div><div class="line">    .subscribe(onNext: &#123; x <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"rx.didFailWithError \(x)"</span>)</div><div class="line">    &#125;)</div><div class="line">    </div><div class="line">manager.rx.didChangeAuthorizationStatus</div><div class="line">    .subscribe(onNext: &#123; status <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"Authorization status \(status)"</span>)</div><div class="line">    &#125;)</div><div class="line">    .disposed(by: disposeBag)</div><div class="line">    </div><div class="line">manager.startUpdatingLocation()</div></pre></td></tr></table></figure><h1 id="UITableViewçš„æ‰©å±•"><a href="#UITableViewçš„æ‰©å±•" class="headerlink" title="UITableViewçš„æ‰©å±•"></a>UITableViewçš„æ‰©å±•</h1><h2 id="å•ä¸ªsectionçš„æƒ…å†µ"><a href="#å•ä¸ªsectionçš„æƒ…å†µ" class="headerlink" title="å•ä¸ªsectionçš„æƒ…å†µ"></a>å•ä¸ªsectionçš„æƒ…å†µ</h2><blockquote><p>é™¤äº†ä¸‹é¢å‡ ä¸ªæœ€å¸¸ç”¨çš„ï¼Œè¿˜æœ‰itemDeselectedã€itemInsertedã€itemDeletedç­‰ç­‰è¡Œä¸ºå¯ä»¥è®¢é˜…ï¼Œè‡ªå·±Commandç‚¹è¿›å»çœ‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">SimpleTableViewExampleViewController</span> : <span class="title">ViewController</span>, <span class="title">UITableViewDelegate</span> </span>&#123;</div><div class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> tableView: <span class="type">UITableView</span>!</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line"></div><div class="line">        <span class="keyword">let</span> items = <span class="type">Observable</span>.just(</div><div class="line">            (<span class="number">0</span>..&lt;<span class="number">20</span>).<span class="built_in">map</span> &#123; <span class="string">"\($0)"</span> &#125;</div><div class="line">        )</div><div class="line"></div><div class="line">        <span class="comment">//å¤§æ¦‚æ˜¯å¯¹cellForRowAtIndexPathçš„å°è£…</span></div><div class="line">        items</div><div class="line">            .bindTo(tableView.rx.items(cellIdentifier: <span class="string">"Cell"</span>, cellType: <span class="type">UITableViewCell</span>.<span class="keyword">self</span>)) &#123;</div><div class="line">                (row, element, cell) <span class="keyword">in</span></div><div class="line">                <span class="comment">//element æ˜¯ items[row]å…ƒç´ </span></div><div class="line">                cell.textLabel?.text = <span class="string">"\(element) @ row \(row)"</span></div><div class="line">            &#125;</div><div class="line">            .disposed(by: disposeBag)</div><div class="line"></div><div class="line">        </div><div class="line">        <span class="comment">//ç‚¹å‡»æŸä¸ªcellè§¦å‘, value æ˜¯ items[row]ï¼Œç±»ä¼¼çš„æ˜¯tableView.rx.itemSelectedï¼Œéƒ½æ˜¯å¯¹didSelectRowAtIndexPathçš„å°è£…</span></div><div class="line">        tableView.rx</div><div class="line">            .modelSelected(<span class="type">String</span>.<span class="keyword">self</span>)</div><div class="line">            .subscribe(onNext:  &#123; value <span class="keyword">in</span></div><div class="line">                <span class="type">DefaultWireframe</span>.presentAlert(<span class="string">"Tapped `\(value)`"</span>)</div><div class="line">            &#125;)</div><div class="line">            .disposed(by: disposeBag)</div><div class="line"></div><div class="line">        <span class="comment">//accessoryButtonTappedForRowWithIndexPath</span></div><div class="line">        tableView.rx</div><div class="line">            .itemAccessoryButtonTapped</div><div class="line">            .subscribe(onNext: &#123; indexPath <span class="keyword">in</span></div><div class="line">                <span class="type">DefaultWireframe</span>.presentAlert(<span class="string">"Tapped Detail @ \(indexPath.section),\(indexPath.row)"</span>)</div><div class="line">            &#125;)</div><div class="line">            .disposed(by: disposeBag)</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å¤šsectionçš„æƒ…å†µ"><a href="#å¤šsectionçš„æƒ…å†µ" class="headerlink" title="å¤šsectionçš„æƒ…å†µ"></a>å¤šsectionçš„æƒ…å†µ</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">class</span> <span class="title">SimpleTableViewExampleSectionedViewController</span> : <span class="title">ViewController</span>, <span class="title">UITableViewDelegate</span> </span>&#123;</div><div class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> tableView: <span class="type">UITableView</span>!</div><div class="line"></div><div class="line">    <span class="keyword">let</span> dataSource = <span class="type">RxTableViewSectionedReloadDataSource</span>&lt;<span class="type">SectionModel</span>&lt;<span class="type">String</span>, <span class="type">Double</span>&gt;&gt;()</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line"></div><div class="line">        <span class="keyword">let</span> dataSource = <span class="keyword">self</span>.dataSource</div><div class="line"></div><div class="line">        <span class="keyword">let</span> items = <span class="type">Observable</span>.just([</div><div class="line">            <span class="type">SectionModel</span>(model: <span class="string">"First section"</span>, items: [</div><div class="line">                    <span class="number">11.0</span>,</div><div class="line">                    <span class="number">12.0</span>,</div><div class="line">                    <span class="number">13.0</span></div><div class="line">                ]),</div><div class="line">            <span class="type">SectionModel</span>(model: <span class="string">"Second section"</span>, items: [</div><div class="line">                    <span class="number">21.0</span>,</div><div class="line">                    <span class="number">22.0</span>,</div><div class="line">                    <span class="number">23.0</span></div><div class="line">                ]),</div><div class="line">            <span class="type">SectionModel</span>(model: <span class="string">"Third section"</span>, items: [</div><div class="line">                    <span class="number">31.0</span>,</div><div class="line">                    <span class="number">32.0</span>,</div><div class="line">                    <span class="number">33.0</span></div><div class="line">                ]),</div><div class="line">            ])</div><div class="line"></div><div class="line">        dataSource.configureCell = &#123; (<span class="number">_</span>, tv, indexPath, element) <span class="keyword">in</span></div><div class="line">            <span class="keyword">let</span> cell = tv.dequeueReusableCell(withIdentifier: <span class="string">"Cell"</span>)!</div><div class="line">            cell.textLabel?.text = <span class="string">"\(element) @ row \(indexPath.row)"</span></div><div class="line">            <span class="keyword">return</span> cell</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        items</div><div class="line">            .bindTo(tableView.rx.items(dataSource: dataSource))</div><div class="line">            .disposed(by: disposeBag)</div><div class="line"></div><div class="line">        tableView.rx</div><div class="line">            .itemSelected</div><div class="line">            .<span class="built_in">map</span> &#123; indexPath <span class="keyword">in</span></div><div class="line">                <span class="keyword">return</span> (indexPath, dataSource[indexPath])</div><div class="line">            &#125;</div><div class="line">            .subscribe(onNext: &#123; indexPath, model <span class="keyword">in</span></div><div class="line">                <span class="type">DefaultWireframe</span>.presentAlert(<span class="string">"Tapped `\(model)` @ \(indexPath)"</span>)</div><div class="line">            &#125;)</div><div class="line">            .disposed(by: disposeBag)</div><div class="line"></div><div class="line">        tableView.rx</div><div class="line">            .setDelegate(<span class="keyword">self</span>)</div><div class="line">            .disposed(by: disposeBag)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, viewForHeaderInSection section: Int)</span></span> -&gt; <span class="type">UIView</span>? &#123;</div><div class="line">        <span class="keyword">let</span> label = <span class="type">UILabel</span>(frame: <span class="type">CGRect</span>.zero)</div><div class="line">        label.text = dataSource[section].model</div><div class="line">        <span class="keyword">return</span> label</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">30</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// to prevent swipe to delete behavior</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, editingStyleForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCellEditingStyle</span> &#123;</div><div class="line">        <span class="keyword">return</span> .<span class="keyword">none</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><a href="https://www.darkhandz.com/2017/02/06/%E5%AD%A6%E4%B9%A0RxSwift%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%94%A8%E6%B3%95/" target="_blank" rel="external">åŸæ–‡</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-Subject</title>
      <link href="/2017/12/15/RxSwift/Grammar/Subject/"/>
      <content type="html"><![CDATA[<h1 id="Subject"><a href="#Subject" class="headerlink" title="Subject"></a>Subject</h1><blockquote><p>Subjectæ˜¯observableå’ŒObserverä¹‹é—´çš„æ¡¥æ¢<br>ä¸€ä¸ªSubjectæ—¢æ˜¯ä¸€ä¸ªObserableä¹Ÿæ˜¯ä¸€ä¸ªObserver<br>æ—¢å¯ä»¥å‘å‡ºäº‹ä»¶ï¼Œä¹Ÿå¯ä»¥ç›‘å¬äº‹ä»¶<br>Subjectæ˜¯ä¸€ä¸ªä»£ç†ï¼Œå®ƒæ—¢æ˜¯Observerï¼Œä¹Ÿæ˜¯Observableã€‚å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªObserverï¼Œå®ƒå¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªObservable;å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªObservableï¼Œå®ƒåˆå¯ä»¥è¢«å…¶ä»–çš„Observerè®¢é˜…<br>å¯ä»¥ä¼ é€’/è½¬å‘ä½œä¸ºObserveræ”¶åˆ°çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä¸»åŠ¨å‘å°„å€¼ã€‚</p></blockquote><ul><li>ä½œä¸ºä¸€ä¸ª Observer ï¼Œå®ƒå¯ä»¥è®¢é˜…åºåˆ—</li><li>åŒæ—¶ä½œä¸ºä¸€ä¸ª Observable ï¼Œå®ƒå¯ä»¥è½¬å‘æˆ–è€…å‘å°„æ•°æ®</li></ul><h1 id="Subject-æœ‰ä»¥ä¸‹å‡ ç§"><a href="#Subject-æœ‰ä»¥ä¸‹å‡ ç§" class="headerlink" title="Subject æœ‰ä»¥ä¸‹å‡ ç§"></a>Subject æœ‰ä»¥ä¸‹å‡ ç§</h1><ul><li>â‘ PublishSubject åªå‘å°„ç»™è§‚å¯Ÿè€…è®¢é˜…åçš„æ•°æ®</li><li>â‘¡ReplaySubject</li><li>â‘¢BehaviorSubject</li><li>â‘£Variable</li></ul><blockquote><p>PublishSubject, ReplaySubjectå’ŒBehaviorSubjectæ˜¯ä¸ä¼šè‡ªåŠ¨å‘å‡ºcompletedäº‹ä»¶çš„</p></blockquote><h2 id="â‘ PublishSubject"><a href="#â‘ PublishSubject" class="headerlink" title="â‘ PublishSubject"></a>â‘ PublishSubject</h2><blockquote><p>å½“æœ‰è§‚å¯Ÿè€…è®¢é˜… PublishSubject æ—¶ï¼ŒPublishSubject ä¼šå‘å°„è®¢é˜…ä¹‹åçš„æ•°æ®ç»™è¿™ä¸ªè§‚å¯Ÿè€…,<strong><em>åªèƒ½æ¥æ”¶åˆ°è®¢é˜…ä»–ä¹‹åå‘ç”Ÿçš„äº‹ä»¶</em></strong><br>äºæ˜¯è¿™é‡Œå­˜åœ¨ä¸¢å¤±æ•°æ®çš„é—®é¢˜ï¼Œå¦‚éœ€å…¨éƒ¨æ•°æ®ï¼Œæ¨èæ”¹ç”¨ ReplaySubject<br>subject.onNext()å‘å‡ºonNextäº‹ä»¶<br>å¯¹åº”çš„è¿˜æœ‰onError()å’ŒonCompleted()äº‹ä»¶</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/Swift-RxSwift-Subject-001.png" alt="001"></p><blockquote><p>å¦‚æœåºåˆ—å› ä¸ºé”™è¯¯ç»ˆæ­¢å‘å°„åºåˆ—ï¼Œæ­¤æ—¶ PublishSubject å°±ä¸ä¼šå‘å°„æ•°æ®ï¼Œåªæ˜¯ä¼ é€’è¿™æ¬¡é”™è¯¯äº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> publishSubject = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"></div><div class="line">publishSubject.subscribe &#123; e <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 1, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">publishSubject.on(.<span class="type">Next</span>(<span class="string">"a"</span>))</div><div class="line">publishSubject.on(.<span class="type">Next</span>(<span class="string">"b"</span>))</div><div class="line"></div><div class="line">publishSubject.subscribe &#123; e <span class="keyword">in</span> <span class="comment">/// æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œè¿™ä¸ªè®¢é˜…åªæ”¶åˆ°äº†ä¸¤ä¸ªæ•°æ®ï¼Œåªæœ‰ "c" å’Œ "d"</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 2, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">publishSubject.on(.<span class="type">Next</span>(<span class="string">"c"</span>))</div><div class="line">publishSubject.on(.<span class="type">Next</span>(<span class="string">"d"</span>))</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line">    </div><div class="line">subject.addObserver(<span class="string">"1"</span>).addDisposableTo(disposeBag)</div><div class="line">subject.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">subject.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">    </div><div class="line">subject.addObserver(<span class="string">"2"</span>).addDisposableTo(disposeBag)</div><div class="line">subject.onNext(<span class="string">"ğŸ…°ï¸"</span>)</div><div class="line">subject.onNext(<span class="string">"ğŸ…±ï¸"</span>)</div><div class="line"></div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ¶)</div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ±)</div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ…°ï¸)</div><div class="line"><span class="type">Subscription</span>: <span class="number">2</span> <span class="type">Event</span>: next(ğŸ…°ï¸)</div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ…±ï¸)</div><div class="line"><span class="type">Subscription</span>: <span class="number">2</span> <span class="type">Event</span>: next(ğŸ…±ï¸)</div></pre></td></tr></table></figure><blockquote><p>å…ˆä»¥PublishSubjectä¸ºä¾‹æ¥è§£é‡ŠSubjectæ˜¯ä¸€ä¸ªä»£ç†çš„å«ä¹‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line">  <span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line">  subject.subscribe(&#123;(event) <span class="keyword">in</span> </div><div class="line">      <span class="built_in">print</span> (<span class="string">"Event:\(event)"</span>)</div><div class="line">  &#125;)</div><div class="line">  </div><div class="line"> <span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line"><span class="type">Event</span>:next(<span class="number">1</span>)</div><div class="line"><span class="type">Event</span>:next(<span class="number">2</span>)</div><div class="line"><span class="type">Event</span>:completed</div></pre></td></tr></table></figure><ul><li>Subjectä½œä¸ºä¸€ä¸ªObservableæä¾›äº†subscribeç­‰æ–¹æ³•</li><li>åœ¨è®¢é˜…ä¹‹åï¼Œè°ƒç”¨onNext()ï¼Œå‘Observerå‘å°„äº†1ã€2ï¼Œä»¥åŠonCompleted()</li></ul><blockquote><p>è°ƒç”¨Subjectçš„onç³»åˆ—æ–¹æ³•ä¸»åŠ¨ç»™Observerå‘é€å€¼<br>Subjectå¯ä»¥ä½œä¸ºä»£ç†è½¬å‘è®¢é˜…åˆ°çš„ç»“æœ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line">subject.subscribe(&#123; (event) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Event:\(event)"</span>)</div><div class="line">&#125;)</div><div class="line">   </div><div class="line"><span class="keyword">let</span> reveseSubject = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.create(&#123; </div><div class="line"> (observer) -&gt; <span class="type">Disposable</span> <span class="keyword">in</span></div><div class="line">    observer.onNext(<span class="number">1</span>)</div><div class="line">    observer.onNext(<span class="number">2</span>)</div><div class="line">    observer.onCompleted()</div><div class="line">        </div><div class="line">    <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">&#125;)</div><div class="line">   </div><div class="line">reveseSubject.subscribe(subject)</div></pre></td></tr></table></figure><ul><li>subjectè®¢é˜…äº†reveseSubjectï¼Œå¹¶å°†ç»“æœè½¬å‘ç»™äº†Observer</li><li>Observerè®¢é˜…subjectæ—¶,ä¸ä¼šæ”¶åˆ°è®¢é˜…ä¹‹å‰subjectçš„å€¼</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">Int</span>&gt;()</div><div class="line"> subject.onNext(<span class="number">0</span>)</div><div class="line"> subject.subscribe(&#123;</div><div class="line">  (event) <span class="keyword">in</span></div><div class="line"> <span class="built_in">print</span>(<span class="string">"Event:\(event)"</span>)</div><div class="line">&#125;)</div><div class="line">    </div><div class="line">subject.onNext(<span class="number">1</span>)</div><div class="line">subject.onNext(<span class="number">2</span>)</div><div class="line">subject.onCompleted()</div><div class="line"></div><div class="line"><span class="comment">// æ‰“å°ç»“æœ</span></div><div class="line"><span class="type">Event</span>:next(<span class="number">1</span>)</div><div class="line"><span class="type">Event</span>:next(<span class="number">2</span>)</div><div class="line"><span class="type">Event</span>:completed</div><div class="line">observeræ— æ³•æ¥æ”¶åˆ°<span class="number">0</span>è¿™ä¸ªå€¼</div></pre></td></tr></table></figure><h2 id="â‘¡ReplaySubject"><a href="#â‘¡ReplaySubject" class="headerlink" title="â‘¡ReplaySubject"></a>â‘¡ReplaySubject</h2><blockquote><p>å’Œ PushblishSubject ä¸åŒï¼Œä¸è®ºè§‚å¯Ÿè€…ä»€ä¹ˆæ—¶å€™è®¢é˜…ï¼Œ ReplaySubject éƒ½ä¼šå‘å°„å®Œæ•´çš„æ•°æ®ç»™è§‚å¯Ÿè€…<br>ReplaySubjectå’ŒPublishSubjectä¸åŒçš„æ˜¯ï¼ŒObserveræœ‰å¯èƒ½æ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„å€¼</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/Swift-RxSwift-Subject-003.png" alt="003"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> replaySubject = <span class="type">ReplaySubject</span>&lt;<span class="type">String</span>&gt;.create(bufferSize: <span class="number">2</span>)</div><div class="line"></div><div class="line">replaySubject.subscribe &#123; e <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 1, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">replaySubject.on(.<span class="type">Next</span>(<span class="string">"a"</span>))</div><div class="line">replaySubject.on(.<span class="type">Next</span>(<span class="string">"b"</span>))</div><div class="line"></div><div class="line">replaySubject.subscribe &#123; e <span class="keyword">in</span> <span class="comment">/// æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œè¿™ä¸ªè®¢é˜…æ”¶åˆ°äº†å››ä¸ªæ•°æ®</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 2, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">replaySubject.on(.<span class="type">Next</span>(<span class="string">"c"</span>))</div><div class="line">replaySubject.on(.<span class="type">Next</span>(<span class="string">"d"</span>))</div></pre></td></tr></table></figure><blockquote><p>ReplaySubjectä¸¾ä¾‹åˆ†æ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> subject = <span class="type">ReplaySubject</span>.create(bufferSize: <span class="number">1</span>)</div><div class="line">  subject.onNext(<span class="number">0</span>)</div><div class="line">  subject.subscribe(&#123;</div><div class="line">   (event) <span class="keyword">in</span> </div><div class="line">   <span class="built_in">print</span>(<span class="string">"Event:\(event)"</span>)</div><div class="line">  &#125;)</div><div class="line">  subject.onNext(<span class="number">1</span>)</div><div class="line">  subject.onNext(<span class="number">2</span>)</div><div class="line">  subject.onCompleted()</div><div class="line">  </div><div class="line">  <span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line">  <span class="type">Event</span>:next(<span class="number">0</span>)</div><div class="line"><span class="type">Event</span>:next(<span class="number">1</span>)</div><div class="line"><span class="type">Event</span>:next(<span class="number">2</span>)</div><div class="line"><span class="type">Event</span>:completed</div></pre></td></tr></table></figure><ul><li>ReplaySubjectå…·æœ‰é‡æ”¾(replay)çš„åŠŸèƒ½ï¼Œreplayçš„ä¸ªæ•°å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šã€‚</li><li>å¯ä»¥å°†å…¶ç†è§£ä¸ºç¼“å­˜çš„æ•ˆæœã€‚</li></ul><blockquote><p>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨ReplaySubjectçš„æ—¶å€™ï¼Œéƒ½æ˜¯å…ˆå‘å°„ï¼Œåè®¢é˜…ï¼Œç„¶åé€šè¿‡æŒ‡å®šç¼“å­˜çš„å¤§å°ï¼Œå¯ä»¥è·å–å¯¹åº”çš„å€¼ã€‚(æ³¨æ„ï¼šä¸è€ƒè™‘Errorå’ŒCompleted)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">ReplaySubject</span>&lt;<span class="type">Int</span>&gt;.create(bufferSize: <span class="number">1</span>)</div><div class="line"></div><div class="line">subject.onNext(<span class="number">0</span>)</div><div class="line">subject.onNext(<span class="number">1</span>)</div><div class="line">subject.onNext(<span class="number">2</span>)</div><div class="line"></div><div class="line">subject.subscribe(&#123;</div><div class="line"> (event) <span class="keyword">in</span> </div><div class="line"> <span class="built_in">print</span> (<span class="string">"Event:\(event)"</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//æŒ‡å®šäº†bufferSizeç­‰äº1ï¼Œæ‰€ä»¥åªç¼“å­˜äº†æœ€æ–°çš„å€¼ï¼Œæ‰“å°ç»“æœ</span></div><div class="line"><span class="type">Event</span>:next(<span class="number">2</span>)</div><div class="line"><span class="type">Event</span>:completed</div></pre></td></tr></table></figure><ul><li>éœ€è¦ç¼“å­˜æ‰€æœ‰å€¼çš„æ—¶å€™,å¯ä»¥è°ƒç”¨createUnbounded()æ–¹æ³•</li></ul><h2 id="â‘¢BehaviorSubject"><a href="#â‘¢BehaviorSubject" class="headerlink" title="â‘¢BehaviorSubject"></a>â‘¢BehaviorSubject</h2><blockquote><p>å½“ä¸€ä¸ªè§‚å¯Ÿè€…è®¢é˜…ä¸€ä¸ª BehaviorSubject ï¼Œå®ƒä¼šå‘é€åŸåºåˆ—æœ€è¿‘çš„é‚£ä¸ªå€¼ï¼ˆå¦‚æœåŸåºåˆ—è¿˜æœ‰æ²¡å‘å°„å€¼é‚£å°±ç”¨ä¸€ä¸ªé»˜è®¤å€¼ä»£æ›¿ï¼‰ï¼Œä¹‹åç»§ç»­å‘å°„åŸåºåˆ—çš„å€¼</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/Swift-RxSwift-Subject-004.png" alt="004"></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> behaviorSubject = <span class="type">BehaviorSubject</span>(value: <span class="string">"z"</span>)</div><div class="line">behaviorSubject.subscribe &#123; e <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 1, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">behaviorSubject.on(.<span class="type">Next</span>(<span class="string">"a"</span>))</div><div class="line">behaviorSubject.on(.<span class="type">Next</span>(<span class="string">"b"</span>))</div><div class="line"></div><div class="line">behaviorSubject.subscribe &#123; e <span class="keyword">in</span> <span class="comment">/// æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œè¿™ä¸ªè®¢é˜…æ”¶åˆ°äº†å››ä¸ªæ•°æ®</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 2, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">behaviorSubject.on(.<span class="type">Next</span>(<span class="string">"c"</span>))</div><div class="line">behaviorSubject.on(.<span class="type">Next</span>(<span class="string">"d"</span>))</div><div class="line">behaviorSubject.on(.<span class="type">Completed</span>)</div></pre></td></tr></table></figure><blockquote><p>PublishSubject, ReplaySubjectå’ŒBehaviorSubjectæ˜¯ä¸ä¼šè‡ªåŠ¨å‘å‡ºcompletedäº‹ä»¶çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"><span class="keyword">let</span> subject = <span class="type">BehaviorSubject</span>(value: <span class="string">"ğŸ”´"</span>)</div><div class="line">    </div><div class="line">subject.addObserver(<span class="string">"1"</span>).addDisposableTo(disposeBag)</div><div class="line">subject.onNext(<span class="string">"ğŸ¶"</span>)</div><div class="line">subject.onNext(<span class="string">"ğŸ±"</span>)</div><div class="line">    </div><div class="line">subject.addObserver(<span class="string">"2"</span>).addDisposableTo(disposeBag)</div><div class="line">subject.onNext(<span class="string">"ğŸ…°ï¸"</span>)</div><div class="line">subject.onNext(<span class="string">"ğŸ…±ï¸"</span>)</div><div class="line">    </div><div class="line">subject.addObserver(<span class="string">"3"</span>).addDisposableTo(disposeBag)</div><div class="line">subject.onNext(<span class="string">"ğŸ"</span>)</div><div class="line">subject.onNext(<span class="string">"ğŸŠ"</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ”´)</div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ¶)</div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ±)</div><div class="line"><span class="type">Subscription</span>: <span class="number">2</span> <span class="type">Event</span>: next(ğŸ±) <span class="comment">//è®¢é˜…ä¹‹å‰çš„æœ€åä¸€ä¸ªäº‹ä»¶</span></div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ…°ï¸)</div><div class="line"><span class="type">Subscription</span>: <span class="number">2</span> <span class="type">Event</span>: next(ğŸ…°ï¸)</div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ…±ï¸)</div><div class="line"><span class="type">Subscription</span>: <span class="number">2</span> <span class="type">Event</span>: next(ğŸ…±ï¸)</div><div class="line"><span class="type">Subscription</span>: <span class="number">3</span> <span class="type">Event</span>: next(ğŸ…±ï¸) <span class="comment">//è®¢é˜…ä¹‹å‰çš„æœ€åä¸€ä¸ªäº‹ä»¶</span></div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸ)</div><div class="line"><span class="type">Subscription</span>: <span class="number">3</span> <span class="type">Event</span>: next(ğŸ)</div><div class="line"><span class="type">Subscription</span>: <span class="number">2</span> <span class="type">Event</span>: next(ğŸ)</div><div class="line"><span class="type">Subscription</span>: <span class="number">1</span> <span class="type">Event</span>: next(ğŸŠ)</div><div class="line"><span class="type">Subscription</span>: <span class="number">3</span> <span class="type">Event</span>: next(ğŸŠ)</div><div class="line"><span class="type">Subscription</span>: <span class="number">2</span> <span class="type">Event</span>: next(ğŸŠ)</div></pre></td></tr></table></figure><blockquote><p>BehaviorSubjectç±»ä¼¼äºReplaySubjectå…·æœ‰ç¼“å­˜èƒ½åŠ›ï¼Œä½†æ˜¯ç•¥æœ‰ä¸åŒ<br>åªç¼“å­˜ä¸€ä¸ªæœ€æ–°å€¼ï¼Œç±»ä¼¼ReplaySubject.create(bufferSize: 1)<br>éœ€è¦æä¾›é»˜è®¤å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> behaviorSubject = <span class="type">BehaviorSubject</span>&lt;<span class="type">Int</span>&gt;(value: <span class="number">1</span>)</div><div class="line">behaviorSubject.subscribe(&#123; (event) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Event:\(event)"</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">//æ‰“å°ç»“æœ</span></div><div class="line"><span class="type">Event</span>:next(<span class="number">1</span>)</div></pre></td></tr></table></figure><ul><li>ä½¿ç”¨BehaviorSubjectæœ‰ä¸€ç‚¹å¥½å¤„ï¼Œå¯ä»¥ç¡®å®šå½“Observerè®¢é˜…æ—¶ï¼Œè‡³å°‘å¯ä»¥æ”¶åˆ°æœ€æ–°çš„ä¸€ä¸ªå€¼</li></ul><h2 id="â‘£Variable"><a href="#â‘£Variable" class="headerlink" title="â‘£Variable"></a>â‘£Variable</h2><blockquote><p>Variable æ˜¯ BehaviorSubject çš„ä¸€ä¸ªå°è£…<br>ç›¸æ¯” BehaviorSubject ï¼Œå®ƒä¸ä¼šå› ä¸ºé”™è¯¯ç»ˆæ­¢ä¹Ÿä¸ä¼šæ­£å¸¸ç»ˆæ­¢ï¼Œæ˜¯ä¸€ä¸ªæ— é™åºåˆ—<br>Variableæ˜¯BehaviorSubjectä¸€ä¸ªåŒ…è£…ç®±ï¼Œå°±åƒæ˜¯ä¸€ä¸ªç®±å­ä¸€æ ·ï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦è°ƒç”¨asObservable()æ‹†ç®±ï¼Œé‡Œé¢çš„valueæ˜¯ä¸€ä¸ªBehaviorSubjectï¼Œä»–ä¸ä¼šå‘å‡ºerroräº‹ä»¶ï¼Œä½†æ˜¯ä¼šè‡ªåŠ¨å‘å‡ºcompletedäº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> variable = <span class="type">Variable</span>(<span class="string">"z"</span>)</div><div class="line">variable.asObservable().subscribe &#123; e <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 1, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line">variable.value = <span class="string">"a"</span></div><div class="line">variable.value = <span class="string">"b"</span></div><div class="line">variable.asObservable().subscribe &#123; e <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Subscription: 1, event: \(e)"</span>)</div><div class="line">    &#125;.addDisposableTo(disposeBag)</div><div class="line">variable.value = <span class="string">"c"</span></div><div class="line">variable.value = <span class="string">"d"</span></div></pre></td></tr></table></figure><blockquote><p>æœ€å¸¸ç”¨çš„ Subject åº”è¯¥å°±æ˜¯ Variable<br>Variable å¾ˆé€‚åˆåšæ•°æ®æºï¼Œæ¯”å¦‚ä½œä¸ºä¸€ä¸ª UITableView çš„æ•°æ®æºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œä¿ç•™ä¸€ä¸ªå®Œæ•´çš„ Array æ•°æ®ï¼Œæ¯ä¸€ä¸ªè®¢é˜…è€…éƒ½å¯ä»¥è·å¾—è¿™ä¸ª Array</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> elements = <span class="type">Variable</span>&lt;[<span class="type">String</span>]&gt;([])</div></pre></td></tr></table></figure><blockquote><p>Variableå’ŒBehaviorSubjectåˆå¾ˆç›¸ä¼¼ï¼ŒVariableæ˜¯BehaviorSubjectçš„ä¸€ä¸ªå°è£…ï¼ŒåŒæ ·å…·å¤‡äº†ç¼“å­˜æœ€æ–°å€¼å’Œæä¾›é»˜è®¤å€¼çš„èƒ½åŠ›ä½†æ˜¯Variableæ²¡æœ‰onç³»åˆ—æ–¹æ³•ï¼Œåªæä¾›äº†valueå±æ€§ã€‚<br>ç›´æ¥å¯¹valueè¿›è¡Œsetç­‰åŒäºè°ƒç”¨äº†onNext()æ–¹æ³•ã€‚<br>è¿™è¡¨æ˜äº†Variableä¸ä¼šå‘å°„errorä¹Ÿä¸ä¼šå‘å°„completed<br>åœ¨Variableè¢«é”€æ¯çš„æ—¶å€™ä¼šè°ƒç”¨å‘å°„completedç»™Observer</p><p>åœ¨è®¢é˜…Variableçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥è°ƒç”¨subscribeæ–¹æ³•ï¼Œéœ€è¦å…ˆè°ƒç”¨asObservable()æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> variable = <span class="type">Variable</span>&lt;<span class="type">Int</span>&gt;(<span class="number">1</span>)</div><div class="line">variable.asObservable().subscribe(&#123; (event) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"Event:\(event)"</span>)</div><div class="line">&#125;)</div><div class="line">variable.value = <span class="number">2</span></div><div class="line"></div><div class="line"><span class="comment">//ç»“æœ</span></div><div class="line"><span class="type">Event</span>:next(<span class="number">1</span>)</div><div class="line"><span class="type">Event</span>:next(<span class="number">2</span>)</div><div class="line"><span class="type">Event</span>:completed</div></pre></td></tr></table></figure><blockquote><p>Variableå¯ä»¥ç”¨æ¥å‚¨å­˜æ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æ‹¥æœ‰valueçš„getå’Œsetæ–¹æ³•ã€‚æ¯”å¦‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> variable = <span class="type">Variable</span>(<span class="number">1</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"Value: \(variable.value)"</span>)</div><div class="line">variable.value = <span class="number">2</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"Value: \(variable.value)"</span>)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°</span></div><div class="line"><span class="comment">//è¿™æ˜¯BehaviorSubjectä¸å…·å¤‡çš„</span></div><div class="line">  <span class="type">Value</span>: <span class="number">1</span></div><div class="line">   <span class="type">Value</span>: <span class="number">2</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-åˆ›å»ºåºåˆ—Observable</title>
      <link href="/2017/12/15/RxSwift/Grammar/%E5%88%9B%E5%BB%BA%E5%BA%8F%E5%88%97Observable/"/>
      <content type="html"><![CDATA[<h1 id="Rx-å‡ ç§åˆ›å»ºæ–¹å¼"><a href="#Rx-å‡ ç§åˆ›å»ºæ–¹å¼" class="headerlink" title="Rx å‡ ç§åˆ›å»ºæ–¹å¼"></a>Rx å‡ ç§åˆ›å»ºæ–¹å¼</h1><ul><li>asObservable è¿”å›ä¸€ä¸ªåºåˆ—</li><li>create ä½¿ç”¨ Swift é—­åŒ…çš„æ–¹å¼åˆ›å»ºåºåˆ—</li><li>deferred åªæœ‰åœ¨æœ‰è§‚å¯Ÿè€…è®¢é˜…æ—¶ï¼Œæ‰å»åˆ›å»ºåºåˆ—</li><li>empty åˆ›å»ºä¸€ä¸ªç©ºçš„åºåˆ—ï¼Œåªå‘å°„ä¸€ä¸ª .Completed</li><li>error åˆ›å»ºä¸€ä¸ªå‘å°„ error ç»ˆæ­¢çš„åºåˆ—</li><li>toObservable ä½¿ç”¨ SequenceType åˆ›å»ºåºåˆ—</li><li>interval åˆ›å»ºä¸€ä¸ªæ¯éš”ä¸€æ®µæ—¶é—´å°±å‘å°„çš„é€’å¢åºåˆ—</li><li>never ä¸åˆ›å»ºåºåˆ—ï¼Œä¹Ÿä¸å‘é€é€šçŸ¥</li><li>just åªåˆ›å»ºåŒ…å«ä¸€ä¸ªå…ƒç´ çš„åºåˆ—ã€‚æ¢è¨€ä¹‹ï¼Œåªå‘é€ä¸€ä¸ªå€¼å’Œ .Completed</li><li>of é€šè¿‡ä¸€ç»„å…ƒç´ åˆ›å»ºä¸€ä¸ªåºåˆ—</li><li>range åˆ›å»ºä¸€ä¸ªæœ‰èŒƒå›´çš„é€’å¢åºåˆ—</li><li>repeatElement åˆ›å»ºä¸€ä¸ªå‘å°„é‡å¤å€¼çš„åºåˆ—</li><li>timer åˆ›å»ºä¸€ä¸ªå¸¦å»¶è¿Ÿçš„åºåˆ—</li></ul><h1 id="create"><a href="#create" class="headerlink" title="create"></a>create</h1><blockquote><p>ä½¿ç”¨ Swift é—­åŒ…çš„æ–¹å¼åˆ›å»ºåºåˆ—ï¼Œè¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª Just çš„ç¤ºä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> myJust = &#123; (singleElement: <span class="type">Int</span>) -&gt; <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt; <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> <span class="type">Observable</span>.create &#123; observer <span class="keyword">in</span></div><div class="line">        observer.on(.<span class="type">Next</span>(singleElement))</div><div class="line">        observer.on(.<span class="type">Completed</span>)</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> <span class="type">NopDisposable</span>.instance</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="number">_</span> = myJust(<span class="number">5</span>)</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="deferred"><a href="#deferred" class="headerlink" title="deferred"></a>deferred</h1><blockquote><p>åªæœ‰åœ¨æœ‰è§‚å¯Ÿè€…è®¢é˜…æ—¶ï¼Œæ‰å»åˆ›å»ºåºåˆ—</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  let deferredSequence: Observable&lt;Int&gt; = Observable.deferred &#123;</div><div class="line">    print(&quot;creating&quot;)</div><div class="line">    return Observable.create &#123; observer in</div><div class="line">        print(&quot;emmiting&quot;)</div><div class="line">        observer.on(.Next(0))</div><div class="line">        observer.on(.Next(1))</div><div class="line">        observer.on(.Next(2))</div><div class="line">        </div><div class="line">        return NopDisposable.instance</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">_ = deferredSequence</div><div class="line">    .subscribe &#123; event in</div><div class="line">        print(event)</div><div class="line">&#125;</div><div class="line"></div><div class="line">_ = deferredSequence</div><div class="line">    .subscribe &#123; event in</div><div class="line">        print(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="empty"><a href="#empty" class="headerlink" title="empty"></a>empty</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªç©ºçš„åºåˆ—ï¼Œåªå‘å°„ä¸€ä¸ª .Completedï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> emptySequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.empty()</div><div class="line"></div><div class="line"><span class="number">_</span> = emptySequence</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="error"><a href="#error" class="headerlink" title="error"></a>error</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªå‘å°„ error ç»ˆæ­¢çš„åºåˆ—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> error = <span class="type">NSError</span>(domain: <span class="string">"Test"</span>, code: -<span class="number">1</span>, userInfo: <span class="literal">nil</span>)</div><div class="line"></div><div class="line"><span class="keyword">let</span> erroredSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.error(error)</div><div class="line"></div><div class="line"><span class="number">_</span> = erroredSequence</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="toObservable"><a href="#toObservable" class="headerlink" title="toObservable"></a>toObservable</h1><blockquote><p>ä½¿ç”¨ SequenceType åˆ›å»ºåºåˆ—ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> sequenceFromArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].toObservable()</div><div class="line"></div><div class="line"><span class="number">_</span> = sequenceFromArray</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="interval"><a href="#interval" class="headerlink" title="interval"></a>interval</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªæ¯éš”ä¸€æ®µæ—¶é—´å°±å‘å°„çš„é€’å¢åºåˆ—ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> intervalSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line"></div><div class="line"><span class="number">_</span> = intervalSequence.subscribe &#123; event <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="never"><a href="#never" class="headerlink" title="never"></a>never</h1><blockquote><p>ä¸åˆ›å»ºåºåˆ—ï¼Œä¹Ÿä¸å‘é€é€šçŸ¥ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> neverSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.never()</div><div class="line"></div><div class="line"><span class="number">_</span> = neverSequence</div><div class="line">    .subscribe &#123; <span class="number">_</span> <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"è¿™å¥è¯æ°¸è¿œä¸ä¼šæ‰“å‡ºæ¥."</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="just"><a href="#just" class="headerlink" title="just"></a>just</h1><blockquote><p>åªåˆ›å»ºåŒ…å«ä¸€ä¸ªå…ƒç´ çš„åºåˆ—ã€‚æ¢è¨€ä¹‹ï¼Œåªå‘é€ä¸€ä¸ªå€¼å’Œ .Completedï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   et singleElementSequence = <span class="type">Observable</span>.just(<span class="number">32</span>)</div><div class="line"></div><div class="line"><span class="number">_</span> = singleElementSequence</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="of"><a href="#of" class="headerlink" title="of"></a>of</h1><blockquote><p>é€šè¿‡ä¸€ç»„å…ƒç´ åˆ›å»ºä¸€ä¸ªåºåˆ—ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> sequenceOfElements<span class="comment">/* : Observable&lt;Int&gt; */</span> = <span class="type">Observable</span>.of(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)</div><div class="line"></div><div class="line"><span class="number">_</span> = sequenceOfElements</div><div class="line">    .subscribe &#123; event <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="range"><a href="#range" class="headerlink" title="range"></a>range</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªæœ‰èŒƒå›´çš„é€’å¢åºåˆ—ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> rangeSequence = <span class="type">Observable</span>.range(start: <span class="number">1</span>, <span class="built_in">count</span>: <span class="number">10</span>)</div><div class="line"></div><div class="line"><span class="number">_</span> = rangeSequence.subscribe &#123; event <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="repeatElement"><a href="#repeatElement" class="headerlink" title="repeatElement"></a>repeatElement</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªå‘å°„é‡å¤å€¼çš„åºåˆ—ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> repeatElementSequence = <span class="type">Observable</span>.repeatElement(<span class="number">1</span>)</div><div class="line"></div><div class="line"><span class="number">_</span> = repeatElementSequence.subscribe &#123; event <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="timer"><a href="#timer" class="headerlink" title="timer"></a>timer</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªå¸¦å»¶è¿Ÿçš„åºåˆ—ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> timerSequence = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.timer(<span class="number">1</span>, period: <span class="number">1</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line"></div><div class="line"><span class="number">_</span> = timerSequence.subscribe &#123; event <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(event)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-RxSwift-ç®€ä»‹ä»¥åŠç®€å•å­¦ä¹ ä½¿ç”¨</title>
      <link href="/2017/12/15/RxSwift/Grammar/%E7%AE%80%E4%BB%8B%E4%BB%A5%E5%8F%8A%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="Swift-RxSwift-ç®€ä»‹ä»¥åŠç®€å•å­¦ä¹ ä½¿ç”¨"><a href="#Swift-RxSwift-ç®€ä»‹ä»¥åŠç®€å•å­¦ä¹ ä½¿ç”¨" class="headerlink" title="Swift-RxSwift-ç®€ä»‹ä»¥åŠç®€å•å­¦ä¹ ä½¿ç”¨"></a>Swift-RxSwift-ç®€ä»‹ä»¥åŠç®€å•å­¦ä¹ ä½¿ç”¨</h1><blockquote><p><a href="https://github.com/ReactiveX/RxSwift/blob/master/Documentation/Why.md" target="_blank" rel="external">RxSwift é¡¹ç›®æ–‡æ¡£ä¸­ Why</a> å·²æœ‰è¯¦ç»†ä»‹ç»</p></blockquote><h2 id="Bindings"><a href="#Bindings" class="headerlink" title="Bindings"></a>Bindings</h2><blockquote><p>[RxWhy] -&gt; [Bindings] -&gt; [BindingsViewController.swift]</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Observable</span>.combineLatest(firstName.rx_text, lastName.rx_text) &#123; $<span class="number">0</span> + <span class="string">" "</span> + $<span class="number">1</span> &#125; <span class="comment">// â‘ </span></div><div class="line">          .<span class="built_in">map</span> &#123; <span class="string">"Greeting \($0)"</span> &#125;                                             <span class="comment">// â‘¡</span></div><div class="line">          .bindTo(greetingLabel.rx_text)                                        <span class="comment">// â‘¢</span></div></pre></td></tr></table></figure><ul><li>å°† firstName å’Œ lastName çš„ text å±æ€§ç»“åˆèµ·æ¥ï¼Œå¹¶è¿›è¡Œåˆå¹¶å¤„ç†ï¼Œä¹Ÿå°±æ˜¯ $0 + â€œ â€œ + $1 è¿™éƒ¨åˆ†ï¼Œç”¨ç©ºæ ¼å°†ä¸¤ä¸ªå€¼åˆå¹¶èµ·æ¥ä½œä¸ºç»“æœä¼ é€’ç»™åé¢ä½¿ç”¨</li><li>ä½¿ç”¨ map çš„æ–¹æ³•ï¼Œå°†ä¸Šä¸€æ­¥å¾—åˆ°å€¼å‰é¢åŠ ä¸Šä¸€ä¸ª Greeting ï¼Œå¹¶å°†è¯¥å€¼ä¼ é€’ç»™åé¢ä½¿ç”¨</li><li>bindTo å°±æ˜¯ç»‘å®šï¼Œå°†ä¸Šä¸€æ­¥çš„å€¼ç»‘å®šåˆ° greetingLabel çš„ text</li></ul><blockquote><p>ä»£ç å°±æ˜¯å®æ—¶çš„æ‰§è¡Œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">greetingLabel.text = <span class="string">"Greeting "</span> + firstName.text + <span class="string">" "</span> + lastName.text</div></pre></td></tr></table></figure><ul><li>è¦æ±‚æ˜¯å®æ—¶</li><li>æ¯å½“ fisrtName.text æˆ–è€… lastName.text æ”¹å˜æ—¶ï¼Œ greetingLabel.text éƒ½è¦éšä¹‹æ”¹å˜</li></ul><h2 id="ContentOffset"><a href="#ContentOffset" class="headerlink" title="ContentOffset"></a>ContentOffset</h2><blockquote><p>ç»å¸¸é€šè¿‡ delegate å¤„ç† scrollView çš„ contentOffset å˜åŒ–é—®é¢˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(scrollView: UIScrollView)</span></span> &#123;</div><div class="line">    <span class="keyword">self</span>.title = <span class="string">"contentOffset.x = \(scrollView.contentOffset.y)"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¯èƒ½å°±å’Œå…³è”çš„é€»è¾‘åˆ†å®¶äº†ï¼Œå†…èšæ€§å•Šâ€¦è€Œä¸”å¤šä¸ª scrollView ï¼Œè¿˜è¦åšé¢å¤–çš„åˆ¤æ–­å¤„ç†ï¼Œå¤æ‚æ€§å¯æƒ³è€ŒçŸ¥<br>ä¹Ÿæœ‰å†™è¿‡é€šè¿‡ closure æ¥è§£å†³çš„ï¼Œå…¶å®å¯ä»¥è®¤ä¸º Rx è‡ªå¸¦äº†è¿™äº›åŠŸèƒ½ï¼ˆè€Œä¸”æ›´å¼ºå¤§<br>[RxWhy] -&gt; [ContentOffset] -&gt; [ContentOffsetViewController.swift]<br>Note: åœ¨ä½¿ç”¨äº† rx_contentOffset åï¼Œæœ€å¥½ä¸è¦å»æ›´æ”¹ delegate<br>åŒæ · button ä¹Ÿæœ‰ç±»ä¼¼çš„åŠŸèƒ½</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">tableView.rx_contentOffset</div><div class="line">  .<span class="built_in">map</span> &#123; $<span class="number">0</span>.y &#125;</div><div class="line">  .subscribeNext &#123; [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">in</span></div><div class="line">      <span class="keyword">self</span>.title = <span class="string">"contentOffset.x = \($0)"</span></div><div class="line">  &#125;.addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><h2 id="Tap"><a href="#Tap" class="headerlink" title="Tap"></a>Tap</h2><blockquote><p>button çš„ç‚¹å‡»äº‹ä»¶æ˜¯ä¸€ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜äº†ï¼Œå»ºç«‹ä¸€ä¸ª target ï¼ŒåŒæ—¶è¿˜ä½¿ç”¨çš„å¸¦å­—ç¬¦ä¸²çš„ Selectï¼Œbutton çš„ç‚¹å‡»ä¹Ÿå’Œå“åº”é€»è¾‘åˆ†å®¶äº†<br>å¤„ç†æ–¹å¼ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜</p></blockquote><ul><li>ä½¿ç”¨äº†å¸¦ String çš„ Target</li><li>ç‚¹å‡»çš„å…³è”äº‹ä»¶ä»£ç å’Œå¤„ç†çš„é€»è¾‘åˆ†å¼€äº†</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">button.addTarget(<span class="keyword">self</span>, action: <span class="string">"tapButton"</span>, forControlEvents: .<span class="type">TouchDragInside</span>)</div></pre></td></tr></table></figure><blockquote><p>Rx å·²ç»æä¾›äº† closure çš„åŠŸèƒ½</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">button.rx_tap</div><div class="line"> .subscribeNext &#123;</div><div class="line">     <span class="built_in">print</span>(<span class="string">"Tap"</span>)</div><div class="line"> &#125;.addDisposableTo(disposeBag)</div></pre></td></tr></table></figure><p><a href="http://t.swift.gg/d/2-rxswift" target="_blank" rel="external">èµ„æ–™æ¥æº</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> RxSwift </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> RxSwift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIImagePickerController</title>
      <link href="/2017/12/14/Swift/UIKit/UIImagePickerController/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/qq_14920635/article/details/51472057" target="_blank" rel="external">http://blog.csdn.net/qq_14920635/article/details/51472057</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIImagePickerController </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIImagePickerController </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-NSAttributedString</title>
      <link href="/2017/12/14/Swift/UIKit/NSAttributedString/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/qq_14920635/article/details/76318309" target="_blank" rel="external">http://blog.csdn.net/qq_14920635/article/details/76318309</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> NSAttributedString </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> NSAttributedString </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Func-Mirror-åå°„</title>
      <link href="/2017/12/14/Swift/Func/Swift-Func-Mirror-%E5%8F%8D%E5%B0%84/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/qq_14920635/article/details/77676231" target="_blank" rel="external">http://blog.csdn.net/qq_14920635/article/details/77676231</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Func-æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2017/12/14/Swift/Func/Swift-Func-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <content type="html"><![CDATA[<p>#å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹å¼</p><h2 id="åœ¨NSpredicateä¸­ä½¿ç”¨"><a href="#åœ¨NSpredicateä¸­ä½¿ç”¨" class="headerlink" title="åœ¨NSpredicateä¸­ä½¿ç”¨"></a>åœ¨NSpredicateä¸­ä½¿ç”¨</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> email = <span class="string">"lifusc464@qq.com"</span>  </div><div class="line"><span class="keyword">let</span> regex = <span class="string">"[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,4&#125;"</span>  </div><div class="line"><span class="keyword">let</span> predicate = <span class="type">NSPredicate</span>(format: <span class="string">"SELF MATCHES %@"</span>, regex)  </div><div class="line"><span class="keyword">let</span> isValid = predicate.evaluate(with: email)  </div><div class="line"><span class="built_in">print</span>(isValid ? <span class="string">"æ­£ç¡®çš„é‚®ç®±åœ°å€"</span> : <span class="string">"é”™è¯¯çš„é‚®ç®±åœ°å€"</span>)</div></pre></td></tr></table></figure><h2 id="åˆ©ç”¨Stringçš„RangeOfString-option-ç›´æ¥æŸ¥æ‰¾"><a href="#åˆ©ç”¨Stringçš„RangeOfString-option-ç›´æ¥æŸ¥æ‰¾" class="headerlink" title="åˆ©ç”¨Stringçš„RangeOfString: option: ç›´æ¥æŸ¥æ‰¾"></a>åˆ©ç”¨Stringçš„RangeOfString: option: ç›´æ¥æŸ¥æ‰¾</h2><blockquote><p>æ­£åˆ™è¡¨è¾¾åˆ¤æ–­æ˜¯å¦å«æœ‰ç»“æœå€¼ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">/** </span></div><div class="line"><span class="comment"> æ­£åˆ™è¡¨è¾¾åˆ¤æ–­æ˜¯å¦å«æœ‰ç»“æœå€¼ </span></div><div class="line"><span class="comment"> - parameter pattern: ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ­£åˆ™è¡¨è¾¾å¼ </span></div><div class="line"><span class="comment"> - parameter str: éœ€è¦æ¯”è¾ƒåˆ¤æ–­çš„å¯¹è±¡ </span></div><div class="line"><span class="comment"> - returns: è¿”å›å¸ƒå°”å€¼åˆ¤æ–­ç»“æœ </span></div><div class="line"><span class="comment"> - warning: æ³¨æ„åŒ¹é…åˆ°ç»“æœçš„è¯å°±ä¼šè¿”å›trueï¼Œæ²¡æœ‰åŒ¹é…åˆ°ç»“æœå°±ä¼šè¿”å›false </span></div><div class="line"><span class="comment"> */</span>  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">regex</span>(<span class="title">pattern</span>:<span class="title">String</span>, <span class="title">str</span>:<span class="title">String</span>) -&gt; <span class="title">Bool</span> </span>&#123;  </div><div class="line">    <span class="keyword">let</span> regex = <span class="keyword">try</span>! <span class="type">NSRegularExpression</span>(pattern: pattern, options:[<span class="type">NSRegularExpression</span>.<span class="type">Options</span>.caseInsensitive])  </div><div class="line">    <span class="keyword">let</span> resultNum = regex.numberOfMatches(<span class="keyword">in</span>: str, options: <span class="type">NSRegularExpression</span>.<span class="type">MatchingOptions</span>(rawValue: <span class="number">0</span>) , range: <span class="type">NSMakeRange</span>(<span class="number">0</span>, str.characters.<span class="built_in">count</span>))  </div><div class="line">    <span class="keyword">if</span> resultNum&gt;=<span class="number">1</span> &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p> æ­£åˆ™è¡¨è¾¾å¼è·å–ç›®çš„å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">/** </span></div><div class="line"><span class="comment"> æ­£åˆ™è¡¨è¾¾å¼è·å–ç›®çš„å€¼ </span></div><div class="line"><span class="comment"> - parameter pattern: ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ­£åˆ™è¡¨è¾¾å¼ </span></div><div class="line"><span class="comment"> - parameter str: éœ€è¦æ¯”è¾ƒåˆ¤æ–­çš„å¯¹è±¡ </span></div><div class="line"><span class="comment"> - imports: è¿™é‡Œå­ä¸²çš„è·å–å…ˆè½¬è¯ä¸ºNSStringçš„[ä»¥åå¤„ç†ç»“æœå«NSçš„è¿˜æ˜¯å¯ä»¥è½¬æ¢ä¸ºNSå‰ç¼€çš„æ–¹ä¾¿] </span></div><div class="line"><span class="comment"> - returns: è¿”å›ç›®çš„å­—ç¬¦ä¸²ç»“æœå€¼æ•°ç»„(ç›®å‰å°†Stringè½¬æ¢ä¸ºNSStringè·å¾—å­ä¸²æ–¹æ³•è¾ƒä¸ºå®¹æ˜“) </span></div><div class="line"><span class="comment"> - warning: æ³¨æ„åŒ¹é…åˆ°ç»“æœçš„è¯å°±ä¼šè¿”å›trueï¼Œæ²¡æœ‰åŒ¹é…åˆ°ç»“æœå°±ä¼šè¿”å›false </span></div><div class="line"><span class="comment"> */</span>  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">regexGetSub</span>(<span class="title">pattern</span>:<span class="title">String</span>, <span class="title">str</span>:<span class="title">String</span>) -&gt; [<span class="title">String</span>] </span>&#123;  </div><div class="line">    <span class="keyword">var</span> subStr = [<span class="type">String</span>]()  </div><div class="line">    <span class="keyword">let</span> regex = <span class="keyword">try</span>! <span class="type">NSRegularExpression</span>(pattern: pattern, options:[<span class="type">NSRegularExpression</span>.<span class="type">Options</span>.caseInsensitive])  </div><div class="line">    <span class="keyword">let</span> results = regex.matches(<span class="keyword">in</span>: str, options: <span class="type">NSRegularExpression</span>.<span class="type">MatchingOptions</span>.<span class="keyword">init</span>(rawValue: <span class="number">0</span>), range: <span class="type">NSMakeRange</span>(<span class="number">0</span>, str.characters.<span class="built_in">count</span>))  </div><div class="line">    <span class="comment">//è§£æå‡ºå­ä¸²  </span></div><div class="line">    <span class="keyword">for</span>  rst <span class="keyword">in</span> results &#123;  </div><div class="line">        <span class="keyword">let</span> nsStr = str <span class="keyword">as</span>  <span class="type">NSString</span>  <span class="comment">//å¯ä»¥æ–¹ä¾¿é€šè¿‡rangeè·å–å­ä¸²  </span></div><div class="line">        subStr.append(nsStr.substring(with: rst.range))  </div><div class="line">        <span class="comment">//str.substring(with: Range&lt;String.Index&gt;) //æœ¬åº”è¯¥ç”¨è¿™ä¸ªçš„ï¼Œå¯ä»¥æ— æ³•ç›´æ¥è·å¾—å‚æ•°ï¼Œå¿…é¡»è‡ªå·±æ‰‹åŠ¨è·å–starIndex å’Œ endIndexä½œä¸ºåŒºé—´  </span></div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">return</span> subStr  </div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Func-ä½¿ç”¨iconfontå›¾æ ‡</title>
      <link href="/2017/12/14/Swift/Func/Swift-Func-%E4%BD%BF%E7%94%A8iconfont%E5%9B%BE%E6%A0%87/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/qq_14920635/article/details/78408761" target="_blank" rel="external">http://blog.csdn.net/qq_14920635/article/details/78408761</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-NSNotificationCenter-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/NSNotificationCenter-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="NSNotificationCenter"><a href="#NSNotificationCenter" class="headerlink" title="NSNotificationCenter"></a>NSNotificationCenter</h1><blockquote><p>å¦‚æœè¢«é€šçŸ¥å¯¹è±¡åˆ›å»ºäº†ï¼Œé‚£ä¹ˆæ‰§è¡Œå®Œå‘é€é€šçŸ¥ä¹‹åå°±ä¼šæ‰§è¡Œè¢«é€šçŸ¥çš„selectorçš„æ–¹æ³•ï¼Œä¹‹åå†å›æ¥æ‰§è¡Œåä¸€è¡Œä»£ç <br>é€šçŸ¥ä¸€èˆ¬åœ¨modeä¸Viewéœ€è¦äº¤æµï¼ˆä¼ é€’æ•°æ®ï¼‰æ—¶ä½¿ç”¨ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç”¨äºå¤šçº¿ç¨‹çš„æ¶ˆæ¯ä¼ é€’ï¼Œä¹Ÿå¯æ˜¯å…¶ä»–çš„ä¿¡æ¯ä¼ é€’,æœ€å¸¸ç”¨çš„åœºæ™¯æ˜¯é¡µé¢å€¼çš„å›ä¼ </p></blockquote><h2 id="æ³¨å†Œé€šçŸ¥"><a href="#æ³¨å†Œé€šçŸ¥" class="headerlink" title="æ³¨å†Œé€šçŸ¥"></a>æ³¨å†Œé€šçŸ¥</h2><blockquote><p>å‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯å“åº”è¢«é€šçŸ¥çš„å¯¹è±¡ï¼Œä¸€èˆ¬æ˜¯selfï¼Œ selector:ä¸€ä¸ªè‡ªå®šä¹‰æ–¹æ³•ï¼Œå®ç°å¾—åˆ°é€šçŸ¥åçš„æ“ä½œï¼ˆå¦‚æœä½¿ç”¨é—­åŒ…çš„æ–¹æ³•ï¼Œå°±åœ¨å›è°ƒä¸­å®ç°ï¼‰ï¼Œ<br>name:é€šçŸ¥çš„åå­—ï¼ˆæ³¨æ„æ³¨å†Œé€šçŸ¥å’Œå‘é€é€šçŸ¥å¿…é¡»ä¸€è‡´æ‰èƒ½å¤Ÿå“åº”é€šçŸ¥ï¼‰ï¼Œ<br>object:å‘é€šçŸ¥çš„å¯¹è±¡ï¼Œå¦‚æœå¡«nilåˆ™è¡¨ç¤ºæ¥å—æ‰€æœ‰é€šçŸ¥ï¼Œå¦‚æœå¡«ä¸Šå…·ä½“çš„å¯¹è±¡ï¼Œåˆ™æ˜¯1å¯¹1çš„é€šçŸ¥ã€‚<br>å»ºè®®ï¼šå¦‚æœé€šçŸ¥å¤šå¯ä»¥å•ç‹¬å†™ä¸€ä¸ªæ–¹æ³•æ”¾é€šçŸ¥ï¼ˆè°ƒç”¨ç¬¬äºŒä¸ªæ–¹æ³•ï¼‰ï¼Œå¦‚æœé€šçŸ¥æ¯”è¾ƒå°‘å»ºè®®ä½¿ç”¨ç¬¬ä¸€ç§ï¼Œå†å®ç°å…¶selectoræ–¹æ³•ï¼Œæ³¨å†Œé€šçŸ¥æ˜¯åœ¨éœ€è¦è¢«é€šçŸ¥çš„ç±»é‡Œå†™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">NSNotificationCenter</span>.defaultCenter().addObserver(<span class="keyword">self</span>, selector: #selector(<span class="type">TiltleNotification</span>), name: <span class="string">"TiltleNotification"</span>, object: <span class="literal">nil</span>)<span class="comment">//æ³¨å†Œäº†ä¸€ä¸ªåå­—å«åšTiltleNotification</span></div></pre></td></tr></table></figure><h2 id="å‘é€é€šçŸ¥post"><a href="#å‘é€é€šçŸ¥post" class="headerlink" title="å‘é€é€šçŸ¥post"></a>å‘é€é€šçŸ¥post</h2><blockquote><p>åœ¨éœ€è¦é€šçŸ¥çš„ç±»ï¼ˆå³éœ€è¦ä¼ ä¿¡æ¯å‡ºå»çš„ç±»ï¼‰ä¸­ä½¿ç”¨é€šçŸ¥ä¼ é€’æ¶ˆæ¯<br>nameä¹Ÿå¯ä»¥è¿™æ ·å†™:NSNotification.Name.init(â€œTiltleNotificationâ€) </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">NSNotificationCenter</span>.defaultCenter().postNotificationName(<span class="type">NSNotification</span>.<span class="type">Name</span>(<span class="string">"TiltleNotification"</span>), object: <span class="keyword">self</span>, userInfo: [<span class="string">"success"</span>:<span class="literal">true</span>,<span class="string">"img"</span>:<span class="type">UIImage</span>(named:<span class="string">"image"</span>])</div></pre></td></tr></table></figure><h2 id="åœ¨å®Œæˆé€šçŸ¥ä¸­çš„é€‰æ‹©å™¨æ–¹æ³•"><a href="#åœ¨å®Œæˆé€šçŸ¥ä¸­çš„é€‰æ‹©å™¨æ–¹æ³•" class="headerlink" title="åœ¨å®Œæˆé€šçŸ¥ä¸­çš„é€‰æ‹©å™¨æ–¹æ³•"></a>åœ¨å®Œæˆé€šçŸ¥ä¸­çš„é€‰æ‹©å™¨æ–¹æ³•</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">pushBookTiltleNotification</span><span class="params">(notification:NSNotification)</span></span>&#123; <span class="comment">//è®°å¾—å‚æ•°åŠ ä¸Šï¼Œæ‰èƒ½å¾—åˆ°ä¿¡æ¯  </span></div><div class="line">      <span class="keyword">let</span> dict = notification.userInfo   </div><div class="line">      <span class="keyword">if</span> (dict[<span class="string">"success"</span>] <span class="keyword">as</span>! <span class="type">Bool</span>) &#123;<span class="comment">//è·å–ä¼ é€’è¿‡æ¥çš„å€¼,è€Œä¸”éœ€è¦è½¬æ¢ä¸‹  </span></div><div class="line">          <span class="type">ProgressHUD</span>.showSuccess(<span class="string">"é€šçŸ¥æˆåŠŸ"</span>)  </div><div class="line">      &#125;<span class="keyword">else</span>&#123;  </div><div class="line">          <span class="type">ProgressHUD</span>.showError(<span class="string">"é€šçŸ¥å¤±è´¥"</span>)  </div><div class="line">      &#125;  </div><div class="line"></div><div class="line">  &#125;</div></pre></td></tr></table></figure><h2 id="ç§»é™¤é€šçŸ¥"><a href="#ç§»é™¤é€šçŸ¥" class="headerlink" title="ç§»é™¤é€šçŸ¥"></a>ç§»é™¤é€šçŸ¥</h2><blockquote><p>ç”±äºé€šçŸ¥æ˜¯å•åˆ—çš„ï¼Œæ‰€ä»¥ä½¿ç”¨å®Œåå¿…é¡»åœ¨ææ„deinitä¸­ç§»é™¤é€šçŸ¥ï¼Œå¦åˆ™åæœŸå°†å¼•å‘éš¾ä»¥æŸ¥è¯¢çš„è«åé”™è¯¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">deinit</span>&#123;  </div><div class="line">       </div><div class="line">      <span class="comment">//æ³¨æ„ç”±äºé€šçŸ¥æ˜¯å•ä¾‹çš„ï¼Œæ‰€ä»¥ç”¨äº†ä¹‹åéœ€è¦ææ„ï¼Œ  </span></div><div class="line">      <span class="type">NSNotificationCenter</span>.defaultCenter().removeObserver(<span class="keyword">self</span>, name: <span class="string">"TiltleNotification"</span>, object: <span class="literal">nil</span>)  </div><div class="line">  &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> NSNotificationCenter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> NSNotificationCenter </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Func-é«˜æ•ˆåˆ‡åœ†è§’</title>
      <link href="/2017/12/14/OC/Func/iOS-Func-%E9%AB%98%E6%95%88%E5%88%87%E5%9C%86%E8%A7%92/"/>
      <content type="html"><![CDATA[<h1 id="UIViewï¼ˆä¸åŒ…æ‹¬å…¶å­ç±»ï¼‰"><a href="#UIViewï¼ˆä¸åŒ…æ‹¬å…¶å­ç±»ï¼‰" class="headerlink" title="UIViewï¼ˆä¸åŒ…æ‹¬å…¶å­ç±»ï¼‰"></a>UIViewï¼ˆä¸åŒ…æ‹¬å…¶å­ç±»ï¼‰</h1><blockquote><p>UIView åªè¦è®¾ç½®å›¾å±‚çš„ cornerRadius å±æ€§å³å¯<br>ï¼ˆä¸æ˜ç™½çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹å®˜æ–¹æ–‡æ¡£é‡Œå¯¹ cornerRadius çš„æè¿°ï¼‰<br>è®¾ç½® layer.masksToBounds = YESï¼Œä¼šé€ æˆä¸å¿…è¦çš„ç¦»å±æ¸²æŸ“</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIView</span> *view = [[<span class="built_in">UIView</span> alloc] init];</div><div class="line">view.backgroundColor = [<span class="built_in">UIColor</span> blackColor];</div><div class="line">view.layer.cornerRadius = <span class="number">3.</span>f;</div><div class="line"><span class="comment">// ä»¥ä¸‹ä¸¤è¡Œï¼Œä»»å†™ä¸€è¡Œ</span></div><div class="line">view.layer.masksToBounds = <span class="literal">NO</span>;</div><div class="line">view.clipToBounds = <span class="literal">NO</span>;</div></pre></td></tr></table></figure><blockquote><p> ä»¥ä¸‹ä¸¤è¡Œï¼Œåƒä¸‡ä¸è¦åŠ ï¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">view.layer.masksToBounds = <span class="literal">YES</span>;</div><div class="line">view.clipToBounds = <span class="literal">YES</span>;</div></pre></td></tr></table></figure><h1 id="æ–‡æœ¬ç±»è§†å›¾"><a href="#æ–‡æœ¬ç±»è§†å›¾" class="headerlink" title="æ–‡æœ¬ç±»è§†å›¾"></a>æ–‡æœ¬ç±»è§†å›¾</h1><h2 id="UITextField"><a href="#UITextField" class="headerlink" title="UITextField"></a>UITextField</h2><blockquote><p>UITextFieldæœ‰ä¸¤ç§å®ç°æ–¹æ³•</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="comment">// æ”¯æŒè®¾ç½®åœ†è§’è¾¹æ¡†</span></div><div class="line"><span class="built_in">UITextField</span> *textField = [[<span class="built_in">UITextField</span> alloc] init];</div><div class="line">textField.borderStyle = <span class="built_in">UITextBorderStyleRoundedRect</span>;</div><div class="line"></div><div class="line"><span class="comment">// ä¸ UIView ç±»ä¼¼</span></div><div class="line"><span class="built_in">UITextField</span> *textField = [[<span class="built_in">UITextField</span> alloc] init];</div><div class="line">textField.layer.cornerRadius = cornerRadius;</div></pre></td></tr></table></figure><h2 id="UITextView"><a href="#UITextView" class="headerlink" title="UITextView"></a>UITextView</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ä¸ UIView ç±»ä¼¼</span></div><div class="line"><span class="built_in">UITextView</span> *textView = [[<span class="built_in">UITextView</span> alloc] init];</div><div class="line">textView.layer.cornerRadius = cornerRadius;</div></pre></td></tr></table></figure><h2 id="UILabel"><a href="#UILabel" class="headerlink" title="UILabel"></a>UILabel</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UILabel</span> *label = [[<span class="built_in">UILabel</span> alloc] init];</div><div class="line"><span class="comment">// é‡ç‚¹åœ¨æ­¤ï¼ï¼è®¾ç½®è§†å›¾çš„å›¾å±‚èƒŒæ™¯è‰²ï¼Œåƒä¸‡ä¸è¦ç›´æ¥è®¾ç½® label.backgroundColor</span></div><div class="line">label.layer.backgroundColor = [<span class="built_in">UIColor</span> grayColor].CGColor;</div><div class="line">label.layer.cornerRadius = cornerRadius;</div></pre></td></tr></table></figure><h1 id="UIButton"><a href="#UIButton" class="headerlink" title="UIButton"></a>UIButton</h1><blockquote><p>UIButton çš„èƒŒæ™¯å›¾ç‰‡ï¼Œå¦‚æœæ˜¯å¤æ‚çš„å›¾ç‰‡ï¼Œå¯ä»¥ä¾é  UI åˆ‡å›¾æ¥å®ç°<br>å¦‚æœæ˜¯ç®€å•çš„çº¯è‰²èƒŒæ™¯å›¾ç‰‡ï¼Œå¯ä»¥åˆ©ç”¨ä»£ç ç»˜åˆ¶å¸¦åœ†è§’çš„å›¾ç‰‡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIButton</span> *button = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</div><div class="line"></div><div class="line"><span class="comment">// è®¾ç½® UIButton çš„èƒŒæ™¯å›¾ç‰‡ã€‚</span></div><div class="line">[button setBackgroundImage:image forState:<span class="built_in">UIControlStateNormal</span>];</div></pre></td></tr></table></figure><blockquote><p>èƒŒæ™¯å›¾ç‰‡ç»˜åˆ¶æ–¹æ³•</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">    + (<span class="built_in">UIImage</span> *)pureColorImageWithSize:(<span class="built_in">CGSize</span>)size color:(<span class="built_in">UIColor</span> *)color cornRadius:(<span class="built_in">CGFloat</span>)cornRadius &#123;</div><div class="line">      <span class="built_in">UIView</span> *view = [[<span class="built_in">UIView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0.0</span>f, <span class="number">0.0</span>f, size.width, size.height)];</div><div class="line">      view.backgroundColor = color;</div><div class="line">      view.layer.cornerRadius = cornerRadius;</div><div class="line">      <span class="comment">// ä¸‹é¢æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºåŒºåŸŸå¤§å°ã€‚ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ˜¯å¦æ˜¯éé€æ˜çš„ã€‚å¦‚æœéœ€è¦æ˜¾ç¤ºåŠé€æ˜æ•ˆæœï¼Œéœ€è¦ä¼ NOï¼Œå¦åˆ™ä¼ YESã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å±å¹•å¯†åº¦</span></div><div class="line"><span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(view.bounds.size, <span class="literal">NO</span>, [<span class="built_in">UIScreen</span> mainScreen].scale);</div><div class="line">      [view.layer renderInContext:<span class="built_in">UIGraphicsGetCurrentContext</span>()];</div><div class="line">      <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</div><div class="line">      <span class="built_in">UIGraphicsEndImageContext</span>();</div><div class="line">      <span class="keyword">return</span> image;</div><div class="line">    &#125;</div></pre></td></tr></table></figure><h1 id="UIImageView"><a href="#UIImageView" class="headerlink" title="UIImageView"></a>UIImageView</h1><blockquote><p>æ–¹å¼ä¸€ï¼šè´å¡å°”æ›²çº¿åˆ‡å‰²åœ†è§’</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">UIImageView</span> *)roundedRectImageViewWithCornerRadius:(<span class="built_in">CGFloat</span>)cornerRadius &#123;</div><div class="line">    <span class="built_in">UIBezierPath</span> *bezierPath = [<span class="built_in">UIBezierPath</span> bezierPathWithRoundedRect:<span class="keyword">self</span>.bounds cornerRadius:cornerRadius];</div><div class="line">    <span class="built_in">CAShapeLayer</span> *layer = [<span class="built_in">CAShapeLayer</span> layer];</div><div class="line">    layer.path = bezierPath.CGPath;</div><div class="line">    <span class="keyword">self</span>.layer.mask = layer;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç»˜åˆ¶å››ä¸ªè§’çš„é®ç½©ï¼ˆä½¿ç”¨åœºæ™¯å—é™ï¼‰</p></blockquote><ul><li>åœ¨ UIImageView ä¸Šæ·»åŠ ä¸€ä¸ªå››ä¸ªè§’æœ‰å†…å®¹ï¼Œå…¶å®ƒéƒ¨åˆ†æ˜¯é€æ˜çš„è§†å›¾ï¼Œåªå¯¹ UIImageView åœ†è§’éƒ¨åˆ†è¿›è¡Œé®æŒ¡ã€‚ä½†è¦ä¿è¯è¢«é®æŒ¡çš„éƒ¨åˆ†èƒŒæ™¯è‰²è¦ä¸å‘¨å›´èƒŒæ™¯ç›¸åŒï¼Œé¿å…ç©¿å¸®ã€‚æ‰€ä»¥å½“ UIImageView å¤„äºä¸€ä¸ªå¤æ‚çš„èƒŒæ™¯æ—¶ï¼Œæ˜¯ä¸é€‚åˆä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„</li></ul><blockquote><p>æœ€ä¸æ¨èåšæ³•ï¼ˆå½“ä¸€ä¸ªé¡µé¢åªæœ‰å°‘é‡åœ†è§’å›¾ç‰‡æ—¶æ‰æ¨èä½¿ç”¨ï¼‰</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">UIImageView</span> *imageView = [[<span class="built_in">UIImageView</span> alloc] init];</div><div class="line">imageView.layer.cornerRadius = <span class="number">5.</span>f;</div><div class="line">imageView.layer.masksToBounds = <span class="literal">YES</span>;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
            <tag> Func </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UISearchController-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/UISearchController-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISearchController </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITableView-åŒè¡¨è”åŠ¨</title>
      <link href="/2017/12/14/Swift/UIKit/UITableView-%E5%8F%8C%E8%A1%A8%E8%81%94%E5%8A%A8/"/>
      <content type="html"><![CDATA[<h1 id="FFTableViewCtl-swift"><a href="#FFTableViewCtl-swift" class="headerlink" title="FFTableViewCtl.swift"></a>FFTableViewCtl.swift</h1><h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FFTableViewCtl</span>: <span class="title">UIViewController</span>, <span class="title">UITableViewDataSource</span>, <span class="title">UITableViewDelegate</span></span>&#123;&#125;</div></pre></td></tr></table></figure><h2 id="å£°æ˜å˜é‡"><a href="#å£°æ˜å˜é‡" class="headerlink" title="å£°æ˜å˜é‡"></a>å£°æ˜å˜é‡</h2><blockquote><p>å·¦ä¾§ èœå•åˆ†ç±»æ•°æ®æº</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">fileprivate</span> <span class="built_in">lazy</span> <span class="keyword">var</span> categoryData = [<span class="type">FFCategoryModel</span>]()</div></pre></td></tr></table></figure><blockquote><p>å³ä¾§ï¼ŒæŸç±»å‹å…·ä½“èœå•è¯¦æƒ…</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">fileprivate</span> <span class="built_in">lazy</span> <span class="keyword">var</span> foodData     = [[<span class="type">FFFoodModel</span>]]()</div></pre></td></tr></table></figure><blockquote><p>è®°å½•å½“å‰é€‰æ‹©åˆ†ç±»ï¼ˆèœç±»å‹ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">fileprivate</span>  <span class="keyword">var</span> selectIndex  = <span class="number">0</span>   <span class="comment">//é»˜è®¤é€‰æ‹© 0</span></div></pre></td></tr></table></figure><blockquote><p>è®°å½•æ˜¯å¦å‘ä¸‹æ»šåŠ¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">fileprivate</span>  <span class="keyword">var</span> isScrollDown = <span class="literal">true</span></div></pre></td></tr></table></figure><blockquote><p>è®°å½•æœ€åYæ–¹å‘åç§»é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">fileprivate</span>  <span class="keyword">var</span> lastOffsetY : <span class="type">CGFloat</span> = <span class="number">0.0</span></div></pre></td></tr></table></figure><blockquote><p>å·¦ä¾§TableViewè¡¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">fileprivate</span> <span class="built_in">lazy</span> <span class="keyword">var</span> leftTableView : <span class="type">UITableView</span> = &#123;</div><div class="line">    <span class="keyword">let</span> leftTableView = <span class="type">UITableView</span>()</div><div class="line">    leftTableView.delegate = <span class="keyword">self</span></div><div class="line">    leftTableView.dataSource = <span class="keyword">self</span></div><div class="line">    </div><div class="line">    leftTableView.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">80</span>, height: <span class="type">UIScreen</span>.main.bounds.height)</div><div class="line">    leftTableView.rowHeight = <span class="number">55</span></div><div class="line">    leftTableView.showsVerticalScrollIndicator = <span class="literal">false</span></div><div class="line">    leftTableView.separatorColor = <span class="type">UIColor</span>.clear</div><div class="line">    leftTableView.register(<span class="type">FFLeftTableViewCell</span>.<span class="keyword">self</span>, forCellReuseIdentifier: <span class="string">"FFLeftTableViewCell"</span>)</div><div class="line">    <span class="keyword">return</span> leftTableView</div><div class="line">&#125;()</div></pre></td></tr></table></figure><blockquote><p>å³ä¾§TableViewè¡¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">fileprivate</span> <span class="built_in">lazy</span> <span class="keyword">var</span> rightTableView : <span class="type">UITableView</span> = &#123;</div><div class="line">    <span class="keyword">let</span> rightTableView = <span class="type">UITableView</span>()</div><div class="line">    rightTableView.delegate = <span class="keyword">self</span></div><div class="line">    rightTableView.dataSource = <span class="keyword">self</span></div><div class="line">    rightTableView.frame = <span class="type">CGRect</span>(x: <span class="number">80</span>, y: <span class="number">64</span>, width: <span class="type">UIScreen</span>.main.bounds.width - <span class="number">80</span>, height: <span class="type">UIScreen</span>.main.bounds.height - <span class="number">64</span>)</div><div class="line">    rightTableView.rowHeight = <span class="number">80</span></div><div class="line">    rightTableView.showsVerticalScrollIndicator = <span class="literal">false</span></div><div class="line">    rightTableView.register(<span class="type">FFRightTableViewCell</span>.<span class="keyword">self</span>, forCellReuseIdentifier: <span class="string">"FFRightTableViewCell"</span>)</div><div class="line">    <span class="keyword">return</span> rightTableView</div><div class="line">&#125;()</div></pre></td></tr></table></figure><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">extension</span> <span class="title">FFTableViewCtl</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">fileprivate</span> <span class="function"><span class="keyword">func</span> <span class="title">configureData</span> <span class="params">()</span></span> &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">guard</span></div><div class="line">            <span class="keyword">let</span> path = <span class="type">Bundle</span>.main.path(forResource: <span class="string">"meituan"</span>, ofType: <span class="string">"json"</span>)</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">guard</span></div><div class="line">            <span class="keyword">let</span> data = <span class="type">NSData</span>(contentsOfFile: path) <span class="keyword">as</span> <span class="type">Data</span>?</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">guard</span></div><div class="line">            <span class="keyword">let</span> anyObject = <span class="keyword">try</span>? <span class="type">JSONSerialization</span>.jsonObject(with: data,</div><div class="line">                                                              options: .mutableContainers)</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">guard</span></div><div class="line">            <span class="keyword">let</span> dict = anyObject <span class="keyword">as</span>? [<span class="type">String</span> : <span class="type">Any</span>]</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">guard</span></div><div class="line">            <span class="keyword">let</span> datas = dict[<span class="string">"data"</span>] <span class="keyword">as</span>? [<span class="type">String</span> : <span class="type">Any</span>]</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">guard</span></div><div class="line">            <span class="keyword">let</span> foods = datas[<span class="string">"food_spu_tags"</span>] <span class="keyword">as</span>? [[<span class="type">String</span> : <span class="type">Any</span>]]</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(foods)"</span>)</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> food <span class="keyword">in</span> foods &#123;</div><div class="line">            </div><div class="line">            <span class="keyword">let</span> model = <span class="type">FFCategoryModel</span>(dict: food)</div><div class="line">            categoryData.append(model)</div><div class="line">            </div><div class="line">            <span class="keyword">guard</span></div><div class="line">                <span class="keyword">let</span> spus = model.spus</div><div class="line">                <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">continue</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">var</span> datas = [<span class="type">FFFoodModel</span>]()</div><div class="line">            <span class="keyword">for</span> fModel <span class="keyword">in</span> spus &#123;</div><div class="line">                datas.append(fModel)</div><div class="line">            &#125;</div><div class="line">           foodData.append(datas)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="TableView-2ä¸ªåè®®-å®ç°"><a href="#TableView-2ä¸ªåè®®-å®ç°" class="headerlink" title="TableView 2ä¸ªåè®® å®ç°"></a>TableView 2ä¸ªåè®® å®ç°</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">FFTableViewCtl</span> </span>&#123;<span class="comment">//DataSource //Delegate &#125;</span></div></pre></td></tr></table></figure><blockquote><p>è¡Œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">if</span> leftTableView == tableView&#123;</div><div class="line">        <span class="keyword">return</span> categoryData.<span class="built_in">count</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">return</span> foodData[section].<span class="built_in">count</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>cell</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</div><div class="line">    <span class="keyword">if</span> leftTableView == tableView &#123;</div><div class="line">        <span class="keyword">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"FFLeftTableViewCell"</span>,</div><div class="line">                                                 <span class="keyword">for</span>: indexPath)<span class="keyword">as</span>! <span class="type">FFLeftTableViewCell</span></div><div class="line">        </div><div class="line">        <span class="keyword">let</span> model  = categoryData[indexPath.row]</div><div class="line">        cell.nameLab.text = model.name</div><div class="line">        <span class="keyword">return</span> cell</div><div class="line">        </div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"FFRightTableViewCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">FFRightTableViewCell</span></div><div class="line">        <span class="keyword">let</span> model = foodData[indexPath.section][indexPath.row]</div><div class="line">        cell.setDatas(model: model)</div><div class="line">        <span class="keyword">return</span> cell</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åŒº æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfSections</span><span class="params">(<span class="keyword">in</span> tableView: UITableView)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">if</span> leftTableView == tableView &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> categoryData.<span class="built_in">count</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p> åŒº view- è®¾ç½®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, viewForHeaderInSection section: Int)</span></span> -&gt; <span class="type">UIView</span>? &#123;</div><div class="line">    <span class="keyword">if</span> leftTableView == tableView &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">let</span> headerView = <span class="type">FFTableViewHeaderView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="type">UIScreen</span>.main.bounds.width, height: <span class="number">20</span>))</div><div class="line">        <span class="keyword">let</span> model = categoryData[section]</div><div class="line">        headerView.nameLab.text = model.name</div><div class="line">        <span class="keyword">return</span> headerView</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p> åŒºå¤´view - åŒºé«˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">    <span class="keyword">if</span> leftTableView == tableView &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">20</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åŒºå¤´view - å³å°†å±•ç¤º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, willDisplayHeaderView view: UIView, forSection section: Int)</span></span> &#123;</div><div class="line">    <span class="comment">// å½“å‰çš„ tableView æ˜¯ FFRightTableViewï¼ŒFFRightTableView æ»šåŠ¨çš„æ–¹å‘å‘ä¸Šï¼ŒFFRightTableView æ˜¯ç”¨æˆ·æ‹–æ‹½è€Œäº§ç”Ÿæ»šåŠ¨çš„ï¼ˆï¼ˆä¸»è¦åˆ¤æ–­ RightTableView ç”¨æˆ·æ‹–æ‹½è€Œæ»šåŠ¨çš„ï¼Œè¿˜æ˜¯ç‚¹å‡» FFLeftTableView è€Œæ»šåŠ¨çš„ï¼‰</span></div><div class="line">    <span class="keyword">if</span>(rightTableView == tableView)</div><div class="line">        &amp;&amp; !isScrollDown</div><div class="line">        &amp;&amp; (rightTableView.isDragging || rightTableView.isDecelerating)&#123;</div><div class="line">        selectRow(index: section)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åŒºå¤´view - å±•ç¤ºç»“æŸ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, didEndDisplayingHeaderView view: UIView, forSection section: Int)</span></span> &#123;</div><div class="line">    <span class="comment">// å½“å‰çš„ tableView æ˜¯ FFRightTableViewï¼ŒFFRightTableView æ»šåŠ¨çš„æ–¹å‘å‘ä¸‹ï¼ŒFFRightTableView æ˜¯ç”¨æˆ·æ‹–æ‹½è€Œäº§ç”Ÿæ»šåŠ¨çš„ï¼ˆï¼ˆä¸»è¦åˆ¤æ–­ RightTableView ç”¨æˆ·æ‹–æ‹½è€Œæ»šåŠ¨çš„ï¼Œè¿˜æ˜¯ç‚¹å‡» FFLeftTableView è€Œæ»šåŠ¨çš„ï¼‰</span></div><div class="line">    <span class="keyword">if</span> (rightTableView == tableView)</div><div class="line">        &amp;&amp; isScrollDown</div><div class="line">        &amp;&amp; (rightTableView.isDragging || rightTableView.isDecelerating) &#123;</div><div class="line">        selectRow(index: section + <span class="number">1</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>didSelct - é€‰æ‹©cell</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, didSelectRowAt indexPath: IndexPath)</span></span> &#123;</div><div class="line">    <span class="keyword">if</span> leftTableView == tableView &#123;</div><div class="line">        selectIndex = indexPath.row</div><div class="line">        <span class="keyword">self</span>.scrollToTop(section: selectIndex, animated: <span class="literal">true</span>)</div><div class="line">        leftTableView.scrollToRow(at: <span class="type">IndexPath</span>(row: selectIndex, section: <span class="number">0</span>), at: .top, animated: <span class="literal">true</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>scrollViewDidScroll<br>æ ‡è®°ä¸€ä¸‹ RightTableView çš„æ»šåŠ¨æ–¹å‘ï¼Œæ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView)</span></span> &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> tableView = scrollView <span class="keyword">as</span>! <span class="type">UITableView</span></div><div class="line">    <span class="keyword">if</span> rightTableView == tableView &#123;</div><div class="line">        isScrollDown = lastOffsetY &lt; scrollView.contentOffset.y</div><div class="line">        lastOffsetY = scrollView.contentOffset.y</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="private-ç§æœ‰æ–¹æ³•"><a href="#private-ç§æœ‰æ–¹æ³•" class="headerlink" title="private ç§æœ‰æ–¹æ³•"></a>private ç§æœ‰æ–¹æ³•</h2><blockquote><p>selectRow å½“æ‹–åŠ¨å³è¾¹TableViewï¼Œå¤„ç†å·¦è¾¹ TableView</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">selectRow</span><span class="params">(index:Int)</span></span>&#123;</div><div class="line">    leftTableView.selectRow(at: <span class="type">IndexPath</span>(row: index,</div><div class="line">                                          section: <span class="number">0</span>),</div><div class="line">                            animated: <span class="literal">true</span>,</div><div class="line">                            scrollPosition: .top)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>scrollToTop</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">fileprivate</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollToTop</span><span class="params">(section:Int,animated: Bool)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> headerRect = rightTableView.rect(forSection: section)</div><div class="line">    <span class="keyword">let</span> topHeader = <span class="type">CGPoint</span>(x: <span class="number">0</span>, y: headerRect.origin.y - rightTableView.contentInset.top)</div><div class="line">    rightTableView.setContentOffset(topHeader, animated: animated)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="FFLeftTableViewCell-swift"><a href="#FFLeftTableViewCell-swift" class="headerlink" title="FFLeftTableViewCell.swift"></a>FFLeftTableViewCell.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">import</span> UIKit</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FFLeftTableViewCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">awakeFromNib</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.awakeFromNib()</div><div class="line">        <span class="comment">// Initialization code</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> nameLab = <span class="type">UILabel</span>()</div><div class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> yellowView = <span class="type">UIView</span>()</div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span> (style:<span class="type">UITableViewCellStyle</span>,reuseIdentifier:<span class="type">String</span>?)&#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(style: style, reuseIdentifier: reuseIdentifier)</div><div class="line">        selectionStyle = .<span class="keyword">none</span></div><div class="line">        initUI()</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</div><div class="line">        <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">initUI</span><span class="params">()</span></span> &#123;</div><div class="line">        nameLab.frame = <span class="type">CGRect</span>(x: <span class="number">10</span>, y: <span class="number">10</span>, width: <span class="number">60</span>, height: <span class="number">40</span>)</div><div class="line">        nameLab.numberOfLines = <span class="number">0</span></div><div class="line">        nameLab.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">15</span>)</div><div class="line">        nameLab.textColor = <span class="type">UIColor</span>(<span class="number">130</span>, <span class="number">130</span>, <span class="number">130</span>)</div><div class="line">        nameLab.highlightedTextColor = <span class="type">UIColor</span>(<span class="number">253</span>, <span class="number">212</span>, <span class="number">49</span>)</div><div class="line">        contentView.addSubview(nameLab)</div><div class="line">        </div><div class="line">        yellowView.frame = <span class="type">CGRect</span>(x:<span class="number">0</span>,y:<span class="number">5</span>,width:<span class="number">5</span>,height:<span class="number">45</span>)</div><div class="line">        yellowView.backgroundColor = <span class="type">UIColor</span>(<span class="number">253</span>, <span class="number">212</span>, <span class="number">49</span>)</div><div class="line">        contentView.addSubview(yellowView)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setSelected</span><span class="params">(<span class="number">_</span> selected: Bool, animated: Bool)</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.setSelected(selected, animated: animated)</div><div class="line">        <span class="comment">// Configure the view for the selected state</span></div><div class="line">        </div><div class="line">        contentView.backgroundColor = selected ? <span class="type">UIColor</span>.white : <span class="type">UIColor</span>(white: <span class="number">0</span>, alpha: <span class="number">0.1</span>)</div><div class="line">        isHighlighted = selected</div><div class="line">        nameLab.isHighlighted = selected</div><div class="line">        yellowView.isHidden = !selected</div><div class="line">        </div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="FFRightTableViewCell-swift"><a href="#FFRightTableViewCell-swift" class="headerlink" title="FFRightTableViewCell.swift"></a>FFRightTableViewCell.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">FFRightTableViewCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">awakeFromNib</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.awakeFromNib()</div><div class="line">        <span class="comment">// Initialization code</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setSelected</span><span class="params">(<span class="number">_</span> selected: Bool, animated: Bool)</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.setSelected(selected, animated: animated)</div><div class="line"></div><div class="line">        <span class="comment">// Configure the view for the selected state</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> nameLab = <span class="type">UILabel</span>()       <span class="comment">//åç§°</span></div><div class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> imgView = <span class="type">UIImageView</span>()   <span class="comment">//</span></div><div class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> priceLab = <span class="type">UILabel</span>()      <span class="comment">// ä»·æ ¼</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(style: <span class="type">UITableViewCellStyle</span>, reuseIdentifier: <span class="type">String</span>?)&#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(style: style, reuseIdentifier: reuseIdentifier)</div><div class="line">        initUI()</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</div><div class="line">        <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//#MARK:è®¾ç½®UI</span></div><div class="line">    <span class="function"><span class="keyword">func</span>  <span class="title">initUI</span><span class="params">()</span></span>&#123;</div><div class="line">        nameLab.frame = <span class="type">CGRect</span>(x: <span class="number">15</span>, y: <span class="number">15</span>, width: <span class="number">50</span>, height: <span class="number">50</span>)</div><div class="line">        contentView.addSubview(nameLab)</div><div class="line">        </div><div class="line">        imgView.frame = <span class="type">CGRect</span>(x: <span class="number">15</span>, y: <span class="number">15</span>, width: <span class="number">50</span>, height: <span class="number">50</span>)</div><div class="line">        contentView.addSubview(imgView)</div><div class="line">        </div><div class="line">        priceLab.frame = <span class="type">CGRect</span>(x: <span class="number">80</span>, y: <span class="number">45</span>, width: <span class="number">200</span>, height: <span class="number">30</span>)</div><div class="line">        priceLab.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">14</span>)</div><div class="line">        priceLab.textColor = <span class="type">UIColor</span>.red</div><div class="line">        contentView.addSubview(priceLab)</div><div class="line">    &#125;</div><div class="line">   <span class="comment">//#MARK: åŠ è½½æ•°æ®</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">setDatas</span><span class="params">( model:FFFoodModel)</span></span>&#123;</div><div class="line">        <span class="keyword">guard</span></div><div class="line">            <span class="keyword">let</span> minPrice = model.minPrice,</div><div class="line">            <span class="keyword">let</span> picture = model.picture,</div><div class="line">            <span class="keyword">let</span> name = model.name</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">            priceLab.text = <span class="string">"ï¿¥\(minPrice)"</span></div><div class="line">            nameLab.text = name</div><div class="line">        </div><div class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> url = <span class="type">URL</span>.<span class="keyword">init</span>(string: picture)</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">      imgView.kf.setImage(with: url)</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="FFCategoryModel-swift"><a href="#FFCategoryModel-swift" class="headerlink" title="FFCategoryModel.swift"></a>FFCategoryModel.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">FFCategoryModel</span>: <span class="title">NSObject</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> icon: <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> spus:    [<span class="type">FFFoodModel</span>]?</div><div class="line">    </div><div class="line">    <span class="keyword">init</span>(dict :[<span class="type">String</span>:<span class="type">Any</span>]) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</div><div class="line">        setValuesForKeys(dict)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setValue</span><span class="params">(<span class="number">_</span> value: Any?, forKey key: String)</span></span> &#123;</div><div class="line">        <span class="keyword">if</span> key == <span class="string">"spus"</span> &#123;</div><div class="line">           spus = <span class="type">Array</span>()</div><div class="line">            <span class="keyword">guard</span></div><div class="line">                <span class="keyword">let</span> datas = value <span class="keyword">as</span>? [[<span class="type">String</span>:<span class="type">Any</span>]]</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span> dict <span class="keyword">in</span> datas&#123;</div><div class="line">                <span class="keyword">let</span> foodModel = <span class="type">FFFoodModel</span>(dict:dict)</div><div class="line">                spus?.append(foodModel)</div><div class="line">            &#125;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">super</span>.setValue(value, forKey: key)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setValue</span><span class="params">(<span class="number">_</span> value: Any?, forUndefinedKey key: String)</span></span> &#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="FFFoodModel-swift"><a href="#FFFoodModel-swift" class="headerlink" title="FFFoodModel.swift"></a>FFFoodModel.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">FFFoodModel</span>: <span class="title">NSObject</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> name : <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> picture : <span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> minPrice : <span class="type">Float</span>?</div><div class="line">    </div><div class="line">    <span class="keyword">init</span>(dict : [<span class="type">String</span> : <span class="type">Any</span>]) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</div><div class="line">        setValuesForKeys(dict)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setValue</span><span class="params">(<span class="number">_</span> value: Any?, forKey key: String)</span></span> &#123;</div><div class="line">        <span class="keyword">if</span> key == <span class="string">"min_price"</span> &#123;</div><div class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> price = value <span class="keyword">as</span>? <span class="type">Float</span> <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</div><div class="line">            minPrice = price</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">super</span>.setValue(value, forKey: key)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setValue</span><span class="params">(<span class="number">_</span> value: Any?, forUndefinedKey key: String)</span></span> &#123;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="FFTableViewHeaderView-swift"><a href="#FFTableViewHeaderView-swift" class="headerlink" title="FFTableViewHeaderView.swift"></a>FFTableViewHeaderView.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">FFTableViewHeaderView</span>: <span class="title">UIView</span> </span>&#123;</div><div class="line"></div><div class="line"> <span class="built_in">lazy</span> <span class="keyword">var</span> nameLab  = <span class="type">UILabel</span>()</div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span> (frame:<span class="type">CGRect</span>)&#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</div><div class="line">        backgroundColor = <span class="type">UIColor</span>(<span class="number">240</span>, <span class="number">240</span>, <span class="number">240</span>, <span class="number">0.8</span>)</div><div class="line">        nameLab.frame = <span class="type">CGRect</span>(x: <span class="number">15</span>, y: <span class="number">0</span>, width: <span class="number">200</span>, height: <span class="number">20</span>)</div><div class="line">        nameLab.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">13</span>)</div><div class="line">        addSubview(nameLab)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</div><div class="line">        <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITableView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITableView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Error-ç½‘ç»œé”™è¯¯é”¦é›†</title>
      <link href="/2017/12/14/Swift/Error/Swift-Error-%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF%E9%94%A6%E9%9B%86/"/>
      <content type="html"><![CDATA[<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><blockquote><p>é”™è¯¯ä¿¡æ¯</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app&apos;s Info.plist file</div></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹info.plist</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">App Transport Security Settings</div><div class="line">  Allow Arbitrary Loads           YES</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Error </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Error-å¼€å‘é”™è¯¯é”¦é›†</title>
      <link href="/2017/12/14/Swift/Error/Swift-Error-%E5%BC%80%E5%8F%91%E9%94%99%E8%AF%AF%E9%94%A6%E9%9B%86/"/>
      <content type="html"><![CDATA[<h1 id="Modelèµ‹å€¼"><a href="#Modelèµ‹å€¼" class="headerlink" title="Modelèµ‹å€¼"></a>Modelèµ‹å€¼</h1><blockquote><p>æŸä¸ªkeyï¼ˆæ¯”å¦‚has_next_pageï¼‰æ²¡varï¼Œä½†æ•°æ®é‡Œæœ‰(forUndefinedKey)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">reason:this <span class="class"><span class="keyword">class</span> <span class="title">is</span> <span class="title">not</span> <span class="title">key</span> <span class="title">value</span> <span class="title">coding</span>-<span class="title">compliant</span> <span class="title">for</span> <span class="title">the</span> <span class="title">key</span> <span class="title">has_next_page</span>.'</span></div></pre></td></tr></table></figure><blockquote><p>forKey/forUndefinedKey</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//forKey</span></div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setValue</span><span class="params">(<span class="number">_</span> value: Any?, forKey key: String)</span></span> &#123;&#125;</div><div class="line"></div><div class="line"><span class="comment">//forUndefinedKey</span></div><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">setValue</span><span class="params">(<span class="number">_</span> value: Any?, forUndefinedKey key: String)</span></span> &#123;&#125;</div></pre></td></tr></table></figure><h1 id="æ·»åŠ ç¯å¢ƒå˜é‡-OS-ACTIVITY-MODE"><a href="#æ·»åŠ ç¯å¢ƒå˜é‡-OS-ACTIVITY-MODE" class="headerlink" title="æ·»åŠ ç¯å¢ƒå˜é‡ OS_ACTIVITY_MODE"></a>æ·»åŠ ç¯å¢ƒå˜é‡ OS_ACTIVITY_MODE</h1><blockquote><p>Xcode 8å¤šä½™æ—¥å¿—è¾“å‡º</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">nw_socket_set_common_sockopts setsockopt SO_NOAPNFALLBK failed: [42] Protocol not available, dumping backtrace:</div></pre></td></tr></table></figure><blockquote><p>æ·»åŠ ç¯å¢ƒå˜é‡ </p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">ã€productã€‘-ã€schemeã€‘-ã€Edit Schemeã€‘-ã€Runã€‘-ã€Argumentã€‘-ã€Environment Variableã€‘æ·»åŠ key Valueã€OS_ACTIVITY_MODE disableã€‘</div></pre></td></tr></table></figure><p>#æ£€æŸ¥å­—å…¸æˆ–è€…æ•°ç»„çš„å½¢å¼æ˜¯å¦æ­£ç¡®</p><blockquote><p>Swiftç¼–è¯‘æ—¶æŠ¥é”™ï¼šCommand failed due to signal: Segmentation fault: 11<br>åœ¨ç½‘ç»œè¯·æ±‚å®Œï¼Œè§£æçš„æ—¶å€™é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Alamofire</span>.request(.<span class="type">GET</span>, <span class="string">"http://api.budejie.com/api/api_open.php"</span>, parameters: [<span class="string">"a"</span>:<span class="string">"newlist"</span>, <span class="string">"c"</span>:<span class="string">"data"</span>, <span class="string">"type"</span>:<span class="number">1</span>]).responseJSON() &#123; response <span class="keyword">in</span></div><div class="line"></div><div class="line">        <span class="keyword">let</span> json = <span class="type">JSON</span>(response.result.value!)</div><div class="line">        arr = json[<span class="string">"list"</span>].arrayObject!</div><div class="line">        <span class="type">DRLog</span>(arr)</div><div class="line">        <span class="keyword">self</span>.tableView.reloadData()</div><div class="line">      &#125;</div></pre></td></tr></table></figure><blockquote><p>åœ¨æ§åˆ¶å°ä¸Šçœ‹åˆ°çš„ç¡®å®æ˜¯arræ˜¯ä¸€ä¸ªæ•°ç»„å½¢å¼ï¼Œé‡Œé¢æœ‰å¤šä¸ªNSDictionaryå½¢å¼ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ç›´æ¥è¿™ä¸ªç”¨ï¼šarr[index][â€œtextâ€]æ˜¯é”™è¯¯çš„ã€‚å¿…é¡»å…ˆå°†arrä¸­çš„æ¯ä¸ªç±»ä¼¼NSDictionaryå½¢å¼è½¬æ¢æˆNSDictionaryï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> dic = arr[index] <span class="keyword">as</span>! <span class="type">NSDictionary</span></div><div class="line"><span class="keyword">let</span> text = dic[<span class="string">"text"</span>] <span class="keyword">as</span>? <span class="type">String</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Error </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Error </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIWebView-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/14/Swift/UIKit/Swift-UIKit-UIWebView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="UIWebView"><a href="#UIWebView" class="headerlink" title="UIWebView"></a>UIWebView</h1><blockquote><p>UIWebView ç»§æ‰¿ä¸ UIView, å¹¶ä¸”éµå®ˆäº† UIScrollViewDelegate åè®®, æ‰€ä»¥å®ƒå¯ä»¥ä½¿ç”¨é‡Œé¢çš„æ–¹æ³•å’Œå±æ€§</p></blockquote><h1 id="éµå®ˆä»£ç†åè®®"><a href="#éµå®ˆä»£ç†åè®®" class="headerlink" title="éµå®ˆä»£ç†åè®®"></a>éµå®ˆä»£ç†åè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UIWebViewDelegate</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰UIWebVIew"><a href="#è‡ªå®šä¹‰UIWebVIew" class="headerlink" title="è‡ªå®šä¹‰UIWebVIew"></a>è‡ªå®šä¹‰UIWebVIew</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myWebView</span><span class="params">()</span></span> &#123;</div><div class="line"></div><div class="line">       <span class="comment">// 1.è·å– UIWebView çš„ UIScrollView å±æ€§</span></div><div class="line">       <span class="keyword">let</span> webScroll = webView.scrollView</div><div class="line">       <span class="built_in">println</span>(<span class="string">"webScroll = \(webScroll)"</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 2.è·å– UIWebView çš„ request å±æ€§</span></div><div class="line">       <span class="keyword">let</span> webRequest = webView.request</div><div class="line">       <span class="built_in">println</span>(<span class="string">"webRequest = \(webRequest)"</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 3.è·å– UIWebView æ˜¯å¦åœ¨æ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥é€€åä¸€æ­¥</span></div><div class="line">       <span class="keyword">let</span> webCanBack = webView.canGoBack</div><div class="line">       <span class="built_in">println</span>(<span class="string">"webCanBack = \(webCanBack)"</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 4.è·å– UIWebView æ˜¯å¦åœ¨æ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥å‰è¿›ä¸€æ­¥</span></div><div class="line">       <span class="keyword">let</span> webCanGo = webView.canGoForward</div><div class="line">       <span class="built_in">println</span>(<span class="string">"webCanGo = \(webCanGo)"</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 5.è·å– UIWebVIew æ˜¯å¦æ¥å—å®Œæ•°æ®</span></div><div class="line">       <span class="keyword">let</span> webLoading = webView.loading</div><div class="line">       <span class="built_in">println</span>(<span class="string">"webLoading = \(webLoading)"</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 6.è®¾ç½® UIWebView æ¥æ”¶çš„æ•°æ®æ˜¯å¦å¯ä»¥é€šè¿‡æ‰‹åŠ¿æ¥è°ƒæ•´é¡µé¢å†…å®¹å¤§å°</span></div><div class="line">       webView.scalesPageToFit = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 7.è®¾ç½® UIWebView æ¥æ”¶åˆ°å¾—æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹çš„</span></div><div class="line">       webView.dataDetectorTypes = <span class="type">UIDataDetectorTypes</span>.<span class="type">All</span></div><div class="line"></div><div class="line">       <span class="comment">// 8.è®¾ç½® UIWebView å†…æ˜¯å¦å¯ä»¥å›æ”¾åª’ä½“</span></div><div class="line">       webView.allowsInlineMediaPlayback = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 9.è®¾ç½® UIWebView ä¸­çš„ HTML5 è§†é¢‘æ˜¯å¦è‡ªåŠ¨æ’­æ”¾</span></div><div class="line">       webView.mediaPlaybackRequiresUserAction = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 10.è®¾ç½® UIWebView æ˜¯å¦å¯ä»¥ä½¿ç”¨ Air æ’­æ”¾</span></div><div class="line">       webView.mediaPlaybackAllowsAirPlay = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 11.è®¾ç½® UIWebView æ˜¯å¦ä½¿ç”¨åŒæ­¥åŠ è½½(é»˜è®¤æ˜¯False)</span></div><div class="line">       webView.suppressesIncrementalRendering = <span class="literal">false</span></div><div class="line"></div><div class="line">       <span class="comment">// 12.è®¾ç½® UIWebView åœ¨ç‚¹å‡»è§†å›¾æˆ–è€…å…ƒç´ æ—¶æ˜¯å¦æ˜¾ç¤ºé”®ç›˜(é»˜è®¤æ˜¯True)</span></div><div class="line">       webView.keyboardDisplayRequiresUserAction = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 13.è®¾ç½® UIWebView çš„åˆ†é¡µæ¨¡å¼</span></div><div class="line">       webView.paginationMode = <span class="type">UIWebPaginationMode</span>.<span class="type">RightToLeft</span></div><div class="line"></div><div class="line">       <span class="comment">// 14.è®¾ç½® UIWebView çš„åˆ†é¡µæ‰“ç ´æ¨¡å¼</span></div><div class="line">       webView.paginationBreakingMode = <span class="type">UIWebPaginationBreakingMode</span>.<span class="type">Column</span></div><div class="line"></div><div class="line">       <span class="comment">// 15.è®¾ç½® UIWebView çš„åˆ†é¡µé•¿åº¦</span></div><div class="line">       webView.pageLength = <span class="number">400</span></div><div class="line"></div><div class="line">       <span class="comment">// 16.è®¾ç½® UIWebView æ¯ä¸ªåˆ†é¡µä¹‹é—´çš„å®½åº¦</span></div><div class="line">       webView.gapBetweenPages = <span class="number">100</span></div><div class="line"></div><div class="line">       <span class="comment">// 17.è·å– UIWebView çš„åˆ†é¡µæ•°é‡</span></div><div class="line">       <span class="keyword">let</span> webViewPageCount = webView.pageCount</div><div class="line">       <span class="built_in">println</span>(webViewPageCount)</div><div class="line"></div><div class="line">       <span class="comment">// 18.è®¾ç½® UIWebView çš„ä»£ç†å¯¹è±¡</span></div><div class="line">       webView.delegate = <span class="keyword">self</span></div><div class="line"></div><div class="line">       <span class="comment">// 19.å‘é€ç½‘ç»œè¯·æ±‚</span></div><div class="line">       <span class="keyword">var</span> url:<span class="type">NSURL</span> = <span class="type">NSURL</span>(string:<span class="string">"http://www.baidu.com"</span>)!</div><div class="line">       <span class="keyword">var</span> request:<span class="type">NSURLRequest</span> = <span class="type">NSURLRequest</span>(<span class="type">URL</span>:url)</div><div class="line">       webView.loadRequest(request)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="å®ç°ä»£ç†æ–¹æ³•"><a href="#å®ç°ä»£ç†æ–¹æ³•" class="headerlink" title="å®ç°ä»£ç†æ–¹æ³•"></a>å®ç°ä»£ç†æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ˜¯å¦åœ¨ UIWebView åŠ è½½ä¹‹å‰å‘é€ä¸€ä¸ªè¯·æ±‚</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">       <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="comment">// 2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åœ¨å¼€å‘åŠ è½½æ—¶è°ƒç”¨</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">webViewDidStartLoad</span><span class="params">(webView: UIWebView)</span></span> &#123;</div><div class="line">       <span class="built_in">println</span>(<span class="string">"å¼€å§‹åŠ è½½"</span>)</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="comment">// 3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åŠ è½½å®Œä¹‹åæ‰è°ƒç”¨</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">webViewDidFinishLoad</span><span class="params">(webView: UIWebView)</span></span> &#123;</div><div class="line">       <span class="built_in">println</span>(<span class="string">"åŠ è½½å®Œæˆ"</span>)</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="comment">// 4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView è¯·æ±‚å¤±è´¥çš„æ—¶å€™è°ƒç”¨</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: UIWebView, didFailLoadWithError error: NSError)</span></span> &#123;</div><div class="line">       <span class="built_in">println</span>(<span class="string">"åŠ è½½å¤±è´¥"</span>)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="åœ¨-ViewDidLoad-æ–¹æ³•ä¸­å®ç°"><a href="#åœ¨-ViewDidLoad-æ–¹æ³•ä¸­å®ç°" class="headerlink" title="åœ¨ ViewDidLoad æ–¹æ³•ä¸­å®ç°"></a>åœ¨ ViewDidLoad æ–¹æ³•ä¸­å®ç°</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="keyword">super</span>.viewDidLoad()</div><div class="line">       <span class="keyword">self</span>.myWebView()</div><div class="line">   &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIWebView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIWebView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIWebView-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/Swift-UIKit-UIWebView-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UIWebViewçš„å¸¸ç”¨å±æ€§"><a href="#UIWebViewçš„å¸¸ç”¨å±æ€§" class="headerlink" title="UIWebViewçš„å¸¸ç”¨å±æ€§"></a>UIWebViewçš„å¸¸ç”¨å±æ€§</h1><blockquote><p>1.è®¾ç½® UIWebView çš„ä»£ç†å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> delegate: <span class="type">UIWebViewDelegate</span>?</div></pre></td></tr></table></figure><blockquote><p>2.è·å– UIWebView çš„ UIScrollView å±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> scrollView: <span class="type">UIScrollView</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>3.è·å– UIWebView çš„ç½‘ç»œè¯·æ±‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> request: <span class="type">NSURLRequest</span>? &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>4.è·å– UIWebView æ˜¯å¦åœ¨æ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥é€€åä¸€æ­¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> canGoBack: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>5.è·å– UIWebView æ˜¯å¦åœ¨æ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥å‰è¿›ä¸€æ­¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">var</span> canGoForward: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">```  </div><div class="line"></div><div class="line">&gt; <span class="number">6</span>.è·å– <span class="type">UIWebView</span> æ˜¯å¦æ¥å—å®Œæ•°æ®</div><div class="line"></div><div class="line">```swift</div><div class="line">   <span class="keyword">var</span> loading: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>7.è®¾ç½® UIWebView æ¥æ”¶çš„æ•°æ®æ˜¯å¦å¯ä»¥é€šè¿‡æ‰‹åŠ¿æ¥è°ƒæ•´é¡µé¢å†…å®¹å¤§å°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> scalesPageToFit: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>8.è®¾ç½® UIWebView æ¥æ”¶çš„æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> dataDetectorTypes: <span class="type">UIDataDetectorTypes</span></div></pre></td></tr></table></figure><blockquote><p>9.è®¾ç½® UIWebView å†…æ˜¯å¦å¯ä»¥å›æ”¾åª’ä½“</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> allowsInlineMediaPlayback: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>10.è®¾ç½® UIWebView ä¸­çš„ HTML5 è§†é¢‘æ˜¯å¦è‡ªåŠ¨æ’­æ”¾(é»˜è®¤æ˜¯True)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> mediaPlaybackRequiresUserAction: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>11.è®¾ç½® UIWebView æ˜¯å¦å¯ä»¥ä½¿ç”¨ Air æ’­æ”¾(é»˜è®¤æ˜¯True)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> mediaPlaybackAllowsAirPlay: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>12.è®¾ç½® UIWebView æ˜¯å¦ä½¿ç”¨åŒæ­¥åŠ è½½(é»˜è®¤æ˜¯False)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> suppressesIncrementalRendering: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>13.è®¾ç½® UIWebView åœ¨ç‚¹å‡»è§†å›¾æˆ–è€…å…ƒç´ æ—¶æ˜¯å¦æ˜¾ç¤ºé”®ç›˜(é»˜è®¤æ˜¯True)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> keyboardDisplayRequiresUserAction: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>14.è®¾ç½® UIWebView çš„åˆ†é¡µæ¨¡å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> paginationMode: <span class="type">UIWebPaginationMode</span></div></pre></td></tr></table></figure><blockquote><p>15.è®¾ç½® UIWebView çš„åˆ†é¡µæ‰“ç ´æ¨¡å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> paginationBreakingMode: <span class="type">UIWebPaginationBreakingMode</span></div></pre></td></tr></table></figure><blockquote><p>16.è®¾ç½® UIWebView çš„åˆ†é¡µé•¿åº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> pageLength: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>17.è®¾ç½® UIWebView ä¹‹é—´çš„é¡µé¢å®½åº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> gapBetweenPages: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>18.è·å– UIWebView çš„é¡µé¢æ•°é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> pageCount: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><h1 id="å¸¸ç”¨ç±»å‹"><a href="#å¸¸ç”¨ç±»å‹" class="headerlink" title="å¸¸ç”¨ç±»å‹"></a>å¸¸ç”¨ç±»å‹</h1><blockquote><p>1.è·å– UIWebView çš„æ•°æ®ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UIDataDetectorTypes</span> : <span class="title">RawOptionSetType</span> </span>&#123;</div><div class="line">    <span class="keyword">init</span>(<span class="number">_</span> rawValue: <span class="type">UInt</span>)</div><div class="line">    <span class="keyword">init</span>(rawValue: <span class="type">UInt</span>)</div><div class="line"></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">PhoneNumber</span>: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">Link</span>: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">Address</span>: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">CalendarEvent</span>: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">None</span>: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">All</span>: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® UIWebView çš„ Navigation ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">UIWebViewNavigationType</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">LinkClicked</span></div><div class="line">    <span class="keyword">case</span> <span class="type">FormSubmitted</span></div><div class="line">    <span class="keyword">case</span> <span class="type">BackForward</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Reload</span></div><div class="line">    <span class="keyword">case</span> <span class="type">FormResubmitted</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Other</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® UIWebView çš„åˆ†é¡µæ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">UIWebPaginationMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Unpaginated</span></div><div class="line">    <span class="keyword">case</span> <span class="type">LeftToRight</span></div><div class="line">    <span class="keyword">case</span> <span class="type">TopToBottom</span></div><div class="line">    <span class="keyword">case</span> <span class="type">BottomToTop</span></div><div class="line">    <span class="keyword">case</span> <span class="type">RightToLeft</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® UIWebView æ‰“ç ´åˆ†é¡µæ ·å¼çš„æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">UIWebPaginationBreakingMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Page</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Column</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="UIWebViewçš„ä»£ç†æ–¹æ³•"><a href="#UIWebViewçš„ä»£ç†æ–¹æ³•" class="headerlink" title="UIWebViewçš„ä»£ç†æ–¹æ³•"></a>UIWebViewçš„ä»£ç†æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ˜¯å¦åœ¨ UIWebView åŠ è½½ä¹‹å‰å‘é€ä¸€ä¸ªè¯·æ±‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åœ¨å¼€å‘åŠ è½½æ—¶è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewDidStartLoad</span><span class="params">(webView: UIWebView)</span></span></div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åŠ è½½å®Œä¹‹åæ‰è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewDidFinishLoad</span><span class="params">(webView: UIWebView)</span></span></div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView è¯·æ±‚å¤±è´¥çš„æ—¶å€™è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: UIWebView, didFailLoadWithError error: NSError)</span></span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIWebView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIWebView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UINavigationController-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/14/Swift/UIKit/UINavigationController-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="UINavigationController"><a href="#UINavigationController" class="headerlink" title="UINavigationController"></a>UINavigationController</h1><blockquote><p>UINavigationController æ˜¯ç»§æ‰¿ä¸ UIViewController çš„, æ‰€ä»¥é‡Œé¢çš„æ–¹æ³•ä»¥åŠå±æ€§éƒ½æ˜¯å¯ä»¥ä½¿ç”¨çš„.</p></blockquote><h1 id="é¦–å…ˆæˆ‘ä»¬è¦å†AppDelegate-swiftæ–‡ä»¶ä¸­å®ç°"><a href="#é¦–å…ˆæˆ‘ä»¬è¦å†AppDelegate-swiftæ–‡ä»¶ä¸­å®ç°" class="headerlink" title="é¦–å…ˆæˆ‘ä»¬è¦å†AppDelegate.swiftæ–‡ä»¶ä¸­å®ç°"></a>é¦–å…ˆæˆ‘ä»¬è¦å†AppDelegate.swiftæ–‡ä»¶ä¸­å®ç°</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">       <span class="comment">// Override point for customization after application launch.</span></div><div class="line"></div><div class="line">       <span class="keyword">self</span>.window = <span class="type">UIWindow</span>(frame: <span class="type">UIScreen</span>.mainScreen().bounds)</div><div class="line">       <span class="keyword">self</span>.window!.backgroundColor = <span class="type">UIColor</span>.grayColor()</div><div class="line">       <span class="keyword">self</span>.window!.makeKeyAndVisible()</div><div class="line"></div><div class="line">       <span class="keyword">let</span> viewController = <span class="type">ViewController</span>()</div><div class="line">       <span class="keyword">let</span> navigationController = <span class="type">UINavigationController</span>(rootViewController: viewController)</div><div class="line">       <span class="keyword">self</span>.window!.rootViewController = navigationController</div><div class="line"></div><div class="line">       <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="éµå®ˆä»£ç†åè®®"><a href="#éµå®ˆä»£ç†åè®®" class="headerlink" title="éµå®ˆä»£ç†åè®®"></a>éµå®ˆä»£ç†åè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UINavigationControllerDelegate</span> </span>&#123; &#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰UINavigationController"><a href="#è‡ªå®šä¹‰UINavigationController" class="headerlink" title="è‡ªå®šä¹‰UINavigationController"></a>è‡ªå®šä¹‰UINavigationController</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myNavigationContronller</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="comment">// 1.è®¾ç½® UINavigationController çš„ Title</span></div><div class="line">       <span class="keyword">self</span>.title = <span class="string">"UINavigationContronller"</span></div><div class="line"></div><div class="line">       <span class="comment">// 2.è®¾ç½® UIVavigationController çš„æŒ‰é’® Title, Style, Target, Action ç­‰æ–¹æ³•å±æ€§</span></div><div class="line">       <span class="keyword">let</span> backBarButtonItem = <span class="type">UIBarButtonItem</span>(title: <span class="string">"è¿”å›"</span>, style: <span class="type">UIBarButtonItemStyle</span>.<span class="type">Plain</span>, target: <span class="keyword">self</span>, action: <span class="string">"backAction"</span>)</div><div class="line">       <span class="keyword">let</span> nextBarButtonItem = <span class="type">UIBarButtonItem</span>(title: <span class="string">"ä¸‹ä¸€é¡µ"</span>, style: <span class="type">UIBarButtonItemStyle</span>.<span class="type">Plain</span>, target: <span class="keyword">self</span>, action: <span class="string">"nextAction"</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 3.è®¾ç½® UINavigationItem</span></div><div class="line">       <span class="keyword">self</span>.navigationItem.leftBarButtonItem = backBarButtonItem</div><div class="line">       <span class="keyword">self</span>.navigationItem.rightBarButtonItem = nextBarButtonItem</div><div class="line"></div><div class="line">       <span class="comment">// 4.è·å– UINavigationController çš„é¡¶éƒ¨çš„è§†å›¾æ§åˆ¶å™¨</span></div><div class="line">       <span class="keyword">let</span> topView = <span class="keyword">self</span>.navigationController?.topViewController</div><div class="line">       <span class="built_in">println</span>(topView)</div><div class="line"></div><div class="line">       <span class="comment">// 5.è·å– UINavigationController å¯è§çš„è§†å›¾æ§åˆ¶å™¨</span></div><div class="line">       <span class="keyword">let</span> visibleView = <span class="keyword">self</span>.navigationController?.visibleViewController</div><div class="line">       <span class="built_in">println</span>(visibleView)</div><div class="line"></div><div class="line">       <span class="comment">// 6.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æ§åˆ¶å™¨</span></div><div class="line">       <span class="keyword">self</span>.navigationController?.viewControllers</div><div class="line"></div><div class="line">       <span class="comment">// 7.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æ§åˆ¶å™¨æ˜¯å¦éšè—(é»˜è®¤æ˜¯ false)</span></div><div class="line">       <span class="keyword">self</span>.navigationController?.navigationBarHidden = <span class="literal">false</span></div><div class="line"></div><div class="line">       <span class="comment">// 8.è·å– UINavigationController çš„å¯¼èˆªæ æ§åˆ¶å™¨</span></div><div class="line">       <span class="keyword">let</span> navigationBar = <span class="keyword">self</span>.navigationController?.navigationBar</div><div class="line">       <span class="built_in">println</span>(navigationBar)</div><div class="line"></div><div class="line">       <span class="comment">// 9.è®¾ç½® UINavigationController çš„å†…ç½®å·¥å…·æ æ˜¯å¦å¯è§(é»˜è®¤æ˜¯ ture)</span></div><div class="line">       <span class="keyword">self</span>.navigationController?.toolbarHidden = <span class="literal">false</span></div><div class="line"></div><div class="line">       <span class="comment">// 10.è·å– UINavigationController çš„ toolbar</span></div><div class="line">       <span class="keyword">let</span> toolbar = <span class="keyword">self</span>.navigationController?.toolbar</div><div class="line">       <span class="built_in">println</span>(toolbar)</div><div class="line"></div><div class="line">       <span class="comment">// 11.è®¾ç½® UINavigationController çš„ä»£ç†å¯¹è±¡</span></div><div class="line">       <span class="keyword">self</span>.navigationController?.delegate = <span class="keyword">self</span></div><div class="line"></div><div class="line">       <span class="comment">// 12.è·å– UINavigationController çš„æ‰‹åŠ¿è¯†åˆ«é¡¶éƒ¨è§†å›¾æ§åˆ¶å™¨</span></div><div class="line">       <span class="keyword">let</span> pop = <span class="keyword">self</span>.navigationController?.interactivePopGestureRecognizer</div><div class="line">       <span class="built_in">println</span>(pop)</div><div class="line"></div><div class="line">       <span class="comment">// 13.è®¾ç½® UINavigationController å½“é”®ç›˜å‡ºç°æ—¶æ˜¯å¦éšè—å¯¼èˆªæ å’Œå·¥å…·æ </span></div><div class="line">       <span class="keyword">self</span>.navigationController!.hidesBarsWhenKeyboardAppears = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 14.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨å‘ä¸Šæ»‘åŠ¨çš„æ‰‹åŠ¿éšè—å¯¼èˆªæ å’Œå·¥å…·æ </span></div><div class="line">       <span class="keyword">self</span>.navigationController?.hidesBarsOnSwipe = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 15.è·å– UINavigationController ç”¨æ‰‹åŠ¿è¯†åˆ«éšè—å¯¼èˆªæ å’Œå·¥å…·æ </span></div><div class="line">       <span class="keyword">let</span> barHide = <span class="keyword">self</span>.navigationController!.barHideOnSwipeGestureRecognizer</div><div class="line">       <span class="built_in">println</span>(barHide)</div><div class="line"></div><div class="line">       <span class="comment">// 16.è®¾ç½® UINavigationController æ˜¯å¦åœ¨å‚ç›´æ˜¾ç¤ºæ—¶éšè—</span></div><div class="line">       <span class="keyword">self</span>.navigationController!.hidesBarsWhenVerticallyCompact = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 17.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨ç‚¹å‡»æ‰‹åŠ¿æ¥éšè—</span></div><div class="line">       <span class="keyword">self</span>.navigationController?.hidesBarsOnTap = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 18.è·å– UINavigationController éšè—æ—¶æ‰€ä½¿ç”¨çš„æ‰‹åŠ¿</span></div><div class="line">       <span class="keyword">let</span> barHideOnTap = <span class="keyword">self</span>.navigationController!.barHideOnTapGestureRecognizer</div><div class="line">       <span class="built_in">println</span>(barHideOnTap)</div><div class="line"></div><div class="line">       <span class="comment">// 19.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”»</span></div><div class="line">       <span class="keyword">self</span>.navigationController?.setNavigationBarHidden(<span class="literal">true</span>, animated: <span class="literal">true</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 20.è®¾ç½® UINavigationController çš„å·¥å…·æ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”»</span></div><div class="line">       <span class="keyword">self</span>.navigationController?.setToolbarHidden(<span class="literal">true</span>, animated: <span class="literal">true</span>)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰ä»£ç†æ–¹æ³•ä»¥åŠç›‘å¬æ–¹æ³•"><a href="#è‡ªå®šä¹‰ä»£ç†æ–¹æ³•ä»¥åŠç›‘å¬æ–¹æ³•" class="headerlink" title="è‡ªå®šä¹‰ä»£ç†æ–¹æ³•ä»¥åŠç›‘å¬æ–¹æ³•"></a>è‡ªå®šä¹‰ä»£ç†æ–¹æ³•ä»¥åŠç›‘å¬æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å°†è¦æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³•</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">navigationController</span><span class="params">(navigationController: UINavigationController, willShowViewController viewController: UIViewController, animated: Bool)</span></span> &#123;</div><div class="line">       <span class="built_in">println</span>(<span class="string">"UINavigationController å°†è¦æ˜¾ç¤º"</span>)</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="comment">// 2.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å®Œå…¨æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³•</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">navigationController</span><span class="params">(navigationController: UINavigationController, didShowViewController viewController: UIViewController, animated: Bool)</span></span> &#123;</div><div class="line">       <span class="built_in">println</span>(<span class="string">"UINavigationController å®Œå…¨æ˜¾ç¤º"</span>)</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="comment">// 3.è¿”å›æŒ‰é’®çš„ç›‘å¬æ–¹æ³•</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">backAction</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="built_in">println</span>(<span class="string">"ç‚¹å‡»äº†è¿”å›"</span>)</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="comment">// 4.ä¸‹ä¸€é¡µæŒ‰é’®çš„ç›‘å¬æ–¹æ³•</span></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">nextAction</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="built_in">println</span>(<span class="string">"ç‚¹å‡»äº†ä¸‹ä¸€é¡µ"</span>)</div><div class="line">   &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UINavigationController </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UINavigationController </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UINavigationController-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/UINavigationController-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UINavigationControllerå¸¸ç”¨å±æ€§"><a href="#UINavigationControllerå¸¸ç”¨å±æ€§" class="headerlink" title="UINavigationControllerå¸¸ç”¨å±æ€§"></a>UINavigationControllerå¸¸ç”¨å±æ€§</h1><blockquote><p>1.è·å– UINavigationController çš„é¡¶éƒ¨çš„è§†å›¾æ§åˆ¶å™¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> topViewController: <span class="type">UIViewController</span>! &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>2.è·å– UINavigationController å¯è§çš„è§†å›¾æ§åˆ¶å™¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> visibleViewController: <span class="type">UIViewController</span>! &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® UINavigationController çš„ viewControllers å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> viewControllers: [<span class="type">AnyObject</span>]!</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æ§åˆ¶å™¨æ˜¯å¦éšè—, é»˜è®¤æ˜¯ false</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> navigationBarHidden: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>5.è·å– UINavigationController çš„å¯¼èˆªæ æ§åˆ¶å™¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> navigationBar: <span class="type">UINavigationBar</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½® UINavigationController çš„å†…ç½®å·¥å…·æ æ˜¯å¦å¯è§(é»˜è®¤æ˜¯ ture)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> toolbarHidden: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>7.è·å– UINavigationController çš„ toolbar</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> toolbar: <span class="type">UIToolbar</span>! &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>8.è®¾ç½® UINavigationController çš„ä»£ç†å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> delegate: <span class="type">UINavigationControllerDelegate</span>?</div></pre></td></tr></table></figure><blockquote><p>9.è·å– UINavigationController çš„æ‰‹åŠ¿è¯†åˆ«é¡¶éƒ¨è§†å›¾æ§åˆ¶å™¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> interactivePopGestureRecognizer: <span class="type">UIGestureRecognizer</span>! &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>10.è®¾ç½® UINavigationController å½“é”®ç›˜å‡ºç°æ—¶æ˜¯å¦éšè—å¯¼èˆªæ å’Œå·¥å…·æ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> hidesBarsWhenKeyboardAppears: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>11.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨å‘ä¸Šæ»‘åŠ¨çš„æ‰‹åŠ¿éšè—å¯¼èˆªæ å’Œå·¥å…·æ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> hidesBarsOnSwipe: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>12.è·å– UINavigationController ç”¨æ‰‹åŠ¿è¯†åˆ«éšè—å¯¼èˆªæ å’Œå·¥å…·æ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> barHideOnSwipeGestureRecognizer: <span class="type">UIPanGestureRecognizer</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>13.è®¾ç½® UINavigationController æ˜¯å¦åœ¨å‚ç›´æ˜¾ç¤ºæ—¶éšè—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> hidesBarsWhenVerticallyCompact: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>14.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨ç‚¹å‡»æ‰‹åŠ¿æ¥éšè—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> hidesBarsOnTap: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>15.è·å– UINavigationController éšè—æ—¶æ‰€ä½¿ç”¨çš„æ‰‹åŠ¿</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> barHideOnTapGestureRecognizer: <span class="type">UITapGestureRecognizer</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><h1 id="UINavigationControllerå¸¸ç”¨çš„æ–¹æ³•"><a href="#UINavigationControllerå¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="UINavigationControllerå¸¸ç”¨çš„æ–¹æ³•"></a>UINavigationControllerå¸¸ç”¨çš„æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController è·³è½¬åˆ°æŒ‡å®šçš„è§†å›¾æ§åˆ¶å™¨, æ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">pushViewController</span><span class="params">(viewController: UIViewController, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController Popåˆ°å…¶ä»–è§†å›¾æ§åˆ¶å™¨æ—¶æ˜¯å¦ä½¿ç”¨åŠ¨ç”», å¹¶ä¸”è¿”å›çš„ç±»å‹å¿…é¡»æ˜¯ UIViewController</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">popViewControllerAnimated</span><span class="params">(animated: Bool)</span></span> -&gt; <span class="type">UIViewController</span>?</div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController Popåˆ°æŒ‡å®šçš„è§†å›¾æ§åˆ¶å™¨, æ˜¯å¦ä½¿ç”¨åŠ¨ç”», è¿”å›çš„ç±»å‹æ˜¯ä»»æ„ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">popToViewController</span><span class="params">(viewController: UIViewController, animated: Bool)</span></span> -&gt; [<span class="type">AnyObject</span>]?</div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController Popåˆ°æ ¹è§†å›¾æ—¶æ˜¯å¦ä½¿ç”¨åŠ¨ç”», å¹¶ä¸”è¿”å›çš„ç±»å‹å¿…é¡»æ˜¯ä»»æ„ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">popToRootViewControllerAnimated</span><span class="params">(animated: Bool)</span></span> -&gt; [<span class="type">AnyObject</span>]?</div></pre></td></tr></table></figure><blockquote><p>5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥æ›¿æ¢ä¹‹å‰äº UINavigationController ç»‘å®šçš„è§†å›¾æ§åˆ¶å™¨, å¹¶ä¸”æ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setViewControllers</span><span class="params">(viewControllers: [AnyObject]!, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController çš„å¯¼èˆªæ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setNavigationBarHidden</span><span class="params">(hidden: Bool, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController çš„å·¥å…·æ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setToolbarHidden</span><span class="params">(hidden: Bool, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController æ˜¾ç¤ºæŒ‡å®šçš„ ViewController</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">showViewController</span><span class="params">(vc: UIViewController, sender: AnyObject!)</span></span></div></pre></td></tr></table></figure><h1 id="UINavigationControllerä»£ç†æ–¹æ³•"><a href="#UINavigationControllerä»£ç†æ–¹æ³•" class="headerlink" title="UINavigationControllerä»£ç†æ–¹æ³•"></a>UINavigationControllerä»£ç†æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å°†è¦æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">navigationController</span><span class="params">(navigationController: UINavigationController, willShowViewController viewController: UIViewController, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å®Œå…¨æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">navigationController</span><span class="params">(navigationController: UINavigationController, didShowViewController viewController: UIViewController, animated: Bool)</span></span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UINavigationController </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UINavigationController </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UISegmentedControl-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/14/Swift/UIKit/UISegmentedControl-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="è‡ªå®šä¹‰UISegmentedContro"><a href="#è‡ªå®šä¹‰UISegmentedContro" class="headerlink" title="è‡ªå®šä¹‰UISegmentedContro"></a>è‡ªå®šä¹‰UISegmentedContro</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySegmentedControl</span><span class="params">()</span></span> &#123;</div><div class="line"></div><div class="line">        <span class="comment">// 1.è‡ªå®šä¹‰ UISegemtedControl å¹¶ä¸”è®¾ç½®å®ƒçš„ Item æ•°ç»„å¯¹è±¡</span></div><div class="line">        <span class="keyword">var</span> segmented = <span class="type">UISegmentedControl</span>(items: [<span class="string">"åˆ†æ®µä¸€"</span>, <span class="string">"åˆ†æ®µäºŒ"</span>])</div><div class="line"></div><div class="line">        <span class="comment">// 2.è®¾ç½® UISegemtedControl çš„ä¸­å¿ƒç‚¹</span></div><div class="line">        segmented.center = <span class="type">CGPointMake</span>(<span class="keyword">self</span>.view.frame.width / <span class="number">2</span>, <span class="keyword">self</span>.view.frame.height / <span class="number">2</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 3.è®¾ç½® UISegemtedControl çš„å°ºå¯¸</span></div><div class="line">        segmented.bounds = <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">300</span>, <span class="number">30</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 4.è®¾ç½® UISegemtedControl ç‚¹å‡»ä¹‹åæ˜¯å¦ç¬é—´å¼¹èµ·, (é»˜è®¤æ˜¯ false)</span></div><div class="line">        segmented.momentary = <span class="literal">true</span></div><div class="line"></div><div class="line">        <span class="comment">// 5.è·å– UISegemtedControl çš„åˆ†æ®µæŒ‰é’®ä¸ªæ•°</span></div><div class="line">        <span class="keyword">var</span> number: <span class="type">Int</span> = segmented.numberOfSegments</div><div class="line"></div><div class="line">        <span class="comment">// 6.è®¾ç½® UISegemtedControl æ˜¯å¦åŸºäºå†…å®¹è‡ªåŠ¨è°ƒæ•´å°ºå¯¸, é»˜è®¤æ˜¯ false, å‰ææ˜¯è¦ä¸è®¾ç½® UISegemtedControl çš„å°ºå¯¸</span></div><div class="line">        segmented.apportionsSegmentWidthsByContent = <span class="literal">false</span></div><div class="line"></div><div class="line">        <span class="comment">// 7.æ’å…¥ä¸€ä¸ª UISegemtedControl çš„åˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®æ ‡é¢˜å’Œç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”»</span></div><div class="line">        segmented.insertSegmentWithTitle(<span class="string">"åˆ†æ®µä¸‰"</span>, atIndex: <span class="number">2</span>, animated: <span class="literal">true</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 8.æ’å…¥ä¸€ä¸ª UISegemtedControl ä½œä¸ºåˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®ç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”»</span></div><div class="line">        segmented.insertSegmentWithImage(<span class="type">UIImage</span>(named: <span class="string">"image_black.jpg"</span>)!, atIndex: <span class="number">3</span>, animated: <span class="literal">true</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 9.åˆ é™¤æŒ‡å®šç´¢å¼•çš„ UISegemtedControl åˆ†æ®µæŒ‰é’®, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”»</span></div><div class="line">        segmented.removeSegmentAtIndex(<span class="number">1</span>, animated: <span class="literal">true</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 10.åˆ é™¤æ‰€æœ‰ UISegemtedControl çš„åˆ†æ®µæŒ‰é’®</span></div><div class="line">        <span class="comment">//segmented.removeAllSegments()</span></div><div class="line"></div><div class="line">        <span class="comment">// 11.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®æ ‡é¢˜</span></div><div class="line">        segmented.setTitle(<span class="string">"åˆ†æ®µå››"</span>, forSegmentAtIndex: <span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 12.è·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„æ ‡é¢˜</span></div><div class="line">        <span class="keyword">var</span> title: <span class="type">String</span> = segmented.titleForSegmentAtIndex(<span class="number">0</span>)!</div><div class="line">        <span class="built_in">println</span>(title)</div><div class="line"></div><div class="line">        <span class="comment">// 13.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®å›¾ç‰‡</span></div><div class="line">        segmented.setImage(<span class="type">UIImage</span>(named: <span class="string">"image_black.jpg"</span>)!, forSegmentAtIndex: <span class="number">2</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 14.è·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å›¾ç‰‡</span></div><div class="line">        <span class="keyword">var</span> image: <span class="type">UIImage</span> = segmented.imageForSegmentAtIndex(<span class="number">2</span>)!</div><div class="line">        <span class="built_in">println</span>(image)</div><div class="line"></div><div class="line">        <span class="comment">// 15.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å®½åº¦</span></div><div class="line">        segmented.setWidth(<span class="number">70</span>, forSegmentAtIndex: <span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 16.è·å–æŒ‡å®š UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å®½åº¦</span></div><div class="line">        <span class="keyword">var</span> width: <span class="type">CGFloat</span> = segmented.widthForSegmentAtIndex(<span class="number">0</span>)</div><div class="line">        <span class="built_in">println</span>(width)</div><div class="line"></div><div class="line">        <span class="comment">// 17.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡</span></div><div class="line">        segmented.setContentOffset(<span class="type">CGSizeMake</span>(<span class="number">5</span>, <span class="number">5</span>), forSegmentAtIndex: <span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 18.è·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡</span></div><div class="line">        <span class="keyword">var</span> size: <span class="type">CGSize</span> = segmented.contentOffsetForSegmentAtIndex(<span class="number">0</span>)</div><div class="line">        <span class="built_in">println</span>(size)</div><div class="line"></div><div class="line">        <span class="comment">// 19.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡»</span></div><div class="line">        segmented.setEnabled(<span class="literal">true</span>, forSegmentAtIndex: <span class="number">0</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 20.è·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡»</span></div><div class="line">        <span class="keyword">var</span> bool: <span class="type">Bool</span> = segmented.isEnabledForSegmentAtIndex(<span class="number">0</span>)</div><div class="line">        <span class="built_in">println</span>(bool)</div><div class="line"></div><div class="line">        <span class="comment">// 21.è·å– UISegemtedControl å¯ç‚¹å‡»çš„ Item æ•°é‡</span></div><div class="line">        <span class="keyword">var</span> selected: <span class="type">Int</span> = segmented.selectedSegmentIndex</div><div class="line">        <span class="built_in">println</span>(selected)</div><div class="line"></div><div class="line">        <span class="comment">// 22.è®¾ç½® UISegemtedControl çš„æ ·å¼é¢œè‰²</span></div><div class="line">        segmented.tintColor = <span class="type">UIColor</span>.redColor()</div><div class="line"></div><div class="line">        <span class="comment">// 23.è®¾ç½® UISegemtedControl çš„èƒŒæ™¯å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼</span></div><div class="line">        segmented.setBackgroundImage(<span class="type">UIImage</span>(named: <span class="string">"image_black.jpg"</span>), forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>, barMetrics: <span class="type">UIBarMetrics</span>.<span class="type">Default</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 24.è·å– UISegemtedControl åœ¨æŒ‡å®šçš„çŠ¶æ€, å›¾ç‰‡æ˜¾ç¤ºä¸‹çš„å›¾ç‰‡</span></div><div class="line">        <span class="keyword">var</span> backgroundImage: <span class="type">UIImage</span> = segmented.backgroundImageForState(<span class="type">UIControlState</span>.<span class="type">Normal</span>, barMetrics: <span class="type">UIBarMetrics</span>.<span class="type">Default</span>)!</div><div class="line">        <span class="built_in">println</span>(backgroundImage)</div><div class="line"></div><div class="line">        <span class="comment">// 25.è®¾ç½® UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼</span></div><div class="line">        segmented.setDividerImage(<span class="type">UIImage</span>(named: <span class="string">"image_divider"</span>), forLeftSegmentState: <span class="type">UIControlState</span>.<span class="type">Normal</span>, rightSegmentState: <span class="type">UIControlState</span>.<span class="type">Normal</span>, barMetrics: <span class="type">UIBarMetrics</span>.<span class="type">Default</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 26.è·å– UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼</span></div><div class="line">        <span class="keyword">var</span> divider: <span class="type">UIImage</span> = segmented.dividerImageForLeftSegmentState(<span class="type">UIControlState</span>.<span class="type">Normal</span>, rightSegmentState: <span class="type">UIControlState</span>.<span class="type">Normal</span>, barMetrics: <span class="type">UIBarMetrics</span>.<span class="type">Default</span>)!</div><div class="line">        <span class="built_in">println</span>(divider)</div><div class="line"></div><div class="line">        <span class="comment">// 27.æ·»åŠ  UISegemtedControl çš„ç›‘å¬æ–¹æ³•</span></div><div class="line">        segmented.addTarget(<span class="keyword">self</span>, action: <span class="string">"didClicksegmentedControlAction:"</span>, forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">ValueChanged</span>)</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// æ·»åŠ åˆ° self.view</span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(segmented)</div><div class="line">        </div><div class="line">      &#125;</div></pre></td></tr></table></figure><h1 id="UISegemtedControlçš„ç›‘å¬æ–¹æ³•"><a href="#UISegemtedControlçš„ç›‘å¬æ–¹æ³•" class="headerlink" title="UISegemtedControlçš„ç›‘å¬æ–¹æ³•"></a>UISegemtedControlçš„ç›‘å¬æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">didClicksegmentedControlAction</span><span class="params">(segmented: UISegmentedControl!)</span></span> &#123;</div><div class="line">       <span class="keyword">var</span> index = segmented.selectedSegmentIndex</div><div class="line">       <span class="keyword">if</span> index == <span class="number">0</span> &#123;</div><div class="line">           <span class="built_in">println</span>(<span class="string">"åˆ†æ®µæŒ‰é’®ä¸€"</span>)</div><div class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> index == <span class="number">1</span> &#123;</div><div class="line">           <span class="built_in">println</span>(<span class="string">"åˆ†æ®µæŒ‰é’®äºŒ"</span>)</div><div class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> index == <span class="number">2</span> &#123;</div><div class="line">           <span class="built_in">println</span>(<span class="string">"åˆ†æ®µæŒ‰é’®ä¸‰"</span>)</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="åœ¨-viewDidLoad-ä¸­å®ç°"><a href="#åœ¨-viewDidLoad-ä¸­å®ç°" class="headerlink" title="åœ¨ viewDidLoad ä¸­å®ç°"></a>åœ¨ viewDidLoad ä¸­å®ç°</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">super</span>.viewDidLoad()</div><div class="line">    <span class="keyword">self</span>.mySegmentedControl()</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISegmentedControl </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UISegmentedControl </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UISegmentedControl-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/UISegmentedControl-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UISegemtedControlçš„å¸¸ç”¨å±æ€§"><a href="#UISegemtedControlçš„å¸¸ç”¨å±æ€§" class="headerlink" title="UISegemtedControlçš„å¸¸ç”¨å±æ€§"></a>UISegemtedControlçš„å¸¸ç”¨å±æ€§</h1><blockquote><p>1.åˆå§‹åŒ–æ—¶è®¾ç½® UISegemtedControl çš„ Item æ•°ç»„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">init</span>(items: [<span class="type">AnyObject</span>])</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® UISegemtedControl ç‚¹å‡»ä¹‹åæ˜¯å¦ç¬é—´å¼¹èµ·, (é»˜è®¤æ˜¯ false)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> momentary: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>3.è·å– UISegemtedControl é‡Œæœ‰çš„åˆ†æ®µæŒ‰é’®ä¸ªæ•°   </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> numberOfSegments: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® UISegemtedControl æ˜¯å¦åŸºäºå†…å®¹è‡ªåŠ¨è°ƒæ•´å°ºå¯¸, é»˜è®¤æ˜¯ false, å‰ææ˜¯è¦ä¸è®¾ç½® UISegemtedControl çš„å°ºå¯¸</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> apportionsSegmentWidthsByContent: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>5.è·å– UISegemtedControl å¯ç‚¹å‡»çš„ Item æ•°é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> selectedSegmentIndex: <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½® UISegemtedControl çš„æ ·å¼é¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> tintColor: <span class="type">UIColor</span>!</div></pre></td></tr></table></figure><h1 id="UISegemtedControlçš„å¸¸ç”¨æ–¹æ³•"><a href="#UISegemtedControlçš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="UISegemtedControlçš„å¸¸ç”¨æ–¹æ³•"></a>UISegemtedControlçš„å¸¸ç”¨æ–¹æ³•</h1><blockquote><p>1.æ’å…¥ä¸€ä¸ª UISegemtedControl çš„åˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®æ ‡é¢˜å’Œç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertSegmentWithTitle</span><span class="params">(title: String!, atIndex segment: Int, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>2.æ’å…¥ä¸€ä¸ª UISegemtedControl ä½œä¸ºåˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®ç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertSegmentWithImage</span><span class="params">(image: UIImage, atIndex segment: Int, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>3.åˆ é™¤æŒ‡å®šç´¢å¼•çš„ UISegemtedControl åˆ†æ®µæŒ‰é’®, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeSegmentAtIndex</span><span class="params">(segment: Int, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>4.åˆ é™¤æ‰€æœ‰ UISegemtedControl çš„åˆ†æ®µæŒ‰é’®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeAllSegments</span><span class="params">()</span></span></div></pre></td></tr></table></figure><blockquote><p>3.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®æ ‡é¢˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setTitle</span><span class="params">(title: String?, forSegmentAtIndex segment: Int)</span></span></div></pre></td></tr></table></figure><blockquote><p>4.è·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„æ ‡é¢˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">titleForSegmentAtIndex</span><span class="params">(segment: Int)</span></span> -&gt; <span class="type">String</span>?</div></pre></td></tr></table></figure><blockquote><p>5.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®å›¾ç‰‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setImage</span><span class="params">(image: UIImage?, forSegmentAtIndex segment: Int)</span></span></div></pre></td></tr></table></figure><blockquote><p>6.è·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å›¾ç‰‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">imageForSegmentAtIndex</span><span class="params">(segment: Int)</span></span> -&gt; <span class="type">UIImage</span>?</div></pre></td></tr></table></figure><blockquote><p>7.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å®½åº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setWidth</span><span class="params">(width: CGFloat, forSegmentAtIndex segment: Int)</span></span></div></pre></td></tr></table></figure><blockquote><p>8.è·å–æŒ‡å®š UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å®½åº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">widthForSegmentAtIndex</span><span class="params">(segment: Int)</span></span> -&gt; <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>9.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setContentOffset</span><span class="params">(offset: CGSize, forSegmentAtIndex segment: Int)</span></span></div></pre></td></tr></table></figure><blockquote><p>10.è·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">contentOffsetForSegmentAtIndex</span><span class="params">(segment: Int)</span></span> -&gt; <span class="type">CGSize</span></div></pre></td></tr></table></figure><blockquote><p>11.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setEnabled</span><span class="params">(enabled: Bool, forSegmentAtIndex segment: Int)</span></span></div></pre></td></tr></table></figure><blockquote><p>12.è·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">isEnabledForSegmentAtIndex</span><span class="params">(segment: Int)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>13.è®¾ç½® UISegemtedControl çš„èƒŒæ™¯å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setBackgroundImage</span><span class="params">(backgroundImage: UIImage?, forState state: UIControlState, barMetrics: UIBarMetrics)</span></span></div></pre></td></tr></table></figure><blockquote><p>14.è·å– UISegemtedControl åœ¨æŒ‡å®šçš„çŠ¶æ€, å›¾ç‰‡æ˜¾ç¤ºä¸‹çš„å›¾ç‰‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">backgroundImageForState</span><span class="params">(state: UIControlState, barMetrics: UIBarMetrics)</span></span> -&gt; <span class="type">UIImage</span>?</div></pre></td></tr></table></figure><blockquote><p>15.è®¾ç½® UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setDividerImage</span><span class="params">(dividerImage: UIImage?, forLeftSegmentState leftState: UIControlState, rightSegmentState rightState: UIControlState, barMetrics: UIBarMetrics)</span></span></div></pre></td></tr></table></figure><blockquote><p>16.è·å– UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">dividerImageForLeftSegmentState</span><span class="params">(leftState: UIControlState, rightSegmentState rightState: UIControlState, barMetrics: UIBarMetrics)</span></span> -&gt; <span class="type">UIImage</span>?</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISegmentedControl </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UISegmentedControl </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UISwitch-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/14/Swift/UIKit/UISwitch-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="è‡ªå®šä¹‰UISwitch"><a href="#è‡ªå®šä¹‰UISwitch" class="headerlink" title="è‡ªå®šä¹‰UISwitch"></a>è‡ªå®šä¹‰UISwitch</h1><blockquote><p>UISwitch æ˜¯ç»§æ‰¿äº UIControl, æ‰€ä»¥ UIControl é‡Œé¢çš„å±æ€§å’Œæ–¹æ³• UISwitch éƒ½æ˜¯å¯ä»¥ç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySwitch</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="comment">// 1.è‡ªå®šä¹‰ UISwitch</span></div><div class="line">       <span class="keyword">var</span> switchButton = <span class="type">UISwitch</span>()</div><div class="line"></div><div class="line">       <span class="comment">// 2.è®¾ç½® UISwitch çš„ä½ç½®</span></div><div class="line">       switchButton.center = <span class="type">CGPointMake</span>(<span class="keyword">self</span>.view.frame.width / <span class="number">2</span>, <span class="keyword">self</span>.view.frame.height / <span class="number">2</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 3.è®¾ç½® UISwitch æ‰“å¼€æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»ç™½å˜ç»¿</span></div><div class="line">       switchButton.onTintColor = <span class="type">UIColor</span>.redColor()</div><div class="line"></div><div class="line">       <span class="comment">// 4.è®¾ç½® UISwitch å…³é—­æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»ç»¿å˜ç™½</span></div><div class="line">       switchButton.tintColor = <span class="type">UIColor</span>.blackColor()</div><div class="line"></div><div class="line">       <span class="comment">// 5.è®¾ç½® UISwitch çš„å°åœ†ç‚¹é¢œè‰², é»˜è®¤æ˜¯ç™½è‰²</span></div><div class="line">       switchButton.thumbTintColor = <span class="type">UIColor</span>.blueColor()</div><div class="line"></div><div class="line">       <span class="comment">// 6.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€</span></div><div class="line">       switchButton.on = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 7.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€, å¹¶ä¸”æ˜¯å¦æ‰“å¼€åŠ¨ç”»æ•ˆæœ</span></div><div class="line">       switchButton.setOn(<span class="literal">true</span>, animated: <span class="literal">true</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 8.æ·»åŠ åˆ° UISwitch åˆ° self.view</span></div><div class="line">       <span class="keyword">self</span>.view.addSubview(switchButton)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="åœ¨-viewDidLoadä¸­å®ç°"><a href="#åœ¨-viewDidLoadä¸­å®ç°" class="headerlink" title="åœ¨ viewDidLoadä¸­å®ç°"></a>åœ¨ viewDidLoadä¸­å®ç°</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">super</span>.viewDidLoad()</div><div class="line">    <span class="keyword">self</span>.mySwitch()</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISwitch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UISwitch </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UISwitch-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/UISwitch-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UISwitchçš„å¸¸ç”¨å±æ€§"><a href="#UISwitchçš„å¸¸ç”¨å±æ€§" class="headerlink" title="UISwitchçš„å¸¸ç”¨å±æ€§"></a>UISwitchçš„å¸¸ç”¨å±æ€§</h1><blockquote><p>1.è®¾ç½® UISwitch æ‰“å¼€æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»ç™½å˜ç»¿</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> onTintColor: <span class="type">UIColor</span>!</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® UISwitch å…³é—­æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»ç™½å˜ç»¿    </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> tintColor: <span class="type">UIColor</span>?</div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® UISwitch çš„å°åœ†ç‚¹é¢œè‰², é»˜è®¤æ˜¯ç™½è‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> thumbTintColor: <span class="type">UIColor</span>?</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> on: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>5.è®¾ç½® UISwitch çš„ä½ç½®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">init</span>(frame: <span class="type">CGRect</span>)</div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€, å¹¶ä¸”æ˜¯å¦æ‰“å¼€åŠ¨ç”»æ•ˆæœ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setOn</span><span class="params">(on: Bool, animated: Bool)</span></span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISwitch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UISwitch </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITextField-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/14/Swift/UIKit/UITextField-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="éµå®ˆä»£ç†åè®®"><a href="#éµå®ˆä»£ç†åè®®" class="headerlink" title="éµå®ˆä»£ç†åè®®"></a>éµå®ˆä»£ç†åè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITextFieldDelegate</span> </span>&#123;&#125;</div></pre></td></tr></table></figure><h1 id="æ·»åŠ UITextField"><a href="#æ·»åŠ UITextField" class="headerlink" title="æ·»åŠ UITextField"></a>æ·»åŠ UITextField</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myTextField</span><span class="params">()</span></span> &#123;</div><div class="line">      <span class="comment">// 1.åˆ›å»ºUITextField, å¹¶ä¸”è®¾ç½®å®ƒçš„Frame</span></div><div class="line">      textField.frame = <span class="type">CGRectMake</span>(<span class="number">100</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">100</span>)</div><div class="line"></div><div class="line">      <span class="comment">// 2.è®¾ç½®UITextFieldçš„èƒŒæ™¯é¢œè‰²</span></div><div class="line">      textField.backgroundColor = <span class="type">UIColor</span>.greenColor()</div><div class="line"></div><div class="line">      <span class="comment">// 3.è®¾ç½®UITextFieldçš„æ˜¾ç¤ºæ ·å¼</span></div><div class="line">      textField.borderStyle = <span class="type">UITextBorderStyle</span>.<span class="type">RoundedRect</span></div><div class="line"></div><div class="line">      <span class="comment">// 4.è®¾ç½®UITextFieldçš„ç¼–è¾‘çŠ¶æ€, é»˜è®¤æ˜¯æ°¸è¿œä¸æ‰“å¼€, è¿™é‡Œè®¾ç½®çš„æ˜¯åœ¨ç¼–è¾‘æ—¶æ‰æ‰“å¼€</span></div><div class="line">      textField.clearButtonMode = <span class="type">UITextFieldViewMode</span>.<span class="type">WhileEditing</span></div><div class="line"></div><div class="line">      <span class="comment">// 5.è®¾ç½®UITextFieldçš„é”®ç›˜æ ·å¼</span></div><div class="line">      textField.keyboardType = <span class="type">UIKeyboardType</span>.<span class="type">ASCIICapable</span></div><div class="line"></div><div class="line">      <span class="comment">// 6.è®¾ç½®UITextFieldçš„é¦–å­—æ¯æ˜¯å¦å¤§å†™</span></div><div class="line">      textField.autocapitalizationType = <span class="type">UITextAutocapitalizationType</span>.<span class="type">Sentences</span></div><div class="line"></div><div class="line">      <span class="comment">// 7.è®¾ç½®UITextFieldçš„é”®ç›˜å¤–è§‚é¢œè‰²</span></div><div class="line">      textField.keyboardAppearance = <span class="type">UIKeyboardAppearance</span>.<span class="type">Dark</span></div><div class="line"></div><div class="line">      <span class="comment">// 8.è®¾ç½®UITextFieldçš„returnæ ·å¼</span></div><div class="line">      textField.returnKeyType = <span class="type">UIReturnKeyType</span>.<span class="type">Default</span></div><div class="line"></div><div class="line">      <span class="comment">// 9.è®¾ç½®UITextFieldé¢„è¾“å…¥çš„æ–‡å­—</span></div><div class="line">      textField.attributedText = <span class="type">NSAttributedString</span>(string: <span class="string">"ABCDEFG"</span>)</div><div class="line"></div><div class="line">      <span class="comment">// 10.è®¾ç½®UITextFieldçš„æç¤ºæ–‡å­—</span></div><div class="line">      textField.placeholder = <span class="string">"è¯·è¾“å…¥æ‚¨çš„åå­—"</span></div><div class="line"></div><div class="line">      <span class="comment">// 11.è®¾ç½®UITextFieldçš„ä»£ç†å¯¹è±¡</span></div><div class="line">      textField.delegate = <span class="keyword">self</span></div><div class="line"></div><div class="line">      <span class="comment">// 12.è®¾ç½®UITextFieldå†…å®¹çš„å‚ç›´å¯¹é½æ–¹å¼, é»˜è®¤æ˜¯center</span></div><div class="line">      textField.contentVerticalAlignment = <span class="type">UIControlContentVerticalAlignment</span>.<span class="type">Top</span></div><div class="line"></div><div class="line">      <span class="comment">// 13.å†æ¬¡ç¼–è¾‘æ—¶å¯¹æ—§å†…å®¹è¿›è¡Œè‡ªåŠ¨æ¸…é™¤, é»˜è®¤æ˜¯false</span></div><div class="line">      textField.clearsOnBeginEditing = <span class="literal">true</span></div><div class="line"></div><div class="line">      <span class="comment">// 14.æ ¹æ®TextFieldçš„å¤§å°è‡ªåŠ¨ç¼©æ”¾å­—ä½“å¤§å°, é»˜è®¤æ˜¯false</span></div><div class="line">      textField.adjustsFontSizeToFitWidth = <span class="literal">true</span></div><div class="line"></div><div class="line">      <span class="comment">// 15.æ·»åŠ åˆ°çˆ¶è§†å›¾</span></div><div class="line">      <span class="keyword">self</span>.view.addSubview(textField)</div><div class="line">  &#125;</div></pre></td></tr></table></figure><h1 id="å®ç°ä»£ç†æ–¹æ³•"><a href="#å®ç°ä»£ç†æ–¹æ³•" class="headerlink" title="å®ç°ä»£ç†æ–¹æ³•"></a>å®ç°ä»£ç†æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">       <span class="comment">// å–æ¶ˆç¬¬ä¸€å“åº”è€…</span></div><div class="line">       textField.resignFirstResponder()</div><div class="line">       <span class="comment">// è¿”å›true</span></div><div class="line">       <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="åœ¨ViewDidloadå®ç°"><a href="#åœ¨ViewDidloadå®ç°" class="headerlink" title="åœ¨ViewDidloadå®ç°"></a>åœ¨ViewDidloadå®ç°</h1><blockquote><p>UITExtFieldä¸ä¼šè‡ªåŠ¨æ¢è¡Œçš„, æ‰€ä»¥æˆ‘ä»¬åªå¯èƒ½é™åˆ¶ç”¨æˆ·æ‰€è¾“å…¥å¤šå°‘ä¸ªå­—ç¬¦, å¦‚æœéœ€è¦è‡ªåŠ¨æ¢è¡Œ, é‚£å°±éœ€è¦å»äº†è§£UITextVIew</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="keyword">super</span>.viewDidLoad()</div><div class="line">       <span class="keyword">self</span>.myTextField()</div><div class="line">   &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITextField </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITextField </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITxtxField-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/Swift-UIKit-UITxtxField-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UITxtxFieldçš„å¸¸ç”¨çŠ¶æ€"><a href="#UITxtxFieldçš„å¸¸ç”¨çŠ¶æ€" class="headerlink" title="UITxtxFieldçš„å¸¸ç”¨çŠ¶æ€"></a>UITxtxFieldçš„å¸¸ç”¨çŠ¶æ€</h1><h2 id="TextFieldè¾¹æ¡†çš„æ ·å¼"><a href="#TextFieldè¾¹æ¡†çš„æ ·å¼" class="headerlink" title="TextFieldè¾¹æ¡†çš„æ ·å¼"></a>TextFieldè¾¹æ¡†çš„æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITextBorderStyle</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">None</span> <span class="comment">// TextFieldè¾¹æ¡†ä»€ä¹ˆéƒ½æ²¡æœ‰, é»˜è®¤æ˜¯æ–¹è§’</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Line</span> <span class="comment">// TextFieldè¾¹æ¡†æœ‰ä¸€æ¡é»‘è‰²çš„å®ç°å›´ç€, é»˜è®¤ä¹Ÿæ˜¯æ–¹è§’çš„</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Bezel</span> <span class="comment">// TextFieldè¾¹æ¡†æœ‰ä¸¤æ¡çº¿å›´ç€, å½¢æˆä¸€å®šçš„å±‚æ¬¡æ„Ÿ, é»˜è®¤ä¹Ÿæ˜¯æ–¹è§’çš„</span></div><div class="line">    <span class="keyword">case</span> <span class="type">RoundedRect</span> <span class="comment">// TextFieldè¾¹æ¡†ä»€ä¹ˆéƒ½æ²¡æœ‰, é»˜è®¤æ˜¯åœ†è§’</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="TextFieldçš„å¿«é€Ÿåˆ é™¤çŠ¶æ€"><a href="#TextFieldçš„å¿«é€Ÿåˆ é™¤çŠ¶æ€" class="headerlink" title="TextFieldçš„å¿«é€Ÿåˆ é™¤çŠ¶æ€"></a>TextFieldçš„å¿«é€Ÿåˆ é™¤çŠ¶æ€</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITextFieldViewMode</span> : <span class="title">Int</span> </span>&#123;    </div><div class="line">    <span class="keyword">case</span> <span class="type">Never</span> <span class="comment">// æ°¸è¿œéƒ½ä¸æ‰“å¼€</span></div><div class="line">    <span class="keyword">case</span> <span class="type">WhileEditing</span> <span class="comment">// åœ¨ç¼–è¾‘çš„çŠ¶æ€æ‰æ‰“å¼€</span></div><div class="line">    <span class="keyword">case</span> <span class="type">UnlessEditing</span> <span class="comment">// åœ¨éç¼–è¾‘çš„çŠ¶æ€æ‰æ‰“å¼€</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Always</span> <span class="comment">// ä¸€ç›´æ‰“å¼€</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="TextFieldçš„é”®ç›˜æ ·å¼"><a href="#TextFieldçš„é”®ç›˜æ ·å¼" class="headerlink" title="TextFieldçš„é”®ç›˜æ ·å¼"></a>TextFieldçš„é”®ç›˜æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIKeyboardType</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Default</span> <span class="comment">// æ˜¾ç¤ºé»˜è®¤çš„é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">ASCIICapable</span> <span class="comment">// æ˜¾ç¤ºæ‰€æœ‰ASCIIè¡¨çš„æ‰€æœ‰å­—ç¬¦</span></div><div class="line">    <span class="keyword">case</span> <span class="type">NumbersAndPunctuation</span> <span class="comment">// æ•°å­—å’Œæ ‡ç‚¹ç¬¦å·çš„é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">URL</span> <span class="comment">// è¾“å…¥ç½‘ç«™æ‰€ä½¿ç”¨çš„é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">NumberPad</span> <span class="comment">// çº¯æ•°å­—é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">PhonePad</span> <span class="comment">// ä¸ºäº†æ–¹ä¾¿è¾“å…¥æ‰‹æœºå·ç æ‰€ä½¿ç”¨çš„é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">NamePhonePad</span> <span class="comment">// ä¸ºäº†æ–¹ä¾¿è¾“å…¥åå­—å’Œç”µè¯å·ç æ‰€ä½¿ç”¨çš„é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">EmailAddress</span> <span class="comment">// é¢å‘é‚®ç®±æ‰€ä½¿ç”¨çš„é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">DecimalPad</span> <span class="comment">// é¢å‘å¸¦å°æ•°ç‚¹çš„æ•°å­—é”®ç›˜</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Twitter</span> <span class="comment">// é¢å‘Twitterç­‰ç¤¾äº¤æ‰€ä½¿ç”¨çš„é”®ç›˜, ä¸ºäº†æ–¹ä¾¿@å’Œ#</span></div><div class="line">    <span class="keyword">case</span> <span class="type">WebSearch</span> <span class="comment">// é¢å‘ç½‘ç«™æ‰€ä½¿ç”¨çš„é”®ç›˜</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="TextFieldçš„å¤§å†™æ ·å¼"><a href="#TextFieldçš„å¤§å†™æ ·å¼" class="headerlink" title="TextFieldçš„å¤§å†™æ ·å¼"></a>TextFieldçš„å¤§å†™æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITextAutocapitalizationType</span> : <span class="title">Int</span> </span>&#123;   </div><div class="line">    <span class="keyword">case</span> <span class="type">None</span> <span class="comment">// ä¸è‡ªåŠ¨å¤§å†™</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Words</span> <span class="comment">// å•ä¸ªå•è¯é¦–å­—æ¯å¤§å†™</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Sentences</span> <span class="comment">// å¥å­é¦–å­—æ¯å¤§å†™</span></div><div class="line">    <span class="keyword">case</span> <span class="type">AllCharacters</span> <span class="comment">// å…¨éƒ¨å¤§å†™</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="TextFieldçš„é”®ç›˜å¤–è§‚é¢œè‰²"><a href="#TextFieldçš„é”®ç›˜å¤–è§‚é¢œè‰²" class="headerlink" title="TextFieldçš„é”®ç›˜å¤–è§‚é¢œè‰²"></a>TextFieldçš„é”®ç›˜å¤–è§‚é¢œè‰²</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIKeyboardAppearance</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Default</span> <span class="comment">// é»˜è®¤æ˜¯å…‰äº®çš„</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Dark</span> <span class="comment">// è®¾ç½®ä¸ºé»‘æš—é¢œè‰²</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Light</span> <span class="comment">// è®¾ç½®ä¸ºå…‰äº®çš„é¢œè‰²</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="TextFieldçš„Returnæ ·å¼"><a href="#TextFieldçš„Returnæ ·å¼" class="headerlink" title="TextFieldçš„Returnæ ·å¼"></a>TextFieldçš„Returnæ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIReturnKeyType</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Default</span> <span class="comment">// æ¨¡æ ·çš„æ ·å¼</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Go</span> <span class="comment">// æ ‡ç€æœ‰Goçš„è“è‰²æ ·å¼</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Google</span> <span class="comment">// æ ‡ç€Googleçš„è“è‰²æ ·å¼, ç”¨äºè¯­éŸ³æœç´¢, æ˜¾ç¤ºçš„æ ·å¼æ˜¯Search</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Join</span> <span class="comment">// æ ‡æœ‰Joinçš„è“è‰²æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Next</span> <span class="comment">// æ ‡ç€æœ‰Nextçš„è“è‰²æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Route</span> <span class="comment">// æ ‡ç€æœ‰Routeçš„è“è‰²æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Search</span> <span class="comment">// æ ‡ç€æœ‰Searchçš„è“è‰²æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Send</span> <span class="comment">// æ ‡ç€æœ‰Sendçš„è“è‰²æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Yahoo</span> <span class="comment">// æ ‡ç€æœ‰Yahooçš„è“è‰²æŒ‰é’®, æ˜¾ç¤ºçš„æ ·å¼æ˜¯Search</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Done</span> <span class="comment">// æ ‡ç€æœ‰Doneçš„è“è‰²æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">EmergencyCall</span> <span class="comment">// æ ‡ç€æœ‰EmergencyCallçš„è“è‰²æŒ‰é’®, ç´§æ€¥å‘¼æ•‘çš„æŒ‰é’®</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="TextFieldçš„å³è¾¹æ˜¾ç¤ºå›¾æ ·å¼"><a href="#TextFieldçš„å³è¾¹æ˜¾ç¤ºå›¾æ ·å¼" class="headerlink" title="TextFieldçš„å³è¾¹æ˜¾ç¤ºå›¾æ ·å¼"></a>TextFieldçš„å³è¾¹æ˜¾ç¤ºå›¾æ ·å¼</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITextFieldViewMode</span> : <span class="title">Int</span> </span>&#123;   </div><div class="line">    <span class="keyword">case</span> <span class="type">Never</span> <span class="comment">// æ°¸è¿œä¸æ˜¾ç¤º</span></div><div class="line">    <span class="keyword">case</span> <span class="type">WhileEditing</span> <span class="comment">// åœ¨ç¼–è¾‘çš„æƒ…å†µä¸‹æ˜¾ç¤º</span></div><div class="line">    <span class="keyword">case</span> <span class="type">UnlessEditing</span> <span class="comment">// åœ¨éç¼–è¾‘çš„æƒ…å†µä¸‹æ˜¾ç¤º</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Always</span> <span class="comment">// æ°¸è¿œæ˜¾ç¤º</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITextFieldçš„å‚ç›´æ’åˆ—æ–¹å¼"><a href="#UITextFieldçš„å‚ç›´æ’åˆ—æ–¹å¼" class="headerlink" title="UITextFieldçš„å‚ç›´æ’åˆ—æ–¹å¼"></a>UITextFieldçš„å‚ç›´æ’åˆ—æ–¹å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIControlContentVerticalAlignment</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Center</span> <span class="comment">// å±…ä¸­å¯¹é½, é»˜è®¤</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Top</span> <span class="comment">// é¡¶éƒ¨å¯¹é½</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Bottom</span> <span class="comment">// åº•éƒ¨å¯¹é½</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Fill</span> <span class="comment">// å¹³é“ºæ•´ä¸ªTextFieldçš„é«˜åº¦</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITextFieldçš„æ°´å¹³æ’åˆ—æ–¹å¼"><a href="#UITextFieldçš„æ°´å¹³æ’åˆ—æ–¹å¼" class="headerlink" title="UITextFieldçš„æ°´å¹³æ’åˆ—æ–¹å¼"></a>UITextFieldçš„æ°´å¹³æ’åˆ—æ–¹å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIControlContentHorizontalAlignment</span> : <span class="title">Int</span> </span>&#123;   </div><div class="line">    <span class="keyword">case</span> <span class="type">Center</span> <span class="comment">// å±…ä¸­å¯¹é½</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Left</span> <span class="comment">// å·¦å¯¹é½, é»˜è®¤</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Right</span> <span class="comment">// å³å¯¹é½</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Fill</span> <span class="comment">// å¹³é“ºæ•´ä¸ªTextFieldçš„å®½åº¦</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="UITextFieldçš„å¸¸ç”¨å±æ€§"><a href="#UITextFieldçš„å¸¸ç”¨å±æ€§" class="headerlink" title="UITextFieldçš„å¸¸ç”¨å±æ€§"></a>UITextFieldçš„å¸¸ç”¨å±æ€§</h1><blockquote><p>å­—ä½“é¢œè‰², é»˜è®¤çš„å­—ä½“é¢œè‰²æ˜¯é»‘è‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> textColor: <span class="type">UIColor</span>!</div></pre></td></tr></table></figure><blockquote><p>å­—ä½“å¤§å°, é»˜è®¤çš„å­—ä½“å¤§å°æ˜¯12</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">var</span> font: <span class="type">UIFont</span>!</div><div class="line">``` </div><div class="line"></div><div class="line">&gt;å­—ä½“å¯¹é½æ–¹å¼, é»˜è®¤æ˜¯å‘å·¦å¯¹é½</div><div class="line"></div><div class="line">```swift</div><div class="line">   <span class="keyword">var</span> textAlignment: <span class="type">NSTextAlignment</span></div></pre></td></tr></table></figure><blockquote><p>è¾¹æ¡†çš„æ ·å¼, é»˜è®¤æ˜¯None. </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> borderStyle: <span class="type">UITextBorderStyle</span></div></pre></td></tr></table></figure><blockquote><p>å¿«æ·æ¸…æ¥šçš„æŒ‰é’®, é»˜è®¤æ˜¯ä¸æ‰“å¼€çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> clearButtonMode: <span class="type">UITextFieldViewMode</span></div></pre></td></tr></table></figure><blockquote><p>æç¤ºæ–‡æœ¬, é»˜è®¤æ˜¯nil, å­—ä½“é¢œè‰²æ˜¯70%çš„ç°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> placeholder: <span class="type">String</span>?</div></pre></td></tr></table></figure><blockquote><p>å†æ¬¡ç¼–è¾‘æ—¶å¯¹æ—§å†…å®¹è¿›è¡Œè‡ªåŠ¨æ¸…é™¤, é»˜è®¤æ˜¯false</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> clearsOnBeginEditing: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>æ ¹æ®TextFieldçš„å¤§å°è‡ªåŠ¨ç¼©æ”¾å­—ä½“å¤§å°, é»˜è®¤æ˜¯false</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> adjustsFontSizeToFitWidth: <span class="type">Bool</span></div></pre></td></tr></table></figure><h1 id="å¸¸ç”¨ä»£ç†æ–¹æ³•"><a href="#å¸¸ç”¨ä»£ç†æ–¹æ³•" class="headerlink" title="å¸¸ç”¨ä»£ç†æ–¹æ³•"></a>å¸¸ç”¨ä»£ç†æ–¹æ³•</h1><blockquote><p>ç‚¹å‡»returnä¼šç»“æŸç¼–è¾‘, ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®å–æ¶ˆTextFieldçš„ç¬¬ä¸€å“åº”è€…, ä½¿é”®ç›˜éšè—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(textField: UITextField)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>å¯é™åˆ¶æ–‡å­—è¾“å…¥çš„é•¿åº¦ä»¥åŠç‰¹å®šçš„å­—ç¬¦, å¦‚æœè¿”å›true, é‚£ä¹ˆå°±æ˜¯å¯ä»¥ä¿®æ”¹, å¦‚æœè¿”å›falseå°±ä¸å¯ä¿®æ”¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textField</span><span class="params">(textField: UITextField, shouldChangeCharactersInRange range: NSRange, replacementString string: String)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITxtxField </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITxtxField </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIImage-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/14/Swift/UIKit/UIImage-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myImage</span><span class="params">()</span></span> &#123;</div><div class="line">   <span class="comment">// 1.åˆ›å»ºä¸€ä¸ªUIImageView, å¹¶ä¸”è®¾ç½®å®ƒçš„frame</span></div><div class="line">       <span class="keyword">var</span> myImageView = <span class="type">UIImageView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.size.width, <span class="keyword">self</span>.view.frame.size.height))</div><div class="line"></div><div class="line">       <span class="comment">// 2.è®¾ç½®UIImageçš„å›¾ç‰‡å, ä»¥åŠå±•ç¤ºçš„æ ·å¼</span></div><div class="line">       <span class="keyword">var</span> myImage = <span class="type">UIImage</span>(named: <span class="string">"image_bate.jpg"</span>)?.imageWithRenderingMode(<span class="type">UIImageRenderingMode</span>.<span class="type">Automatic</span>)</div><div class="line">       <span class="comment">// 3.æŠŠUIImageæ·»åŠ åˆ°ImageViewé‡Œé¢å»</span></div><div class="line">       myImageView.image = myImage</div><div class="line"></div><div class="line">       <span class="keyword">self</span>.view.addSubview(myImageView)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><blockquote><p>åœ¨viewDidloadä¸­å®ç°:</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="keyword">super</span>.viewDidLoad()</div><div class="line">       <span class="keyword">self</span>.myImage()</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h1><blockquote><p>ç”±äºUIImageä¸èƒ½å•ç‹¬çš„æ‹¿å‡ºæ¥å±•ç¤º, å®ƒå¿…é¡»ä¾èµ–äºæŸä¸ªä¸€ä¸ªç»§æ‰¿äºUIViewçš„ä¸€ä¸ªView, æ¯”å¦‚UIImageViewæˆ–è€…UIButton, è¿™äº›éƒ½æ˜¯å¯ä»¥çš„</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIImage </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIImage </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIImage-ç®€ä»‹</title>
      <link href="/2017/12/14/Swift/UIKit/UIImage-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UIImageçš„çŠ¶æ€"><a href="#UIImageçš„çŠ¶æ€" class="headerlink" title="UIImageçš„çŠ¶æ€"></a>UIImageçš„çŠ¶æ€</h1><blockquote><p>UIImageOrientation</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIImageOrientation</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Up</span> <span class="comment">//é»˜è®¤æ–¹å‘</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Down</span> <span class="comment">//180Â°æ—‹è½¬</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Left</span> <span class="comment">//é€†æ—¶é’ˆæ—‹è½¬90Â°</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Right</span> <span class="comment">//é¡ºæ—¶é’ˆæ—‹è½¬90Â°</span></div><div class="line">    <span class="keyword">case</span> <span class="type">UpMirrored</span> <span class="comment">//æ°´å¹³å‘ä¸Šç¿»è½¬</span></div><div class="line">    <span class="keyword">case</span> <span class="type">DownMirrored</span> <span class="comment">//æ°´å¹³å‘ä¸‹ç¿»è½¬</span></div><div class="line">    <span class="keyword">case</span> <span class="type">LeftMirrored</span> <span class="comment">//é€†æ—¶é’ˆæ—‹è½¬90Â°åå†å‚ç›´ç¿»è½¬</span></div><div class="line">    <span class="keyword">case</span> <span class="type">RightMirrored</span> <span class="comment">//é¡ºæ—¶é’ˆæ—‹è½¬90Â°åå†å‚ç›´ç¿»è½¬</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>UIImageResizingMode</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIImageResizingMode</span> : <span class="title">Int</span> </span>&#123;    </div><div class="line">    <span class="keyword">case</span> <span class="type">Tile</span> <span class="comment">//å¹³é“ºåˆ°è°ƒæ•´å®Œä½ç½®çš„å›¾åƒ</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Stretch</span> <span class="comment">//æ‹‰ä¼¸åˆ°è°ƒæ•´å®Œä½ç½®çš„å›¾åƒ</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>UIImageRenderingMode</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UIImageRenderingMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Automatic</span> <span class="comment">//é»˜è®¤ä¸Šä¸‹æ–‡æ˜¾ç¤ºçš„å›¾åƒä½ç½®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">AlwaysOriginal</span> <span class="comment">//æ€»æ˜¯ä»¥å›¾ç‰‡ä¸ºæ¨¡æ¿</span></div><div class="line">    <span class="keyword">case</span> <span class="type">AlwaysTemplate</span> <span class="comment">//ä¼šæŠŠå›¾åƒä½œä¸ºç»˜ç”»çš„æ¨¡æ¿, å¿½ç•¥å…¶ä»–é¢œè‰²</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="å¸¸ç”¨çš„å±æ€§"><a href="#å¸¸ç”¨çš„å±æ€§" class="headerlink" title="å¸¸ç”¨çš„å±æ€§"></a>å¸¸ç”¨çš„å±æ€§</h1><blockquote><p>UIImageé‡Œé¢è™½ç„¶æœ‰å¾ˆå¤šå±æ€§, ä½†å”¯ä¸€å¸¸ç”¨çš„å±æ€§å°±åªæœ‰è®¾ç½®è·å–imageåå­—çš„å±æ€§.</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">init</span>?(named name: <span class="type">String</span>) -&gt; <span class="type">UIImage</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIImage </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIImage </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITableViewCell-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/14/Swift/UIKit/UITableViewCell-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="UITableViewCell-ç®€å•ä½¿ç”¨"><a href="#UITableViewCell-ç®€å•ä½¿ç”¨" class="headerlink" title="UITableViewCell-ç®€å•ä½¿ç”¨"></a>UITableViewCell-ç®€å•ä½¿ç”¨</h1><blockquote><p>ç”±äº TableViewCell æ˜¯ä¸å¯ä»¥å•ç‹¬å­˜åœ¨çš„, æ‰€ä»¥å¿…é¡»å¾—ä¾èµ–äº UITableView</p></blockquote><h1 id="éµå®ˆ-TableView-ä»£ç†åè®®ä»¥åŠæ•°æ®æºåè®®"><a href="#éµå®ˆ-TableView-ä»£ç†åè®®ä»¥åŠæ•°æ®æºåè®®" class="headerlink" title="éµå®ˆ TableView ä»£ç†åè®®ä»¥åŠæ•°æ®æºåè®®"></a>éµå®ˆ TableView ä»£ç†åè®®ä»¥åŠæ•°æ®æºåè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITableViewDataSource</span>, <span class="title">UITableViewDelegate</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰-TableVIew"><a href="#è‡ªå®šä¹‰-TableVIew" class="headerlink" title="è‡ªå®šä¹‰ TableVIew"></a>è‡ªå®šä¹‰ TableVIew</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myTableView</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="keyword">var</span> tableView = <span class="type">UITableView</span>(frame: <span class="keyword">self</span>.view.frame, style: <span class="type">UITableViewStyle</span>.<span class="type">Plain</span>)</div><div class="line">       tableView.dataSource = <span class="keyword">self</span></div><div class="line">       tableView.delegate = <span class="keyword">self</span></div><div class="line">       <span class="keyword">self</span>.view.addSubview(tableView)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="å®ç°æ•°æ®æºæ–¹æ³•"><a href="#å®ç°æ•°æ®æºæ–¹æ³•" class="headerlink" title="å®ç°æ•°æ®æºæ–¹æ³•"></a>å®ç°æ•°æ®æºæ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfSectionsInTableView</span><span class="params">(tableView: UITableView)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">1</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">5</span></div><div class="line">  &#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰-UITableViewCell"><a href="#è‡ªå®šä¹‰-UITableViewCell" class="headerlink" title="è‡ªå®šä¹‰ UITableViewCell"></a>è‡ªå®šä¹‰ UITableViewCell</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</div><div class="line">        <span class="comment">// 1.è‡ªå®šä¹‰ UITableViewCell çš„æ ·å¼ä»¥åŠæ ‡ç­¾, reuseIdentifier æ˜¯ Cell å¾—æ ‡ç­¾, ä½œç”¨å’Œ Tag ç±»ä¼¼</span></div><div class="line">        <span class="keyword">var</span> cell = <span class="type">UITableViewCell</span>(style: <span class="type">UITableViewCellStyle</span>.<span class="type">Value1</span>, reuseIdentifier: <span class="string">"cell"</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 2.è®¾ç½® UITableViewCell çš„æ ‡é¢˜Label</span></div><div class="line">        cell.textLabel!.text = <span class="string">"æˆ‘æ˜¯ Cell"</span></div><div class="line"></div><div class="line">        <span class="comment">// 3.è®¾ç½® UITableViewCell çš„ç®€ä»‹Label</span></div><div class="line">        cell.detailTextLabel?.text = <span class="string">"Cell"</span></div><div class="line"></div><div class="line">        <span class="comment">// 4.è®¾ç½® UITableViewCell çš„ imageView å›¾ç‰‡</span></div><div class="line">        cell.imageView?.image = <span class="type">UIImage</span>(named: <span class="string">"image_black.jpg"</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 5.è®¾ç½® UITableViewCell çš„ç¼–è¾‘æ¨¡å¼æ˜¯å¦å¼€å¯, ä»¥åŠæ˜¯å¦æ‰§è¡ŒåŠ¨ç”»æ•ˆæœ</span></div><div class="line">        cell.setEditing(<span class="literal">true</span>, animated: <span class="literal">true</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 6.è®¾ç½® UITableViewCell çš„èƒŒæ™¯è‰²</span></div><div class="line">        cell.backgroundColor = <span class="type">UIColor</span>.greenColor()</div><div class="line"></div><div class="line">        <span class="comment">// 7.è®¾ç½® UITableViewCell çš„ç¼–è¾‘æ¨¡å¼è¾…åŠ©æŒ‰é’®</span></div><div class="line">        cell.editingAccessoryType = <span class="type">UITableViewCellAccessoryType</span>.<span class="type">DisclosureIndicator</span></div><div class="line"></div><div class="line">        <span class="comment">// 8.è®¾ç½® UITableViewCell è¢«é€‰ä¸­çš„æ ·å¼</span></div><div class="line">        cell.selectionStyle = <span class="type">UITableViewCellSelectionStyle</span>.<span class="type">Default</span></div><div class="line"></div><div class="line">        <span class="comment">// 9.è®¾ç½® UITableViewCell åˆ†å‰²çº¿çš„ä½ç½®</span></div><div class="line">        cell.separatorInset = <span class="type">UIEdgeInsetsMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">20</span>)</div><div class="line"></div><div class="line">        <span class="comment">// 10.è®¾ç½® UITableViewCell è¢«é€‰ä¸­æ—¶çš„èƒŒæ™¯View</span></div><div class="line">        cell.selectedBackgroundView = <span class="literal">nil</span></div><div class="line"></div><div class="line">        <span class="comment">// 11.è®¾ç½® UITableViewCell çš„è¾…åŠ©æŒ‰é’®æ ·å¼</span></div><div class="line">        cell.accessoryType = <span class="type">UITableViewCellAccessoryType</span>.<span class="type">DisclosureIndicator</span></div><div class="line"></div><div class="line">        <span class="comment">// è¿”å›è‡ªå®šçš„ Cell</span></div><div class="line">        <span class="keyword">return</span> cell</div><div class="line">    &#125;</div></pre></td></tr></table></figure><h1 id="å¼€å¯-TableViewCell-çš„ç¼–è¾‘æ¨¡å¼"><a href="#å¼€å¯-TableViewCell-çš„ç¼–è¾‘æ¨¡å¼" class="headerlink" title="å¼€å¯ TableViewCell çš„ç¼–è¾‘æ¨¡å¼"></a>å¼€å¯ TableViewCell çš„ç¼–è¾‘æ¨¡å¼</h1> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath)</span></span> &#123;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITableViewCell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITableViewCell </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITableViewCell</title>
      <link href="/2017/12/14/Swift/UIKit/UITableViewCell-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h1><h2 id="UITableViewCell-æ˜¾ç¤ºçš„æ ·å¼"><a href="#UITableViewCell-æ˜¾ç¤ºçš„æ ·å¼" class="headerlink" title="UITableViewCell æ˜¾ç¤ºçš„æ ·å¼"></a>UITableViewCell æ˜¾ç¤ºçš„æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITableViewCellStyle</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Default</span> <span class="comment">// é»˜è®¤æ˜¾ç¤ºæ ·å¼</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Value1</span> <span class="comment">// æ ·å¼ä¸€</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Value2</span> <span class="comment">// æ ·å¼äºŒ</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Subtitle</span> <span class="comment">// å‰¯æ ‡é¢˜æ ·å¼</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITableViewCell-é€‰ä¸­çš„æ ·å¼"><a href="#UITableViewCell-é€‰ä¸­çš„æ ·å¼" class="headerlink" title="UITableViewCell é€‰ä¸­çš„æ ·å¼"></a>UITableViewCell é€‰ä¸­çš„æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITableViewCellEditingStyle</span> : <span class="title">Int</span> </span>&#123;   </div><div class="line">    <span class="keyword">case</span> <span class="type">None</span> <span class="comment">// æ²¡æœ‰</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Delete</span> <span class="comment">// åˆ é™¤</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Insert</span> <span class="comment">// æ·»åŠ </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITableViewCell-è¾…åŠ©æŒ‰é’®çš„æ ·å¼"><a href="#UITableViewCell-è¾…åŠ©æŒ‰é’®çš„æ ·å¼" class="headerlink" title="UITableViewCell è¾…åŠ©æŒ‰é’®çš„æ ·å¼"></a>UITableViewCell è¾…åŠ©æŒ‰é’®çš„æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITableViewCellAccessoryType</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">None</span> <span class="comment">// æ²¡æœ‰æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">DisclosureIndicator</span> <span class="comment">// è“è‰²å‘å³çš„ç®­å¤´</span></div><div class="line">    <span class="keyword">case</span> <span class="type">DetailDisclosureButton</span> <span class="comment">// è“è‰²å‘å³çš„ç®­å¤´ä»¥åŠä¿¡æ¯æŒ‰é’®</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Checkmark</span> <span class="comment">// å¤é€‰æ¡†</span></div><div class="line">    @availability(iOS, introduced=<span class="number">7.0</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">DetailButton</span> <span class="comment">// ä¿¡æ¯æŒ‰é’®</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITableViewCell-å¸¸ç”¨å±æ€§"><a href="#UITableViewCell-å¸¸ç”¨å±æ€§" class="headerlink" title="UITableViewCell å¸¸ç”¨å±æ€§"></a>UITableViewCell å¸¸ç”¨å±æ€§</h2><blockquote><p>1.åˆå§‹åŒ– Cell çš„ Style ä»¥åŠæ ‡ç­¾å</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">init</span>(style: <span class="type">UITableViewCellStyle</span>, reuseIdentifier: <span class="type">String</span>?)</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® Cell çš„ ImageView å†…å®¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> imageView: <span class="type">UIImageView</span>? &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® Cell çš„ textLabel çš„å†…å®¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> textLabel: <span class="type">UILabel</span>? &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® Cell çš„ å‰¯æ ‡é¢˜å†…å®¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> detailTextLabel: <span class="type">UILabel</span>? &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>5.è®¾ç½® Cell çš„å†…å®¹ View</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> contentView: <span class="type">UIView</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½® Cell çš„èƒŒæ™¯ View</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> backgroundView: <span class="type">UIView</span>?</div></pre></td></tr></table></figure><blockquote><p>7.è®¾ç½® Cell è¢«é€‰ä¸­æ—¶çš„èƒŒæ™¯ View</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> selectedBackgroundView: <span class="type">UIView</span>!</div></pre></td></tr></table></figure><blockquote><p>8.è®¾ç½® Cell å¤šé€‰ä¸­å¾—èƒŒæ™¯ View</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> multipleSelectionBackgroundView: <span class="type">UIView</span>?</div></pre></td></tr></table></figure><blockquote><p>9.è®¾ç½® Cell è¢«é€‰ä¸­æ—¶çš„ Style</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> selectionStyle: <span class="type">UITableViewCellSelectionStyle</span></div></pre></td></tr></table></figure><blockquote><p>10.è®¾ç½® Cell ç¼–è¾‘çš„ Style</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> editingStyle: <span class="type">UITableViewCellEditingStyle</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>11.è®¾ç½® Cell æ˜¯å¦å¼€å¯ç¼–è¾‘çŠ¶æ€</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> editing: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>12.è®¾ç½® Cell çš„è¾…åŠ©æŒ‰é’®æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> accessoryType: <span class="type">UITableViewCellAccessoryType</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITableViewCell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITableViewCell </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITableView-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/13/Swift/UIKit/UITableView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="éµå®ˆä»£ç†åè®®å’Œæ•°æ®æºåè®®"><a href="#éµå®ˆä»£ç†åè®®å’Œæ•°æ®æºåè®®" class="headerlink" title="éµå®ˆä»£ç†åè®®å’Œæ•°æ®æºåè®®"></a>éµå®ˆä»£ç†åè®®å’Œæ•°æ®æºåè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITableViewDelegate</span>, <span class="title">UITableViewDataSource</span> </span>&#123;&#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰-UITableView"><a href="#è‡ªå®šä¹‰-UITableView" class="headerlink" title="è‡ªå®šä¹‰ UITableView"></a>è‡ªå®šä¹‰ UITableView</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myTableView</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="comment">// 1.è®¾ç½® TableView çš„ frame å’Œ style</span></div><div class="line">       <span class="keyword">var</span> tableView: <span class="type">UITableView</span> = <span class="type">UITableView</span>(frame: <span class="keyword">self</span>.view.frame, style: <span class="type">UITableViewStyle</span>.<span class="type">Plain</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 2.è®¾ç½® TableView çš„èƒŒæ™¯è‰²</span></div><div class="line">       tableView.backgroundColor = <span class="type">UIColor</span>(red: <span class="number">0.0</span>, green: <span class="number">127.0</span>, blue: <span class="number">127.0</span>, alpha: <span class="number">1.0</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 3.è®¾ç½® TableView çš„ä»£ç†å¯¹è±¡</span></div><div class="line">       tableView.delegate = <span class="keyword">self</span></div><div class="line"></div><div class="line">       <span class="comment">// 4.è®¾ç½® TableView çš„æ•°æ®æºå¯¹è±¡</span></div><div class="line">       tableView.dataSource = <span class="keyword">self</span></div><div class="line"></div><div class="line">       <span class="comment">// 5.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é«˜åº¦</span></div><div class="line">       tableView.rowHeight = <span class="number">44</span></div><div class="line"></div><div class="line">       <span class="comment">// 6.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell é¡µå¤´çš„è¡Œé«˜</span></div><div class="line">       tableView.sectionHeaderHeight = <span class="number">50</span></div><div class="line"></div><div class="line">       <span class="comment">// 7.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell é¡µå°¾çš„è¡Œé«˜</span></div><div class="line">       tableView.sectionFooterHeight = <span class="number">50</span></div><div class="line"></div><div class="line">       <span class="comment">// 8.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„ä¼°è®¡è¡Œé«˜</span></div><div class="line">       tableView.estimatedRowHeight = <span class="number">100</span></div><div class="line"></div><div class="line">       <span class="comment">// 9.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é¡µå¤´ä¼°è®¡è¡Œé«˜</span></div><div class="line">       tableView.estimatedSectionHeaderHeight = <span class="number">50</span></div><div class="line"></div><div class="line">       <span class="comment">// 10.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é¡µå°¾ä¼°è®¡è¡Œé«˜</span></div><div class="line">       tableView.estimatedSectionFooterHeight = <span class="number">50</span></div><div class="line"></div><div class="line">       <span class="comment">// 11.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´åˆ†å‰²çº¿ä½ç½®(åˆ†åˆ«æ˜¯: ä¸Š, å·¦, ä¸‹, å³)</span></div><div class="line">       tableView.separatorInset = <span class="type">UIEdgeInsetsMake</span>(<span class="number">0</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="number">50</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 12.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´åˆ†å‰²çº¿çš„é¢œè‰²</span></div><div class="line">       tableView.separatorColor = <span class="type">UIColor</span>.redColor()</div><div class="line"></div><div class="line">       <span class="comment">// 13.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´çš„åˆ†å‰²æ•ˆæœ(æš‚æ— æ–¹æ³•, ç›®å‰åªæ˜¯ç”¨æ¥å®ä¾‹åŒ–)</span></div><div class="line">       tableView.separatorEffect = <span class="type">UIVisualEffect</span>()</div><div class="line"></div><div class="line">       <span class="comment">// 14.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´çš„åˆ†å‰²çº¿æ ·å¼(é»˜è®¤æ˜¯ SingleLine æ ·å¼)</span></div><div class="line">       tableView.separatorStyle = <span class="type">UITableViewCellSeparatorStyle</span>.<span class="type">SingleLine</span></div><div class="line"></div><div class="line">       <span class="comment">// 15.è®¾ç½® TableView çš„èƒŒæ™¯ View å¯¹è±¡</span></div><div class="line">       tableView.backgroundView = <span class="type">UIView</span>()</div><div class="line"></div><div class="line">       <span class="comment">// 16.è®¾ç½® TableView çš„ç¼–è¾‘æ¨¡å¼æ˜¯å¦å¼€å¯, å¹¶ä¸”æ˜¯å¦ä½¿ç”¨åŠ¨ç”»æ•ˆæœ</span></div><div class="line">       tableView.setEditing(<span class="literal">true</span>, animated: <span class="literal">true</span>)</div><div class="line">       <span class="comment">// 17.æ·»åŠ åˆ° self.view ä¸Š</span></div><div class="line">       <span class="keyword">self</span>.view.addSubview(tableView)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="å®ç°ä»£ç†æ–¹æ³•å’Œæ•°æ®æºæ–¹æ³•"><a href="#å®ç°ä»£ç†æ–¹æ³•å’Œæ•°æ®æºæ–¹æ³•" class="headerlink" title="å®ç°ä»£ç†æ–¹æ³•å’Œæ•°æ®æºæ–¹æ³•"></a>å®ç°ä»£ç†æ–¹æ³•å’Œæ•°æ®æºæ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘ç»„ Cell</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">numberOfSectionsInTableView</span><span class="params">(tableView: UITableView)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">2</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘è¡Œ Cell</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">2</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„è¯¦ç»†å†…å®¹</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</div><div class="line">      <span class="keyword">let</span> cell = <span class="type">UITableViewCell</span>()</div><div class="line">      cell.backgroundColor = <span class="type">UIColor</span>.blueColor()</div><div class="line">      <span class="keyword">return</span> cell</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„æ ‡é¢˜å†…å®¹</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForHeaderInSection section: Int)</span></span> -&gt; <span class="type">String</span>? &#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"æˆ‘æ˜¯é¡µå¤´"</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é¡µå°¾å†…å®¹</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForFooterInSection section: Int)</span></span> -&gt; <span class="type">String</span>? &#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"æˆ‘æ˜¯é¡µå°¾"</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é«˜åº¦, ä¸€æ—¦è¿™é‡Œè®¾ç½®äº†, é‚£ä¹ˆåœ¨è‡ªå®šä¹‰é‡Œçš„ rowHeight å±æ€§å°±ä¼šè¢«è¦†ç›–</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, heightForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">100</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥å“åº” TableVIewCell è¢«ç‚¹å‡»çš„äº‹ä»¶</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath)</span></span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"æˆ‘è¢«ç‚¹å‡»äº†"</span>)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„ç¼–è¾‘æ¨¡å¼, å¦‚æœä¸è®¾ç½®, é»˜è®¤éƒ½æ˜¯åˆ é™¤</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, editingStyleForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCellEditingStyle</span> &#123;</div><div class="line">      <span class="keyword">return</span> <span class="type">UITableViewCellEditingStyle</span>.<span class="type">Insert</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 9.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® Tabelview çš„å·¦æ»‘å¿«æ·æŒ‰é’®, åªè¦å†™äº†è¯¥æ–¹æ³•, é»˜è®¤æ‰“å¼€</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath)</span></span> &#123;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 10.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TabelView å·¦æ»‘å¿«æ·æŒ‰é’®çš„è¯¦ç»†å†…å®¹ä»¥åŠæ“ä½œ</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForDeleteConfirmationButtonForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">String</span>! &#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">"åˆ é™¤"</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 11.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ˜¯å¦å¯ä»¥æ‹–æ‹½åˆ°å…¶ä»–è¡Œæ•°, åªè¦å†™äº†è¯¥æ–¹æ³•, é»˜è®¤æ‰“å¼€</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, moveRowAtIndexPath sourceIndexPath: NSIndexPath, toIndexPath destinationIndexPath: NSIndexPath)</span></span> &#123;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITableView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITableView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITableView-ç®€ä»‹</title>
      <link href="/2017/12/13/Swift/UIKit/UITableView-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UITableviewå¸¸ç”¨å±æ€§"><a href="#UITableviewå¸¸ç”¨å±æ€§" class="headerlink" title="UITableviewå¸¸ç”¨å±æ€§"></a>UITableviewå¸¸ç”¨å±æ€§</h1><h2 id="UITableView-çš„æ ·å¼"><a href="#UITableView-çš„æ ·å¼" class="headerlink" title="UITableView çš„æ ·å¼"></a>UITableView çš„æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITableViewStyle</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Plain</span> <span class="comment">// å¹³é“ºæ ·å¼</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Grouped</span> <span class="comment">// åˆ†ç»„æ ·å¼</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITableView-æ·»åŠ æˆ–è€…åˆ é™¤-Cell-æ—¶çš„åŠ¨ç”»"><a href="#UITableView-æ·»åŠ æˆ–è€…åˆ é™¤-Cell-æ—¶çš„åŠ¨ç”»" class="headerlink" title="UITableView æ·»åŠ æˆ–è€…åˆ é™¤ Cell æ—¶çš„åŠ¨ç”»"></a>UITableView æ·»åŠ æˆ–è€…åˆ é™¤ Cell æ—¶çš„åŠ¨ç”»</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITableViewRowAnimation</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Fade</span> <span class="comment">// æ·¡å…¥æ·¡å‡º</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Right</span> <span class="comment">// ä»å³æ·»åŠ </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Left</span> <span class="comment">// ä»å·¦æ·»åŠ </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Top</span> <span class="comment">// ä»ä¸Šæ·»åŠ </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Bottom</span> <span class="comment">// ä»åº•éƒ¨æ·»åŠ </span></div><div class="line">    <span class="keyword">case</span> <span class="type">None</span> <span class="comment">// æ²¡æœ‰åŠ¨ç”»</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Middle</span> <span class="comment">// ä»ä¸­é—´æ·»åŠ </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Automatic</span> <span class="comment">// éšæœºæ·»åŠ </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITableView-æ»šåŠ¨æ—¶æŒ‡å®šçš„ä½ç½®"><a href="#UITableView-æ»šåŠ¨æ—¶æŒ‡å®šçš„ä½ç½®" class="headerlink" title="UITableView æ»šåŠ¨æ—¶æŒ‡å®šçš„ä½ç½®"></a>UITableView æ»šåŠ¨æ—¶æŒ‡å®šçš„ä½ç½®</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITableViewScrollPosition</span> : <span class="title">Int</span> </span>&#123;   </div><div class="line">    <span class="keyword">case</span> <span class="type">None</span> <span class="comment">// ä¸æŒ‡å®š</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Top</span> <span class="comment">// æŒ‡å®šä¸Šé¢</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Middle</span> <span class="comment">// æŒ‡å®šä¸­é—´</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Bottom</span> <span class="comment">// æŒ‡å®šåº•éƒ¨</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITableView-åˆ†å‰²çº¿çš„æ ·å¼"><a href="#UITableView-åˆ†å‰²çº¿çš„æ ·å¼" class="headerlink" title="UITableView åˆ†å‰²çº¿çš„æ ·å¼"></a>UITableView åˆ†å‰²çº¿çš„æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">UITableViewCellSeparatorStyle</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">None</span> <span class="comment">// æ²¡æœ‰åˆ†å‰²çº¿</span></div><div class="line">    <span class="keyword">case</span> <span class="type">SingleLine</span> <span class="comment">// å•è¡Œåˆ†å‰²çº¿</span></div><div class="line">    <span class="keyword">case</span> <span class="type">SingleLineEtched</span> <span class="comment">// å¤šè¡Œåˆ†å‰²çº¿èåˆ</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="UITableView-å±æ€§"><a href="#UITableView-å±æ€§" class="headerlink" title="UITableView å±æ€§"></a>UITableView å±æ€§</h2><blockquote><p>1.è®¾ç½® UITableView çš„ä½ç½®ä»¥åŠStyle</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">init</span>(frame: <span class="type">CGRect</span>, style: <span class="type">UITableViewStyle</span>)    </div><div class="line"><span class="keyword">var</span> style: <span class="type">UITableViewStyle</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½®æ•°æ®æºå¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">unowned</span>(unsafe) <span class="keyword">var</span> dataSource: <span class="type">UITableViewDataSource</span>?</div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½®ä»£ç†å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">unowned</span>(unsafe) <span class="keyword">var</span> delegate: <span class="type">UITableViewDelegate</span>?</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® Cell çš„è¡Œé«˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> rowHeight: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>5.è®¾ç½® Cell çš„æ ‡é¢˜é«˜åº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> sectionHeaderHeight: <span class="type">CGFloat</span></div><div class="line">``` </div><div class="line"></div><div class="line">&gt; <span class="number">6</span>.è®¾ç½® <span class="type">Cell</span> çš„é¡µå°¾é«˜åº¦</div><div class="line"></div><div class="line">```swift</div><div class="line"><span class="keyword">var</span> sectionFooterHeight: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>7.è®¾ç½®ä¼°è®¡çš„ Cell çš„è¡Œé«˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> estimatedRowHeight: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>8.è®¾ç½®ä¼°è®¡çš„ Cell çš„æ ‡é¢˜è¡Œé«˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> estimatedSectionHeaderHeight: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>9.è®¾ç½®ä¼°è®¡çš„ Cell çš„é¡µå°¾è¡Œé«˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> estimatedSectionFooterHeight: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>10.è®¾ç½® Cell ä¸ Cell ä¹‹é—´çš„åˆ†å‰²çº¿ä½ç½®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> separatorInset: <span class="type">UIEdgeInsets</span></div></pre></td></tr></table></figure><blockquote><p>11.è®¾ç½® UITableView çš„èƒŒæ™¯ View å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> backgroundView: <span class="type">UIView</span>?</div></pre></td></tr></table></figure><h1 id="å¸¸ç”¨æ•°æ®æºæ–¹æ³•"><a href="#å¸¸ç”¨æ•°æ®æºæ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ•°æ®æºæ–¹æ³•"></a>å¸¸ç”¨æ•°æ®æºæ–¹æ³•</h1><ul><li>è¦ä½¿ç”¨æ•°æ®æºæ–¹æ³•(DataSoucreæ–¹æ³•), é¦–å…ˆæˆ‘ä»¬éœ€è¦éµå®ˆ UITableView çš„æ•°æ®æºæ–¹æ³•(UITableViewDataSoucre)åè®®</li></ul><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘è¡Œ Cell</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„è¯¦ç»†å†…å®¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span></div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘ç»„ Cell</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">numberOfSectionsInTableView</span><span class="params">(tableView: UITableView)</span></span> -&gt; <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¯ä¸€ç»„ Cell çš„æ ‡é¢˜å†…å®¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForHeaderInSection section: Int)</span></span> -&gt; <span class="type">String</span>?</div></pre></td></tr></table></figure><blockquote><p>5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¯ä¸€ç»„ Cell çš„é¡µå°¾å†…å®¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForFooterInSection section: Int)</span></span> -&gt; <span class="type">String</span>?</div></pre></td></tr></table></figure><blockquote><p>6.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® TableView å·¦æ»‘å¿«æ·</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">optional func tableView(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath)</div></pre></td></tr></table></figure><blockquote><p>7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ˜¯å¦å¯ä»¥æ‹–æ‹½åˆ°å…¶ä»–è¡Œæ•°, åªè¦å†™äº†è¯¥æ–¹æ³•, é»˜è®¤æ‰“å¼€</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, moveRowAtIndexPath sourceIndexPath: NSIndexPath, toIndexPath destinationIndexPath: NSIndexPath)</span></span></div></pre></td></tr></table></figure><h1 id="å¸¸ç”¨ä»£ç†æ–¹æ³•"><a href="#å¸¸ç”¨ä»£ç†æ–¹æ³•" class="headerlink" title="å¸¸ç”¨ä»£ç†æ–¹æ³•"></a>å¸¸ç”¨ä»£ç†æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¯ä¸€è¡Œ Cell çš„é«˜åº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, heightForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® Cell æ ‡é¢˜å†…å®¹çš„é«˜åº¦(å¦‚æœè¯¥æ–¹æ³•ä½¿ç”¨äº†, é‚£ä¹ˆåœ¨è‡ªå®šä¹‰ TableView çš„sectionHeaderHeightå±æ€§å°±ä¼šè¢«è¦†ç›–)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® Cell é¡µå°¾å†…å®¹çš„é«˜åº¦(å¦‚æœè¯¥æ–¹æ³•ä½¿ç”¨äº†, é‚£ä¹ˆåœ¨è‡ªå®šä¹‰ TableView çš„sectionFooterHeightå±æ€§å°±ä¼šè¢«è¦†ç›–)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, heightForFooterInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView å·¦æ»‘å¿«æ·æŒ‰é’®çš„å†…å®¹ä»¥åŠè¯¦ç»†æ“ä½œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForDeleteConfirmationButtonForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">String</span>!</div></pre></td></tr></table></figure><blockquote><p>5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„ç¼–è¾‘æ¨¡å¼, å¦‚æœä¸è®¾ç½®, é»˜è®¤éƒ½æ˜¯åˆ é™¤</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, editingStyleForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCellEditingStyle</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITableView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITableView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIScrollView-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/13/Swift/UIKit/UIScrollView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="å®ä¾‹åŒ–UIScrollView-UIImageView-UIImage"><a href="#å®ä¾‹åŒ–UIScrollView-UIImageView-UIImage" class="headerlink" title="å®ä¾‹åŒ–UIScrollView, UIImageView, UIImage"></a>å®ä¾‹åŒ–UIScrollView, UIImageView, UIImage</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UIScrollViewDelegate</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> scrollView =  <span class="type">UIScrollView</span>()</div><div class="line">    <span class="keyword">var</span> imageView =  <span class="type">UIImageView</span>()</div><div class="line">    <span class="keyword">var</span> imageURL = <span class="type">UIImage</span>()</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è®¾ç½®UIScrollView"><a href="#è®¾ç½®UIScrollView" class="headerlink" title="è®¾ç½®UIScrollView"></a>è®¾ç½®UIScrollView</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myScrollView</span><span class="params">()</span></span> &#123;</div><div class="line">      <span class="comment">// 1.1è®¾ç½®ScrollViewçš„Frame</span></div><div class="line">      scrollView.frame = <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.width, <span class="keyword">self</span>.view.frame.height)</div><div class="line"></div><div class="line">      <span class="comment">// 1.2è®¾ç½®ScrollViewçš„è¾¹è·</span></div><div class="line">      scrollView.contentInset = <span class="type">UIEdgeInsetsMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>)</div><div class="line"></div><div class="line">      <span class="comment">// 1.3è®¾ç½®ScrollViewçš„ä»£ç†</span></div><div class="line">      scrollView.delegate = <span class="keyword">self</span></div><div class="line"></div><div class="line">      <span class="comment">// 1.4è®¾ç½®ScrollViewçš„æœ€å°ç¼©æ”¾æ¯”ä¾‹</span></div><div class="line">      scrollView.minimumZoomScale = <span class="number">0.1</span></div><div class="line"></div><div class="line">      <span class="comment">// 1.5è®¾ç½®ScrollViewçš„æœ€å¤§ç¼©æ”¾æ¯”ä¾‹</span></div><div class="line">      scrollView.maximumZoomScale = <span class="number">1.5</span></div><div class="line"></div><div class="line">      <span class="comment">// 1.6æ·»åŠ åˆ°çˆ¶è§†å›¾</span></div><div class="line">      <span class="keyword">self</span>.view.addSubview(scrollView)</div><div class="line">  &#125;</div></pre></td></tr></table></figure><h1 id="è®¾ç½®UIImageView"><a href="#è®¾ç½®UIImageView" class="headerlink" title="è®¾ç½®UIImageView"></a>è®¾ç½®UIImageView</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myImageView</span><span class="params">()</span></span> &#123;</div><div class="line">      <span class="comment">// 2.1è®¾ç½®ImageViewçš„å›¾ç‰‡</span></div><div class="line">      imageURL = <span class="type">UIImage</span>(named: <span class="string">"image_landscape3.jpg"</span>)!</div><div class="line"></div><div class="line">      <span class="comment">// 2.2è®¾ç½®æ·»åŠ å›¾ç‰‡çš„æ–¹æ³•ä»¥åŠå¯¹è±¡</span></div><div class="line">      <span class="keyword">self</span>.setImage(imageURL)</div><div class="line"></div><div class="line">      <span class="comment">// 2.3æ·»åŠ åˆ°ScrollViewä¸Š</span></div><div class="line">      scrollView.addSubview(imageView)</div><div class="line">  &#125;</div></pre></td></tr></table></figure><h1 id="è®¾ç½®UIImage"><a href="#è®¾ç½®UIImage" class="headerlink" title="è®¾ç½®UIImage"></a>è®¾ç½®UIImage</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setImage</span> <span class="params">(image: UIImage)</span></span> &#123;</div><div class="line">        <span class="comment">// 3.1è®¾ç½®imageå¯¹è±¡</span></div><div class="line">        imageURL = image</div><div class="line"></div><div class="line">        <span class="comment">// 3.2è®¾ç½®imageViewçš„imageå†…å®¹</span></div><div class="line">        imageView.image = image</div><div class="line"></div><div class="line">        <span class="comment">// 3.3è®¾ç½®imageViewæ ¹æ®imageè‡ªåŠ¨è°ƒæ•´å¤§å°</span></div><div class="line">        imageView.sizeToFit()</div><div class="line"></div><div class="line">        <span class="comment">// 3.4è®¾ç½®ScrollViewçš„å†…å®¹å¤§å°ä¸ºimageçš„å¤§å°</span></div><div class="line">        scrollView.contentSize = image.size</div><div class="line">    &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIScrollView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> UIScrollView </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIScrollView-ç®€ä»‹</title>
      <link href="/2017/12/13/Swift/UIKit/UIScrollView-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UIScrollViewçš„å¸¸ç”¨å±æ€§"><a href="#UIScrollViewçš„å¸¸ç”¨å±æ€§" class="headerlink" title="UIScrollViewçš„å¸¸ç”¨å±æ€§"></a>UIScrollViewçš„å¸¸ç”¨å±æ€§</h1><blockquote><p> è®¾ç½®å†…å®¹çš„ä¸­å¿ƒç‚¹, é»˜è®¤æ˜¯0</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> contentOffset: <span class="type">CGPoint</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®å†…å®¹çš„å®½é«˜, é»˜è®¤æ˜¯0</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> contentSize: <span class="type">CGSize</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®UIScrollViewçš„è¾¹è·, é»˜è®¤æ˜¯0</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> contentInset: <span class="type">UIEdgeInsets</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®UIScrollViewæ˜¯å¦å¯ä»¥ç¿»é¡µ, é»˜è®¤æ˜¯false</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> pagingEnabled: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®UIScrollViewæ˜¯å¦å¯ç”¨, é»˜è®¤æ˜¯true </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> scrollEnabled: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®UIScrollViewçš„æ°´å¹³æ»šåŠ¨, é»˜è®¤æ˜¯true</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> showsHorizontalScrollIndicator: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®UIScrollViewçš„å‚ç›´æ»šåŠ¨, é»˜è®¤æ˜¯true</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> showsVerticalScrollIndicator: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®UIScrollViewæ»šåŠ¨æ¡æ˜¾ç¤ºçš„ä½ç½®, é»˜è®¤æ˜¯0</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> scrollIndicatorInsets: <span class="type">UIEdgeInsets</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®æœ€å°çš„ç¼©æ”¾æ¯”ä¾‹, é»˜è®¤æ˜¯1.0</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> minimumZoomScale: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®æœ€å¤§çš„ç¼©æ”¾æ¯”ä¾‹, é»˜è®¤æ˜¯1.0</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> maximumZoomScale: <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®ç‚¹å‡»çŠ¶æ€æ å°±å›åˆ°ScrollViewçš„æœ€é¡¶éƒ¨, é»˜è®¤æ˜¯true</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> scrollsToTop: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®ç¼©æ”¾è§†å›¾æ—¶æ˜¯å¦æœ‰å¼¹ç°§æ•ˆæœ, é»˜è®¤æ˜¯true</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> bouncesZoom: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®ScrollViewæ˜¯å¦æ»šåŠ¨æ—¶æ˜¯å¦æœ‰å¼¹ç°§æ•ˆæœ, é»˜è®¤æ˜¯true</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> bounces: <span class="type">Bool</span></div></pre></td></tr></table></figure><h1 id="UIScrollViewçš„å¸¸ç”¨æ–¹æ³•"><a href="#UIScrollViewçš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="UIScrollViewçš„å¸¸ç”¨æ–¹æ³•"></a>UIScrollViewçš„å¸¸ç”¨æ–¹æ³•</h1><blockquote><p>æ‹–æ‹½è§†å›¾æ—¶è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(scrollView: UIScrollView)</span></span></div></pre></td></tr></table></figure><blockquote><p>åˆšå¼€å§‹æ‹–æ‹½è§†å›¾çš„æ—¶å€™è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewWillBeginDragging</span><span class="params">(scrollView: UIScrollView)</span></span></div></pre></td></tr></table></figure><blockquote><p>æ‹–æ‹½åœæ­¢çš„æ—¶å€™è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidEndDragging</span><span class="params">(scrollView: UIScrollView, willDecelerate decelerate: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>å½“è§†å›¾æ»šåŠ¨é€Ÿåº¦å¼€å§‹å‡æ…¢çš„æ—¶å€™è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewWillBeginDecelerating</span><span class="params">(scrollView: UIScrollView)</span></span></div></pre></td></tr></table></figure><blockquote><p>å½“æ‹–æ‹½çš„è§†å›¾å®Œå…¨åœä¸‹æ¥åæ‰è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidEndDecelerating</span><span class="params">(scrollView: UIScrollView)</span></span></div></pre></td></tr></table></figure><blockquote><p>å½“ScrollViewçš„åŠ¨ç”»æ‰§è¡Œå®Œä¹‹åæ‰è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidEndScrollingAnimation</span><span class="params">(scrollView: UIScrollView)</span></span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®è§†å›¾çš„æ¯”ä¾‹æ”¾å¤§æˆ–è€…ç¼©å°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">optional func viewForZoomingInScrollView(scrollView: UIScrollView) -&gt; UIView?</div></pre></td></tr></table></figure><blockquote><p>å½“å®Œæˆæ¯”ä¾‹æ”¾å¤§æˆ–è€…ç¼©å°çš„æ—¶å€™è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidEndZooming</span><span class="params">(scrollView: UIScrollView, withView view: UIView!, atScale scale: CGFloat)</span></span></div></pre></td></tr></table></figure><blockquote><p>æ˜¯å¦å¯ä»¥ç‚¹å‡»çŠ¶æ€æ å›åˆ°æœ€é¡¶éƒ¨, é»˜è®¤æ˜¯true</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewShouldScrollToTop</span><span class="params">(scrollView: UIScrollView)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>å½“ç‚¹å‡»çŠ¶æ€æ å›åˆ°é¡¶éƒ¨çš„æ—¶å€™æ‰è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScrollToTop</span><span class="params">(scrollView: UIScrollView)</span></span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIScrollView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> UIScrollView </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITextView-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/13/Swift/UIKit/Swift-UIKit-UITextView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="éµå®ˆä»£ç†åè®®"><a href="#éµå®ˆä»£ç†åè®®" class="headerlink" title="éµå®ˆä»£ç†åè®®"></a>éµå®ˆä»£ç†åè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITextViewDelegate</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰UITextView"><a href="#è‡ªå®šä¹‰UITextView" class="headerlink" title="è‡ªå®šä¹‰UITextView"></a>è‡ªå®šä¹‰UITextView</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myTextView</span><span class="params">()</span></span> &#123;</div><div class="line"></div><div class="line">       <span class="comment">// 1.è‡ªå®šä¹‰ UITextView ä»¥åŠæ–‡æœ¬å®¹å™¨çš„å¤§å°</span></div><div class="line">       <span class="keyword">var</span> textView = <span class="type">UITextView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">200</span>, <span class="keyword">self</span>.view.frame.width, <span class="number">200</span>))</div><div class="line"></div><div class="line">       <span class="comment">// 2.è®¾ç½® UITextView çš„æ–‡æœ¬å†…å®¹</span></div><div class="line">       textView.text = <span class="string">"http://www.baidu.com\nabcdefghijk"</span></div><div class="line"></div><div class="line">       <span class="comment">// 3.è®¾ç½® UITextView çš„æ–‡æœ¬é¢œè‰²</span></div><div class="line">       textView.textColor = <span class="type">UIColor</span>.redColor()</div><div class="line"></div><div class="line">       <span class="comment">// 4.è®¾ç½® UITextView çš„æ–‡å­—å¤§å°</span></div><div class="line">       textView.font = <span class="type">UIFont</span>.systemFontOfSize(<span class="number">30</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 5.è®¾ç½® UITextView çš„æ–‡å­—å¯¹é½æ–¹å¼</span></div><div class="line">       textView.textAlignment = <span class="type">NSTextAlignment</span>.<span class="type">Center</span></div><div class="line"></div><div class="line">       <span class="comment">// 6.è®¾ç½® UITextView æ˜¯å¦å¯ç¼–è¾‘</span></div><div class="line">       textView.editable = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 7.è®¾ç½® UITextView æ˜¯å¦å¯ä»¥é€‰ä¸­</span></div><div class="line">       textView.selectable = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 8.è®¾ç½® UITextView çš„èƒŒæ™¯é¢œè‰²</span></div><div class="line">       textView.backgroundColor = <span class="type">UIColor</span>.greenColor()</div><div class="line"></div><div class="line">       <span class="comment">// 9.è®¾ç½® UITextView çš„è¶…æ–‡æœ¬æ ·å¼</span></div><div class="line">       textView.dataDetectorTypes = <span class="type">UIDataDetectorTypes</span>.<span class="type">All</span></div><div class="line"></div><div class="line">       <span class="comment">// 10.è®¾ç½® UITextView çš„æ–‡æœ¬é•¿æŒ‰æ—¶æ˜¯å¦å¯ä»¥æ›´æ”¹ä¸ºç²—ä½“, æ–œä½“æˆ–è€…æ–œä½“ä¸‹åˆ’çº¿æ ·å¼</span></div><div class="line">       textView.allowsEditingTextAttributes = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 11.è®¾ç½® UITextView çš„æ–‡æœ¬å®¹å™¨è¾¹ç•Œ</span></div><div class="line">       textView.textContainerInset = <span class="type">UIEdgeInsetsMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>)</div><div class="line"></div><div class="line">       <span class="comment">// 12.è®¾ç½® UITextView æ˜¯å¦ç‚¹å‡»ç¼–è¾‘æ—¶æŠŠæ—§å†…å®¹å…¨é€‰</span></div><div class="line">       textView.clearsOnInsertion = <span class="literal">true</span></div><div class="line"></div><div class="line">       <span class="comment">// 13.è®¾ç½® UITextView çš„ä»£ç†å¯¹è±¡</span></div><div class="line">       textView.delegate = <span class="keyword">self</span></div><div class="line"></div><div class="line">       <span class="comment">// 14.æ·»åŠ åˆ° self.view</span></div><div class="line">       <span class="keyword">self</span>.view.addSubview(textView)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h1 id="å®ç°ä»£ç†æ–¹æ³•"><a href="#å®ç°ä»£ç†æ–¹æ³•" class="headerlink" title="å®ç°ä»£ç†æ–¹æ³•"></a>å®ç°ä»£ç†æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç¼–è¾‘</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textViewShouldBeginEditing</span><span class="params">(textView: UITextView)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"æ­£åœ¨å¼€å§‹ç¼–è¾‘"</span>)</div><div class="line">      <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç»“æŸç¼–è¾‘</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textViewShouldEndEditing</span><span class="params">(textView: UITextView)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"æ­£åœ¨ç»“æŸç¼–è¾‘"</span>)</div><div class="line">      <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨å¼€å§‹ç¼–è¾‘æ—¶è°ƒç”¨</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textViewDidBeginEditing</span><span class="params">(textView: UITextView)</span></span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"å¼€å§‹ç¼–è¾‘"</span>)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨ç»“æŸç¼–è¾‘æ—¶è°ƒç”¨</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textViewDidEndEditing</span><span class="params">(textView: UITextView)</span></span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"ç»“æŸç¼–è¾‘"</span>)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ˜¯å¦å¯æ›´æ”¹</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textView</span><span class="params">(textView: UITextView, shouldChangeTextInRange range: NSRange, replacementText text: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"æ­£åœ¨æ›´æ”¹å†…å®¹"</span>)</div><div class="line">      <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ›´æ”¹åæ—¶è°ƒç”¨</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textViewDidChange</span><span class="params">(textView: UITextView)</span></span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"å†…å®¹å·²ç»æ”¹å˜"</span>)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥é€‰æ‹©éœ€è¦æ›´æ”¹å†…å®¹çš„ UITextView</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textViewDidChangeSelection</span><span class="params">(textView: UITextView)</span></span> &#123;</div><div class="line">      <span class="built_in">println</span>(<span class="string">"å·²ç»é€‰æ‹©è¦æ›´æ”¹å†…å®¹çš„æ–‡æœ¬æ¡†"</span>)</div><div class="line">  &#125;</div></pre></td></tr></table></figure><h1 id="åœ¨-viewDidLoad-è°ƒç”¨"><a href="#åœ¨-viewDidLoad-è°ƒç”¨" class="headerlink" title="åœ¨ viewDidLoad è°ƒç”¨"></a>åœ¨ viewDidLoad è°ƒç”¨</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="keyword">super</span>.viewDidLoad()</div><div class="line">       <span class="keyword">self</span>.myTextView()</div><div class="line">   &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITextView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITextView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITextView-ç®€ä»‹</title>
      <link href="/2017/12/13/Swift/UIKit/Swift-UIKit-UITextView-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UITextViewå¸¸ç”¨å±æ€§"><a href="#UITextViewå¸¸ç”¨å±æ€§" class="headerlink" title="UITextViewå¸¸ç”¨å±æ€§"></a>UITextViewå¸¸ç”¨å±æ€§</h1><blockquote><p>1.è®¾ç½® UITextView çš„æ–‡å­—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> text: <span class="type">String</span>!</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® UITextView çš„å­—ä½“å¤§å°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> font: <span class="type">UIFont</span>!</div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® UITextView çš„å­—ä½“é¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> textColor: <span class="type">UIColor</span>!</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® UITextView çš„å­—ä½“æ’åº, é»˜è®¤æ˜¯ä»å·¦å¾€å³</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> textAlignment: <span class="type">NSTextAlignment</span></div></pre></td></tr></table></figure><blockquote><p>5.è®¾ç½® UITextView æ˜¯å¦å¯ç¼–è¾‘</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> editable: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç‚¹å‡»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> selectable: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>7.è®¾ç½® UITextView çš„è¶…æ–‡æœ¬æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> dataDetectorTypes: <span class="type">UIDataDetectorTypes</span></div></pre></td></tr></table></figure><blockquote><p>8.è®¾ç½® UITextView åœ¨é•¿æŒ‰ä¸‹æ˜¯å¦å¯ä»¥é€‰æ‹©ä¸åŒçš„æ–‡å­—æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">var</span> allowsEditingTextAttributes: <span class="type">Bool</span></div><div class="line">```  </div><div class="line"></div><div class="line">&gt; <span class="number">9</span>.è®¾ç½® <span class="type">UITextView</span> çš„æ–‡æœ¬å®¹å™¨è¾¹ç•Œ</div><div class="line"></div><div class="line">```swift</div><div class="line"><span class="keyword">var</span> textContainerInset: <span class="type">UIEdgeInsets</span></div></pre></td></tr></table></figure><blockquote><p>10.è®¾ç½® UITextView æ˜¯å¦ç‚¹å‡»ç¼–è¾‘æ—¶æŠŠæ—§å†…å®¹å…¨é€‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> clearsOnInsertion: <span class="type">Bool</span></div></pre></td></tr></table></figure><h1 id="UITextView-çš„ä»£ç†æ–¹æ³•"><a href="#UITextView-çš„ä»£ç†æ–¹æ³•" class="headerlink" title="UITextView çš„ä»£ç†æ–¹æ³•"></a>UITextView çš„ä»£ç†æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç¼–è¾‘</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textViewShouldBeginEditing</span><span class="params">(textView: UITextView)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç»“æŸç¼–è¾‘</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textViewShouldEndEditing</span><span class="params">(textView: UITextView)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨å¼€å§‹ç¼–è¾‘æ—¶è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textViewDidBeginEditing</span><span class="params">(textView: UITextView)</span></span></div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨ç»“æŸç¼–è¾‘æ—¶è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textViewDidEndEditing</span><span class="params">(textView: UITextView)</span></span></div></pre></td></tr></table></figure><blockquote><p>5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ˜¯å¦å¯æ›´æ”¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textView</span><span class="params">(textView: UITextView, shouldChangeTextInRange range: NSRange, replacementText text: String)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ›´æ”¹åæ—¶è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textViewDidChange</span><span class="params">(textView: UITextView)</span></span></div></pre></td></tr></table></figure><blockquote><p>7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥é€‰æ‹©éœ€è¦æ›´æ”¹å†…å®¹çš„ UITextView</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">textViewDidChangeSelection</span><span class="params">(textView: UITextView)</span></span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITextView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITextView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIActionSheet-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/13/Swift/UIKit/UIActionSheet-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="éµå®ˆä»£ç†åè®®"><a href="#éµå®ˆä»£ç†åè®®" class="headerlink" title="éµå®ˆä»£ç†åè®®"></a>éµå®ˆä»£ç†åè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UIActionSheetDelegate</span> </span>&#123;&#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰UIButtonå¹¶ä¸”ç›‘å¬-ActionSheet-æ–¹æ³•"><a href="#è‡ªå®šä¹‰UIButtonå¹¶ä¸”ç›‘å¬-ActionSheet-æ–¹æ³•" class="headerlink" title="è‡ªå®šä¹‰UIButtonå¹¶ä¸”ç›‘å¬ ActionSheet æ–¹æ³•"></a>è‡ªå®šä¹‰UIButtonå¹¶ä¸”ç›‘å¬ ActionSheet æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myButton</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">var</span> button: <span class="type">UIButton</span> = <span class="type">UIButton</span>.buttonWithType(<span class="type">UIButtonType</span>.<span class="type">System</span>) <span class="keyword">as</span>! <span class="type">UIButton</span></div><div class="line">        button.frame = <span class="type">CGRectMake</span>(<span class="number">100</span>, <span class="number">200</span>, <span class="number">50</span>, <span class="number">20</span>)</div><div class="line">        button.setTitle(<span class="string">"å¼¹çª—"</span>, forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line">        button.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">        button.addTarget(<span class="keyword">self</span>, action: <span class="string">"myActionSheet"</span>, forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</div><div class="line">        <span class="keyword">self</span>.view.addSubview(button)</div><div class="line">    &#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰UIActionSheet"><a href="#è‡ªå®šä¹‰UIActionSheet" class="headerlink" title="è‡ªå®šä¹‰UIActionSheet"></a>è‡ªå®šä¹‰UIActionSheet</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myActionSheet</span><span class="params">()</span></span> &#123;</div><div class="line">      <span class="comment">// 1.è‡ªå®šä¹‰ UIActionSheet, å¹¶ä¸”è®¾ç½®æ ‡é¢˜, ä»£ç†å¯¹è±¡, ä»¥åŠæŒ‰é’®çš„æ ‡é¢˜</span></div><div class="line">      <span class="keyword">var</span> actionSheet = <span class="type">UIActionSheet</span>(title: <span class="string">"UIActionSheet"</span>, delegate: <span class="keyword">self</span>, cancelButtonTitle: <span class="string">"å–æ¶ˆ"</span>, destructiveButtonTitle: <span class="string">"æŒ‰é’®ä¸€"</span>)</div><div class="line"></div><div class="line">      <span class="comment">// 2.è®¾ç½® UIActionSheet çš„æ ·å¼</span></div><div class="line">      actionSheet.actionSheetStyle = <span class="type">UIActionSheetStyle</span>.<span class="type">Default</span></div><div class="line"></div><div class="line">      <span class="comment">// 3.è®¾ç½®å–æ¶ˆæŒ‰é’®çš„ç´¢å¼•</span></div><div class="line">      actionSheet.cancelButtonIndex = <span class="number">1</span></div><div class="line"></div><div class="line">      <span class="comment">// 4.è®¾ç½®destructiveçš„ç´¢å¼•å€¼</span></div><div class="line">      actionSheet.destructiveButtonIndex = <span class="number">0</span></div><div class="line"></div><div class="line">      <span class="comment">// 5.æ·»åŠ å…¶ä»–æŒ‰é’®çš„æ ‡é¢˜</span></div><div class="line">      actionSheet.addButtonWithTitle(<span class="string">"æŒ‰é’®äºŒ"</span>)</div><div class="line"></div><div class="line">      <span class="comment">// 6.è®¾ç½®æŒ‰é’®æ ‡é¢˜çš„ç´¢å¼•</span></div><div class="line">      actionSheet.buttonTitleAtIndex(<span class="number">1</span>)</div><div class="line"></div><div class="line">      <span class="comment">// 7.æ˜¾ç¤ºåˆ° self.view ä¸Š</span></div><div class="line">       actionSheet.showInView(<span class="keyword">self</span>.view)</div><div class="line">  &#125;</div></pre></td></tr></table></figure><h1 id="å®ç°UIActionSheetä»£ç†æ–¹æ³•"><a href="#å®ç°UIActionSheetä»£ç†æ–¹æ³•" class="headerlink" title="å®ç°UIActionSheetä»£ç†æ–¹æ³•"></a>å®ç°UIActionSheetä»£ç†æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨çš„</span></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">actionSheet</span><span class="params">(actionSheet: UIActionSheet, clickedButtonAtIndex buttonIndex: Int)</span></span> &#123;</div><div class="line">     <span class="built_in">println</span>(<span class="string">"è¢«ç‚¹å‡»äº†"</span>)</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="comment">// 2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®æ—¶è°ƒç”¨çš„</span></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">actionSheetCancel</span><span class="params">(actionSheet: UIActionSheet)</span></span> &#123;</div><div class="line">     <span class="built_in">println</span>(<span class="string">"ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®"</span>)</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="comment">// 3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„</span></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">willPresentActionSheet</span><span class="params">(actionSheet: UIActionSheet)</span></span> &#123;</div><div class="line">     <span class="built_in">println</span>(<span class="string">"UIActionSheetå³å°†æ˜¾ç¤º"</span>)</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="comment">// 4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„</span></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">didPresentActionSheet</span><span class="params">(actionSheet: UIActionSheet)</span></span> &#123;</div><div class="line">     <span class="built_in">println</span>(<span class="string">"UIActionSheetå®Œå…¨æ˜¾ç¤º"</span>)</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="comment">// 5.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„</span></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">actionSheet</span><span class="params">(actionSheet: UIActionSheet, willDismissWithButtonIndex buttonIndex: Int)</span></span> &#123;</div><div class="line">     <span class="built_in">println</span>(<span class="string">"UIActionSheetå³å°†æ¶ˆå¤±"</span>)</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="comment">// 6.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„</span></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">actionSheet</span><span class="params">(actionSheet: UIActionSheet, didDismissWithButtonIndex buttonIndex: Int)</span></span> &#123;</div><div class="line">     <span class="built_in">println</span>(<span class="string">"UIActionSheetå®Œå…¨æ¶ˆå¤±"</span>)</div><div class="line"> &#125;</div></pre></td></tr></table></figure><h1 id="åœ¨viewDidLoadå®ç°"><a href="#åœ¨viewDidLoadå®ç°" class="headerlink" title="åœ¨viewDidLoadå®ç°"></a>åœ¨viewDidLoadå®ç°</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">       <span class="keyword">super</span>.viewDidLoad()</div><div class="line">       <span class="keyword">self</span>.myButton()</div><div class="line">   &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIActionSheet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIActionSheet </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIActionSheet-ç®€ä»‹</title>
      <link href="/2017/12/13/Swift/UIKit/UIActionSheet-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UIActionSheetå¸¸ç”¨å±æ€§"><a href="#UIActionSheetå¸¸ç”¨å±æ€§" class="headerlink" title="UIActionSheetå¸¸ç”¨å±æ€§"></a>UIActionSheetå¸¸ç”¨å±æ€§</h1><blockquote><p>1.è®¾ç½® UIActionSheet çš„ä»£ç†å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> delegate: <span class="type">UIActionSheetDelegate</span>?</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® UIActionSheet çš„æ ‡é¢˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> title: <span class="type">String</span></div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® UIActionSheet çš„æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> actionSheetStyle: <span class="type">UIActionSheetStyle</span></div></pre></td></tr></table></figure><blockquote><p>4.è¯»å– UIActionSheet é‡Œæœ‰å¤šå°‘ä¸ªæŒ‰é’®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> numberOfButtons: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>5.è®¾ç½® UIActionSheet å–æ¶ˆæŒ‰é’®çš„ç´¢å¼•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> cancelButtonIndex: <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½®å…¶ä»–æŒ‰é’®çš„ç´¢å¼•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> destructiveButtonIndex: <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>7.è¯»å– UIActionSheet å…¶ä»–æŒ‰é’®çš„ç´¢å¼•å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> firstOtherButtonIndex: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><blockquote><p>8.è¯»å– UIActionSheet æ˜¯å¦å¯è§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> visible: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure><h1 id="UIActionSheetçš„å¸¸ç”¨æ–¹æ³•"><a href="#UIActionSheetçš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="UIActionSheetçš„å¸¸ç”¨æ–¹æ³•"></a>UIActionSheetçš„å¸¸ç”¨æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥æ·»åŠ  UIActionSheet çš„æŒ‰é’®æ ‡é¢˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">addButtonWithTitle</span><span class="params">(title: String)</span></span> -&gt; <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet çš„æŒ‰é’®ç´¢å¼•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">buttonTitleAtIndex</span><span class="params">(buttonIndex: Int)</span></span> -&gt; <span class="type">String</span></div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯æ¥ç”¨è®¾ç½® UIActionSheet æ˜¾ç¤ºåˆ° ToolBar</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">showFromToolbar</span><span class="params">(view: UIToolbar!)</span></span></div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet æ˜¾ç¤ºåˆ° TabBar</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">showFromTabBar</span><span class="params">(view: UITabBar!)</span></span></div></pre></td></tr></table></figure><blockquote><p>5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¥è‡ª UIBarButtonItem çš„ UIActionSheet, å¹¶ä¸”æ˜¯å¦å¼€å¯åŠ¨ç”»æ•ˆæœ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">showFromBarButtonItem</span><span class="params">(item: UIBarButtonItem!, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet çš„æ˜¾ç¤ºçš„è§†å›¾å¤§å°, ä»¥åŠæŒ‡å®šè§†å›¾å’Œæ˜¯å¦å¼€å¯åŠ¨ç”»æ•ˆæœ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">showFromRect</span><span class="params">(rect: CGRect, inView view: UIView!, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet æ˜¾ç¤ºåˆ°å“ªä¸€ä¸ªè§†å›¾</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">showInView</span><span class="params">(view: UIView!)</span></span></div></pre></td></tr></table></figure><blockquote><p>8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet æ¶ˆå¤±çš„æŒ‰é’®ç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">dismissWithClickedButtonIndex</span><span class="params">(buttonIndex: Int, animated: Bool)</span></span></div></pre></td></tr></table></figure><h1 id="UIActionSheetçš„ä»£ç†æ–¹æ³•"><a href="#UIActionSheetçš„ä»£ç†æ–¹æ³•" class="headerlink" title="UIActionSheetçš„ä»£ç†æ–¹æ³•"></a>UIActionSheetçš„ä»£ç†æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">actionSheet</span><span class="params">(actionSheet: UIActionSheet, clickedButtonAtIndex buttonIndex: Int)</span></span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®æ—¶è°ƒç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">actionSheetCancel</span><span class="params">(actionSheet: UIActionSheet)</span></span></div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">willPresentActionSheet</span><span class="params">(actionSheet: UIActionSheet)</span></span></div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">didPresentActionSheet</span><span class="params">(actionSheet: UIActionSheet)</span></span></div></pre></td></tr></table></figure><blockquote><p>5.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">actionSheet</span><span class="params">(actionSheet: UIActionSheet, willDismissWithButtonIndex buttonIndex: Int)</span></span></div></pre></td></tr></table></figure><blockquote><p>6.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">actionSheet</span><span class="params">(actionSheet: UIActionSheet, didDismissWithButtonIndex buttonIndex: Int)</span></span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIActionSheet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIActionSheet </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Func-å­—å…¸æ¨¡å‹äº’è½¬</title>
      <link href="/2017/12/13/Swift/Func/Swift-Func-%E5%AD%97%E5%85%B8%E6%A8%A1%E5%9E%8B%E4%BA%92%E8%BD%AC/"/>
      <content type="html"><![CDATA[<h1 id="å­—å…¸â€“-gt-æ¨¡å‹"><a href="#å­—å…¸â€“-gt-æ¨¡å‹" class="headerlink" title="å­—å…¸â€“&gt;æ¨¡å‹"></a>å­—å…¸â€“&gt;æ¨¡å‹</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">User</span>: <span class="title">NSObject</span> </span>&#123;  <span class="comment">//æ¨¡å‹ç±»</span></div><div class="line">    <span class="keyword">var</span> name:<span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> icon:<span class="type">String</span>?</div><div class="line"></div><div class="line">   <span class="comment">// printæ—¶ä¼šè°ƒç”¨ã€‚ç›¸å½“äºjavaä¸­çš„ toString()ã€‚ä¸ºäº†ä»£ç æ•´æ´ä¸‹é¢çš„æ¨¡å‹å»äº†è¿™ä¸ªè®¡ç®—å±æ€§ã€‚æµ‹è¯•æ—¶è¯·ä¸‹è½½demo</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">internal</span> <span class="keyword">var</span> description: <span class="type">String</span> &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="string">"name: \(name) \n icon:\(icon) \n"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">func1</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">let</span> dict = [<span class="string">"name"</span>:<span class="string">"Jack"</span>,<span class="string">"icon"</span>:<span class="string">"lufy.png"</span>]</div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> user = <span class="type">User</span>.objectWithKeyValues(dict) <span class="keyword">as</span>? <span class="type">User</span>&#123;</div><div class="line">             <span class="built_in">print</span>(<span class="string">"\(user)"</span>)</div><div class="line">        &#125;</div><div class="line">  &#125;</div><div class="line">  è¾“å‡ºï¼š name: <span class="type">Optional</span>(<span class="string">"Jack"</span>) </div><div class="line">        icon: <span class="type">Optional</span>(<span class="string">"lufy.png"</span>)</div></pre></td></tr></table></figure><h1 id="å­—å…¸â€“-gt-æ¨¡å‹-ï¼šæ¨¡å‹ä¸­åŒ…è£¹æ¨¡å‹"><a href="#å­—å…¸â€“-gt-æ¨¡å‹-ï¼šæ¨¡å‹ä¸­åŒ…è£¹æ¨¡å‹" class="headerlink" title="å­—å…¸â€“&gt;æ¨¡å‹ ï¼šæ¨¡å‹ä¸­åŒ…è£¹æ¨¡å‹"></a>å­—å…¸â€“&gt;æ¨¡å‹ ï¼šæ¨¡å‹ä¸­åŒ…è£¹æ¨¡å‹</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//æ¨¡å‹ç±»</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Status</span> :<span class="title">NSObject</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> text:<span class="type">String</span>?</div><div class="line">    <span class="keyword">var</span> user:<span class="type">User</span>?        <span class="comment">//ä¸ 1 ä¸­çš„æ¨¡å‹ç›¸åŒ</span></div><div class="line">    <span class="keyword">var</span> retweetedStatus:<span class="type">Status</span>?</div><div class="line">&#125;</div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">()</span></span>&#123;</div><div class="line">      <span class="keyword">let</span> dict = [<span class="string">"text"</span>:<span class="string">"Agree!Nice weather!"</span>,</div><div class="line">                  <span class="string">"user"</span>:[<span class="string">"name"</span>:<span class="string">"Jack"</span>,<span class="string">"icon"</span>:<span class="string">"lufy.png"</span>],</div><div class="line">                  <span class="string">"retweetedStatus"</span>:[<span class="string">"text"</span>:<span class="string">"Nice weather!"</span>,</div><div class="line">                                     <span class="string">"user"</span>:[<span class="string">"name"</span>:<span class="string">"Rose"</span>,<span class="string">"icon"</span>:<span class="string">"nami.png"</span>]]                                      </div><div class="line">                 ]</div><div class="line"></div><div class="line">      <span class="keyword">if</span> <span class="keyword">let</span> status = <span class="type">Status</span>.objectWithKeyValues(dict) <span class="keyword">as</span>? <span class="type">Status</span>&#123;</div><div class="line">          <span class="built_in">print</span>(<span class="string">"\(status)"</span>)</div><div class="line">      &#125;</div><div class="line"> &#125;</div><div class="line">è¾“å‡ºï¼š </div><div class="line">    text:<span class="type">Optional</span>(<span class="string">"Agree!Nice weather!"</span>)</div><div class="line">    user:<span class="type">Optional</span>(name: <span class="type">Optional</span>(<span class="string">"Jack"</span>)  icon:<span class="type">Optional</span>(<span class="string">"lufy.png"</span>))</div><div class="line">    retweetedStatus:<span class="type">Optional</span>(text:<span class="type">Optional</span>(<span class="string">"Nice weather!"</span>)</div><div class="line">                             user:<span class="type">Optional</span>(name: <span class="type">Optional</span>(<span class="string">"Rose"</span>)icon:<span class="type">Optional</span>(<span class="string">"nami.png"</span>))</div><div class="line">                             retweetedStatus:<span class="literal">nil</span>)</div></pre></td></tr></table></figure><h1 id="å­—å…¸â€“-gt-æ¨¡å‹ï¼š-å­—å…¸ä¸­åŒ…è£¹æ•°ç»„ï¼Œ-æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯-ä¸€ä¸ªæ¨¡å‹å¯¹åº”çš„å­—å…¸"><a href="#å­—å…¸â€“-gt-æ¨¡å‹ï¼š-å­—å…¸ä¸­åŒ…è£¹æ•°ç»„ï¼Œ-æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯-ä¸€ä¸ªæ¨¡å‹å¯¹åº”çš„å­—å…¸" class="headerlink" title="å­—å…¸â€“&gt;æ¨¡å‹ï¼š å­—å…¸ä¸­åŒ…è£¹æ•°ç»„ï¼Œ æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯ ä¸€ä¸ªæ¨¡å‹å¯¹åº”çš„å­—å…¸"></a>å­—å…¸â€“&gt;æ¨¡å‹ï¼š å­—å…¸ä¸­åŒ…è£¹æ•°ç»„ï¼Œ æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯ ä¸€ä¸ªæ¨¡å‹å¯¹åº”çš„å­—å…¸</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//æ¨¡å‹ç±»ï¼Œ å¿…é¡»éµå®ˆDictModelProtocolåè®®ï¼Œ å¹¶å®ç°customClassMappingæ–¹æ³•ã€‚</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserGroup</span>: <span class="title">NSObject</span>,<span class="title">DictModelProtocol</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> groupName:<span class="type">String</span>?;            <span class="comment">//å›¢é˜Ÿåç§°</span></div><div class="line">    <span class="keyword">var</span> numbers:<span class="type">NSArray</span>?              <span class="comment">//æˆå‘˜ï¼Œä¿å­˜Userå®ä¾‹</span></div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">customClassMapping</span><span class="params">()</span></span> -&gt; [<span class="type">String</span>: <span class="type">String</span>]?&#123;</div><div class="line">        <span class="keyword">return</span> [<span class="string">"numbers"</span>:<span class="string">"User"</span>];   <span class="comment">//æŒ‡å®šnumbersæ•°ç»„ä¸­çš„å…ƒç´ ç±»å‹æ˜¯User</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">func3</span><span class="params">()</span></span>&#123;</div><div class="line">   <span class="keyword">let</span> dict = [<span class="string">"groupName"</span>:<span class="string">"Dream Team"</span>,</div><div class="line">                 <span class="string">"numbers"</span>:[[<span class="string">"name"</span>:<span class="string">"Jack"</span>,<span class="string">"icon"</span>:<span class="string">"lufy.png"</span>],</div><div class="line">                            [<span class="string">"name"</span>:<span class="string">"Rose"</span>,<span class="string">"icon"</span>:<span class="string">"nami.png"</span>]]</div><div class="line">               ]</div><div class="line">   <span class="keyword">if</span> <span class="keyword">let</span> group = <span class="type">UserGroup</span>.objectWithKeyValues(dict)&#123;</div><div class="line">       <span class="built_in">print</span>(<span class="string">"\(group)"</span>)</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">è¾“å‡ºï¼š groupName:<span class="type">Optional</span>(<span class="string">"Dream Team"</span>)</div><div class="line">      numbers:<span class="type">Optional</span>((</div><div class="line">                        <span class="string">"name: Optional(\"Jack\") \n icon:Optional(\"lufy.png\") \n"</span>,</div><div class="line">                        <span class="string">"name: Optional(\"Rose\") \n icon:Optional(\"nami.png\") \n"</span></div><div class="line">    ))</div></pre></td></tr></table></figure><h1 id="å­—å…¸â€“-gt-æ¨¡å‹ï¼š-å°†ä¸€ä¸ªå­—å…¸æ•°ç»„è½¬æˆæ¨¡å‹æ•°ç»„"><a href="#å­—å…¸â€“-gt-æ¨¡å‹ï¼š-å°†ä¸€ä¸ªå­—å…¸æ•°ç»„è½¬æˆæ¨¡å‹æ•°ç»„" class="headerlink" title="å­—å…¸â€“&gt;æ¨¡å‹ï¼š å°†ä¸€ä¸ªå­—å…¸æ•°ç»„è½¬æˆæ¨¡å‹æ•°ç»„"></a>å­—å…¸â€“&gt;æ¨¡å‹ï¼š å°†ä¸€ä¸ªå­—å…¸æ•°ç»„è½¬æˆæ¨¡å‹æ•°ç»„</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">func4</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">let</span> arrayOfStatus = [[<span class="string">"text"</span>:<span class="string">"Agree!Nice weather!"</span>,</div><div class="line">                             <span class="string">"user"</span>:[<span class="string">"name"</span>:<span class="string">"Jack"</span>,</div><div class="line">                                     <span class="string">"icon"</span>:<span class="string">"lufy.png"</span></div><div class="line">                                    ],</div><div class="line">                            <span class="string">"retweetedStatus"</span>:[<span class="string">"text"</span>:<span class="string">"Nice weather!"</span>,</div><div class="line">                                                <span class="string">"user"</span>:[<span class="string">"name"</span>:<span class="string">"Rose"</span>,</div><div class="line">                                                        <span class="string">"icon"</span>:<span class="string">"nami.png"</span></div><div class="line">                                                       ]</div><div class="line">                                               ]</div><div class="line">                            ],</div><div class="line">                            [<span class="string">"text"</span>:<span class="string">"2___Agree!Nice weather!"</span>,</div><div class="line">                              <span class="string">"user"</span>:[<span class="string">"name"</span>:<span class="string">"2___Jack"</span>,</div><div class="line">                                       <span class="string">"icon"</span>:<span class="string">"2___lufy.png"</span></div><div class="line">                                     ],</div><div class="line">                            <span class="string">"retweetedStatus"</span>:[<span class="string">"text"</span>:<span class="string">"2___Nice weather!"</span>,</div><div class="line">                                                <span class="string">"user"</span>:[<span class="string">"name"</span>:<span class="string">"2___Rose"</span>,</div><div class="line">                                                        <span class="string">"icon"</span>:<span class="string">"2___nami.png"</span></div><div class="line">                                                       ]</div><div class="line">                                               ]</div><div class="line">                            ]]</div><div class="line"></div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> status = <span class="type">Status</span>.objectArrayWithKeyValuesArray(arrayOfStatus)&#123;</div><div class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> status&#123; <span class="comment">//æ‰“å°å‡ºæ•°ç»„çš„å…ƒç´ </span></div><div class="line">                <span class="built_in">print</span>(item)</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">è¾“å‡ºï¼š </div><div class="line">    text:<span class="type">Optional</span>(<span class="string">"Agree!Nice weather!"</span>)</div><div class="line">    user:<span class="type">Optional</span>(name: <span class="type">Optional</span>(<span class="string">"Jack"</span>)icon:<span class="type">Optional</span>(<span class="string">"lufy.png"</span>))</div><div class="line">    retweetedStatus:<span class="type">Optional</span>(text:<span class="type">Optional</span>(<span class="string">"Nice weather!"</span>)</div><div class="line">                             user:<span class="type">Optional</span>(name: <span class="type">Optional</span>(<span class="string">"Rose"</span>) icon:<span class="type">Optional</span>(<span class="string">"nami.png"</span>))</div><div class="line">                             retweetedStatus:<span class="literal">nil</span></div><div class="line">    )</div><div class="line"></div><div class="line">    text:<span class="type">Optional</span>(<span class="string">"2___Agree!Nice weather!"</span>)</div><div class="line">    user:<span class="type">Optional</span>(name: <span class="type">Optional</span>(<span class="string">"2___Jack"</span>)icon:<span class="type">Optional</span>(<span class="string">"2___lufy.png"</span>))</div><div class="line">    retweetedStatus:<span class="type">Optional</span>(text:<span class="type">Optional</span>(<span class="string">"2___Nice weather!"</span>)</div><div class="line">                             user:<span class="type">Optional</span>(name: <span class="type">Optional</span>(<span class="string">"2___Rose"</span>)icon:<span class="type">Optional</span>(<span class="string">"2___nami.png"</span>))</div><div class="line">                             retweetedStatus:<span class="literal">nil</span></div><div class="line">    )</div></pre></td></tr></table></figure><h1 id="æ¨¡å‹â€“-gt-å­—å…¸"><a href="#æ¨¡å‹â€“-gt-å­—å…¸" class="headerlink" title="æ¨¡å‹â€“&gt;å­—å…¸"></a>æ¨¡å‹â€“&gt;å­—å…¸</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">func5</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">let</span> user = <span class="type">User</span>()</div><div class="line">        user.name = <span class="string">"hejunm"</span></div><div class="line">        user.icon = <span class="string">"my.png"</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> dict = user.keyValues&#123;</div><div class="line">            <span class="keyword">do</span>&#123; <span class="comment">//è½¬åŒ–ä¸ºJSON å­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºæ¥æ›´ç›´è§‚</span></div><div class="line">                <span class="keyword">let</span> data = <span class="keyword">try</span> <span class="type">NSJSONSerialization</span>.dataWithJSONObject(dict, options: .<span class="type">PrettyPrinted</span>)</div><div class="line">                <span class="built_in">print</span>(<span class="type">NSString</span>(data: data, encoding: <span class="type">NSUTF8StringEncoding</span>))</div><div class="line">            &#125;<span class="keyword">catch</span>&#123;&#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">è¾“å‡ºï¼š    </div><div class="line"> <span class="type">Optional</span>(&#123;</div><div class="line">  <span class="string">"icon"</span> : <span class="string">"my.png"</span>,</div><div class="line">  <span class="string">"name"</span> : <span class="string">"hejunm"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure><h1 id="æ¨¡å‹â€“-gt-å­—å…¸ï¼š-æ¨¡å‹ä¸­è¿˜æœ‰æ¨¡å‹"><a href="#æ¨¡å‹â€“-gt-å­—å…¸ï¼š-æ¨¡å‹ä¸­è¿˜æœ‰æ¨¡å‹" class="headerlink" title="æ¨¡å‹â€“&gt;å­—å…¸ï¼š æ¨¡å‹ä¸­è¿˜æœ‰æ¨¡å‹"></a>æ¨¡å‹â€“&gt;å­—å…¸ï¼š æ¨¡å‹ä¸­è¿˜æœ‰æ¨¡å‹</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">func6</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">let</span> user = <span class="type">User</span>()</div><div class="line">       user.name = <span class="string">"retweeted user hejunm"</span></div><div class="line">       user.icon = <span class="string">"my.png"</span></div><div class="line"></div><div class="line">       <span class="keyword">let</span> retweetedStatus = <span class="type">Status</span>();  <span class="comment">//è½¬å‘å¾®åš</span></div><div class="line">       retweetedStatus.text = <span class="string">"this is retweeted status"</span>;</div><div class="line">       retweetedStatus.user = user</div><div class="line"></div><div class="line"></div><div class="line">       <span class="keyword">let</span> oriUser = <span class="type">User</span>()</div><div class="line">       oriUser.name = <span class="string">"original user"</span></div><div class="line">       oriUser.icon = <span class="string">"my.png"</span></div><div class="line"></div><div class="line">       <span class="keyword">let</span> oriStatus = <span class="type">Status</span>(); <span class="comment">//åŸå¾®åš</span></div><div class="line">       oriStatus.text = <span class="string">"this is original status"</span></div><div class="line">       oriStatus.user = oriUser</div><div class="line">       oriStatus.retweetedStatus = retweetedStatus</div><div class="line"></div><div class="line">       <span class="keyword">let</span> dict =  oriStatus.keyValues</div><div class="line">       <span class="keyword">do</span>&#123; <span class="comment">//è½¬åŒ–ä¸ºJSON å­—ç¬¦ä¸²</span></div><div class="line">           <span class="keyword">var</span> data = <span class="keyword">try</span> <span class="type">NSJSONSerialization</span>.dataWithJSONObject(dict!, options: .<span class="type">PrettyPrinted</span>)</div><div class="line">            <span class="built_in">print</span>(<span class="type">NSString</span>(data: data, encoding: <span class="type">NSUTF8StringEncoding</span>))</div><div class="line"></div><div class="line">        &#125;<span class="keyword">catch</span>&#123;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">è¾“å‡ºï¼š  </div><div class="line"> <span class="type">Optional</span>(&#123;</div><div class="line"> <span class="string">"text"</span> : <span class="string">"this is original status"</span>,</div><div class="line"> <span class="string">"user"</span> : &#123;</div><div class="line">           <span class="string">"icon"</span> : <span class="string">"my.png"</span>,</div><div class="line">           <span class="string">"name"</span> : <span class="string">"original user"</span></div><div class="line">          &#125;,</div><div class="line">  <span class="string">"retweetedStatus"</span> : &#123;</div><div class="line">    <span class="string">"text"</span> : <span class="string">"this is retweeted status"</span>,</div><div class="line">    <span class="string">"user"</span> : &#123;</div><div class="line">      <span class="string">"icon"</span> : <span class="string">"my.png"</span>,</div><div class="line">      <span class="string">"name"</span> : <span class="string">"retweeted user hejunm"</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure><h1 id="æ¨¡å‹â€“-gt-å­—å…¸-ï¼š-æ¨¡å‹æ•°ç»„è½¬å­—å…¸æ•°ç»„"><a href="#æ¨¡å‹â€“-gt-å­—å…¸-ï¼š-æ¨¡å‹æ•°ç»„è½¬å­—å…¸æ•°ç»„" class="headerlink" title="æ¨¡å‹â€“&gt;å­—å…¸ ï¼š æ¨¡å‹æ•°ç»„è½¬å­—å…¸æ•°ç»„"></a>æ¨¡å‹â€“&gt;å­—å…¸ ï¼š æ¨¡å‹æ•°ç»„è½¬å­—å…¸æ•°ç»„</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">func7</span><span class="params">()</span></span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">let</span> user1 = <span class="type">User</span>()</div><div class="line">        user1.name = <span class="string">"hejunm_1"</span></div><div class="line">        user1.icon = <span class="string">"my.png_1"</span></div><div class="line"></div><div class="line">        <span class="keyword">let</span> user2 = <span class="type">User</span>()</div><div class="line">        user2.name = <span class="string">"hejunm_2"</span></div><div class="line">        user2.icon = <span class="string">"my.png_2"</span></div><div class="line"></div><div class="line">        <span class="keyword">let</span> userArray = [user1,user2] <span class="keyword">as</span> <span class="type">NSArray</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> dicts = userArray.keyValuesArray&#123;</div><div class="line">            <span class="keyword">do</span>&#123;</div><div class="line">                <span class="keyword">let</span> data = <span class="keyword">try</span> <span class="type">NSJSONSerialization</span>.dataWithJSONObject(dicts, options: .<span class="type">PrettyPrinted</span>) <span class="comment">//è½¬æˆjsonå­—ç¬¦ä¸²</span></div><div class="line">                <span class="built_in">print</span>(<span class="type">NSString</span>(data: data, encoding: <span class="type">NSUTF8StringEncoding</span>))</div><div class="line">            &#125;<span class="keyword">catch</span>&#123;</div><div class="line"></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">è¾“å‡ºï¼š </div><div class="line"><span class="type">Optional</span>([</div><div class="line">  &#123;</div><div class="line">    <span class="string">"icon"</span> : <span class="string">"my.png_1"</span>,</div><div class="line">    <span class="string">"name"</span> : <span class="string">"hejunm_1"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="string">"icon"</span> : <span class="string">"my.png_2"</span>,</div><div class="line">    <span class="string">"name"</span> : <span class="string">"hejunm_2"</span></div><div class="line">  &#125;</div><div class="line">])</div></pre></td></tr></table></figure><h1 id="æºç -å­—å…¸â€“-gt-æ¨¡å‹"><a href="#æºç -å­—å…¸â€“-gt-æ¨¡å‹" class="headerlink" title="æºç  - å­—å…¸â€“&gt;æ¨¡å‹"></a>æºç  - å­—å…¸â€“&gt;æ¨¡å‹</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">import</span> Foundation</div><div class="line"></div><div class="line"><span class="comment">/** å½“å­—å…¸ä¸­å­˜åœ¨æ•°ç»„ï¼Œ å¹¶ä¸”æ•°ç»„ä¸­ä¿å­˜çš„å€¼å¾—ç±»å‹æ˜¯å­—å…¸ï¼Œ é‚£ä¹ˆå°±éœ€è¦æŒ‡å®šæ•°ç»„ä¸­çš„å­—å…¸å¯¹åº”çš„ç±»ç±»å‹ã€‚</span></div><div class="line"><span class="comment"> è¿™é‡Œä»¥é”®å€¼å¯¹çš„å½¢å¼ä¿å­˜</span></div><div class="line"><span class="comment"> eg å­—å…¸å¦‚ä¸‹ï¼š</span></div><div class="line"><span class="comment"> key: [[key1:value1, key2:value2],[key1:value3, key2:value4],[key1:value5, key2:value6]]</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment"> keyï¼š  keyå€¼</span></div><div class="line"><span class="comment"> value: å­—å…¸[key1:value1, key2:value2] å¯¹åº”çš„æ¨¡å‹</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line"><span class="meta">@objc</span> <span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">DictModelProtocol</span></span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">customClassMapping</span><span class="params">()</span></span> -&gt; [<span class="type">String</span>: <span class="type">String</span>]?</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NSObject</span></span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">//dict: è¦è¿›è¡Œè½¬æ¢çš„å­—å…¸</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">objectWithKeyValues</span>(<span class="title">dict</span>: <span class="title">NSDictionary</span>)-&gt;<span class="title">AnyObject</span>?</span>&#123;</div><div class="line">        <span class="keyword">if</span> <span class="type">HEFoundation</span>.isClassFromFoundation(<span class="keyword">self</span>) &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"åªæœ‰è‡ªå®šä¹‰æ¨¡å‹ç±»æ‰å¯ä»¥å­—å…¸è½¬æ¨¡å‹"</span>)</div><div class="line">            <span class="built_in">assert</span>(<span class="literal">true</span>)</div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">let</span> obj:<span class="type">AnyObject</span> = <span class="keyword">self</span>.<span class="keyword">init</span>()</div><div class="line">        <span class="keyword">var</span> cls:<span class="type">AnyClass</span> = <span class="keyword">self</span>.classForCoder()                                           <span class="comment">//å½“å‰ç±»çš„ç±»å‹</span></div><div class="line"></div><div class="line">        <span class="keyword">while</span>(<span class="string">"NSObject"</span> !=  <span class="string">"\(cls)"</span>)&#123;</div><div class="line">            <span class="keyword">var</span> <span class="built_in">count</span>:<span class="type">UInt32</span> = <span class="number">0</span></div><div class="line">            <span class="keyword">let</span> properties =  class_copyPropertyList(cls, &amp;<span class="built_in">count</span>)                         <span class="comment">//è·å–å±æ€§åˆ—è¡¨</span></div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span>&#123;</div><div class="line"></div><div class="line">                <span class="keyword">let</span> property = properties[<span class="type">Int</span>(i)]                                         <span class="comment">//è·å–æ¨¡å‹ä¸­çš„æŸä¸€ä¸ªå±æ€§</span></div><div class="line"></div><div class="line">                <span class="keyword">let</span> propertyType = <span class="type">String</span>.fromCString(property_getAttributes(property))!  <span class="comment">//å±æ€§ç±»å‹</span></div><div class="line"></div><div class="line">                <span class="keyword">let</span> propertyKey = <span class="type">String</span>.fromCString(property_getName(property))!         <span class="comment">//å±æ€§åç§°</span></div><div class="line">                <span class="keyword">if</span> propertyKey == <span class="string">"description"</span>&#123; <span class="keyword">continue</span>  &#125;                              <span class="comment">//descriptionæ˜¯Foundationä¸­çš„è®¡ç®—å‹å±æ€§ï¼Œæ˜¯å®ä¾‹çš„æè¿°ä¿¡æ¯</span></div><div class="line"></div><div class="line"></div><div class="line">                <span class="keyword">var</span> value:<span class="type">AnyObject</span>! = dict[propertyKey]      <span class="comment">//å–å¾—å­—å…¸ä¸­çš„å€¼</span></div><div class="line">                <span class="keyword">if</span> value == <span class="literal">nil</span> &#123;<span class="keyword">continue</span>&#125;</div><div class="line"></div><div class="line">                <span class="keyword">let</span> valueType =  <span class="string">"\(value.classForCoder)"</span>     <span class="comment">//å­—å…¸ä¸­ä¿å­˜çš„å€¼å¾—ç±»å‹</span></div><div class="line">                <span class="keyword">if</span> valueType == <span class="string">"NSDictionary"</span>&#123;               <span class="comment">//1ï¼Œå€¼æ˜¯å­—å…¸ã€‚ è¿™ä¸ªå­—å…¸è¦å¯¹åº”ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¨¡å‹ç±»å¹¶ä¸”è¿™ä¸ªç±»ä¸æ˜¯Foundationä¸­å®šä¹‰çš„ç±»å‹ã€‚</span></div><div class="line">                    <span class="keyword">let</span> subModelStr:<span class="type">String</span>! = <span class="type">HEFoundation</span>.getType(propertyType)</div><div class="line">                    <span class="keyword">if</span> subModelStr == <span class="literal">nil</span>&#123;</div><div class="line">                        <span class="built_in">print</span>(<span class="string">"ä½ å®šä¹‰çš„æ¨¡å‹ä¸å­—å…¸ä¸åŒ¹é…ã€‚ å­—å…¸ä¸­çš„é”®\(propertyKey)  å¯¹åº”ä¸€ä¸ªè‡ªå®šä¹‰çš„ æ¨¡å‹"</span>)</div><div class="line">                        <span class="built_in">assert</span>(<span class="literal">true</span>)</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> subModelClass = <span class="type">NSClassFromString</span>(subModelStr)&#123;</div><div class="line">                        value = subModelClass.objectWithKeyValues(value <span class="keyword">as</span>! <span class="type">NSDictionary</span>) <span class="comment">//é€’å½’</span></div><div class="line">                    &#125;</div><div class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> valueType == <span class="string">"NSArray"</span>&#123;              <span class="comment">//å€¼æ˜¯æ•°ç»„ã€‚ æ•°ç»„ä¸­å­˜æ”¾å­—å…¸ã€‚ å°†å­—å…¸è½¬æ¢æˆæ¨¡å‹ã€‚ å¦‚æœåè®®ä¸­æ²¡æœ‰å®šä¹‰æ˜ å°„å…³ç³»ï¼Œå°±ä¸åšå¤„ç†</span></div><div class="line"></div><div class="line">                    <span class="keyword">if</span> <span class="keyword">self</span>.respondsToSelector(<span class="string">"customClassMapping"</span>) &#123;</div><div class="line">                        <span class="keyword">if</span> <span class="keyword">var</span> subModelClassName = cls.customClassMapping()?[propertyKey]&#123;   <span class="comment">//å­æ¨¡å‹çš„ç±»åç§°</span></div><div class="line">                            subModelClassName =  <span class="type">HEFoundation</span>.bundlePath+<span class="string">"."</span>+subModelClassName</div><div class="line">                            <span class="keyword">if</span> <span class="keyword">let</span> subModelClass = <span class="type">NSClassFromString</span>(subModelClassName)&#123;</div><div class="line">                                value = subModelClass.objectArrayWithKeyValuesArray(value <span class="keyword">as</span>! <span class="type">NSArray</span>);</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line"></div><div class="line">                &#125;</div><div class="line"></div><div class="line">              obj.setValue(value, forKey: propertyKey)</div><div class="line">            &#125;</div><div class="line">            free(properties)                            <span class="comment">//é‡Šæ”¾å†…å­˜</span></div><div class="line">            cls = cls.superclass()!                     <span class="comment">//å¤„ç†çˆ¶ç±»</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> obj</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     å°†å­—å…¸æ•°ç»„è½¬æ¢æˆæ¨¡å‹æ•°ç»„</span></div><div class="line"><span class="comment">     array: è¦è½¬æ¢çš„æ•°ç»„, æ•°ç»„ä¸­åŒ…å«çš„å­—å…¸æ‰€å¯¹åº”çš„æ¨¡å‹ç±»å°±æ˜¯ è°ƒç”¨è¿™ä¸ªç±»æ–¹æ³•çš„ç±»</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">     å½“æ•°ç»„ä¸­åµŒå¥—æ•°ç»„ï¼Œ å†…éƒ¨çš„æ•°ç»„åŒ…å«å­—å…¸ï¼Œclså°±æ˜¯å†…éƒ¨æ•°ç»„ä¸­çš„å­—å…¸å¯¹åº”çš„æ¨¡å‹</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">objectArrayWithKeyValuesArray</span>(<span class="title">array</span>: <span class="title">NSArray</span>)-&gt;<span class="title">NSArray</span>?</span>&#123;</div><div class="line">        <span class="keyword">if</span> array.<span class="built_in">count</span> == <span class="number">0</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> result = [<span class="type">AnyObject</span>]()</div><div class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> array&#123;</div><div class="line">            <span class="keyword">let</span> type = <span class="string">"\(item.classForCoder)"</span></div><div class="line">            <span class="keyword">if</span> type == <span class="string">"NSDictionary"</span>&#123;</div><div class="line">                <span class="keyword">if</span> <span class="keyword">let</span> model = objectWithKeyValues(item <span class="keyword">as</span>! <span class="type">NSDictionary</span>)&#123;</div><div class="line">                    result.append(model)</div><div class="line">                &#125;</div><div class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> type == <span class="string">"NSArray"</span>&#123;</div><div class="line">                <span class="keyword">if</span> <span class="keyword">let</span> model =  objectArrayWithKeyValuesArray(item <span class="keyword">as</span>! <span class="type">NSArray</span>)&#123;</div><div class="line">                    result.append(model)</div><div class="line">                &#125;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                result.append(item)</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> result.<span class="built_in">count</span>==<span class="number">0</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> result</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="æºç -æ¨¡å‹â€“-gt-å­—å…¸"><a href="#æºç -æ¨¡å‹â€“-gt-å­—å…¸" class="headerlink" title="æºç  - æ¨¡å‹â€“&gt;å­—å…¸"></a>æºç  - æ¨¡å‹â€“&gt;å­—å…¸</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">import</span> Foundation</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NSObject</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> keyValues:[<span class="type">String</span>:<span class="type">AnyObject</span>]?&#123;                   <span class="comment">//è·å–ä¸€ä¸ªæ¨¡å‹å¯¹åº”çš„å­—å…¸</span></div><div class="line">        <span class="keyword">get</span>&#123;</div><div class="line">            <span class="keyword">var</span> result = [<span class="type">String</span>: <span class="type">AnyObject</span>]()           <span class="comment">//ä¿å­˜ç»“æœ</span></div><div class="line">            <span class="keyword">var</span> classType:<span class="type">AnyClass</span> = <span class="keyword">self</span>.classForCoder</div><div class="line">            <span class="keyword">while</span>(<span class="string">"NSObject"</span> !=  <span class="string">"\(classType)"</span> )&#123;</div><div class="line">                <span class="keyword">var</span> <span class="built_in">count</span>:<span class="type">UInt32</span> = <span class="number">0</span></div><div class="line">                <span class="keyword">let</span> properties = class_copyPropertyList(classType, &amp;<span class="built_in">count</span>)</div><div class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;<span class="built_in">count</span>&#123;</div><div class="line">                    <span class="keyword">let</span> property = properties[<span class="type">Int</span>(i)]</div><div class="line">                    <span class="keyword">let</span> propertyKey = <span class="type">String</span>.fromCString(property_getName(property))!         <span class="comment">//æ¨¡å‹ä¸­å±æ€§åç§°</span></div><div class="line">                    <span class="keyword">let</span> propertyType = <span class="type">String</span>.fromCString(property_getAttributes(property))!  <span class="comment">//æ¨¡å‹ä¸­å±æ€§ç±»å‹</span></div><div class="line"></div><div class="line">                    <span class="keyword">if</span> <span class="string">"description"</span> == propertyKey&#123; <span class="keyword">continue</span> &#125;   <span class="comment">//æè¿°ï¼Œä¸æ˜¯å±æ€§</span></div><div class="line"></div><div class="line">                    <span class="keyword">let</span> tempValue:<span class="type">AnyObject</span>!  = <span class="keyword">self</span>.valueForKey(propertyKey)</div><div class="line">                    <span class="keyword">if</span>  tempValue == <span class="literal">nil</span> &#123; <span class="keyword">continue</span> &#125;</div><div class="line"></div><div class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> <span class="number">_</span> =  <span class="type">HEFoundation</span>.getType(propertyType) &#123;         <span class="comment">//1,è‡ªå®šä¹‰çš„ç±»</span></div><div class="line">                        result[propertyKey] = tempValue.keyValues</div><div class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (propertyType.containsString(<span class="string">"NSArray"</span>))&#123;       <span class="comment">//2, æ•°ç»„, å°†æ•°ç»„ä¸­çš„æ¨¡å‹è½¬æˆå­—å…¸</span></div><div class="line">                        result[propertyKey] = tempValue.keyValuesArray       <span class="comment">//3ï¼Œ åŸºæœ¬æ•°æ®</span></div><div class="line">                    &#125;<span class="keyword">else</span>&#123;</div><div class="line">                        result[propertyKey] = tempValue</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                free(properties)</div><div class="line">                classType = classType.superclass()!</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> result.<span class="built_in">count</span> == <span class="number">0</span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">return</span> result</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NSArray</span></span>&#123;  <span class="comment">//æ•°ç»„çš„æ‹“å±•</span></div><div class="line">    <span class="keyword">var</span> keyValuesArray:[<span class="type">AnyObject</span>]?&#123;</div><div class="line">        <span class="keyword">get</span>&#123;</div><div class="line">            <span class="keyword">var</span> result = [<span class="type">AnyObject</span>]()</div><div class="line">            <span class="keyword">for</span> item <span class="keyword">in</span> <span class="keyword">self</span>&#123;</div><div class="line">                <span class="keyword">if</span> !<span class="type">HEFoundation</span>.isClassFromFoundation(item.classForCoder)&#123; <span class="comment">//1,è‡ªå®šä¹‰çš„ç±»</span></div><div class="line">                    <span class="keyword">let</span> subKeyValues:[<span class="type">String</span>:<span class="type">AnyObject</span>]! = item.keyValues</div><div class="line">                    <span class="keyword">if</span>  subKeyValues == <span class="literal">nil</span> &#123;<span class="keyword">continue</span>&#125;</div><div class="line">                    result.append(subKeyValues)</div><div class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> item.classForCoder == <span class="type">NSArray</span>.classForCoder()&#123;    <span class="comment">//2, å¦‚æœitem æ˜¯æ•°ç»„</span></div><div class="line">                    <span class="keyword">let</span> subKeyValues:[<span class="type">AnyObject</span>]! = item.keyValuesArray</div><div class="line">                    <span class="keyword">if</span>  subKeyValues == <span class="literal">nil</span> &#123;<span class="keyword">continue</span>&#125;</div><div class="line">                    result.append(subKeyValues)</div><div class="line">                &#125;<span class="keyword">else</span>&#123;                                                     <span class="comment">//3, åŸºæœ¬æ•°æ®ç±»å‹</span></div><div class="line">                    result.append(item)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> result.<span class="built_in">count</span> == <span class="number">0</span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="keyword">return</span> result</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è¾…åŠ©ç±»"><a href="#è¾…åŠ©ç±»" class="headerlink" title="è¾…åŠ©ç±»"></a>è¾…åŠ©ç±»</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">import</span> Foundation</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HEFoundation</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">static</span> <span class="keyword">let</span> <span class="keyword">set</span> = <span class="type">NSSet</span>(array: [</div><div class="line">                                    <span class="type">NSURL</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSDate</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSValue</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSData</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSError</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSArray</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSDictionary</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSString</span>.classForCoder(),</div><div class="line">                                    <span class="type">NSAttributedString</span>.classForCoder()</div><div class="line">                                  ])</div><div class="line">    <span class="keyword">static</span> <span class="keyword">let</span>  bundlePath = <span class="type">NSBundle</span>.mainBundle().infoDictionary![<span class="string">"CFBundleExecutable"</span>] <span class="keyword">as</span>! <span class="type">String</span></div><div class="line"></div><div class="line">    <span class="comment">/*** åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦æ˜¯ Foundationä¸­è‡ªå¸¦çš„ç±» */</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">isClassFromFoundation</span>(<span class="title">c</span>:<span class="title">AnyClass</span>)-&gt;<span class="title">Bool</span> </span>&#123;</div><div class="line">        <span class="keyword">var</span>  result = <span class="literal">false</span></div><div class="line">        <span class="keyword">if</span> <span class="built_in">c</span> == <span class="type">NSObject</span>.classForCoder()&#123;</div><div class="line">            result = <span class="literal">true</span></div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">set</span>.enumerateObjectsUsingBlock(&#123; (foundation,  stop) -&gt; <span class="type">Void</span> <span class="keyword">in</span></div><div class="line">                <span class="keyword">if</span>  <span class="built_in">c</span>.isSubclassOfClass(foundation <span class="keyword">as</span>! <span class="type">AnyClass</span>) &#123;</div><div class="line">                    result = <span class="literal">true</span></div><div class="line">                    stop.initialize(<span class="literal">true</span>)</div><div class="line">                &#125;</div><div class="line">            &#125;)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/** å¾ˆæ®å±æ€§ä¿¡æ¯ï¼Œ è·å¾—è‡ªå®šä¹‰ç±»çš„ ç±»å*/</span></div><div class="line">     <span class="comment">/**</span></div><div class="line"><span class="comment">     let propertyType = String.fromCString(property_getAttributes(property))! è·å–å±æ€§ç±»å‹</span></div><div class="line"><span class="comment">     åˆ°è¿™ä¸ªå±æ€§çš„ç±»å‹æ˜¯è‡ªå®šä¹‰çš„ç±»æ—¶ï¼Œ ä¼šå¾—åˆ°ä¸‹é¢çš„æ ¼å¼ï¼š T+@+"+..+å·¥ç¨‹çš„åå­—+æ•°å­—+ç±»å+"+,+å…¶ä»–,</span></div><div class="line"><span class="comment">     è€Œæˆ‘ä»¬æƒ³è¦çš„åªæ˜¯ç±»åï¼Œæ‰€ä»¥è¦ä¿®æ”¹è¿™ä¸ªå­—ç¬¦ä¸²</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">getType</span>(<span class="title">var</span> <span class="title">code</span>:<span class="title">String</span>)-&gt;<span class="title">String</span>?</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> !code.containsString(bundlePath)&#123; <span class="comment">//ä¸æ˜¯è‡ªå®šä¹‰ç±»</span></div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">        &#125;</div><div class="line">        code = code.componentsSeparatedByString(<span class="string">"\""</span>)[<span class="number">1</span>]</div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> range = code.rangeOfString(bundlePath)&#123;</div><div class="line">            code = code.substringFromIndex(range.endIndex)</div><div class="line">            <span class="keyword">var</span> numStr = <span class="string">""</span> <span class="comment">//ç±»åå‰é¢çš„æ•°å­—</span></div><div class="line">            <span class="keyword">for</span> <span class="built_in">c</span>:<span class="type">Character</span> <span class="keyword">in</span> code.characters&#123;</div><div class="line">                <span class="keyword">if</span> <span class="built_in">c</span> &lt;= <span class="string">"9"</span> &amp;&amp; <span class="built_in">c</span> &gt;= <span class="string">"0"</span>&#123;</div><div class="line">                    numStr+=<span class="type">String</span>(<span class="built_in">c</span>)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> <span class="keyword">let</span> numRange = code.rangeOfString(numStr)&#123;</div><div class="line">                code = code.substringFromIndex(numRange.endIndex)</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> bundlePath+<span class="string">"."</span>+code</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><a href="http://blog.csdn.net/hejunmeng/article/details/51280570" target="_blank" rel="external">åŸæ–‡</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-AppKit-NSTimer-å®šæ—¶å™¨</title>
      <link href="/2017/12/13/Swift/UIKit/NSTimer-%E5%AE%9A%E6%97%B6%E5%99%A8/"/>
      <content type="html"><![CDATA[<h1 id="NSTimer"><a href="#NSTimer" class="headerlink" title="NSTimer"></a>NSTimer</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NSTimer</span> : <span class="title">NSObject</span></span></div></pre></td></tr></table></figure><h2 id="å®šæ—¶å™¨çš„ä½œç”¨"><a href="#å®šæ—¶å™¨çš„ä½œç”¨" class="headerlink" title="å®šæ—¶å™¨çš„ä½œç”¨"></a>å®šæ—¶å™¨çš„ä½œç”¨</h2><ul><li>åœ¨æŒ‡å®šçš„æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡</li><li>é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡ŒæŒ‡å®šä»»åŠ¡</li></ul><h1 id="å®šæ—¶å™¨çš„åˆ›å»º"><a href="#å®šæ—¶å™¨çš„åˆ›å»º" class="headerlink" title="å®šæ—¶å™¨çš„åˆ›å»º"></a>å®šæ—¶å™¨çš„åˆ›å»º</h1><h2 id="scheduledæ–¹å¼"><a href="#scheduledæ–¹å¼" class="headerlink" title="scheduledæ–¹å¼"></a>scheduledæ–¹å¼</h2><ul><li>åˆ›å»ºå¹¶å¯åŠ¨å®šæ—¶å™¨</li><li>é»˜è®¤å°†æ—¶é’Ÿä»¥NSDefaultRunLoopModeæ¨¡å¼æ·»åŠ åˆ°è¿è¡Œå¾ªç¯</li><li>ç”¨æˆ·å‘ç”Ÿäº¤äº’çš„æ—¶å€™æ—¶é’Ÿå°†æš‚åœ</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">/* </span></div><div class="line"><span class="comment">      public class func scheduledTimerWithTimeInterval(ti: NSTimeInterval,  </span></div><div class="line"><span class="comment">                                           target aTarget: AnyObject,  </span></div><div class="line"><span class="comment">                                       selector aSelector: Selector,  </span></div><div class="line"><span class="comment">                                                 userInfo: AnyObject?,  </span></div><div class="line"><span class="comment">                                          repeats yesOrNo: Bool) -&gt; NSTimer </span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">      å‚æ•°ï¼š </span></div><div class="line"><span class="comment">          TimeIntervalï¼šè§¦å‘æ—¶é—´ï¼Œå•ä½ç§’ </span></div><div class="line"><span class="comment">          targetï¼šå®šæ—¶èµ·è§¦å‘å¯¹è±¡ </span></div><div class="line"><span class="comment">          selectorï¼šå®šæ—¶å™¨å“åº”æ–¹æ³• </span></div><div class="line"><span class="comment">          userInfoï¼šç”¨æˆ·ä¿¡æ¯ </span></div><div class="line"><span class="comment">          repeatsï¼šæ˜¯å¦é‡å¤æ‰§è¡Œï¼ŒYES æ¯ä¸ªæŒ‡å®šçš„æ—¶é—´é‡å¤æ‰§è¡Œï¼ŒNO åªæ‰§è¡Œä¸€æ¬¡ </span></div><div class="line"><span class="comment">  */</span>  </div><div class="line"> </div><div class="line">  <span class="comment">// åˆ›å»ºå¹¶å¯åŠ¨å®šæ—¶å™¨  </span></div><div class="line">  <span class="keyword">let</span> timer:<span class="type">NSTimer</span> = <span class="type">NSTimer</span>.scheduledTimerWithTimeInterval(<span class="number">2.0</span>,   </div><div class="line">                                                      target: <span class="keyword">self</span>,   </div><div class="line">                                                    selector: #selector(<span class="type">YPScrollView</span>.timerChange),<span class="number">2</span>  </div><div class="line">                                                    userInfo: <span class="literal">nil</span>,   </div><div class="line">                                                     repeats: <span class="literal">true</span>)</div></pre></td></tr></table></figure><h2 id="timeræ–¹å¼"><a href="#timeræ–¹å¼" class="headerlink" title="timeræ–¹å¼"></a>timeræ–¹å¼</h2><ul><li>åˆ›å»ºå®šæ—¶å™¨æ·»åŠ åˆ°è¿è¡Œå¾ªç¯</li><li>å°†æ—¶é’Ÿä»¥æŒ‡å®šæ¨¡å¼æ·»åŠ åˆ°è¿è¡Œå¾ªç¯</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">/* </span></div><div class="line"><span class="comment">    modeï¼š </span></div><div class="line"><span class="comment">        NSDefaultRunLoopMode: æ—¶é’Ÿï¼Œç½‘ç»œã€‚           å‘ç”Ÿç”¨æˆ·äº¤äº’çš„æ—¶å€™ï¼Œæ—¶é’Ÿä¼šè¢«æš‚åœ </span></div><div class="line"><span class="comment">        NSRunLoopCommonModes: ç”¨æˆ·äº¤äº’ï¼Œå“åº”çº§åˆ«é«˜ã€‚  å‘ç”Ÿç”¨æˆ·äº¤äº’çš„æ—¶å€™ï¼Œæ—¶é’Ÿä»ç„¶ä¼šè§¦å‘ï¼Œå¦‚æœæ—¶é’Ÿè§¦å‘æ–¹æ³•éå¸¸ </span></div><div class="line"><span class="comment">                                                    è€—æ—¶ï¼Œä½¿ç”¨æ­¤æ–¹å¼æ—¶ç”¨æˆ·æ“ä½œä¼šé€ æˆéå¸¸ä¸¥é‡çš„å¡é¡¿ã€‚ </span></div><div class="line"><span class="comment">*/</span>  </div><div class="line">  </div><div class="line"><span class="comment">// åˆ›å»ºå®šæ—¶å™¨  </span></div><div class="line"><span class="keyword">let</span> timer:<span class="type">NSTimer</span> = <span class="type">NSTimer</span>(timeInterval: <span class="number">2.0</span>,   </div><div class="line">                                  target: <span class="keyword">self</span>,   </div><div class="line">                                selector: #selector(<span class="type">ViewController</span>.updateTimer(<span class="number">_</span>:)),   </div><div class="line">                                userInfo: <span class="literal">nil</span>,   </div><div class="line">                                 repeats: <span class="literal">true</span>)  </div><div class="line">  </div><div class="line"><span class="comment">// å°†å®šæ—¶å™¨æ·»åŠ åˆ°è¿è¡Œå¾ªç¯  </span></div><div class="line"><span class="type">NSRunLoop</span>.currentRunLoop().addTimer(timer, forMode: <span class="type">NSRunLoopCommonModes</span>)</div></pre></td></tr></table></figure><h1 id="å®šæ—¶å™¨çš„å¯åŠ¨ä¸å…³é—­"><a href="#å®šæ—¶å™¨çš„å¯åŠ¨ä¸å…³é—­" class="headerlink" title="å®šæ—¶å™¨çš„å¯åŠ¨ä¸å…³é—­"></a>å®šæ—¶å™¨çš„å¯åŠ¨ä¸å…³é—­</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// å¯åŠ¨å®šæ—¶å™¨  </span></div><div class="line">timer.fireDate = <span class="type">NSDate</span>.distantFuture()  </div><div class="line">      </div><div class="line"><span class="comment">// æš‚åœå®šæ—¶å™¨  </span></div><div class="line">timer.fireDate = <span class="type">NSDate</span>.distantPast()  </div><div class="line">      </div><div class="line"><span class="comment">// å…³é—­å®šæ—¶å™¨ï¼Œæ°¸ä¹…å…³é—­å®šæ—¶å™¨  </span></div><div class="line">timer.invalidate()</div></pre></td></tr></table></figure><h1 id="å­çº¿ç¨‹å®šæ—¶å™¨çš„åˆ›å»º"><a href="#å­çº¿ç¨‹å®šæ—¶å™¨çš„åˆ›å»º" class="headerlink" title="å­çº¿ç¨‹å®šæ—¶å™¨çš„åˆ›å»º"></a>å­çº¿ç¨‹å®šæ—¶å™¨çš„åˆ›å»º</h1><blockquote><p>åœ¨å­çº¿ç¨‹åˆ›å»ºå®šæ—¶å™¨æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯å­çº¿ç¨‹çš„è¿è¡Œå¾ªç¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">dispatch_async(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>)) &#123;   </div><div class="line"> </div><div class="line">     <span class="comment">// åœ¨å­çº¿ç¨‹åˆ›å»ºå®šæ—¶å™¨  </span></div><div class="line">     <span class="comment">/* </span></div><div class="line"><span class="comment">         scheduled æˆ– timer æ–¹å¼åˆ›å»º </span></div><div class="line"><span class="comment">     */</span>  </div><div class="line">     <span class="keyword">let</span> timer:<span class="type">NSTimer</span> = <span class="type">NSTimer</span>(timeInterval: <span class="number">2.0</span>,   </div><div class="line">                          target: <span class="keyword">self</span>,   </div><div class="line">                        selector: #selector(<span class="type">ViewController</span>.updateTimer(<span class="number">_</span>:)),   </div><div class="line">                        userInfo: <span class="literal">nil</span>,   </div><div class="line">                         repeats: <span class="literal">true</span>)  </div><div class="line">     <span class="type">NSRunLoop</span>.currentRunLoop().addTimer(timer, forMode: <span class="type">NSRunLoopCommonModes</span>)  </div><div class="line"> </div><div class="line">     <span class="comment">// å¯åŠ¨å­çº¿ç¨‹çš„è¿è¡Œå¾ªç¯  </span></div><div class="line">     <span class="comment">/* </span></div><div class="line"><span class="comment">         è¿™å¥ä»£ç å°±æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼å¦‚æœä¸åœæ­¢è¿è¡Œå¾ªç¯ï¼Œä¸ä¼šæ‰§è¡Œæ·»åŠ åˆ°æ­¤å¥ä¹‹åçš„ä»»ä½•ä»£ç  </span></div><div class="line"><span class="comment">     */</span>  </div><div class="line">     <span class="type">CFRunLoopRun</span>()  </div><div class="line"> </div><div class="line">     <span class="comment">// åœæ­¢å­çº¿ç¨‹è¿è¡Œå¾ªç¯ä¹‹å‰ï¼Œä¸ä¼šæ‰§è¡Œæ·»åŠ åˆ°æ­¤å¤„çš„ä»»ä½•ä»£ç   </span></div><div class="line"> &#125;</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> num:<span class="type">Int</span> = <span class="number">0</span>  </div><div class="line"> </div><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">updateTimer</span><span class="params">(timer:NSTimer)</span></span> &#123;  </div><div class="line"> </div><div class="line">     num  = num + <span class="number">1</span>  </div><div class="line"> </div><div class="line">     <span class="comment">// æ»¡è¶³æ¡ä»¶åï¼Œåœæ­¢å½“å‰çš„è¿è¡Œå¾ªç¯  </span></div><div class="line">     <span class="keyword">if</span> (num == <span class="number">8</span>) &#123;  </div><div class="line"> </div><div class="line">         <span class="comment">// åœæ­¢å½“å‰çš„è¿è¡Œå¾ªç¯  </span></div><div class="line">         <span class="comment">/* </span></div><div class="line"><span class="comment">             ä¸€æ—¦åœæ­¢äº†è¿è¡Œå¾ªç¯ï¼Œåç»­ä»£ç èƒ½å¤Ÿæ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•åï¼Œçº¿ç¨‹è¢«è‡ªåŠ¨é”€æ¯ </span></div><div class="line"><span class="comment">         */</span>  </div><div class="line">         <span class="type">CFRunLoopStop</span>(<span class="type">CFRunLoopGetCurrent</span>())  </div><div class="line">     &#125;  </div><div class="line"> &#125;</div></pre></td></tr></table></figure><h1 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="headerlink" title="å®šæ—¶ä»»åŠ¡"></a>å®šæ—¶ä»»åŠ¡</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">/ å»¶æ—¶è°ƒç”¨  </div><div class="line"><span class="comment">/* </span></div><div class="line"><span class="comment">    1.5 ç§’åè‡ªåŠ¨è°ƒç”¨ self çš„ hideHUD æ–¹æ³• </span></div><div class="line"><span class="comment">*/</span>  </div><div class="line"><span class="keyword">self</span>.performSelector(#selector(<span class="type">NsTimer</span>.hideHUD), withObject: <span class="literal">nil</span>, afterDelay: <span class="number">1.5</span>)  </div><div class="line">  </div><div class="line"><span class="comment">// å–æ¶ˆå»¶æ—¶è°ƒç”¨  </span></div><div class="line"><span class="type">NSObject</span>.cancelPreviousPerformRequestsWithTarget(<span class="keyword">self</span>, selector: #selector(<span class="type">NsTimer</span>.hideHUD), object: <span class="literal">nil</span>)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> / å»¶æ—¶è°ƒç”¨  </div><div class="line"><span class="comment">/* </span></div><div class="line"><span class="comment">    1.5 ç§’åè‡ªåŠ¨è°ƒç”¨ self çš„ hideHUD æ–¹æ³• </span></div><div class="line"><span class="comment">*/</span>  </div><div class="line"><span class="keyword">self</span>.performSelector(#selector(<span class="type">NsTimer</span>.hideHUD), withObject: <span class="literal">nil</span>, afterDelay: <span class="number">1.5</span>)  </div><div class="line">  </div><div class="line"><span class="comment">// å–æ¶ˆå»¶æ—¶è°ƒç”¨  </span></div><div class="line"><span class="type">NSObject</span>.cancelPreviousPerformRequestsWithTarget(<span class="keyword">self</span>, selector: #selector(<span class="type">NsTimer</span>.hideHUD), object: <span class="literal">nil</span>)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> / å»¶æ—¶è°ƒç”¨  </div><div class="line"><span class="comment">/* </span></div><div class="line"><span class="comment">    1.5 ç§’åè‡ªåŠ¨è°ƒç”¨ self çš„ hideHUD æ–¹æ³• </span></div><div class="line"><span class="comment">*/</span>  </div><div class="line"><span class="keyword">self</span>.performSelector(#selector(<span class="type">NsTimer</span>.hideHUD), withObject: <span class="literal">nil</span>, afterDelay: <span class="number">1.5</span>)  </div><div class="line">  </div><div class="line"><span class="comment">// å–æ¶ˆå»¶æ—¶è°ƒç”¨  </span></div><div class="line"><span class="type">NSObject</span>.cancelPreviousPerformRequestsWithTarget(<span class="keyword">self</span>, selector: #selector(<span class="type">NsTimer</span>.hideHUD), object: <span class="literal">nil</span>)</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> NSTimer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> NSTimer </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UICollectionView-ç®€å•ä½¿ç”¨</title>
      <link href="/2017/12/13/Swift/UIKit/UICollectionView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="éµå®ˆåè®®"><a href="#éµå®ˆåè®®" class="headerlink" title="éµå®ˆåè®®"></a>éµå®ˆåè®®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>, <span class="title">UICollectionViewDataSource</span>, <span class="title">UICollectionViewDelegate</span>, <span class="title">UICollectionViewDelegateFlowLayout</span> </span>&#123;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰UICollectionView"><a href="#è‡ªå®šä¹‰UICollectionView" class="headerlink" title="è‡ªå®šä¹‰UICollectionView"></a>è‡ªå®šä¹‰UICollectionView</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">myCollectionView</span><span class="params">()</span></span> &#123;  </div><div class="line">        <span class="comment">// 1.è‡ªå®šä¹‰ Item çš„FlowLayout  </span></div><div class="line">        <span class="keyword">let</span> flowLayout = <span class="type">UICollectionViewFlowLayout</span>()  </div><div class="line">  </div><div class="line">        <span class="comment">// 2.è®¾ç½® Item çš„ Size  </span></div><div class="line">        flowLayout.itemSize = <span class="type">CGSizeMake</span>(<span class="number">90</span>, <span class="number">120</span>)  </div><div class="line">  </div><div class="line">        <span class="comment">// 3.è®¾ç½® Item çš„æ’åˆ—æ–¹å¼  </span></div><div class="line">        flowLayout.scrollDirection = <span class="type">UICollectionViewScrollDirection</span>.<span class="type">Vertical</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 4.è®¾ç½® Item çš„å››å‘¨è¾¹è·  </span></div><div class="line">        flowLayout.sectionInset = <span class="type">UIEdgeInsetsMake</span>(<span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>)  </div><div class="line">  </div><div class="line">        <span class="comment">// 5.è®¾ç½®åŒä¸€ç«–ä¸­ä¸Šä¸‹ç›¸é‚»çš„ä¸¤ä¸ª Item ä¹‹é—´çš„é—´è·  </span></div><div class="line">        flowLayout.minimumLineSpacing = <span class="number">20</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 6.è®¾ç½®åŒä¸€è¡Œä¸­ç›¸é‚»çš„ä¸¤ä¸ª Item ä¹‹é—´çš„é—´è·  </span></div><div class="line">        flowLayout.minimumInteritemSpacing = <span class="number">20</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 7.è®¾ç½®UICollectionView çš„é¡µå¤´å°ºå¯¸  </span></div><div class="line">        flowLayout.headerReferenceSize = <span class="type">CGSizeMake</span>(<span class="number">100</span>, <span class="number">50</span>)  </div><div class="line">  </div><div class="line">        <span class="comment">// 8.è®¾ç½® UICollectionView çš„é¡µå°¾å°ºå¯¸  </span></div><div class="line">        flowLayout.footerReferenceSize = <span class="type">CGSizeMake</span>(<span class="number">100</span>, <span class="number">50</span>)  </div><div class="line">  </div><div class="line">        <span class="comment">// 1.è‡ªå®šä¹‰ UICollectionView çš„ä½ç½®å¤§å°, ä»¥åŠ Item çš„æ˜¾ç¤ºæ ·å¼ä¸º flowLayout  </span></div><div class="line">        <span class="keyword">var</span> collection = <span class="type">UICollectionView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">64</span>, <span class="keyword">self</span>.view.frame.width, <span class="keyword">self</span>.view.frame.height - <span class="number">64</span>), collectionViewLayout: flowLayout)  </div><div class="line">  </div><div class="line">        <span class="comment">// 2.è®¾ç½® UICollectionView çš„èƒŒæ™¯é¢œè‰²  </span></div><div class="line">        collection.backgroundColor = <span class="type">UIColor</span>.whiteColor()  </div><div class="line">  </div><div class="line">        <span class="comment">// 3.è®¾ç½® UICollectionView å‚ç›´æ»šåŠ¨æ˜¯å¦æ»šåˆ° Item çš„æœ€åº•éƒ¨å†…å®¹  </span></div><div class="line">        collection.alwaysBounceVertical = <span class="literal">true</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 4.è®¾ç½® UICollectionView å‚ç›´æ»šåŠ¨æ˜¯å¦æ»šåˆ° Item çš„æœ€å³è¾¹å†…å®¹  </span></div><div class="line">        collection.alwaysBounceHorizontal = <span class="literal">true</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 5.è®¾ç½® UICollectionView çš„æ•°æ®æºå¯¹è±¡  </span></div><div class="line">        collection.dataSource = <span class="keyword">self</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 6.è®¾ç½® UICollectionView çš„ä»£ç†å¯¹è±¡  </span></div><div class="line">        collection.delegate = <span class="keyword">self</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 7.è®¾ç½® UICollectionView çš„å•å…ƒæ ¼ç‚¹å‡»(é»˜è®¤æ˜¯ true)  </span></div><div class="line">        collection.allowsSelection = <span class="literal">true</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 8.è®¾ç½® UICollectionView çš„å•å…ƒæ ¼å¤šé€‰(é»˜è®¤æ˜¯ false)  </span></div><div class="line">        collection.allowsMultipleSelection = <span class="literal">false</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 9.å¼€å¯ UICollectionView çš„åˆ†é¡µæ˜¾ç¤ºæ•ˆæœ  </span></div><div class="line">        collection.pagingEnabled = <span class="literal">true</span>  </div><div class="line">  </div><div class="line">        <span class="comment">// 10.æ³¨å†Œ UICollectionViewCell  </span></div><div class="line">collection.registerClass(<span class="type">UICollectionViewCell</span>.<span class="keyword">self</span>, forCellWithReuseIdentifier: <span class="string">"cell"</span>)  </div><div class="line">        <span class="comment">// 11.æ·»åŠ åˆ° self.view ä¸Š  </span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(collection)  </div><div class="line">    &#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰UINavigationBar"><a href="#è‡ªå®šä¹‰UINavigationBar" class="headerlink" title="è‡ªå®šä¹‰UINavigationBar"></a>è‡ªå®šä¹‰UINavigationBar</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">myNavigationBar</span><span class="params">()</span></span> &#123;  </div><div class="line">    <span class="comment">// 1.è‡ªå®šä¹‰ NavigationBar, è®¾ç½®å®ƒçš„ä½ç½®å¤§å°  </span></div><div class="line">    <span class="keyword">var</span> navigationBar = <span class="type">UINavigationBar</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.width, <span class="number">64</span>))  </div><div class="line">    <span class="comment">// 2.è®¾ç½® NavigationBar çš„èƒŒæ™¯è‰²  </span></div><div class="line">    navigationBar.backgroundColor = <span class="type">UIColor</span>.redColor()  </div><div class="line">    <span class="comment">// 3.è‡ªå®šä¹‰ NavigationItem è®¾å®šå®ƒçš„ Title  </span></div><div class="line">    <span class="keyword">let</span> navigationItem = <span class="type">UINavigationItem</span>(title: <span class="string">"UICollectionViewæ¼”ç¤º"</span>)  </div><div class="line">    <span class="comment">// 4.è‡ªå®šä¹‰ UIBarButtonItem çš„Title, Style, Target çš„å¯¹è±¡, å·²ç»ç›‘å¬çš„æ–¹æ³•  </span></div><div class="line">    <span class="keyword">let</span> leftButton = <span class="type">UIBarButtonItem</span>(title: <span class="string">"è¿”å›"</span>, style: <span class="type">UIBarButtonItemStyle</span>.<span class="type">Plain</span>, target: <span class="keyword">self</span>, action: <span class="string">"back"</span>)  </div><div class="line">    <span class="comment">// 5.è®¾ç½® Navigation å·¦è¾¹çš„æŒ‰é’®ä¸º leftButton  </span></div><div class="line">    navigationItem.leftBarButtonItem = leftButton  </div><div class="line">    <span class="comment">// 6.æŠŠ NavigationItem æ·»åŠ åˆ° NavigationBar  </span></div><div class="line">    navigationBar.pushNavigationItem(navigationItem, animated: <span class="literal">true</span>)  </div><div class="line">    <span class="comment">// 7.æ·»åŠ åˆ°åˆ° self.view ä¸Š  </span></div><div class="line">    <span class="keyword">self</span>.view.addSubview(navigationBar)  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 8.NavigationBarç›‘å¬æ–¹æ³•  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">back</span><span class="params">()</span></span> &#123;  </div><div class="line">    <span class="built_in">println</span>(<span class="string">"ç‚¹å‡»äº†è¿”å›"</span>)  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="UICollectionViewçš„ä»£ç†æ–¹æ³•-æ•°æ®æºæ–¹æ³•-FlowLayout-æ–¹æ³•"><a href="#UICollectionViewçš„ä»£ç†æ–¹æ³•-æ•°æ®æºæ–¹æ³•-FlowLayout-æ–¹æ³•" class="headerlink" title="UICollectionViewçš„ä»£ç†æ–¹æ³•, æ•°æ®æºæ–¹æ³•, FlowLayout æ–¹æ³•"></a>UICollectionViewçš„ä»£ç†æ–¹æ³•, æ•°æ®æºæ–¹æ³•, FlowLayout æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®è¿”å› CollectionViewCell çš„ç»„æ•°  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfSectionsInCollectionView</span><span class="params">(collectionView: UICollectionView)</span></span> -&gt; <span class="type">Int</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®è¿”å› CollectionViewCell çš„ä¸ªæ•°  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="number">15</span>  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionViewCell çš„å†…å®¹  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, cellForItemAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span> &#123;  </div><div class="line">    <span class="keyword">var</span> collectionCell = collectionView.dequeueReusableCellWithReuseIdentifier(<span class="string">"cell"</span>, forIndexPath: indexPath) <span class="keyword">as</span>! <span class="type">UICollectionViewCell</span>  </div><div class="line">    collectionCell.backgroundColor = <span class="type">UIColor</span>.redColor()  </div><div class="line">  </div><div class="line">    <span class="keyword">return</span> collectionCell  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 4.è¯¥æ–¹æ³•æ˜¯ç‚¹å‡»äº† CollectionViewCell æ—¶è°ƒç”¨çš„ç›‘å¬æ–¹æ³•  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath)</span></span> &#123;  </div><div class="line">    <span class="built_in">println</span>(<span class="string">"aaa"</span>)  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionViewCell çš„å¤§å°  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">CGSize</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="type">CGSizeMake</span>(<span class="number">90</span>, <span class="number">120</span>)  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionViewCell å››å‘¨çš„è¾¹è·  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, insetForSectionAtIndex section: Int)</span></span> -&gt; <span class="type">UIEdgeInsets</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="type">UIEdgeInsetsMake</span>(<span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>)  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®åŒä¸€è¡Œ CollectionViewCell ä¹‹é—´çš„é—´è·  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, minimumInteritemSpacingForSectionAtIndex section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="number">20</span>  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®åŒä¸€åˆ— CollectionViewCell ä¹‹é—´çš„é—´è·  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, minimumLineSpacingForSectionAtIndex section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="number">20</span>  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 9.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionView çš„é¡µå¤´å°ºå¯¸  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, referenceSizeForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGSize</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="type">CGSizeMake</span>(<span class="number">100</span>, <span class="number">50</span>)  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="comment">// 10.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionView çš„é¡µå°¾å°ºå¯¸  </span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, referenceSizeForFooterInSection section: Int)</span></span> -&gt; <span class="type">CGSize</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="type">CGSizeMake</span>(<span class="number">100</span>, <span class="number">50</span>)  </div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UICollectionView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UICollectionView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UICollectionView-ç®€ä»‹</title>
      <link href="/2017/12/13/Swift/UIKit/UICollectionView-%E7%AE%80%E4%BB%8B/"/>
      <content type="html"><![CDATA[<h1 id="UICollectionViewçš„å¸¸ç”¨å±æ€§"><a href="#UICollectionViewçš„å¸¸ç”¨å±æ€§" class="headerlink" title="UICollectionViewçš„å¸¸ç”¨å±æ€§"></a>UICollectionViewçš„å¸¸ç”¨å±æ€§</h1><blockquote><p>1.è®¾ç½®ä½ç½®å’Œå¤§å°  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">init</span>(frame: <span class="type">CGRect</span>, collectionViewLayout layout: <span class="type">UICollectionViewLayout</span>)</div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½®å­è§†å›¾çš„å¸ƒå±€æ–¹å¼ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> collectionViewLayout: <span class="type">UICollectionViewLayout</span></div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½®UICollectionViewçš„ä»£ç†å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">unowned</span>(unsafe) <span class="keyword">var</span> delegate: <span class="type">UICollectionViewDelegate</span>?</div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½®UICollectionViewçš„æ•°æ®æºå¯¹è±¡  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">unowned</span>(unsafe) <span class="keyword">var</span> dataSource: <span class="type">UICollectionViewDataSource</span>?</div></pre></td></tr></table></figure><blockquote><p>5.è®¾ç½®UICollectionViewçš„èƒŒæ™¯è§†å›¾</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">var backgroundView: UIView?</div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½® UICollectionView çš„ Cell æ˜¯å¦å¯ä»¥ç‚¹å‡»  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> allowsSelection: <span class="type">Bool</span></div></pre></td></tr></table></figure><blockquote><p>7.è®¾ç½® UICollectionView çš„ Cell æ˜¯å¦å¯ä»¥å¤šé€‰  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> allowsMultipleSelection: <span class="type">Bool</span></div></pre></td></tr></table></figure><h1 id="UICollectionViewCellæ˜¾ç¤ºçš„æ ·å¼"><a href="#UICollectionViewCellæ˜¾ç¤ºçš„æ ·å¼" class="headerlink" title="UICollectionViewCellæ˜¾ç¤ºçš„æ ·å¼"></a>UICollectionViewCellæ˜¾ç¤ºçš„æ ·å¼</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">UICollectionViewScrollPosition</span> : <span class="title">RawOptionSetType</span> </span>&#123;  </div><div class="line">    <span class="keyword">init</span>(<span class="number">_</span> rawValue: <span class="type">UInt</span>)  </div><div class="line">    <span class="keyword">init</span>(rawValue: <span class="type">UInt</span>)  </div><div class="line">  </div><div class="line">    <span class="comment">// 1.æ²¡æœ‰æ ·å¼  </span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">None</span>: <span class="type">UICollectionViewScrollPosition</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">  </div><div class="line">    <span class="comment">// 2.å‚ç›´å±…ä¸­æ˜¾ç¤º  </span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">CenteredVertically</span>: <span class="type">UICollectionViewScrollPosition</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">  </div><div class="line">    <span class="comment">// 3.å‘ä¸‹æ˜¾ç¤º  </span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">Bottom</span>: <span class="type">UICollectionViewScrollPosition</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">  </div><div class="line">    <span class="comment">// 4.å‘å·¦æ˜¾ç¤º  </span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">Left</span>: <span class="type">UICollectionViewScrollPosition</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">  </div><div class="line">    <span class="comment">// 5.æ°´å¹³å±…ä¸­æ˜¾ç¤º  </span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">CenteredHorizontally</span>: <span class="type">UICollectionViewScrollPosition</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">  </div><div class="line">    <span class="comment">// 6.å‘å³æ˜¾ç¤º  </span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> <span class="type">Right</span>: <span class="type">UICollectionViewScrollPosition</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="UICollectionViewå¸¸ç”¨çš„æ–¹æ³•"><a href="#UICollectionViewå¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="UICollectionViewå¸¸ç”¨çš„æ–¹æ³•"></a>UICollectionViewå¸¸ç”¨çš„æ–¹æ³•</h1><blockquote><p>1.è®¾ç½®UICollectionViewçš„æ³¨å†Œç±», ä»¥åŠæ ‡ç¤ºç¬¦  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">registerClass</span><span class="params">(cellClass: AnyClass?, forCellWithReuseIdentifier identifier: String)</span></span></div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® UICollectionViewçš„æ³¨å†ŒNib, ä»¥åŠæ ‡ç¤ºç¬¦  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">registerNib</span><span class="params">(nib: UINib?, forCellWithReuseIdentifier identifier: String)</span></span></div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® UICollectionView çš„æ³¨å†Œç±», ä»¥åŠè¾…åŠ©è§†å›¾åç§°, æ ‡ç¤ºç¬¦ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">registerClass</span><span class="params">(viewClass: AnyClass?, forSupplementaryViewOfKind elementKind: String, withReuseIdentifier identifier: String)</span></span></div></pre></td></tr></table></figure><blockquote><p>4.è®¾ç½® UICollectionViewçš„æ³¨å†ŒNib, ä»¥åŠè¾…åŠ©è§†å›¾åç§°, æ ‡ç¤ºç¬¦  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">registerNib</span><span class="params">(nib: UINib?, forSupplementaryViewOfKind kind: String, withReuseIdentifier identifier: String)</span></span></div></pre></td></tr></table></figure><blockquote><p>5.è®¾ç½® UICollectionView å¯é‡ç”¨çš„ Cell ä»¥åŠæ‰€ä»¥è·¯å¾„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">dequeueReusableCellWithReuseIdentifier</span><span class="params">(identifier: String, forIndexPath indexPath: NSIndexPath!)</span></span> -&gt; <span class="type">AnyObject</span></div></pre></td></tr></table></figure><blockquote><p>6.è®¾ç½® UICollectionView å¯é‡ç”¨çš„çš„è¾…è§†å›¾, æ ‡ç¤ºç¬¦, ä»¥åŠç´¢å¼•è·¯å¾„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">dequeueReusableSupplementaryViewOfKind</span><span class="params">(elementKind: String, withReuseIdentifier identifier: String, forIndexPath indexPath: NSIndexPath!)</span></span> -&gt; <span class="type">AnyObject</span></div></pre></td></tr></table></figure><blockquote><p>7.é€‰æ‹© Item çš„ç´¢å¼•è·¯å¾„  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">indexPathsForSelectedItems</span><span class="params">()</span></span> -&gt; [<span class="type">AnyObject</span>]</div></pre></td></tr></table></figure><blockquote><p>8.é€‰æ‹© Item çš„ç´¢å¼•è·¯å¾„, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”», æ˜¾ç¤ºæ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">selectItemAtIndexPath</span><span class="params">(indexPath: NSIndexPath?, animated: Bool, scrollPosition: UICollectionViewScrollPosition)</span></span></div></pre></td></tr></table></figure><blockquote><p>9.å–æ¶ˆé€‰æ‹© Item çš„ç´¢å¼•è·¯å¾„, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">deselectItemAtIndexPath</span><span class="params">(indexPath: NSIndexPath?, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>10.åˆ·æ–°æ•°æ®  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadData</span><span class="params">()</span></span></div></pre></td></tr></table></figure><blockquote><p>11.è®¾ç½® UICollectionView çš„é›†åˆè§†å›¾å¸ƒå±€, åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setCollectionViewLayout</span><span class="params">(layout: UICollectionViewLayout, </span></span></div><div class="line"><span class="function"><span class="params">                           animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>12.è®¾ç½® UICollectionView çš„é›†åˆè§†å›¾å¸ƒå±€, åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”», ä»¥åŠå®Œæˆä¹‹åçš„é—­åŒ…æ–¹æ³• </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">setCollectionViewLayout</span><span class="params">(layout: UICollectionViewLayout,</span></span></div><div class="line"><span class="function"><span class="params">                           animated: Bool, </span></span></div><div class="line"><span class="function"><span class="params">                         completion: <span class="params">(<span class="params">(Bool)</span></span></span></span> -&gt; <span class="type">Void</span>)!)</div></pre></td></tr></table></figure><blockquote><p>13.è®¾ç½® UICollectionView æ˜¾ç¤ºå¤šå°‘ä¸ª Item  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfSections</span><span class="params">()</span></span> -&gt; <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>14.è®¾ç½® UICollectionView æ˜¾ç¤ºå¤šå°‘ç»„ Item  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfItemsInSection</span><span class="params">(section: Int)</span></span> -&gt; <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>15.è®¾ç½® UICollectionView æ»šåŠ¨åˆ°ç¬¬å‡ ä¸ª Item çš„ç´¢å¼•è·¯å¾„, ä»¥åŠæ˜¾ç¤ºæ ·å¼å’Œæ˜¯å¦å¯ç”¨åŠ¨ç”» </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollToItemAtIndexPath</span><span class="params">(indexPath: NSIndexPath, atScrollPosition scrollPosition: UICollectionViewScrollPosition, animated: Bool)</span></span></div></pre></td></tr></table></figure><blockquote><p>16.åœ¨ UICollectionView ä¸­æ’å…¥æŸä¸ª Item </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertSections</span><span class="params">(sections: NSIndexSet)</span></span></div></pre></td></tr></table></figure><blockquote><p>17.åœ¨ UICollectionView ä¸­åˆ é™¤æŸä¸ª Item </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">deleteSections</span><span class="params">(sections: NSIndexSet)</span></span></div></pre></td></tr></table></figure><blockquote><p>18.åœ¨ UICollectionView ä¸­åˆ·æ–°æŸä¸ª Item  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">reloadSections</span><span class="params">(sections: NSIndexSet)</span></span></div></pre></td></tr></table></figure><blockquote><p>19.ç§»åŠ¨ UICollectionView ä¸­æŸä¸ª Item åˆ°æŸä¸ªä½ç½®  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">moveSection</span><span class="params">(section: Int, toSection newSection: Int)</span></span></div></pre></td></tr></table></figure><h1 id="UICollectionViewä»£ç†æ–¹æ³•"><a href="#UICollectionViewä»£ç†æ–¹æ³•" class="headerlink" title="UICollectionViewä»£ç†æ–¹æ³•"></a>UICollectionViewä»£ç†æ–¹æ³•</h1><blockquote><p>1.ç‚¹å‡» Item æ—¶è°ƒç”¨çš„æ–¹æ³•  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath)</span></span></div></pre></td></tr></table></figure><blockquote><p>2.å–æ¶ˆé€‰ä¸­ Item æ—¶è°ƒç”¨çš„æ–¹æ³•  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, didDeselectItemAtIndexPath indexPath: NSIndexPath)</span></span></div></pre></td></tr></table></figure><h1 id="UICollectionViewæ•°æ®æºæ–¹æ³•"><a href="#UICollectionViewæ•°æ®æºæ–¹æ³•" class="headerlink" title="UICollectionViewæ•°æ®æºæ–¹æ³•"></a>UICollectionViewæ•°æ®æºæ–¹æ³•</h1><blockquote><p>1.è®¾ç½®UICollectionViewæœ‰å¤šå°‘ä¸ªItem </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span></div></pre></td></tr></table></figure><blockquote><p>2.è®¾ç½® UICollectionViewCell æ‰€æ˜¾ç¤ºçš„å†…å®¹, ä»¥åŠç´¢å¼•è·¯å¾„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, cellForItemAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span></div></pre></td></tr></table></figure><blockquote><p>3.è®¾ç½® UICollectionView æœ‰å¤šå°‘ç»„ Cell  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">numberOfSectionsInCollectionView</span><span class="params">(collectionView: UICollectionView)</span></span> -&gt; <span class="type">Int</span></div></pre></td></tr></table></figure><h1 id="UICollectionViewçš„é›†è§†å›¾å¸ƒå±€æ–¹æ³•"><a href="#UICollectionViewçš„é›†è§†å›¾å¸ƒå±€æ–¹æ³•" class="headerlink" title="UICollectionViewçš„é›†è§†å›¾å¸ƒå±€æ–¹æ³•"></a>UICollectionViewçš„é›†è§†å›¾å¸ƒå±€æ–¹æ³•</h1><blockquote><p>1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item å°ºå¯¸å¤§å° </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">CGSize</span></div></pre></td></tr></table></figure><blockquote><p>2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item å››å‘¨çš„è¾¹ç•Œ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, </span></span></div><div class="line"><span class="function"><span class="params">                layout collectionViewLayout: UICollectionViewLayout,</span></span></div><div class="line"><span class="function"><span class="params">             insetForSectionAtIndex section: Int)</span></span> -&gt; <span class="type">UIEdgeInsets</span></div></pre></td></tr></table></figure><blockquote><p>3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item ä¸Šä¸‹ä¹‹é—´çš„æœ€å°é—´è·<br>å¦‚æœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®ç°äº†è¯¥å±æ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æ‰åŸæ¥çš„å±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, </span></span></div><div class="line"><span class="function"><span class="params">                layout collectionViewLayout: UICollectionViewLayout, </span></span></div><div class="line"><span class="function"><span class="params">minimumLineSpacingForSectionAtIndex section: Int)</span></span> -&gt; <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item å·¦å³ä¹‹é—´çš„æœ€å°é—´è·(å¦‚æœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®ç°äº†è¯¥å±æ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æ‰åŸæ¥çš„å±æ€§)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView,</span></span></div><div class="line"><span class="function"><span class="params">                layout collectionViewLayout: UICollectionViewLayout, </span></span></div><div class="line"><span class="function"><span class="params">                minimumInteritemSpacingForSectionAtIndex section: Int)</span></span> -&gt; <span class="type">CGFloat</span></div></pre></td></tr></table></figure><blockquote><p>5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„é¡µå¤´å°ºå¯¸<br>å¦‚æœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®ç°äº†è¯¥å±æ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æ‰åŸæ¥çš„å±æ€§)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, </span></span></div><div class="line"><span class="function"><span class="params">                layout collectionViewLayout: UICollectionViewLayout,</span></span></div><div class="line"><span class="function"><span class="params">    referenceSizeForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGSize</span></div></pre></td></tr></table></figure><blockquote><p>6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIcollectionView çš„é¡µå°¾å°ºå¯¸(å¦‚æœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®ç°äº†è¯¥å±æ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æ‰åŸæ¥çš„å±æ€§) </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">optional</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, referenceSizeForFooterInSection section: Int)</span></span> -&gt; <span class="type">CGSize</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UICollectionView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UICollectionView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Network-AFNetworking-ç½‘ç»œè¯·æ±‚</title>
      <link href="/2017/12/13/Swift/Network/Swift-Network-AFNetworking-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
      <content type="html"><![CDATA[<h1 id="åˆ›å»ºæ•°æ®è¯·æ±‚ç±»"><a href="#åˆ›å»ºæ•°æ®è¯·æ±‚ç±»" class="headerlink" title="åˆ›å»ºæ•°æ®è¯·æ±‚ç±»"></a>åˆ›å»ºæ•°æ®è¯·æ±‚ç±»</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">import</span> UIKit  </div><div class="line"><span class="keyword">import</span> AFNetworking  </div><div class="line"><span class="comment">//è¯·æ±‚æ–¹æ³•  </span></div><div class="line"><span class="comment">/// - GET:  get  </span></div><div class="line"><span class="comment">/// - POST: post  </span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">RequsetMethod</span>:<span class="title">String</span> </span>&#123;  </div><div class="line">    <span class="keyword">case</span> <span class="type">GET</span> = <span class="string">"GET"</span>  </div><div class="line">    <span class="keyword">case</span> <span class="type">POST</span> =  <span class="string">"POST"</span>  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SPFNetWorkManager</span>: <span class="title">AFHTTPSessionManager</span> </span>&#123;  </div><div class="line">      </div><div class="line">    <span class="comment">//å•ä¾‹  </span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">let</span> sharedTools:<span class="type">SPFNetWorkManager</span> = &#123;  </div><div class="line">        <span class="keyword">let</span> instance = <span class="type">SPFNetWorkManager</span>()  </div><div class="line">        instance.responseSerializer.acceptableContentTypes?.insert(<span class="string">"text/html"</span>)  </div><div class="line">        instance.responseSerializer.acceptableContentTypes?.insert(<span class="string">"text/plain"</span>)  </div><div class="line">        <span class="keyword">return</span> instance  </div><div class="line">    &#125;()  </div><div class="line">    <span class="comment">// å®šä¹‰è¯·æ±‚å®Œæˆçš„å›è°ƒçš„åˆ«å  </span></div><div class="line">    <span class="keyword">typealias</span> httptoolBack = (response:<span class="type">AnyObject</span>?,error:<span class="type">NSError</span>?)-&gt;()  </div><div class="line">      </div><div class="line">    <span class="comment">/// è¯·æ±‚æ•°æ®  </span></div><div class="line">    <span class="comment">///  </span></div><div class="line">    <span class="comment">/// - parameter urlString:  è¯·æ±‚åœ°å€  </span></div><div class="line">    <span class="comment">/// - parameter parameters: è¯·æ±‚å‚æ•°  </span></div><div class="line">    <span class="comment">/// - parameter finished:   è¯·æ±‚æˆåŠŸæˆ–è€…å¤±è´¥çš„å›è°ƒ  </span></div><div class="line">      </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">request</span><span class="params">(method: RequsetMethod = .GET, urlString: String, parameters: AnyObject?, finished:httptoolBack)</span></span>&#123;  </div><div class="line">          </div><div class="line">          </div><div class="line">        <span class="comment">// å®šä¹‰è¯·æ±‚æˆåŠŸçš„é—­åŒ…  </span></div><div class="line">        <span class="keyword">let</span> success = &#123; (dataTask: <span class="type">NSURLSessionDataTask</span>, responseObject: <span class="type">AnyObject</span>?) -&gt; <span class="type">Void</span> <span class="keyword">in</span>  </div><div class="line">            finished(response: responseObject, error: <span class="literal">nil</span>)  </div><div class="line">        &#125;  </div><div class="line">          </div><div class="line">        <span class="comment">// å®šä¹‰è¯·æ±‚å¤±è´¥çš„é—­åŒ…  </span></div><div class="line">        <span class="keyword">let</span> failure = &#123; (dataTask: <span class="type">NSURLSessionDataTask</span>?, error: <span class="type">NSError</span>) -&gt; <span class="type">Void</span> <span class="keyword">in</span>  </div><div class="line">            finished(response: <span class="literal">nil</span>, error: error)  </div><div class="line">        &#125;  </div><div class="line">          </div><div class="line">        <span class="keyword">if</span> method == .<span class="type">GET</span> &#123;  </div><div class="line">              </div><div class="line">            <span class="type">GET</span>(urlString, parameters: parameters, progress: <span class="literal">nil</span>, success: success, failure: failure)  </div><div class="line">        &#125;<span class="keyword">else</span>&#123;  </div><div class="line">            <span class="type">POST</span>(urlString, parameters: parameters, progress: <span class="literal">nil</span>, success: success, failure: failure)  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">      </div><div class="line">    <span class="comment">/// å‘é€è¯·æ±‚(ä¸Šä¼ æ–‡ä»¶)  </span></div><div class="line">      </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">requestWithData</span><span class="params">(data: NSData, name: String, urlString: String, parameters: AnyObject?, finished:httptoolBack)</span></span> &#123;  </div><div class="line">        <span class="comment">// å®šä¹‰è¯·æ±‚æˆåŠŸçš„é—­åŒ…  </span></div><div class="line">        <span class="keyword">let</span> success = &#123; (dataTask: <span class="type">NSURLSessionDataTask</span>, responseObject: <span class="type">AnyObject</span>?) -&gt; <span class="type">Void</span> <span class="keyword">in</span>  </div><div class="line">            finished(response: responseObject, error: <span class="literal">nil</span>)  </div><div class="line">        &#125;  </div><div class="line">          </div><div class="line">        <span class="comment">// å®šä¹‰è¯·æ±‚å¤±è´¥çš„é—­åŒ…  </span></div><div class="line">        <span class="keyword">let</span> failure = &#123; (dataTask: <span class="type">NSURLSessionDataTask</span>?, error: <span class="type">NSError</span>) -&gt; <span class="type">Void</span> <span class="keyword">in</span>  </div><div class="line">            finished(response: <span class="literal">nil</span>, error: error)  </div><div class="line">        &#125;  </div><div class="line">          </div><div class="line">        <span class="type">POST</span>(urlString, parameters: parameters, constructingBodyWithBlock: &#123; (formData) -&gt; <span class="type">Void</span> <span class="keyword">in</span>  </div><div class="line">            formData.appendPartWithFileData(data, name: name, fileName: <span class="string">"aa"</span>, mimeType: <span class="string">"application/octet-stream"</span>)  </div><div class="line">            &#125;, progress: <span class="literal">nil</span>, success: success, failure: failure)  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è°ƒç”¨æ–¹æ³•"><a href="#è°ƒç”¨æ–¹æ³•" class="headerlink" title="è°ƒç”¨æ–¹æ³•"></a>è°ƒç”¨æ–¹æ³•</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> urlString = <span class="string">"http://192.168.3.7:8080/FreshFun/homepage.do"</span>  </div><div class="line">       <span class="comment">//åˆ›å»ºhttpTool å®ä¾‹  </span></div><div class="line">       <span class="keyword">let</span> <span class="type">HttpRequest</span> = <span class="type">SPFNetWorkManager</span>.sharedTools  </div><div class="line">       </div><div class="line">       <span class="comment">//å‘é€GETè¯·æ±‚  </span></div><div class="line">       <span class="type">HttpRequest</span>.request(<span class="type">RequsetMethod</span>.<span class="type">GET</span>, urlString: urlString, parameters:<span class="literal">nil</span> ) &#123; (response, error) <span class="keyword">in</span>  </div><div class="line">           <span class="built_in">print</span>(response)  </div><div class="line">       &#125;</div></pre></td></tr></table></figure><h1 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Optional</span>(&#123;  </div><div class="line">           goodsMoney = <span class="string">"22.00"</span>;  </div><div class="line">           <span class="string">"goods_des"</span> = <span class="string">"\U9999\U8549\U8089333"</span>;  </div><div class="line">           <span class="string">"goods_img"</span> = <span class="string">"/image/2016/9/8/1473340021432.png"</span>;  </div><div class="line">           <span class="string">"goods_name"</span> = <span class="type">BananaMeat</span>;  </div><div class="line">           id = <span class="number">4</span>;  </div><div class="line">           marketMoney = <span class="string">"31.43"</span>;  </div><div class="line">       &#125;ï¼‰</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Network </category>
          
          <category> AFNetworking </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Lib-SnapKit-è‡ªåŠ¨å¸ƒå±€</title>
      <link href="/2017/12/13/Swift/Lib/SnapKit-%E8%87%AA%E5%8A%A8%E5%B8%83%E5%B1%80/"/>
      <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/2bad53a2a180" target="_blank" rel="external">https://www.jianshu.com/p/2bad53a2a180</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Lib </category>
          
          <category> SnapKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Lib-Kingfisher-å›¾ç‰‡åŠ è½½åº“</title>
      <link href="/2017/12/13/Swift/Lib/Kingfisher-%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E5%BA%93/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/djh996064549/article/details/71085679" target="_blank" rel="external">http://blog.csdn.net/djh996064549/article/details/71085679</a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Lib </category>
          
          <category> Kingfisher </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Lib-SSKeychain-æ•°æ®æœ¬åœ°åŒ–æ–¹å¼ä¹‹ä¸€</title>
      <link href="/2017/12/13/OC/Lib/OC-Lib-SSKeychain-%E6%95%B0%E6%8D%AE%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%96%B9%E5%BC%8F%E4%B9%8B%E4%B8%80/"/>
      <content type="html"><![CDATA[<h1 id="keychainä¸userdefaults"><a href="#keychainä¸userdefaults" class="headerlink" title="keychainä¸userdefaults"></a>keychainä¸userdefaults</h1><blockquote><p>keychain</p></blockquote><ul><li>å°†æ•°æ®åŠ å¯†åå­˜å‚¨åœ¨æœ¬åœ°,æ›´å®‰å…¨.è·¯å¾„:Library/Application Support/iPhone Simulator/æ¨¡æ‹Ÿå™¨ç‰ˆæœ¬/Library/Keychains/</li><li>å½“ä½ åˆ é™¤APPå,keychainå­˜å‚¨çš„æ•°æ®ä¸ä¼šåˆ é™¤ </li></ul><blockquote><p>userdefaults</p></blockquote><ul><li>æ•°æ®ä»¥æ˜æ–‡çš„å½¢å¼ä¿å­˜åœ¨.plistæ–‡ä»¶ä¸­.è·¯å¾„:Library/Application Support/iPhone Simulator/æ¨¡æ‹Ÿå™¨ç‰ˆæœ¬/Applications/åº”ç”¨å¯¹åº”çš„æ•°å­—/Library/Preference/.plistæ–‡ä»¶<ul><li>å½“ä½ åˆ é™¤APPå,user defaultså­˜å‚¨çš„æ•°æ®ä¼šéšç€APPè€Œåˆ æ‰</li></ul></li></ul><h1 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h1><blockquote><p>å¯¼å…¥</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">pod &apos;SSKeychain&apos;</div></pre></td></tr></table></figure><blockquote><p>å®ç°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#import &quot;ViewController.h&quot;</div><div class="line">#import &lt;SSKeychain.h&gt;</div><div class="line">#import &lt;SSKeychainQuery.h&gt;</div><div class="line"></div><div class="line"></div><div class="line">//åº”ç”¨åç§°(ä¿è¯å”¯ä¸€æ€§)</div><div class="line">#define ServiceName @&quot;com.zx.tec.SSKeychainTest&quot;</div><div class="line">//è´¦å·</div><div class="line">#define Account @&quot;test2&quot;</div><div class="line"></div><div class="line">@interface ViewController ()</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line"></div><div class="line">    [superviewDidLoad];</div><div class="line"></div><div class="line">    /**</div><div class="line"></div><div class="line">     *  SSKeychain æ˜¯ä¸€ç§æœ¬åœ°å­˜å‚¨æ–¹å¼ä¸ä¼šå› ä¸ºç¨‹åºå¸è½½è€Œæ¸…é™¤ ç”¨äºå­˜å‚¨ç§å¯† åŠå”¯ä¸€ çš„æ ‡ç¤º</div><div class="line">     *</div><div class="line">     *  äº”ä¸ªæ–¹æ³•:(ç”¨åˆ°ä¸¤ä¸ª)</div><div class="line">     *  + (NSArray *)allAccounts;</div><div class="line">     *  + (NSArray *)accountsForService:(NSString *)serviceName;</div><div class="line">     *  + (NSString *)passwordForService:(NSString *)serviceName account:(NSString *)account;</div><div class="line">     *  + (BOOL)deletePasswordForService:(NSString *)serviceName account:(NSString *)account;</div><div class="line">     *  + (BOOL)setPassword:(NSString *)password forService:(NSString *)serviceName account:(NSString *)account;</div><div class="line">     */</div><div class="line"></div><div class="line">    </div><div class="line"></div><div class="line">#pragma mark - å¼€å§‹ä½¿ç”¨ SSKeychain</div><div class="line">    //è·å–uuid(å¦‚æœæƒ³è·å–å”¯ä¸€æ ‡ç¤º,å­˜å‚¨ä»¥ uuidä¸ºå¯†ç å­˜å‚¨ ä¸‹æ¬¡ç™»é™†ç›´æ¥è¯»å–æ£€æµ‹æ˜¯å¦å®‰è£…)</div><div class="line">    //CFUUIDRef uuid = CFUUIDCreate(NULL);</div><div class="line">    //assert(uuid != NULL);</div><div class="line">    //CFStringRef uuidStr = CFUUIDCreateString(NULL, uuid);</div><div class="line">    // NSLog(@&quot;%@~~%@&quot;, uuidStr, [NSString stringWithFormat:@&quot;%@&quot;, uuidStr]);</div><div class="line">    /**</div><div class="line">     *  + (NSString *)passwordForService:(NSString *)serviceName account:(NSString *)account;//è·å–æŒ‡å®š serviceNameå’Œ account çš„å¯†ç </div><div class="line">     *</div><div class="line">     *  + (BOOL)setPassword:(NSString *)password forService:(NSString *)serviceName account:(NSString *)account;//å­˜å‚¨æŒ‡å®š serviceNameå’Œ account çš„å¯†ç </div><div class="line">     *</div><div class="line">     */</div><div class="line"></div><div class="line">    NSString *passWord = @&quot;123456&quot;;</div><div class="line">    if (![SSKeychainpasswordForService:ServiceNameaccount:Account]) &#123;//æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å­˜å‚¨æŒ‡å®š serviceNameå’Œ account çš„å¯†ç </div><div class="line">        //å¦‚æœæ²¡è®¾ç½®å¯†ç åˆ™è®¾å®šå¯†ç  å¹¶å­˜å‚¨</div><div class="line">        [SSKeychainsetPassword:passWord forService:ServiceNameaccount:Account];</div><div class="line">        //æ‰“å°å¯†ç ä¿¡æ¯</div><div class="line">        NSString *retrieveuuid = [SSKeychainpasswordForService:ServiceNameaccount:Account];</div><div class="line">        NSLog(@&quot;SSKeychainå­˜å‚¨æ˜¾ç¤º:æœªå®‰è£…è¿‡:%@&quot;, retrieveuuid);</div><div class="line">    &#125;else&#123;</div><div class="line">        //æ›¾ç»å®‰è£…è¿‡åˆ™ç›´æ¥èƒ½æ‰“å°å‡ºå¯†ç ä¿¡æ¯(å³ä½¿åˆ é™¤äº†ç¨‹åºå†æ¬¡å®‰è£…ä¹Ÿä¼šæ‰“å°å¯†ç ä¿¡æ¯) åŒºåˆ«äº NSUSerDefault</div><div class="line">        NSString *retrieveuuid = [SSKeychainpasswordForService:ServiceNameaccount:Account];</div><div class="line">        NSLog(@&quot;SSKeychainå­˜å‚¨æ˜¾ç¤º :å·²å®‰è£…è¿‡:%@&quot;, retrieveuuid);</div><div class="line">    &#125;</div><div class="line">#warning åŒºåˆ«äº NSUSerDefault (åˆ é™¤åº”ç”¨ç¨‹åºåå­˜å‚¨çš„æ•°æ®å°±ä¼šæ¶ˆå¤±)</div><div class="line">    if (![[NSUserDefaultsstandardUserDefaults]boolForKey:@&quot;TestOne&quot;]) &#123;</div><div class="line">        [[NSUserDefaultsstandardUserDefaults]setBool:YESforKey:@&quot;TestOne&quot;];</div><div class="line">        NSLog(@&quot;NSUSerDefaultå­˜å‚¨æ˜¾ç¤º:æœªå®‰è£…&quot;);</div><div class="line">    &#125;else&#123;</div><div class="line">        NSLog(@&quot;NSUSerDefaultå­˜å‚¨æ˜¾ç¤º:å®‰è£…è¿‡&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Lib </category>
          
          <category> SSKeychain </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Func-Symbolicatecrashåˆ†æCrashæ–‡ä»¶</title>
      <link href="/2017/12/12/OC/Func/iOS-Func-Symbolicatecrash%E5%88%86%E6%9E%90crash%E6%96%87%E4%BB%B6/"/>
      <content type="html"><![CDATA[<h1 id="æ²¡æœ‰é›†æˆå‘é€å´©æºƒæŠ¥å‘ŠåŠŸèƒ½"><a href="#æ²¡æœ‰é›†æˆå‘é€å´©æºƒæŠ¥å‘ŠåŠŸèƒ½" class="headerlink" title="æ²¡æœ‰é›†æˆå‘é€å´©æºƒæŠ¥å‘ŠåŠŸèƒ½"></a>æ²¡æœ‰é›†æˆå‘é€å´©æºƒæŠ¥å‘ŠåŠŸèƒ½</h1><h2 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h2><blockquote><p>æ‰€æœ‰å´©æºƒè®°å½•éƒ½ä¼šè®°å½•åœ¨è®¾å¤‡ä¸Šï¼Œæ²¡æœ‰é›†æˆè®©ç”¨æˆ·å‘é€å´©æºƒæŠ¥å‘ŠåŠŸèƒ½çš„iï¼Œè¦è·å¾—crashæ–‡ä»¶å°±å¿…é¡»å…ˆè¿ä¸Šå´©æºƒè¿‡çš„æœºå™¨</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æ‰“å¼€Xcode---&gt;é€‰æ‹©Window -&gt; Devicesï¼Œé€‰æ‹©ä½ è‡ªå·±çš„æœºå™¨ï¼Œç„¶åç‚¹å‡»View Device Logsï¼Œæ‰“å¼€å°çª—å£ï¼Œè¿™æ˜¯æœºå™¨ä¸Šè‡³ç›®å‰ä¸ºæ­¢å­˜çš„æ‰€æœ‰appçš„å´©æºƒä¿¡æ¯äº†</div><div class="line">å¦‚æœæ˜¯å¥½ä¹…æ²¡çœ‹è¿‡è¿™ä¸ªä¿¡æ¯ï¼Œæ‰“å¼€åè¿˜è¦è¯»å–å¥½ä¹…æ‰èƒ½å®Œå…¨è¯»å®Œï¼Œæ€»ä¹‹ï¼Œæ‰¾åˆ°ä½ çš„appæœ€åä¸€æ¬¡å´©æºƒè®°å½•ï¼Œå³é”®å¯¼å‡º</div></pre></td></tr></table></figure><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Symbolicatecrash%E5%88%86%E6%9E%90crash%E6%96%87%E4%BB%B6-001.png" alt="001"></p><blockquote><p>å¯¼å‡ºæ¥çš„.crashæ–‡ä»¶ï¼Œä¸ŠåŠéƒ¨åˆ†éƒ½æ˜¯ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ˆåŸºæœ¬æ²¡ç”¨ï¼‰ï¼Œé‡ç‚¹çœ‹ä¸‹å´©æºƒéƒ¨åˆ†çš„è®°å½•</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Symbolicatecrash%E5%88%86%E6%9E%90crash%E6%96%87%E4%BB%B6-002.png" alt="002"></p><blockquote><p>æ‰¾åˆ°ä½ ä¸Šæ¬¡å‘å¸ƒçš„ipaï¼ˆå¦‚æœå®åœ¨æ²¡æœ‰äº†å°±å†ä»Archivesé‡Œå¯¼å‡ºæ¥ä¸€ä¸ªï¼Œä½†ä¸€å®šè¦ä¿è¯æ˜¯ä½ ä¸Šæ¬¡å‘å¸ƒç”¨çš„é‚£ä¸ªï¼‰ï¼Œå³é”® -&gt; æ‰“å¼€æ–¹å¼ -&gt; å½’æ¡£å®ç”¨å·¥å…·(å°±æ˜¯è§£å‹ç¼©)ï¼Œç„¶åæŠŠPayloadæ–‡ä»¶å¤¹ä¸‹çš„.appæ–‡ä»¶ä¹Ÿæ‰”åˆ°åˆšåˆšçš„crashæ–‡ä»¶å¤¹é‡Œ<br>æ¥ä¸‹æ¥è¿˜éœ€è¦dSYMæ–‡ä»¶ï¼Œè¿˜æ˜¯åœ¨Archivesé‡Œï¼Œæ‰¾åˆ°å‘å¸ƒç”¨çš„é‚£ä¸ªï¼Œå³é”®Show in Finder</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Symbolicatecrash%E5%88%86%E6%9E%90crash%E6%96%87%E4%BB%B6-003.png" alt="003"></p><blockquote><p>ç„¶åå¯¹æ–‡ä»¶å¤¹ä¸­çš„è¿™ä¸ª.xcarchiveæ–‡ä»¶å³é”®ï¼Œæ˜¾ç¤ºåŒ…å†…å®¹ï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸ºdSYMsçš„æ–‡ä»¶å¤¹ï¼ŒæŠŠé‡Œé¢çš„.dSYMæ–‡ä»¶æ‹·å‡ºæ¥ï¼Œè¿˜æ˜¯æ”¾åˆ°æ¡Œé¢çš„crashæ–‡ä»¶å¤¹é‡Œ</p></blockquote><h2 id="symbolicatecrashæ˜¯ä¸€ä¸ªéšè—å·¥å…·"><a href="#symbolicatecrashæ˜¯ä¸€ä¸ªéšè—å·¥å…·" class="headerlink" title="symbolicatecrashæ˜¯ä¸€ä¸ªéšè—å·¥å…·"></a>symbolicatecrashæ˜¯ä¸€ä¸ªéšè—å·¥å…·</h2><blockquote><p>/Applications/Xcode8.1.app/Contents/SharedFrameworks/DTDeviceKitBase.framework/Versions/A/Resources/symbolicatecrash</p><p>ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤æœç´¢ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ find /Applications/Xcode8.1.app -name symbolicatecrash -type f</div></pre></td></tr></table></figure><ul><li>è¿™ä¸ªè·¯å¾„æ‹·è´ä¸€ä¸‹ï¼Œç„¶åç²˜åˆ°Finderçš„â€œå‰å¾€æ–‡ä»¶å¤¹â€ä¸‹ï¼Œå‰å¾€ï¼Œå°±å¯ä»¥çœ‹åˆ°symbolicatecrashå·¥å…·äº†ï¼Œç°åœ¨æŠŠå®ƒä¹Ÿæ‹·åˆ°æ¡Œé¢çš„crashæ–‡ä»¶å¤¹é‡Œã€‚è‡³æ­¤ï¼Œcrashæ–‡ä»¶å¤¹é‡Œç°åœ¨æœ‰4ä¸ªæ–‡ä»¶äº†ï¼Œåˆ†åˆ«æ˜¯.app, .crash, .dSYM, symbolicatecrashã€‚æ¥ä¸‹æ¥å°±æ˜¯ç”¨ç»ˆç«¯æ•²å‘½ä»¤ï¼Œç”Ÿæˆæ›´æ˜“åˆ†æçš„crash</li></ul><blockquote><p>é¦–å…ˆç”¨cdå‘½ä»¤è¿›å…¥åˆ°crashæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ ./symbolicatecrash /Users/xxxx/Desktop/crash/InOrder.crash /Users/xxxx/Desktop/crash/InOrder.app.dSYM &gt; Control_symbol.crash</div></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œâ€xxxxâ€å’Œâ€InOrderâ€è¯·è‡ªè¡Œæ›¿æ¢æˆå¯¹åº”çš„åç§°ã€‚è¿è¡Œï¼Œè¿™æ—¶å€™ç»ˆç«¯å¯èƒ½ä¼šæŠ¥é”™Error: â€œDEVELOPER_DIRâ€ is not defined at /usr/local/bin/symbolicatecrash line 53. è¿™æ—¶å€™åœ¨ç»ˆç«¯ä¸­å†è¾“å…¥å¦‚ä¸‹ï¼ˆXcode6.1.appä¾ç„¶æ˜¯è¦æ›¿æ¢æˆå®é™…åç§°ï¼‰</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ export DEVELOPER_DIR=&quot;/Applications/Xcode8.1.app/Contents/Developer&quot;</div></pre></td></tr></table></figure><blockquote><p>ç„¶åå†è·‘ä¸€ä¸‹åˆšåˆšçš„é‚£ä¸ªå‘½ä»¤ï¼Œè¿™æ—¶å€™çœ‹ä¸€ä¸‹æ¡Œé¢çš„crashæ–‡ä»¶å¤¹ä¸‹å°±ä¼šå¤šå‡ºä¸€ä¸ªåä¸ºâ€œControl_symbol.crashâ€çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯å¯å®šä½é—®é¢˜çš„crashæ–‡ä»¶äº†ï¼Œæˆ‘ä»¬æ‰“å¼€çœ‹ä¸€ä¸‹</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Symbolicatecrash%E5%88%86%E6%9E%90crash%E6%96%87%E4%BB%B6-004.png" alt="004"></p><blockquote><p>ç°åœ¨çº¢æ¡†é‡ŒåŸæ¥çš„é‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿å·²ç»â€œç¿»è¯‘â€æˆäº†å´©æºƒåœ¨å…·ä½“çš„å“ªä¸€ä¸ª.mæ–‡ä»¶çš„å“ªä¸€è¡Œã€‚ä¸‹é¢å°±æ˜¯è¿›è¡Œåˆç†çš„çŒœæƒ³å’Œè°ƒè¯•äº†ï¼Œæ¯”å¦‚æˆ‘çš„å´©æºƒå°±æ˜¯å› ä¸ºè¿™ä¸ªç¬¬ä¸‰æ–¹æ—¶é—´é€‰æ‹©æ§ä»¶ä½¿ç”¨æˆªå–å­—ç¬¦ä¸²çš„å½¢å¼æ¥è·å¾—æ—¶é—´ï¼Œåƒ09:23 PMå°±è¢«å›ºå®šçš„æ‹†æˆäº†æ—¶ã€åˆ†ã€ä¸Šä¸‹åˆæ ‡è¯†3æ®µï¼Œç»“æœç”¨æˆ·ä½¿ç”¨24å°æ—¶åˆ¶çš„æ—¶å€™ï¼Œæ—¶é—´å°±æˆäº†21:23ï¼Œæ²¡äº†ä¸Šä¸‹åˆæ ‡è¯†ï¼Œarray[2]è¶…å‡ºä¸‹æ ‡å¦¥å¦¥çš„é—ªé€€ã€‚æƒ³æƒ³æˆ‘è„‘æ´ä¹Ÿæ˜¯è›®å¤§çš„ï¼Œè¿™ç§é—®é¢˜åŸå› éƒ½è¢«çŒœåˆ°äº†</p></blockquote>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Symbolicatecrash </tag>
            
            <tag> Crash </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-AccessControl-open</title>
      <link href="/2017/12/11/Swift/Grammar/AccessControl-open/"/>
      <content type="html"><![CDATA[<h1 id="open"><a href="#open" class="headerlink" title="open"></a>open</h1><blockquote><p>openå¼¥è¡¥publicè¯­ä¹‰ä¸Šçš„ä¸è¶³</p></blockquote><h1 id="pubic"><a href="#pubic" class="headerlink" title="pubic"></a>pubic</h1><blockquote><p>ç°åœ¨çš„pubicæœ‰ä¸¤å±‚å«ä¹‰ï¼š</p></blockquote><ul><li>â‘ è¿™ä¸ªå…ƒç´ å¯ä»¥åœ¨å…¶ä»–ä½œç”¨åŸŸè¢«è®¿é—®</li><li>â‘¡è¿™ä¸ªå…ƒç´ å¯ä»¥åœ¨å…¶ä»–ä½œç”¨åŸŸè¢«ç»§æ‰¿æˆ–è€…override</li></ul><h1 id="ç»§æ‰¿é—®é¢˜"><a href="#ç»§æ‰¿é—®é¢˜" class="headerlink" title="ç»§æ‰¿é—®é¢˜"></a>ç»§æ‰¿é—®é¢˜</h1><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><blockquote><p>ç»§æ‰¿æ˜¯ä¸€ä»¶å±é™©çš„äº‹æƒ…<br>å°¤å…¶å¯¹äºä¸€ä¸ªframeworkæˆ–è€…moduleçš„è®¾è®¡è€…è€Œè¨€<br>åœ¨è‡ªèº«çš„moduleå†…ï¼Œç±»æˆ–è€…å±æ€§å¯¹äºä½œè€…è€Œè¨€æ˜¯æ¸…æ™°çš„ï¼Œèƒ½å¦è¢«ç»§æ‰¿æˆ–è€…overrideéƒ½æ˜¯å¯æ§çš„,ä½†æ˜¯å¯¹äºä½¿ç”¨å®ƒçš„äººï¼Œæœ‰æ—¶ä¼šå¸Œæœ›ä¼ è¾¾å‡ºè¿™ä¸ªç±»æˆ–è€…å±æ€§ä¸åº”è¯¥è¢«ç»§æ‰¿æˆ–è€…ä¿®æ”¹,è¿™ä¸ªå¯¹åº”çš„å°±æ˜¯ final </p></blockquote><h2 id="final"><a href="#final" class="headerlink" title="final"></a>final</h2><blockquote><p>é—®é¢˜åœ¨äºåœ¨æ ‡è®°ä¹‹åï¼Œåœ¨ä»»ä½•åœ°æ–¹éƒ½ä¸èƒ½override<br>è€Œå¯¹äºlibçš„è®¾è®¡è€…è€Œè¨€ï¼Œå¸Œæœ›å¾—åˆ°çš„æ˜¯åœ¨moduleå†…å¯ä»¥è¢«override<br>åœ¨è¢«importåˆ°å…¶ä»–åœ°æ–¹åå…¶ä»–ç”¨æˆ·ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½è¢«override</p><p>è¿™å°±æ˜¯openäº§ç”Ÿçš„åˆè¡·<br>é€šè¿‡openå’Œpublicæ ‡è®°åŒºåˆ«ä¸€ä¸ªå…ƒç´ åœ¨å…¶ä»–moduleä¸­æ˜¯åªèƒ½è¢«è®¿é—®è¿˜æ˜¯å¯ä»¥è¢«override</p></blockquote><p>##ä¸¾ä¾‹åˆ†æ ModuleA</p><blockquote><p>è¿™ä¸ªç±»åœ¨ModuleAçš„èŒƒå›´å¤–æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ï¼Œåªèƒ½è¢«è®¿é—®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NonSubclassableParentClass</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123;&#125;</div><div class="line">    <span class="comment">// è¿™æ˜¯é”™è¯¯çš„å†™æ³•ï¼Œå› ä¸ºclasså·²ç»ä¸èƒ½è¢«ç»§æ‰¿</span></div><div class="line">    <span class="comment">// æ‰€ä»¥ä»–çš„æ–¹æ³•çš„è®¿é—®æƒé™ä¸èƒ½å¤§äºç±»çš„è®¿é—®æƒé™</span></div><div class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;&#125;</div><div class="line"></div><div class="line">    <span class="comment">// finalçš„å«ä¹‰ä¿æŒä¸å˜</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">baz</span><span class="params">()</span></span> &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// åœ¨ModuleAçš„èŒƒå›´å¤–å¯ä»¥è¢«ç»§æ‰¿</span></div><div class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">SubclassableParentClass</span> </span>&#123;</div><div class="line">    <span class="comment">// è¿™ä¸ªå±æ€§åœ¨ModuleAçš„èŒƒå›´å¤–ä¸èƒ½è¢«override</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">var</span> size : <span class="type">Int</span></div><div class="line"></div><div class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•åœ¨ModuleAçš„èŒƒå›´å¤–ä¸èƒ½è¢«override</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123;&#125;</div><div class="line"></div><div class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è¢«override</span></div><div class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123;&#125;</div><div class="line"></div><div class="line">    <span class="comment">///finalçš„å«ä¹‰ä¿æŒä¸å˜</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">func</span> <span class="title">baz</span><span class="params">()</span></span> &#123;&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/// finalçš„å«ä¹‰ä¿æŒä¸å˜</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">FinalClass</span> </span>&#123; &#125;</div><div class="line"></div><div class="line"><span class="comment">/// ModuleB:</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> ModuleA</div><div class="line"></div><div class="line"><span class="comment">// è¿™ä¸ªå†™æ³•æ˜¯é”™è¯¯çš„ï¼Œç¼–è¯‘ä¼šå¤±è´¥</span></div><div class="line"><span class="comment">// å› ä¸ºNonSubclassableParentClassç±»è®¿é—®æƒé™æ ‡è®°çš„æ˜¯publicï¼Œåªèƒ½è¢«è®¿é—®ä¸èƒ½è¢«ç»§æ‰¿</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubclassA</span> : <span class="title">NonSubclassableParentClass</span> </span>&#123; &#125;</div><div class="line"></div><div class="line"><span class="comment">// è¿™æ ·å†™æ³•å¯ä»¥é€šè¿‡ï¼Œå› ä¸ºSubclassableParentClassè®¿é—®æƒé™ä¸º `open`.</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubclassB</span> : <span class="title">SubclassableParentClass</span> </span>&#123;</div><div class="line">   </div><div class="line">    <span class="comment">// è¿™æ ·å†™ä¹Ÿä¼šç¼–è¯‘å¤±è´¥</span></div><div class="line">    <span class="comment">// å› ä¸ºè¿™ä¸ªæ–¹æ³•åœ¨SubclassableParentClass ä¸­çš„æƒé™ä¸ºpublicï¼Œä¸æ˜¯`open'.</span></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> &#123; &#125;</div><div class="line"></div><div class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•å› ä¸ºåœ¨SubclassableParentClassä¸­æ ‡è®°ä¸ºopenï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·å†™</span></div><div class="line">    <span class="comment">// è¿™é‡Œä¸éœ€è¦å†å£°æ˜ä¸ºopenï¼Œå› ä¸ºè¿™ä¸ªç±»æ˜¯internalçš„</span></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123; &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">SubclassC</span> : <span class="title">SubclassableParentClass</span> </span>&#123;</div><div class="line">    <span class="comment">// è¿™ç§å†™æ³•ä¼šç¼–è¯‘å¤±è´¥ï¼Œå› ä¸ºè¿™ä¸ªç±»å·²ç»æ ‡è®°ä¸ºopen</span></div><div class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•overrideæ˜¯ä¸€ä¸ªopençš„æ–¹æ³•ï¼Œåˆ™ä¹Ÿéœ€è¦è¡¨æ˜è®¿é—®æƒé™</span></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123; &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">SubclassD</span> : <span class="title">SubclassableParentClass</span> </span>&#123;</div><div class="line">    <span class="comment">// æ­£ç¡®çš„å†™æ³•ï¼Œæ–¹æ³•ä¹Ÿéœ€è¦æ ‡è®°ä¸ºopen</span></div><div class="line">    <span class="keyword">open</span> <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123; &#125;    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">SubclassE</span> : <span class="title">SubclassableParentClass</span> </span>&#123;</div><div class="line">    <span class="comment">// ä¹Ÿå¯ä»¥æ˜¾å¼çš„æŒ‡å‡ºè¿™ä¸ªæ–¹æ³•ä¸èƒ½åœ¨è¢«override</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> &#123; &#125;    </div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> AccessControl </tag>
            
            <tag> open </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-AccessControl-private/filePrivateè®¿é—®æ§åˆ¶-ç§æœ‰</title>
      <link href="/2017/12/11/Swift/Grammar/AccessControl-private:filePrivate/"/>
      <content type="html"><![CDATA[<h1 id="private"><a href="#private" class="headerlink" title="private"></a>private</h1><blockquote><p>åœ¨åŸæœ‰çš„swiftä¸­çš„private å¹¶éçœŸæ­£çš„ç§æœ‰<br>ä¸€ä¸ªå˜é‡å®šä¹‰ä¸ºprivateï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­çš„å…¶ä»–ç±»ä¾ç„¶æ˜¯å¯ä»¥è®¿é—®åˆ°çš„<br>åœ¨ä½¿ç”¨extensionçš„æ—¶å€™å¾ˆæ˜æ˜¾</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">var</span> name = <span class="string">"private"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">User</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> accessPrivate: <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">return</span> name</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¸¦æ¥äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p></blockquote><ul><li>æ ‡è®°ä¸ºprivateæ—¶ï¼Œæ„ä¸ºçœŸçš„ç§æœ‰è¿˜æ˜¯æ–‡ä»¶å†…å¯å…±äº«</li><li>å¦‚æœæ„å›¾ä¸ºçœŸæ­£çš„ç§æœ‰æ—¶ï¼Œå¿…é¡»ä¿è¯è¿™ä¸ªç±»æˆ–è€…ç»“æ„ä½“åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶é‡Œã€‚å¦åˆ™å¯èƒ½åŒæ–‡ä»¶é‡Œå…¶ä»–çš„ä»£ç è®¿é—®åˆ°</li></ul><h1 id="fileprivate"><a href="#fileprivate" class="headerlink" title="fileprivate"></a>fileprivate</h1><blockquote><p>åœ¨swift 3ä¸­ï¼Œæ–°å¢åŠ  fileprivate æ¥æ˜¾å¼çš„è¡¨æ˜ï¼Œè¿™ä¸ªå…ƒç´ çš„è®¿é—®æƒé™ä¸º <strong>æ–‡ä»¶å†…ç§æœ‰</strong></p></blockquote><ul><li>è¿‡å»çš„privateå¯¹åº”ç°åœ¨çš„fileprivate</li><li>ç°åœ¨çš„privateåˆ™æ˜¯çœŸæ­£çš„ç§æœ‰ï¼Œç¦»å¼€äº†è¿™ä¸ª<strong>ç±»</strong>æˆ–è€…<strong>ç»“æ„ä½“</strong>çš„ä½œç”¨åŸŸå¤–é¢å°±æ— æ³•è®¿é—®</li></ul>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> AccessControl </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> AccessControl </tag>
            
            <tag> fileprivate </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-RequiredInitå¿…è¦åˆå§‹åŒ–å™¨</title>
      <link href="/2017/12/11/Swift/Grammar/RequiredInit%E5%BF%85%E8%A6%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%99%A8/"/>
      <content type="html"><![CDATA[<h1 id="å¿…è¦åˆå§‹åŒ–å™¨"><a href="#å¿…è¦åˆå§‹åŒ–å™¨" class="headerlink" title="å¿…è¦åˆå§‹åŒ–å™¨"></a>å¿…è¦åˆå§‹åŒ–å™¨</h1><blockquote><p>é‡å†™ç±»çš„æ—¶å€™ç»å¸¸æç¤ºè¦æ·»åŠ ä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</div><div class="line">       <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</div><div class="line">   &#125;</div></pre></td></tr></table></figure><blockquote><p>å¿…è¦åˆå§‹åŒ–å™¨ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬ä¼šå‡ºç°åœ¨ç»§æ‰¿äº†éµå®ˆNSCoding protocolçš„ç±»ï¼Œæ¯”å¦‚UIViewç³»åˆ—çš„ç±»ã€UIViewControllerç³»åˆ—çš„ç±»</p></blockquote><h2 id="ä¸ºä»€ä¹ˆä¸€å®šè¦æ·»åŠ "><a href="#ä¸ºä»€ä¹ˆä¸€å®šè¦æ·»åŠ " class="headerlink" title="ä¸ºä»€ä¹ˆä¸€å®šè¦æ·»åŠ "></a>ä¸ºä»€ä¹ˆä¸€å®šè¦æ·»åŠ </h2><blockquote><p>è¿™æ˜¯NSCoding protocolå®šä¹‰çš„ï¼Œéµå®ˆäº†NSCoding protoaolçš„æ‰€æœ‰ç±»å¿…é¡»ç»§æ‰¿<br>åªæ˜¯æœ‰çš„æƒ…å†µä¼šéšå¼ç»§æ‰¿ï¼Œè€Œæœ‰çš„æƒ…å†µä¸‹éœ€è¦æ˜¾ç¤ºå®ç°</p></blockquote><h2 id="ä»€ä¹ˆæƒ…å†µä¸‹è¦æ˜¾ç¤ºæ·»åŠ ï¼š"><a href="#ä»€ä¹ˆæƒ…å†µä¸‹è¦æ˜¾ç¤ºæ·»åŠ ï¼š" class="headerlink" title="ä»€ä¹ˆæƒ…å†µä¸‹è¦æ˜¾ç¤ºæ·»åŠ ï¼š"></a>ä»€ä¹ˆæƒ…å†µä¸‹è¦æ˜¾ç¤ºæ·»åŠ ï¼š</h2><blockquote><p>å½“æˆ‘ä»¬åœ¨å­ç±»å®šä¹‰äº†æŒ‡å®šåˆå§‹åŒ–å™¨(åŒ…æ‹¬è‡ªå®šä¹‰å’Œé‡å†™çˆ¶ç±»æŒ‡å®šåˆå§‹åŒ–å™¨)ï¼Œé‚£ä¹ˆå¿…é¡»æ˜¾ç¤ºå®ç°required init?(coder aDecoder: NSCoder)ï¼Œè€Œå…¶ä»–æƒ…å†µä¸‹åˆ™ä¼šéšå¼ç»§æ‰¿ï¼Œå¯ä¸ç”¨ç†ä¼šã€‚</p></blockquote><h2 id="ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè°ƒç”¨ï¼š"><a href="#ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè°ƒç”¨ï¼š" class="headerlink" title="ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè°ƒç”¨ï¼š"></a>ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè°ƒç”¨ï¼š</h2><blockquote><p>å½“ä½¿ç”¨storyboardå®ç°ç•Œé¢çš„æ—¶å€™ï¼Œç¨‹åºä¼šè°ƒç”¨è¿™ä¸ªåˆå§‹åŒ–å™¨ã€‚<br>æ³¨æ„è¦å»æ‰fatalErrorï¼ŒfatalErrorçš„æ„æ€æ˜¯æ— æ¡ä»¶åœæ­¢æ‰§è¡Œå¹¶æ‰“å°ã€‚<br>åœ¨obj-cä¸­å¯ä»¥é€šè¿‡ä¸‹é¢ä»£ç å®ç°</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSException</span> *exception = [<span class="built_in">NSException</span> exceptionWithName:<span class="string">@"HotTeaException"</span> </div><div class="line">                                                 reason:<span class="string">@"The tea is too hot"</span> </div><div class="line">                                               userInfo:<span class="literal">nil</span>];</div><div class="line"> <span class="keyword">@throw</span> exception;</div></pre></td></tr></table></figure><h1 id="ä¸¾ä¾‹åˆ†æ"><a href="#ä¸¾ä¾‹åˆ†æ" class="headerlink" title="ä¸¾ä¾‹åˆ†æ"></a>ä¸¾ä¾‹åˆ†æ</h1><h2 id="æ™®é€šå­ç±»"><a href="#æ™®é€šå­ç±»" class="headerlink" title="æ™®é€šå­ç±»"></a>æ™®é€šå­ç±»</h2><blockquote><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€è¯´åˆ°requiredä¿®é¥°ç¬¦ï¼Œæœ€å…ˆæƒ³åˆ°çš„åº”è¯¥å°±æ˜¯æ™®é€šç±»ï¼ˆclassï¼‰çš„init()æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> str:<span class="type">String</span></div><div class="line">    <span class="keyword">init</span>(str:<span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.str = str</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å®šä¹‰ä¸€ä¸ªMyClassçš„å­ç±»ï¼ˆsubclassï¼‰å¹¶å®ä¾‹åŒ–è¿™ä¸ªå­ç±»"><a href="#å®šä¹‰ä¸€ä¸ªMyClassçš„å­ç±»ï¼ˆsubclassï¼‰å¹¶å®ä¾‹åŒ–è¿™ä¸ªå­ç±»" class="headerlink" title="å®šä¹‰ä¸€ä¸ªMyClassçš„å­ç±»ï¼ˆsubclassï¼‰å¹¶å®ä¾‹åŒ–è¿™ä¸ªå­ç±»"></a>å®šä¹‰ä¸€ä¸ªMyClassçš„å­ç±»ï¼ˆsubclassï¼‰å¹¶å®ä¾‹åŒ–è¿™ä¸ªå­ç±»</h2><blockquote><p>åœ¨å®ä¾‹åŒ–MySubClassæ—¶ï¼Œå…¶å®æ˜¯ç»§æ‰¿äº†å®ƒçˆ¶ç±»MyClassçš„init()æ–¹æ³•<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubClass</span>:<span class="title">MyClass</span> </span>&#123;</div><div class="line"> &#125;</div><div class="line"><span class="keyword">var</span> <span class="type">MySubClass</span>(str:<span class="string">"Hello Swift"</span>)</div></pre></td></tr></table></figure></p></blockquote><h2 id="å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•"><a href="#å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•"></a>å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•</h2><blockquote><p>å­ç±»ä¸­æ·»åŠ ä¸€ä¸ªinit()æ–¹æ³•<br>åœ¨init()æ–¹æ³•å‰åŠ ä¸Šoverrideä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºMySubClassé‡å†™äº†å…¶çˆ¶ç±»çš„init()æ–¹æ³•ï¼Œç„¶åè¿˜è¦è°ƒç”¨çˆ¶ç±»çš„init()æ–¹æ³•ï¼Œå¹¶å°†å‚æ•°ä¸€å¹¶ä¼ ç»™çˆ¶ç±»çš„æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubClass</span>:<span class="title">MyClass</span> </span>&#123;</div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(str:<span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(str:str)</div><div class="line">    &#125;   </div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> <span class="type">MySubClass</span>(str:<span class="string">"Hello Swift"</span></div></pre></td></tr></table></figure><blockquote><p>å½“å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•å‚æ•°ç±»å‹ä¸çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•å‚æ•°ç±»å‹ä¸åŒæ—¶ï¼Œæˆ‘ä»¬å°±ä¸å¿…åœ¨å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•å‰åŠ overrideä¿®é¥°ç¬¦äº†ï¼Œä½†æ˜¯è¦æŠŠå­ç±»åˆå§‹åŒ–æ–¹æ³•çš„å‚æ•°ç±»å‹è½¬æ¢ä¸ºç¬¦åˆçˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œç„¶åä¼ ç»™çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> lass <span class="type">MyClass</span> &#123;</div><div class="line">    <span class="keyword">var</span> str:<span class="type">String</span></div><div class="line">    <span class="keyword">init</span>(str:<span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.str = str</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubClass</span>:<span class="title">MyClass</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">init</span>(i:<span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(str:<span class="type">String</span>(i))</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="type">MySubClass</span>(i: <span class="number">10</span>)</div></pre></td></tr></table></figure><h2 id="ç»™çˆ¶ç±»çš„init-æ–¹æ³•åŠ ä¸Šrequiredä¿®é¥°ç¬¦"><a href="#ç»™çˆ¶ç±»çš„init-æ–¹æ³•åŠ ä¸Šrequiredä¿®é¥°ç¬¦" class="headerlink" title="ç»™çˆ¶ç±»çš„init()æ–¹æ³•åŠ ä¸Šrequiredä¿®é¥°ç¬¦"></a>ç»™çˆ¶ç±»çš„init()æ–¹æ³•åŠ ä¸Šrequiredä¿®é¥°ç¬¦</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> str:<span class="type">String</span></div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(str:<span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.str = str</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubClass</span>:<span class="title">MyClass</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">init</span>(i:<span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(str:<span class="type">String</span>(i))</div><div class="line">    &#125;</div><div class="line">     <span class="comment">// ç¼–è¯‘é”™è¯¯</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="type">MySubClass</span>(i: <span class="number">10</span>)</div></pre></td></tr></table></figure><blockquote><p>å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å®ç°çˆ¶ç±»ä¸­è¦å»å¿…é¡»è¦å®ç°çš„æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> str:<span class="type">String</span></div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(str:<span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.str = str</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubClass</span>:<span class="title">MyClass</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(str:<span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(str: str)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">init</span>(i:<span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(str:<span class="type">String</span>(i))</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="type">MySubClass</span>(i: <span class="number">10</span>)</div></pre></td></tr></table></figure><blockquote><p>å­ç±»éœ€è¦æ·»åŠ å¼‚äºçˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼Œå¿…é¡»å…ˆè¦å®ç°çˆ¶ç±»ä¸­ä½¿ç”¨requiredä¿®é¥°ç¬¦ä¿®é¥°è¿‡çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¹¶ä¸”ä¹Ÿè¦ä½¿ç”¨requiredä¿®é¥°ç¬¦è€Œä¸æ˜¯override<br>å¦‚æœå­ç±»ä¸­ä¸éœ€è¦æ·»åŠ ä»»ä½•åˆå§‹åŒ–æ–¹æ³•ï¼Œæˆ‘ä»¬åˆ™å¯ä»¥å¿½ç•¥çˆ¶ç±»çš„requiredåˆå§‹åŒ–æ–¹æ³•ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> str:<span class="type">String</span></div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(str:<span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.str = str</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySubClass</span>:<span class="title">MyClass</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">//ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºå¦‚æœå­ç±»æ²¡æœ‰ä»»ä½•åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼ŒSwiftä¼šé»˜è®¤ä½¿ç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•You do not have to provide an explicit implementation of a required initializer if you can satisfy the requirement with an inherited initialiser.</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="type">MySubClass</span>(str: <span class="string">"hello swift"</span>)</div></pre></td></tr></table></figure><h1 id="requiredä¿®é¥°ç¬¦çš„ä½¿ç”¨è§„åˆ™"><a href="#requiredä¿®é¥°ç¬¦çš„ä½¿ç”¨è§„åˆ™" class="headerlink" title="requiredä¿®é¥°ç¬¦çš„ä½¿ç”¨è§„åˆ™"></a>requiredä¿®é¥°ç¬¦çš„ä½¿ç”¨è§„åˆ™</h1><ul><li>requiredä¿®é¥°ç¬¦åªèƒ½ç”¨äºä¿®é¥°ç±»åˆå§‹åŒ–æ–¹æ³•</li><li>å½“å­ç±»å«æœ‰å¼‚äºçˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼ˆåˆå§‹åŒ–æ–¹æ³•å‚æ•°ç±»å‹å’Œæ•°é‡å¼‚äºçˆ¶ç±»ï¼‰ï¼Œå­ç±»å¿…é¡»è¦å®ç°çˆ¶ç±»çš„requiredåˆå§‹åŒ–æ–¹æ³•ï¼Œå¹¶ä¸”ä¹Ÿè¦ä½¿ç”¨requiredä¿®é¥°ç¬¦è€Œä¸æ˜¯override</li><li>å½“å­ç±»æ²¡æœ‰åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼Œå¯ä»¥ä¸ç”¨å®ç°çˆ¶ç±»çš„requiredåˆå§‹åŒ–æ–¹æ³•</li></ul><h1 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h1><blockquote><p>å¦‚æœä»£ç å®ç°ç•Œé¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦æ ¹æ®ç¼–è¯‘å™¨æç¤ºæ·»åŠ å¿…è¦åˆå§‹åŒ–å™¨åï¼Œå°±ä¸ç”¨ç†ä¼šï¼Œæˆ‘ä»¬åˆ›å»ºç•Œé¢çš„å·¥ä½œå¯ä»¥åœ¨è‡ªå®šä¹‰çš„åˆå§‹åŒ–å™¨é‡Œå®ç°ã€‚</p><p>è¡¥å……ï¼šlet vc = UIViewController()æ–¹å¼åˆå§‹åŒ–ç±»<br>UIViewControllerç±»è§†ä¹åªæœ‰ä¸¤ä¸ªåˆå§‹åŒ–å™¨ï¼Œä¸€ä¸ªæ˜¯å¿…è¦åˆå§‹åŒ–å™¨init?(coder aDecoder: NSCoder)ï¼Œä¸€ä¸ªæ˜¯æŒ‡å®šåˆå§‹åŒ–å™¨init(nibName nibNameOrNil: String?, bundle nibBundleOrNil: NSBundle?)ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨let vc = UIViewController()è¿™ç§æ–¹å¼åˆå§‹åŒ–ç±»å‘¢ï¼ŸåŸå› å¯èƒ½æ˜¯è¿™ä¸ªåˆå§‹åŒ–æ–¹å¼æ˜¯æ¥è‡ªuikit,ä¹Ÿå°±æ˜¯è°ƒç”¨äº†Object-cä¸‹çš„UIViewControlleråˆå§‹åŒ–æ–¹æ³•ï¼Œæ˜¯object-c bridgeè¿‡æ¥çš„</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> RequiredInit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> RequiredInit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-4.0æ›´æ–°</title>
      <link href="/2017/12/11/Swift/Grammar/4-0%E6%9B%B4%E6%96%B0/"/>
      <content type="html"><![CDATA[<h1 id="ç”¨ç³»ç»Ÿæ–¹æ³•setValuesForKeys-èµ‹å€¼é—®é¢˜-swift4"><a href="#ç”¨ç³»ç»Ÿæ–¹æ³•setValuesForKeys-èµ‹å€¼é—®é¢˜-swift4" class="headerlink" title="ç”¨ç³»ç»Ÿæ–¹æ³•setValuesForKeys()èµ‹å€¼é—®é¢˜ (swift4)"></a>ç”¨ç³»ç»Ÿæ–¹æ³•setValuesForKeys()èµ‹å€¼é—®é¢˜ (swift4)</h1><blockquote><p>åœ¨swift3ä¸­ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­@objcï¼Œæ¢å¥è¯è¯´ï¼Œå®ƒè‡ªåŠ¨æ·»åŠ @objc<br>åœ¨swift4ä¸­ï¼Œç¼–è¯‘å™¨ä¸å†è‡ªåŠ¨æ¨æ–­ï¼Œä½ å¿…é¡»æ˜¾å¼æ·»åŠ @objc</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="meta">@objc</span> <span class="keyword">var</span> content = <span class="string">""</span></div><div class="line">swift <span class="number">4.0</span> ç‰ˆæœ¬è¦åœ¨å‰é¢åŠ <span class="meta">@objc</span></div></pre></td></tr></table></figure><blockquote><p>è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œä¸å¿…ä¸€ä¸ªä¸€ä¸ªå±æ€§çš„æ·»åŠ ,ä¸‹é¢è¿™ç§å†™æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="meta">@objc</span>Members</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="setValuesForKeys-å¥”æºƒ-swift4"><a href="#setValuesForKeys-å¥”æºƒ-swift4" class="headerlink" title="setValuesForKeys()å¥”æºƒ(swift4)"></a>setValuesForKeys()å¥”æºƒ(swift4)</h1><blockquote><p>@objcè§£å†³äº†å•ä¸ªå±æ€§çš„é—®é¢˜ï¼Œä¸€ä¸ªå±æ€§çš„å€¼æ˜¯æ•°ç»„å­—å…¸ï¼Œç”¨setValuesForKeys()  ç¨‹åºå¥”æºƒï¼Œxcode9.0.1æç¤ºå¦‚ä¸‹ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">[__NSCFConstantString <span class="built_in">count</span>]: unrecognized selector sent to instance <span class="number">0x102cb3290</span></div></pre></td></tr></table></figure><blockquote><p>é€ æˆå´©æºƒæ˜¯å› ä¸ºè¯¥å­—æ®µå¦‚æœä¸ºç©º ç”¨äº†ç©ºä¸²æ¥å ä½ï¼Œé€ æˆæ•°æ®ç±»å‹ä¸ä¸€è‡´è€Œå´©æºƒã€‚è¿™ä¸ªåœ¨swift3ä¸­æ²¡æœ‰é—®é¢˜ </p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> Swift4.0 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> Swift4.0 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Guard-å…³é”®å­—/å®ˆæŠ¤</title>
      <link href="/2017/12/11/Swift/Grammar/%E5%85%B3%E9%94%AE%E5%AD%97-Guard-%E5%AE%88%E6%8A%A4/"/>
      <content type="html"><![CDATA[<h1 id="guardè¯­å¥"><a href="#guardè¯­å¥" class="headerlink" title="guardè¯­å¥"></a>guardè¯­å¥</h1><blockquote><p>guardè¯­å¥åˆ¤æ–­å…¶åçš„è¡¨è¾¾å¼å¸ƒå°”å€¼ä¸ºfalseæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œä¹‹åä»£ç å—é‡Œçš„ä»£ç ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™è·³è¿‡æ•´ä¸ªguardè¯­å¥<br>guardè¯­å¥åªä¼šæœ‰ä¸€ä¸ªä»£ç å—ï¼Œifè¯­å¥å¯ä»¥if elseå¤šä¸ªä»£ç å—<br>ç±»ä¼¼  OCé‡Œçš„Continue</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">checkup</span><span class="params">(person: [String: String!])</span></span> &#123;</div><div class="line">   </div><div class="line">    <span class="comment">// æ£€æŸ¥èº«ä»½è¯ï¼Œå¦‚æœèº«ä»½è¯æ²¡å¸¦ï¼Œåˆ™ä¸èƒ½è¿›å…¥è€ƒåœº</span></div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> id = person[<span class="string">"id"</span>] <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"æ²¡æœ‰èº«ä»½è¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!"</span>)</div><div class="line">        <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    <span class="comment">// æ£€æŸ¥å‡†è€ƒè¯ï¼Œå¦‚æœå‡†è€ƒè¯æ²¡å¸¦ï¼Œåˆ™ä¸èƒ½è¿›å…¥è€ƒåœº</span></div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> examNumber = person[<span class="string">"examNumber"</span>] <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"æ²¡æœ‰å‡†è€ƒè¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!"</span>)</div><div class="line">        <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    <span class="comment">// èº«ä»½è¯å’Œå‡†è€ƒè¯é½å…¨ï¼Œæ–¹å¯è¿›å…¥è€ƒåœº</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"æ‚¨çš„èº«ä»½è¯å·ä¸º:\(id)ï¼Œå‡†è€ƒè¯å·ä¸º:\(examNumber)ã€‚è¯·è¿›å…¥è€ƒåœº!"</span>)</div><div class="line">     </div><div class="line">&#125;</div><div class="line"> </div><div class="line">checkup([<span class="string">"id"</span>: <span class="string">"123456"</span>]) <span class="comment">// æ²¡æœ‰å‡†è€ƒè¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!</span></div><div class="line">checkup([<span class="string">"examNumber"</span>: <span class="string">"654321"</span>]) <span class="comment">// æ²¡æœ‰èº«ä»½è¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!</span></div><div class="line">checkup([<span class="string">"id"</span>: <span class="string">"123456"</span>, <span class="string">"examNumber"</span>: <span class="string">"654321"</span>]) <span class="comment">// æ‚¨çš„èº«ä»½è¯å·ä¸º:123456ï¼Œå‡†è€ƒè¯å·ä¸º:654321ã€‚è¯·è¿›å…¥è€ƒåœº!</span></div></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªguardè¯­å¥ç”¨äºæ£€æŸ¥èº«ä»½è¯ï¼Œå¦‚æœæ£€æŸ¥åˆ°èº«ä»½è¯æ²¡å¸¦ï¼Œä¹Ÿå°±æ˜¯è¡¨è¾¾å¼ä¸ºfalseæ—¶ï¼Œæ‰§è¡Œå¤§æ‹¬å·é‡Œçš„ä»£ç ï¼Œå¹¶è¿”å›ã€‚ç¬¬äºŒä¸ªguardè¯­å¥åˆ™æ£€æŸ¥å‡†è€ƒè¯ã€‚<br>å¦‚æœä¸¤è¯é½å…¨ï¼Œåˆ™æ‰§è¡Œæœ€åä¸€ä¸ªæ‰“å°è¯­å¥ï¼Œä¸Šé¢çš„ä¸¤ä¸ªguardè¯­å¥å¤§æ‹¬å·å†…çš„ä»£ç éƒ½ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºä»–ä»¬è¡¨è¾¾å¼çš„å¸ƒå°”å€¼éƒ½æ˜¯trueã€‚<br>è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œidå’ŒexamNumberå¯ä»¥åœ¨guardè¯­å¥ä¹‹å¤–ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´å½“guardå¯¹å…¶è¡¨è¾¾å¼è¿›è¡ŒéªŒè¯åï¼Œidå’ŒexamNumberå¯åœ¨æ•´ä¸ªæ–¹æ³•çš„ä½œç”¨åŸŸä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”æ˜¯è§£åŒ…åçš„</p></blockquote><h1 id="if-elseè¯­å¥"><a href="#if-elseè¯­å¥" class="headerlink" title="if elseè¯­å¥"></a>if elseè¯­å¥</h1><blockquote><p>ç”¨if elseå®ç°çš„æ–¹æ³•æ˜¾ç„¶ä¸å¦‚guardå®ç°çš„é‚£ä¹ˆç²¾å‡†ã€‚è€Œä¸”idå’ŒexamNumberçš„ä½œç”¨åŸŸåªé™åœ¨ifçš„ç¬¬ä¸€ä¸ªå¤§æ‹¬å·å†…ï¼Œè¶…å‡ºè¿™ä¸ªä½œç”¨åŸŸç¼–è¯‘å°±ä¼šæŠ¥é”™</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> func checkupUseIf(person: [String: String!]) &#123;</div><div class="line">     </div><div class="line">    <span class="keyword">if</span> let <span class="keyword">id</span> = person[<span class="string">"id"</span>], let examNumber = person[<span class="string">"examNumber"</span>] &#123;</div><div class="line">        print(<span class="string">"æ‚¨çš„èº«ä»½è¯å·ä¸º:\(id)ï¼Œå‡†è€ƒè¯å·ä¸º:\(examNumber)ã€‚è¯·è¿›å…¥è€ƒåœºï¼"</span>)</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        print(<span class="string">"è¯ä»¶ä¸é½å…¨ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!"</span>)</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    print(<span class="string">"æ‚¨çš„èº«ä»½è¯å·ä¸º:\(id)ï¼Œå‡†è€ƒè¯å·ä¸º:\(examNumber)"</span>)  <span class="comment">// æŠ¥å¼‚å¸¸</span></div><div class="line">     </div><div class="line">&#125;</div><div class="line"> </div><div class="line">checkupUseIf([<span class="string">"id"</span>: <span class="string">"123456"</span>]) <span class="comment">// è¯ä»¶ä¸é½å…¨ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!</span></div><div class="line">checkupUseIf([<span class="string">"examNumber"</span>: <span class="string">"654321"</span>]) <span class="comment">// è¯ä»¶ä¸é½å…¨ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!</span></div><div class="line">checkupUseIf([<span class="string">"id"</span>: <span class="string">"123456"</span>, <span class="string">"examNumber"</span>: <span class="string">"654321"</span>]) <span class="comment">// æ‚¨çš„èº«ä»½è¯å·ä¸º:123456ï¼Œå‡†è€ƒè¯å·ä¸º:654321ã€‚è¯·è¿›å…¥è€ƒåœº!</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> Guard </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> Guard </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Inheritance-ç±»ç»§æ‰¿</title>
      <link href="/2017/12/10/Swift/Grammar/Inheritance-%E7%B1%BB%E7%BB%A7%E6%89%BF/"/>
      <content type="html"><![CDATA[<h1 id="Inheritance-ç±»ç»§æ‰¿-ç®€ä»‹"><a href="#Inheritance-ç±»ç»§æ‰¿-ç®€ä»‹" class="headerlink" title="Inheritance-ç±»ç»§æ‰¿-ç®€ä»‹"></a>Inheritance-ç±»ç»§æ‰¿-ç®€ä»‹</h1><blockquote><p>ç»§æ‰¿æ€§æ˜¯é¢å‘è¯­è¨€ç‰¹å¾ä¹‹ä¸€<br>swiftçš„ç±»ç»§æ‰¿åªèƒ½å‘ç”Ÿç”Ÿåœ¨ç±»ä¸Šï¼Œä¸èƒ½å‘ç”Ÿåœ¨æšä¸¾å’Œç»“æ„ä½“ä¸Š<br>swiftä¸­ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„æ–¹æ³•ã€å±æ€§ã€ä¸‹æ ‡ç­‰ç‰¹å¾<br>å­ç±»   çˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰<br>å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œå¯é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€å±æ€§ã€ä¸‹æ ‡ç­‰<br>å•ç»§æ‰¿ï¼Œä½†å¯éµä»å¤šä¸ªåè®®ï¼Œå¤šé‡ç»§æ‰¿å¯ä»¥é€šè¿‡éµä»å¤šä¸ªåè®®å®ç°</p></blockquote><h1 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h1><blockquote><p>åœºæ™¯ï¼šé¢å‘å¯¹è±¡çš„ç¨‹åºå‘˜å²³å…‹å¥ï¼Œåœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­éœ€è¦æè¿°å’Œå¤„ç†ä¸ªäººä¿¡æ¯<br>å®šä¹‰ç±»Person</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</div><div class="line">    <span class="keyword">var</span>  name:<span class="type">String</span></div><div class="line">    <span class="keyword">var</span> age :<span class="type">Int</span></div><div class="line">   </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">desription</span><span class="params">()</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"\(name)å¹´é¾„æ˜¯ï¼š\(age)å²"</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        name = <span class="string">""</span></div><div class="line">        age = <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åœºæ™¯ï¼š1å¤©åå²³å…‹å¥é‡åˆ°æ–°éœ€æ±‚ï¼Œéœ€æè¿°å’Œå¤„ç†å­¦ç”Ÿçš„ä¿¡æ¯ï¼Œäºæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±»Student</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</div><div class="line">    <span class="keyword">var</span>  name:<span class="type">String</span></div><div class="line">    <span class="keyword">var</span> age :<span class="type">Int</span></div><div class="line">    </div><div class="line">    <span class="keyword">var</span> school: <span class="type">String</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">desription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">"\(name)å¹´é¾„æ˜¯ï¼š\(age)å²"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        name = <span class="string">""</span></div><div class="line">        age = <span class="number">1</span></div><div class="line">        school = <span class="string">""</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç»§æ‰¿æ–¹å¼å†™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Student</span>:<span class="title">Person</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> school: <span class="type">String</span>  <span class="comment">//å­ç±»æ–°å¢</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span>() &#123; <span class="comment">//é‡å†™çˆ¶ç±» æ„é€ å‡½æ•°</span></div><div class="line">        school = <span class="string">""</span>  <span class="comment">// æ³¨æ„ school å’Œ  super.init() é¡ºåº</span></div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</div><div class="line">        name = <span class="string">""</span></div><div class="line">       age = <span class="number">6</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="æ„é€ å‡½æ•°çš„è°ƒç”¨è§„åˆ™"><a href="#æ„é€ å‡½æ•°çš„è°ƒç”¨è§„åˆ™" class="headerlink" title="æ„é€ å‡½æ•°çš„è°ƒç”¨è§„åˆ™"></a>æ„é€ å‡½æ•°çš„è°ƒç”¨è§„åˆ™</h1><h2 id="ä¿®æ”¹ä¸Šé¢æ¡ˆä¾‹"><a href="#ä¿®æ”¹ä¸Šé¢æ¡ˆä¾‹" class="headerlink" title="ä¿®æ”¹ä¸Šé¢æ¡ˆä¾‹"></a>ä¿®æ”¹ä¸Šé¢æ¡ˆä¾‹</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//Person</span></div><div class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</div><div class="line">       <span class="keyword">var</span>  name:<span class="type">String</span></div><div class="line">       <span class="keyword">var</span> age :<span class="type">Int</span></div><div class="line">       </div><div class="line">       <span class="function"><span class="keyword">func</span> <span class="title">desription</span><span class="params">()</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">           <span class="keyword">return</span> <span class="string">"\(name)å¹´é¾„æ˜¯ï¼š\(age)å²"</span></div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="keyword">convenience</span> <span class="keyword">init</span> () &#123;       <span class="comment">//  â‘  ä¾¿åˆ©æ„é€ å‡½æ•°</span></div><div class="line">           <span class="keyword">self</span>.<span class="keyword">init</span> (name: <span class="string">"å²³å…‹å¥"</span>)</div><div class="line">           <span class="keyword">self</span>.age = <span class="number">99</span></div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="keyword">convenience</span> <span class="keyword">init</span> (name: <span class="type">String</span>) &#123; <span class="comment">// â‘¡ ä¾¿åˆ©æ„é€ å‡½æ•°</span></div><div class="line">           <span class="keyword">self</span>.<span class="keyword">init</span>(name:name,age:<span class="number">18</span>)</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="keyword">init</span>(name: <span class="type">String</span>,age: <span class="type">Int</span>) &#123;  <span class="comment">// â‘¢ æŒ‡å®šæ„é€ å‡½æ•°</span></div><div class="line">           <span class="keyword">self</span>.name = name</div><div class="line">           <span class="keyword">self</span>.age = age</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">   &#125;</div><div class="line">   </div><div class="line">   </div><div class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Student</span>:<span class="title">Person</span></span>&#123;</div><div class="line">       <span class="keyword">var</span> school: <span class="type">String</span></div><div class="line">       <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>,school: <span class="type">String</span> ) &#123; <span class="comment">// â‘£ æŒ‡å®šæ„é€ å‡½æ•°</span></div><div class="line">          <span class="keyword">self</span>.school = school</div><div class="line">           <span class="keyword">super</span>.<span class="keyword">init</span>(name: name, age: age)</div><div class="line">          </div><div class="line">       &#125;</div><div class="line">       <span class="keyword">convenience</span> <span class="keyword">override</span> <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>) &#123; <span class="comment">// â‘¤ ä¾¿åˆ©æ„é€ å‡½æ•°</span></div><div class="line">           <span class="keyword">self</span>.<span class="keyword">init</span> (name: name, age: age, school: <span class="string">"è®¸æ˜Œå­¦é™¢"</span>)</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">   &#125;</div><div class="line">   </div><div class="line">   <span class="keyword">let</span> oneStudent = <span class="type">Student</span>()</div><div class="line">   <span class="built_in">print</span>(<span class="string">"å­¦ç”Ÿï¼š \(oneStudent.desription())"</span>)<span class="comment">//å­¦ç”Ÿï¼š å²³å…‹å¥å¹´é¾„æ˜¯ï¼š99å²</span></div></pre></td></tr></table></figure><h2 id="æ„é€ å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å½¢æˆæ„é€ å‡½æ•°é“¾"><a href="#æ„é€ å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å½¢æˆæ„é€ å‡½æ•°é“¾" class="headerlink" title="æ„é€ å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å½¢æˆæ„é€ å‡½æ•°é“¾"></a>æ„é€ å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å½¢æˆæ„é€ å‡½æ•°é“¾</h2><blockquote><p>swifté™åˆ¶æ„é€ å‡½æ•°ä¹‹é—´ä»£ç†è°ƒç”¨è§„åˆ™3æ¡ï¼š</p><p>1.æŒ‡å®šæ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨å…¶ç›´æ¥çˆ¶ç±»çš„æŒ‡å®šæ„é€ å‡½æ•°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Studentä¸­çš„ â‘£ æŒ‡å®šå‡½æ•°è°ƒç”¨Personä¸­â‘¢ æŒ‡å®šæ„é€ å‡½æ•°</div></pre></td></tr></table></figure><blockquote><p>2.ä¾¿åˆ©æ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨åŒä¸€ç±»ä¸­å®šä¹‰çš„å…¶ä»–æ„é€ å‡½æ•°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Student ä¸­çš„ â‘¤ ä¾¿åˆ©æ„é€ å‡½æ•° è°ƒç”¨ åŒä¸€ç±»ä¸­  â‘£å·æ„é€ å‡½æ•°ï¼Œ</div><div class="line">Personä¸­çš„  â‘  ä¾¿åˆ©æ„é€ å‡½æ•°è°ƒç”¨åŒä¸€ç±»ä¸­çš„  â‘¡ ä¾¿åˆ©æ„é€ å‡½æ•°ï¼Œ</div><div class="line">Personä¸­çš„ â‘¡ ä¾¿åˆ©æ„é€ å‡½æ•° è°ƒç”¨åŒä¸€ç±»ä¸­çš„ â‘¢ æŒ‡å®šæ„é€ å‡½æ•°</div></pre></td></tr></table></figure><blockquote><p>3.ä¾¿åˆ©æ„é€ å‡½æ•°å¿…é¡»æœ€ç»ˆä»¥è°ƒç”¨ä¸€ä¸ªæŒ‡å®šæ„é€ å‡½æ•°ç»“æŸ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Student ä¸­çš„ â‘¤ ä¾¿åˆ©æ„é€ å‡½æ•° è°ƒç”¨ åŒä¸€ç±»ä¸­  â‘£å·æ„é€ å‡½æ•°ï¼Œ</div><div class="line"> Personä¸­çš„ â‘¡ ä¾¿åˆ©æ„é€ å‡½æ•° è°ƒç”¨åŒä¸€ç±»ä¸­çš„ â‘¢ æŒ‡å®šæ„é€ å‡½æ•°</div></pre></td></tr></table></figure><h1 id="æ„é€ è¿‡ç¨‹å®‰å…¨æ£€æŸ¥"><a href="#æ„é€ è¿‡ç¨‹å®‰å…¨æ£€æŸ¥" class="headerlink" title="æ„é€ è¿‡ç¨‹å®‰å…¨æ£€æŸ¥"></a>æ„é€ è¿‡ç¨‹å®‰å…¨æ£€æŸ¥</h1><h2 id="ç±»çš„æ„é€ çš„ä¸¤ä¸ªé˜¶æ®µ"><a href="#ç±»çš„æ„é€ çš„ä¸¤ä¸ªé˜¶æ®µ" class="headerlink" title="ç±»çš„æ„é€ çš„ä¸¤ä¸ªé˜¶æ®µ"></a>ç±»çš„æ„é€ çš„ä¸¤ä¸ªé˜¶æ®µ</h2><blockquote><p>åˆ†æå›¾ï¼šä¹¦Page 200é¡µ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">1.åˆ†é…å†…å­˜ ---&gt;åˆå§‹åŒ–å­ç±»å­˜å‚¨å±æ€§---&gt;æ²¿æ„é€ å‡½æ•°é“¾å‘ä¸Šåˆå§‹çˆ¶ç±»å­˜å‚¨å±æ€§ </div><div class="line">åˆ°è¾¾æ„é€ å‡½æ•°é“¾é¡¶éƒ¨ï¼Œå‡ºä¹¦ç”»å…¨éƒ¨çš„çˆ¶ç±»å­˜å‚¨å±æ€§</div><div class="line"></div><div class="line">2.ä¿®æ”¹å±æ€§  ---&gt; è°ƒç”¨æ–¹æ³•</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> Inheritance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> Inheritance </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Characterå­—ç¬¦</title>
      <link href="/2017/12/08/Swift/Grammar/Character%E5%AD%97%E7%AC%A6/"/>
      <content type="html"><![CDATA[<h1 id="å­—ç¬¦"><a href="#å­—ç¬¦" class="headerlink" title="å­—ç¬¦"></a>å­—ç¬¦</h1><ul><li>swift é‡‡ç”¨Unicodeç¼–ç </li><li><p>ä¸€ä¸ªå­—ç¬¦å¯ä»¥ç”¨å­—ç¬¦æœ¬èº«ï¼Œä¹Ÿå¯ä»¥ç”¨Unicodeç¼–ç </p><h2 id="Unicodeç¼–ç "><a href="#Unicodeç¼–ç " class="headerlink" title="Unicodeç¼–ç "></a>Unicodeç¼–ç </h2></li><li><p>C å’Œ OCç­‰ï¼Œå­—ç¬¦æ”¾åœ¨(â€˜)ä¹‹é—´çš„</p></li><li>Swift ï¼ˆâ€â€ï¼‰åŒå¼•å·<blockquote><p>Unicodeç¼–ç å¯ä»¥æœ‰ å•ã€åŒã€å››å­—èŠ‚ç¼–ç <br>è¡¨ç°å½¢å¼  \u{}     nä¸º1-8ä¸ª16å°½èŒæ•°</p></blockquote></li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> andSign1:<span class="type">Character</span> = <span class="string">"&amp;"</span>       <span class="comment">//ç”¨å­—ç¬¦æœ¬</span></div><div class="line"><span class="built_in">print</span>(andSign1)                    <span class="comment">// &amp;</span></div><div class="line"><span class="keyword">let</span> andSign2:<span class="type">Character</span> = <span class="string">"\u&#123;26&#125;"</span>  <span class="comment">//ç”¨Unicodeç¼–ç </span></div><div class="line"><span class="built_in">print</span>(andSign2)                    <span class="comment">// &amp;</span></div></pre></td></tr></table></figure><blockquote><p>Swiftå­—ç¬¦ç±»å‹æ˜¯Characterã€‚å£°æ˜let/var<br>å¦‚æœçœç•¥Characterç±»å‹å£°æ˜,è‡ªåŠ¨æ¨æ®µæ˜¯å­—ç¬¦ä¸²ï¼Œâ€&amp;â€é»˜è®¤æ˜¯å­—ç¬¦ä¸²ç±»å‹</p></blockquote><h2 id="è½¬ä¹‰ç¬¦"><a href="#è½¬ä¹‰ç¬¦" class="headerlink" title="è½¬ä¹‰ç¬¦"></a>è½¬ä¹‰ç¬¦</h2><table><thead><tr><th>å­—ç¬¦è¡¨ç¤º</th><th>Uicodeç¼–ç </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>\t</td><td>\u{0009}</td><td>æ°´å¹³åˆ¶è¡¨ç¬¦tab</td></tr><tr><td>\n</td><td>\u{000a}</td><td>æ¢è¡Œ</td></tr><tr><td>\r</td><td>\u{000d}</td><td>å›è½¦</td></tr><tr><td>\â€</td><td>\u{0022}</td><td>åŒå¼•å·</td></tr><tr><td>\â€™</td><td>\u{0027}</td><td>å•å¼•å·</td></tr><tr><td>\</td><td>\u{005c}</td><td>åæ–œçº¿</td></tr></tbody></table><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//è½¬ä¹‰ç¬¦</span></div><div class="line">      <span class="keyword">let</span> specialCharTab1 = <span class="string">"Yue\tKekui"</span></div><div class="line">      <span class="built_in">print</span>(<span class="string">"specialCharTab1:\(specialCharTab1)"</span>)</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> String </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Lazy-æ‡’åŠ è½½</title>
      <link href="/2017/12/08/Swift/Grammar/Lazy-%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
      <content type="html"><![CDATA[<h1 id="æƒ°æ€§åˆå§‹åŒ–"><a href="#æƒ°æ€§åˆå§‹åŒ–" class="headerlink" title="æƒ°æ€§åˆå§‹åŒ–"></a>æƒ°æ€§åˆå§‹åŒ–</h1><blockquote><p>æ‡’åŠ è½½æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª é—­åŒ…<br>æ‡’åŠ è½½ä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™æ‰§è¡Œ, é—­åŒ…æ‰§è¡Œç»“æŸå, ä¼šæŠŠç»“æœä¿å­˜åœ¨ å±æ€§ ä¸­<br>åç»­è°ƒç”¨, ç›´æ¥è¿”å› å±æ€§ çš„å†…å®¹<br>æ‡’åŠ è½½çš„å±æ€§ä¼šåˆ†é…ç©ºé—´, å­˜å‚¨å€¼<br>åªè¦è°ƒç”¨è¿‡ä¸€æ¬¡, æ‡’åŠ è½½åé¢çš„é—­åŒ…å†ä¹Ÿä¸ä¼šæ‰§è¡Œäº†<br>å»¶è¿ŸåŠ è½½, å‡å°‘å†…å­˜çš„æ¶ˆè€—,åˆå§‹åŒ–å¹¶ä¸”åˆ†é…ç©ºé—´, ä¼šæå‰åˆ›å»º<br>å¯ä»¥è§£é™¤è§£åŒ…çš„çƒ¦æ¼<br>è¢«è®¾ç½®ä¸º nil, æ‡’åŠ è½½ä¹Ÿä¸ä¼šå†æ¬¡æ‰§è¡Œ<br>æ‡’åŠ è½½çš„ä»£ç åªä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™, æ‰§è¡Œé—­åŒ…, ç„¶åå°†é—­åŒ…çš„ç»“æœä¿å­˜åœ¨ çš„å±æ€§ä¸­<br>Swiftä¸­ï¼Œæœ‰ä¸¤ç§æ–¹å¼æ¥æƒ°æ€§åˆå§‹åŒ–</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">DemoLabel</span>: <span class="title">UILabel</span> </span>&#123;</div><div class="line">    <span class="comment">//æ¨¡å‹ ---&gt; ç»™è§†å›¾è®¾ç½®æ¨¡å‹, ç”±è§†å›¾è‡ªå·±æ ¹æ®æ¨¡å‹çš„æ•°æ®æ˜¾ç¤ºå†…å®¹</span></div><div class="line">    <span class="keyword">var</span> person: <span class="type">Student</span>? &#123;</div><div class="line">        <span class="comment">// å°±æ˜¯æ›¿ä»£ OC ä¸­é‡å†™ setter æ–¹æ³• , åŒºåˆ«: å†ä¹Ÿä¸éœ€è¦è€ƒè™‘  _æˆå‘˜å˜é‡ = å€¼, OC ä¸­å¦‚æœæ˜¯ copy å±æ€§, åº”è¯¥ _æˆå‘˜å˜é‡ = [å€¼ copy]</span></div><div class="line">        <span class="keyword">didSet</span>&#123;</div><div class="line">         <span class="comment">// æ­¤æ—¶ name å±æ€§å·²ç»æœ‰å€¼, å¯ä»¥ç›´æ¥ä½¿ç”¨è®¾ç½® UI å†…å®¹</span></div><div class="line">            text = person?.name</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line">   </div><div class="line">   </div><div class="line">    <span class="keyword">var</span> label: <span class="type">DemoLabel</span>?</div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">        &#123;&#125; åŒ…è£…ä»£ç </span></div><div class="line"><span class="comment">        () æ‰§è¡Œä»£ç </span></div><div class="line"><span class="comment">        æ—¥å¸¸å¼€å‘:</span></div><div class="line"><span class="comment">        1. é—­åŒ…ä¸­çš„æ™ºèƒ½æç¤ºä¸å¥½</span></div><div class="line"><span class="comment">        2. é—­åŒ…ä¸­å¦‚æœå‡ºç° self. è¿˜éœ€è¦æ³¨æ„å¾ªç¯å¼•ç”¨</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> label2 = &#123; () -&gt; <span class="type">DemoLabel</span> <span class="keyword">in</span></div><div class="line">        <span class="keyword">let</span> l = <span class="type">DemoLabel</span>()</div><div class="line">        <span class="comment">// è®¾ç½® Label çš„å±æ€§...</span></div><div class="line">        <span class="keyword">return</span> l</div><div class="line">    &#125;()</div><div class="line">   </div><div class="line">    <span class="comment">// æ³¨æ„: ä¸€æ—¦ label è¢«è®¾ç½®ä¸º nil, æ‡’åŠ è½½ä¹Ÿä¸ä¼šå†æ¬¡æ‰§è¡Œ</span></div><div class="line">    <span class="comment">// æ‡’åŠ è½½çš„ä»£ç åªä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™, æ‰§è¡Œé—­åŒ…, ç„¶åå°†é—­åŒ…çš„ç»“æœä¿å­˜åœ¨ label çš„å±æ€§ä¸­</span></div><div class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> label3: <span class="type">UILabel</span>? = <span class="type">UILabel</span>()</div><div class="line">   </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">      </div><div class="line">        <span class="comment">// è®¾ç½® UI</span></div><div class="line">        setupUI()</div><div class="line">      </div><div class="line">        label3?.text = <span class="string">"hello"</span></div><div class="line">        label3?.sizeToFit()</div><div class="line">       </div><div class="line">        <span class="built_in">print</span>(label3 <span class="keyword">as</span> <span class="type">Any</span>)</div><div class="line">       </div><div class="line">        label3 = <span class="literal">nil</span></div><div class="line">       </div><div class="line">        <span class="built_in">print</span>(label3 <span class="keyword">as</span> <span class="type">Any</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupUI</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 1. swvfæ§ä»¶</span></div><div class="line">        label = <span class="type">DemoLabel</span>()</div><div class="line">        <span class="comment">// ! è§£åŒ…, ä¸ºäº†å‚ä¸è®¡ç®—, addSubView ç”¨ subViews æ•°ç»„è®°å½•æ§ä»¶, æ•°ç»„ä¸­ä¸å…è®¸åŠ å…¥ nil</span></div><div class="line">        <span class="comment">// ? å¯é€‰è§£åŒ…, è°ƒç”¨æ–¹æ³•, å¦‚æœä¸º nil, ä¸è°ƒç”¨æ–¹æ³•, ä½†æ˜¯ä¸èƒ½å‚ä¸è®¡ç®—</span></div><div class="line">        view.addSubview(label!)</div><div class="line">       </div><div class="line">        label?.text = <span class="string">"hello"</span></div><div class="line">        label?.sizeToFit()</div><div class="line">        label?.center = view.center</div><div class="line">    &#125;</div><div class="line">   </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">didReceiveMemoryWarning</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Swift ä¸­ä¸€å®šæ³¨æ„ä¸è¦ä¸»åŠ¨æ¸…ç†è§†å›¾æˆ–è€…æ§ä»¶// å› ä¸ºæ‡’åŠ è½½ä¸ä¼šå†æ¬¡åˆ›å»º</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="ç®€å•è¡¨è¾¾å¼"><a href="#ç®€å•è¡¨è¾¾å¼" class="headerlink" title="ç®€å•è¡¨è¾¾å¼"></a>ç®€å•è¡¨è¾¾å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> first = <span class="type">NSArray</span>(objects: <span class="string">"1"</span>,<span class="string">"2"</span>)</div></pre></td></tr></table></figure><p>##é—­åŒ…</p><blockquote><p>ä¸è¦å¿˜è®°æœ€åçš„å°æ‹¬å·ï¼Œåªæœ‰åŠ äº†å°æ‹¬å·ï¼Œå¿…åŒ…æ‰ä¼šåœ¨æ‰ç”¨çš„æ—¶å€™ç«‹åˆ»æ‰§è¡Œ<br>è¦ç±»å‹å£°æ˜lazy var second:Stringï¼Œè¿™æ ·Xcodeä¼šè¿›è¡Œç±»å‹æ£€</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> second:<span class="type">String</span> = &#123;</div><div class="line">       <span class="keyword">return</span> <span class="string">"second"</span></div><div class="line">       &#125;()  </div><div class="line"><span class="comment">//&#123;&#125; åŒ…è£…ä»£ç  () æ‰§è¡Œä»£ç </span></div></pre></td></tr></table></figure><h1 id="æƒ°æ€§åˆå§‹åŒ–çš„ä½¿ç”¨åœºæ™¯"><a href="#æƒ°æ€§åˆå§‹åŒ–çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="æƒ°æ€§åˆå§‹åŒ–çš„ä½¿ç”¨åœºæ™¯"></a>æƒ°æ€§åˆå§‹åŒ–çš„ä½¿ç”¨åœºæ™¯</h1><h2 id="â‘ å±æ€§æœ¬èº«ä¾èµ–äºå¤–éƒ¨å› ç´ æ‰èƒ½åˆå§‹åŒ–"><a href="#â‘ å±æ€§æœ¬èº«ä¾èµ–äºå¤–éƒ¨å› ç´ æ‰èƒ½åˆå§‹åŒ–" class="headerlink" title="â‘ å±æ€§æœ¬èº«ä¾èµ–äºå¤–éƒ¨å› ç´ æ‰èƒ½åˆå§‹åŒ–"></a>â‘ å±æ€§æœ¬èº«ä¾èµ–äºå¤–éƒ¨å› ç´ æ‰èƒ½åˆå§‹åŒ–</h2><blockquote><p>completeURLè¡¨ç¤ºå®Œæ•´çš„URLï¼Œè¿™ä¸ªå˜é‡ä¾èµ–äºè‡ªèº«çš„urlæ˜¯å¦å«æœ‰<a href="http://å‰ç¼€" target="_blank" rel="external">http://å‰ç¼€</a></p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> url:<span class="type">NSString</span></div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> completeURL:<span class="type">NSString</span> = &#123;</div><div class="line">        [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">in</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.url.hasPrefix(<span class="string">"http://"</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.url</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">"http://"</span>.stringByAppendingString(<span class="keyword">self</span>.url)</div><div class="line">        &#125;</div><div class="line">        &#125;()</div><div class="line">    <span class="keyword">init</span>(url:<span class="type">NSString</span>)&#123;</div><div class="line">        <span class="keyword">self</span>.url = url</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="â‘¡å±æ€§éœ€è¦å¤æ‚è®¡ç®—ï¼Œæ¶ˆè€—å¤§é‡CPU"><a href="#â‘¡å±æ€§éœ€è¦å¤æ‚è®¡ç®—ï¼Œæ¶ˆè€—å¤§é‡CPU" class="headerlink" title="â‘¡å±æ€§éœ€è¦å¤æ‚è®¡ç®—ï¼Œæ¶ˆè€—å¤§é‡CPU"></a>â‘¡å±æ€§éœ€è¦å¤æ‚è®¡ç®—ï¼Œæ¶ˆè€—å¤§é‡CPU</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> second:<span class="type">Int</span> = &#123;</div><div class="line">       <span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line">       <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">100000</span>&#123;</div><div class="line">           sum += i</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> sum</div><div class="line">       &#125;()</div></pre></td></tr></table></figure><h2 id="â‘¢å±æ€§ä¸ç¡®å®šæ˜¯å¦ä¼šä½¿ç”¨åˆ°"><a href="#â‘¢å±æ€§ä¸ç¡®å®šæ˜¯å¦ä¼šä½¿ç”¨åˆ°" class="headerlink" title="â‘¢å±æ€§ä¸ç¡®å®šæ˜¯å¦ä¼šä½¿ç”¨åˆ°"></a>â‘¢å±æ€§ä¸ç¡®å®šæ˜¯å¦ä¼šä½¿ç”¨åˆ°</h2><blockquote><p>å®˜ç½‘çš„ä¾‹å­ï¼Œæ³¨æ„ï¼Œå¯¹äºManageræ¥è¯´ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œå¯èƒ½å¯¼å…¥ï¼Œä¹Ÿå¯èƒ½ä¸å€’å…¥æ•°æ®ã€‚ä»ç¡¬ç›˜è¯»å–æ•°æ®çš„ä»£ä»·æ˜¯å¾ˆå¤§çš„ï¼Œä¸å¯¼å…¥æ•°æ®çš„æ—¶å€™ï¼Œä¸è¦åˆå§‹åŒ–</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataImporter</span> </span>&#123;</div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">    DataImporter is a class to import data from an external file.</span></div><div class="line"><span class="comment">    The class is assumed to take a non-trivial amount of time to initialize.</span></div><div class="line"><span class="comment">    */</span></div><div class="line">    <span class="keyword">var</span> fileName = <span class="string">"data.txt"</span></div><div class="line">    <span class="comment">// the DataImporter class would provide data importing functionality here</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataManager</span> </span>&#123;</div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> importer = <span class="type">DataImporter</span>()</div><div class="line">    <span class="keyword">var</span> data = [<span class="type">String</span>]()</div><div class="line">    <span class="comment">// the DataManager class would provide data management functionality here</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> manager = <span class="type">DataManager</span>()</div><div class="line">manager.data.append(<span class="string">"Some data"</span>)</div><div class="line">manager.data.append(<span class="string">"Some more data"</span>)</div></pre></td></tr></table></figure><h2 id="â‘£å®šåˆ¶åŒ–çš„åˆå§‹åŒ–"><a href="#â‘£å®šåˆ¶åŒ–çš„åˆå§‹åŒ–" class="headerlink" title="â‘£å®šåˆ¶åŒ–çš„åˆå§‹åŒ–"></a>â‘£å®šåˆ¶åŒ–çš„åˆå§‹åŒ–</h2><blockquote><p>æœ‰äº›åˆå§‹åŒ–åªéœ€è¦åˆå§‹åŒ–ä¸€æ¬¡ï¼Œåœ¨å˜é‡å®šä¹‰çš„åœ°æ–¹åˆå§‹åŒ–ï¼Œæœ‰åŠ©äºä»£ç ç»´æŠ¤</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> dataArray:<span class="type">NSMutableArray</span> = &#123;</div><div class="line">       <span class="keyword">var</span> array = <span class="type">NSMutableArray</span>()</div><div class="line">       <span class="keyword">for</span>  i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">100</span>&#123;</div><div class="line">           array.addObject(<span class="type">NSNumber</span>(integer: i))</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> array</div><div class="line">       &#125;()</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> Lazy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> Lazy </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Overrideé‡å†™</title>
      <link href="/2017/12/08/Swift/Grammar/Override-%E9%87%8D%E5%86%99/"/>
      <content type="html"><![CDATA[<h1 id="å®šä¹‰ä¸€ä¸ªç±»"><a href="#å®šä¹‰ä¸€ä¸ªç±»" class="headerlink" title="å®šä¹‰ä¸€ä¸ªç±»"></a>å®šä¹‰ä¸€ä¸ªç±»</h1><blockquote><p>å®šä¹‰å¯ç»§æ‰¿çš„åŸºç¡€ç±»<br>nameStrï¼š äººå<br>abilityInt ï¼š èƒ½åŠ›å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">var</span> nameStr: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> abilityInt: <span class="type">Int</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"\(nameStr)çš„èƒ½åŠ›å€¼\(abilityInt)"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        nameStr    = <span class="string">"YueKekui"</span></div><div class="line">        abilityInt = <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="é‡å†™çˆ¶ç±»æ–¹æ³•"><a href="#é‡å†™çˆ¶ç±»æ–¹æ³•" class="headerlink" title="é‡å†™çˆ¶ç±»æ–¹æ³•"></a>é‡å†™çˆ¶ç±»æ–¹æ³•</h1><h2 id="é‡å†™init"><a href="#é‡å†™init" class="headerlink" title="é‡å†™init"></a>é‡å†™init</h2><blockquote><p>init<br>nationalityStr:æ–°åŠ å›½ç±</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChinesePeople</span>:<span class="title">People</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">var</span> nationalityStr = <span class="string">"ä¸­å›½ğŸ‡¨ğŸ‡³"</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span>()</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</div><div class="line">        nameStr    = <span class="string">"ChenJian"</span></div><div class="line">        abilityInt = <span class="number">666</span></div><div class="line">        <span class="comment">//self.nameStr = "LuGaygay"</span></div><div class="line">        <span class="comment">//self.abilityInt = 8888</span></div><div class="line">        <span class="comment">//ç»§æ‰¿äº†çˆ¶ç±»çš„å±æ€§ï¼Œå› æ­¤nameStrã€ self.nameStrçš„å±æ€§</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">()</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.des() + <span class="string">"ä»–æ˜¯\(nationalityStr)äºº"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> onePeople =  <span class="type">ChinesePeople</span>.<span class="keyword">init</span>()</div><div class="line"><span class="built_in">print</span>( onePeople.des()) <span class="comment">// ChenJiançš„èƒ½åŠ›å€¼666ä»–æ˜¯ä¸­å›½ğŸ‡¨ğŸ‡³äºº</span></div></pre></td></tr></table></figure><h1 id="é‡å†™å±æ€§"><a href="#é‡å†™å±æ€§" class="headerlink" title="é‡å†™å±æ€§"></a>é‡å†™å±æ€§</h1><blockquote><p>å­ç±»å¹¶ä¸çŸ¥é“ç»§æ‰¿æ¥çš„å±æ€§æ˜¯å‚¨å€¼å‹è¿˜æ˜¯ç®—å€¼å‹ï¼Œå®ƒåªçŸ¥é“ç»§æ‰¿æ¥çš„å±æ€§æœ‰ä¸€ä¸ªåå­—å’Œç±»å‹ï¼Œæ‰€ä»¥åœ¨é‡å†™å±æ€§æ—¶å¿…é¡»æŠŠå®ƒçš„åå­—å’Œç±»å‹éƒ½å†™å‡ºæ¥<br>å‚¨å€¼å±æ€§å¯ä»¥é‡å†™ä¸ºç®—å€¼å±æ€§<br>åªè¯»å¯ä»¥é‡å†™ä¸ºè¯»å†™ï¼›è¯»å†™ä¸èƒ½é‡å†™ä¸ºåªè¯»<br>ä¸æƒ³é‡å†™getterï¼Œå¯ä»¥ç›´æ¥è¿”å›super.Someproperty</p></blockquote><h2 id="Get-Set"><a href="#Get-Set" class="headerlink" title="Get/Set"></a>Get/Set</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">AmericanPeople</span>: <span class="title">ChinesePeople</span> </span>&#123;</div><div class="line">   <span class="comment">// override var nationalityStr = "ç¾å›½ğŸ‡ºğŸ‡¸"</span></div><div class="line"><span class="comment">////é‡å†™äº†çˆ¶ç±»çš„å±æ€§nationalityStrï¼Œå› æ­¤selfå’Œsuperçš„nationalityStræ˜¯ä¸¤ä¸ªä¸åŒçš„å±æ€§</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">var</span> nationalityStr:<span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">get</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.nationalityStr</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">set</span> &#123;</div><div class="line">            <span class="keyword">super</span>.nationalityStr = <span class="string">"ç¾å›½ğŸ‡ºğŸ‡¸"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ‰“å°-1"><a href="#æ‰“å°-1" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> secondPeople = <span class="type">AmericanPeople</span>.<span class="keyword">init</span>()</div><div class="line">     secondPeople.nationalityStr = <span class="string">"æ³¨æ„é‡å†™set getçš„è¿”å›"</span></div><div class="line">     <span class="built_in">print</span>(secondPeople.des()) <span class="comment">// ChenJiançš„èƒ½åŠ›å€¼666ä»–æ˜¯ç¾å›½ğŸ‡ºğŸ‡¸äºº</span></div></pre></td></tr></table></figure><h1 id="é‡å†™å±æ€§è§‚å¯Ÿå™¨"><a href="#é‡å†™å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="é‡å†™å±æ€§è§‚å¯Ÿå™¨"></a>é‡å†™å±æ€§è§‚å¯Ÿå™¨</h1><blockquote><p>å¯ä»¥ä¸ºç»§æ‰¿æ¥çš„å˜é‡å‚¨å€¼å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨<br>å¯ä»¥å€¼é‡å†™didSetæˆ–willSet</p></blockquote><h2 id="didSet"><a href="#didSet" class="headerlink" title="didSet"></a>didSet</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">AustraliansPeople</span>: <span class="title">People</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> richInt = <span class="number">1</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">var</span> abilityInt: <span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">didSet</span>&#123;</div><div class="line">            richInt = <span class="type">Int</span>(abilityInt*<span class="number">2</span>)+<span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//é‡å†™æ‰“å°æ–¹æ³•</span></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.des()+<span class="string">"è´¢å¯ŒæŒ‡æ ‡\(richInt)"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ‰“å°-2"><a href="#æ‰“å°-2" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> thirdPeople = <span class="type">AustraliansPeople</span>.<span class="keyword">init</span>()</div><div class="line">     thirdPeople.abilityInt = <span class="number">5</span></div><div class="line">     <span class="built_in">print</span>(thirdPeople.des())  <span class="comment">//YueKekuiçš„èƒ½åŠ›å€¼5è´¢å¯ŒæŒ‡æ ‡12</span></div></pre></td></tr></table></figure><h1 id="é˜²æ­¢é‡å†™"><a href="#é˜²æ­¢é‡å†™" class="headerlink" title="é˜²æ­¢é‡å†™"></a>é˜²æ­¢é‡å†™</h1><blockquote><p>é€šè¿‡æŠŠæ–¹æ³•ã€å±æ€§æˆ–ä¸‹æ ‡æ ‡è®°ä¸ºfinalæ¥é˜²æ­¢å®ƒä»¬è¢«é‡å†™<br>åœ¨æ‰©å±•ä¸­ï¼Œæ·»åŠ åˆ°ç±»é‡Œçš„æ–¹æ³•ã€å±æ€§æˆ–ä¸‹æ ‡ä¹Ÿå¯ä»¥åœ¨æ‰©å±•çš„å®šä¹‰é‡Œæ ‡è®°ä¸ºfinal<br>å¯ä»¥åœ¨classå‰æ·»åŠ finalæ¥å°†æ•´ä¸ªå®šä¹‰ä¸ºä¸èƒ½é‡å†™ï¼Œè¿™æ ·çš„ç±»æ˜¯ä¸å¯ç»§æ‰¿çš„</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITableView</title>
      <link href="/2017/12/07/Swift/UIKit/UITableView/"/>
      <content type="html"><![CDATA[<h1 id="UITableView"><a href="#UITableView" class="headerlink" title="UITableView"></a>UITableView</h1><h2 id="å£°æ˜tableView-UITableViewå˜é‡"><a href="#å£°æ˜tableView-UITableViewå˜é‡" class="headerlink" title="å£°æ˜tableView:UITableViewå˜é‡"></a>å£°æ˜tableView:UITableViewå˜é‡</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> kSize=<span class="type">UIScreen</span>.main.bounds;</div><div class="line"><span class="keyword">var</span> _tableView:<span class="type">UITableView</span>!          <span class="comment">//tableView</span></div><div class="line"><span class="keyword">var</span>  data :[(<span class="type">String</span>,<span class="type">String</span>)] = [(<span class="string">"å¯¥å¯¥"</span>,<span class="string">"æœ‰ç‚¹ç»¿"</span>),(<span class="string">"å¢Gaygay"</span>,<span class="string">"æœ‰ç‚¹Gay"</span>),(<span class="string">"222"</span>,<span class="string">"2---2"</span>),(<span class="string">"333"</span>,<span class="string">"3--3"</span>)]      <span class="comment">//æ•°æ®æº</span></div></pre></td></tr></table></figure><h2 id="å£°æ˜tableViewçš„æ•°æ®æºçš„ä»£ç†åè®®"><a href="#å£°æ˜tableViewçš„æ•°æ®æºçš„ä»£ç†åè®®" class="headerlink" title="å£°æ˜tableViewçš„æ•°æ®æºçš„ä»£ç†åè®®"></a>å£°æ˜tableViewçš„æ•°æ®æºçš„ä»£ç†åè®®</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span> </span>&#123;</div></pre></td></tr></table></figure><h2 id="MARK-è®¾ç½®tableView"><a href="#MARK-è®¾ç½®tableView" class="headerlink" title="MARK: è®¾ç½®tableView"></a>MARK: è®¾ç½®tableView</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeTableView</span><span class="params">()</span></span>  &#123;</div><div class="line">   _tableView = <span class="type">UITableView</span>.<span class="keyword">init</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0.0</span>,</div><div class="line">                                               y: <span class="number">64</span>,</div><div class="line">                                               width: kSize.width,</div><div class="line">                                               height: kSize.height-<span class="number">64</span>),</div><div class="line">                                 style:.plain)</div><div class="line">    <span class="keyword">self</span>.view.addSubview(_tableView);  <span class="comment">// æ·»åŠ tableView</span></div><div class="line">    _tableView.dataSource = <span class="keyword">self</span>;</div><div class="line">    _tableView.delegate = <span class="keyword">self</span>;</div><div class="line">    _tableView.showsVerticalScrollIndicator = <span class="literal">false</span></div><div class="line">    _tableView.showsHorizontalScrollIndicator = <span class="literal">false</span></div><div class="line">    </div><div class="line">    _tableView.tableFooterView = <span class="type">UIView</span>()    <span class="comment">//tableFooter</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="MARK-å®ç°tableView-dataSourceåè®®ä¸­æ–¹æ³•"><a href="#MARK-å®ç°tableView-dataSourceåè®®ä¸­æ–¹æ³•" class="headerlink" title="MARK: å®ç°tableView.dataSourceåè®®ä¸­æ–¹æ³•"></a>MARK: å®ç°tableView.dataSourceåè®®ä¸­æ–¹æ³•</h2><h3 id="MARK-è¡Œ"><a href="#MARK-è¡Œ" class="headerlink" title="MARK: è¡Œ"></a>MARK: è¡Œ</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> data.<span class="built_in">count</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="MARK-Cell"><a href="#MARK-Cell" class="headerlink" title="MARK: Cell"></a>MARK: Cell</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</div><div class="line">    <span class="keyword">var</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"é™ˆå»º"</span>)</div><div class="line">    <span class="keyword">if</span> cell == <span class="literal">nil</span> &#123;</div><div class="line">        cell = <span class="type">UITableViewCell</span>(style:<span class="type">UITableViewCellStyle</span>.<span class="keyword">default</span>,reuseIdentifier:<span class="string">"é™ˆå»º"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> btn:<span class="type">UIButton</span> = <span class="type">UIButton</span>.<span class="keyword">init</span>(type:<span class="type">UIButtonType</span>.custom)</div><div class="line">    btn.frame = <span class="type">CGRect</span>(x:<span class="type">UIScreen</span>.main.bounds.width - <span class="number">100</span>, y:<span class="number">10</span>, width:<span class="number">80</span>, height:<span class="number">50</span>)</div><div class="line">    btn.backgroundColor = <span class="type">UIColor</span>.red;</div><div class="line">    btn.setTitle(<span class="string">"btnæ ‡é¢˜"</span>, <span class="keyword">for</span>: <span class="type">UIControlState</span>.normal)</div><div class="line">    btn.setTitleColor(<span class="type">UIColor</span>.blue, <span class="keyword">for</span>: <span class="type">UIControlState</span>.normal)</div><div class="line">    btn.tag = indexPath.row</div><div class="line">    btn.addTarget(<span class="keyword">self</span>, action:#selector(clickBtnAction), <span class="keyword">for</span>: .touchUpInside)</div><div class="line">    </div><div class="line">    cell?.textLabel?.text = data[indexPath.row].<span class="number">0</span>;</div><div class="line">    cell?.contentView.addSubview(btn);</div><div class="line">    cell?.accessoryType=<span class="type">UITableViewCellAccessoryType</span>.disclosureIndicator</div><div class="line">    <span class="keyword">return</span> cell!</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="MARK-cell-é«˜åº¦"><a href="#MARK-cell-é«˜åº¦" class="headerlink" title="MARK: cell- é«˜åº¦"></a>MARK: cell- é«˜åº¦</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">66</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="å¤´éƒ¨é«˜åº¦"><a href="#å¤´éƒ¨é«˜åº¦" class="headerlink" title="å¤´éƒ¨é«˜åº¦"></a>å¤´éƒ¨é«˜åº¦</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.01</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="åº•éƒ¨é«˜åº¦"><a href="#åº•éƒ¨é«˜åº¦" class="headerlink" title="åº•éƒ¨é«˜åº¦"></a>åº•éƒ¨é«˜åº¦</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForFooterInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.01</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="é€‰ä¸­cellæ—¶è§¦å‘"><a href="#é€‰ä¸­cellæ—¶è§¦å‘" class="headerlink" title="é€‰ä¸­cellæ—¶è§¦å‘"></a>é€‰ä¸­cellæ—¶è§¦å‘</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, didSelectRowAt indexPath: IndexPath)</span></span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"indexPath.row = SelectRow ç¬¬\(indexPath.row)è¡Œ"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="å–æ¶ˆé€‰ä¸­cellæ—¶"><a href="#å–æ¶ˆé€‰ä¸­cellæ—¶" class="headerlink" title="å–æ¶ˆé€‰ä¸­cellæ—¶"></a>å–æ¶ˆé€‰ä¸­cellæ—¶</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, didDeselectRowAt indexPath: IndexPath)</span></span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"indexPath.row = DeselectRow ç¬¬\(indexPath.row)è¡Œ"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="å…è®¸ç¼–è¾‘cell"><a href="#å…è®¸ç¼–è¾‘cell" class="headerlink" title="å…è®¸ç¼–è¾‘cell"></a>å…è®¸ç¼–è¾‘cell</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, canEditRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="å³æ»‘è§¦å‘åˆ é™¤æŒ‰é’®"><a href="#å³æ»‘è§¦å‘åˆ é™¤æŒ‰é’®" class="headerlink" title="å³æ»‘è§¦å‘åˆ é™¤æŒ‰é’®"></a>å³æ»‘è§¦å‘åˆ é™¤æŒ‰é’®</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, editingStyleForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCellEditingStyle</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">UITableViewCellEditingStyle</span>.<span class="keyword">init</span>(rawValue: <span class="number">1</span>)!</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="ç‚¹å‡»åˆ é™¤cellæ—¶è§¦å‘"><a href="#ç‚¹å‡»åˆ é™¤cellæ—¶è§¦å‘" class="headerlink" title="ç‚¹å‡»åˆ é™¤cellæ—¶è§¦å‘"></a>ç‚¹å‡»åˆ é™¤cellæ—¶è§¦å‘</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, commit editingStyle: UITableViewCellEditingStyle, forRowAt indexPath: IndexPath)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"indexPath.row = editingStyleç¬¬\(indexPath.row)è¡Œ"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="ç‚¹å‡»btnçš„æ–¹æ³•"><a href="#ç‚¹å‡»btnçš„æ–¹æ³•" class="headerlink" title="ç‚¹å‡»btnçš„æ–¹æ³•"></a>ç‚¹å‡»btnçš„æ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">clickBtnAction</span> <span class="params">(sender:UIButton)</span></span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"ç‚¹å‡»äº† btn"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITableView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITableView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-Error-AFN</title>
      <link href="/2017/12/07/OC/Code/OC-Code-Error-AFN/"/>
      <content type="html"><![CDATA[<h1 id="ä¸æ¥å—è¿”å›ç±»å‹"><a href="#ä¸æ¥å—è¿”å›ç±»å‹" class="headerlink" title="ä¸æ¥å—è¿”å›ç±»å‹"></a>ä¸æ¥å—è¿”å›ç±»å‹</h1><blockquote><p>è§£å†³æ–¹æ¡ˆï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">AFURLResponseSerialization.mä¸­ï¼Œ228è¡Œå·¦å³</div><div class="line">æŠŠ è¿™å¥ï¼š self.acceptableContentTypes = [NSSet setWithObjects:@&quot;application/json&quot;, @&quot;text/json&quot;, @&quot;text/javascript&quot;, nil];</div><div class="line"></div><div class="line">ä¿®æ”¹ä¸ºï¼š</div><div class="line"></div><div class="line">self.acceptableContentTypes = [NSSet setWithObjects:@&quot;application/json&quot;, @&quot;text/json&quot;, @&quot;text/javascript&quot;,@&quot;text/html&quot;, nil];</div><div class="line">åœ¨è¿›è¡Œç½‘ç»œè¯·æ±‚æ—¶å‡ºç°-1016 æ˜¯å› ä¸ºåªæ”¯æŒtext/jsonï¼Œapplication/jsonï¼Œtext/javascript</div></pre></td></tr></table></figure><h1 id="3840é”™è¯¯"><a href="#3840é”™è¯¯" class="headerlink" title="3840é”™è¯¯"></a>3840é”™è¯¯</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> Error Domain=NSCocoaErrorDomain Code=3840 &quot;Invalid value around character 64.&quot; UserInfo=&#123;NSDebugDescription=Invalid value around character 64.&#125;</div><div class="line">æœåŠ¡å™¨æ²¡æœ‰è¿”å›jsonæ•°æ®</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Error </category>
          
          <category> AFN </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Error </tag>
            
            <tag> AFN </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Func-ç½‘ç»œçŠ¶å†µä¾¦æµ‹</title>
      <link href="/2017/12/07/OC/Func/iOS-Func-%E7%BD%91%E7%BB%9C%E7%8A%B6%E5%86%B5%E4%BE%A6%E6%B5%8B/"/>
      <content type="html"><![CDATA[<p><a href="https://developer.apple.com/library/ios/samplecode/Reachability/Reachability.zip" target="_blank" rel="external">å®˜æ–¹ç¤ºä¾‹ç¨‹åº</a></p><blockquote><p>å°†Reachability.h å’Œ Reachability.m åŠ åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­<br>å¹¶å¼•ç”¨ SystemConfiguration.framework</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> ç½‘ç»œçš„å‡ ç§çŠ¶æ€</div><div class="line"><span class="comment">// the network state of the device for Reachability 2.0.</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123; </div><div class="line"> NotReachable = <span class="number">0</span>, <span class="comment">//æ— è¿æ¥ </span></div><div class="line"> ReachableViaWiFi, <span class="comment">//ä½¿ç”¨3G/GPRSç½‘ç»œ</span></div><div class="line"> ReachableViaWWAN <span class="comment">//ä½¿ç”¨WiFiç½‘ç»œ</span></div><div class="line">&#125; NetworkStatus;</div></pre></td></tr></table></figure><blockquote><p>è¿ç”¨</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Reachability.h"</span></span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIAlertController</span> *alertVC;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></div><div class="line">    </div><div class="line">    <span class="comment">// åˆ›å»ºç½‘ç»œæ¢æµ‹å¯¹è±¡</span></div><div class="line">    Reachability *reach = [Reachability reachabilityWithHostName:<span class="string">@"www.baidu.com"</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// æƒ³é€šçŸ¥ä¸­å¿ƒæ³¨å†Œé€šçŸ¥</span></div><div class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(networkChange:) name:kReachabilityChangedNotification object:<span class="literal">nil</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// å¼€å¯é€šçŸ¥ç›‘æ§</span></div><div class="line">    [reach startNotifier];</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ç½‘ç»œçŠ¶å†µå‘ç”Ÿæ”¹å˜åï¼Œæ‰§è¡Œè¯¥æ–¹æ³•</span></div><div class="line">- (<span class="keyword">void</span>)networkChange:(<span class="built_in">NSNotification</span> *)noti &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.alertVC = [<span class="built_in">UIAlertController</span> alertControllerWithTitle:<span class="string">@"ç½‘ç»œæç¤º"</span> message:<span class="string">@"å½“å‰ç½‘ç»œçŠ¶å†µæœ‰å˜æ›´"</span> preferredStyle:<span class="built_in">UIAlertControllerStyleAlert</span>];</div><div class="line">    </div><div class="line">    <span class="built_in">UIAlertAction</span> *action1 = [<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"ç¡®å®š"</span> style:<span class="built_in">UIAlertActionStyleDefault</span> handler:^(<span class="built_in">UIAlertAction</span> * _Nonnull action) &#123;</div><div class="line">        [_alertVC dismissViewControllerAnimated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">    &#125;];</div><div class="line">    [_alertVC addAction:action1];</div><div class="line">    </div><div class="line">    </div><div class="line">     Reachability * reach = [noti object];</div><div class="line">    <span class="comment">// åˆ¤æ–­å½“å‰ç½‘ç»œæ˜¯å¦å¯è¾¾ï¼Œå¯è¾¾åˆ™ç»§ç»­åè¾¹çš„åˆ¤æ–­ï¼šé€šè¿‡å“ªç§é€”å¾„åˆ°è¾¾ï¼Œä¸å¯è¾¾ï¼Œç›´æ¥è¿”å›ï¼Œä¸å†æ‰§è¡Œåè¾¹çš„ä»£ç </span></div><div class="line">    <span class="keyword">if</span> ([reach isReachable]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"ç½‘ç»œå¯è¾¾"</span>);</div><div class="line">        </div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"ç½‘ç»œæœ‰æ•…éšœ"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"å½“å‰ç½‘ç»œæœ‰æ•…éšœ"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> ([reach isReachableViaWiFi]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"é€šè¿‡WIFIåˆ°è¾¾"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"å½“å‰ç½‘ç»œæ˜¯æ— çº¿ç½‘,ä¸ºæ‚¨åŠ è½½é«˜æ¸…èµ„æº"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">        </div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ([reach isReachableViaWWAN]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"é€šè¿‡åŸºç«™åˆ°è¾¾"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"å½“å‰ç½‘ç»œæ˜¯æµé‡ï¼Œæ­£åœ¨ä¸ºæ‚¨èŠ‚çœæµé‡"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">        </div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"é€šè¿‡å…¶ä»–åˆ°è¾¾"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"å½“å‰ä½¿ç”¨æœªçŸ¥ç½‘ç»œ"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</div><div class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</div><div class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIWebView/WKWebView</title>
      <link href="/2017/12/07/Swift/UIKit/Swift-UIKit-UIWebView-WKWebView/"/>
      <content type="html"><![CDATA[<h1 id="UIWebView"><a href="#UIWebView" class="headerlink" title="UIWebView"></a>UIWebView</h1><blockquote><p>UIWebViewåŠŸèƒ½å¼ºå¤§ï¼Œé™¤äº†èƒ½å¤Ÿæ˜¾ç¤ºé¡µé¢ä¹‹å¤–ï¼Œè¿˜èƒ½æ˜¾ç¤ºHTMLè¯­è¨€ï¼ŒCSSï¼ŒPPTï¼ŒWordç­‰ç­‰ï¼Œå…¶ç”¨æ³•ä¹Ÿç®€å•</p></blockquote><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> webView = <span class="type">UIWebView</span>.<span class="keyword">init</span>(frame:<span class="keyword">self</span>.view.frame)</div></pre></td></tr></table></figure><p>##æ·»åŠ <br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.view.addSubview(webView)</div></pre></td></tr></table></figure></p><h2 id="åŠ è½½ç½‘é¡µ"><a href="#åŠ è½½ç½‘é¡µ" class="headerlink" title="åŠ è½½ç½‘é¡µ"></a>åŠ è½½ç½‘é¡µ</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.loadRequest(<span class="type">NSURLRequest</span>(url:<span class="type">NSURL</span>.<span class="keyword">init</span>(string:<span class="string">"http://www.jianshu.com/u/1acf2b5a2f69"</span>) <span class="keyword">as</span>! <span class="type">URL</span>) <span class="keyword">as</span> <span class="type">URLRequest</span>)</div></pre></td></tr></table></figure><h2 id="è„šæœ¬æ³¨å…¥"><a href="#è„šæœ¬æ³¨å…¥" class="headerlink" title="è„šæœ¬æ³¨å…¥"></a>è„šæœ¬æ³¨å…¥</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> jsPath =  <span class="type">NSBundle</span>.mainBundle().pathForResource(<span class="string">"app"</span>, ofType: <span class="string">"js"</span>)</div></pre></td></tr></table></figure><h2 id="è·å–åˆ°è„šæœ¬ä¸­çš„å†…å®¹"><a href="#è·å–åˆ°è„šæœ¬ä¸­çš„å†…å®¹" class="headerlink" title="è·å–åˆ°è„šæœ¬ä¸­çš„å†…å®¹"></a>è·å–åˆ°è„šæœ¬ä¸­çš„å†…å®¹</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> jsString :<span class="type">String</span> = <span class="keyword">try</span>! <span class="type">String</span>(contentsOfFile: jsPath!, encoding: <span class="number">4</span>)</div><div class="line"><span class="comment">//å°†è·å¾—çš„æ–‡æœ¬å†…å®¹åé¢çš„\næ›¿æ¢ä¸ºç©ºçš„å­—ç¬¦ä¸²</span></div><div class="line">jsString = jsString.stringByReplacingOccurrencesOfString(<span class="string">"\n"</span>, withString: <span class="string">""</span>)</div></pre></td></tr></table></figure><h2 id="è§¦å‘è„šæœ¬"><a href="#è§¦å‘è„šæœ¬" class="headerlink" title="è§¦å‘è„šæœ¬"></a>è§¦å‘è„šæœ¬</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.stringByEvaluatingJavaScriptFromString(jsString <span class="keyword">as</span> <span class="type">String</span>)</div></pre></td></tr></table></figure><h2 id="webView-scalesPageToFit"><a href="#webView-scalesPageToFit" class="headerlink" title="webView.scalesPageToFit"></a>webView.scalesPageToFit</h2><blockquote><p>æœ‰ç‚¹æ—¶å€™æˆ‘ä»¬åŠ è½½çš„ç½‘é¡µé¡µé¢æ¯”è¾ƒå¤§çš„è¯ æ˜¯æ— æ³•çš„å®Œå…¨æ˜¾ç¤ºåœ¨webViewä¸Šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦è°ƒèŠ‚webViewçš„scalesPageToFitå±æ€§æ¥å®ç°é¡µé¢é€‚åº”webViewåŒºåŸŸçš„æ•ˆæœ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.scalesPageToFit = <span class="literal">true</span></div></pre></td></tr></table></figure><h2 id="dataDetectorTypes"><a href="#dataDetectorTypes" class="headerlink" title="dataDetectorTypes"></a>dataDetectorTypes</h2><blockquote><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®webViewçš„dataDetectorTypeså±æ€§æ¥è¯†åˆ«å‡ºç½‘é¡µä¸Šçš„ç”µè¯å·ç ï¼Œè¶…é“¾æ¥ï¼Œé‚®ç®±ç­‰ä¸€äº›ç‰¹æ®Šä¿¡æ¯ï¼Œåœ¨æˆ‘ä»¬å¯¹å…¶è¿›è¡Œç›¸å…³æ“ä½œçš„æ—¶å€™å¯ä»¥å‡ºå‘å…³è”äº‹ä»¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> webView.dataDetectorTypes = .address</div><div class="line"></div><div class="line"><span class="comment">//dataDetectorTypesåŒ…å«ä»¥ä¸‹ç±»å‹ï¼š</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">UIDataDetectorTypes</span> : <span class="title">OptionSet</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(rawValue: <span class="type">UInt</span>)</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> phoneNumber: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Phone number detection</span></div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> link: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// URL detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">4.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> address: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Street address detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">4.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> calendarEvent: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Event detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> shipmentTrackingNumber: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Shipment tracking number detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> flightNumber: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Flight number detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> lookupSuggestion: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Information users may want to look up</span></div><div class="line"></div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> all: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Enable all types, including types that may be added later</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>UIWebViewåœ¨åŠ è½½ç½‘é¡µçš„æ—¶å€™æœ‰ä¸€äº›å¯¹åº”çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œæ£€æµ‹ï¼š<br>é¦–å…ˆå®ç°å…¶ä»£ç†ï¼šUIWebViewDelegate<br>ç„¶åè®¾ç½®å…¶ä»£ç†å¯¹è±¡ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.delegate = <span class="keyword">self</span>;</div></pre></td></tr></table></figure><blockquote><p>å®ç°ä»£ç†æ–¹æ³•ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UIWebViewDelegate</span> : <span class="title">NSObjectProtocol</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="comment">//é“¾æ¥åœ°å€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™è°ƒç”¨</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: UIWebView, shouldStartLoadWith request: URLRequest, navigationType: UIWebViewNavigationType)</span></span> -&gt; <span class="type">Bool</span></div><div class="line"></div><div class="line"><span class="comment">//å¼€å§‹åŠ è½½</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewDidStartLoad</span><span class="params">(<span class="number">_</span> webView: UIWebView)</span></span></div><div class="line"></div><div class="line"><span class="comment">//å®ŒæˆåŠ è½½</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewDidFinishLoad</span><span class="params">(<span class="number">_</span> webView: UIWebView)</span></span></div><div class="line"></div><div class="line"><span class="comment">//åŠ è½½å¤±è´¥</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: UIWebView, didFailLoadWithError error: Error)</span></span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¯ä»¥å¯¹webViewåŠ è½½çŠ¶æ€è¿›è¡Œæ§åˆ¶ï¼Œæ¯”å¦‚ï¼šåœæ­¢åŠ è½½ï¼Œç»§ç»­åŠ è½½ç­‰ï¼Œå…¶è®¾ç½®æ–¹æ³•ä¸ºï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//é‡æ–°åŠ è½½</span></div><div class="line">- (void)reload;</div><div class="line"><span class="comment">//åœæ­¢åŠ è½½</span></div><div class="line">- (void)stopLoading;</div><div class="line"><span class="comment">//è¿”å›</span></div><div class="line">- (void)goBack;</div><div class="line"><span class="comment">//å‰å¾€</span></div><div class="line">- (void)goForward;</div></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸‹æ˜¯UIWebViewå¯¹äºHTMLè¯­è¨€ï¼Œæœ¬åœ°æ–‡ä»¶ç­‰ä¿¡æ¯çš„åŠ è½½ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//åŠ è½½HTMLæ–‡æœ¬</span></div><div class="line">- (void)loadHTMLString:(<span class="type">NSString</span> *)string baseURL:(nullable <span class="type">NSURL</span> *)baseURL;</div><div class="line"></div><div class="line"><span class="comment">//åŠ è½½Dataç±»å‹</span></div><div class="line">- (void)loadData:(<span class="type">NSData</span> *)data <span class="type">MIMEType</span>:(<span class="type">NSString</span> *)<span class="type">MIMEType</span> textEncodingName:(<span class="type">NSString</span> *)textEncodingName baseURL:(<span class="type">NSURL</span> *)baseURL;</div><div class="line"></div><div class="line"><span class="comment">//å®ç°ä¸JSçš„äº¤äº’</span></div><div class="line">- (nullable <span class="type">NSString</span> *)stringByEvaluatingJavaScriptFromString:(<span class="type">NSString</span> *)script;</div></pre></td></tr></table></figure><h1 id="WKWebView"><a href="#WKWebView" class="headerlink" title="WKWebView"></a>WKWebView</h1><blockquote><p>ä½¿ç”¨æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//åˆ›å»º</span></div><div class="line"><span class="keyword">let</span> wkWebView = <span class="type">WKWebView</span>()</div><div class="line"></div><div class="line"><span class="comment">//è®¾ç½®ä½ç½®å’Œå¤§å°</span></div><div class="line">wkWebView.frame = <span class="keyword">self</span>.view.frame;</div><div class="line"></div><div class="line"><span class="comment">//åˆ›å»ºçš„æ—¶å€™å°±è®¾ç½®ä½ç½®å’Œå¤§å°</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    public init(frame: CGRect, configuration: WKWebViewConfiguration)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keyword">let</span> webview = <span class="type">WKWebView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.width, <span class="keyword">self</span>.view.frame.height))</div><div class="line"></div><div class="line"><span class="comment">//æ·»åŠ </span></div><div class="line"><span class="keyword">self</span>.view.addSubview(wkWebView)</div><div class="line"></div><div class="line"><span class="comment">//è¯·æ±‚</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    open func load(_ request: URLRequest) -&gt; WKNavigation?</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line">wkWebView.load(<span class="type">NSURLRequest</span>(url: <span class="type">NSURL</span>(string:<span class="string">"http://www.baidu.com"</span>) <span class="keyword">as</span>! <span class="type">URL</span>) <span class="keyword">as</span> <span class="type">URLRequest</span>)</div></pre></td></tr></table></figure><blockquote><p>WKWebViewçš„ä»£ç†æ–¹æ³•ï¼š<br>WKNavigationDelegate<br>é€šè¿‡WKNavigationDelegateæä¾›çš„ä»£ç†æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è¿½è¸ªWKWebViewåŠ è½½çš„è¿‡ç¨‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> /é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didStartProvisionalNavigation navigation: WKNavigation!)</span></span></div><div class="line"></div><div class="line"><span class="comment">// é¡µé¢åŠ è½½å¤±è´¥æ—¶è°ƒç”¨</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didFailProvisionalNavigation navigation: WKNavigation!, withError error: Error)</span></span></div><div class="line"></div><div class="line"><span class="comment">// å½“å†…å®¹å¼€å§‹è¿”å›æ—¶è°ƒç”¨</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didCommit navigation: WKNavigation!)</span></span></div><div class="line"></div><div class="line"><span class="comment">// é¡µé¢åŠ è½½å®Œæˆä¹‹åè°ƒç”¨</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didFinish navigation: WKNavigation!)</span></span></div></pre></td></tr></table></figure><blockquote><p>é¡µé¢è·³è½¬çš„ä»£ç†æ–¹æ³•æœ‰ä¸‰ç§ï¼Œåˆ†ä¸ºï¼ˆæ”¶åˆ°è·³è½¬ä¸å†³å®šæ˜¯å¦è·³è½¬ä¸¤ç§ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didReceiveServerRedirectForProvisionalNavigation navigation: WKNavigation!)</span></span></div><div class="line"></div><div class="line"><span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, decidePolicyFor navigationAction: WKNavigationAction, decisionHandler: @escaping <span class="params">(WKNavigationActionPolicy)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"><span class="comment">// åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, decidePolicyFor navigationResponse: WKNavigationResponse, decisionHandler: @escaping <span class="params">(WKNavigationResponsePolicy)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//webå†…å®¹è§†å›¾è¢«ç»ˆæ­¢çš„æ—¶å€™è§¦å‘</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">9.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewWebContentProcessDidTerminate</span><span class="params">(<span class="number">_</span> webView: WKWebView)</span></span></div></pre></td></tr></table></figure><blockquote><p>WKUIDelegate</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">/ åˆ›å»ºä¸€ä¸ªæ–°çš„<span class="type">WebView</span></div><div class="line">   <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">   <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, createWebViewWith configuration: WKWebViewConfiguration, <span class="keyword">for</span> navigationAction: WKNavigationAction, windowFeatures: WKWindowFeatures)</span></span> -&gt; <span class="type">WKWebView</span>?</div></pre></td></tr></table></figure><blockquote><p>webç•Œé¢çš„ä¸‰ç§æç¤ºæ¡†ï¼ˆè­¦å‘Šæ¡†ã€ç¡®è®¤æ¡†ã€è¾“å…¥æ¡†ï¼‰åˆ†åˆ«å¯¹åº”ä¸‰ç§ä»£ç†æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">/**</span></div><div class="line"><span class="comment"> *  webç•Œé¢ä¸­æœ‰å¼¹å‡ºè­¦å‘Šæ¡†æ—¶è°ƒç”¨</span></div><div class="line"><span class="comment"> *  @param webView           å®ç°è¯¥ä»£ç†çš„webview</span></div><div class="line"><span class="comment"> *  @param message           è­¦å‘Šæ¡†ä¸­çš„å†…å®¹</span></div><div class="line"><span class="comment"> *  @param frame             ä¸»çª—å£</span></div><div class="line"><span class="comment"> *  @param completionHandler è­¦å‘Šæ¡†æ¶ˆå¤±è°ƒç”¨</span></div><div class="line"><span class="comment"> */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, runJavaScriptAlertPanelWithMessage message: String, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping <span class="params">()</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> *  webç•Œé¢ä¸­æœ‰å¼¹å‡ºç¡®è®¤æ¡†æ—¶è°ƒç”¨</span></div><div class="line"><span class="comment"> *  @param webView           å®ç°è¯¥ä»£ç†çš„webview</span></div><div class="line"><span class="comment"> *  @param message           ç¡®è®¤æ¡†ä¸­çš„å†…å®¹</span></div><div class="line"><span class="comment"> *  @param frame             ä¸»çª—å£</span></div><div class="line"><span class="comment"> *  @param completionHandler ç¡®è®¤æ¡†æ¶ˆå¤±è°ƒç”¨</span></div><div class="line"><span class="comment"> */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, runJavaScriptConfirmPanelWithMessage message: String, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping <span class="params">(Bool)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> *  webç•Œé¢ä¸­æœ‰å¼¹å‡ºè¾“å…¥æ¡†æ—¶è°ƒç”¨</span></div><div class="line"><span class="comment"> *  @param webView           å®ç°è¯¥ä»£ç†çš„webview</span></div><div class="line"><span class="comment"> *  @param message           è¾“å…¥æ¡†ä¸­çš„å†…å®¹</span></div><div class="line"><span class="comment"> *  @param frame             ä¸»çª—å£</span></div><div class="line"><span class="comment"> *  @param completionHandler è¾“å…¥æ¡†æ¶ˆå¤±è°ƒç”¨</span></div><div class="line"><span class="comment"> */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, runJavaScriptTextInputPanelWithPrompt prompt: String, defaultText: String?, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping <span class="params">(String?)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div></pre></td></tr></table></figure><blockquote><p>WKScriptMessageHandler</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">userContentController</span><span class="params">(<span class="number">_</span> userContentController: WKUserContentController, didReceive message: WKScriptMessage)</span></span></div></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªæ–¹æ³•æ˜¯WKscriptMessageHandleråè®®ä¸­å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œæ˜¯æé«˜Appä¸webç«¯äº¤äº’çš„å…³é”®ï¼Œå®ƒå¯ä»¥ç›´æ¥å°†æ¥æ”¶åˆ°çš„JSè„šæœ¬è½¬ä¸ºOCæˆ–Swiftå¯¹è±¡<br>è·å–ç½‘é¡µæ ‡é¢˜<br>éœ€è¦éµå®ˆWKNavigationDelegateåè®®å¹¶è®¾ç½®ï¼šwebview.navigationDelegate = self<br>ç½‘é¡µåŠ è½½å®Œçš„æ—¶å€™æˆ‘ä»¬èƒ½è·å–ç½‘é¡µçš„æ ‡é¢˜ï¼Œæ‰€ä»¥è¿™ä¸ªæ­¥éª¤åº”è¯¥å†™åœ¨ç½‘é¡µçŠ¶æ€åŠ è½½å®Œæˆçš„æ–¹æ³•é‡Œé¢ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: WKWebView, didFinishNavigation navigation: WKNavigation!)</span></span> &#123;</div><div class="line">   <span class="comment">//print(self.webview.title) </span></div><div class="line"> &#125;</div></pre></td></tr></table></figure><blockquote><p>è·å–å½“å‰ç½‘é¡µçš„url</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: WKWebView, decidePolicyForNavigationAction navigationAction:WKNavigationAction, decisionHandler: <span class="params">(WKNavigationActionPolicy)</span></span></span> -&gt;<span class="type">Void</span>) &#123;</div><div class="line">         </div><div class="line"><span class="keyword">var</span> urlString:<span class="type">NSString</span>! = navigationAction.request.<span class="type">URL</span>?.absoluteString</div><div class="line"></div><div class="line">decisionHandler(<span class="type">WKNavigationActionPolicy</span>.<span class="type">Allow</span>)<span class="comment">//ä¸€å®šè¦åŠ ä¸Šè¿™ä¸€å¥ä»£ç ä¸ç„¶ä¼šå‡ºå¼‚å¸¸          </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å‰è¿›ï¼Œåé€€ï¼Œåœæ­¢ã€‚ã€‚ã€‚<br>WKWebViewæƒ³UIWebViewä¸€æ ·ï¼Œå¯ä»¥è·å–ä¸€äº›çŠ¶æ€ï¼Œä»¥åŠè¿›è¡Œå¯¹åº”æ“ä½œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">reload</span><span class="params">()</span></span><span class="comment">//é‡æ–°åŠ è½½</span></div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">stopLoading</span><span class="params">()</span></span><span class="comment">//åœæ­¢åŠ è½½</span></div><div class="line">    </div><div class="line"><span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">goBack</span><span class="params">()</span></span><span class="comment">//è¿”å›</span></div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">goForward</span><span class="params">()</span></span><span class="comment">//å‰è¿›</span></div><div class="line"> </div><div class="line"><span class="comment">//èƒ½ä¸èƒ½åé€€ å‰å¾€ åŠ è½½</span></div><div class="line"><span class="keyword">open</span> <span class="keyword">var</span> canGoBack: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="keyword">var</span> canGoForward: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="keyword">var</span> isLoading: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIWebView/WKWebView </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIImageView</title>
      <link href="/2017/12/07/Swift/UIKit/UIImageView/"/>
      <content type="html"><![CDATA[<h1 id="UIImageView"><a href="#UIImageView" class="headerlink" title="UIImageView"></a>UIImageView</h1><h2 id="åˆ›å»ºçš„æ—¶å€™ç›´æ¥è®¾ç½®å›¾ç‰‡"><a href="#åˆ›å»ºçš„æ—¶å€™ç›´æ¥è®¾ç½®å›¾ç‰‡" class="headerlink" title="åˆ›å»ºçš„æ—¶å€™ç›´æ¥è®¾ç½®å›¾ç‰‡"></a>åˆ›å»ºçš„æ—¶å€™ç›´æ¥è®¾ç½®å›¾ç‰‡</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> imageView = <span class="type">UIImageView</span>(image:<span class="type">UIImage</span>(named:<span class="string">"girl"</span>))</div></pre></td></tr></table></figure><h2 id="å…ˆåˆ›å»ºå‡ºå¯¹è±¡å†è®¾ç½®å›¾ç‰‡"><a href="#å…ˆåˆ›å»ºå‡ºå¯¹è±¡å†è®¾ç½®å›¾ç‰‡" class="headerlink" title="å…ˆåˆ›å»ºå‡ºå¯¹è±¡å†è®¾ç½®å›¾ç‰‡"></a>å…ˆåˆ›å»ºå‡ºå¯¹è±¡å†è®¾ç½®å›¾ç‰‡</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> imageView1 = <span class="type">UIImageView</span>()</div><div class="line">imageView1.image = <span class="type">UIImage</span>(named:<span class="string">"girl"</span>)</div></pre></td></tr></table></figure><h2 id="å›¾ç‰‡è·å–"><a href="#å›¾ç‰‡è·å–" class="headerlink" title="å›¾ç‰‡è·å–"></a>å›¾ç‰‡è·å–</h2><blockquote><p>ä»æ–‡ä»¶ç›®å½•ä¸­è·å–å›¾ç‰‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> path = <span class="type">Bundle</span>.main.path(forResource:<span class="string">"girl"</span>, ofType: <span class="string">"png"</span>)</div><div class="line"><span class="keyword">let</span> newImage = <span class="type">UIImage</span>(contentsOfFile: path!)</div></pre></td></tr></table></figure><blockquote><p>ç½‘ç»œåœ°å€è·å–å›¾ç‰‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> url = <span class="type">URL</span>(string:<span class="string">"http://image.cnpp.cn/upload/images/20160905/09380421552_400x300.jpg"</span>)</div><div class="line"><span class="keyword">let</span> data = <span class="keyword">try</span>! <span class="type">Data</span>(contentsOf: url!)</div><div class="line"><span class="keyword">let</span> smallImage = <span class="type">UIImage</span>(data: data)</div><div class="line"><span class="comment">//imageView1.image = smallImage</span></div><div class="line"><span class="keyword">let</span> imageView1 = <span class="type">UIImageView</span>(image:smallImage)</div></pre></td></tr></table></figure><h2 id="å›¾ç‰‡æ˜¾ç¤ºå¡«å……æ ·å¼"><a href="#å›¾ç‰‡æ˜¾ç¤ºå¡«å……æ ·å¼" class="headerlink" title="å›¾ç‰‡æ˜¾ç¤ºå¡«å……æ ·å¼"></a>å›¾ç‰‡æ˜¾ç¤ºå¡«å……æ ·å¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">imageView1.contentMode = <span class="type">UIViewContentMode</span>.scaleAspectFit</div></pre></td></tr></table></figure><h2 id="å¯¹äºUIImageViewçš„å›¾ç‰‡å¡«å……æ ·å¼æœ‰å¤šç§"><a href="#å¯¹äºUIImageViewçš„å›¾ç‰‡å¡«å……æ ·å¼æœ‰å¤šç§" class="headerlink" title="å¯¹äºUIImageViewçš„å›¾ç‰‡å¡«å……æ ·å¼æœ‰å¤šç§"></a>å¯¹äºUIImageViewçš„å›¾ç‰‡å¡«å……æ ·å¼æœ‰å¤šç§</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UIViewContentMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">case</span> scaleToFill</div><div class="line"></div><div class="line"><span class="keyword">case</span> scaleAspectFit <span class="comment">// contents scaled to fit with fixed aspect. remainder is transparent</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> scaleAspectFill <span class="comment">// contents scaled to fill with fixed aspect. some portion of content may be clipped.</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> redraw <span class="comment">// redraw on bounds change (calls -setNeedsDisplay)</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> center <span class="comment">// contents remain same size. positioned adjusted.</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> top</div><div class="line"></div><div class="line"><span class="keyword">case</span> bottom</div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="keyword">left</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="keyword">right</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> topLeft</div><div class="line"></div><div class="line"><span class="keyword">case</span> topRight</div><div class="line"></div><div class="line"><span class="keyword">case</span> bottomLeft</div><div class="line"></div><div class="line"><span class="keyword">case</span> bottomRight</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="åˆ†ç»„å›¾ç‰‡è½®å±•"><a href="#åˆ†ç»„å›¾ç‰‡è½®å±•" class="headerlink" title="åˆ†ç»„å›¾ç‰‡è½®å±•"></a>åˆ†ç»„å›¾ç‰‡è½®å±•</h2><blockquote><p>UIImageViewä¸­æœ‰è®¾ç½®å¤šå¼ å›¾ç‰‡ä¸€å—å±•ç¤ºçš„åŠŸèƒ½ï¼Œç±»ä¼¼äºå¹»ç¯ç‰‡çš„è‡ªåŠ¨æ’­æ”¾ã€‚å…¶å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//è®¾ç½®å›¾ç‰‡æ•°ç»„</span></div><div class="line">imageView1.animationImages = [<span class="type">UIImage</span>(named:<span class="string">"2"</span>)!,<span class="type">UIImage</span>(named:<span class="string">"3"</span>)!]</div><div class="line"></div><div class="line"><span class="comment">//æ‰€æœ‰å›¾ç‰‡å±•ç¤ºå®Œä¸€éçš„æ€»æ—¶é•¿</span></div><div class="line">imageView1.animationDuration = <span class="number">2</span></div><div class="line"></div><div class="line"><span class="comment">//å¼€å§‹</span></div><div class="line">imageView1.startAnimating()</div><div class="line"></div><div class="line"><span class="comment">//ç»“æŸ</span></div><div class="line">imageView1.stopAnimating()</div></pre></td></tr></table></figure><h2 id="æ·»åŠ ç‚¹å‡»äº‹ä»¶"><a href="#æ·»åŠ ç‚¹å‡»äº‹ä»¶" class="headerlink" title="æ·»åŠ ç‚¹å‡»äº‹ä»¶"></a>æ·»åŠ ç‚¹å‡»äº‹ä»¶</h2><blockquote><p>UIImageViewå’ŒUILabelç±»ä¼¼ï¼Œå…¶ç”¨æˆ·äº¤äº’é»˜è®¤å…³é—­ï¼Œæˆ‘ä»¬è¦ç»™å…¶æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦æ‰“å¼€å…¶ç”¨æˆ·äº¤äº’</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  imageView1.isUserInteractionEnabled = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> tapGestureRecognizer = <span class="type">UITapGestureRecognizer</span>(target: <span class="keyword">self</span>, action:#selector(<span class="type">ViewController</span>.tapGestureRecognizer(sender:)))</div><div class="line"></div><div class="line">imageView1.addGestureRecognizer(tapGestureRecognizer)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tapGestureRecognizer</span><span class="params">(sender:UITapGestureRecognizer)</span></span> &#123;</div><div class="line">    <span class="comment">//code</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å±æ€§è®¾ç½®"><a href="#å±æ€§è®¾ç½®" class="headerlink" title="å±æ€§è®¾ç½®"></a>å±æ€§è®¾ç½®</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//è¾¹æ¡†è®¾ç½®</span></div><div class="line">imageView.layer.borderColor = <span class="type">UIColor</span>.redColor().<span class="type">CGColor</span></div><div class="line">imageView.layer.borderWidth = <span class="number">2</span></div><div class="line"></div><div class="line"><span class="comment">//åœ†è§’çš„è®¾ç½®</span></div><div class="line">imageView.layer.cornerRadius = <span class="number">150</span></div><div class="line">imageView.layer.masksToBounds = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="type">UIImageView</span>ç»§æ‰¿<span class="type">UIView</span>ï¼Œå¾ˆå¤šå¸¸è§çš„å±æ€§åœ¨æ­¤å°±ä¸åˆ—ä¸¾ã€‚ã€‚</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIImageView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIImageView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UISegmentedControl-åˆ†æ®µé€‰æ‹©æ§ä»¶</title>
      <link href="/2017/12/07/Swift/UIKit/UISegmentedControl-%E5%88%86%E6%AE%B5%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6/"/>
      <content type="html"><![CDATA[<h1 id="UISegmentedControl"><a href="#UISegmentedControl" class="headerlink" title="UISegmentedControl"></a>UISegmentedControl</h1><blockquote><p>ç»§æ‰¿è‡ªUIControl</p></blockquote><h2 id="åˆ†æ®µé€‰é¡¹æ˜¾ç¤º"><a href="#åˆ†æ®µé€‰é¡¹æ˜¾ç¤º" class="headerlink" title="åˆ†æ®µé€‰é¡¹æ˜¾ç¤º"></a>åˆ†æ®µé€‰é¡¹æ˜¾ç¤º</h2><p>###åˆå§‹åŒ–æ•°æ®æº</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> items = [<span class="string">"è§å“¥1"</span>,<span class="string">"è§å“¥2"</span>,<span class="type">UIImage</span>(named:<span class="string">"1"</span>)!] <span class="keyword">as</span> [<span class="type">Any</span>]</div></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–å¯¹è±¡"><a href="#åˆå§‹åŒ–å¯¹è±¡" class="headerlink" title="åˆå§‹åŒ–å¯¹è±¡"></a>åˆå§‹åŒ–å¯¹è±¡</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> segmentedControl = <span class="type">UISegmentedControl</span>(items:items)</div></pre></td></tr></table></figure><h3 id="è®¾ç½®ä½ç½®"><a href="#è®¾ç½®ä½ç½®" class="headerlink" title="è®¾ç½®ä½ç½®"></a>è®¾ç½®ä½ç½®</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.center = <span class="keyword">self</span>.view.center</div></pre></td></tr></table></figure><h3 id="å½“å‰é€‰ä¸­ä¸‹æ ‡"><a href="#å½“å‰é€‰ä¸­ä¸‹æ ‡" class="headerlink" title="å½“å‰é€‰ä¸­ä¸‹æ ‡"></a>å½“å‰é€‰ä¸­ä¸‹æ ‡</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.selectedSegmentIndex = <span class="number">1</span></div></pre></td></tr></table></figure><p>##æ·»åŠ äº‹ä»¶</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.addTarget(<span class="keyword">self</span>, action: #selector(segmentedControlChanged), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div></pre></td></tr></table></figure><h2 id="æ·»åŠ "><a href="#æ·»åŠ " class="headerlink" title="æ·»åŠ "></a>æ·»åŠ </h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.view.addSubview(segmentedControl)</div></pre></td></tr></table></figure><h2 id="é€‰æ‹©ç‚¹å‡»åçš„äº‹ä»¶"><a href="#é€‰æ‹©ç‚¹å‡»åçš„äº‹ä»¶" class="headerlink" title="é€‰æ‹©ç‚¹å‡»åçš„äº‹ä»¶"></a>é€‰æ‹©ç‚¹å‡»åçš„äº‹ä»¶</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">segmentedControlChanged</span><span class="params">(sender:UISegmentedControl)</span></span> &#123;</div><div class="line">    </div><div class="line">    <span class="built_in">print</span>(sender.selectedSegmentIndex)</div><div class="line">    </div><div class="line">    <span class="built_in">print</span>(sender.titleForSegment(at: sender.selectedSegmentIndex))</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ·»åŠ åˆ é™¤é€‰é¡¹"><a href="#æ·»åŠ åˆ é™¤é€‰é¡¹" class="headerlink" title="æ·»åŠ åˆ é™¤é€‰é¡¹"></a>æ·»åŠ åˆ é™¤é€‰é¡¹</h2><blockquote><p>UISegmentedControlæ¯ä¸ªé€‰é¡¹çš„å®½åº¦åœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šæ ¹æ®é€‰é¡¹çš„ä¸ªæ•°è‡ªåŠ¨åˆ†é…ï¼Œè€Œä¸ªæ•°åœ¨åˆå§‹åŒ–æ§ä»¶ä¹‹åå¯ä»¥æ·»åŠ å’Œåˆ é™¤</p></blockquote><h3 id="æ·»åŠ å›¾ç‰‡é€‰é¡¹"><a href="#æ·»åŠ å›¾ç‰‡é€‰é¡¹" class="headerlink" title="æ·»åŠ å›¾ç‰‡é€‰é¡¹"></a>æ·»åŠ å›¾ç‰‡é€‰é¡¹</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.insertSegment(with: <span class="type">UIImage</span>(named:<span class="string">"2"</span>), at: <span class="number">0</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure><h3 id="æ·»åŠ æ–‡å­—é€‰é¡¹"><a href="#æ·»åŠ æ–‡å­—é€‰é¡¹" class="headerlink" title="æ·»åŠ æ–‡å­—é€‰é¡¹"></a>æ·»åŠ æ–‡å­—é€‰é¡¹</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.insertSegment(withTitle: <span class="string">"è§å“¥0"</span>, at: <span class="number">1</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure><h3 id="ç§»é™¤åˆ¶å®šä¸‹æ ‡çš„é€‰é¡¹"><a href="#ç§»é™¤åˆ¶å®šä¸‹æ ‡çš„é€‰é¡¹" class="headerlink" title="ç§»é™¤åˆ¶å®šä¸‹æ ‡çš„é€‰é¡¹"></a>ç§»é™¤åˆ¶å®šä¸‹æ ‡çš„é€‰é¡¹</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.removeSegment(at: <span class="number">1</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure><h3 id="ç§»å‡ºæ‰€æœ‰segment"><a href="#ç§»å‡ºæ‰€æœ‰segment" class="headerlink" title="ç§»å‡ºæ‰€æœ‰segment"></a>ç§»å‡ºæ‰€æœ‰segment</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segment.removeAllSegments()</div></pre></td></tr></table></figure><h3 id="é¢œè‰²è®¾å®š"><a href="#é¢œè‰²è®¾å®š" class="headerlink" title="é¢œè‰²è®¾å®š"></a>é¢œè‰²è®¾å®š</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.tintColor = <span class="type">UIColor</span>.red</div></pre></td></tr></table></figure><h3 id="è·å–é¢œè‰²"><a href="#è·å–é¢œè‰²" class="headerlink" title="è·å–é¢œè‰²"></a>è·å–é¢œè‰²</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> segmentColor = segment.tintColor</div></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºæ–‡å­—ä¿®æ”¹"><a href="#æ˜¾ç¤ºæ–‡å­—ä¿®æ”¹" class="headerlink" title="æ˜¾ç¤ºæ–‡å­—ä¿®æ”¹"></a>æ˜¾ç¤ºæ–‡å­—ä¿®æ”¹</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmented.setTitle(<span class="string">"swfit"</span>, forSegmentAt:<span class="number">1</span>)</div></pre></td></tr></table></figure><h3 id="è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹çš„æ ‡é¢˜"><a href="#è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹çš„æ ‡é¢˜" class="headerlink" title="è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹çš„æ ‡é¢˜"></a>è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹çš„æ ‡é¢˜</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> title = segment.titleForSegmentAtIndex(<span class="number">1</span>)</div></pre></td></tr></table></figure><h3 id="ä¿®æ”¹é€‰é¡¹å›¾ç‰‡"><a href="#ä¿®æ”¹é€‰é¡¹å›¾ç‰‡" class="headerlink" title="ä¿®æ”¹é€‰é¡¹å›¾ç‰‡"></a>ä¿®æ”¹é€‰é¡¹å›¾ç‰‡</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmented.setImage(<span class="type">UIImage</span>(named:<span class="string">"icon"</span>), forSegmentAt:<span class="number">2</span>)</div></pre></td></tr></table></figure><h3 id="è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹å¾—å›¾ç‰‡"><a href="#è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹å¾—å›¾ç‰‡" class="headerlink" title="è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹å¾—å›¾ç‰‡"></a>è·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹å¾—å›¾ç‰‡</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> image = segment.imageForSegmentAtIndex(<span class="number">2</span>)</div></pre></td></tr></table></figure><h3 id="ä¿®æ”¹é€‰é¡¹å†…å®¹åç§»ä½ç½®"><a href="#ä¿®æ”¹é€‰é¡¹å†…å®¹åç§»ä½ç½®" class="headerlink" title="ä¿®æ”¹é€‰é¡¹å†…å®¹åç§»ä½ç½®"></a>ä¿®æ”¹é€‰é¡¹å†…å®¹åç§»ä½ç½®</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmented.setContentOffset(<span class="type">CGSize</span>(width:<span class="number">10</span>, height:<span class="number">7</span>), forSegmentAt:<span class="number">1</span>)</div></pre></td></tr></table></figure><h2 id="å®½åº¦"><a href="#å®½åº¦" class="headerlink" title="å®½åº¦"></a>å®½åº¦</h2><blockquote><p>UISegmentedControlæ¯ä¸ªé€‰é¡¹çš„å®½åº¦åœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šæ ¹æ®é€‰é¡¹çš„ä¸ªæ•°è‡ªåŠ¨åˆ†é…ï¼Œä½†æ˜¯æœ‰æ—¶å€™æ ¹æ®é¡¹ç›®æƒ…å†µçš„éœ€è¦ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥æ‰‹åŠ¨æ¥è¿›è¡Œè®¾ç½®/è·å–çš„ã€‚</p></blockquote><h3 id="è®¾ç½®æŒ‡å®šä¸‹æ ‡é€‰é¡¹çš„å®½åº¦"><a href="#è®¾ç½®æŒ‡å®šä¸‹æ ‡é€‰é¡¹çš„å®½åº¦" class="headerlink" title="è®¾ç½®æŒ‡å®šä¸‹æ ‡é€‰é¡¹çš„å®½åº¦"></a>è®¾ç½®æŒ‡å®šä¸‹æ ‡é€‰é¡¹çš„å®½åº¦</h3><p>segmentedControl.setWidth(10, forSegmentAt: 1)</p><h3 id="è·å–æŸä¸€ä¸ªä¸‹æ ‡segmentçš„å®½åº¦"><a href="#è·å–æŸä¸€ä¸ªä¸‹æ ‡segmentçš„å®½åº¦" class="headerlink" title="è·å–æŸä¸€ä¸ªä¸‹æ ‡segmentçš„å®½åº¦"></a>è·å–æŸä¸€ä¸ªä¸‹æ ‡segmentçš„å®½åº¦</h3><p>var width = segment.widthForSegmentAtIndex(2)</p><h3 id="æ˜¯å¦æ ¹æ®segmentçš„å†…å®¹æ”¹å˜segmentçš„å®½åº¦"><a href="#æ˜¯å¦æ ¹æ®segmentçš„å†…å®¹æ”¹å˜segmentçš„å®½åº¦" class="headerlink" title="æ˜¯å¦æ ¹æ®segmentçš„å†…å®¹æ”¹å˜segmentçš„å®½åº¦"></a>æ˜¯å¦æ ¹æ®segmentçš„å†…å®¹æ”¹å˜segmentçš„å®½åº¦</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segment.apportionsSegmentWidthsByContent = <span class="literal">true</span></div></pre></td></tr></table></figure><p>###momentaryå±æ€§</p><blockquote><p>åˆ†æ®µé€‰æ‹©æ§ä»¶åœ¨ç‚¹å‡»ä¹‹åä¸€ç›´å¤„äºé€‰ä¸­çŠ¶æ€ï¼Œé™¤éç‚¹å‡»å…¶ä»–åˆ†æ®µï¼Œæ‰æ¢å¤ã€‚ momentaryå±æ€§ç”¨æ¥è®¾ç½®æ˜¯å¦ä¸€ç›´ä¿æŒé€‰ä¸­çŠ¶æ€ï¼Œå½“è®¾ç½®ä¸ºYESæ—¶ï¼Œç‚¹å‡»é€‰ä¸­ï¼Œä½†ä¸€ä¼šå°±æ˜¯æ¢å¤åˆ°æ­£å¸¸çŠ¶æ€<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segment.momentary = <span class="literal">true</span></div></pre></td></tr></table></figure></p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISegmentedControl </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UISegmentedControl </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UISwitch</title>
      <link href="/2017/12/07/Swift/UIKit/UISwitch/"/>
      <content type="html"><![CDATA[<h1 id="UISwitch"><a href="#UISwitch" class="headerlink" title="UISwitch"></a>UISwitch</h1><blockquote><p>ç»§æ‰¿è‡ªUIControl</p></blockquote><h2 id="UISwitchçš„å¤§å°æ˜¯ç¡®å®šçš„ä¸èƒ½è¿›è¡Œä¿®æ”¹-51-31"><a href="#UISwitchçš„å¤§å°æ˜¯ç¡®å®šçš„ä¸èƒ½è¿›è¡Œä¿®æ”¹-51-31" class="headerlink" title="UISwitchçš„å¤§å°æ˜¯ç¡®å®šçš„ä¸èƒ½è¿›è¡Œä¿®æ”¹ 51*31"></a>UISwitchçš„å¤§å°æ˜¯ç¡®å®šçš„ä¸èƒ½è¿›è¡Œä¿®æ”¹ 51*31</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> switchOne = <span class="type">UISwitch</span>(frame:<span class="type">CGRect</span>(x:<span class="number">10.0</span>, y:<span class="number">100.0</span>, width:<span class="number">0.0</span>,height: <span class="number">0.0</span>))</div><div class="line"><span class="keyword">self</span>.view.addSubview(switchOne)</div><div class="line">switchOne.backgroundColor = <span class="type">UIColor</span> .yellow;</div></pre></td></tr></table></figure><h2 id="è®¾ç½®æ‰“å¼€çŠ¶æ€èƒŒæ™¯é¢œè‰²"><a href="#è®¾ç½®æ‰“å¼€çŠ¶æ€èƒŒæ™¯é¢œè‰²" class="headerlink" title="è®¾ç½®æ‰“å¼€çŠ¶æ€èƒŒæ™¯é¢œè‰²"></a>è®¾ç½®æ‰“å¼€çŠ¶æ€èƒŒæ™¯é¢œè‰²</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.onTintColor = <span class="type">UIColor</span>.brown</div></pre></td></tr></table></figure><h2 id="è®¾ç½®å…³é—­çŠ¶æ€çš„èƒŒæ™¯é¢œè‰²"><a href="#è®¾ç½®å…³é—­çŠ¶æ€çš„èƒŒæ™¯é¢œè‰²" class="headerlink" title="è®¾ç½®å…³é—­çŠ¶æ€çš„èƒŒæ™¯é¢œè‰²"></a>è®¾ç½®å…³é—­çŠ¶æ€çš„èƒŒæ™¯é¢œè‰²</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.tintColor = <span class="type">UIColor</span>.orange</div></pre></td></tr></table></figure><h2 id="å¼€å…³å¿«çš„é¢œè‰²"><a href="#å¼€å…³å¿«çš„é¢œè‰²" class="headerlink" title="å¼€å…³å¿«çš„é¢œè‰²"></a>å¼€å…³å¿«çš„é¢œè‰²</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.thumbTintColor = <span class="type">UIColor</span>.red</div></pre></td></tr></table></figure><h2 id="è®¾ç½®å¼€å…³çŠ¶æ€"><a href="#è®¾ç½®å¼€å…³çŠ¶æ€" class="headerlink" title="è®¾ç½®å¼€å…³çŠ¶æ€"></a>è®¾ç½®å¼€å…³çŠ¶æ€</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.setOn(<span class="literal">true</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure><h2 id="æ·»åŠ æŒ‰é’®äº‹ä»¶"><a href="#æ·»åŠ æŒ‰é’®äº‹ä»¶" class="headerlink" title="æ·»åŠ æŒ‰é’®äº‹ä»¶"></a>æ·»åŠ æŒ‰é’®äº‹ä»¶</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">ViewController</span>.switchOneValueChanged(sender:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div></pre></td></tr></table></figure><h2 id="çŠ¶æ€æ”¹å˜ä¹‹åçš„æ‰§è¡Œæ–¹æ³•"><a href="#çŠ¶æ€æ”¹å˜ä¹‹åçš„æ‰§è¡Œæ–¹æ³•" class="headerlink" title="çŠ¶æ€æ”¹å˜ä¹‹åçš„æ‰§è¡Œæ–¹æ³•"></a>çŠ¶æ€æ”¹å˜ä¹‹åçš„æ‰§è¡Œæ–¹æ³•</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">switchOneValueChanged</span><span class="params">(sender:UISwitch)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"æˆ‘æ˜¯ä¸€ä¸ªå¸…å“¥ï¼Œä½ ä¿¡ä¸ï¼Ÿvalue=%d"</span>,sender.isOn)</div><div class="line">&#125;</div><div class="line"></div><div class="line">switchOne.onImage = <span class="type">UIImage</span>(named:<span class="string">"1"</span>)</div><div class="line">switchOne.offImage = <span class="type">UIImage</span>(named:<span class="string">"2"</span>)</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISwitch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UISwitch </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIStepper</title>
      <link href="/2017/12/07/Swift/UIKit/UIStepper/"/>
      <content type="html"><![CDATA[<h1 id="UIStepper"><a href="#UIStepper" class="headerlink" title="UIStepper"></a>UIStepper</h1><h2 id="åˆ›å»º-frame"><a href="#åˆ›å»º-frame" class="headerlink" title="åˆ›å»º+frame"></a>åˆ›å»º+frame</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> stepper = <span class="type">UIStepper</span>()</div><div class="line">stepper.center = <span class="keyword">self</span>.view.center</div></pre></td></tr></table></figure><h2 id="è®¾ç½®æœ€å¤§å’Œæœ€å°å€¼"><a href="#è®¾ç½®æœ€å¤§å’Œæœ€å°å€¼" class="headerlink" title="è®¾ç½®æœ€å¤§å’Œæœ€å°å€¼"></a>è®¾ç½®æœ€å¤§å’Œæœ€å°å€¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.maximumValue = <span class="number">10</span></div><div class="line">stepper.minimumValue = <span class="number">1</span></div></pre></td></tr></table></figure><h2 id="å½“å‰å€¼"><a href="#å½“å‰å€¼" class="headerlink" title="å½“å‰å€¼"></a>å½“å‰å€¼</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.value = <span class="number">1</span></div></pre></td></tr></table></figure><h2 id="æ¯æ¬¡å˜åŒ–çš„å•ä½"><a href="#æ¯æ¬¡å˜åŒ–çš„å•ä½" class="headerlink" title="æ¯æ¬¡å˜åŒ–çš„å•ä½"></a>æ¯æ¬¡å˜åŒ–çš„å•ä½</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.stepValue = <span class="number">1</span></div></pre></td></tr></table></figure><h2 id="æŒ‰ä½çš„æ—¶å€™è¿ç»­å˜åŒ–"><a href="#æŒ‰ä½çš„æ—¶å€™è¿ç»­å˜åŒ–" class="headerlink" title="æŒ‰ä½çš„æ—¶å€™è¿ç»­å˜åŒ–"></a>æŒ‰ä½çš„æ—¶å€™è¿ç»­å˜åŒ–</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.isContinuous = <span class="literal">true</span></div></pre></td></tr></table></figure><h2 id="æ˜¯å¦å¾ªç¯-å½“å¢é•¿åˆ°æœ€å¤§å€¼çš„æ—¶å€™å†ä»æ–°å¼€å§‹"><a href="#æ˜¯å¦å¾ªç¯-å½“å¢é•¿åˆ°æœ€å¤§å€¼çš„æ—¶å€™å†ä»æ–°å¼€å§‹" class="headerlink" title="æ˜¯å¦å¾ªç¯ å½“å¢é•¿åˆ°æœ€å¤§å€¼çš„æ—¶å€™å†ä»æ–°å¼€å§‹"></a>æ˜¯å¦å¾ªç¯ å½“å¢é•¿åˆ°æœ€å¤§å€¼çš„æ—¶å€™å†ä»æ–°å¼€å§‹</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.wraps = <span class="literal">true</span></div></pre></td></tr></table></figure><h2 id="æ”¹å˜äº‹ä»¶æ·»åŠ "><a href="#æ”¹å˜äº‹ä»¶æ·»åŠ " class="headerlink" title="æ”¹å˜äº‹ä»¶æ·»åŠ "></a>æ”¹å˜äº‹ä»¶æ·»åŠ </h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.addTarget(<span class="keyword">self</span>, action:#selector(<span class="type">ViewController</span>.stepperChanged(stepper:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">stepperChanged</span><span class="params">(stepper:UIStepper)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"æˆ‘æ˜¯ä¸€ä¸ªå¸…å“¥ï¼Œä½ ä¿¡ä¸ï¼Ÿvalue=%d"</span>,stepper.value)</div><div class="line">&#125;</div><div class="line"><span class="keyword">self</span>.view.addSubview(stepper)</div></pre></td></tr></table></figure><h2 id="è®¾ç½®é¢œè‰²"><a href="#è®¾ç½®é¢œè‰²" class="headerlink" title="è®¾ç½®é¢œè‰²"></a>è®¾ç½®é¢œè‰²</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.tintColor = <span class="type">UIColor</span>.green</div></pre></td></tr></table></figure><h2 id="è®¾ç½®img"><a href="#è®¾ç½®img" class="headerlink" title="è®¾ç½®img"></a>è®¾ç½®img</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.setDecrementImage(<span class="type">UIImage</span>(named:<span class="string">"1"</span>), <span class="keyword">for</span>: .normal)</div><div class="line">stepper.setIncrementImage(<span class="type">UIImage</span>(named:<span class="string">"1"</span>), <span class="keyword">for</span>: .normal)</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIStepper </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UIStepper </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swiftâ€”UIKit-UISlider</title>
      <link href="/2017/12/07/Swift/UIKit/UISlider/"/>
      <content type="html"><![CDATA[<h1 id="UISlider"><a href="#UISlider" class="headerlink" title="UISlider"></a>UISlider</h1><h2 id="åˆ›å»º-frame"><a href="#åˆ›å»º-frame" class="headerlink" title="åˆ›å»º+frame"></a>åˆ›å»º+frame</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> slider = <span class="type">UISlider</span>()</div><div class="line">slider.frame = <span class="type">CGRect</span>(x: <span class="number">50</span>, y: <span class="number">100</span>, width: <span class="number">200</span>, height: <span class="number">50</span>)</div></pre></td></tr></table></figure><p>##æœ€å°/å¤§å€¼</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.minimumValue = <span class="number">0</span></div><div class="line">slider.maximumValue = <span class="number">1</span></div></pre></td></tr></table></figure><h2 id="å½“å‰å€¼ï¼ˆåœ¨å–å€¼èŒƒå›´ä¹‹å†…çš„ä½ç½®ï¼‰"><a href="#å½“å‰å€¼ï¼ˆåœ¨å–å€¼èŒƒå›´ä¹‹å†…çš„ä½ç½®ï¼‰" class="headerlink" title="å½“å‰å€¼ï¼ˆåœ¨å–å€¼èŒƒå›´ä¹‹å†…çš„ä½ç½®ï¼‰"></a>å½“å‰å€¼ï¼ˆåœ¨å–å€¼èŒƒå›´ä¹‹å†…çš„ä½ç½®ï¼‰</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.value = <span class="number">0.5</span></div></pre></td></tr></table></figure><p>##æŒ‰é’®æœ€å°/å¤§ç«¯å›¾ç‰‡<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.minimumValueImage = <span class="type">UIImage</span>(named:<span class="string">"SSS"</span>)</div><div class="line">slider.maximumValueImage = <span class="type">UIImage</span>(named:<span class="string">"DDD"</span>)</div></pre></td></tr></table></figure></p><h2 id="ä¸åŒçŠ¶æ€ä¹‹ä¸‹ï¼Œåœ†ç‚¹æ˜¾ç¤ºå›¾ç‰‡"><a href="#ä¸åŒçŠ¶æ€ä¹‹ä¸‹ï¼Œåœ†ç‚¹æ˜¾ç¤ºå›¾ç‰‡" class="headerlink" title="ä¸åŒçŠ¶æ€ä¹‹ä¸‹ï¼Œåœ†ç‚¹æ˜¾ç¤ºå›¾ç‰‡"></a>ä¸åŒçŠ¶æ€ä¹‹ä¸‹ï¼Œåœ†ç‚¹æ˜¾ç¤ºå›¾ç‰‡</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .normal)</div><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .highlighted)</div><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .disabled)</div><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .selected)</div></pre></td></tr></table></figure><p>##è®¾ç½®åœ†ç‚¹çš„é¢œè‰²</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.thumbTintColor = <span class="type">UIColor</span>.red</div></pre></td></tr></table></figure><h2 id="è®¾ç½®åˆ’è¿‡å’Œæ²¡æœ‰åˆ’è¿‡é¢œè‰²ï¼ˆåœ†ç‚¹å·¦-å³ï¼‰"><a href="#è®¾ç½®åˆ’è¿‡å’Œæ²¡æœ‰åˆ’è¿‡é¢œè‰²ï¼ˆåœ†ç‚¹å·¦-å³ï¼‰" class="headerlink" title="è®¾ç½®åˆ’è¿‡å’Œæ²¡æœ‰åˆ’è¿‡é¢œè‰²ï¼ˆåœ†ç‚¹å·¦/å³ï¼‰"></a>è®¾ç½®åˆ’è¿‡å’Œæ²¡æœ‰åˆ’è¿‡é¢œè‰²ï¼ˆåœ†ç‚¹å·¦/å³ï¼‰</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.minimumTrackTintColor = <span class="type">UIColor</span>.yellow</div><div class="line">slider.maximumTrackTintColor = <span class="type">UIColor</span>.brown</div></pre></td></tr></table></figure><h2 id="æ”¹å˜äº‹ä»¶"><a href="#æ”¹å˜äº‹ä»¶" class="headerlink" title="æ”¹å˜äº‹ä»¶"></a>æ”¹å˜äº‹ä»¶</h2><blockquote><p>æ»‘å—æ»‘åŠ¨åœæ­¢åæ‰è§¦å‘ValueChangedäº‹ä»¶ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.isContinuous = <span class="literal">false</span></div><div class="line">slider.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">ViewController</span>.change(slider:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div><div class="line">slider.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">ViewController</span>.sliderDragUp(sender:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.touchUpInside)</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">change</span><span class="params">(slider:UISlider)</span></span> &#123;</div><div class="line">       <span class="built_in">print</span>(<span class="string">"slider.value = %d"</span>,slider.value)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sliderDragUp</span><span class="params">(sender: UISlider)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"value:(sender.value)"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UISlider </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UISlider </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UITextField</title>
      <link href="/2017/12/07/Swift/UIKit/Swift-UIKit-UITextField/"/>
      <content type="html"><![CDATA[<h1 id="æ–‡æœ¬è¾“å…¥æ¡†"><a href="#æ–‡æœ¬è¾“å…¥æ¡†" class="headerlink" title="æ–‡æœ¬è¾“å…¥æ¡†"></a>æ–‡æœ¬è¾“å…¥æ¡†</h1><blockquote><p>åˆ›å»º+frame</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> textField = <span class="type">UITextField</span>(frame: <span class="type">CGRect</span>(x:<span class="number">10</span>, y:<span class="number">60</span>, width:<span class="number">200</span>, height:<span class="number">30</span>))</div><div class="line"><span class="comment">// let textField = UITextField()</span></div><div class="line"><span class="comment">// textField.frame = CGRect(x:20,y:30,width:100,height:30)</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®è¾¹æ¡†æ ·å¼ä¸ºåœ†è§’çŸ©å½¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.borderStyle = <span class="type">UITextBorderStyle</span>.roundedRect</div><div class="line"><span class="keyword">self</span>.view.addSubview(textField)</div></pre></td></tr></table></figure><blockquote><p>æ–‡æœ¬è¾“å…¥æ¡†çš„è¾¹æ¡†æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UITextBorderStyle</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">        <span class="keyword">case</span> <span class="keyword">none</span> æ— è¾¹æ¡†</div><div class="line">        <span class="keyword">case</span> line ç›´çº¿è¾¹æ¡†</div><div class="line">        <span class="keyword">case</span> bezel åœ†è§’çŸ©å½¢è¾¹æ¡†</div><div class="line">        <span class="keyword">case</span> roundedRect è¾¹çº¿+é˜´å½±</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ–‡æœ¬è¾“å…¥æ¡†çš„æç¤ºæ–‡å­—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.placeholder = <span class="string">"è¯·è¾“å…¥ç›¸å…³ä¿¡æ¯"</span></div></pre></td></tr></table></figure><blockquote><p>æ–‡å­—å¤§å°è¶…è¿‡æ–‡æœ¬æ¡†é•¿åº¦æ—¶è‡ªåŠ¨ç¼©å°å­—å·ï¼Œè€Œä¸æ˜¯éšè—æ˜¾ç¤ºçœç•¥å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> textField.adjustsFontSizeToFitWidth=<span class="literal">true</span>  <span class="comment">//å½“æ–‡å­—è¶…å‡ºæ–‡æœ¬æ¡†å®½åº¦æ—¶ï¼Œè‡ªåŠ¨è°ƒæ•´æ–‡å­—å¤§å°</span></div><div class="line">textField.minimumFontSize=<span class="number">14</span>              <span class="comment">//æœ€å°å¯ç¼©å°çš„å­—å·</span></div></pre></td></tr></table></figure><blockquote><p>æ°´å¹³/å‚ç›´å¯¹é½æ–¹å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">/** æ°´å¹³å¯¹é½ **/</span></div><div class="line">textField.textAlignment = .<span class="keyword">right</span> <span class="comment">//æ°´å¹³å³å¯¹é½</span></div><div class="line">textField.textAlignment = .center <span class="comment">//æ°´å¹³å±…ä¸­å¯¹é½</span></div><div class="line">textField.textAlignment = .<span class="keyword">left</span> <span class="comment">//æ°´å¹³å·¦å¯¹é½</span></div><div class="line"> </div><div class="line"><span class="comment">/** å‚ç›´å¯¹é½ **/</span></div><div class="line">textField.contentVerticalAlignment = .top  <span class="comment">//å‚ç›´å‘ä¸Šå¯¹é½</span></div><div class="line">textField.contentVerticalAlignment = .center  <span class="comment">//å‚ç›´å±…ä¸­å¯¹é½</span></div><div class="line">textField.contentVerticalAlignment = .bottom  <span class="comment">//å‚ç›´å‘ä¸‹å¯¹é½</span></div></pre></td></tr></table></figure><blockquote><p>èƒŒæ™¯å›¾ç‰‡è®¾ç½®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.borderStyle = .<span class="keyword">none</span> <span class="comment">//å…ˆè¦å»é™¤è¾¹æ¡†æ ·å¼</span></div><div class="line">textField.background = <span class="type">UIImage</span>(named:<span class="string">"background1"</span>)</div></pre></td></tr></table></figure><blockquote><p>æ¸…é™¤æŒ‰é’®ï¼ˆè¾“å…¥æ¡†å†…å³ä¾§å°å‰ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.clearButtonMode = .whileEditing  <span class="comment">//ç¼–è¾‘æ—¶å‡ºç°æ¸…é™¤æŒ‰é’®</span></div><div class="line">textField.clearButtonMode = .unlessEditing  <span class="comment">//ç¼–è¾‘æ—¶ä¸å‡ºç°ï¼Œç¼–è¾‘åæ‰å‡ºç°æ¸…é™¤æŒ‰é’®</span></div><div class="line">textField.clearButtonMode = .always  <span class="comment">//ä¸€ç›´æ˜¾ç¤ºæ¸…é™¤æŒ‰é’®</span></div></pre></td></tr></table></figure><blockquote><p>é”®ç›˜ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Default</span>ï¼š                ç³»ç»Ÿé»˜è®¤çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">ASCII</span> <span class="type">Capable</span>ï¼š          æ˜¾ç¤ºè‹±æ–‡å­—æ¯çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Numbers</span> and <span class="type">Punctuation</span>ï¼šæ˜¾ç¤ºæ•°å­—å’Œæ ‡ç‚¹çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">URL</span>ï¼š                    æ˜¾ç¤ºä¾¿äºè¾“å…¥urlç½‘å€çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Number</span> <span class="type">Pad</span>ï¼š             æ˜¾ç¤ºä¾¿äºè¾“å…¥æ•°å­—çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Phone</span> <span class="type">Pad</span>ï¼š              æ˜¾ç¤ºä¾¿äºæ‹¨å·å‘¼å«çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Name</span> <span class="type">Phone</span> <span class="type">Pad</span>ï¼š         æ˜¾ç¤ºä¾¿äºèŠå¤©æ‹¨å·çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Email</span> <span class="type">Address</span>ï¼š          æ˜¾ç¤ºä¾¿äºè¾“å…¥<span class="type">Email</span>çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Decimal</span> <span class="type">Pad</span>ï¼š            æ˜¾ç¤ºç”¨äºè¾“å…¥æ•°å­—å’Œå°æ•°ç‚¹çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Twitter</span>ï¼š                æ˜¾ç¤ºæ–¹ä¾¿äº›<span class="type">Twitter</span>çš„è™šæ‹Ÿé”®ç›˜</div><div class="line"><span class="type">Web</span> <span class="type">Search</span>ï¼š             æ˜¾ç¤ºä¾¿äºåœ¨ç½‘é¡µä¸Šä¹¦å†™çš„è™šæ‹Ÿé”®ç›˜</div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®æ–‡æœ¬æ¡†å…³è”çš„é”®ç›˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.keyboardType = <span class="type">UIKeyboardType</span>.numberPad</div></pre></td></tr></table></figure><blockquote><p>ä½¿æ–‡æœ¬æ¡†å¤±å»ç„¦ç‚¹ï¼Œå¹¶æ”¶å›é”®ç›˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.resignFirstResponder()</div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®é”®ç›˜returné”®çš„æ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> extField.returnKeyType = <span class="type">UIReturnKeyType</span>.done     <span class="comment">//è¡¨ç¤ºå®Œæˆè¾“å…¥</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.go      <span class="comment">//è¡¨ç¤ºå®Œæˆè¾“å…¥ï¼ŒåŒæ—¶ä¼šè·³åˆ°å¦ä¸€é¡µ</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.search  <span class="comment">//è¡¨ç¤ºæœç´¢</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.<span class="built_in">join</span>    <span class="comment">//è¡¨ç¤ºæ³¨å†Œç”¨æˆ·æˆ–æ·»åŠ æ•°æ®</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.next    <span class="comment">//è¡¨ç¤ºç»§ç»­ä¸‹ä¸€æ­¥</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.send    <span class="comment">//è¡¨ç¤ºå‘é€</span></div></pre></td></tr></table></figure><blockquote><p>é”®ç›˜returné”®çš„å“åº”</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">import</span> UIKit</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">UITextFieldDelegate</span> </span>&#123;</div><div class="line">     </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">         </div><div class="line">        <span class="keyword">let</span> textField = <span class="type">UITextField</span>(frame: <span class="type">CGRect</span>(x:<span class="number">10</span>,y:<span class="number">160</span>,width:<span class="number">200</span>,height:<span class="number">30</span>))</div><div class="line">        <span class="comment">//è®¾ç½®è¾¹æ¡†æ ·å¼ä¸ºåœ†è§’çŸ©å½¢</span></div><div class="line">        textField.borderStyle = <span class="type">UITextBorderStyle</span>.roundedRect</div><div class="line">        textField.returnKeyType = <span class="type">UIReturnKeyType</span>.done</div><div class="line">        textField.delegate=<span class="keyword">self</span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(textField)</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        <span class="comment">//æ”¶èµ·é”®ç›˜</span></div><div class="line">        textField.resignFirstResponder()</div><div class="line">        <span class="comment">//æ‰“å°å‡ºæ–‡æœ¬æ¡†ä¸­çš„å€¼</span></div><div class="line">        <span class="built_in">print</span>(textField.text)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è¾“å…¥/æ˜¾ç¤ºæ–‡æœ¬å­—ä½“çš„é¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.textColor = <span class="type">UIColor</span>.cyan</div></pre></td></tr></table></figure><blockquote><p>æ–‡æœ¬æ¡†çš„å­—ä½“å¤§å°è®¾ç½®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//text.font = [UIFont fontWithName:@"Arial" size:20.0f];   //è®¾ç½®è¾“å…¥æ¡†å†…å®¹çš„å­—ä½“æ ·å¼å’Œå¤§å°</span></div><div class="line">textField.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">14</span>)</div></pre></td></tr></table></figure><blockquote><p>æ–‡æœ¬è¾“å…¥æ¡†çš„ä»£ç†è®¾ç½®ï¼ˆéµå®ˆUITextFieldDelegateåè®®ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">UITextFieldDelegate</span> </span>&#123;</div><div class="line"></div><div class="line">textField.delegate = <span class="keyword">self</span></div></pre></td></tr></table></figure><blockquote><p>è¾“å…¥æ¡†çš„èƒŒæ™¯é¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">text.backgroundColor = [<span class="type">UIColor</span> whiteColor]<span class="comment">//è®¾ç½®è¾“å…¥æ¡†çš„èƒŒæ™¯é¢œè‰²ï¼Œæ­¤æ—¶è®¾ç½®ä¸ºç™½è‰² å¦‚æœä½¿ç”¨äº†è‡ªå®šä¹‰çš„èƒŒæ™¯å›¾ç‰‡è¾¹æ¡†ä¼šè¢«å¿½ç•¥æ‰ ~~~</span></div></pre></td></tr></table></figure><blockquote><p>è¾“å…¥æ¡†ä¸­ä¸€å¼€å§‹å°±æœ‰çš„æ–‡å­—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">text.text = @<span class="string">"æ–‡å­—"</span>;</div></pre></td></tr></table></figure><blockquote><p>æ˜¯å¦è‡ªåŠ¨çº é”™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> text.autocorrectionType = <span class="type">UITextAutocorrectionTypeNo</span></div><div class="line"> å‡ ç§é€‰æ‹©æ ·å¼</div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line"><span class="type">UITextAutocorrectionTypeDefault</span>, é»˜è®¤</div><div class="line"><span class="type">UITextAutocorrectionTypeNo</span>, ä¸è‡ªåŠ¨çº é”™</div><div class="line"><span class="type">UITextAutocorrectionTypeYes</span>, è‡ªåŠ¨çº é”™</div><div class="line">&#125; <span class="type">UITextAutocorrectionType</span>;</div></pre></td></tr></table></figure><blockquote><p>å†æ¬¡ç¼–è¾‘å°±æ¸…ç©º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">text.clearsOnBeginEditing = <span class="type">YES</span></div></pre></td></tr></table></figure><blockquote><p>é¦–å­—æ¯æ˜¯å¦è‡ªåŠ¨å¤§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> text.autocapitalizationType = <span class="type">UITextAutocapitalizationTypeNone</span>;</div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line"><span class="type">UITextAutocapitalizationTypeNone</span>, ä¸è‡ªåŠ¨å¤§å†™</div><div class="line"><span class="type">UITextAutocapitalizationTypeWords</span>, å•è¯é¦–å­—æ¯å¤§å†™</div><div class="line"><span class="type">UITextAutocapitalizationTypeSentences</span>, å¥å­çš„é¦–å­—æ¯å¤§å†™</div><div class="line"><span class="type">UITextAutocapitalizationTypeAllCharacters</span>, æ‰€æœ‰å­—æ¯éƒ½å¤§å†™</div><div class="line">&#125; <span class="type">UITextAutocapitalizationType</span>;</div></pre></td></tr></table></figure><blockquote><p>é”®ç›˜å¤–è§‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> textView.keyboardAppearance=<span class="type">UIKeyboardAppearanceDefault</span></div><div class="line"> </div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line"><span class="type">UIKeyboardAppearanceDefault</span>ï¼Œ é»˜è®¤å¤–è§‚ï¼Œæµ…ç°è‰²</div><div class="line"><span class="type">UIKeyboardAppearanceAlert</span>ï¼Œ æ·±ç° çŸ³å¢¨è‰²</div><div class="line">&#125; <span class="type">UIReturnKeyType</span>;</div></pre></td></tr></table></figure><blockquote><p>æœ€å³ä¾§åŠ å›¾ç‰‡æ˜¯ä»¥ä¸‹ä»£ç ï¼ˆå·¦ä¾§ç±»ä¼¼ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="type">UIImageView</span> *image=[[<span class="type">UIImageView</span> alloc] initWithImage:[<span class="type">UIImage</span> imageNamed:@<span class="string">"right.png"</span>]] <span class="comment">//</span></div><div class="line">text.rightView=image;</div><div class="line">text.rightViewMode = <span class="type">UITextFieldViewModeAlways</span></div><div class="line"></div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line"><span class="type">UITextFieldViewModeNever</span>,</div><div class="line"><span class="type">UITextFieldViewModeWhileEditing</span>,</div><div class="line"><span class="type">UITextFieldViewModeUnlessEditing</span>,</div><div class="line"><span class="type">UITextFieldViewModeAlways</span></div><div class="line">&#125; <span class="type">UITextFieldViewMode</span>;</div></pre></td></tr></table></figure><blockquote><p>é‡å†™ç»˜åˆ¶è¡Œä¸º<br>é™¤äº†UITextFieldå¯¹è±¡çš„é£æ ¼é€‰é¡¹ï¼Œä½ è¿˜å¯ä»¥å®šåˆ¶åŒ–UITextFieldå¯¹è±¡ï¼Œä¸ºä»–æ·»åŠ è®¸å¤šä¸åŒçš„é‡å†™æ–¹æ³•ï¼Œæ¥æ”¹å˜æ–‡æœ¬å­—æ®µçš„æ˜¾ç¤ºè¡Œä¸ºã€‚è¿™äº›æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªCGRectç»“æ„ï¼Œåˆ¶å®šäº†æ–‡æœ¬å­—æ®µæ¯ä¸ªéƒ¨ä»¶çš„è¾¹ç•ŒèŒƒå›´ã€‚ä»¥ä¸‹æ–¹æ³•éƒ½å¯ä»¥é‡å†™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> â€“ textRectForBounds:ã€€ã€€ <span class="comment">//é‡å†™æ¥é‡ç½®æ–‡å­—åŒºåŸŸ</span></div><div class="line">â€“ drawTextInRect:ã€€ã€€ <span class="comment">//æ”¹å˜ç»˜æ–‡å­—å±æ€§.é‡å†™æ—¶è°ƒç”¨superå¯ä»¥æŒ‰é»˜è®¤å›¾å½¢å±æ€§ç»˜åˆ¶,è‹¥è‡ªå·±å®Œå…¨é‡å†™ç»˜åˆ¶å‡½æ•°ï¼Œå°±ä¸ç”¨è°ƒç”¨superäº†.</span></div><div class="line">â€“ placeholderRectForBounds:ã€€ã€€<span class="comment">//é‡å†™æ¥é‡ç½®å ä½ç¬¦åŒºåŸŸ</span></div><div class="line">â€“ drawPlaceholderInRect:ã€€ã€€<span class="comment">//é‡å†™æ”¹å˜ç»˜åˆ¶å ä½ç¬¦å±æ€§.é‡å†™æ—¶è°ƒç”¨superå¯ä»¥æŒ‰é»˜è®¤å›¾å½¢å±æ€§ç»˜åˆ¶,è‹¥è‡ªå·±å®Œå…¨é‡å†™ç»˜åˆ¶å‡½æ•°ï¼Œå°±ä¸ç”¨è°ƒç”¨superäº†.</span></div><div class="line">â€“ borderRectForBounds:ã€€ã€€<span class="comment">//é‡å†™æ¥é‡ç½®è¾¹ç¼˜åŒºåŸŸ</span></div><div class="line">â€“ editingRectForBounds:ã€€ã€€<span class="comment">//é‡å†™æ¥é‡ç½®ç¼–è¾‘åŒºåŸŸ</span></div><div class="line">â€“ clearButtonRectForBounds:ã€€ã€€<span class="comment">//é‡å†™æ¥é‡ç½®clearButtonä½ç½®,æ”¹å˜sizeå¯èƒ½å¯¼è‡´buttonçš„å›¾ç‰‡å¤±çœŸ</span></div><div class="line">â€“ leftViewRectForBounds:</div><div class="line">â€“ rightViewRectForBounds:</div></pre></td></tr></table></figure><blockquote><p>å§”æ‰˜æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> (<span class="type">BOOL</span>)textFieldShouldBeginEditing:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//è¿”å›ä¸€ä¸ªBOOLå€¼ï¼ŒæŒ‡å®šæ˜¯å¦å¾ªåºæ–‡æœ¬å­—æ®µå¼€å§‹ç¼–è¾‘</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line">(void)textFieldDidBeginEditing:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//å¼€å§‹ç¼–è¾‘æ—¶è§¦å‘ï¼Œæ–‡æœ¬å­—æ®µå°†æˆä¸ºfirst responder</span></div><div class="line">&#125;</div><div class="line">(<span class="type">BOOL</span>)textFieldShouldEndEditing:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//è¿”å›BOOLå€¼ï¼ŒæŒ‡å®šæ˜¯å¦å…è®¸æ–‡æœ¬å­—æ®µç»“æŸç¼–è¾‘ï¼Œå½“ç¼–è¾‘ç»“æŸï¼Œæ–‡æœ¬å­—æ®µä¼šè®©å‡ºfirst responder</span></div><div class="line"><span class="comment">//è¦æƒ³åœ¨ç”¨æˆ·ç»“æŸç¼–è¾‘æ—¶é˜»æ­¢æ–‡æœ¬å­—æ®µæ¶ˆå¤±ï¼Œå¯ä»¥è¿”å›NO</span></div><div class="line"><span class="comment">//è¿™å¯¹ä¸€äº›æ–‡æœ¬å­—æ®µå¿…é¡»å§‹ç»ˆä¿æŒæ´»è·ƒçŠ¶æ€çš„ç¨‹åºå¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚å³æ—¶æ¶ˆæ¯</span></div><div class="line"><span class="keyword">return</span> <span class="type">NO</span>;</div><div class="line">&#125;</div><div class="line">(<span class="type">BOOL</span>)textField:(<span class="type">UITextField</span>*)textField shouldChangeCharactersInRange:(<span class="type">NSRange</span>)range replacementString:(<span class="type">NSString</span> *)string&#123;</div><div class="line"><span class="comment">//å½“ç”¨æˆ·ä½¿ç”¨è‡ªåŠ¨æ›´æ­£åŠŸèƒ½ï¼ŒæŠŠè¾“å…¥çš„æ–‡å­—ä¿®æ”¹ä¸ºæ¨èçš„æ–‡å­—æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</span></div><div class="line"><span class="comment">//è¿™å¯¹äºæƒ³è¦åŠ å…¥æ’¤é”€é€‰é¡¹çš„åº”ç”¨ç¨‹åºç‰¹åˆ«æœ‰ç”¨</span></div><div class="line"><span class="comment">//å¯ä»¥è·Ÿè¸ªå­—æ®µå†…æ‰€åšçš„æœ€åä¸€æ¬¡ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥å¯¹æ‰€æœ‰ç¼–è¾‘åšæ—¥å¿—è®°å½•,ç”¨ä½œå®¡è®¡ç”¨é€”ã€‚</span></div><div class="line"><span class="comment">//è¦é˜²æ­¢æ–‡å­—è¢«æ”¹å˜å¯ä»¥è¿”å›NO</span></div><div class="line"><span class="comment">//è¿™ä¸ªæ–¹æ³•çš„å‚æ•°ä¸­æœ‰ä¸€ä¸ªNSRangeå¯¹è±¡ï¼ŒæŒ‡æ˜äº†è¢«æ”¹å˜æ–‡å­—çš„ä½ç½®ï¼Œå»ºè®®ä¿®æ”¹çš„æ–‡æœ¬ä¹Ÿåœ¨å…¶ä¸­</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line">(<span class="type">BOOL</span>)textFieldShouldClear:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//è¿”å›ä¸€ä¸ªBOOLå€¼æŒ‡æ˜æ˜¯å¦å…è®¸æ ¹æ®ç”¨æˆ·è¯·æ±‚æ¸…é™¤å†…å®¹</span></div><div class="line"><span class="comment">//å¯ä»¥è®¾ç½®åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰å…è®¸æ¸…é™¤å†…å®¹</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line">-(<span class="type">BOOL</span>)textFieldShouldReturn:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//è¿”å›ä¸€ä¸ªBOOLå€¼ï¼ŒæŒ‡æ˜æ˜¯å¦å…è®¸åœ¨æŒ‰ä¸‹å›è½¦é”®æ—¶ç»“æŸç¼–è¾‘</span></div><div class="line"><span class="comment">//å¦‚æœå…è®¸è¦è°ƒç”¨resignFirstResponder æ–¹æ³•ï¼Œè¿™å›å¯¼è‡´ç»“æŸç¼–è¾‘ï¼Œè€Œé”®ç›˜ä¼šè¢«æ”¶èµ·[textField resignFirstResponder];</span></div><div class="line"><span class="comment">//æŸ¥ä¸€ä¸‹resignè¿™ä¸ªå•è¯çš„æ„æ€å°±æ˜ç™½è¿™ä¸ªæ–¹æ³•äº†</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>é€šçŸ¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="type">UITextField</span>æ´¾ç”Ÿè‡ª<span class="type">UIControl</span>ï¼Œæ‰€ä»¥<span class="type">UIControl</span>ç±»ä¸­çš„é€šçŸ¥ç³»ç»Ÿåœ¨æ–‡æœ¬å­—æ®µä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚é™¤äº†<span class="type">UIControl</span>ç±»çš„æ ‡å‡†äº‹ä»¶ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ä¸‹åˆ—<span class="type">UITextField</span>ç±»ç‰¹æœ‰çš„äº‹ä»¶</div><div class="line"><span class="type">UITextFieldTextDidBeginEditingNotification</span></div><div class="line"><span class="type">UITextFieldTextDidChangeNotification</span></div><div class="line"><span class="type">UITextFieldTextDidEndEditingNotification</span></div><div class="line">å½“æ–‡æœ¬å­—æ®µé€€å‡ºç¼–è¾‘æ¨¡å¼æ—¶è§¦å‘ã€‚é€šçŸ¥çš„objectå±æ€§å­˜å‚¨äº†æœ€ç»ˆæ–‡æœ¬ã€‚</div><div class="line">å› ä¸ºæ–‡æœ¬å­—æ®µè¦ä½¿ç”¨é”®ç›˜è¾“å…¥æ–‡å­—ï¼Œæ‰€ä»¥ä¸‹é¢è¿™äº›äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä¹Ÿä¼šå‘é€åŠ¨ä½œé€šçŸ¥</div><div class="line"><span class="type">UIKeyboardWillShowNotification</span>   <span class="comment">//é”®ç›˜æ˜¾ç¤ºä¹‹å‰å‘é€</span></div><div class="line"><span class="type">UIKeyboardDidShowNotification</span>    <span class="comment">//é”®ç›˜æ˜¾ç¤ºä¹‹åå‘é€</span></div><div class="line"><span class="type">UIKeyboardWillHideNotification</span>   <span class="comment">//é”®ç›˜éšè—ä¹‹å‰å‘é€</span></div><div class="line"><span class="type">UIKeyboardDidHideNotification</span>    <span class="comment">//é”®ç›˜éšè—ä¹‹åå‘é€</span></div><div class="line"></div><div class="line"><span class="comment">//æ·»åŠ é€šçŸ¥æ–¹æ³•</span></div><div class="line"><span class="type">NSNotificationCenter</span>.defaultCenter().addObserver(<span class="keyword">self</span>, selector: <span class="type">Selector</span>(<span class="string">"textFiledEditChanged:"</span>), name: <span class="type">UITextFieldTextDidChangeNotification</span>, object: textfield)</div></pre></td></tr></table></figure><blockquote><p>é™åˆ¶åªèƒ½è¾“å…¥ç‰¹å®šçš„å­—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> -(<span class="type">BOOL</span>)textField:(<span class="type">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="type">NSRange</span>)range replacementString:(<span class="type">NSString</span> *)string&#123;</div><div class="line"><span class="type">NSCharacterSet</span> *cs;</div><div class="line">cs = [[<span class="type">NSCharacterSet</span> characterSetWithCharactersInString:<span class="type">NUMBERS</span>]invertedSet];</div><div class="line"><span class="type">NSString</span> *filtered = [[string componentsSeparatedByCharactersInSet:cs]componentsJoinedByString:@<span class="string">""</span>];<span class="comment">//æŒ‰csåˆ†ç¦»å‡ºæ•°ç»„,æ•°ç»„æŒ‰@""åˆ†ç¦»å‡ºå­—ç¬¦ä¸²</span></div><div class="line"><span class="type">BOOL</span> canChange = [string isEqualToString:filtered];</div><div class="line"><span class="keyword">return</span> canChange;</div><div class="line">&#125;</div><div class="line">ä¸Šé¢è¿™ä¸ª<span class="type">NUMBERS</span>æ˜¯ä¸€ä¸ªå®ï¼Œå¯ä»¥åœ¨æ–‡ä»¶é¡¶éƒ¨å®šä¹‰ï¼š</div><div class="line">define <span class="type">NUMBERS</span> @â€<span class="number">0123456789</span>\nâ€</div><div class="line">å¦‚æœä½ è¦é™åˆ¶è¾“å…¥è‹±æ–‡å’Œæ•°å­—çš„è¯ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªå®šä¹‰ä¸ºï¼š</div><div class="line">define kAlphaNum @â€<span class="type">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789</span>â€³</div></pre></td></tr></table></figure><blockquote><p>é™åˆ¶åªèƒ½è¾“å…¥ä¸€å®šé•¿åº¦çš„å­—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> (<span class="type">BOOL</span>)textField:(<span class="type">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="type">NSRange</span>)range replacementString:(<span class="type">NSString</span> *)string;</div><div class="line">&#123; <span class="comment">//stringå°±æ˜¯æ­¤æ—¶è¾“å…¥çš„é‚£ä¸ªå­—ç¬¦ textFieldå°±æ˜¯æ­¤æ—¶æ­£åœ¨è¾“å…¥çš„é‚£ä¸ªè¾“å…¥æ¡† è¿”å›YESå°±æ˜¯å¯ä»¥æ”¹å˜è¾“å…¥æ¡†çš„å€¼ NOç›¸å</span></div><div class="line"><span class="keyword">if</span> ([string isEqualToString:@<span class="string">"\n"</span>]) <span class="comment">//æŒ‰ä¼šè½¦å¯ä»¥æ”¹å˜</span></div><div class="line">&#123;</div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line"><span class="type">NSString</span> * toBeString = [textField.text stringByReplacingCharactersInRange:range withString:string];<span class="comment">//å¾—åˆ°è¾“å…¥æ¡†çš„å†…å®¹</span></div><div class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.myTextField == textField) <span class="comment">//åˆ¤æ–­æ˜¯å¦æ—¶æˆ‘ä»¬æƒ³è¦é™å®šçš„é‚£ä¸ªè¾“å…¥æ¡†</span></div><div class="line">&#123;</div><div class="line"><span class="keyword">if</span> ([toBeString length] &gt; <span class="number">20</span>) &#123; <span class="comment">//å¦‚æœè¾“å…¥æ¡†å†…å®¹å¤§äº20åˆ™å¼¹å‡ºè­¦å‘Š</span></div><div class="line">textField.text = [toBeString substringToIndex:<span class="number">20</span>];</div><div class="line"><span class="type">UIAlertView</span> *alert = [[[<span class="type">UIAlertView</span> alloc] initWithTitle:<span class="literal">nil</span> message:@<span class="string">"è¶…è¿‡æœ€å¤§å­—æ•°ä¸èƒ½è¾“å…¥äº†"</span> delegate:<span class="literal">nil</span> cancelButtonTitle:@<span class="string">"Ok"</span> otherButtonTitles:<span class="literal">nil</span>, <span class="literal">nil</span>] autorelease];</div><div class="line">[alert show];</div><div class="line"><span class="keyword">return</span> <span class="type">NO</span>;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//è®¾ç½®èƒ½ä¸èƒ½è¿›è¡Œç¼–è¾‘/ç”¨æˆ·äº¤äº’çš„å¼€å…³</span></div><div class="line">textfield.enabled = <span class="literal">true</span></div><div class="line">textfield.userInteractionEnabled = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">//è®¾ç½®åœ†è§’å±æ€§</span></div><div class="line">textField.layer.cornerRadius = <span class="number">10.0</span></div><div class="line">textField.layer.masksToBounds = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">//è‡ªå®šä¹‰è¾“å…¥æºæ§ä»¶</span></div><div class="line"><span class="keyword">let</span> inputview = <span class="type">UIButton</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="type">CGRectGetWidth</span>(<span class="keyword">self</span>.view.bounds), <span class="number">100.0</span>))</div><div class="line">inputview.setImage(<span class="type">UIImage</span>(named: <span class="string">"normalImage"</span>), forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line">inputview.backgroundColor = <span class="type">UIColor</span>.lightGrayColor()</div><div class="line">inputview.addTarget(<span class="keyword">self</span>, action: <span class="type">Selector</span>(<span class="string">"click:"</span>), forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</div><div class="line">textfield.inputView = inputview</div><div class="line"></div><div class="line"><span class="comment">// è‡ªå®šä¹‰è¾“å…¥æºæ§ä»¶å‰¯è§†å›¾</span></div><div class="line"><span class="keyword">let</span> accessoryview = <span class="type">UIView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="type">CGRectGetWidth</span>(<span class="keyword">self</span>.view.bounds), <span class="number">40.0</span>))</div><div class="line">accessoryview.backgroundColor = <span class="type">UIColor</span>.greenColor()</div><div class="line"><span class="keyword">let</span> accessoryLeft = <span class="type">UIButton</span>(frame: <span class="type">CGRectMake</span>(<span class="number">10.0</span>, <span class="number">10.0</span>, <span class="number">60.0</span>, <span class="number">20.0</span>))</div><div class="line">accessoryview.addSubview(accessoryLeft)</div><div class="line">accessoryLeft.setTitle(<span class="string">"å–æ¶ˆ"</span>, forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line">accessoryLeft.backgroundColor = <span class="type">UIColor</span>.orangeColor()</div><div class="line">accessoryLeft.addTarget(<span class="keyword">self</span>, action: <span class="type">Selector</span>(<span class="string">"leftClick:"</span>), forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</div><div class="line"><span class="keyword">let</span> accessoryRight = <span class="type">UIButton</span>(frame: <span class="type">CGRectMake</span>((<span class="type">CGRectGetWidth</span>(accessoryview.bounds) - <span class="number">10.0</span> - <span class="number">60.0</span>), <span class="number">10.0</span>, <span class="number">60.0</span>, <span class="number">20.0</span>))</div><div class="line">accessoryview.addSubview(accessoryRight)</div><div class="line">accessoryRight.setTitle(<span class="string">"ç¡®å®š"</span>, forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line">accessoryRight.backgroundColor = <span class="type">UIColor</span>.orangeColor()</div><div class="line">accessoryRight.addTarget(<span class="keyword">self</span>, action: <span class="type">Selector</span>(<span class="string">"rightClick:"</span>), forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</div><div class="line">textfield.inputAccessoryView = accessoryview</div><div class="line"></div><div class="line"><span class="comment">// è‡ªå®šä¹‰è¾“å…¥æºæ§ä»¶æ—¶å“åº”äº‹ä»¶</span></div><div class="line"><span class="comment">// MARK: - click</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">click</span><span class="params">(button:UIButton)</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">self</span>.view.endEditing(<span class="literal">true</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//MARK: - left/right click</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">leftClick</span><span class="params">(button:UIButton)</span></span></div><div class="line">&#123;</div><div class="line"><span class="built_in">print</span>(<span class="string">"å–æ¶ˆ"</span>)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">rightClick</span><span class="params">(button:UIButton)</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">self</span>.view.endEditing(<span class="literal">true</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"ç¡®å®š"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UITextField </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UITextField </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UILabel</title>
      <link href="/2017/12/06/Swift/UIKit/UILabel/"/>
      <content type="html"><![CDATA[<h1 id="lab"><a href="#lab" class="headerlink" title="lab"></a>lab</h1><blockquote><p>åˆ›å»º&amp;&amp; è®¾ç½®frame</p></blockquote> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> lab = <span class="type">UILabel</span>(frame:<span class="type">CGRect</span>(x:<span class="number">10</span>,y:<span class="number">100</span>,width:<span class="keyword">self</span>.view.frame.size.width - <span class="number">40</span>,height:<span class="number">200</span>))</div><div class="line"></div><div class="line"> æˆ–</div><div class="line"> </div><div class="line"><span class="keyword">let</span> lab = <span class="type">UILabel</span>()</div><div class="line">lab.frame = <span class="type">CGRect</span>(x:<span class="number">10</span>,y:<span class="number">100</span>,width:<span class="keyword">self</span>.view.frame.size.width - <span class="number">40</span>,height:<span class="number">200</span>)</div></pre></td></tr></table></figure><blockquote><p>æ·»åŠ çˆ¶å±‚</p></blockquote> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.view.addSubview(lab);</div></pre></td></tr></table></figure><blockquote><p>æ˜¾ç¤ºæ–‡æœ¬å†…å®¹</p></blockquote> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.text = <span class="string">"chen jian !"</span></div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®bgé¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.backgroundColor = <span class="type">UIColor</span>.green</div></pre></td></tr></table></figure><blockquote><p>æ–‡å­—é¢œè‰²</p></blockquote> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.textColor = <span class="type">UIColor</span>.white</div></pre></td></tr></table></figure><blockquote><p>æ–‡å­—å¯¹é½æ–¹å¼</p></blockquote> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line">lab.textAlignment = <span class="type">NSTextAlignment</span>.<span class="keyword">left</span></div></pre></td></tr></table></figure><blockquote><p>é«˜äº®æ–‡å­—é¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.highlightedTextColor = <span class="type">UIColor</span>.cyan</div></pre></td></tr></table></figure><blockquote><p>é˜´å½±é¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.shadowColor = <span class="type">UIColor</span>.black</div></pre></td></tr></table></figure><blockquote><p>é˜´å½±åç§»ä½ç½®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.shadowOffset = <span class="type">CGSize</span>(width:-<span class="number">5</span>,height:<span class="number">5</span>)</div></pre></td></tr></table></figure><blockquote><p>è®¾ç½®åœ†è§’</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.layer.cornerRadius = <span class="number">20</span></div><div class="line">lab.layer.masksToBounds = <span class="literal">true</span></div></pre></td></tr></table></figure><blockquote><p>è¾¹æ¡†çš„å®½åº¦å’Œé¢œè‰²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.layer.borderColor = <span class="type">UIColor</span>.green.cgColor</div><div class="line">lab.layer.borderWidth = <span class="number">2</span></div></pre></td></tr></table></figure><blockquote><p>æ–‡å­—ç±»å‹/å¤§å°</p></blockquote> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.font = <span class="type">UIFont</span>.boldSystemFont(ofSize: <span class="number">20</span>)  <span class="comment">//åŠ ç²—ç±»å‹</span></div><div class="line">lab.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">20</span>)      <span class="comment">//æ–‡å­—å¤§å°</span></div><div class="line">lab.font = <span class="type">UIFont</span>.italicSystemFont(ofSize: <span class="number">20</span>)<span class="comment">//æ–œä½“ç±»å‹</span></div><div class="line">lab.font = <span class="type">UIFont</span>(name:<span class="string">"æ‚¨å¥½"</span>,size:<span class="number">50</span>)         <span class="comment">//å¤§å°å’Œæ–‡å­—ä¸€èµ·è®¾ç½®</span></div></pre></td></tr></table></figure><blockquote><p>æ˜¾ç¤ºdeæ ·å¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   lab.lineBreakMode = <span class="type">NSLineBreakMode</span>.byCharWrapping</div><div class="line">   </div><div class="line">   <span class="comment">// NSParagraphStyle</span></div><div class="line"><span class="meta">@available</span>(iOS <span class="number">6.0</span>, *)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">NSLineBreakMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="keyword">case</span> byWordWrapping <span class="comment">// Wrap at word boundaries, default</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byCharWrapping <span class="comment">// Wrap at character boundaries</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byClipping <span class="comment">// Simply clip</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byTruncatingHead <span class="comment">// Truncate at head of line: "...wxyz"</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byTruncatingTail <span class="comment">// Truncate at tail of line: "abcd..."</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byTruncatingMiddle <span class="comment">// Truncate middle of line:  "ab...yz"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¤šè¡Œdeæ˜¾ç¤º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.numberOfLines = <span class="number">2</span> <span class="comment">//æœ€å¤šæ˜¾ç¤º2è¡Œ</span></div><div class="line">lab.numberOfLines = <span class="number">0</span> <span class="comment">// é»˜è®¤æ²¡æœ‰è¡Œæ•°æ˜¾ç¤º</span></div><div class="line">lab.numberOfLines = <span class="number">1</span> <span class="comment">//åªèƒ½æ˜¾ç¤ºä¸€è¡Œ</span></div></pre></td></tr></table></figure><blockquote><p>è‡ªåŠ¨è°ƒæ•´æ–‡å­—deå¤§å°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.adjustsFontSizeToFitWidth  =  <span class="literal">true</span></div></pre></td></tr></table></figure><h1 id="å¯Œæ–‡æœ¬è®¾ç½®"><a href="#å¯Œæ–‡æœ¬è®¾ç½®" class="headerlink" title="å¯Œæ–‡æœ¬è®¾ç½®"></a>å¯Œæ–‡æœ¬è®¾ç½®</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">//åˆ›å»ºå¯¹è±¡</span></div><div class="line"><span class="keyword">let</span> attributeString = <span class="type">NSMutableAttributedString</span>(string:<span class="string">"Welcome to Swift! Welcome to Swift! Welcome to Swift! Welcome to Swift!"</span>)</div><div class="line"><span class="comment">//è®¾ç½®å­—ä½“å¤§å°/å­—ä½“ç±»å‹</span></div><div class="line">attributeString.addAttribute(<span class="type">NSFontAttributeName</span>, value: <span class="type">UIFont</span>(name: <span class="string">"HelveticaNeue-Bold"</span>, size: <span class="number">16</span>)!, range: <span class="type">NSMakeRange</span>(<span class="number">0</span>, <span class="number">6</span>))</div><div class="line"><span class="comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²           </span></div><div class="line">attributeString.addAttribute(<span class="type">NSForegroundColorAttributeName</span>, value: <span class="type">UIColor</span>.red, range: <span class="type">NSMakeRange</span>(<span class="number">0</span>, <span class="number">3</span>))          </div><div class="line"><span class="comment">//è®¾ç½®æ–‡æ¡£èƒŒæ™¯è‰²     attributeString.addAttribute(NSBackgroundColorDocumentAttribute, value: UIColor.lightGray, range: NSMakeRange(10, 10))</span></div><div class="line"><span class="comment">//è®¾ç½®ä¸‹åˆ’çº¿</span></div><div class="line">attributeString.addAttribute(<span class="type">NSUnderlineStyleAttributeName</span>, value:<span class="type">NSUnderlineStyle</span>.<span class="type">StyleSingle</span>.rawValue, range: <span class="type">NSMakeRange</span>(<span class="number">5</span>,<span class="number">12</span>))</div><div class="line">        </div><div class="line">testLable.attributedText = attributeString;</div></pre></td></tr></table></figure><h1 id="æ–‡æœ¬é«˜åº¦è®¡ç®—"><a href="#æ–‡æœ¬é«˜åº¦è®¡ç®—" class="headerlink" title="æ–‡æœ¬é«˜åº¦è®¡ç®—"></a>æ–‡æœ¬é«˜åº¦è®¡ç®—</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">extension</span> <span class="title">NSString</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">textSizeWithFont</span><span class="params">(font: UIFont, constrainedToSize size:CGSize)</span></span> -&gt; <span class="type">CGSize</span> &#123;</div><div class="line">        <span class="keyword">var</span> textSize:<span class="type">CGSize</span>!</div><div class="line">        <span class="keyword">if</span> <span class="type">CGSizeEqualToSize</span>(size, <span class="type">CGSizeZero</span>) &#123;</div><div class="line">            <span class="keyword">let</span> attributes = <span class="type">NSDictionary</span>(object: font, forKey: <span class="type">NSFontAttributeName</span>)</div><div class="line">            textSize = <span class="keyword">self</span>.sizeWithAttributes(attributes)</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">let</span> option = <span class="type">NSStringDrawingOptions</span>.<span class="type">UsesLineFragmentOrigin</span></div><div class="line">            <span class="keyword">let</span> attributes = <span class="type">NSDictionary</span>(object: font, forKey: <span class="type">NSFontAttributeName</span>)</div><div class="line">            <span class="keyword">let</span> stringRect = <span class="keyword">self</span>.boundingRectWithSize(size, options: option, attributes: attributes, context: <span class="literal">nil</span>)</div><div class="line">            textSize = stringRect.size</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> textSize</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UILabel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> UILabel </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-UIButton</title>
      <link href="/2017/12/06/Swift/UIKit/UIButton/"/>
      <content type="html"><![CDATA[<h1 id="UIButton"><a href="#UIButton" class="headerlink" title="UIButton"></a>UIButton</h1><blockquote><p>UIButtonç»§æ‰¿è‡ªUIControl</p></blockquote><h2 id="åˆ›å»ºbtn"><a href="#åˆ›å»ºbtn" class="headerlink" title="åˆ›å»ºbtn"></a>åˆ›å»ºbtn</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> btn: <span class="type">UIButton</span> = <span class="type">UIButton</span>()   <span class="comment">//æ²¡æœ‰æ ·å¼</span></div><div class="line"><span class="comment">//let btns:UIButton =UIButton(type: UIButtonType)//æœ‰æ ·å¼</span></div><div class="line"><span class="comment">//let button = UIButton(frame:CGRect(x:10, y:150, width:100, height:30))//ç®€åŒ–åˆ›å»ºæ–¹å¼</span></div><div class="line"><span class="keyword">self</span>.view.addSubview(button)</div></pre></td></tr></table></figure><h2 id="UIButtonTypeæœ‰ä»¥ä¸‹ç±»å‹"><a href="#UIButtonTypeæœ‰ä»¥ä¸‹ç±»å‹" class="headerlink" title="UIButtonTypeæœ‰ä»¥ä¸‹ç±»å‹"></a>UIButtonTypeæœ‰ä»¥ä¸‹ç±»å‹</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UIButtonType</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> custom <span class="comment">// no button type</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">7.0</span>, *)</div><div class="line">    <span class="keyword">case</span> system <span class="comment">// standard system button</span></div><div class="line">    <span class="keyword">case</span> detailDisclosure</div><div class="line">    <span class="keyword">case</span> infoLight</div><div class="line">    <span class="keyword">case</span> infoDark</div><div class="line">    <span class="keyword">case</span> contactAdd</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> roundedRect: <span class="type">UIButtonType</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Deprecated, use UIButtonTypeSystem instead</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//ä½¿ç”¨</span></div><div class="line"><span class="keyword">let</span>  btn: <span class="type">UIButton</span> = <span class="type">UIButton</span>(type: .<span class="type">Custom</span>)</div></pre></td></tr></table></figure><h2 id="UIButtonè®¾ç½®å­—å†…å®¹å’Œé¢œè‰²"><a href="#UIButtonè®¾ç½®å­—å†…å®¹å’Œé¢œè‰²" class="headerlink" title="UIButtonè®¾ç½®å­—å†…å®¹å’Œé¢œè‰²"></a>UIButtonè®¾ç½®å­—å†…å®¹å’Œé¢œè‰²</h2><blockquote><p>UIButtonæ‰€å¯¹åº”çš„çŠ¶æ€æœ‰å‡ ç§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">/**</span></div><div class="line"><span class="comment">     Normal          (é»˜è®¤çŠ¶æ€)</span></div><div class="line"><span class="comment">     Highlighted    ï¼ˆé«˜äº®çŠ¶æ€ï¼‰ç‚¹å‡»æŒ‰é’®ä¸æ”¾</span></div><div class="line"><span class="comment">     Disabled       ï¼ˆä½¿èƒ½çŠ¶æ€ï¼‰å°±æ˜¯æ˜¯å¦å¯ç”¨çŠ¶æ€--&gt;ç¦ç”¨çš„çŠ¶æ€æ‰ä¼šæ˜¾ç°</span></div><div class="line"><span class="comment">     Selected       ï¼ˆé€‰ä¸­çŠ¶æ€ï¼‰é€šè¿‡selectedå±æ€§è®¾ç½®</span></div><div class="line"><span class="comment"> */</span></div><div class="line"> </div><div class="line"> </div><div class="line"> /æ˜¾ç¤ºæ–‡å­—</div><div class="line">button1.setTitle(<span class="string">"æ™®é€šçŠ¶æ€"</span>, <span class="keyword">for</span>: .normal)</div><div class="line">button1.setTitle(<span class="string">"é«˜ç²±çŠ¶æ€"</span>, <span class="keyword">for</span>: .highlighted)</div><div class="line">button1.setTitle(<span class="string">"ç¦ç”¨çŠ¶æ€"</span>, <span class="keyword">for</span>: .disabled)</div><div class="line"><span class="comment">//æ˜¾ç¤ºæ–‡å­—é¢œè‰²</span></div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.red, <span class="keyword">for</span>: .normal)</div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.blue, <span class="keyword">for</span>: .highlighted)</div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.cyan, <span class="keyword">for</span>: .selected)</div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.cyan, <span class="keyword">for</span>: .disabled)</div><div class="line"><span class="comment">//é˜´å½±æ–‡å­—é¢œè‰²è®¾ç½®</span></div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.cyan, <span class="keyword">for</span>: .normal)</div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.green, <span class="keyword">for</span>: .highlighted)</div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.brown, <span class="keyword">for</span>: .disabled)</div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.darkGray, <span class="keyword">for</span>: .selected)</div></pre></td></tr></table></figure><h2 id="UIButtonè®¾ç½®èƒŒæ™¯é¢œè‰²å’ŒèƒŒæ™¯å›¾ç‰‡"><a href="#UIButtonè®¾ç½®èƒŒæ™¯é¢œè‰²å’ŒèƒŒæ™¯å›¾ç‰‡" class="headerlink" title="UIButtonè®¾ç½®èƒŒæ™¯é¢œè‰²å’ŒèƒŒæ™¯å›¾ç‰‡"></a>UIButtonè®¾ç½®èƒŒæ™¯é¢œè‰²å’ŒèƒŒæ™¯å›¾ç‰‡</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//èƒŒæ™¯é¢œè‰²</span></div><div class="line">button2.backgroundColor = <span class="type">UIColor</span>.orange</div><div class="line"><span class="comment">//èƒŒæ™¯å›¾ç‰‡    button4.setBackgroundImage(UIImage(named:"XXX"), for: .normal)</span></div></pre></td></tr></table></figure><h2 id="UIButtonè®¾ç½®å­—ä½“å¤§å°"><a href="#UIButtonè®¾ç½®å­—ä½“å¤§å°" class="headerlink" title="UIButtonè®¾ç½®å­—ä½“å¤§å°"></a>UIButtonè®¾ç½®å­—ä½“å¤§å°</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">button.titleLabel?.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">12</span>)</div></pre></td></tr></table></figure><h2 id="ç¦ç”¨UIButton"><a href="#ç¦ç”¨UIButton" class="headerlink" title="ç¦ç”¨UIButton"></a>ç¦ç”¨UIButton</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> button.isEnabled = <span class="literal">false</span></div><div class="line">button.isEnabled = <span class="literal">true</span></div></pre></td></tr></table></figure><h2 id="è®¾ç½®åœ†è§’"><a href="#è®¾ç½®åœ†è§’" class="headerlink" title="è®¾ç½®åœ†è§’"></a>è®¾ç½®åœ†è§’</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> button.layer.cornerRadius = <span class="number">5</span></div><div class="line">button.layer.masksToBounds = <span class="literal">true</span></div></pre></td></tr></table></figure><h2 id="è®¾ç½®è¾¹æ¡†å®½åº¦-é¢œè‰²"><a href="#è®¾ç½®è¾¹æ¡†å®½åº¦-é¢œè‰²" class="headerlink" title="è®¾ç½®è¾¹æ¡†å®½åº¦/é¢œè‰²"></a>è®¾ç½®è¾¹æ¡†å®½åº¦/é¢œè‰²</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> button.layer.borderWidth = <span class="number">2</span></div><div class="line">button.layer.borderColor = <span class="type">UIColor</span>.red.cgColor</div></pre></td></tr></table></figure><h2 id="è®¾ç½®èƒŒæ™¯å›¾ç‰‡ä¸ºåœ†è§’"><a href="#è®¾ç½®èƒŒæ™¯å›¾ç‰‡ä¸ºåœ†è§’" class="headerlink" title="è®¾ç½®èƒŒæ™¯å›¾ç‰‡ä¸ºåœ†è§’"></a>è®¾ç½®èƒŒæ™¯å›¾ç‰‡ä¸ºåœ†è§’</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> buttonImage.setImage(<span class="type">UIImage</span>(named:<span class="string">"1"</span>) , forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line"><span class="comment">//è®¾ç½®èƒŒæ™¯å›¾ç‰‡ä¸ºåœ†è§’</span></div><div class="line">buttonImage.imageView?.layer.cornerRadius = <span class="number">50</span></div><div class="line"></div><div class="line">é»˜è®¤æƒ…å†µä¸‹æŒ‰é’®ä¼šè¢«æ¸²æŸ“æˆå•ä¸€é¢œè‰²ï¼›ç³»ç»Ÿè“</div><div class="line">button.setImage(<span class="type">UIImage</span>(named:<span class="string">"icon1"</span>),forState:.<span class="type">Normal</span>)  <span class="comment">//è®¾ç½®å›¾æ ‡</span></div><div class="line">button.adjustsImageWhenHighlighted=<span class="literal">false</span> <span class="comment">//ä½¿è§¦æ‘¸æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜ï¼‰</span></div><div class="line">button.adjustsImageWhenDisabled=<span class="literal">false</span> <span class="comment">//ä½¿ç¦ç”¨æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜ï¼‰</span></div><div class="line"></div><div class="line">ä¹Ÿå¯ä»¥è®¾ç½®æˆä¿ç•™å›¾æ ‡åŸæ¥çš„é¢œè‰²</div><div class="line"><span class="keyword">let</span> iconImage = <span class="type">UIImage</span>(named:<span class="string">"icon2"</span>)?.withRenderingMode(.alwaysOriginal)</div><div class="line">button.setImage(iconImage, <span class="keyword">for</span>:.normal)  <span class="comment">//è®¾ç½®å›¾æ ‡</span></div><div class="line">button.adjustsImageWhenHighlighted = <span class="literal">false</span> <span class="comment">//ä½¿è§¦æ‘¸æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜ï¼‰</span></div><div class="line">button.adjustsImageWhenDisabled = <span class="literal">false</span> <span class="comment">//ä½¿ç¦ç”¨æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜ï¼‰</span></div></pre></td></tr></table></figure><h2 id="UIButtonä¸Šå›¾ç‰‡å’Œæ–‡å­—è°ƒæ•´"><a href="#UIButtonä¸Šå›¾ç‰‡å’Œæ–‡å­—è°ƒæ•´" class="headerlink" title="UIButtonä¸Šå›¾ç‰‡å’Œæ–‡å­—è°ƒæ•´"></a>UIButtonä¸Šå›¾ç‰‡å’Œæ–‡å­—è°ƒæ•´</h2><blockquote><p>UIButtonä¸Šæ·»åŠ å›¾ç‰‡å’Œæ–‡å­—ï¼Œæœ‰æ—¶éœ€è¦æˆ‘ä»¬è°ƒæ•´,æ–¹å‘ä¸ºé€†æ—¶é’ˆæ–¹å‘ï¼Œä¸Šã€å·¦ã€ä¸‹ã€å³ä¾æ¬¡å»è®¾ç½®çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  btn.imageEdgeInsets =<span class="type">UIEdgeInsetsMake</span>(top: <span class="type">CGFloat</span>, <span class="keyword">left</span>: <span class="type">CGFloat</span>, bottom: <span class="type">CGFloat</span>, <span class="keyword">right</span>: <span class="type">CGFloat</span>)</div><div class="line"></div><div class="line">btn.titleEdgeInsets =<span class="type">UIEdgeInsetsMake</span>(top: <span class="type">CGFloat</span>, <span class="keyword">left</span>: <span class="type">CGFloat</span>, bottom: <span class="type">CGFloat</span>, <span class="keyword">right</span>: <span class="type">CGFloat</span>)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//åˆ›å»ºä¸€ä¸ªå›¾ç‰‡ä¸€ä¸ªæ–‡å­—çš„æŒ‰é’®  </span></div><div class="line"><span class="keyword">let</span> btn2: <span class="type">UIButton</span> = <span class="type">UIButton</span>(type: .<span class="type">Custom</span>)  </div><div class="line">btn2.frame = <span class="type">CGRectMake</span>(<span class="number">50</span>, <span class="number">100</span>, <span class="number">120</span>, <span class="number">35</span>)  </div><div class="line">btn2.setImage(<span class="type">UIImage</span>(named: <span class="string">"1"</span>), forState: .<span class="type">Normal</span>)  </div><div class="line">btn2.backgroundColor = <span class="type">UIColor</span>.blackColor()  </div><div class="line">btn2.titleLabel?.font = <span class="type">UIFont</span>.systemFontOfSize(<span class="number">20</span>)  </div><div class="line">btn2.imageView?.contentMode = <span class="type">UIViewContentMode</span>.<span class="type">ScaleAspectFit</span>  </div><div class="line">btn2.setTitle(<span class="string">"å›¾ç‰‡æŒ‰é’®"</span>, forState: .<span class="type">Normal</span>)  </div><div class="line"><span class="comment">//åç§»é‡ï¼Œåˆ†åˆ«ä¸ºä¸Šä¸‹å·¦å³  </span></div><div class="line">btn2.imageEdgeInsets = <span class="type">UIEdgeInsetsMake</span>(<span class="number">0</span>, -<span class="number">50</span>, <span class="number">0</span>, <span class="number">0</span>)  </div><div class="line">btn2.titleEdgeInsets = <span class="type">UIEdgeInsetsMake</span>(<span class="number">0</span>, -<span class="number">80</span>, <span class="number">0</span>, <span class="number">5</span>)  </div><div class="line">btn2.setTitleColor(<span class="type">UIColor</span>.whiteColor(), forState: .<span class="type">Normal</span>)  </div><div class="line">btn2.adjustsImageWhenHighlighted = <span class="literal">false</span>  </div><div class="line"><span class="keyword">self</span>.view.addSubview(btn2)</div></pre></td></tr></table></figure><h2 id="æ·»åŠ æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶"><a href="#æ·»åŠ æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶" class="headerlink" title="æ·»åŠ æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶"></a>æ·»åŠ æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶</h2><blockquote><p>æŒ‰é’®çš„è§¦æ‘¸æ—¶é—´æœ‰ä»¥ä¸‹ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> touchDownï¼šå•ç‚¹è§¦æ‘¸æŒ‰ä¸‹äº‹ä»¶ï¼Œç‚¹è§¦å±å¹•</div><div class="line">touchDownRepeatï¼šå¤šç‚¹è§¦æ‘¸æŒ‰ä¸‹äº‹ä»¶ï¼Œç‚¹è§¦è®¡æ•°å¤§äº<span class="number">1</span>ï¼ŒæŒ‰ä¸‹ç¬¬<span class="number">2</span>ã€<span class="number">3</span>æˆ–ç¬¬<span class="number">4</span>æ ¹æ‰‹æŒ‡çš„æ—¶å€™</div><div class="line">touchDragInsideï¼šè§¦æ‘¸åœ¨æ§ä»¶å†…æ‹–åŠ¨æ—¶</div><div class="line">touchDragOutsideï¼šè§¦æ‘¸åœ¨æ§ä»¶å¤–æ‹–åŠ¨æ—¶</div><div class="line">touchDragEnterï¼šè§¦æ‘¸ä»æ§ä»¶ä¹‹å¤–æ‹–åŠ¨åˆ°å†…éƒ¨æ—¶</div><div class="line">touchDragExitï¼šè§¦æ‘¸ä»æ§ä»¶å†…éƒ¨æ‹–åŠ¨åˆ°å¤–éƒ¨æ—¶</div><div class="line">touchUpInsideï¼šåœ¨æ§ä»¶ä¹‹å†…è§¦æ‘¸å¹¶æŠ¬èµ·äº‹ä»¶</div><div class="line">touchUpOutsideï¼šåœ¨æ§ä»¶ä¹‹å¤–è§¦æ‘¸æŠ¬èµ·äº‹ä»¶</div><div class="line">touchCancelï¼šè§¦æ‘¸å–æ¶ˆäº‹ä»¶ï¼Œå³ä¸€æ¬¡è§¦æ‘¸å› ä¸ºæ”¾ä¸Šå¤ªå¤šæ‰‹æŒ‡è€Œè¢«å–æ¶ˆï¼Œæˆ–è€…ç”µè¯æ‰“æ–­</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  button1.addTarget(<span class="keyword">self</span>,action:#selector(methodName), <span class="keyword">for</span>: .touchUpInside)</div><div class="line">button1.addTarget(<span class="keyword">self</span>, action:#selector(someMethod(button:)), <span class="keyword">for</span>:.touchUpInside)</div><div class="line"><span class="comment">//ä¸Š</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">methodName</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"tapped"</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="comment">//ä¸‹</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">someMethod</span><span class="params">(button:UIButton)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"ä½ æ˜¯è°å•Šï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæŒ‰é’®"</span>)</div><div class="line">    &#125;</div></pre></td></tr></table></figure><h2 id="æŒ‰é’®æ–‡å­—è¿‡é•¿æ—¶å€™çš„æ˜¾ç¤ºå¤„ç†"><a href="#æŒ‰é’®æ–‡å­—è¿‡é•¿æ—¶å€™çš„æ˜¾ç¤ºå¤„ç†" class="headerlink" title="æŒ‰é’®æ–‡å­—è¿‡é•¿æ—¶å€™çš„æ˜¾ç¤ºå¤„ç†"></a>æŒ‰é’®æ–‡å­—è¿‡é•¿æ—¶å€™çš„æ˜¾ç¤ºå¤„ç†</h2><blockquote><p>ä¿®æ”¹ button æŒ‰é’®ä¸­ titleLabel çš„ lineBreakMode å±æ€§ï¼Œä¾¿å¯ä»¥è°ƒæ•´æŒ‰é’®åœ¨æ–‡å­—è¶…é•¿çš„æƒ…å†µä¸‹å¦‚ä½•æ˜¾ç¤ºï¼Œä»¥åŠæ˜¯å¦æ¢è¡Œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame:<span class="type">CGRect</span>(x:<span class="number">20</span>, y:<span class="number">50</span>, width:<span class="number">130</span>, height:<span class="number">50</span>))</div><div class="line">button.setTitle(<span class="string">"è¿™ä¸ªæ˜¯ä¸€é•¿é•¿é•¿é•¿é•¿é•¿é•¿é•¿é•¿é•¿çš„æ–‡å­—"</span>, <span class="keyword">for</span>:.normal) <span class="comment">//æ™®é€šçŠ¶æ€ä¸‹çš„æ–‡å­—</span></div><div class="line">button.setTitleColor(<span class="type">UIColor</span>.white, <span class="keyword">for</span>: .normal) <span class="comment">//æ™®é€šçŠ¶æ€ä¸‹æ–‡å­—çš„é¢œè‰²</span></div><div class="line">button.titleLabel?.lineBreakMode = .byTruncatingTail</div><div class="line">button.backgroundColor = <span class="type">UIColor</span>.orange</div><div class="line"><span class="keyword">self</span>.view.addSubview(button)</div></pre></td></tr></table></figure><blockquote><p>NSLineBreakModeæ ·å¼å¯ä¾›é€‰æ‹©ï¼ŒAPIçš„ä»‹ç»ä¹Ÿæ˜¯ç®€å•æ˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">NSLineBreakMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">case</span> byWordWrapping <span class="comment">// Wrap at word boundaries, default</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byCharWrapping <span class="comment">// Wrap at character boundaries</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byClipping <span class="comment">// Simply clip</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byTruncatingHead <span class="comment">// Truncate at head of line: "...wxyz"</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byTruncatingTail <span class="comment">// Truncate at tail of line: "abcd..."</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byTruncatingMiddle <span class="comment">// Truncate middle of line:  "ab...yz"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> UIButton </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UIButton </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-UIKit-AppDelegateé¡¹ç›®å…¥å£</title>
      <link href="/2017/12/06/Swift/UIKit/AppDelegate%E9%A1%B9%E7%9B%AE%E5%85%A5%E5%8F%A3/"/>
      <content type="html"><![CDATA[<h1 id="AppDelegate-swift"><a href="#AppDelegate-swift" class="headerlink" title="AppDelegate.swift"></a>AppDelegate.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//importæ˜¯å¯¼å…¥æ–‡ä»¶çš„/åº“çš„å…³é”®å­—</span></div><div class="line"><span class="comment">//UIKitæ˜¯iOSä¸­æ‰€æœ‰çš„æ§ä»¶çš„æ‰€åœ¨åº“æ–‡ä»¶</span></div><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"><span class="meta">@UIApplicationMain</span> <span class="comment">//è°ƒç”¨äº†OCä¸­çš„UIApplicationMainå‡½æ•°;</span></div><div class="line"><span class="comment">//UIApplicationMainæ˜¯IOSåº”ç”¨ç¨‹åºçš„å…¥å£</span></div><div class="line"><span class="comment">//UIApplacationMain:1.åˆ›å»ºäº†ä¸€ä¸ªUIApplicationå¯¹è±¡,ä»£è¡¨å½“å‰åº”ç”¨ç¨‹åº.ä½œç”¨æ˜¯ç”¨æ¥æ£€æµ‹å½“å‰åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ”¹å˜</span></div><div class="line"><span class="comment">//                  2.åˆ›å»ºä¸€ä¸ªéµå®ˆUIApplicationDelegateçš„åè®®çš„å­ç±»å¯¹è±¡ä½œä¸ºUIApplicationçš„ä»£ç†,ä½œç”¨æ˜¯å¤„ç†åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ”¹å˜(åˆ›å»ºAppDelegateå¯¹è±¡å¹¶ä¸”è®¾ç½®ä¸ºUIApplicationå¯¹è±¡çš„ä»£ç†)</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</div><div class="line">    <span class="comment">//å±æ€§:</span></div><div class="line">    <span class="keyword">var</span> window: <span class="type">UIWindow</span>?</div><div class="line"></div><div class="line">    <span class="comment">//æ–¹æ³•:</span></div><div class="line">    <span class="comment">//ä¸€.å½“åº”ç”¨ç¨‹åºå·²ç»å¯åŠ¨æˆåŠŸå,ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        <span class="comment">// Override point for customization after application launch.</span></div><div class="line">        <span class="comment">//1.åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ¥æ­å»ºåº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰çš„ç•Œé¢</span></div><div class="line">        <span class="comment">//2.è·å–åº”ç”¨ç¨‹åºéœ€è¦å±•ç¤ºçš„æ•°æ®</span></div><div class="line">        <span class="comment">//3.ä½¿ç”¨ç•Œé¢å±•ç¤ºæ•°æ®</span></div><div class="line">        <span class="comment">//æ³¨æ„:å¦‚æœä¸å†åšè¿™ä¸ªæ–¹æ³•ä¸­å»åˆ›å»ºwindow,é‚£ä¹ˆç¨‹åºä¼šé€šè¿‡Main.stroyboardå»åˆ›å»ºåº”ç”¨ç¨‹åºçš„ç•Œé¢</span></div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"ç¨‹åºå¯åŠ¨æˆåŠŸ"</span>)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//äºŒ.å½“åº”ç”¨ç¨‹åºå°†è¦æˆä¸ºéæ´»è·ƒçŠ¶æ€çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•.</span></div><div class="line">    <span class="comment">//æ´»è·ƒçŠ¶æ€:ç¨‹åºåœ¨å±å¹•ä¸Šå¯è§</span></div><div class="line">    <span class="comment">//éæ´»è·ƒçŠ¶æ€:ç¨‹åºæ²¡æœ‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Š(æŒ‰homeé”®è¿›å…¥åå°,æ¥ç”µæ‰“æ–­,åœ¨å½“å‰åº”ç”¨ç¨‹åºä¸­æ‰“å¼€å…¶ä»–çš„åº”ç”¨ç¨‹åº)</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillResignActive</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        <span class="comment">//æŒ‰ä¸‹homeé”®:command + shift + h</span></div><div class="line">        <span class="comment">//åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä¸€èˆ¬å»æš‚åœè§†é¢‘/éŸ³é¢‘æ’­æ”¾;æ¸¸æˆéœ€è¦æš‚åœ;ä¿å­˜æ•°æ®</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"å°†è¦æˆä¸ºéæ´»è·ƒçŠ¶æ€"</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">        </div><div class="line">        </div><div class="line">       </div><div class="line">    &#125;</div><div class="line">    <span class="comment">//ä¸‰.åº”ç”¨ç¨‹åºå·²ç»è¿›å…¥åå°çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨</span></div><div class="line">    <span class="comment">//è¿›å…¥åå°:æŒ‰homeé”®</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidEnterBackground</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"è¿›å…¥åå°"</span>)</div><div class="line">          </div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">//å››.åº”ç”¨ç¨‹åºå°†è¦è¿›å…¥å‰å°çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨</span></div><div class="line">    <span class="comment">//è¿›å…¥å‰å°:</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillEnterForeground</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"å°†è¦è¿›å…¥å‰å°"</span>)</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="comment">//äº”.åº”ç”¨ç¨‹åºå·²ç»å˜æˆæ´»è·ƒçŠ¶æ€çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨</span></div><div class="line">    <span class="comment">//1.ç¨‹åºå¯åŠ¨æˆåŠŸå</span></div><div class="line">    <span class="comment">//2.ç¨‹åºä»åå°é‡æ–°è¿›å…¥å‰å°</span></div><div class="line">    <span class="comment">//3.æ¥ç”µæ‰“æ–­ç»“æŸ...</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidBecomeActive</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"å·²ç»å˜æˆæ´»è·ƒçŠ¶æ€"</span>)</div><div class="line">         </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//å…­.åº”ç”¨ç¨‹åºå°†è¦ç»ˆæ­¢çš„æ—¶å€™ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillTerminate</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"åº”ç”¨ç¨‹åºå°†è¦ç»ˆæ­¢"</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="ViewController-swift"><a href="#ViewController-swift" class="headerlink" title="ViewController.swift"></a>ViewController.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        <span class="comment">//UIView:æ˜¯IOSä¸­æ‰€æœ‰è§†å›¾(æ§ä»¶)ç›´æ¥/é—´æ¥çš„çˆ¶ç±»;æ‰€ä»¥UIViewçš„å±æ€§å’Œæ–¹æ³•,å¯¹äºå…¶ä»–ç±»å‹çš„è§†å›¾éƒ½æœ‰æ•ˆ</span></div><div class="line">        </div><div class="line">        <span class="comment">//è§†å›¾:åœ¨å±å¹•ä¸Šèƒ½çœ‹åˆ°çš„æ‰€æœ‰çš„ä¸œè¥¿éƒ½å±äºè§†å›¾</span></div><div class="line">        </div><div class="line">        <span class="comment">//ä¸€.åˆ›å»ºUIViewçš„å¯¹è±¡</span></div><div class="line">        <span class="keyword">let</span> redView = <span class="type">UIView</span>.<span class="keyword">init</span>()</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="comment">//æƒ³è¦å°†è§†å›¾å±•ç¤ºåœ¨å±å¹•ä¸Šçš„ä¸¤ä¸ªå¿…è¦æ¡ä»¶</span></div><div class="line">            <span class="comment">//1.å¿…é¡»è®¾ç½®åæ ‡çš„å¤§å°(é»˜è®¤åæ ‡æ˜¯(0,0),å¤§å°(0,0,))</span></div><div class="line">            <span class="comment">//2.å°†è§†å›¾æ·»åŠ åˆ°å·²ç»å±•ç¤ºåœ¨å±å¹•ä¸Šçš„è§†å›¾ä¸Š</span></div><div class="line">        </div><div class="line">        <span class="comment">//äºŒ.è®¾ç½®frameå±æ€§(ç”±åæ ‡(x,y)å’Œå¤§å°(width,height)ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆ)</span></div><div class="line">        </div><div class="line">        redView.frame = <span class="type">CGRect</span>(x: <span class="number">10</span>, y: <span class="number">10</span>, width: <span class="number">100</span>, height: <span class="number">100</span>)</div><div class="line">        <span class="comment">//IOSä¸­æ‰€æœ‰çš„ç»“æ„ä½“éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„Makeæ–¹æ³•ç”¨æ¥å¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªç»“æ„ä½“å˜é‡</span></div><div class="line">        redView.frame = <span class="type">CGRectMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        <span class="comment">//ä¸‰.å°†è§†å›¾æ·»åŠ åˆ°ç•Œé¢ä¸Š</span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(redView)</div><div class="line">        </div><div class="line">        <span class="comment">//å››.è®¾ç½®èƒŒæ™¯é¢œè‰²</span></div><div class="line">        <span class="comment">//è§†å›¾çš„èƒŒæ™¯é¢œè‰²é»˜è®¤æ˜¯é€æ˜è‰²</span></div><div class="line">        <span class="comment">//é¢œè‰²çš„åˆ›å»ºæ–¹å¼:</span></div><div class="line">        <span class="comment">//1.é€šè¿‡ç±»å‹æ–¹æ³•åˆ›å»ºæŒ‡å®šé¢œè‰²</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        redView.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">        <span class="comment">//é€šè¿‡ä¸‰åŸè‰²æ¥åˆ›å»ºé¢œè‰²</span></div><div class="line">        <span class="comment">//CGFloatå°±æ˜¯UIä¸­çš„æµ®ç‚¹å‹</span></div><div class="line">        <span class="comment">//å‚æ•°1,2,3:çº¢,ç»¿,è“çš„å€¼(0~1)-(0/255~255/255)</span></div><div class="line">        <span class="comment">//å‚æ•°4:é€æ˜åº¦</span></div><div class="line">        </div><div class="line">        <span class="comment">//redView.backgroundColor = UIColor(red: 149/255.0, green: 106/255.0, blue: 55/255.0, alpha: 1)</span></div><div class="line">        <span class="comment">//è®¾ç½®ä¸åŒç¨‹åº¦çš„ç°è‰²</span></div><div class="line">        <span class="comment">//redView.backgroundColor = UIColor(white: 0.2, alpha: 1)</span></div><div class="line">        </div><div class="line">        <span class="comment">//ç»ƒä¹ :åˆ›å»ºä¸€ä¸ªé»„è‰²çš„çŸ©å½¢,æ˜¾ç¤ºåœ¨çº¢è‰²è§†å›¾çš„ä¸­å¿ƒä½ç½®,å¤§å°(50,50)</span></div><div class="line">        <span class="comment">//æ–¹å¼1:</span></div><div class="line">        <span class="comment">//åˆ›å»ºè§†å›¾å¯¹è±¡å¹¶ä¸”è®¾ç½®frameå±æ€§</span></div><div class="line">        <span class="comment">/*</span></div><div class="line"><span class="comment">        let yellowView = UIView.init()</span></div><div class="line"><span class="comment">        yellowView.frame = CGRectMake(35, 35, 50, 50)</span></div><div class="line"><span class="comment">        //æ·»åŠ åˆ°ç•Œé¢ä¸Š</span></div><div class="line"><span class="comment">        self.view.addSubview(yellowView)</span></div><div class="line"><span class="comment">        //è®¾ç½®èƒŒæ™¯é¢œè‰²</span></div><div class="line"><span class="comment">        yellowView.backgroundColor = UIColor.yellowColor()</span></div><div class="line"><span class="comment">        */</span></div><div class="line">        </div><div class="line">        <span class="comment">//æ–¹å¼2:</span></div><div class="line">        <span class="keyword">let</span> yellowView = <span class="type">UIView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">50</span>,<span class="number">50</span>))</div><div class="line">        redView.addSubview(yellowView)</div><div class="line">        yellowView.backgroundColor = <span class="type">UIColor</span>.yellowColor()</div><div class="line">        </div><div class="line">        <span class="comment">//GET:è®¡ç®—è§†å›¾çš„åæ ‡çš„æ—¶å€™,æ³¨æ„ç›¸å¯¹æ€§.å½“å‰è§†å›¾è¢«æ·»åŠ åˆ°é‚£ä¸ªè§†å›¾ä¸Š,é‚£ä¹ˆå½“å‰è§†å›¾çš„åæ ‡å°±æ˜¯ç›¸å¯¹äºè°æ¥ç®—çš„</span></div><div class="line">        </div><div class="line">        </div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è§†å›¾å¯¹è±¡çš„åŸºæœ¬å±æ€§"><a href="#è§†å›¾å¯¹è±¡çš„åŸºæœ¬å±æ€§" class="headerlink" title="è§†å›¾å¯¹è±¡çš„åŸºæœ¬å±æ€§"></a>è§†å›¾å¯¹è±¡çš„åŸºæœ¬å±æ€§</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  mport <span class="type">UIKit</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        </div><div class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªè§†å›¾å¯¹è±¡</span></div><div class="line">        </div><div class="line">        <span class="keyword">let</span> redView = <span class="type">UIView</span>.<span class="keyword">init</span>()</div><div class="line">        <span class="comment">//æ·»åŠ åˆ°ç•Œé¢ä¸Š</span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(redView)</div><div class="line">        <span class="comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span></div><div class="line">        redView.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">        </div><div class="line">        <span class="comment">//1.frame(åæ ‡å’Œå¤§å°)</span></div><div class="line">        redView.frame = <span class="type">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        <span class="comment">//2.center(ä¸­å¿ƒç‚¹åæ ‡)</span></div><div class="line">        <span class="comment">//é€šè¿‡frameå’Œç¡®å®šè§†å›¾çš„ä¸­å¿ƒç‚¹åæ ‡</span></div><div class="line">        <span class="built_in">print</span>(redView.center)</div><div class="line">        <span class="built_in">print</span>(redView.frame)</div><div class="line">        </div><div class="line">        </div><div class="line">        redView.center = <span class="type">CGPointMake</span>(<span class="number">200</span>, <span class="number">200</span>)</div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(redView.frame)</div><div class="line">        <span class="comment">//3.bounds(åæ ‡å’Œå¤§å°)</span></div><div class="line">        <span class="comment">//é»˜è®¤æƒ…å†µä¸‹boundsçš„åæ ‡(0,0),å¤§å°å’Œè§†å›¾çš„frameå¤§å°ä¸€æ ·</span></div><div class="line">        <span class="built_in">print</span>(redView.bounds)</div><div class="line">        </div><div class="line">        <span class="comment">//äº†è§£:</span></div><div class="line">        <span class="comment">//å¦‚æœæ”¹å˜boundsçš„å¤§å°,ä¸æ”¹å˜centerçš„åæ ‡,æ”¹å˜frameçš„åæ ‡å’Œå¤§å°</span></div><div class="line">        <span class="comment">/*</span></div><div class="line"><span class="comment">        redView.bounds = CGRectMake(0, 0, 200, 200)</span></div><div class="line"><span class="comment">        </span></div><div class="line"><span class="comment">        print(redView.frame)</span></div><div class="line"><span class="comment">        print("center\(redView.center)")</span></div><div class="line"><span class="comment">        */</span></div><div class="line">        </div><div class="line">        <span class="comment">//å¦‚æœæ”¹å˜boundsçš„åæ ‡,ä¸å½±å“å½“å‰è§†å›¾çš„ä½ç½®.ä½†æ˜¯å½±å“æ·»åŠ åˆ°å½“å‰è§†å›¾ä¸Šçš„å­è§†å›¾çš„åæ ‡,ä¸å»ºè®®ä¿®æ”¹bounds</span></div><div class="line">        </div><div class="line">        redView.bounds = <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="keyword">let</span> yellowView = <span class="type">UIView</span>.<span class="keyword">init</span>(frame:<span class="type">CGRectMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">40</span>, <span class="number">40</span>))</div><div class="line">        yellowView.backgroundColor = <span class="type">UIColor</span>.yellowColor()</div><div class="line">        redView.addSubview(yellowView)</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="comment">//4.transform(å½¢å˜)</span></div><div class="line">        <span class="comment">// å½“å‰è§†å›¾å‘ç”Ÿå½¢å˜,é‚£ä¹ˆæ·»åŠ åˆ°å½“å‰è§†å›¾ä¸Šçš„æ‰€æœ‰çš„è§†å›¾ä¼šè·Ÿç€ä¸€èµ·å½¢å˜</span></div><div class="line">        <span class="comment">//1). ç¼©æ”¾</span></div><div class="line">        <span class="comment">//å‚æ•°1:xæ–¹å‘ä¸Šçš„ç¼©æ”¾æ¯”ä¾‹</span></div><div class="line">        <span class="comment">//å‚æ•°2:yæ–¹å‘ä¸Šçš„ç¼©æ”¾æ¯”ä¾‹</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformMakeScale</span>(<span class="number">0.5</span>, <span class="number">0.5</span>)</div><div class="line">        <span class="comment">//2).æ—‹è½¬</span></div><div class="line">        <span class="comment">//å‚æ•°:æ—‹è½¬è§’åº¦(åœ†å‘¨ç‡å¯¹åº”çš„è§’åº¦)</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformMakeRotation</span>(<span class="type">CGFloat</span>(<span class="type">M_PI_4</span>))</div><div class="line">        <span class="comment">//3).å¹³ç§»</span></div><div class="line">        <span class="comment">//å‚æ•°1:åœ¨xæ–¹å‘ä¸Šå¹³ç§»çš„è·ç¦»</span></div><div class="line">        <span class="comment">//å‚æ•°2:åœ¨yæ–¹å‘ä¸Šå¹³ç§»çš„è·ç¦»</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformMakeTranslation</span>(<span class="number">0</span>, <span class="number">300</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//4).å¤šä¸ªå½¢å˜åŒæ—¶è¿›è¡Œ</span></div><div class="line">        <span class="comment">//åœ¨å¦å¤–ä¸€ä¸ªå½¢å˜çš„å‰æä¸‹æ—‹è½¬</span></div><div class="line">        <span class="comment">//å‚æ•°1:å¦å¤–ä¸€ä¸ªå½¢å˜</span></div><div class="line">        </div><div class="line">        <span class="comment">//åœ¨æ‹¥æœ‰ç¼©æ”¾è¿™ä¸ªå½¢å˜çš„å‰æä¸‹æ—‹è½¬(æ—¢å¯ä»¥ç¼©æ”¾åˆå¯ä»¥æ—‹è½¬)</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformRotate</span>(<span class="type">CGAffineTransformMakeScale</span>(<span class="number">0.5</span>, <span class="number">0.5</span>), <span class="type">CGFloat</span>(<span class="type">M_PI_4</span> / <span class="number">2</span>))</div><div class="line">        <span class="comment">//åœ¨å¦å¤–ä¸€ä¸ªå½¢å˜çš„å‰æä¸‹å¹³ç§»(æ—¢å¯ä»¥ç¼©æ”¾å’Œæ—‹è½¬åˆå¯ä»¥å¹³ç§»)</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformTranslate</span>(redView.transform, <span class="number">0</span>, <span class="number">100</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//æ—¢å¯ä»¥å¹³ç§»åˆå¯ä»¥ç¼©æ”¾</span></div><div class="line">        </div><div class="line">        redView.transform = <span class="type">CGAffineTransformScale</span>(<span class="type">CGAffineTransformMakeTranslation</span>(<span class="number">100</span>, <span class="number">0</span>), <span class="number">0.5</span>, <span class="number">2</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="comment">//ç»„åˆä¸¤ä¸ªå½¢å˜</span></div><div class="line">        <span class="comment">//æ—‹è½¬å½¢å˜</span></div><div class="line">        <span class="keyword">let</span> rotate = <span class="type">CGAffineTransformMakeRotation</span>(<span class="number">0.2</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//å¹³ç§»å½¢å˜</span></div><div class="line">        </div><div class="line">        <span class="keyword">let</span> transLation = <span class="type">CGAffineTransformMakeTranslation</span>(<span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//å°†æ—‹è½¬å½¢å˜å’Œå¹³ç§»å½¢å˜ç»„åˆ</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformConcat</span>(rotate, transLation)</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> UIKit </category>
          
          <category> AppDelegate </category>
          
      </categories>
      
      
        <tags>
            
            <tag> UIKit </tag>
            
            <tag> Swift </tag>
            
            <tag> AppDelegate </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-åŸºç¡€</title>
      <link href="/2017/12/06/Swift/Grammar/%E5%9F%BA%E7%A1%80/"/>
      <content type="html"><![CDATA[<h1 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h1><h2 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="string">"Hello,Word!"</span>)</div></pre></td></tr></table></figure><h2 id="å®šä¹‰å˜é‡å’Œå¸¸é‡"><a href="#å®šä¹‰å˜é‡å’Œå¸¸é‡" class="headerlink" title="å®šä¹‰å˜é‡å’Œå¸¸é‡"></a>å®šä¹‰å˜é‡å’Œå¸¸é‡</h2><blockquote><p>let/var<br>åœ¨åŒä¸€è¡Œä»£ç ä¸­ ä¸ç”¨ä¹¦å†™åˆ†å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> myCount = <span class="number">11</span> <span class="comment">//å®šä¹‰ä¸€ä¸ªå¸¸é‡ä¸ºmyCount = 11 å¸¸é‡æ˜¯ä¸å¯æ”¹å˜çš„é‡</span></div><div class="line"><span class="keyword">var</span> myVariable = <span class="number">22</span></div><div class="line">myVariable = <span class="number">33</span> <span class="comment">//å®šä¹‰ä¸€ä¸ªå˜é‡ä¸ºmyVariable = 22 ç„¶åæ”¹å˜å®ƒçš„å€¼,å°†33èµ‹ç»™myVariableã€‚ç°åœ¨myVariableçš„å€¼ä¸º33ã€‚</span></div></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²æ’å€¼æ‰“å°"><a href="#å­—ç¬¦ä¸²æ’å€¼æ‰“å°" class="headerlink" title="å­—ç¬¦ä¸²æ’å€¼æ‰“å°"></a>å­—ç¬¦ä¸²æ’å€¼æ‰“å°</h2><blockquote><p>ç¬¦ä¸²æ’å€¼çš„æ˜¯åœ¨printçš„è¿‡ç¨‹ä¸­ï¼Œå°†ä½ å®šä¹‰çš„å¸¸é‡æˆ–å˜é‡æ’å…¥ä½ è¦è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="string">"ChenJian,\(myCount)!"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"YueKekui!\(myVariable)"</span>)</div></pre></td></tr></table></figure><h2 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h2><blockquote><p>åœ¨swiftä¸­ å¦‚æœå¯ä»¥çš„è¯ å°½å¯èƒ½çœç•¥ç±»å‹æ ‡è®°ï¼Œè®©swiftè‡ªå·±æ¨æ–­ç±»å‹</p></blockquote><h2 id="å…³äºSwiftä¸­ç±»å‹intï¼Œfloatï¼Œdoubleç›¸å…³çš„"><a href="#å…³äºSwiftä¸­ç±»å‹intï¼Œfloatï¼Œdoubleç›¸å…³çš„" class="headerlink" title="å…³äºSwiftä¸­ç±»å‹intï¼Œfloatï¼Œdoubleç›¸å…³çš„"></a>å…³äºSwiftä¸­ç±»å‹intï¼Œfloatï¼Œdoubleç›¸å…³çš„</h2><blockquote><p>Double(three) å’ŒCè¯­è¨€çš„å¼ºåˆ¶è½¬æ¢æœ‰å¾ˆå¤§åŒºåˆ«<br>Double(three) swift ä¸­æ˜¯å°†threeè¿™ä¸ªæ•°æ®çš„å€¼å–å‡ºæ¥ï¼Œä»æ–°å®šä¹‰ä¸€ä¸ªDoubleç±»å‹çš„å˜é‡ï¼Œå¹¶å°†Threeçš„å€¼èµ‹è¿™ä¸ªå˜é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> three = <span class="number">3</span></div><div class="line"><span class="keyword">let</span> pointOneFourOneFiveNine = <span class="number">0.14159</span></div><div class="line"><span class="keyword">let</span> pi = <span class="type">Double</span>(three) + pointOneFourOneFiveNine</div></pre></td></tr></table></figure><h2 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h2><blockquote><p>å…ƒç»„æ˜¯ç”¨ä¸€ä¸ªå˜é‡æˆ–å¸¸é‡ï¼Œä¿å­˜å¤šé¡¹æ•°æ®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> http404Error = (<span class="number">404</span>, <span class="string">"Not Found"</span>)</div><div class="line"><span class="comment">// http404Error is of type (Int, String), and equals (404, "Not Found")</span></div></pre></td></tr></table></figure><blockquote><p>ä¸‹åˆ’çº¿çš„æ„æ€ å¿½ç•¥è¿™ä¸€é¡¹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> (justTheStatusCode, <span class="number">_</span>) = http404Error</div><div class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(justTheStatusCode)"</span>)</div><div class="line"><span class="comment">// Prints "The status code is 404</span></div></pre></td></tr></table></figure><h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><blockquote><p>è¿ç®—ç¬¦ å¯ä»¥åˆ†ä¸ºä¸€å…ƒè¿ç®—ç¬¦ï¼ŒäºŒå…ƒè¿ç®—ç¬¦ï¼Œä¸‰å…ƒè¿ç®—ç¬¦</p></blockquote><h3 id="ä¸€å…ƒè¿ç®—ç¬¦"><a href="#ä¸€å…ƒè¿ç®—ç¬¦" class="headerlink" title="ä¸€å…ƒè¿ç®—ç¬¦"></a>ä¸€å…ƒè¿ç®—ç¬¦</h3><blockquote><p>æ•°å­—å‰é¢ä»£è¡¨æ•°å­—æ­£è´Ÿçš„æ­£è´Ÿå·æ˜¯å”¯ä¸€çš„ä¸€å…ƒè¿ç®—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">-<span class="number">8</span>,-<span class="number">14</span>,+<span class="number">8</span>(æ­£æ•°æˆ‘ä»¬ä¸€èˆ¬çœç•¥å‰é¢çš„æ­£å·å†™ä¸ºï¼š<span class="number">8</span>)</div></pre></td></tr></table></figure><h3 id="äºŒå…ƒè¿ç®—ç¬¦"><a href="#äºŒå…ƒè¿ç®—ç¬¦" class="headerlink" title="äºŒå…ƒè¿ç®—ç¬¦"></a>äºŒå…ƒè¿ç®—ç¬¦</h3><blockquote><p>èµ‹å€¼è¿ç®—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> b = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">5</span></div><div class="line">a = b</div><div class="line"><span class="comment">// a is now equal to 10</span></div></pre></td></tr></table></figure><blockquote><p>å…³ç³»è¿ç®—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="number">1</span> == <span class="number">1</span>  </div><div class="line"><span class="number">2</span> != <span class="number">1</span>   </div><div class="line"><span class="number">2</span> &gt; <span class="number">1</span>    </div><div class="line"><span class="number">1</span> &lt; <span class="number">2</span>    </div><div class="line"><span class="number">1</span> &gt;= <span class="number">1</span>   </div><div class="line"><span class="number">2</span> &lt;= <span class="number">1</span></div></pre></td></tr></table></figure><blockquote><p>ç®—æœ¯è¿ç®—ç¬¦ï¼šåŠ å‡ä¹˜é™¤å–ä½™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="number">1</span> + <span class="number">2</span>       <span class="comment">// equals 3</span></div><div class="line"><span class="number">5</span> - <span class="number">3</span>       <span class="comment">// equals 2</span></div><div class="line"><span class="number">2</span> * <span class="number">3</span>       <span class="comment">// equals 6</span></div><div class="line"><span class="number">10.0</span> / <span class="number">2.5</span>  <span class="comment">// equals 4.0 </span></div><div class="line"><span class="number">9</span> % <span class="number">2</span>       <span class="comment">// equals 1</span></div></pre></td></tr></table></figure><blockquote><p>ä¸‰å…ƒè¿ç®—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//è®©c å–a å’Œbä¸­è¾ƒå°çš„å€¼</span></div><div class="line"><span class="keyword">let</span> a =<span class="number">5</span> , b=<span class="number">10</span></div><div class="line"><span class="keyword">let</span> <span class="built_in">c</span> = a &lt; b ? a : b</div><div class="line"></div><div class="line"><span class="comment">//é—®å·å‰é¢æ˜¯ä¸€ä¸ªäº§ç”ŸBoolç±»å‹çš„å˜é‡ï¼Œå¸¸é‡æˆ–è¡¨è¾¾å¼</span></div></pre></td></tr></table></figure><h2 id="Parentheses-åœ†æ‹¬å·çš„ä½œç”¨"><a href="#Parentheses-åœ†æ‹¬å·çš„ä½œç”¨" class="headerlink" title="Parentheses åœ†æ‹¬å·çš„ä½œç”¨"></a>Parentheses åœ†æ‹¬å·çš„ä½œç”¨</h2><blockquote><p>å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·æ”¹å˜è¿ç®—é¡ºåº ï¼Œå¦‚æœä¸æ¸…æ¥šè¿ç®—çš„æ‰§è¡Œç¨‹åºä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨åœ†æ‹¬å·æ¥æ”¹å˜è¿ç®—é¡ºåº</p></blockquote><h2 id="å®¹å™¨ç±»å‹-æ•°ç»„"><a href="#å®¹å™¨ç±»å‹-æ•°ç»„" class="headerlink" title="å®¹å™¨ç±»å‹-æ•°ç»„"></a>å®¹å™¨ç±»å‹-æ•°ç»„</h2><blockquote><p>æ•°ç»„æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆ<br>æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„ è€Œä¸æ˜¯1</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> threeDoubles = [<span class="type">Double</span>](<span class="built_in">count</span>: <span class="number">3</span>, repeatedValue: <span class="number">0.0</span>)</div><div class="line"><span class="keyword">var</span> array1 = [<span class="type">Int</span>]()</div><div class="line"><span class="keyword">var</span> array2: [<span class="type">Int</span>] = []</div><div class="line"><span class="keyword">var</span> array3 = [<span class="number">99</span>,<span class="number">12</span>,<span class="number">34</span>,<span class="number">156</span>,<span class="number">7</span>]</div><div class="line"><span class="keyword">var</span> array4 = [<span class="type">Int</span>](<span class="built_in">count</span>: <span class="number">100</span>, repeatedValue: <span class="number">1</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">var</span> arrayString1 = [<span class="type">String</span>]()</div><div class="line"><span class="keyword">var</span> arrayString2: [<span class="type">String</span>] = []</div><div class="line"><span class="keyword">var</span> arrayString3 = [<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"apple"</span>,<span class="string">"orange"</span>]</div><div class="line"><span class="keyword">var</span> arrayString4 = [<span class="type">String</span>](<span class="built_in">count</span>: <span class="number">100</span>, repeatedValue: <span class="string">""</span>)</div></pre></td></tr></table></figure><blockquote><p>ä¸¤ä¸ªæ•°ç»„å¯ä»¥ç›¸åŠ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">var</span> anotherThreeDoubles = [<span class="type">Double</span>](<span class="built_in">count</span>: <span class="number">3</span>, repeatedValue: <span class="number">2.5</span>)</div><div class="line"><span class="comment">// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]</span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> sixDoubles = threeDoubles + anotherThreeDoubles</div><div class="line"><span class="comment">// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.</span></div></pre></td></tr></table></figure><blockquote><p>å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ çš„æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  shoppingList.append(<span class="string">"Flour"</span>)</div><div class="line"><span class="comment">//å¯ä»¥ä½¿ç”¨appendè¿™ä¸ªå‡½æ•°</span></div><div class="line">shoppingList += [<span class="string">"Baking Powder"</span>]</div><div class="line"><span class="comment">// shoppingList now contains 4 items</span></div><div class="line">shoppingList += [<span class="string">"Chocolate Spread"</span>, <span class="string">"Cheese"</span>, <span class="string">"Butter"</span>]</div><div class="line"><span class="comment">//ä¹Ÿå¯ä»¥ç”¨+=å‘æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ </span></div></pre></td></tr></table></figure><blockquote><p>å¯¹æ•°ç»„è¿›è¡Œéå†ï¼ˆè¿­ä»£ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> shoppingList = [<span class="string">"Six egg"</span>,<span class="string">"Milk"</span>,<span class="string">"Flour"</span>,<span class="string">"Baking Powder"</span>,<span class="string">"Bananas"</span>]</div><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> shoppingList &#123;</div><div class="line">    <span class="built_in">print</span>(item)</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">for</span> (index, value) <span class="keyword">in</span> shoppingList.<span class="built_in">enumerate</span>() &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Item \(index + 1): \(value)"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// Item 1: Six eggs</span></div><div class="line"><span class="comment">// Item 2: Milk</span></div><div class="line"><span class="comment">// Item 3: Flour</span></div><div class="line"><span class="comment">// Item 4: Baking Powder</span></div><div class="line"><span class="comment">// Item 5: Bananasâ€</span></div><div class="line"></div><div class="line"></div><div class="line">ä½œè€…ï¼šèŠ’æœå¾®ç¬‘</div><div class="line">é“¾æ¥ï¼šhttp:<span class="comment">//www.jianshu.com/p/8e8ff60121c4</span></div><div class="line">ä¾†æºï¼šç®€ä¹¦</div><div class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</div></pre></td></tr></table></figure><h1 id="æ§åˆ¶æµç¨‹"><a href="#æ§åˆ¶æµç¨‹" class="headerlink" title="æ§åˆ¶æµç¨‹"></a>æ§åˆ¶æµç¨‹</h1><p>##é¡ºåºç»“æ„ ,ç¨‹åºæŒ‰æ­£å¸¸é¡ºåºæ‰§è¡Œã€‚</p><p>##åˆ†æ”¯ç»“æ„</p><p>##å¾ªç¯ç»“æ„</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//å¾ªç¯</span></div><div class="line"> <span class="comment">//ç¬¬ä¸€ç§å¾ªç¯</span></div><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="keyword">var</span> i = <span class="number">1</span></div><div class="line"><span class="keyword">while</span> i &lt;= <span class="number">10</span>  &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(i)"</span>)</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Hello, World!"</span>)</div><div class="line">    i += <span class="number">1</span><span class="comment">//i++</span></div><div class="line">&#125;</div><div class="line"> <span class="comment">//ç¬¬äºŒç§å¾ªç¯  è¿™ç§å¾ªç¯å’Œä¸Šä¸€ç§å¾ªç¯ä¸»è¦çš„åŒºåˆ«æ˜¯  --repeatå¾ªç¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡</span></div><div class="line"><span class="keyword">var</span> i = <span class="number">1</span></div><div class="line"><span class="keyword">repeat</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(i).Hello,Word"</span>)</div><div class="line">    i += <span class="number">1</span></div><div class="line">&#125;<span class="keyword">while</span> i &lt;= <span class="number">100</span></div><div class="line"></div><div class="line"> <span class="comment">//ç¬¬ä¸‰ç§å¾ªç¯</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">10</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(i).Hello,World!"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// ä¸æƒ³ç”¨å¾ªç¯å˜é‡ iå¯ä»¥ä½¿ç”¨ _ æ¥çœç•¥i</span></div></pre></td></tr></table></figure><h3 id="çŒœæ•°å­—"><a href="#çŒœæ•°å­—" class="headerlink" title="çŒœæ•°å­—"></a>çŒœæ•°å­—</h3><blockquote><p>é¢˜ç›®è¦æ±‚ï¼šä¹¦å†™ä¸€æ®µSwiftä»£ç å®ç°ï¼Œéšæœºå‡ºç°ä¸€ä¸ª1-100çš„æ•°å­—ï¼Œè®©ç”¨æˆ·çŒœè¿™ä¸ªæ•°å­—æ˜¯å‡ ï¼Œæ¯æ¬¡æç¤ºç”¨æˆ·çŒœçš„æ•°å­—æ˜¯æ¯”å®é™…æ•°å­—å¤§è¿˜æ˜¯å°ï¼Œç›´åˆ°ç”¨æˆ·çŒœä¸­ä¸ºæ­¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> answer = <span class="type">Int</span>(arc4random_uniform(<span class="number">100</span>)) + <span class="number">1</span></div><div class="line"><span class="keyword">var</span> thyAnswer:<span class="type">Int</span></div><div class="line"><span class="keyword">var</span> counter = <span class="number">0</span></div><div class="line"><span class="keyword">repeat</span>&#123;</div><div class="line">    counter += <span class="number">1</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"è¯·è¾“å…¥ä½ çŒœçš„æ•°å­—ï¼š"</span>,terminator:<span class="string">""</span>)</div><div class="line">    thyAnswer = inputInt()</div><div class="line"></div><div class="line">    <span class="keyword">if</span> thyAnswer &gt; answer&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"çŒœå°ä¸€ç‚¹"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> thyAnswer &lt; answer&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"çŒœå¤§ä¸€ç‚¹"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"æ­å–œä½ çŒœå¯¹äº†ï¼æ‚¨ä¸€å…±çŒœäº†\(counter)æ¬¡"</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;<span class="keyword">while</span> thyAnswer != answer</div><div class="line"><span class="keyword">if</span> counter &gt; <span class="number">7</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"ä½ çš„æ™ºå•†è¯¥å……å€¼äº†ï¼ï¼ï¼"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="å¾—å‡º1-100çš„ç´ æ•°"><a href="#å¾—å‡º1-100çš„ç´ æ•°" class="headerlink" title="å¾—å‡º1-100çš„ç´ æ•°"></a>å¾—å‡º1-100çš„ç´ æ•°</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//å¾—å‡º1-100çš„ç´ æ•°</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">isPrime</span><span class="params">(n: Int)</span></span> -&gt; <span class="type">Bool</span>&#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">2</span></div><div class="line">    <span class="keyword">while</span> i &lt;= <span class="type">Int</span>(sqrt(<span class="type">Double</span>(n)))&#123;</div><div class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">        i += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">//å¦‚æœä¸Šé¢çš„å¾ªç¯æ²¡æœ‰è¿”å›false å°±è¯´æ˜åœ¨2åˆ°nå¼€æ ¹å·ä¹‹é—´æ²¡æœ‰nçš„å› å­ å› æ­¤è¿”å›true è¡¨ç¤ºnæ˜¯ç´ æ•°</span></div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> n <span class="keyword">in</span> <span class="number">1</span>...<span class="number">100</span>&#123;</div><div class="line">    <span class="keyword">if</span> isPrime(n)&#123;</div><div class="line">        <span class="built_in">print</span>(n)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="ç™¾é’±ç™½é¸¡"><a href="#ç™¾é’±ç™½é¸¡" class="headerlink" title="ç™¾é’±ç™½é¸¡"></a>ç™¾é’±ç™½é¸¡</h3><blockquote><p>é¢˜ç›®è¦æ±‚ï¼šç°åœ¨æœ‰100å—é’±ï¼Œå…¬é¸¡5å—ä¸€åªï¼Œæ¯é¸¡3å—ä¸€åªï¼Œå°é¸¡1å—ä¸‰åªï¼Œç°åœ¨è¦ç”¨è¿™100å—ä¹°100åªé¸¡ï¼Œé—®å…¬é¸¡ï¼Œæ¯é¸¡ï¼Œå°é¸¡å„æœ‰å¤šå°‘åªï¼Ÿ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">for</span> x <span class="keyword">in</span> <span class="number">0</span>...<span class="number">20</span>&#123;</div><div class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="number">0</span>...<span class="number">33</span>&#123;</div><div class="line">        <span class="keyword">let</span>  z = <span class="number">100</span> - x - y</div><div class="line">        <span class="keyword">if</span>  <span class="number">5</span> * x + <span class="number">3</span> * y + z / <span class="number">3</span> == <span class="number">100</span> &amp;&amp; z % <span class="number">3</span> == <span class="number">0</span> &#123;</div><div class="line">                <span class="built_in">print</span>(<span class="string">"å…¬é¸¡ï¼š\(x),æ¯é¸¡:\(y),å°é¸¡\(z)"</span>)</div><div class="line">            &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// GET:ç©·ä¸¾æ³•ï¼ˆç©·å°½æ‰€æœ‰çš„å¯èƒ½æ€§ç›´åˆ°æ­£ç¡®ç­”æ¡ˆ</span></div></pre></td></tr></table></figure><h3 id="æ‘‡è‰²å­æ¸¸æˆ"><a href="#æ‘‡è‰²å­æ¸¸æˆ" class="headerlink" title="æ‘‡è‰²å­æ¸¸æˆ"></a>æ‘‡è‰²å­æ¸¸æˆ</h3><blockquote><p>é¢˜ç›®è¦æ±‚ï¼šç°æœ‰ä¸¤äººï¼Œä¸€ä¸ªç©å®¶ï¼Œä¸€ä¸ªåº„å®¶ã€‚ç©å®¶æ‘‡ä¸¤ä¸ªè‰²å­ï¼Œå¦‚æœç¬¬ä¸€æ¬¡æ‘‡åˆ°7ï¼Œ11ç‚¹ç©å®¶èƒœï¼Œæ‘‡åˆ°2ï¼Œ3ï¼Œ12åº„å®¶èƒœï¼Œæ‘‡åˆ°å…¶ä»–ç‚¹æ•°è®°ä½è¿™ä¸ªç‚¹æ•°å¹¶ç»§ç»­æ‘‡ä¸‹ä¸€æ¬¡ï¼›ä»¥åæ¯æ¬¡ç©å®¶æ‘‡è‰²å­çš„ç‚¹æ•°å’Œç¬¬ä¸€æ¬¡è®°ä½çš„ç‚¹æ•°ç›¸åŒç©å®¶èƒœï¼Œæ‘‡åˆ°7ç‚¹åº„å®¶èƒœã€‚ç”¨swiftä»£ç å®ç°ä»¥ä¸Šè¦æ±‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">roll</span><span class="params">()</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Int</span>(arc4random_uniform(<span class="number">6</span>)) + <span class="number">1</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> money = <span class="number">1000</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">repeat</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"ç©å®¶æ€»èµ„äº§:ï¿¥\(money)å…ƒ"</span>)   </div><div class="line">    <span class="keyword">var</span> debt:<span class="type">Int</span></div><div class="line">    <span class="keyword">repeat</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"è¯·ä¸‹æ³¨:"</span>,terminator:<span class="string">""</span>)</div><div class="line">    debt = inputInt()</div><div class="line">    &#125;<span class="keyword">while</span> debt &lt;= <span class="number">0</span> || debt &gt; money</div><div class="line"></div><div class="line">    <span class="keyword">var</span> needsGoOn = <span class="literal">false</span></div><div class="line">    <span class="keyword">let</span> fristPoint = roll() + roll()</div><div class="line">    <span class="built_in">print</span>(<span class="string">"ç©å®¶æ‘‡å‡ºäº†\(fristPoint)"</span>)</div><div class="line">    <span class="keyword">switch</span> fristPoint&#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">7</span>,<span class="number">11</span>:</div><div class="line">        money += debt</div><div class="line">        <span class="built_in">print</span>(<span class="string">"ç©å®¶èƒœ!!!"</span>)</div><div class="line">    <span class="keyword">case</span> <span class="number">2</span>,<span class="number">3</span>,<span class="number">12</span>:</div><div class="line">        money -= debt</div><div class="line">        <span class="built_in">print</span>(<span class="string">"åº„å®¶èƒœ!!!"</span>)</div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        needsGoOn = <span class="literal">true</span> <span class="comment">//æ¸¸æˆç»§ç»­</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">while</span> needsGoOn&#123;</div><div class="line">        <span class="keyword">let</span> currentPoint = roll() + roll()</div><div class="line">        <span class="built_in">print</span>(<span class="string">"ç©å®¶æ‘‡å‡ºäº†\(currentPoint)"</span>)</div><div class="line">        <span class="keyword">if</span> currentPoint == <span class="number">7</span> &#123;</div><div class="line">            money -= debt</div><div class="line">            <span class="built_in">print</span>(<span class="string">"åº„å®¶èƒœ!!!"</span>)</div><div class="line">            needsGoOn = <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> currentPoint == fristPoint&#123;</div><div class="line">            money += debt</div><div class="line">            <span class="built_in">print</span>(<span class="string">"ç©å®¶èƒœ!!!"</span>)</div><div class="line">            needsGoOn = <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;<span class="keyword">while</span> money &gt; <span class="number">0</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"ä½ ç ´äº§äº†ï¼ï¼ï¼ï¼"</span>)</div></pre></td></tr></table></figure><h2 id="æ’åºé€‰æ‹©"><a href="#æ’åºé€‰æ‹©" class="headerlink" title="æ’åºé€‰æ‹©"></a>æ’åºé€‰æ‹©</h2><blockquote><p>é¢˜ç›®è¦æ±‚ï¼šä¸€ä¸ªæ•°ç»„ä¸­æ— åºçš„æ•°å­—ï¼Œä½¿ç”¨ç®€å•é€‰æ‹©æ’åºæ³•æ’åºã€‚psï¼šç®€å•é€‰æ‹©æ’åº:æ¯æ¬¡ä»å‰©ä¸‹å…ƒç´ ä¸­æ‰¾æœ€å°çš„å…ƒç´ æ”¾åˆ°å¯¹åº”çš„ä½ç½®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> array = [<span class="number">27</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">58</span>,<span class="number">44</span>,<span class="number">89</span>,<span class="number">12</span>,<span class="number">5</span>]</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;array.<span class="built_in">count</span> - <span class="number">1</span>&#123;</div><div class="line">    <span class="keyword">var</span> mindex = i</div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i+<span class="number">1</span>..&lt;array.<span class="built_in">count</span>&#123;</div><div class="line">        <span class="keyword">if</span> array[j] &lt; array[mindex]&#123;</div><div class="line">            mindex = j</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">(array[i],array[mindex]) = (array[mindex],array[i])</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(array)</div></pre></td></tr></table></figure><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><blockquote><p>é¢˜ç›®è¦æ±‚ï¼šä¸€ä¸ªæ•°ç»„ä¸­æ— åºçš„æ•°å­—ï¼Œä½¿ç”¨å†’æ³¡æ’åºæ³•æ’åºã€‚ps:å†’æ³¡æ’åºï¼šä¸¤ä¸ªæ•°å­—æ’åºå°†å¤§çš„æ•°å­—æ’åœ¨åé¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">var</span> array = [<span class="number">27</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">58</span>,<span class="number">44</span>,<span class="number">89</span>,<span class="number">12</span>,<span class="number">5</span>]</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;array.<span class="built_in">count</span> - <span class="number">1</span>&#123;</div><div class="line">    <span class="keyword">var</span> swapped = <span class="literal">false</span></div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">0</span>..&lt;array.<span class="built_in">count</span> - <span class="number">1</span> - i&#123;</div><div class="line">        <span class="keyword">if</span> array[j] &gt; array[j+<span class="number">1</span>]&#123;</div><div class="line">            (array[j],array[j+<span class="number">1</span>]) = (array[j+<span class="number">1</span>],array[j])</div><div class="line">            swapped = <span class="literal">true</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> swapped == <span class="literal">false</span> <span class="comment">// if !swapped</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">break</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(array)</div></pre></td></tr></table></figure><h1 id="å­—å…¸å’Œé›†åˆ"><a href="#å­—å…¸å’Œé›†åˆ" class="headerlink" title="å­—å…¸å’Œé›†åˆ"></a>å­—å…¸å’Œé›†åˆ</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line">  <span class="comment">//å­—å…¸(å­˜æ”¾é”®å€¼å¯¹ç»„åˆçš„å®¹å™¨)</span></div><div class="line"><span class="comment">//å­—å…¸ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç”±ä¸¤éƒ¨åˆ†æ„æˆ,å†’å·å‰é¢çš„æ˜¯é”®ï¼Œå†’å·åé¢çš„æ˜¯å€¼</span></div><div class="line"><span class="keyword">var</span> dict:[<span class="type">String</span>:<span class="type">String</span>] = [<span class="string">"abacus"</span>:<span class="string">"ç®—ç›˜"</span>,<span class="string">"abnormal"</span>:<span class="string">"å¼‚å¸¸çš„"</span>,<span class="string">"hello"</span>:<span class="string">"ä½ å¥½"</span>,<span class="string">"good"</span>:<span class="string">"å¥½çš„"</span>]</div><div class="line"><span class="comment">//print å‰é¢çš„é”® å°±ä¼šè¾“å‡ºåé¢çš„å€¼</span></div><div class="line"><span class="comment">//ä½†æ˜¯print åé¢çš„å€¼ ä¸ä¼šè¾“å‡ºå‰é¢çš„é”®</span></div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"hello"</span>]!)</div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"abcxyz"</span>])</div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"ä½ å¥½"</span>])</div><div class="line"><span class="comment">// æ·»åŠ å…ƒç´ </span></div><div class="line">dict[<span class="string">"shit"</span>] = <span class="string">"ç‹—å±"</span></div><div class="line">dict[<span class="string">"delicious"</span>] = <span class="string">"å¥½åƒçš„"</span></div><div class="line"><span class="built_in">print</span>(dict)</div><div class="line"></div><div class="line"><span class="comment">// åˆ é™¤å…ƒç´ </span></div><div class="line"> dict.removeValueForKey(<span class="string">"hello"</span>) <span class="comment">//ç¬¬ä¸€ç§</span></div><div class="line">dict[<span class="string">"hello"</span>] = <span class="literal">nil</span> <span class="comment">//ç¬¬äºŒç§</span></div><div class="line"><span class="built_in">print</span>(dict)</div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"hello"</span>])</div><div class="line"></div><div class="line"><span class="comment">// ä¿®æ”¹å…ƒç´ </span></div><div class="line">dict[<span class="string">"shit"</span>] = <span class="string">"ç‰›ç²ª"</span></div><div class="line"><span class="built_in">print</span>(dict)</div><div class="line"></div><div class="line"><span class="comment">// éå†å­—å…¸ä¸­æ‰€æœ‰çš„å€¼</span></div><div class="line"><span class="keyword">for</span> value <span class="keyword">in</span> dict.values &#123;</div><div class="line">    <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// éå†å­—å…¸ä¸­æ‰€æœ‰çš„é”®</span></div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dict.keys &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(key) ---&gt; \(dict[key])"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ç›´æ¥é€šè¿‡ä¸€ä¸ªå…ƒç»„è·å¾—å­—å…¸ä¸­çš„é”®å’Œå€¼(åŸå§‹ç±»å‹)</span></div><div class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> dict &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(key) ---&gt; \(value)"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><blockquote><p>é›†åˆä¸­ä¸¤ä¸ªå€¼ç›¸åŒçš„å…ƒç´ ï¼Œä¼šåˆå¹¶åˆ°ä¸€èµ·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> a: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>]</div><div class="line">a.insert(<span class="number">100</span>)           <span class="comment">// æ·»åŠ å…ƒç´ </span></div><div class="line">a.remove(<span class="number">2</span>)             <span class="comment">// åˆ é™¤å…ƒç´ </span></div><div class="line"><span class="built_in">print</span>(a)</div><div class="line"><span class="keyword">var</span> b: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>]</div><div class="line"><span class="built_in">print</span>(b)</div><div class="line"></div><div class="line"><span class="built_in">print</span>(a.intersect(b))   <span class="comment">// äº¤é›†(aå’Œbéƒ½æœ‰çš„å…ƒç´ )</span></div><div class="line"><span class="built_in">print</span>(a.union(b))       <span class="comment">// å¹¶é›†(aå’Œbçš„æ‰€æœ‰å…ƒç´ )</span></div><div class="line"><span class="built_in">print</span>(a.subtract(b))    <span class="comment">// å·®é›†(aæœ‰bæ²¡æœ‰çš„å…ƒç´ )</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(a == b)</div><div class="line"><span class="built_in">print</span>(b.isSubsetOf(a))</div><div class="line"></div><div class="line"><span class="keyword">let</span> <span class="built_in">c</span>: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">3</span>]</div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.isSubsetOf(a))      <span class="comment">// åˆ¤æ–­cæ˜¯ä¸æ˜¯açš„å­é›†</span></div><div class="line"><span class="built_in">print</span>(a.isSupersetOf(<span class="built_in">c</span>))    <span class="comment">// åˆ¤æ–­aæ˜¯ä¸æ˜¯cçš„è¶…é›†</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> d: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">2</span>, <span class="number">1000</span>, <span class="number">10000</span>]</div><div class="line"><span class="built_in">print</span>(a.isDisjointWith(d))  <span class="comment">// åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦ç›¸äº¤</span></div></pre></td></tr></table></figure><h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><blockquote><p>å‡½æ•°æˆ‘è®¤ä¸ºæ˜¯swiftè¯­è¨€ä¸­æœ€é‡è¦çš„ç« èŠ‚ä¹‹ä¸€ã€‚<br>å®šä¹‰å‡½æ•°çš„å…³é”®è¯ä¸ºfunc</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// å‡½æ•°çš„å‚æ•°å</span></div><div class="line"><span class="comment">// å‡½æ•°å(å¤–éƒ¨å‚æ•°å å†…éƒ¨å‚æ•°å: ç±»å‹, å¤–éƒ¨å‚æ•°å å†…éƒ¨å‚æ•°å: ç±»å‹)</span></div><div class="line"><span class="comment">// å¦‚æœä¸å†™å¤–éƒ¨å‚æ•°åé‚£ä¹ˆå†…éƒ¨å‚æ•°åä¹Ÿæ˜¯å¤–éƒ¨å‚æ•°å</span></div><div class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨_æ¥ä½œä¸ºå¤–éƒ¨å‚æ•°åè¡¨ç¤ºçœç•¥å¤–éƒ¨å‚æ•°å</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myMin</span><span class="params">(a x: Int, b y: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> x &lt; y ? x : y</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨å‡½æ•°çš„æ—¶å€™è¦å†™å‡½æ•°çš„å¤–éƒ¨å‚æ•°å</span></div><div class="line"><span class="built_in">print</span>(myMin(a: <span class="number">3</span>, b: <span class="number">5</span>))</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰å‡½æ•°</span></div><div class="line"><span class="comment">// func å‡½æ•°å(å‚æ•°åˆ—è¡¨) -&gt; è¿”å›ç±»å‹ &#123; å‡½æ•°çš„æ‰§è¡Œä½“ &#125;</span></div><div class="line"><span class="comment">// Swiftä¸­å‡½æ•°çš„å‚æ•°å¯ä»¥è®¾å®šé»˜è®¤å€¼</span></div><div class="line"><span class="comment">// å¦‚æœè°ƒç”¨å‡½æ•°çš„æ—¶å€™æ²¡æœ‰ç»™è¯¥å‚æ•°èµ‹å€¼å°±ç›´æ¥ä½¿ç”¨é»˜è®¤å€¼</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(personName: String, alreadyGreeted: Bool = <span class="literal">false</span>)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="comment">// let greeting = "Hello, " + personName + "!"</span></div><div class="line">    <span class="comment">// å¦‚æœå‡½æ•°çš„è¿”å›ç±»å‹ä¸æ˜¯Void é‚£ä¹ˆå‡½æ•°ä¸­ä¸€å®šæœ‰returnè¯­å¥</span></div><div class="line">    <span class="comment">// return greeting</span></div><div class="line">    <span class="comment">// personName = "ç‹å°é”¤"   // ç¼–è¯‘é”™è¯¯</span></div><div class="line">    <span class="keyword">if</span> alreadyGreeted &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"æ€ä¹ˆåˆæ˜¯ä½ , "</span> + personName + <span class="string">"!"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"ä½ å¥½, "</span> + personName + <span class="string">"!"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨å‡½æ•°</span></div><div class="line"><span class="comment">// å‡½æ•°å(å‚æ•°å€¼)</span></div><div class="line"><span class="comment">// è°ƒç”¨Swiftçš„å‡½æ•°æ—¶, åœ¨é»˜è®¤æƒ…å†µä¸‹ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹éœ€è¦å†™å‚æ•°å</span></div><div class="line"><span class="built_in">print</span>(sayHello(<span class="string">"ç‹å¤§é”¤"</span>, alreadyGreeted: <span class="literal">true</span>))</div><div class="line"><span class="comment">// å¦‚æœæ²¡æœ‰ç»™ç¬¬äºŒä¸ªå‚æ•°èµ‹å€¼é‚£ä¹ˆå°±ç›´æ¥ä½¿ç”¨é»˜è®¤å€¼false</span></div><div class="line"><span class="keyword">let</span> str = sayHello(<span class="string">"Jack"</span>)</div><div class="line"><span class="built_in">print</span>(str)</div><div class="line"></div><div class="line"><span class="comment">// Swiftä¸­å‡½æ•°çš„å‚æ•°åˆ—è¡¨å¯ä»¥æ˜¯å¯å˜å‚æ•°åˆ—è¡¨(å‚æ•°çš„ä¸ªæ•°æ˜¯ä»»æ„å¤šä¸ª)</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(nums: Int...)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> total = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums &#123;</div><div class="line">        total += num</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> total</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>(sum())</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">999</span>))</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">90</span>, <span class="number">82</span>, <span class="number">37</span>, <span class="number">68</span>, <span class="number">55</span>, <span class="number">11</span>, <span class="number">99</span>))</div><div class="line"></div><div class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨å…ƒç»„(tuple)è®©å‡½æ•°ä¸€æ¬¡è¿”å›å¤šæ¡æ•°æ®</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">minMax</span><span class="params">(array: [Int])</span></span> -&gt; (<span class="built_in">min</span>: <span class="type">Int</span>, <span class="built_in">max</span>: <span class="type">Int</span>)? &#123;</div><div class="line">    <span class="keyword">if</span> array.<span class="built_in">count</span> == <span class="number">0</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> currentMin = array[<span class="number">0</span>]</div><div class="line">    <span class="keyword">var</span> currentMax = array[<span class="number">0</span>]</div><div class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> array[<span class="number">1</span>..&lt;array.<span class="built_in">count</span>] &#123;</div><div class="line">        <span class="keyword">if</span> value &lt; currentMin &#123;</div><div class="line">            currentMin = value</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> value &gt; currentMax &#123;</div><div class="line">            currentMax = value</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> (currentMin, currentMax)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> b = minMax([<span class="number">23</span>, <span class="number">45</span>, <span class="number">99</span>, <span class="number">68</span>, <span class="number">72</span>, <span class="number">12</span>, <span class="number">55</span>]) &#123;</div><div class="line">    <span class="built_in">print</span>(b.<span class="built_in">min</span>)        <span class="comment">// print(b.0)</span></div><div class="line">    <span class="built_in">print</span>(b.<span class="built_in">max</span>)        <span class="comment">// print(b.1)</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"æ•°ç»„ä¸­æ²¡æœ‰å…ƒç´ !!!"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(<span class="keyword">inout</span> a: Int, <span class="keyword">inout</span> <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Void</span> &#123;</div><div class="line">    (a, b) = (b, a)</div><div class="line"><span class="comment">//    let temp = a</span></div><div class="line"><span class="comment">//    a = b</span></div><div class="line"><span class="comment">//    b = temp</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="number">300</span>, b = <span class="number">500</span></div><div class="line"><span class="built_in">swap</span>(&amp;a, &amp;b)</div><div class="line"><span class="built_in">print</span>(<span class="string">"a = \(a)"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"b = \(b)"</span>)</div><div class="line"></div><div class="line"><span class="comment">// inout - è¾“å…¥è¾“å‡ºå‚æ•°(ä¸ä»…å°†æ•°æ®ä¼ å…¥å‡½æ•°è¿˜è¦ä»å‡½æ•°ä¸­å–å‡ºæ•°æ®)</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">createX</span><span class="params">(<span class="keyword">inout</span> x: Int)</span></span> &#123;</div><div class="line">    x = <span class="number">1000</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> x = <span class="number">1</span></div><div class="line"><span class="comment">// inoutç±»å‹çš„å‚æ•°å‰è¦åŠ ä¸Š&amp;ç¬¦å·</span></div><div class="line">createX(&amp;x)</div><div class="line"><span class="built_in">print</span>(x)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// è®¾è®¡ä¸€ä¸ªå‡½æ•°æ ¹æ®ç³»ç»Ÿæ—¶é—´è¿”å›ä¸åŒçš„é—®å€™è¯­</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(name: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">let</span> date = <span class="type">NSDate</span>()</div><div class="line">    <span class="keyword">let</span> cal = <span class="type">NSCalendar</span>.currentCalendar()</div><div class="line">    <span class="keyword">let</span> hour = cal.component(.<span class="type">Hour</span>, fromDate: date)</div><div class="line"><span class="comment">//è¿™ä¸‰å¥ä»£ç çš„æ„æ€ä¸ºï¼šç¬¬ä¸€å¥ è·å–å½“å‰ç³»ç»Ÿæ—¶é—´ </span></div><div class="line"><span class="comment">//ç¬¬äºŒå¥æ˜¯ å½“å‰å†æ³•</span></div><div class="line"><span class="comment">//ç¬¬ä¸‰å¥æ˜¯ å½“å‰å°æ—¶</span></div><div class="line">    <span class="keyword">var</span> greeting: <span class="type">String</span></div><div class="line">    <span class="keyword">switch</span> hour &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">0</span>...<span class="number">6</span>:         <span class="comment">// ä¸åŒçš„åˆ†æ”¯å¯ä»¥æœ‰é‡å çš„éƒ¨åˆ†</span></div><div class="line">        greeting = <span class="string">"æ»šå»ç¢è§‰äº†"</span></div><div class="line">        <span class="comment">// fallthrough  // ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªcase</span></div><div class="line">    <span class="keyword">case</span> <span class="number">4</span>...<span class="number">10</span>:        <span class="comment">// åŒ¹é…äº†ä¸€ä¸ªåˆ†æ”¯ä¹‹åä¸å†åŒ¹é…å…¶ä»–çš„åˆ†æ”¯</span></div><div class="line">        greeting = <span class="string">"æ—©èµ·çš„é¸Ÿå„¿æœ‰è™«åƒ"</span></div><div class="line">    <span class="keyword">case</span> <span class="number">11</span>...<span class="number">13</span>:</div><div class="line">        greeting = <span class="string">"ä¸­åˆå¥½"</span></div><div class="line">    <span class="keyword">case</span> <span class="number">14</span>...<span class="number">18</span>:</div><div class="line">        greeting = <span class="string">"ä¸‹åˆå¥½"</span></div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        greeting = <span class="string">"æ™šä¸Šå¥½"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> name + <span class="string">", "</span> + greeting + <span class="string">"!"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>(sayHello(<span class="string">"å°åˆš"</span>))</div><div class="line"></div><div class="line"><span class="comment">// è®¾è®¡ä¸€ä¸ªå‡½æ•°ä¼ å…¥ä¸¤ä¸ªæ­£æ•´æ•°må’Œn, è®¡ç®—ä»måŠ åˆ°nçš„å’Œ</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(m: Int, <span class="number">_</span> n: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">let</span> (a, b) = m &gt; n ? (n, m) : (m, n)</div><div class="line">    <span class="keyword">var</span> value = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> a...b &#123;</div><div class="line">        value += i</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> value</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>(sum(<span class="number">1</span>, <span class="number">100</span>))</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">5</span>, -<span class="number">4</span>))</div><div class="line"><span class="built_in">print</span>(sum(-<span class="number">1</span>, -<span class="number">5</span>))</div></pre></td></tr></table></figure><h2 id="è°ƒç”¨è‹¹æœè‡ªèº«çš„Apiï¼Œè¿›è¡Œç¨‹åºåº”ç”¨å¼€å‘"><a href="#è°ƒç”¨è‹¹æœè‡ªèº«çš„Apiï¼Œè¿›è¡Œç¨‹åºåº”ç”¨å¼€å‘" class="headerlink" title="è°ƒç”¨è‹¹æœè‡ªèº«çš„Apiï¼Œè¿›è¡Œç¨‹åºåº”ç”¨å¼€å‘"></a>è°ƒç”¨è‹¹æœè‡ªèº«çš„Apiï¼Œè¿›è¡Œç¨‹åºåº”ç”¨å¼€å‘</h2><h2 id="è°ƒç”¨è‹¹æœçš„æŒ‡çº¹è¯†åˆ«ï¼Œå¼€å‘ä¸€ä¸ªå¸¦æœ‰æŒ‡çº¹è¯†åˆ«çš„æ”¯ä»˜åŠŸèƒ½çš„app"><a href="#è°ƒç”¨è‹¹æœçš„æŒ‡çº¹è¯†åˆ«ï¼Œå¼€å‘ä¸€ä¸ªå¸¦æœ‰æŒ‡çº¹è¯†åˆ«çš„æ”¯ä»˜åŠŸèƒ½çš„app" class="headerlink" title="è°ƒç”¨è‹¹æœçš„æŒ‡çº¹è¯†åˆ«ï¼Œå¼€å‘ä¸€ä¸ªå¸¦æœ‰æŒ‡çº¹è¯†åˆ«çš„æ”¯ä»˜åŠŸèƒ½çš„app"></a>è°ƒç”¨è‹¹æœçš„æŒ‡çº¹è¯†åˆ«ï¼Œå¼€å‘ä¸€ä¸ªå¸¦æœ‰æŒ‡çº¹è¯†åˆ«çš„æ”¯ä»˜åŠŸèƒ½çš„app</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        </div><div class="line">        <span class="keyword">let</span> errPointer = <span class="type">NSErrorPointer</span>()</div><div class="line">        <span class="keyword">let</span> ctx = <span class="type">LAContext</span>()</div><div class="line">        <span class="comment">// åˆ¤æ–­è®¾å¤‡æ˜¯å¦æ”¯æŒæŒ‡çº¹è¯†åˆ«</span></div><div class="line">        <span class="keyword">if</span> ctx.canEvaluatePolicy(.<span class="type">DeviceOwnerAuthenticationWithBiometrics</span>, error: errPointer) &#123;</div><div class="line">            <span class="comment">// z = f(x, g(y))</span></div><div class="line">            <span class="comment">// Swiftä¸­å…è®¸å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°</span></div><div class="line">            <span class="comment">// evalutePolicyæ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°</span></div><div class="line">            <span class="comment">// è¯¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°æ²¡æœ‰è¿”å›å€¼</span></div><div class="line">            <span class="comment">// ç»™è¯¥å‚æ•°ä¼ å‚æ—¶å¯ä»¥åœ¨èŠ±æ‹¬å·ä¸­å†™ä¸€ä¸ªåŒ¿åå‡½æ•°ä¼ è¿›å»</span></div><div class="line">            <span class="comment">// è¯¥åŒ¿åå‡½æ•°é€šå¸¸ä¹Ÿç§°ä¹‹ä¸ºé—­åŒ…(closure)</span></div><div class="line">            ctx.evaluatePolicy(.<span class="type">DeviceOwnerAuthenticationWithBiometrics</span>, localizedReason: <span class="string">"è¯·è¾“å…¥æŒ‡çº¹è¿›è¡Œæ”¯ä»˜"</span>, reply: &#123; (isOK, err) -&gt; <span class="type">Void</span> <span class="keyword">in</span></div><div class="line">                <span class="keyword">if</span> isOK &#123;</div><div class="line">                    <span class="built_in">print</span>(<span class="string">"æ”¯ä»˜æˆåŠŸ!!!"</span>)</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="built_in">print</span>(<span class="string">"æŒ‡çº¹éªŒè¯å¤±è´¥, è¯·è¾“å…¥æ”¯ä»˜å¯†ç "</span>)</div><div class="line">                &#125;</div><div class="line">            &#125;)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"ä½ çš„è®¾å¤‡ä¸æ”¯æŒæŒ‡çº¹è¯†åˆ«"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><blockquote><p>é—­åŒ…ä¹Ÿç§°ï¼šåŒ¿åå‡½æ•° æ„æ€æ˜¯æ²¡æœ‰åå­—çš„å‡½æ•°<br>é—­åŒ…ç”±æ¥ï¼š<br>åœ¨swiftä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç±»å‹<br>è¿™ä¹Ÿå°±æ„å‘³ç€å‡½æ•°å¯ä»¥ä½œä¸ºå˜é‡æˆ–å¸¸é‡çš„ç±»å‹<br>åŒç†å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°å’Œå‚æ•°æˆ–è¿”å›å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(a: Int, <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> a + b</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mul</span><span class="params">(a: Int, <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> a * b</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(array: [Int], fn: <span class="params">(Int, Int)</span></span></span> -&gt; <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> sum = array[<span class="number">0</span>]</div><div class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> array[<span class="number">1</span>..&lt;array.<span class="built_in">count</span>] &#123;</div><div class="line">        sum = fn(sum, x)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sum</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç”±äºåœ¨swiftä¸­èƒ½çœåˆ™çœçš„åŸåˆ™å’Œä¼ ç»Ÿå°±å°†è°ƒç”¨å‡½æ•°åšäº†ä»¥ä¸‹å‡ æ­¥å†™æ³•çœç•¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"><span class="comment">// å½“è°ƒç”¨fooå‡½æ•°æ—¶ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¼ ä»€ä¹ˆ?</span></div><div class="line"><span class="comment">// 1. æ‰€æœ‰è‡ªå®šä¹‰çš„(Int, Int) -&gt; Intç±»å‹çš„å‡½æ•°</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: sum))</div><div class="line"><span class="comment">// 2. ä¼ å…¥å·²æœ‰çš„äºŒå…ƒè¿ç®—ç¬¦: +-*/%(å› ä¸ºè¿ç®—ç¬¦ä¹Ÿæ˜¯å‡½æ•°)</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: +))</div><div class="line"><span class="comment">// 3. ä¼ å…¥åŒ¿åå‡½æ•°(é—­åŒ…)</span></div><div class="line"><span class="comment">// 3.1 å®Œæ•´çš„é—­åŒ…å†™æ³•</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: &#123; (a, b) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> a + b</div><div class="line">&#125;))</div><div class="line"><span class="comment">// 3.2 çœç•¥æ‰ç±»å‹å’Œä¸å¿…è¦çš„æ‹¬å·</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: &#123; a, b <span class="keyword">in</span> a + b &#125;))</div><div class="line"><span class="comment">// 3.3 çœç•¥å‚æ•°å</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: &#123; $<span class="number">0</span> + $<span class="number">1</span> &#125;))</div><div class="line"><span class="comment">// 3.4 å°¾éšé—­åŒ…</span></div><div class="line"><span class="built_in">print</span>(foo(a) &#123; (a, b) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> a + b</div><div class="line">&#125;)</div><div class="line"><span class="built_in">print</span>(foo(a) &#123; $<span class="number">0</span> + $<span class="number">1</span> &#125;)</div></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<br>å¦‚æœå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°æ˜¯é—­åŒ…å¯ä»¥å†™æˆå°¾éšé—­åŒ…çš„å½¢å¼<br>ä¹Ÿå°±æ˜¯å°†é—­åŒ…æ”¾åˆ°å‡½æ•°å‚æ•°çš„åœ†æ‹¬å·å¤–é¢å†™åœ¨ä¸€å¯¹èŠ±æ‹¬å·ä¸­<br>å¦‚æœå‡½æ•°åé¢æœ‰å°¾éšé—­åŒ…ä¸”å‡½æ•°çš„åœ†æ‹¬å·ä¸­æ²¡æœ‰å‚æ•°<br>é‚£ä¹ˆå‡½æ•°çš„åœ†æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥(ä»…é™äºæœ‰å°¾éšé—­åŒ…çš„åœºæ™¯ï¼‰<br>ä¾‹å¦‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> array = [<span class="string">"game"</span>, <span class="string">"abacus"</span>, <span class="string">"hello"</span>, <span class="string">"cat"</span>, <span class="string">"good"</span>, <span class="string">"internationalization"</span>, <span class="string">"chaos"</span>, <span class="string">"dislike"</span>, <span class="string">"zealot"</span>, <span class="string">"young"</span>]</div><div class="line"></div><div class="line"><span class="comment">// array.sortInPlace(&gt;)</span></div><div class="line">array.sortInPlace(&#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;)</div><div class="line">array.sortInPlace() &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;</div><div class="line">array.sortInPlace &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125; <span class="comment">//è¿™å°±æ˜¯å°¾éšé—­åŒ…çš„æœ€ç®€å†™æ³•</span></div></pre></td></tr></table></figure><h2 id="æ•°ç»„æœ€é‡è¦çš„ä¸‰ä¸ªåŠŸèƒ½"><a href="#æ•°ç»„æœ€é‡è¦çš„ä¸‰ä¸ªåŠŸèƒ½" class="headerlink" title="æ•°ç»„æœ€é‡è¦çš„ä¸‰ä¸ªåŠŸèƒ½"></a>æ•°ç»„æœ€é‡è¦çš„ä¸‰ä¸ªåŠŸèƒ½</h2><blockquote><p>1.è¿‡æ»¤ 2.æ˜ å°„ 3.ç¼©å‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> array = [<span class="number">23</span>, <span class="number">37</span>, <span class="number">96</span>, <span class="number">55</span>, <span class="number">40</span>, <span class="number">92</span>, <span class="number">68</span>, <span class="number">88</span>]</div><div class="line"></div><div class="line"><span class="comment">// 1. è¿‡æ»¤</span></div><div class="line"><span class="keyword">let</span> newArray1 = array.<span class="built_in">filter</span> &#123; $<span class="number">0</span> &gt; <span class="number">50</span> &#125; <span class="comment">//æ‰¾åˆ°æ•°ç»„ä¸­æ¯”50å¤§çš„æ•°è¾“å‡ºå‡ºæ¥</span></div><div class="line"><span class="built_in">print</span>(newArray1)</div><div class="line"></div><div class="line"><span class="keyword">let</span> newArray2 = array.<span class="built_in">filter</span> &#123; $<span class="number">0</span> % <span class="number">2</span> == <span class="number">0</span> &#125; <span class="comment">//æ‰¾åˆ°æ•°ç»„ä¸­å¾—å¶æ•°</span></div><div class="line"><span class="built_in">print</span>(newArray2)</div><div class="line"></div><div class="line"><span class="comment">// 2. æ˜ å°„</span></div><div class="line"><span class="keyword">let</span> newArray3 = array.<span class="built_in">map</span> &#123; $<span class="number">0</span> * $<span class="number">0</span> &#125; <span class="comment">//å°†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å¹³æ–¹</span></div><div class="line"><span class="built_in">print</span>(newArray3)</div><div class="line"><span class="keyword">let</span> newArray4 = array.<span class="built_in">map</span> &#123; sqrt(<span class="type">Double</span>($<span class="number">0</span>)) &#125; <span class="comment">//å°†æ•°ç»„ä¸­å¾—æ¯ä¸ªæ•°å¼€æ ¹å·</span></div><div class="line"><span class="built_in">print</span>(newArray4)</div><div class="line"></div><div class="line"><span class="comment">// 3. ç¼©å‡</span></div><div class="line"><span class="keyword">let</span> result1 = array.<span class="built_in">reduce</span>(<span class="number">0</span>, combine: +)<span class="comment">// å°†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°æƒ³åŠ </span></div><div class="line"><span class="built_in">print</span>(result1)</div><div class="line"><span class="keyword">let</span> result2 = array.<span class="built_in">reduce</span>(<span class="number">1</span>, combine: *)<span class="comment">//å°†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°ç›¸ä¹˜</span></div><div class="line"><span class="built_in">print</span>(result2)</div><div class="line"><span class="keyword">let</span> result3 = array.<span class="built_in">reduce</span>(array[<span class="number">0</span>]) &#123; <span class="comment">//å–æ•°ç»„ä¸­æœ€å¤§çš„æ•°</span></div><div class="line">    $<span class="number">1</span> &gt; $<span class="number">0</span> ? $<span class="number">1</span> : $<span class="number">0</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(result3)</div><div class="line"></div><div class="line"><span class="keyword">let</span> strArray = [<span class="string">"I"</span>, <span class="string">"love"</span>, <span class="string">"you"</span>]</div><div class="line"><span class="keyword">let</span> result4 = strArray.<span class="built_in">reduce</span>(<span class="string">""</span>) &#123; $<span class="number">0</span> + <span class="string">" "</span> + $<span class="number">1</span> &#125;<span class="comment">//å°†æ•°ç»„ä¸­çš„ä¸‰ä¸ªå…ƒç´ åˆä¸ºä¸€ä¸ª</span></div><div class="line"><span class="built_in">print</span>(result4)</div></pre></td></tr></table></figure><h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><blockquote><p>ç±»å’Œä¸Šæ–‡æåˆ°çš„å‡½æ•° ç´§å¯†ç›¸å…³<br>ç±»æ˜¯ä¸€ç±»äº‹ç‰© è€Œå¯¹è±¡æ˜¯è¿™ç±»äº‹ç‰©ä¸­å…·ä½“çš„å®ä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> æ­¥éª¤<span class="number">1</span>: å®šä¹‰ç±»(å¦‚æœä½ è¦ç”¨çš„ç±»è‹¹æœå·²ç»æä¾›äº†å°±ç›´æ¥è¿›å…¥ç¬¬<span class="number">2</span>æ­¥)</div><div class="line"> å®šä¹‰ç±»å°±å¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»å‹</div><div class="line"> å­¦ç”Ÿç±»</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">    <span class="comment">// å˜é‡å®šä¹‰åˆ°ç±»çš„å¤–é¢å°±å«å˜é‡ - variable</span></div><div class="line">    <span class="comment">// å˜é‡å®šä¹‰åˆ°ç±»çš„é‡Œé¢å°±å«å±æ€§ - property</span></div><div class="line">    <span class="comment">// æ•°æ®æŠ½è±¡ - æ‰¾åˆ°å’Œå­¦ç”Ÿç›¸å…³çš„å±æ€§(æ‰¾åè¯)</span></div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></div><div class="line">    </div><div class="line">    <span class="comment">// åˆå§‹åŒ–æ–¹æ³•(æ„é€ æ–¹æ³•/æ„é€ å™¨) - constructor</span></div><div class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.name = name</div><div class="line">        <span class="keyword">self</span>.age = age</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// å‡½æ•°å†™åˆ°ç±»çš„å¤–é¢å°±å«å‡½æ•° - function</span></div><div class="line">    <span class="comment">// å‡½æ•°å†™åˆ°ç±»çš„é‡Œé¢å°±å«æ–¹æ³• - method</span></div><div class="line">    <span class="comment">// è¡Œä¸ºæŠ½è±¡ - æ‰¾åˆ°å’Œå­¦ç”Ÿç›¸å…³çš„æ–¹æ³•(æ‰¾åŠ¨è¯)</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(name)æ­£åœ¨åƒé¥­."</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">study</span><span class="params">(courseName: String)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(name)æ­£åœ¨å­¦ä¹ \(courseName)."</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">watchJapaneseAV</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">if</span> age &gt;= <span class="number">18</span> &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"\(name)æ­£åœ¨åŠ¨ä½œç‰‡."</span>)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"äº²çˆ±çš„\(name), æˆ‘ä»¬æ¨èä½ è§‚çœ‹ã€Šç†Šå‡ºæ²¡ã€‹"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// æ­¥éª¤2: åˆ›å»ºå¯¹è±¡(è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•)</span></div><div class="line"><span class="keyword">let</span> stu1 = <span class="type">Student</span>(name: <span class="string">"å°åˆš"</span>, age: <span class="number">35</span>)</div><div class="line"><span class="comment">// æ­¥éª¤3: ç»™å¯¹è±¡å‘æ¶ˆæ¯(é€šè¿‡ç»™å¯¹è±¡å‘æ¶ˆæ¯æ¥è§£å†³é—®é¢˜)</span></div><div class="line">stu1.eat()</div><div class="line">stu1.study(<span class="string">"Swiftç¨‹åºè®¾è®¡"</span>)</div><div class="line">stu1.watchJapaneseAV()</div><div class="line"></div><div class="line"><span class="keyword">let</span> stu2 = <span class="type">Student</span>(name: <span class="string">"ç‹å¤§é”¤"</span>, age: <span class="number">15</span>)</div><div class="line">stu2.eat()</div><div class="line">stu2.study(<span class="string">"ä¸­å›½è¿‘ä»£å²"</span>)</div><div class="line">stu2.watchJapaneseAV()</div></pre></td></tr></table></figure><blockquote><p>ä¸‹é¢å®šä¹‰ä¸€ä¸ªåœ†çš„ç±»<br>ç±»é‡Œé¢æœ‰æ±‚åœ†çš„é¢ç§¯å’Œå‘¨é•¿çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">// 0. å‘ç°ç±»</span></div><div class="line"><span class="comment">//  - åœ¨å¯¹é—®é¢˜çš„æè¿°ä¸­æ‰¾åè¯å’ŒåŠ¨è¯</span></div><div class="line"><span class="comment">//  - åè¯ä¼šæˆä¸ºç±»æˆ–è€…ç±»ä¸­çš„å±æ€§ åŠ¨è¯ä¼šæˆä¸ºç±»ä¸­çš„æ–¹æ³•</span></div><div class="line"></div><div class="line"><span class="comment">// 1. å®šä¹‰ç±»</span></div><div class="line"><span class="comment">//  - æ•°æ®æŠ½è±¡(å±æ€§)</span></div><div class="line"><span class="comment">//  - è¡Œä¸ºæŠ½è±¡(æ–¹æ³•)</span></div><div class="line"><span class="comment">//  - åˆå§‹åŒ–æ–¹æ³•</span></div><div class="line"></div><div class="line"><span class="comment">// è®¿é—®ä¿®é¥°ç¬¦</span></div><div class="line"><span class="comment">//  - public (å…¬å¼€)</span></div><div class="line"><span class="comment">//  - internal (å†…éƒ¨çš„) - é»˜è®¤</span></div><div class="line"><span class="comment">//  - private (ç§æœ‰)</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</div><div class="line">    <span class="comment">// stored property</span></div><div class="line">    <span class="comment">// å­˜å‚¨å±æ€§(ä¿å­˜å’Œåœ†ç›¸å…³çš„æ•°æ®çš„å±æ€§)</span></div><div class="line">    <span class="keyword">var</span> center: <span class="type">Point</span></div><div class="line">    <span class="keyword">var</span> radius: <span class="type">Double</span></div><div class="line">    </div><div class="line">    <span class="keyword">init</span>(center: <span class="type">Point</span>, radius: <span class="type">Double</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.center = center</div><div class="line">        <span class="keyword">self</span>.radius = radius</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// é€šå¸¸è·å¾—æŸä¸ªè®¡ç®—å‡ºçš„å€¼çš„æ–¹æ³•éƒ½å¯ä»¥è®¾è®¡æˆè®¡ç®—å±æ€§</span></div><div class="line">    <span class="comment">// computational property</span></div><div class="line">    <span class="comment">// è®¡ç®—å±æ€§(é€šè¿‡å¯¹å­˜å‚¨å±æ€§åšè¿ç®—å¾—åˆ°çš„å±æ€§)</span></div><div class="line">    <span class="keyword">var</span> perimeter: <span class="type">Double</span> &#123;</div><div class="line">        <span class="comment">// åœ†çš„å‘¨é•¿æ˜¯ä¸€ä¸ªåªè¯»å±æ€§</span></div><div class="line">        <span class="comment">// æ‰€ä»¥æ­¤å¤„åªæœ‰get&#123;&#125;æ²¡æœ‰set&#123;&#125;</span></div><div class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> <span class="number">2</span> * <span class="type">M_PI</span> * radius &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> area: <span class="type">Double</span> &#123;</div><div class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> <span class="type">M_PI</span> * radius * radius &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">æ³¨æ„ï¼šè¿ç®—ç¬¦é‡è½½</div><div class="line"></div><div class="line">```swift</div><div class="line"><span class="comment">//è¿ç®—ç¬¦é‡è½½ï¼ˆä¸ºè‡ªå®šä¹‰çš„ç±»å‹å®šä¹‰è¿ç®—ç¬¦ï¼‰</span></div><div class="line"><span class="function"><span class="keyword">func</span> +<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.add(two)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> -<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.sub(two)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> *<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.mul(two)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> /<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.div(two)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p></blockquote><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// ç»§æ‰¿: ä»å·²æœ‰çš„ç±»åˆ›å»ºæ–°ç±»çš„è¿‡ç¨‹</span></div><div class="line"><span class="comment">// æä¾›ç»§æ‰¿ä¿¡æ¯çš„ç§°ä¸ºçˆ¶ç±»(è¶…ç±»/åŸºç±»)</span></div><div class="line"><span class="comment">// å¾—åˆ°ç»§æ‰¿ä¿¡æ¯çš„ç§°ä¸ºå­ç±»(æ´¾ç”Ÿç±»/è¡ç”Ÿç±»)</span></div><div class="line"><span class="comment">// é€šå¸¸å­ç±»é™¤äº†å¾—åˆ°çˆ¶ç±»çš„ç»§æ‰¿ä¿¡æ¯è¿˜ä¼šå¢åŠ ä¸€äº›è‡ªå·±ç‰¹æœ‰çš„ä¸œè¥¿</span></div><div class="line"><span class="comment">// æ‰€ä»¥å­ç±»çš„èƒ½åŠ›ä¸€å®šæ¯”çˆ¶ç±»æ›´å¼ºå¤§</span></div><div class="line"><span class="comment">// ç»§æ‰¿çš„æ„ä¹‰åœ¨äºå­ç±»å¯ä»¥å¤ç”¨çˆ¶ç±»çš„ä»£ç å¹¶ä¸”å¢å¼ºç³»ç»Ÿç°æœ‰çš„åŠŸèƒ½</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> title: <span class="type">String</span></div><div class="line">    </div><div class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>, gender: <span class="type">Gender</span>, title: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.title = title</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name, age: age, gender: gender)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">teach</span><span class="params">(courseName: String)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(name)\(title)æ­£åœ¨æ•™\(courseName)."</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//çˆ¶ç±»å’Œå­ç±»å…³ç³»</span></div><div class="line"><span class="keyword">let</span> p1 = <span class="type">Person</span>(name: <span class="string">"ç‹å¤§é”¤"</span>, age: <span class="number">25</span>, gender: .<span class="type">Male</span>)</div><div class="line">p1.eat()</div><div class="line"></div><div class="line"><span class="comment">// å¯ä»¥å°†å­ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»å‹çš„å˜é‡(å› ä¸ºå­ç±»è·Ÿçˆ¶ç±»ä¹‹é—´æ˜¯IS-Aå…³ç³»)</span></div><div class="line"><span class="comment">// å­¦ç”Ÿæ˜¯äºº, è€å¸ˆæ˜¯äºº, æ‰€ä»¥å­¦ç”Ÿå’Œè€å¸ˆçš„å¯¹è±¡å¯ä»¥èµ‹å€¼ç»™äººç±»å‹çš„å˜é‡</span></div><div class="line"><span class="keyword">let</span> p2: <span class="type">Person</span> = <span class="type">Student</span>(name: <span class="string">"å¼ å°¼ç›"</span>, age: <span class="number">18</span>, gender: .<span class="type">Female</span>, major: <span class="string">"è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯"</span>)</div><div class="line">p2.eat()</div><div class="line"><span class="comment">// å¦‚æœè¦å°†çˆ¶ç±»å‹çš„å˜é‡è½¬æ¢æˆå­ç±»å‹éœ€è¦ç”¨asè¿ç®—ç¬¦è¿›è¡Œç±»å‹è½¬æ¢</span></div><div class="line"><span class="comment">// å¦‚æœèƒ½å¤Ÿç¡®è®¤çˆ¶ç±»å‹çš„å˜é‡ä¸­å°±æ˜¯æŸç§å­ç±»å‹çš„å¯¹è±¡å¯ä»¥ç”¨as!è¿›è¡Œè½¬æ¢</span></div><div class="line"><span class="comment">// å¦‚æœä¸ç¡®å®šçˆ¶ç±»å‹çš„å˜é‡ä¸­æ˜¯å“ªç§å­ç±»å‹å¯ä»¥ç”¨as?å°è¯•è½¬æ¢</span></div><div class="line">(p2 <span class="keyword">as</span>! <span class="type">Student</span>).study(<span class="string">"Swiftç¨‹åºè®¾è®¡"</span>)</div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> temp = p2 <span class="keyword">as</span>? <span class="type">Teacher</span> &#123;</div><div class="line">    temp.teach(<span class="string">"Java"</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(p2.name)ä¸æ˜¯è€å¸ˆ!!!"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> p3: <span class="type">Person</span> = <span class="type">Teacher</span>(name: <span class="string">"éª†æ˜Š"</span>, age: <span class="number">35</span>, gender: .<span class="type">Male</span>, title: <span class="string">"å«å…½"</span>)</div><div class="line"></div><div class="line">p3.eat()</div></pre></td></tr></table></figure><h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><blockquote><p>åŒæ ·çš„å¯¹è±¡ç±»å‹(petç±»å‹)æ¥å—äº†ç›¸åŒçš„æ¶ˆæ¯(è°ƒç”¨äº†ç›¸åŒçš„æ–¹æ³•)<br>ä½†æ˜¯åšäº†ä¸åŒçš„äº‹æƒ… è¿™å°±æ˜¯å¤šæ€(polymorphism)<br>ä¾‹å¦‚ï¼šçŒ«(cat)ç»§æ‰¿å®ƒçš„çˆ¶ç±»åŠ¨ç‰©(pet)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  / <span class="type">Cat</span>å’Œ<span class="type">Pet</span>ä¹‹é—´æ˜¯<span class="type">IS</span>-<span class="type">A</span>å…³ç³»(ç»§æ‰¿)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="title">Pet</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> hairColor: <span class="type">String</span>?</div><div class="line">    </div><div class="line">    <span class="comment">// çˆ¶ç±»æœ‰çš„æ–¹æ³•å­ç±»å¯ä»¥é‡æ–°å®ç° è¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•é‡å†™</span></div><div class="line">    <span class="comment">// éœ€è¦åœ¨æ–¹æ³•å‰æ·»åŠ overrideå…³é”®å­—</span></div><div class="line">    <span class="comment">// é‡å†™æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºç½®æ¢/è¦†ç›–/è¦†å†™</span></div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.play()</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(nickname)æ­£åœ¨ç©æ¯›çº¿çƒ."</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">shout</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(nickname): å–µå–µå–µâ€¦â€¦"</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">catchTheMouse</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(nickname)æ­£åœ¨æŠ“è€é¼ ."</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¯¹çˆ¶ç±»çš„æ–¹æ³•å¯ä»¥é‡æ–°å®ç°ï¼Œ è¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•é‡å†™<br>è¿™æ˜¯å®ç°å¤šæ€çš„é‡è¦æ­¥éª¤ä¹‹ä¸€ï¼<br>ä¸‹é¢æ˜¯å®ç°å¤šæ€çš„ç¬¬äºŒä¸ªæ­¥éª¤ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> petsArray = [</div><div class="line">    <span class="type">Cat</span>(nickname:<span class="string">"åŠ è²"</span>,gender: .<span class="type">Male</span>,age:<span class="number">2</span>),</div><div class="line">    <span class="type">Dog</span>(nickname: <span class="string">"å‰å¨ƒå¨ƒ"</span>, gender: .<span class="type">Male</span>, age: <span class="number">3</span>, isLarge: <span class="literal">false</span>),</div><div class="line">    <span class="type">Dog</span>(nickname: <span class="string">"å¤§é»„"</span>, gender: .<span class="type">FeMale</span>, age: <span class="number">2</span>, isLarge: <span class="literal">true</span>),</div><div class="line">    <span class="type">Mistress</span>(nickname: <span class="string">"å°èŠ±"</span>,gender: .<span class="type">FeMale</span>,age:<span class="number">16</span>)</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">for</span> pet <span class="keyword">in</span> petsArray&#123;</div><div class="line">    pet.eat()</div><div class="line">    <span class="comment">// åŒæ ·çš„å¯¹è±¡ç±»å‹(petç±»å‹)æ¥å—äº†ç›¸åŒçš„æ¶ˆæ¯(è°ƒç”¨äº†ç›¸åŒçš„æ–¹æ³•)</span></div><div class="line">    <span class="comment">// ä½†æ˜¯åšäº†ä¸åŒçš„äº‹æƒ… è¿™å°±æ˜¯å¤šæ€(polymorphism)</span></div><div class="line">    </div><div class="line">    <span class="comment">// å®ç°å¤šæ€çš„å…³é”®æ­¥éª¤ï¼š</span></div><div class="line">    <span class="comment">// 1.æ–¹æ³•çš„é‡å†™(å­ç±»åœ¨ç»§æ‰¿çˆ¶ç±»çš„è¿‡ç¨‹ä¸­å¯¹çˆ¶ç±»å·²æœ‰çš„æ–¹æ³•è¿›è¡Œé‡å†™,è€Œä¸”ä¸åŒçš„å­ç±»ç»™å‡ºå„è‡ªä¸åŒçš„å®ç°ç‰ˆæœ¬)</span></div><div class="line">    <span class="comment">// 2.å¯¹è±¡é€ å‹(å°†å­ç±»å¯¹è±¡å½“æˆçˆ¶ç±»å‹æ¥ä½¿ç”¨)</span></div><div class="line">    pet.play()</div><div class="line">    pet.shout()</div><div class="line">    <span class="comment">// å¦‚æœdogæ˜¯å±äºpetä¸­ å¦‚æœdogæ˜¯Dogç±»å‹å°±å¯ä»¥è°ƒç”¨keepTheDoorè¿™ä¸ªç‰¹æœ‰çš„æ–¹æ³•</span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> dog = pet <span class="keyword">as</span>? <span class="type">Dog</span>&#123;</div><div class="line">        dog.keepTheDoor()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="keyword">let</span> cat = pet <span class="keyword">as</span>? <span class="type">Cat</span>&#123;</div><div class="line">        cat.catchTheMouse()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="keyword">let</span> mistress = pet <span class="keyword">as</span>? <span class="type">Mistress</span>&#123;</div><div class="line">        mistress.makeTrouble()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//æšä¸¾</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Gender</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Male</span></div><div class="line">    <span class="keyword">case</span> <span class="type">FeMale</span></div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Func-ç½‘é€Ÿå®æ—¶æ˜¾ç¤º</title>
      <link href="/2017/12/06/OC/Func/iOS-Func-%E7%BD%91%E9%80%9F%E5%AE%9E%E6%97%B6%E6%98%BE%E7%A4%BA/"/>
      <content type="html"><![CDATA[<blockquote><p>åŸç†ï¼šé€šè¿‡å‡½æ•°getifaddrsæ¥å¾—åˆ°ç³»ç»Ÿç½‘ç»œæ¥å£çš„ä¿¡æ¯ï¼Œç½‘ç»œæ¥å£çš„ä¿¡æ¯, åŒ…å«åœ¨if_dataå­—æ®µä¸­, æœ‰å¾ˆå¤šä¿¡æ¯, ä½†æˆ‘ç°åœ¨åªå…³å¿ƒifi_ibytes, ifi_obytes, åº”è¯¥å°±æ˜¯æ¥æ”¶åˆ°çš„å­—èŠ‚æ•°å’Œå‘é€çš„å­—èŠ‚æ•°, åŠ èµ·æ¥å°±æ˜¯æµé‡äº†. è¿˜å‘ç°, æ¥å£çš„åå­—, æœ‰en, pdp_ip, loç­‰å‡ ç§å½¢å¼, enåº”è¯¥æ˜¯wifi, pdp_ipå¤§æ¦‚æ˜¯3gæˆ–è€…gprs, loæ˜¯ç¯å›æ¥å£, é€šè¿‡åå­—åŒºåˆ†å¯ä»¥åˆ†åˆ«ç»Ÿè®¡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;ifaddrs.h&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;sys/socket.h&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;net/if.h&gt;</span></span></div><div class="line"></div><div class="line">+ (<span class="keyword">long</span> <span class="keyword">long</span>) getInterfaceBytes</div><div class="line">&#123;</div><div class="line">    <span class="keyword">struct</span> ifaddrs *ifa_list = <span class="number">0</span>, *ifa;</div><div class="line">    <span class="keyword">if</span> (getifaddrs(&amp;ifa_list) == <span class="number">-1</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    uint32_t iBytes = <span class="number">0</span>;</div><div class="line">    uint32_t oBytes = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (ifa = ifa_list; ifa; ifa = ifa-&gt;ifa_next)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (AF_LINK != ifa-&gt;ifa_addr-&gt;sa_family)</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (!(ifa-&gt;ifa_flags &amp; IFF_UP) &amp;&amp; !(ifa-&gt;ifa_flags &amp; IFF_RUNNING))</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (ifa-&gt;ifa_data == <span class="number">0</span>)</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        </div><div class="line">        <span class="comment">/* Not a loopback device. */</span></div><div class="line">        <span class="keyword">if</span> (strncmp(ifa-&gt;ifa_name, <span class="string">"lo"</span>, <span class="number">2</span>))</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">struct</span> if_data *if_data = (<span class="keyword">struct</span> if_data *)ifa-&gt;ifa_data;</div><div class="line">            </div><div class="line">            iBytes += if_data-&gt;ifi_ibytes;</div><div class="line">            oBytes += if_data-&gt;ifi_obytes;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    freeifaddrs(ifa_list);</div><div class="line">    </div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"\n[getInterfaceBytes-Total]%d,%d"</span>,iBytes,oBytes);</div><div class="line">    <span class="keyword">return</span> iBytes + oBytes;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><a href="http://blog.csdn.net/zzzzzdddddxxxxx/article/details/51557840" target="_blank" rel="external">èµ„æ–™01</a></p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Func-å†…å­˜æ³„æ¼é—®é¢˜</title>
      <link href="/2017/12/06/OC/Func/iOS-Func-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E9%97%AE%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="AFHTTP-å†…å­˜æ³„æ¼é—®é¢˜"><a href="#AFHTTP-å†…å­˜æ³„æ¼é—®é¢˜" class="headerlink" title="AFHTTP å†…å­˜æ³„æ¼é—®é¢˜"></a>AFHTTP å†…å­˜æ³„æ¼é—®é¢˜</h1><blockquote><p>AFHTTP æ¡†æ¶çš„é€šç—…ã€‚è¿™ä¸ªé—®é¢˜å¾ˆå¸¸è§ï¼Œä¹Ÿæœ€å¥½è§£å†³ï¼Œç½‘ä¸Šä¹Ÿæœ‰ä¸å°‘çš„è§£å†³æ–¹æ¡ˆ<br>ä¸»æµçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨å•ä¾‹ã€‚å®šä¹‰ä¸€ä¸ªå•ä¾‹å¯¹è±¡ SessionManagerï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">@interface</span> <span class="title">SessionManager</span> : <span class="title">NSObject</span></span></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>)AFHTTPSessionManager *manager;</div><div class="line">+(SessionManager *)share;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">SessionManager</span></span></div><div class="line"></div><div class="line"></div><div class="line">+(SessionManager *)share&#123;</div><div class="line">    <span class="keyword">static</span> SessionManager *shareObj = <span class="literal">nil</span>;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</div><div class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</div><div class="line">        shareObj = [[SessionManager alloc] init];</div><div class="line"></div><div class="line">        AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">        <span class="comment">/** è®¾ç½®è¶…æ—¶*/</span></div><div class="line">        [manager.requestSerializer willChangeValueForKey:<span class="string">@"timeoutInterval"</span>];</div><div class="line">        manager.requestSerializer.timeoutInterval = <span class="number">10</span>;</div><div class="line">        [manager.requestSerializer didChangeValueForKey:<span class="string">@"timeoutInterval"</span>];</div><div class="line">        shareObj.manager = manager;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> shareObj;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨SessionManager</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> AFHTTPSessionManager* manager = [SessionManager share].manager;</div><div class="line">manager.requestSerializer = [AFHTTPRequestSerializer new];</div><div class="line">â€¦â€¦</div></pre></td></tr></table></figure><h1 id="ç¯ä¿¡-UI-æ¡†æ¶ä¸­çš„å†…å­˜æ³„æ¼é—®é¢˜"><a href="#ç¯ä¿¡-UI-æ¡†æ¶ä¸­çš„å†…å­˜æ³„æ¼é—®é¢˜" class="headerlink" title="ç¯ä¿¡ UI æ¡†æ¶ä¸­çš„å†…å­˜æ³„æ¼é—®é¢˜"></a>ç¯ä¿¡ UI æ¡†æ¶ä¸­çš„å†…å­˜æ³„æ¼é—®é¢˜</h1><blockquote><p>ç¯ä¿¡æ¡†æ¶ä¸­ï¼Œæœ‰ä¸€ä¸ªå¯¹ UIViewController çš„æ‰©å±•ï¼ˆCategoryï¼‰ :UIViewController+HUDï¼Œå®ƒå¯¹ MBHUD è¿›è¡Œäº†äºŒæ¬¡å°è£…ï¼Œé€šè¿‡å®ƒå¯ä»¥ä½¿ä½ çš„ MBHUD çš„è°ƒç”¨å˜å¾—æ›´ç®€å•ï¼Œæ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ª HUD ä½ å¯ä»¥è¿™æ ·ï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> showHudInView:<span class="keyword">self</span>.view hint:<span class="string">@""</span>];</div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸­æœ‰ä¸€ä¸ªä¸¥é‡çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚å½“ä½ åœ¨ä¸€ä¸ª View Controller ä¸­å¤šæ¬¡æ˜¾ç¤º HUD ä¹‹åï¼ˆæ¯”å¦‚åå¤ä¸‹æ‹‰åˆ·æ–°è¡¨æ ¼ï¼‰ï¼Œç”¨è§†å›¾è°ƒè¯•å™¨æŸ¥çœ‹ UIViewï¼Œä½ ä¼šå‘ç°è§†å›¾æ ‘ä¸­æ˜¾ç¤ºäº†å¤šä¸ª HUD å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡ showHudInView ä¹‹åéƒ½ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„ HUDï¼Œè€ŒåŸæ¥çš„ HUD è™½ç„¶è¢«éšè—äº†ï¼Œä½†å®ƒä»¬åœ¨å†…å­˜ä¸­ä»ç„¶æ˜¯æŒç»­å­˜åœ¨çš„ã€‚æ¯æ¬¡ showHudInView è°ƒç”¨å¤§æ¦‚ä¼šå¯¼è‡´ 400-500 k çš„å†…å­˜æ³„æ¼ã€‚å¦‚æœä½ åå¤åˆ·æ–°è¡¨æ ¼ï¼ˆæ¯”å¦‚ 5 åˆ†é’Ÿæˆ–æ›´é•¿ï¼‰ç›´åˆ°å†…å­˜æ’‘çˆ†ï¼Œapp å´©æºƒ<br>è§£å†³çš„æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨ showHudInView æ–¹æ³•ä¸­åŠ å…¥ä¸€å¥ï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">HUD.removeFromSuperViewOnHide = <span class="literal">YES</span>;</div></pre></td></tr></table></figure><h1 id="O-C-å—ä¸­å¯¹-self-å¼ºå¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜"><a href="#O-C-å—ä¸­å¯¹-self-å¼ºå¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜" class="headerlink" title="O-C å—ä¸­å¯¹ self å¼ºå¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜"></a>O-C å—ä¸­å¯¹ self å¼ºå¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜</h1><blockquote><p>åœ¨ View Controller ç±»çš„ O-C å—ä¸­ï¼Œå¦‚æœä½ ç›´æ¥å¼•ç”¨äº† selfï¼Œåˆ™ä¼šå¯¼è‡´ View Controller è¢«å¼ºå¼•ç”¨ï¼ˆå› ä¸ºå—çš„å‚æ•°éƒ½æ˜¯ä»¥ copy å¼•ç”¨çš„ï¼Œä¼šå¯¼è‡´ retained count åŠ  1ï¼‰ã€‚è¿™æ ·ï¼Œå½“ View Controller è¢« pop å‡ºå¯¼èˆªæ§åˆ¶å™¨æ ˆåä¸ä¼šè¢«é‡Šæ”¾ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚è¿™ä¸ªæ³„æ¼å°±æ¯”è¾ƒä¸¥é‡äº†ï¼Œå°‘åˆ™å‡ ç™¾ K,å¤šåˆ™å‡ å…†</p><p>ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾çš„ä¾‹å­å°±æ˜¯ MJRefreshã€‚åœ¨ View Controller ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ”¯æŒä¸‹æ‹‰åˆ·æ–°ï¼Œé€šå¸¸ä¼šè¿™æ ·ä½¿ç”¨ MJRefreshï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.tableView.mj_header=[MJRefreshNormalHeader headerWithRefreshingBlock:^&#123;</div><div class="line">       [<span class="keyword">self</span>.tableView.mj_header endRefreshing];</div><div class="line">       currentPage = <span class="number">1</span>;</div><div class="line">       [<span class="keyword">self</span> loadNoticeList:<span class="number">1</span> success:^(<span class="built_in">NSArray</span>&lt;CampusNoticeModel *&gt; *data) &#123;</div><div class="line">           [<span class="keyword">self</span>.models removeAllObjects];</div><div class="line">           [<span class="keyword">self</span>.models addObjectsFromArray:data];</div><div class="line">           [<span class="keyword">self</span>.tableView reloadData];</div><div class="line">       &#125; failure:^(<span class="built_in">NSString</span> *msg) &#123;</div><div class="line">       &#125;];        </div><div class="line">   &#125;];</div></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼ŒO-C å—ä¸­å¯¹ View Controller è¿›è¡Œäº†å¼ºå¼•ç”¨ï¼Œæ¯”å¦‚ï¼šself.tableView å’Œ self.modelsã€‚<br>åŸåˆ™ä¸Šï¼Œå½“æˆ‘ä»¬åœ¨ O-C å—ä¸­å¼•ç”¨ self æ—¶ï¼Œåº”å½“ä½¿ç”¨å¼±å¼•ç”¨ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä»£ç åº”å½“æ”¹ä¸ºï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">__<span class="keyword">weak</span> __<span class="keyword">typeof</span>(<span class="keyword">self</span>) weakSelf=<span class="keyword">self</span>;</div><div class="line">  <span class="keyword">self</span>.tableView.mj_header=[MJRefreshNormalHeader headerWithRefreshingBlock:^&#123;</div><div class="line">      [weakSelf.tableView.mj_header endRefreshing];</div><div class="line">      currentPage = <span class="number">1</span>;</div><div class="line">      [weakSelf loadNoticeList:<span class="number">1</span> success:^(<span class="built_in">NSArray</span>&lt;CampusNoticeModel *&gt; *data) &#123;</div><div class="line">          [weakSelf.models removeAllObjects];</div><div class="line">          [weakSelf.models addObjectsFromArray:data];</div><div class="line">          [weakSelf.tableView reloadData];</div><div class="line">      &#125; failure:^(<span class="built_in">NSString</span> *msg) &#123;</div><div class="line">      &#125;];</div><div class="line">  &#125;];</div></pre></td></tr></table></figure><blockquote><p>ä¹Ÿå°±æ˜¯å°† OC å—ä¸­æ‰€æœ‰çš„ self æ”¹æˆ weakSelfã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå¦‚æœå¼•ç”¨çš„æ˜¯å®ä¾‹å˜é‡è€Œä¸æ˜¯å±æ€§ï¼ŒåŸåˆ™ä¸Šæ˜¯ä¸éœ€è¦ weakSelf çš„ã€‚æ¯”å¦‚ currentPage åœ¨ View Controller ä¸­æ˜¯ä»¥å®ä¾‹å˜é‡å½¢å¼å®šä¹‰çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰ç”¨ @property è¿›è¡Œå£°æ˜ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éœ€è¦é€šè¿‡ weakSelf æ¥è¿›è¡Œå¼•ç”¨<br>ä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ MLeaksFinder æ¥æ£€æµ‹å†…å­˜æ³„æ¼æ—¶ï¼ŒMLeaksFinder ä»ç„¶ä¼šè®¤ä¸º O-C å—ä¸­å¯¹ currentPage çš„å¼•ç”¨å­˜åœ¨é—®é¢˜ã€‚å› æ­¤ï¼Œä¸ºäº†è®© MLeaksFinder å½»åº•â€œé—­ä¸Šå˜´â€ï¼Œæˆ‘ä»¬æœ€å¥½ä¹Ÿå°† currentPage ä¿®æ”¹ä¸ºå±æ€§ï¼ˆä½¿ç”¨ @property å£°æ˜ï¼‰ï¼Œç„¶åå°† O-C å—ä¸­çš„å¼•ç”¨æ–¹å¼ä¿®æ”¹ä¸ºï¼šweakSelf.currentPage</p></blockquote><h1 id="CADisplayLink-å¯¼è‡´çš„å†…å­˜æ³„æ¼"><a href="#CADisplayLink-å¯¼è‡´çš„å†…å­˜æ³„æ¼" class="headerlink" title="CADisplayLink å¯¼è‡´çš„å†…å­˜æ³„æ¼"></a>CADisplayLink å¯¼è‡´çš„å†…å­˜æ³„æ¼</h1><blockquote><p>åœ¨ä½¿ç”¨ CADisplayLink æ—¶ï¼Œå¦‚æœä¸é‡Šæ”¾ CADisplayLinkï¼Œå¾ˆå®¹æ˜“å‡ºç°å†…å­˜æ³„æ¼ã€‚ä»¥è‡ªå®šä¹‰ UIView ä¸ºä¾‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å®šæ—¶å™¨è¿›è¡ŒæŸäº›è‡ªå®šä¹‰çš„ç»˜å›¾å’ŒåŠ¨ç”»æ“ä½œã€‚è¿™æ—¶æˆ‘ä»¬ä¼šç”¨åˆ° CADisplayLink </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">displayLink = [<span class="built_in">CADisplayLink</span> displayLinkWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(animateDashboard:)];</div></pre></td></tr></table></figure><blockquote><p>å½“æˆ‘ä»¬éœ€è¦å¼€å¯å®šæ—¶å™¨æ—¶ï¼Œå¯ä»¥å°†å®ƒæ·»åŠ åˆ° runloopï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[displayLink addToRunLoop:[<span class="built_in">NSRunLoop</span> currentRunLoop] forMode:<span class="built_in">NSRunLoopCommonModes</span>];</div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯ displayLink ä¼šæŒæœ‰ UIView å¯¹è±¡ï¼Œå¯¼è‡´ UIView æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ä¸€ä¸ªé€‚å½“çš„æ—¶æœºé‡Šæ”¾ displayLinkï¼Œæ¯”å¦‚åœ¨ CADisplayLink çš„ action æ–¹æ³•ä¸­æ ¹æ®ä¸€å®šçš„æ¡ä»¶æ¥ invalidate å®ƒï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> -(<span class="keyword">void</span>)animateDashboard:(<span class="built_in">CADisplayLink</span> *)sender&#123;</div><div class="line">    <span class="keyword">if</span>( endValue &lt;= <span class="keyword">self</span>.value)&#123;<span class="comment">// åˆ°è¾¾ç»ˆç‚¹å€¼ï¼Œåœæ­¢åŠ¨ç”»</span></div><div class="line">        ......</div><div class="line">        [displayLink invalidate];</div><div class="line">        ......</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        ......</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¦å¤–ï¼ŒCADisplayLink æœ€å¥½ä¸è¦å¤ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡å¯åŠ¨ CADisplayLink æ—¶éƒ½é‡æ–°åˆå§‹åŒ–å¹¶å°†å®ƒæ·»åŠ åˆ° runloopï¼Œè€Œæ¯æ¬¡åœæ­¢åŠ¨ç”»æ—¶éƒ½ invalidateï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> -(<span class="keyword">void</span>)animating&#123;</div><div class="line">    <span class="keyword">if</span>(_stopped == <span class="literal">YES</span>)&#123;</div><div class="line">        displayLink = [<span class="built_in">CADisplayLink</span> displayLinkWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(blink:)];</div><div class="line">        [displayLink addToRunLoop:[<span class="built_in">NSRunLoop</span> currentRunLoop] forMode:<span class="built_in">NSRunLoopCommonModes</span>];</div><div class="line"></div><div class="line">        _stopped = <span class="literal">NO</span>;</div><div class="line">        [<span class="keyword">self</span> setNeedsDisplay];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">-(<span class="keyword">void</span>)stopAnimating&#123;</div><div class="line">    <span class="keyword">if</span>(_stopped == <span class="literal">NO</span>)&#123;</div><div class="line">        [displayLink invalidate];</div><div class="line">        _stopped = <span class="literal">YES</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="reloadRowsAtIndexPaths-å¯¼è‡´çš„å†…å­˜æ³„æ¼"><a href="#reloadRowsAtIndexPaths-å¯¼è‡´çš„å†…å­˜æ³„æ¼" class="headerlink" title="reloadRowsAtIndexPaths å¯¼è‡´çš„å†…å­˜æ³„æ¼"></a>reloadRowsAtIndexPaths å¯¼è‡´çš„å†…å­˜æ³„æ¼</h1><blockquote><p>UITableView çš„ reloadRowsAtIndexPaths çš„è¡Œä¸ºéå¸¸å¥‡æ€ªï¼Œåœ¨åˆ·æ–° cell æ—¶ï¼Œå®ƒå¹¶ä¸ä¼šé‡ç”¨åŸæœ‰çš„ cellï¼Œè€Œæ˜¯é‡æ–°åˆ›å»ºæ–°çš„ cell è¦†ç›–åœ¨åŸæ¥çš„ cell ä¸Šï¼Œè¿™ä¼šå¯¼è‡´é¢å¤–çš„å†…å­˜å¼€é”€ã€‚å½“é‡å¤å¤šæ¬¡è°ƒç”¨ reloadRowsAtIndexPaths ä¹‹åï¼Œä½ å¯ä»¥åœ¨è§†å›¾è°ƒè¯•å™¨ä¸­çœ‹ä¸‹æ•ˆæœï¼š<br>æ— è®ºä½ ç”¨ä¸ç”¨ beginUpdates/endUpdatesï¼Œç»“æœéƒ½æ˜¯ä¸€æ ·ã€‚<br>è§£å†³çš„åŠæ³•ç›®å‰åªæœ‰ä¸€ä¸ªï¼Œä¸è¦ç”¨ reloadRowsAtIndexPathsï¼Œè€Œæ˜¯ä½¿ç”¨ reloadDataï¼Œå½“ç„¶ä¼šæœ‰ä¸€ç‚¹æ€§èƒ½ä¸Šçš„ä»£ä»·ï¼Œä½†ä¹Ÿæ˜¯æ²¡æœ‰åŠæ³•çš„äº‹æƒ…</p></blockquote><h1 id="å®šæ—¶å™¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜"><a href="#å®šæ—¶å™¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜" class="headerlink" title="å®šæ—¶å™¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜"></a>å®šæ—¶å™¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜</h1><blockquote><p>æœ‰æ—¶å€™ NSTimer ï¼ˆå°¤å…¶æ˜¯ repeated ä¸º YES æ—¶ï¼‰ä¼šå¯¼è‡´å†…å­˜æ³„æ¼é—®é¢˜ã€‚å› ä¸ºå®šæ—¶å™¨æ˜¯åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œçš„ï¼Œå½“ç•Œé¢æ¶ˆå¤±åï¼Œå®šæ—¶å™¨ä»ç„¶è¿˜åœ¨è¿è¡Œï¼Œå¦‚æœåœ¨å®šæ—¶å™¨ä»»åŠ¡ä¸­å¼•ç”¨äº† UI å…ƒç´ ï¼Œåˆ™è¿™äº›è§†å›¾éƒ½ä¼šè¢«å¼ºå¼•ç”¨ï¼Œä»è€Œå¯¼è‡´ç•Œé¢æ¶ˆå¤±å view æ— æ³•é‡Šæ”¾ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚<br>å› æ­¤ï¼Œå¦‚æœåœ¨ä½ çš„ UIViewController ä¸­ä½¿ç”¨äº†å®šæ—¶å™¨ï¼Œä¸€å®šè¦è®°å¾—åœ¨ viewWillDisappear æ–¹æ³•ä¸­ invalidate å®ƒ</p></blockquote><h1 id="addScriptMessageHandler-å¯¼è‡´çš„å†…å­˜æ³„æ¼"><a href="#addScriptMessageHandler-å¯¼è‡´çš„å†…å­˜æ³„æ¼" class="headerlink" title="addScriptMessageHandler å¯¼è‡´çš„å†…å­˜æ³„æ¼"></a>addScriptMessageHandler å¯¼è‡´çš„å†…å­˜æ³„æ¼</h1><blockquote><p>WKUserContentController çš„ addScriptMessageHandler æ–¹æ³•ä¼šå¯¼è‡´ä¸€ä¸ªå¯¹ handler å¯¹è±¡çš„å¼ºå¼•ç”¨ï¼Œä»è€Œå¯¼è‡´ handler ï¼ˆé€šå¸¸æ˜¯ webView æ‰€åœ¨çš„ ViewControllerï¼‰ä¸ä¼šè¢«é‡Šæ”¾ï¼Œäºæ˜¯å†…å­˜æ³„æ¼ã€‚<br>è§£å†³çš„åŠæ³•æ˜¯ removeScriptMessageHandlerForNameã€‚æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œå½“ä½  addScriptMessageHandler ä¹‹åï¼Œéœ€è¦åœ¨ä¸å†éœ€è¦ handler æ—¶ï¼Œéœ€è¦è°ƒç”¨ removeScriptMessageHandlerForName è§£é™¤ handler çš„å¼ºå¼•ç”¨ã€‚<br>é—®é¢˜åœ¨äºï¼Œâ€œå½“ä½ ä¸åœ¨éœ€è¦å®ƒçš„æ—¶å€™â€åˆ°åº•æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿæˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨ viewDidLoad ä¸­ addScriptMessageHandlerï¼ŒæŒ‰é“ç†åº”è¯¥åœ¨ dealloc ä¸­ removeScriptMessageHandlerForNameã€‚ä½†ç”±äºå†…å­˜éƒ½å·²ç»æ³„æ¼äº†ï¼ŒViewContoller çš„ dealloc æ ¹æœ¬ä¸ä¼šè°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ— æ•ˆçš„ã€‚<br>è§£å†³çš„åŠæ³•æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å°† addScriptMessageHandler æ”¾åˆ° viewDidAppear ä¸­æ‰§è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨ viewDidDisappler ä¸­ removeScriptMessageHandlerForName äº†ã€‚<br>å¦ä¸€ä¸ªæ–¹æ³•æ˜¯å°† handler å¼±å¼•ç”¨ã€‚è¿™éœ€è¦æ–°å»ºä¸€ä¸ªç±»ï¼Œåˆ›å»ºä¸€ä¸ªå¼±å¼•ç”¨çš„å±æ€§ï¼Œç”¨è¿™ä¸ªå±æ€§æ¥åŒ…è£… handler å¯¹è±¡ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  @interface <span class="type">WeakScriptMessageDelegate</span> : <span class="type">NSObject</span>&lt;<span class="type">WKScriptMessageHandler</span>&gt;</div><div class="line"><span class="comment">// 1</span></div><div class="line">@property (nonatomic, <span class="keyword">weak</span>) id&lt;<span class="type">WKScriptMessageHandler</span>&gt; scriptDelegate;</div><div class="line"></div><div class="line">- (instancetype)initWithDelegate:(id&lt;<span class="type">WKScriptMessageHandler</span>&gt;)scriptDelegate;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation <span class="type">WeakScriptMessageDelegate</span></div><div class="line"></div><div class="line">- (instancetype)initWithDelegate:(id&lt;<span class="type">WKScriptMessageHandler</span>&gt;)scriptDelegate</div><div class="line">&#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> <span class="keyword">init</span>];</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</div><div class="line">        _scriptDelegate = scriptDelegate;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 2</span></div><div class="line">- (void)userContentController:(<span class="type">WKUserContentController</span> *)userContentController didReceiveScriptMessage:(<span class="type">WKScriptMessage</span> *)message</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span>.scriptDelegate userContentController:userContentController didReceiveScriptMessage:message];</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure><ul><li><p>è¿™ä¸ªå±æ€§å°±æ˜¯ç”¨æ¥å¼±å¼•ç”¨ handler çš„å±æ€§ï¼Œå®ƒä¿å­˜äº†ä¸€ä¸ªå¯¹ handler çš„å¼±å¼•ç”¨ã€‚ç±»å‹æ˜¯ idï¼Œå› ä¸º addScriptMessageHandler æ–¹æ³•éœ€è¦ä¸€ä¸ª WKScriptMessageHandler å¯¹è±¡ä½œä¸ºå‚æ•°</p></li><li><p>è¿™ä¸ªå¯¹è±¡å¯¹ WKScriptMessageHandler è¿›è¡Œäº†å°è£…ï¼Œå®ƒåŒæ ·å®ç°äº† WKScriptMessageHandler åè®®ï¼Œè¿™ä¸ªåè®®ä¸­æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ–¹æ³•éœ€è¦å®ç°ï¼Œå³ userContentController æ–¹æ³•ã€‚åœ¨æ–¹æ³•å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨ handler çš„åŒåæ–¹æ³•å®ç°ï¼ˆå› ä¸ºäºŒè€…çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ï¼‰</p></li></ul><blockquote><p>ä½¿ç”¨</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> / å°† handler è½¬æ¢æˆä¸€ä¸ªè‹¥å¼•ç”¨çš„ handler,ä»è€Œé¿å…å†…å­˜æ³„æ¼</div><div class="line">WeakScriptMessageDelegate* weakHandler = [[WeakScriptMessageDelegate alloc] initWithDelegate:handler];</div><div class="line"></div><div class="line">[webView.configuration.userContentController addScriptMessageHandler:weakHandler name:methodName];</div></pre></td></tr></table></figure><blockquote><p>MLeaksFinder</p><p>å†…å­˜æ³„æ¼é—®é¢˜å¤šç§å¤šæ ·ï¼Œå®ƒä»¬ç»å¸¸ä»¥å‡ºä¹äººæ„æ–™çš„å½¢å¼å­˜åœ¨ï¼Œæˆ‘ä»¬æ— æ³•ä»¥ä¸€ç§å›ºå®šçš„æ¨¡å¼æ¥åˆ¤æ–­ app ä¸­å­˜åœ¨çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚æˆ‘ä»¬å¸¸å¸¸éœ€è¦ä½¿ç”¨å¤šä¸ªå·¥å…·å’Œæ‰‹æ®µæ¥æ£€æŸ¥ app ä¸­çš„å†…å­˜é—®é¢˜ï¼Œæ¯”å¦‚å¯ä»¥ç”¨ Xcode çš„ Analyze å·¥å…·å¯¹ä»£ç è¿›è¡Œé™æ€è¯­æ³•åˆ†æï¼Œç”¨ Instrument çš„ Leaks/Allocations å·¥å…·è¿›è¡ŒåŠ¨æ€å†…å­˜æ£€æŸ¥åˆ†æï¼Œç”¨è§†å›¾è°ƒè¯•å™¨æŸ¥çœ‹ UI é—®é¢˜ç­‰ç­‰ã€‚</p><p>ä½†æˆ‘ä»¬è¿˜å¯ä»¥ç”¨è®¸å¤šç¬¬ä¸‰æ–¹å†…å­˜æ³„æ¼æ£€æµ‹æ¡†æ¶ï¼Œæ¯”å¦‚ï¼šMLeaksFinder å’Œ HeapInspector-for-iOSï¼Œå°¤å…¶æ˜¯å‰è€…ï¼ˆåè€…ç›®å‰ä¼šå¯¼è‡´ App â€œå†»æ­»â€çš„é—®é¢˜ï¼Œä½œè€…è¿˜åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼‰ã€‚</p><p>MLeaksFinder æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæ£€æµ‹ UI ç±»å†…å­˜æ³„æ¼çš„å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥æ£€æµ‹ UIViewController å’Œ UIView ä¸­æœª dealloc çš„ subviewã€‚</p><p>å®ƒçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œç›´æ¥ pod MLeaksFinderï¼Œç„¶åæ‰¾åˆ° MLeaksFinder.h å¤´æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„ MEMORY_LEAKS_FINDER_ENABLED å®å’Œ MEMORY_LEAKS_FINDER_RETAIN_CYCLE_ENABLED å®æ‰“å¼€ï¼ˆè®¾ç½®ä¸º 1ï¼‰å°±å¯ä»¥äº†ã€‚</p><p>ç¼–è¯‘è¿è¡Œ appï¼Œæµ‹è¯•å„ç§æ“ä½œï¼Œåˆ‡æ¢åˆ°ä¸åŒçš„ view controllerï¼Œå½“ MLeaksFinder å‘ç°å†…å­˜æ³„æ¼ä¼šå¼¹å‡ºä¸€ä¸ª alertï¼ˆåŒæ—¶æ§åˆ¶å°ä¼šæœ‰è¾“å‡ºï¼‰ï¼Œå‘Šè¯‰ä½ å“ªä¸ªç±»å’Œ UIView ä¸­å­˜åœ¨å†…å­˜æ³„æ¼ï¼ˆä»¥åŠå¾ªç¯æŒæœ‰ï¼‰</p></blockquote>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-NSSet</title>
      <link href="/2017/12/06/OC/Grammar/iOS-NSSet/"/>
      <content type="html"><![CDATA[<h1 id="NSSetåˆå§‹åŒ–"><a href="#NSSetåˆå§‹åŒ–" class="headerlink" title="NSSetåˆå§‹åŒ–"></a>NSSetåˆå§‹åŒ–</h1><blockquote><p>NSSetæ˜¯æ— åºçš„<br>æ³¨æ„:è¿™ä¸ªæ˜¯æœ€ä¸ºé‡è¦çš„åŠŸèƒ½ NSSetä¸­ä¸èƒ½å¤Ÿå­˜å‚¨é‡å¤çš„æ•°æ®,å¯ä»¥ç”¨å®ƒæ¥å»é™¤é‡å¤çš„å€¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="built_in">NSString</span> * str1 = <span class="string">@"one"</span>;</div><div class="line">   <span class="built_in">NSString</span> * str2 = <span class="string">@"two"</span>;</div><div class="line">   <span class="built_in">NSString</span> * str3 = <span class="string">@"three"</span>;</div><div class="line">   <span class="built_in">NSSet</span> * set = [[<span class="built_in">NSSet</span> alloc] initWithObjects:str1,str2,str3,str1, <span class="literal">nil</span>];</div><div class="line"> è¿™æ ·å…¶å®åœ¨setä¸­æŒ‡å­˜å‚¨äº† @â€œoneâ€,@â€œtwoâ€,@â€œthreeâ€ set.count å€¼ä¸º<span class="number">3</span></div><div class="line">[set containsObject:str1];  æ˜¯å¦åŒ…å«str1</div></pre></td></tr></table></figure><h1 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h1><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSEnumerator</span> * enumerator = [set objectEnumerator];</div><div class="line">    <span class="built_in">NSString</span> * value;</div><div class="line">    <span class="keyword">while</span> (value = [enumerator nextObject]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"value %@"</span>,value);</div><div class="line">    &#125;</div></pre></td></tr></table></figure><h1 id="å¯å˜é›†åˆNSMutableSet"><a href="#å¯å˜é›†åˆNSMutableSet" class="headerlink" title="å¯å˜é›†åˆNSMutableSet"></a>å¯å˜é›†åˆNSMutableSet</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªå¯å˜é›†åˆ</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSMutableSet</span> * muSet = [[<span class="built_in">NSMutableSet</span> alloc] init];</div></pre></td></tr></table></figure><blockquote><p>å¢åŠ å€¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[muSet addObject:str1];</div></pre></td></tr></table></figure><blockquote><p>åˆ é™¤</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[muSet removeObject:str1];</div></pre></td></tr></table></figure><blockquote><p>åˆ é™¤æ‰€æœ‰</p></blockquote> <figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[muSet removeAllObjects];</div></pre></td></tr></table></figure><h1 id="é›†åˆä¹‹é—´ç›¸äº’è½¬æ¢"><a href="#é›†åˆä¹‹é—´ç›¸äº’è½¬æ¢" class="headerlink" title="é›†åˆä¹‹é—´ç›¸äº’è½¬æ¢"></a>é›†åˆä¹‹é—´ç›¸äº’è½¬æ¢</h1><blockquote><p>NSArray è½¬æ¢æˆ NSMutableArray</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> * array = @[<span class="string">@"one"</span>,<span class="string">@"two"</span>,<span class="string">@"three"</span>];</div><div class="line"><span class="built_in">NSMutableArray</span> * muArray = [<span class="built_in">NSMutableArray</span> arrayWithArray:array];</div></pre></td></tr></table></figure><blockquote><p>NSDictionary è½¬æ¢æˆ NSMutableDictionary</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSDictionary</span> * dic = @&#123;<span class="string">@"one"</span>:<span class="string">@"1"</span>,<span class="string">@"two"</span>:<span class="string">@"2"</span>&#125;;</div><div class="line"><span class="built_in">NSMutableDictionary</span> * muDic = [<span class="built_in">NSMutableDictionary</span>     dictionaryWithDictionary:dic];</div></pre></td></tr></table></figure><blockquote><p>NSSet è½¬æ¢æˆ NSMutableSet</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSSet</span> * set = [[<span class="built_in">NSSet</span> alloc] initWithObjects:<span class="string">@"one"</span>,<span class="string">@"two"</span>, <span class="literal">nil</span>];</div><div class="line"><span class="built_in">NSMutableSet</span> *muSet = [<span class="built_in">NSMutableSet</span> setWithSet:set];</div></pre></td></tr></table></figure><h1 id="NSArray-è½¬æ¢æˆNSSet"><a href="#NSArray-è½¬æ¢æˆNSSet" class="headerlink" title="NSArray è½¬æ¢æˆNSSet"></a>NSArray è½¬æ¢æˆNSSet</h1><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSMutableSet</span> * muSet2 = [<span class="built_in">NSMutableSet</span> setWithArray:array];</div></pre></td></tr></table></figure><h1 id="NSDictionary-è½¬åŒ–æˆNSArray"><a href="#NSDictionary-è½¬åŒ–æˆNSArray" class="headerlink" title="NSDictionary è½¬åŒ–æˆNSArray"></a>NSDictionary è½¬åŒ–æˆNSArray</h1><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> * keys = [dic allKeys];</div><div class="line"><span class="built_in">NSArray</span> * values = [dic allValues];</div></pre></td></tr></table></figure><h1 id="å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„"><a href="#å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„" class="headerlink" title="å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„"></a>å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„</h1><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSString</span> * str = <span class="string">@"aa.bb.cc"</span>;</div><div class="line"><span class="built_in">NSArray</span> * strArray =[str componentsSeparatedByString:@â€œ.<span class="string">"];</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> UIKit </category>
          
          <category> NSSet </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
            <tag> UIKit </tag>
            
            <tag> NSSet </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-UIKit-NSDictionary-å­—å…¸</title>
      <link href="/2017/12/06/OC/Grammar/iOS-NSDictionary-%E5%AD%97%E5%85%B8/"/>
      <content type="html"><![CDATA[<p>#åˆå§‹åŒ–</p><blockquote><p>åˆ›å»ºå­—æ®µ,ä¸å¯å˜çš„</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSDictionary</span> * dic = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:<span class="string">@"s"</span>,<span class="string">@"name"</span>, <span class="literal">nil</span>];</div></pre></td></tr></table></figure><blockquote><p>å¿«æ·åˆ›å»ºæ–¹å¼</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSDictionary</span> * dic2 = @&#123; <span class="string">@"one"</span>:<span class="string">@"1"</span>,<span class="string">@"two"</span>:<span class="string">@"2"</span>&#125;;</div><div class="line">dic2.count  è·å¾—å­—å…¸é•¿åº¦</div></pre></td></tr></table></figure><h1 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h1><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> * keys = [dic3 allKeys];</div><div class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; keys.count; i++)</div><div class="line"> &#123;</div><div class="line">     <span class="built_in">NSString</span> * key = [keys objectAtIndex:i];</div><div class="line">     </div><div class="line">     <span class="comment">//å¦‚æœä½ çš„å­—å…¸ä¸­å­˜å‚¨çš„å¤šç§ä¸åŒçš„ç±»å‹,é‚£ä¹ˆæœ€å¥½ç”¨idç±»å‹å»æ¥å—å®ƒ</span></div><div class="line">     <span class="keyword">id</span> obj  = [dic3 objectForKey:key];</div><div class="line">     <span class="built_in">NSLog</span>(<span class="string">@"obj %@"</span>,obj);</div><div class="line"> &#125;</div></pre></td></tr></table></figure><blockquote><p>æšä¸¾å™¨</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSEnumerator</span> * enumerator =  [dic3 objectEnumerator];</div><div class="line"><span class="keyword">id</span> value;</div><div class="line"><span class="keyword">while</span> (value = [enumerator nextObject]) &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"value %@"</span>,value);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="å¯å˜å­—å…¸NSMutableDictionary"><a href="#å¯å˜å­—å…¸NSMutableDictionary" class="headerlink" title="å¯å˜å­—å…¸NSMutableDictionary"></a>å¯å˜å­—å…¸NSMutableDictionary</h1><blockquote><p>åˆ›å»ºä¸€ä¸ªå¯å˜é•¿åº¦å­—å…¸</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSMutableDictionary</span> * muDic = [[<span class="built_in">NSMutableDictionary</span> alloc] initWithCapacity:<span class="number">0</span>];</div></pre></td></tr></table></figure><blockquote><p>å‘å­—å…¸ä¸­æ‘å¦‚æ•°æ®</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[muDic setObject:<span class="string">@"1"</span> forKey:<span class="string">@"one"</span>];</div></pre></td></tr></table></figure><blockquote><p>åˆ é™¤</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[muDic removeObjectForKey:@â€œone<span class="string">"];</span></div></pre></td></tr></table></figure><blockquote><p>å…¨éƒ¨åˆ é™¤</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[muDic removeAllObjects];</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> UIKit </category>
          
          <category> NSDictionary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
            <tag> UIKit </tag>
            
            <tag> NSDictionary </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-UIKit-NSArray-æ•°ç»„</title>
      <link href="/2017/12/06/OC/Grammar/iOS-UIKit-NSArray-%E6%95%B0%E7%BB%84/"/>
      <content type="html"><![CDATA[<h1 id="åˆå§‹åŒ–ã€å–å€¼ç­‰åŸºç¡€æ“ä½œ"><a href="#åˆå§‹åŒ–ã€å–å€¼ç­‰åŸºç¡€æ“ä½œ" class="headerlink" title="åˆå§‹åŒ–ã€å–å€¼ç­‰åŸºç¡€æ“ä½œ"></a>åˆå§‹åŒ–ã€å–å€¼ç­‰åŸºç¡€æ“ä½œ</h1><blockquote><p>NSArray æ˜¯ä¸å¯å˜æ•°ç»„,ä¸€æ—¦åˆ›å»ºå®Œæˆå°±ä¸èƒ½å¤Ÿå¯¹æ•°ç»„è¿›è¡Œ,æ·»åŠ ,åˆ é™¤ç­‰æ“ä½œ</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">     <span class="built_in">NSArray</span> * array = [[<span class="built_in">NSArray</span> alloc] init];</div><div class="line">     <span class="built_in">NSArray</span> * array1 = [<span class="built_in">NSArray</span>                        arrayWithObjects:<span class="string">@"one"</span>,<span class="string">@"two"</span>,<span class="string">@"three"</span>, <span class="literal">nil</span>]; </div><div class="line">``` </div><div class="line"> </div><div class="line">&gt;åœ¨åˆ›å»ºä¸€ä¸ª<span class="built_in">NSArray</span>çš„æ—¶å€™æœ€åä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯<span class="literal">nil</span> ä¸è¦æŠŠ<span class="literal">nil</span>å­˜åˆ°æ•°ç»„ä¸­ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±</div><div class="line">&gt;æ•°ç»„å®é™…ä¸Šå­˜å‚¨çš„æ—¶å¯¹è±¡çš„åœ°å€,åŒæ ·ä¹Ÿå¯ä»¥å­˜å‚¨æ•°ç»„çš„åœ°å€</div><div class="line"></div><div class="line">```objectivec</div><div class="line">     <span class="built_in">NSArray</span> * a1 = [[<span class="built_in">NSArray</span> alloc]     initWithObjects:<span class="string">@"one"</span>,<span class="string">@"two"</span>,<span class="string">@"three"</span>, <span class="literal">nil</span>];</div><div class="line">     <span class="built_in">NSArray</span> * a2 = [[<span class="built_in">NSArray</span> alloc] initWithObjects:<span class="string">@"1"</span>,<span class="string">@"2"</span>,<span class="string">@"3"</span>, <span class="literal">nil</span>];</div><div class="line">     <span class="built_in">NSArray</span> * a3 = [[<span class="built_in">NSArray</span> alloc] initWithObjects:a1,a2, <span class="literal">nil</span>];</div><div class="line">``` </div><div class="line"></div><div class="line">&gt;åˆ›å»ºæ•°ç»„çš„å¿«æ·æ–¹å¼</div><div class="line"></div><div class="line">```objectivec</div><div class="line">     <span class="built_in">NSArray</span> * array = @[<span class="string">@"a"</span>,<span class="string">@"b"</span>,<span class="string">@"c"</span>];</div></pre></td></tr></table></figure><blockquote><p>å¿«é€Ÿè·å¾—ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSString</span> * str = array[<span class="number">0</span>];</div><div class="line"> [array objectAtIndex:<span class="number">0</span>];  æ•°ç»„çš„indexä»<span class="number">0</span>å¼€å§‹</div><div class="line"> [array count] è·å¾—å…ƒç´ ä¸ªæ•°</div><div class="line">[array containsObject:p1] åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå¯¹è±¡</div></pre></td></tr></table></figure><h1 id="éå†æ•°ç»„"><a href="#éå†æ•°ç»„" class="headerlink" title="éå†æ•°ç»„"></a>éå†æ•°ç»„</h1><blockquote><p>æ™®é€šçš„forå¾ªç¯</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.count; i++)</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSString</span> * str = array[i];</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"array[%d] = %@"</span>,i,str);</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨å¢å¼ºforå¾ªç¯çš„æ–¹å¼éå†æ•°ç»„</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="built_in">NSString</span> * str <span class="keyword">in</span> array)</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"str = %@"</span>,str);</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æšä¸¾å™¨</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> * array = @[<span class="string">@"one"</span>,<span class="string">@"two"</span>,<span class="string">@"three"</span>];</div><div class="line"><span class="built_in">NSEnumerator</span> * enumerator =  [array objectEnumerator];</div><div class="line"><span class="built_in">NSString</span> * value;</div><div class="line"><span class="keyword">while</span> (value = [enumerator nextObject]) &#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"enum str %@"</span>,value);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="æ•°ç»„æ’åº"><a href="#æ•°ç»„æ’åº" class="headerlink" title="æ•°ç»„æ’åº"></a>æ•°ç»„æ’åº</h1><blockquote><p>ä½¿ç”¨sortedArrayUsingSelector</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[array sortedArrayUsingSelector:<span class="keyword">@selector</span>(compare:)]</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨blockæ–¹å¼æ’åº</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">array2 = [array2 sortedArrayUsingComparator:^<span class="built_in">NSComparisonResult</span>(<span class="keyword">id</span>             obj1, <span class="keyword">id</span> obj2) &#123;</div><div class="line">       </div><div class="line">       <span class="comment">/*</span></div><div class="line"><span class="comment">       NSComparisonResult result = [obj1 compare:obj2];</span></div><div class="line"><span class="comment">       </span></div><div class="line"><span class="comment">       return result;</span></div><div class="line"><span class="comment">        */</span></div><div class="line">       <span class="comment">//obj1 compare obj2 å°±æ˜¯æ­£åºæ’åº</span></div><div class="line">    <span class="comment">//return [obj1 compare:obj2];</span></div><div class="line">       <span class="comment">//obj2 compare obj1 å°±æ˜¯å€’åºæ’åº</span></div><div class="line">       <span class="keyword">return</span> [obj2 compare:obj1];</div><div class="line">       </div><div class="line">   &#125;];</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœä½ å‘ç»™ä½ è‡ªå·±å®šä¹‰çš„å¯¹è±¡æ’åº,å¿…é¡»æ ¹æ®æŸä¸€ä¸ªå±æ€§æ¥æ’åº,<br>å¦‚æœä½ å‘ç»™ä½ è‡ªå·±å®šä¹‰çš„å¯¹è±¡æ’åº,å¿…é¡»æ ¹æ®æŸä¸€ä¸ªå±æ€§æ¥æ’åº,<br>sortDescriptorWithKey å‚æ•°è¦çš„å°±æ˜¯ä½ å¯¹è±¡ä¸­,è¦ä¾æ®å“ªä¸ªå±æ€§æ¥æ’åº,ä½ å°±æŠŠå“ªä¸ª    å±æ€§çš„åå­—å½“æˆkeyä¼ å…¥<br>ascending YESè¡¨ç¤ºæ­£åº NOè¡¨ç¤ºå€’å™</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">        <span class="built_in">NSSortDescriptor</span> * d1 = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"age"</span> ascending:<span class="literal">NO</span>];</div><div class="line">        <span class="built_in">NSSortDescriptor</span> * d2 = [<span class="built_in">NSSortDescriptor</span> sortDescriptorWithKey:<span class="string">@"year"</span> ascending:<span class="literal">NO</span>];</div><div class="line"> ```  </div><div class="line">      </div><div class="line">&gt;å¦‚æœä½ è¦ä½¿ç”¨å¤šä¸ªå±æ€§è¿›è¡Œæ’åº,é»˜è®¤åœ¨å‰é¢çš„<span class="built_in">NSSortDescriptor</span>ä¼˜å…ˆçº§æ¯”è¾ƒé«˜</div><div class="line"></div><div class="line">```objectivec</div><div class="line">        <span class="built_in">NSArray</span> * description = @[d2,d1];</div><div class="line">        </div><div class="line">        array3 = [array3 sortedArrayUsingDescriptors:description];</div></pre></td></tr></table></figure><h1 id="å¯å˜æ•°ç»„NSMutableArray"><a href="#å¯å˜æ•°ç»„NSMutableArray" class="headerlink" title="å¯å˜æ•°ç»„NSMutableArray"></a>å¯å˜æ•°ç»„NSMutableArray</h1><blockquote><p>åˆ›å»ºå¯å˜æ•°ç»„</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSMutableArray</span> * array = [[<span class="built_in">NSMutableArray</span> alloc] initWithCapacity:<span class="number">0</span>];</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨addObject åŠ¨æ€ç»™æ•°ç»„ä¸­å¢åŠ å…ƒç´ </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[array addObject:@â€œone<span class="string">"];</span></div></pre></td></tr></table></figure><blockquote><p>æ•°ç»„ä¸­å¯ä»¥å­˜å‚¨,åŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡<br>æŒ‡å®šå¯¹è±¡æ’å…¥çš„ä½ç½®</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[array insertObject:str1 atIndex:<span class="number">2</span>];</div></pre></td></tr></table></figure><blockquote><p>åˆ é™¤ ä¼šé€šè¿‡å¯¹è±¡,åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰çš„åŒä¸€ä¸ªåœ°å€çš„å¯¹è±¡</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[array removeObject:str1];</div></pre></td></tr></table></figure><blockquote><p>é€šè¿‡ç´¢å¼•çš„æ–¹å¼åˆ é™¤å¯¹è±¡,è¶…å‡ºäº†æ•°ç»„çš„countå€¼,é‚£ä¹ˆå°±ä¼šå¯¼è‡´å¼‚å¸¸ index beyond bounds</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[array removeObjectAtIndex:<span class="number">0</span>];</div><div class="line">[array removeAllObjects];</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> UIKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
            <tag> UIKit </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-AccessControl-è®¿é—®æ§åˆ¶</title>
      <link href="/2017/12/01/Swift/Grammar/AccessControl-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/"/>
      <content type="html"><![CDATA[<h1 id="AccessControlè®¿é—®æ§åˆ¶"><a href="#AccessControlè®¿é—®æ§åˆ¶" class="headerlink" title="AccessControlè®¿é—®æ§åˆ¶"></a>AccessControlè®¿é—®æ§åˆ¶</h1><blockquote><p>Swiftå’ŒC++ï¼ŒJavaä¸€æ ·ï¼Œä¹Ÿæœ‰è®¿é—®æ§åˆ¶çš„æ¦‚å¿µã€‚é€šè¿‡è®¿é—®æƒé™çš„æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å¤–éšè—å†…éƒ¨çš„ä»£ç ç»†èŠ‚ï¼Œé˜²æ­¢ä¿®æ”¹ã€‚<br>Swiftçš„è®¿é—®æ§åˆ¶æ˜¯åŸºäºæ¨¡å—ï¼ˆmodulesï¼‰å’Œæºæ–‡ä»¶ï¼ˆsource fileï¼‰</p><p>Swiftçš„æ¨¡å—æ¦‚å¿µæ˜¯è¿™æ ·çš„ï¼š</p><ul><li>1ã€ä¸€ä¸ªApp bundleï¼Œæˆ–è€…ä¸€ä¸ªframeworkéƒ½å¯ä»¥çœ‹æˆä¸€ä¸ªç‹¬ç«‹çš„moduleã€‚ ä½ å¯ä»¥ä½¿ç”¨importæ¥å¼•å…¥åˆ«çš„moduleåˆ°ä½ çš„moduleä¸­æ¥ã€‚<br>å½“ä½ å°†ä½ çš„ä»£ç æ‰“åŒ…æˆä¸€ä¸ªframeworkï¼Œè¿™ä¸ªframeworkå°±æ˜¯ä¸€ä¸ªmoduleã€‚é‡Œé¢çš„æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯å±äºè¿™ä¸ªframeworkï¼Œæ— è®ºä½ å°†è¿™ä¸ªframeworkå¼•å…¥åˆ°åˆ«çš„frameworkæˆ–appä¸­ã€‚</li></ul></blockquote><ul><li>2ã€ä¸€ä¸ªæºæ–‡ä»¶é‡Œé¢è™½ç„¶å¯ä»¥å®šä¹‰å¤šä¸ªç±»ï¼Œä½†æ˜¯å»ºè®®ä¸€èˆ¬ä¸€ä¸ªæºæ–‡ä»¶å»ºç«‹ä¸€ä¸ªç±»ã€‚</li></ul><blockquote><p>Swiftçš„è®¿é—®æƒé™æœ‰ï¼š<br>openï¼Œpublicï¼Œinternalï¼Œfileprivateï¼Œprivate</p></blockquote><ul><li><p>1ã€public    è¿™ä¸ªæƒé™å…è®¸åŒä¸€ä¸ªmoduleå†…éƒ¨çš„æ‰€æœ‰æºä»£ç è®¿é—®ï¼ŒåŒæ—¶å…è®¸å…¶ä»–å¼•å…¥äº†è¯¥moduleçš„moduleä½¿ç”¨ã€‚æ€»çš„æ¥è¯´å°±æ˜¯å…¨å¼€æ”¾</p></li><li><p>2ã€internal  è¿™ä¸ªæƒé™å…è®¸åŒä¸€ä¸ªmoduleå†…éƒ¨çš„æ‰€æœ‰æºä»£ç è®¿é—®ï¼Œä¸å…è®¸å…¶ä»–moduleä½¿ç”¨ã€‚</p></li><li><p>3ã€private   è¿™ä¸ªæƒé™ä»…å…è®¸åŒä¸€ä¸ªsource fileçš„ä»£ç è®¿é—®ã€‚</p></li></ul><blockquote><p>Swiftçš„é»˜è®¤è®¿é—®æƒé™æ˜¯internalã€‚</p><p>publicæ˜¯æœ€é«˜è®¿é—®æƒé™ï¼Œè€Œprivateæ˜¯æœ€ä½è®¿é—®æƒé™ã€‚</p><p>Swiftçš„æƒé™ç¼–ç¨‹åŸåˆ™ï¼š</p></blockquote><ul><li>ä¸€ã€é«˜æƒé™çš„ä¸œè¥¿ä¸èƒ½åŒ…å«åœ¨ä½æƒé™çš„ä¸œè¥¿é‡Œé¢ã€‚</li></ul><blockquote><p>ä¸¾ä¾‹ï¼š</p></blockquote><ul><li><p>1ã€è¯´å°±æ˜¯ä¸€ä¸ªpublicçš„ç±»å‹ä¸èƒ½å®šä¹‰åœ¨ä¸€ä¸ªå£°æ˜ä¸ºinternalçš„ç±»å‹é‡Œé¢ã€‚</p></li><li><p>2ã€æ–¹æ³•çš„æƒé™ä¸èƒ½é«˜äºå‚æ•°å’ŒèŒƒå›´å€¼çš„æƒé™ã€‚å¦åˆ™ä¼šå¯¼è‡´è¿™ä¸ªæ–¹æ³•æ²¡æ³•ä½¿ç”¨ã€‚</p></li></ul><blockquote><p>äºŒã€å•ä¸€appä¸­</p></blockquote><ul><li>ä¸€èˆ¬å°±ç”¨é»˜è®¤çš„internalå°±è¡Œäº†ã€‚å¦‚æœä½ æƒ³å¯¹å…¶ä»–æºæ–‡ä»¶éšè—ï¼Œå¯ä»¥ä½¿ç”¨privateã€‚</li></ul><blockquote><p>ä¸‰ã€frameworkä¸­</p></blockquote><ul><li><blockquote><p>å¯¹äºè¦æä¾›ç»™å¤–è¾¹ä½¿ç”¨çš„å±æ€§ï¼Œæ–¹æ³•ã€‚å¿…é¡»ä½¿ç”¨publicæƒé™ã€‚å…¶ä»–çš„å¯ä»¥é»˜è®¤ä½¿ç”¨internalã€‚å¦‚æœç›¸å¯¹frameworké‡Œé¢çš„å…¶ä»–æºæ–‡ä»¶éšè—ï¼Œå¯ä»¥ä½¿ç”¨privateã€‚</p></blockquote></li></ul><p>å››ã€å•å…ƒæµ‹è¯•ä¸­</p><ul><li>å•å…ƒæµ‹è¯•å’Œæˆ‘ä»¬ç¼–å†™çš„ä»£ç å±äºä¸åŒçš„moduleï¼Œæ‰€ä»¥æµ‹è¯•æ¨¡å—ä¸€èˆ¬åªèƒ½è®¿é—®åˆ°publicçš„ä¸œè¥¿ã€‚ä½†æ˜¯åœ¨å¼•å…¥è¦æµ‹è¯•çš„æ¨¡å—çš„æ—¶å€™å¯ä»¥åŠ ä¸Š@testableï¼Œè¿™æ ·æµ‹è¯•æ¨¡å—å°±å¯ä»¥è®¿é—®äº†ã€‚ç„¶åè¦å…è®¸è¢«æµ‹è¯•çš„å•å…ƒå¯ä»¥æµ‹è¯•</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SomePublicClass</span> </span>&#123;&#125;  </div><div class="line"><span class="keyword">internal</span> <span class="class"><span class="keyword">class</span> <span class="title">SomeInternalClass</span> </span>&#123;&#125;  </div><div class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">SomePrivateClass</span> </span>&#123;&#125;  </div><div class="line">   </div><div class="line"><span class="keyword">public</span> <span class="keyword">var</span> somePublicVariable = <span class="number">0</span>  </div><div class="line"><span class="keyword">internal</span> <span class="keyword">let</span> someInternalConstant = <span class="number">0</span>  </div><div class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">somePrivateFunction</span><span class="params">()</span></span> &#123;&#125;</div></pre></td></tr></table></figure><h1 id="ç»™ç±»å‹å®šä¹‰è®¿é—®æƒé™çš„æ—¶å€™ï¼Œä¼šå½±å“åˆ°ç±»å‹é‡Œé¢çš„æˆå‘˜ï¼ˆå±æ€§ï¼Œæ–¹æ³•ï¼Œä¸‹æ ‡ï¼Œæ„é€ å™¨ï¼‰"><a href="#ç»™ç±»å‹å®šä¹‰è®¿é—®æƒé™çš„æ—¶å€™ï¼Œä¼šå½±å“åˆ°ç±»å‹é‡Œé¢çš„æˆå‘˜ï¼ˆå±æ€§ï¼Œæ–¹æ³•ï¼Œä¸‹æ ‡ï¼Œæ„é€ å™¨ï¼‰" class="headerlink" title="ç»™ç±»å‹å®šä¹‰è®¿é—®æƒé™çš„æ—¶å€™ï¼Œä¼šå½±å“åˆ°ç±»å‹é‡Œé¢çš„æˆå‘˜ï¼ˆå±æ€§ï¼Œæ–¹æ³•ï¼Œä¸‹æ ‡ï¼Œæ„é€ å™¨ï¼‰"></a>ç»™ç±»å‹å®šä¹‰è®¿é—®æƒé™çš„æ—¶å€™ï¼Œä¼šå½±å“åˆ°ç±»å‹é‡Œé¢çš„æˆå‘˜ï¼ˆå±æ€§ï¼Œæ–¹æ³•ï¼Œä¸‹æ ‡ï¼Œæ„é€ å™¨ï¼‰</h1><ul><li><p>1ã€å°†ä¸€ä¸ªç±»å‹å®šä¹‰ä¸ºprivateåï¼Œå®ƒé‡Œé¢çš„æˆå‘˜éƒ½æ˜¯privateçš„ã€‚</p></li><li><p>2ã€å°†ä¸€ä¸ªç±»å‹å®šä¹‰ä¸ºpublicæˆ–internalåï¼Œå®ƒé‡Œé¢çš„æˆå‘˜è¿˜æ˜¯internalçš„ã€‚å¦‚æœè¦æŸä¸ªæˆå‘˜å˜ä¸ºpublicï¼Œå¿…é¡»åœ¨è¯¥æˆå‘˜é‡Œé¢åŠ ä¸Špublicã€‚</p></li></ul><h2 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h2><blockquote><p>Tupleçš„è®¿é—®æƒé™ç”±tupleæˆå‘˜é‡Œé¢è®¿é—®æƒé™æœ€å°é‚£ä¸ªå†³å®šã€‚</p></blockquote><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><blockquote><p>æ–¹æ³•çš„è®¿é—®æƒé™ç”±æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ä¸­æœ€å°æƒé™çš„é‚£ä¸ªå†³å®šã€‚å½“æ–¹æ³•çš„æƒé™æ˜¯privateçš„æ—¶å€™ï¼Œæ–¹æ³•çš„å‰é¢è¦åŠ ä¸Šprivateå…³é”®å­—ã€‚</p></blockquote><h2 id="æšä¸¾ç±»"><a href="#æšä¸¾ç±»" class="headerlink" title="æšä¸¾ç±»"></a>æšä¸¾ç±»</h2><blockquote><p>æšä¸¾ç±»å‹çš„æˆå‘˜å˜é‡çš„è®¿é—®æƒé™å†³å®šäºæšä¸¾ç±»å‹ã€‚ä¾‹å¦‚ä½ å®šä¹‰äº†ä¸€ä¸ªpublicçš„æšä¸¾ç±»å‹ï¼Œé‚£ä¹ˆå®ƒé‡Œé¢çš„caseæˆå‘˜éƒ½æ˜¯publicçš„ï¼Œä¸å…è®¸å•ç‹¬ç»™æ¯ä¸ªcaseæˆå‘˜å®šä¹‰è®¿é—®æƒé™ã€‚<br>caseæˆå‘˜çš„raw vlaueçš„å€¼çš„æƒé™å¿…é¡»å¤§äºç­‰äºæšä¸¾ç±»çš„è®¿é—®æƒé™ã€‚</p></blockquote><h2 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h2><blockquote><p>å®šä¹‰åœ¨privateç±»å‹é‡Œé¢çš„å†…éƒ¨ç±»æ˜¯privateæƒé™ï¼›å®šä¹‰åœ¨publicæˆ–internalç±»å‹é‡Œé¢çš„å†…éƒ¨ç±»é»˜è®¤æ˜¯internalç±»å‹ã€‚å¦‚æœæƒ³è¦å®šä¹‰åœ¨publicç±»å‹é‡Œé¢çš„å†…éƒ¨ç±»å˜ä¸ºpublicçš„è¯ï¼Œéœ€è¦è‡ªå·±æ˜¾å¼ç»™å†…éƒ¨ç±»åŠ ä¸Špublicã€‚</p></blockquote><h2 id="å­ç±»"><a href="#å­ç±»" class="headerlink" title="å­ç±»"></a>å­ç±»</h2><blockquote><p>å­ç±»ä¸èƒ½æ¯”çˆ¶ç±»å…·æœ‰æ›´é«˜çš„è®¿é—®æƒé™ã€‚ä½†æ˜¯å¯ä»¥é‡å†™çˆ¶ç±»å½“å‰èƒ½è®¿é—®åˆ°çš„çˆ¶ç±»æˆå‘˜ï¼Œè€Œä¸”å¯ä»¥é‡å†™æˆæ›´é«˜æƒé™çš„æˆå‘˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  </div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;  </div><div class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">someMethod</span><span class="params">()</span></span> &#123;&#125;  </div><div class="line">&#125;  </div><div class="line">   </div><div class="line"><span class="keyword">internal</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span>: <span class="title">A</span> </span>&#123;  </div><div class="line">    <span class="keyword">override</span> <span class="keyword">internal</span> <span class="function"><span class="keyword">func</span> <span class="title">someMethod</span><span class="params">()</span></span> &#123;  </div><div class="line">        <span class="keyword">super</span>.someMethod()  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>é‡Œå†è¡¥å……ä¸€ç‚¹ï¼Œå¦‚æœçˆ¶ç±»æ˜¯publicç±»çš„ï¼Œç»§æ‰¿ä¹‹åä¸åŠ æƒé™ä¿®é¥°ç¬¦çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç±»æ˜¯internalçš„<br>å±æ€§ï¼Œå¸¸é‡ï¼Œå˜é‡å’Œä¸‹æ ‡çš„è®¿é—®æƒé™ä¸èƒ½è¶…è¿‡å®ƒæ‰€å±çš„ç±»å‹çš„æƒé™</p></blockquote><h2 id="getterå’Œsetteræ–¹æ³•"><a href="#getterå’Œsetteræ–¹æ³•" class="headerlink" title="getterå’Œsetteræ–¹æ³•"></a>getterå’Œsetteræ–¹æ³•</h2><blockquote><p>è¿™ä¸¤ä¸ªæ–¹æ³•çš„è®¿é—®æƒé™é»˜è®¤å’Œå±æ€§çš„æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯å¯ä»¥ä¿®æ”¹setterçš„æƒé™ï¼Œå¯ä»¥å°†setterçš„æƒé™ä¿®æ”¹å¾—æ¯”å±æ€§çš„æƒé™ä½ï¼Œä½†æ˜¯ä¸èƒ½æ¯”å±æ€§çš„æƒé™é«˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">public</span> <span class="keyword">internal</span>(<span class="keyword">set</span>) <span class="keyword">var</span> age: <span class="type">Int</span> = <span class="number">0</span>  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ„é€ å™¨"><a href="#æ„é€ å™¨" class="headerlink" title="æ„é€ å™¨"></a>æ„é€ å™¨</h2><blockquote><p>æ„é€ å™¨çš„æƒé™ä¸èƒ½å¤§äºå®ƒæ‰€å±ç±»å‹çš„æƒé™ã€‚é™¤äº†æ ‡å¿—æœ‰requireçš„æ„é€ å™¨ä¹‹å¤–ï¼Œè¿™ç§æ„é€ å™¨çš„æƒé™å¿…é¡»å’Œå®ƒæ‰€å±çš„ç±»çš„æƒé™ç›¸åŒã€‚<br>æ„é€ å™¨å‚æ•°çš„æƒé™ä¸èƒ½ä½äºæ„é€ å™¨ã€‚</p></blockquote><h2 id="é»˜è®¤æ„é€ å™¨"><a href="#é»˜è®¤æ„é€ å™¨" class="headerlink" title="é»˜è®¤æ„é€ å™¨"></a>é»˜è®¤æ„é€ å™¨</h2><blockquote><p>é»˜è®¤æ„é€ å™¨çš„é»˜è®¤æƒé™å’Œç±»å‹æƒé™ä¸€æ ·ã€‚ä½†æ˜¯å¦‚æœç±»å‹æ˜¯publicï¼Œé‚£ä¹ˆé»˜è®¤æ„é€ å™¨è¿˜æ˜¯internalçš„ï¼Œæƒ³è¦publicçš„æ— å‚æ„é€ å™¨å¿…é¡»è‡ªå·±å®ç°ã€‚<br>å¯¹äºç»“æ„ä½“çš„memberwiseæ„é€ å™¨ï¼Œæƒ³è¦publicçš„ï¼Œä¹Ÿè¦è‡ªå·±å®ç°ã€‚</p></blockquote><h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><blockquote><p>åè®®çš„éœ€æ±‚çš„æƒé™å’Œåè®®æƒé™æ˜¯ä¸€æ ·çš„ï¼Œåè®®æ˜¯publicçš„ï¼Œé‚£ä¹ˆéœ€æ±‚ä¹Ÿæ˜¯publicçš„ã€‚<br>ç»§æ‰¿çš„åè®®çš„æƒé™æœ€å¤šåªèƒ½æœ‰çˆ¶ç±»çš„æƒé™ã€‚ä¾‹å¦‚ï¼šä¸èƒ½ç»§æ‰¿ä¸€ä¸ªinternalçš„åè®®ä¸ºä¸€ä¸ªpublicåè®®ã€‚</p></blockquote><h2 id="åè®®çš„ä¸€è‡´æ€§"><a href="#åè®®çš„ä¸€è‡´æ€§" class="headerlink" title="åè®®çš„ä¸€è‡´æ€§"></a>åè®®çš„ä¸€è‡´æ€§</h2><blockquote><p>ç±»å‹å¯ä»¥å®ç°æ¯”è‡ªå·±è®¿é—®æƒé™ä½çš„åè®®ã€‚æ¯”å¦‚ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªpublicçš„ç±»ï¼Œå®ƒå¯ä»¥å®ç°ä¸€ä¸ªinternalçš„ç±»ï¼Œå¹¶ä¸”åªèƒ½åœ¨å®šä¹‰äº†è¯¥åè®®çš„æ¨¡å—ä¸­ä½¿ç”¨ã€‚<br>å®ç°äº†åè®®çš„ç±»è®¿é—®æƒé™æ˜¯å®ƒæœ¬èº«å’Œé‡‡ç”¨åè®®ä¸­çš„æœ€ä½è®¿é—®æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªç±»æ˜¯publicçš„çº§åˆ«ï¼Œå®ç°çš„æ˜¯internalçš„åè®®ï¼Œé‚£ä¹ˆé‡‡ç”¨è¿™ä¸ªåè®®ä¹‹åï¼Œè¯¥ç±»çš„è®¿é—®æƒé™ä¹Ÿæ˜¯internalçš„ã€‚<br>å¦‚æœä½ é‡‡ç”¨äº†åè®®ï¼Œé‚£ä¹ˆå®ç°åè®®æ–¹æ³•ä¹‹åï¼Œè¯¥æ–¹æ³•çš„è®¿é—®æƒé™éµå¾ªåè®®çš„è®¿é—®çº§åˆ«ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªpublicçš„ç±»ï¼Œé‡‡ç”¨äº†internalçš„åè®®ä¹‹åï¼Œé‚£ä¹ˆè¯¥ç±»çš„å®ç°åè®®çš„æ–¹æ³•è‡³å°‘ä¹Ÿæ˜¯internalçš„ã€‚</p></blockquote><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><blockquote><p>æ‰©å±•çš„é»˜è®¤è®¿é—®æƒé™ç”±æ‰€æ‰©å±•ç±»å‹çš„è®¿é—®æƒé™å†³å®šã€‚</p><p>å¦‚æœä½ æ‰©å±•äº†ä¸€ä¸ªpublicçš„ç±»å‹ï¼Œé‚£ä¹ˆæ‰©å±•çš„æˆå‘˜çš„é»˜è®¤è®¿é—®æƒé™å°±æ˜¯internalã€‚å¦‚æœæ‰©å±•ä¸€ä¸ªprivateç±»å‹ï¼Œé‚£ä¹ˆæ‰©å±•çš„é»˜è®¤è®¿é—®æƒé™å°±æ˜¯privateã€‚<br>å½“ç„¶å¯ä»¥è‡ªå·±ç»™æ‰©å±•è‡ªå®šä¹‰è®¿é—®æƒé™ã€‚ä½†æ˜¯æƒé™ä¸èƒ½è¶…è¿‡æ‰€æ‰©å±•çš„ç±»å‹ã€‚å¦å¤–å¯ä»¥è‡ªå·±ç»™æ‰©å±•æˆå‘˜å†è‡ªå®šä¹‰æƒé™ã€‚<br>å¦‚æœä½ æ˜¯ç”¨æ‰©å±•æ¥å®ç°åè®®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ‰©å±•ä¸å…è®¸è‡ªå®šä¹‰æƒé™ï¼Œå®ƒçš„æƒé™ç”±åè®®çš„æƒé™å†³å®šã€‚</p></blockquote><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><blockquote><p>æ³›å‹åˆ†ä¸ºæ³›å‹ç±»å‹å’Œæ³›å‹æ–¹æ³•<br>æ³›å‹ç±»å‹çš„æƒé™æ˜¯ æ³›å‹ç±»å‹å’Œæ³›å‹å‚æ•° ä¹‹é—´æœ€å°çš„é‚£ä¸ªæƒé™ã€‚<br>æ³›å‹æ–¹æ³•çš„æƒé™æ˜¯ æ³›å‹æ–¹æ³•å’Œæ³›å‹å‚æ•° ä¹‹é—´æœ€å°çš„é‚£ä¸ªæƒé™ã€‚</p></blockquote><h2 id="ç±»å‹åˆ«å"><a href="#ç±»å‹åˆ«å" class="headerlink" title="ç±»å‹åˆ«å"></a>ç±»å‹åˆ«å</h2><blockquote><p>æ¯ä¸ªç±»å‹åˆ«åéƒ½å¯ä»¥çœ‹åšæ˜¯å¯¹ç±»å‹çš„è®¿é—®æƒé™çš„å®šä¹‰ã€‚<br>ä½†æ˜¯ç±»å‹åˆ«åçš„æƒé™å¿…é¡»å°äºæˆ–ç­‰äºè¦åˆ«åçš„ç±»å‹ã€‚æ¯”å¦‚ä¸€ä¸ªprivateçš„ç±»å‹åˆ«åå¯ä»¥ä¸ºprivateï¼Œpublicï¼Œinternalçš„ç±»å‹è¿›è¡Œåˆ«åï¼›ä½†æ˜¯ä¸€ä¸ªpublicçš„ç±»å‹åˆ«åä¸èƒ½ä¸ºinternalå’Œprivateçš„ç±»å‹è¿›è¡Œåˆ«åã€‚</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> AccessControl </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grammar </tag>
            
            <tag> Swift </tag>
            
            <tag> AccessControl </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Generics-æ³›å‹</title>
      <link href="/2017/12/01/Swift/Grammar/Generics-%E6%B3%9B%E5%9E%8B/"/>
      <content type="html"><![CDATA[<h1 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h1><ul><li>æ¥å—å…¶å®ƒå‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°æœ‰æ—¶è¢«ç§°ä¸ºé«˜é˜¶å‡½æ•°<h1 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h1><blockquote><p>å†™ä¸€ä¸ªå‡½æ•°çš„æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šæŒ‡æ˜å‚æ•°çš„ç±»å‹<br>ä¸€èˆ¬é»˜è®¤åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å‚æ•°éƒ½æ˜¯å¸¸é‡å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå‚æ•°ä½ åªå¯ä»¥æŸ¥è¯¢ä½¿ç”¨ï¼Œä¸èƒ½æ”¹å˜å®ƒçš„å€¼<br>å¦‚æœæƒ³è¦å£°æ˜ä¸€ä¸ªå˜é‡å‚æ•°ï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Švarï¼Œè¿™æ ·å°±å¯ä»¥æ”¹å˜è¿™ä¸ªå‚æ•°çš„å€¼</p></blockquote></li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//æ­¤æ—¶è¿™ä¸ªidå€¼å¯ä»¥åœ¨å‡½æ•°ä¸­æ”¹å˜</span></div><div class="line"> <span class="function"><span class="keyword">func</span>  <span class="title">getName</span><span class="params">(<span class="keyword">var</span> id:String)</span></span>.........</div></pre></td></tr></table></figure><blockquote><p>ä¸€èˆ¬é»˜è®¤çš„å‚æ•°ä¼ é€’éƒ½æ˜¯ä¼ å€¼è°ƒç”¨çš„ï¼Œè€Œä¸æ˜¯ä¼ å¼•ç”¨ã€‚<strong>æ‰€ä»¥ä¼ å…¥çš„å‚æ•°åœ¨å‡½æ•°å†…æ”¹å˜ï¼Œå¹¶ä¸å½±å“åŸæ¥çš„é‚£ä¸ªå‚æ•°</strong>ã€‚ä¼ å…¥çš„åªæ˜¯è¿™ä¸ªå‚æ•°çš„å‰¯æœ¬<br>ä¸‹é¢ä¸¤ä¸ªå®ç°äº¤æ¢å˜é‡çš„å‡½æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapTwoInts</span><span class="params">( a:<span class="keyword">inout</span> Int, b:<span class="keyword">inout</span> Int)</span></span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> t = a   <span class="comment">//  0</span></div><div class="line">    a = b       <span class="comment">// 100</span></div><div class="line">    b = t       <span class="comment">//  0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> x = <span class="number">0</span>,y = <span class="number">100</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"x = \(x) ;y = \(y)"</span>)</div><div class="line"></div><div class="line"><span class="comment">//æ‰“å°</span></div><div class="line">x = <span class="number">0</span> ;y = <span class="number">100</span></div><div class="line"><span class="comment">//äº¤æ¢å˜é‡çš„å‡½æ•°</span></div><div class="line">swapTwoInts(a: &amp;x, b: &amp;y)</div><div class="line"><span class="built_in">print</span>(<span class="string">"x = \(x) ;y = \(y)"</span>)</div><div class="line">x = <span class="number">100</span> ;y = <span class="number">0</span></div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„åªæ˜¯é™äºäº¤æ¢æ•´å½¢ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç›¸å¯¹Doubleæˆ–Floatç±»å‹ï¼Œç”šè‡³æ˜¯ä»»ä½•ç±»å‹çš„æ•°æ®å®ç°äº¤æ¢çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬éƒ½è¦åˆ†åˆ«å†™ä¸€ä¸ªå‡½æ•°ã€‚è¿™æ˜¯æ— æ¯”éº»çƒ¦çš„</p><p>æ‰€ä»¥æœ‰äº†æ³›å‹è¿™ä¸ªæ¦‚å¿µï¼Œæ³›å‹å°±æ˜¯<strong>æ¨¡ç³Šçš„ç±»å‹</strong><br>å‡½æ•°çš„åŠŸèƒ½å®ç°å’Œå…·ä½“ç±»å‹æ²¡å…³ç³»çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨æ³›å‹(æ„Ÿè§‰ç±»ä¼¼OCçš„ id ç±»å‹)<br>å°†ä¸Šé¢å®ç°ä¸¤ä¸ªå˜é‡äº¤æ¢çš„åŠŸèƒ½ç”¨ä¸€ä¸ªæ–¹æ³•å®Œæˆï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºä¸åŒçš„æ•°æ®ç±»å‹<br>swapTwoInts <t> ç†è§£ä¸ºä¸€ä¸ªå‡½æ•°æ—,ç±»å‹å‚æ•° T çš„æ¯ä¸ªé€‰æ‹©éƒ½ä¼šç¡®å®šä¸€ä¸ªæ–°å‡½æ•°,è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªTå‹æ•°ç»„å’Œä¸€ä¸ª T -&gt; Tç±»å‹çš„å‡½æ•°ä½œä¸ºå‚æ•°,å¹¶è¿”å›ä¸€ä¸ª[T]ç±»å‹çš„æ•°ç»„</t></p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapTwoInts</span>&lt;T&gt;<span class="params">( a: <span class="keyword">inout</span> T, <span class="number">_</span> b: <span class="keyword">inout</span> T)</span></span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> t = a</div><div class="line">    a = b</div><div class="line">    b = t</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> x = <span class="number">8.12</span>,y = <span class="number">100.1</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"x = \(x) ;y = \(y)"</span>)   <span class="comment">//x = 8.12 ;y = 100.1</span></div><div class="line">swapTwoInts( a: &amp;x,  &amp;y)</div><div class="line"><span class="built_in">print</span>(<span class="string">"x = \(x) ;y = \(y)"</span>)   <span class="comment">//x = 100.1 ;y = 8.12</span></div><div class="line"></div><div class="line"></div><div class="line">é—®é¢˜ï¼šx = <span class="number">8</span>  y = <span class="number">100.1</span> å‘ç”Ÿé”™è¯¯ï¼Œæ•´æ•°å’Œæµ®ç‚¹å‹æ•°å¦‚ä½•å†™äº¤æ¢æ–¹æ³•ï¼Ÿï¼Ÿï¼Ÿ</div></pre></td></tr></table></figure><blockquote><p>ä¸»è¦çš„è¯­æ³•å°±æ˜¯ä¸Šé¢çš„<t>ï¼Œè¿™ä¸ªTå°±æ˜¯ä»£è¡¨æŸä¸ªç±»å‹ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡æ˜å…·ä½“æ˜¯å“ªç§ç±»å‹ã€‚è€Œä¸”è¿™ä¸ªTï¼Œå¯ä»¥æ¢æˆä½ å¸Œæœ›çš„æ ‡ç¤ºç¬¦ï¼Œåªè¦ä¸æ˜¯å…³é”®å­—ã€‚å¹¶ä¸”ä¸€èˆ¬è¦æ±‚å•è¯çš„é¦–å­—æ¯è¦å¤§å†™ï¼Œæ¯”å¦‚Elementã€Valueç­‰ã€‚è€Œä¸”èƒ½æŒ‡å®šå¤šä¸ªç±»å‹ï¼Œè§ä¸‹é¢çš„ç±»å‹çº¦æŸ</t></p><p>æ³›å‹çš„å‡½æ•°è°ƒç”¨æ–¹æ³•å’Œæ™®é€šå‡½æ•°æ˜¯ä¸€æ ·çš„<br>ä¸‹é¢åˆ›å»ºäº†ä¸¤ä¸ªAnimalå®ä¾‹ï¼Œç„¶åä½¿ç”¨åˆšåˆšå®šä¹‰çš„å‡½æ•°äº¤æ¢æ•°æ®ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> life = <span class="number">0</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> cat = <span class="type">Animal</span>()</div><div class="line">cat.life = <span class="number">1</span></div><div class="line"><span class="keyword">var</span> dog = <span class="type">Animal</span>()</div><div class="line">dog.life = <span class="number">2</span></div><div class="line"></div><div class="line">swapTwoInts(cat.life, dog.life)  <span class="comment">//æŠ¥é”™ï¼ï¼ æ–¹é¢äº¤æ¢æ–¹æ³•ä¸èƒ½äº¤æ¢ã€‚ã€‚é†‰äº†</span></div><div class="line"><span class="built_in">print</span>(cat.life)  </div><div class="line"><span class="built_in">print</span>(dog.life)</div></pre></td></tr></table></figure><blockquote><p>æ³›å‹ä¸¾ä¾‹åˆ†æ</p></blockquote><p><a href="http://lib.csdn.net/article/swift/48384?knId=10" target="_blank" rel="external">å‚è€ƒ</a></p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">//  map</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">map</span>&lt;Element,T&gt;<span class="params">(xs:[Element],transfom:<span class="params">(Element)</span></span></span> -&gt;<span class="type">T</span>)-&gt;[<span class="type">T</span>]&#123;</div><div class="line">    <span class="keyword">var</span> result :[<span class="type">T</span>] = []</div><div class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> xs&#123;</div><div class="line">        result.append(transfom(x))</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">genericComputeArray</span>&lt;T&gt;<span class="params">(xs: [Int], transfom: <span class="params">(Int)</span></span></span> -&gt; <span class="type">T</span>) -&gt; [<span class="type">T</span>] &#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">map</span>(xs: xs, transfom: transfom)</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">è¿™å— ä¸æ˜¯å¾ˆç†è§£</div></pre></td></tr></table></figure><blockquote><p>é¡¶å±‚å‡½æ•°å’Œæ‰©å±•<br>å†™ä¸€ä¸ªå‡½æ•°,å®ƒæ¥å—ä¸€ä¸ªç»™å®šçš„æ•´å‹æ•°ç»„,é€šè¿‡è®¡ç®—å¾—åˆ°å¹¶è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚è¦æ±‚ï¼šæ–°æ•°ç»„å„é¡¹ä¸ºåŸæ•°ç»„ä¸­å¯¹åº”çš„æ•´å‹æ•°æ®åŠ ä¸€ã€‚for å¾ªç¯èƒ½å®ç°</p></blockquote><h1 id="æ³›å‹ç±»å‹"><a href="#æ³›å‹ç±»å‹" class="headerlink" title="æ³›å‹ç±»å‹"></a>æ³›å‹ç±»å‹</h1><blockquote><p>å®šä¹‰ä¸€ä¸ªç±»å‹ï¼Œä½†æ˜¯å®ƒå¯ä»¥å¯¹ä¸åŒç±»å‹çš„æ•°æ®è¿›è¡Œæ“ä½œ<br>æ¯”å¦‚Arrayå’ŒDictionaryè¿™ä¸¤ä¸ªé›†åˆç»“æ„ä½“ï¼Œä»–ä»¬å¯ä»¥è£…ä¸åŒç±»å‹çš„æ•°æ®ï¼Œè¿™å°±æ˜¯æ³›å‹ç±»å‹</p><h2 id="å®˜æ–¹æ–‡æ¡£å±•ç¤ºä¸€ä¸ªæ³›å‹ç±»å‹çš„æ ˆï¼Œä½¿ç”¨Arrayæ¥å®ç°"><a href="#å®˜æ–¹æ–‡æ¡£å±•ç¤ºä¸€ä¸ªæ³›å‹ç±»å‹çš„æ ˆï¼Œä½¿ç”¨Arrayæ¥å®ç°" class="headerlink" title="å®˜æ–¹æ–‡æ¡£å±•ç¤ºä¸€ä¸ªæ³›å‹ç±»å‹çš„æ ˆï¼Œä½¿ç”¨Arrayæ¥å®ç°"></a>å®˜æ–¹æ–‡æ¡£å±•ç¤ºä¸€ä¸ªæ³›å‹ç±»å‹çš„æ ˆï¼Œä½¿ç”¨Arrayæ¥å®ç°</h2></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">struct Stack&lt;Element&gt; &#123;  </div><div class="line">    var items = [Element]()  </div><div class="line">    mutating func push(item: Element) &#123;  </div><div class="line">        items.append(item)  </div><div class="line">    &#125;  </div><div class="line">    mutating func pop() -&gt; Element &#123;  </div><div class="line">        return items.removeLast()  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç„¶ååœ¨åˆ›å»ºè¿™ç§æ³›å‹ç±»å‹å®ä¾‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»æŒ‡å®šæ‰€å±çš„ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line"><span class="keyword">var</span> stackOfStrings = <span class="type">Stack</span>&lt;<span class="type">String</span>&gt;()  </div><div class="line">stackOfStrings.push(<span class="string">"uno"</span>)</div></pre></td></tr></table></figure><h1 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h1><blockquote><p>æˆ‘ä»¬å¯ä»¥å¯¹æ³›å‹è¿›è¡Œçº¦æŸï¼Œè®©ä»–ä»¬å¿…é¡»éµå®ˆæŸäº›åè®®ï¼Œå®˜æ–¹æ–‡æ¡£è¯­æ³•å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFunction</span>&lt;T: SomeClass, U: SomeProtocol&gt;<span class="params">(someT: T, someU: U)</span></span> &#123;  </div><div class="line">    <span class="comment">// function body goes here  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åŒæ—¶è¿˜å¯ä»¥æ·»åŠ whereçº¦æŸç¬¦å†å¯¹æ³›å‹è¿›è¡Œé™åˆ¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">someFunction</span>&lt;T: SomeClass, U: SomeProtocol where T.someItem == U, U.someItem: SomeClass2&gt;<span class="params">(someT: T, someU: U)</span></span> &#123;  </div><div class="line">    <span class="comment">// function body goes here  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="å…³è”ç±»å‹"><a href="#å…³è”ç±»å‹" class="headerlink" title="å…³è”ç±»å‹"></a>å…³è”ç±»å‹</h1><blockquote><p>åœ¨å®šä¹‰åè®®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹ä½œä¸ºæˆ‘ä»¬åè®®çš„ä¸€éƒ¨åˆ†ã€‚è€Œè¿™äº›ç±»å‹æ˜¯ä¸ç¡®å®šçš„ï¼Œåªæœ‰åˆ°å…·ä½“çš„ç±»å®ç°åè®®çš„æ—¶å€™æ‰èƒ½ç¡®å®šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…³è”ç±»å‹æ¥å®ç°ã€‚æ‰€è°“çš„å…³è”ç±»å‹å°±æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œç­‰åˆ°å…·ä½“å®ç°åè®®çš„æ—¶å€™æ‰çŸ¥é“å®ƒå…·ä½“æ˜¯ä»€ä¹ˆç±»å‹ã€‚å®˜æ–¹ä¾‹å­å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">protocol</span> <span class="title">Container</span> </span>&#123;  </div><div class="line">    <span class="keyword">typealias</span> <span class="type">ItemType</span>  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span><span class="params">(item: ItemType)</span></span>  </div><div class="line">    <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">    <span class="keyword">subscript</span>(i: <span class="type">Int</span>) -&gt; <span class="type">ItemType</span> &#123; <span class="keyword">get</span> &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç„¶ååœ¨å®ç°åè®®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šItemTypeå…·ä½“æ˜¯ä»€ä¹ˆç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">IntStack</span>: <span class="title">Container</span> </span>&#123;  </div><div class="line">    <span class="comment">// original IntStack implementation  </span></div><div class="line">    <span class="keyword">var</span> items = [<span class="type">Int</span>]()  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">push</span><span class="params">(item: Int)</span></span> &#123;  </div><div class="line">        items.append(item)  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">pop</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;  </div><div class="line">        <span class="keyword">return</span> items.removeLast()  </div><div class="line">    &#125;  </div><div class="line">    <span class="comment">// conformance to the Container protocol  </span></div><div class="line">    <span class="keyword">typealias</span> <span class="type">ItemType</span> = <span class="type">Int</span>  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span><span class="params">(item: Int)</span></span> &#123;  </div><div class="line">        <span class="keyword">self</span>.push(item)  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> &#123;  </div><div class="line">        <span class="keyword">return</span> items.<span class="built_in">count</span>  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">subscript</span>(i: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;  </div><div class="line">        <span class="keyword">return</span> items[i]  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><p>&gt;<br>åŒæ—¶åˆå› ä¸ºæœ‰Swiftçš„ç±»å‹åˆ¤æ–­æœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å®ç°äº†åè®®çš„å…¶ä»–æ–¹æ³•ä¹‹åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­å…³è”ç±»å‹æ˜¯ä»€ä¹ˆï¼Œä¸éœ€è¦æˆ‘ä»¬æ˜¾å¼åœ°æŒ‡å®šã€‚æ‰€ä»¥ä¸Šé¢ä»£ç æŒ‡å®šå…³è”ç±»å‹ä¸ºIntçš„é‚£è¡Œå¯ä»¥åˆ å»ã€‚</p><blockquote><p>æ³›å‹OCæ˜¯ä¸æ”¯æŒçš„ï¼Œä½†æ˜¯javaæ”¯æŒã€‚ä½¿ç”¨æ³›å‹èƒ½ç»™ç¼–ç¨‹å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ©</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Extensionæ‰©å±•</title>
      <link href="/2017/12/01/Swift/Grammar/Extension%E6%89%A9%E5%B1%95/"/>
      <content type="html"><![CDATA[<h1 id="Extensionæ‰©å±•"><a href="#Extensionæ‰©å±•" class="headerlink" title="Extensionæ‰©å±•"></a>Extensionæ‰©å±•</h1><blockquote><p>Swiftä¸­çš„æ‰©å±•å°±æ˜¯OCä¸­çš„åˆ†ç±»ã€‚ä½†æ˜¯è¿™é‡Œçš„æ‰©å±•å¯ä»¥å¯¹ç±»ã€ç»“æ„ä½“ã€æšä¸¾ç±»è¿›è¡Œæ·»åŠ ã€‚ä½¿ç”¨æ‰©å±•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æ¥è§¦æºä»£ç çš„å‰æä¸‹ï¼Œå¯¹å·²æœ‰çš„ä»£ç è¿›è¡ŒåŠŸèƒ½ä¸Šçš„æ·»åŠ ã€‚</p><p>Swiftä¸­çš„æ‰©å±•æä¾›çš„ä¸€äº›åŠŸèƒ½ï¼š</p></blockquote><ul><li>1ã€æ·»åŠ è®¡ç®—å±æ€§æˆ–ç±»è®¡ç®—å±æ€§ï¼Œä½†æ˜¯ä¸èƒ½æ·»åŠ å­˜å‚¨å±æ€§ã€‚</li><li>2ã€æ·»åŠ å®ä¾‹æ–¹æ³•æˆ–ç±»åˆ«æ–¹æ³•ã€‚ä½†æ˜¯ä¸èƒ½è¦†ç›–å·²ç»å­˜åœ¨çš„æ–¹æ³•ã€‚</li><li>3ã€å®šä¹‰æ–°çš„æ„é€ å™¨ã€‚</li><li>4ã€å®šä¹‰å’Œä½¿ç”¨æ–°çš„åµŒå¥—ç±»ã€‚</li><li>5ã€ä»¤å·²ç»å­˜åœ¨çš„ç±»å‹éµå®ˆåè®®ã€‚</li></ul><blockquote><p>å‡è®¾æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªAnimalç±»ï¼Œä½†æ˜¯ä¸èƒ½å¾—åˆ°å®ƒçš„æºä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> life: <span class="type">Int</span> = <span class="number">0</span>  </div><div class="line">    <span class="keyword">var</span> height: <span class="type">Double</span> = <span class="number">0</span>  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬åˆ©ç”¨æ‰©å±•ï¼Œå¯¹Animalæ·»åŠ ä¸€ä¸ªè®¡ç®—å±æ€§å’Œæ–¹æ³•ã€æ„é€ å™¨è¿˜æœ‰åµŒå¥—ç±»ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥æ·»åŠ ä¸‹æ ‡ï¼Œä½†è¿™é‡Œä¸æ¼”ç¤ºäº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="comment">//æ‰©å±•è®¡ç®—å±æ€§  </span></div><div class="line">    <span class="keyword">var</span> lifeYear : <span class="type">Double</span> &#123; <span class="keyword">return</span> <span class="type">Double</span>(<span class="keyword">self</span>.life) / <span class="number">365</span> &#125;  </div><div class="line">    <span class="comment">//æ‰©å±•æ„é€ å™¨  </span></div><div class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(life: <span class="type">Int</span>, height: <span class="type">Double</span>) &#123;  </div><div class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>()  </div><div class="line">        <span class="keyword">self</span>.life = life  </div><div class="line">        <span class="keyword">self</span>.height = height  </div><div class="line">    &#125;  </div><div class="line">    <span class="comment">//æ‰©å±•æ–¹æ³•  </span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeSound</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="string">"I can live \(lifeYear) years"</span>  </div><div class="line">    &#125;  </div><div class="line">    <span class="comment">// æ‰©å±•åµŒå¥—ç±»  </span></div><div class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Size</span> </span>&#123;  </div><div class="line">        <span class="keyword">case</span> <span class="type">Big</span>, <span class="type">Small</span>, <span class="type">SuperSmall</span>  </div><div class="line">    &#125;  </div><div class="line">    <span class="comment">// æ‰©å±•ä¸€ä¸ªä½¿ç”¨åµŒå¥—ç±»çš„è®¡ç®—å±æ€§  </span></div><div class="line">    <span class="keyword">var</span> size: <span class="type">Size</span> &#123;  </div><div class="line">        <span class="keyword">switch</span> height &#123;  </div><div class="line">        <span class="keyword">case</span> <span class="keyword">let</span> h <span class="keyword">where</span> h &gt; <span class="number">10</span>:  </div><div class="line">            <span class="keyword">return</span> .<span class="type">Big</span>  </div><div class="line">        <span class="keyword">case</span> <span class="keyword">let</span> h <span class="keyword">where</span> h &gt; <span class="number">0.1</span>:  </div><div class="line">            <span class="keyword">return</span> .<span class="type">Small</span>  </div><div class="line">        <span class="keyword">default</span>:  </div><div class="line">            <span class="keyword">return</span> .<span class="type">SuperSmall</span>  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> a = <span class="type">Animal</span>(life: <span class="number">3365</span> * <span class="number">7</span>, height: <span class="number">0.001</span>)  </div><div class="line"><span class="built_in">print</span>(a.size)   <span class="comment">// SuperSmall  </span></div><div class="line"><span class="built_in">print</span>(a.lifeYear)   <span class="comment">// 7.0  </span></div><div class="line"><span class="built_in">print</span>(a.makeSound())   <span class="comment">// I can live 7.0 years</span></div></pre></td></tr></table></figure><blockquote><p>é¢ä»£ç éœ€è¦æ³¨æ„çš„æ˜¯æ‰©å±•æ„é€ å™¨çš„æ—¶å€™ï¼Œåœ¨æ„é€ å™¨çš„æ—¶å€™è®²è¿‡ï¼Œåœ¨æ‰©å±•ä¸­æ·»åŠ æ„é€ å™¨æ˜¯ä¸ä¼šå½±å“é»˜è®¤æ„é€ å™¨çš„äº§ç”Ÿã€‚ä¸èƒ½æ·»åŠ åŸæ¥å·²æœ‰çš„æ„é€ å™¨ã€‚<br>å¦å¤–åœ¨ç±»æ‰©å±•é‡Œé¢ï¼Œæ˜¯ä¸ç»™æ·»åŠ æŒ‡å®šæ„é€ å™¨æˆ–ææ„å™¨ï¼Œåªèƒ½æ·»åŠ ä¾¿åˆ©æ„é€ å™¨ã€‚åœ¨ä¾¿åˆ©æ„é€ å™¨ä¸­ï¼Œè¦å…ˆè°ƒç”¨åŸæ¥çš„æ„é€ å™¨æ¥åˆå§‹åŒ–ç±»åï¼Œæ‰èƒ½å¯¹ç±»è¿›è¡Œè®¿é—®ã€‚</p><p>æ‰©å±•è¿˜æœ‰ä¸€ä¸ªä½œç”¨å°±æ˜¯è®©ç±»éµå®ˆåè®®ã€‚è¿™éƒ¨åˆ†ç•™åˆ°åè®®é‡Œé¢è®²<br>ä¸‹é¢å°†ä»¥å‰å°†è¿‡çš„éº»çƒ¦çš„Stringç±»å‹åšä¸€ä¸ªæ‰©å±•ï¼Œä½¿å¾—æ–¹ä¾¿æˆªä¸²å’Œè·å–é•¿åº¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">extension</span> <span class="title">String</span> </span>&#123;  </div><div class="line">    <span class="comment">//è·å–å­—ç¬¦ä¸²é•¿åº¦  </span></div><div class="line">    <span class="keyword">var</span> length: <span class="type">Int</span> &#123; <span class="keyword">return</span> <span class="keyword">self</span>.characters.<span class="built_in">count</span> &#125;  </div><div class="line">      </div><div class="line">    <span class="comment">//è·å–éƒ¨åˆ†å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›nilã€‚å¦‚æœendå¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œé‚£ä¹ˆæˆªå–åˆ°æœ€å  </span></div><div class="line">    <span class="keyword">subscript</span> (start: <span class="type">Int</span>, end: <span class="type">Int</span>) -&gt; <span class="type">String</span>? &#123;  </div><div class="line">        <span class="keyword">if</span> start &gt; <span class="keyword">self</span>.length || start &lt; <span class="number">0</span> || start &gt; end &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span>  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">let</span> begin = <span class="keyword">self</span>.startIndex.advancedBy(start)  </div><div class="line">        <span class="keyword">var</span> terminal: <span class="type">Index</span>  </div><div class="line">        <span class="keyword">if</span> end &gt;= length &#123;  </div><div class="line">            terminal = <span class="keyword">self</span>.startIndex.advancedBy(length)  </div><div class="line">        &#125; <span class="keyword">else</span> &#123;  </div><div class="line">            terminal = <span class="keyword">self</span>.startIndex.advancedBy(end + <span class="number">1</span>)  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">let</span> range = <span class="type">Range</span>(start: begin, end: terminal)  </div><div class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.substringWithRange(range)  </div><div class="line">    &#125;  </div><div class="line">    <span class="comment">//è·å–æŸä¸ªå­—ç¬¦ï¼Œå¦‚æœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›nil  </span></div><div class="line">    <span class="keyword">subscript</span> (index: <span class="type">Int</span>) -&gt; <span class="type">Character</span>? &#123;  </div><div class="line">        <span class="keyword">if</span> index &gt; <span class="keyword">self</span>.length - <span class="number">1</span> || index &lt; <span class="number">0</span> &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span>  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> <span class="keyword">self</span>[<span class="keyword">self</span>.startIndex.advancedBy(index)]  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç„¶åå°±å¯ä»¥è¿™æ ·æˆªä¸²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> s = <span class="string">"å“ˆ0123456789"</span>  </div><div class="line"><span class="built_in">print</span>(s.length) <span class="comment">// 11  </span></div><div class="line"><span class="built_in">print</span>(s[<span class="number">0</span>,<span class="number">2</span>])    <span class="comment">// Optional("å“ˆ01")  </span></div><div class="line"><span class="built_in">print</span>(s[<span class="number">9</span>])     <span class="comment">// Optional("8")</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Error-Handlingé”™è¯¯å¤„ç†</title>
      <link href="/2017/12/01/Swift/Grammar/Error-Handling-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/"/>
      <content type="html"><![CDATA[<h1 id="Swift-é”™è¯¯"><a href="#Swift-é”™è¯¯" class="headerlink" title="Swift-é”™è¯¯"></a>Swift-é”™è¯¯</h1><blockquote><p>Swiftæä¾›äº†ä¸€å¥—å®Œæ•´çš„é”™è¯¯æŠ›å‡º-æ•è·-å¤„ç†æœºåˆ¶<br>Swifté‡‡ç”¨Erroråè®®æ¥è¡¨ç¤ºé”™è¯¯ç±»å‹ï¼Œé€šè¿‡do-try-catchçš„æ–¹å¼æ¥å¤„ç†å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç </p></blockquote><h1 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h1><blockquote><p>å¯é€‰å€¼è¡¨ç¤ºä¸€ä¸ªå€¼è¦ä¹ˆæœ‰å€¼ï¼Œè¦ä¹ˆæ˜¯nilã€‚åœ¨Swiftä¸­ï¼ŒOptionalæ˜¯ç”¨enumå†™çš„ï¼Œ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Optional</span>&lt;<span class="title">Wrapped</span>&gt; : <span class="title">ExpressibleByNilLiteral</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="keyword">none</span></div><div class="line">    <span class="keyword">case</span> some(<span class="type">Wrapped</span>)</div><div class="line">     <span class="comment">//...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å½“å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ªå¯é€‰å€¼æ˜¯å¸¸è§çš„å¤„ç†æ–¹å¼ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼çš„æœ‰ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„ç¼ºç‚¹</p></blockquote><ul><li>è°ƒç”¨è€…ä¸æ¸…æ¥šä¸ºä»€ä¹ˆå¤±è´¥</li><li>ä¸å¥½è¿›è¡Œç›¸å…³çš„å¤„ç†</li></ul><h1 id="Erroråè®®ä¸throws"><a href="#Erroråè®®ä¸throws" class="headerlink" title="Erroråè®®ä¸throws"></a>Erroråè®®ä¸throws</h1><ul><li>Erroræ˜¯ä¸€ä¸ªç©ºçš„åè®®ï¼Œç”¨æ¥è¡¨ç¤ºé”™è¯¯ç±»å‹</li><li>NSErrorå’ŒCFErroréƒ½éµå¾ªäº†è¿™ä¸ªåè®®</li></ul><blockquote><p>åœ¨Swfitä¸­ï¼Œæšä¸¾æ˜¯ä¸€ä¸ªç‰¹åˆ«é€‚åˆç”¨æ¥å¤„ç†Errorçš„æ•°æ®ç±»å‹ã€‚<br>é¦–å…ˆå®šä¹‰ä¸€ä¸ªç±»Personè¡¨ç¤ºäºº</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Sex</span></span>&#123;</div><div class="line"><span class="keyword">case</span> male</div><div class="line"><span class="keyword">case</span> female</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</div><div class="line"><span class="keyword">let</span> sex:<span class="type">Sex</span></div><div class="line"><span class="keyword">var</span> money:<span class="type">CGFloat</span></div><div class="line"><span class="keyword">init</span>(sex:<span class="type">Sex</span> ,money:<span class="type">CGFloat</span>) &#123;</div><div class="line">    <span class="keyword">self</span>.sex = sex</div><div class="line">    <span class="keyword">self</span>.money = money</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>Personå¯ä»¥ç»“å©šï¼Œç»“å©šçš„æ—¶å€™ä¼šå‘ç”Ÿä¸€äº›é”™è¯¯ï¼Œæ¯”å¦‚é’±ä¸å¤Ÿï¼Œæ¯”å¦‚æ€§åˆ«ä¸å¯¹ï¼Œç”¨æšä¸¾æ¥è¡¨ç¤º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">MarryError</span> : <span class="title">Error</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> lackMoney</div><div class="line">    <span class="keyword">case</span> wrongSex</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ–¹æ³•çš„å®ç°å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">Person</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">marry</span><span class="params">(with another: Person)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Bool</span>&#123;</div><div class="line">        <span class="keyword">guard</span> <span class="keyword">self</span>.sex != another.sex <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">throw</span> <span class="type">MarryError</span>.wrongSex</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">guard</span> <span class="keyword">self</span>.money + another.money &gt; <span class="number">100000</span> <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="type">MarryError</span>.lackMoney</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸€ä¸ªå¸¦æœ‰throwså…³é”®å­—çš„å‡½æ•°ï¼Œè°ƒç”¨çš„æ—¶å€™æœ‰ä¸¤ç§æ–¹å¼é€‰æ‹©</p><p>â‘ â¶ä½¿ç”¨ do-try-catch ä»£ç å—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> tom = <span class="type">Person</span>(sex: .male, money: <span class="number">100000</span>)</div><div class="line"><span class="keyword">let</span> jack = <span class="type">Person</span>(sex: .male, money: <span class="number">100000</span>)</div><div class="line"><span class="keyword">do</span>&#123;</div><div class="line">    <span class="keyword">try</span> tom.marry(with: jack)</div><div class="line">&#125;<span class="keyword">catch</span> <span class="type">MarryError</span>.wrongSex &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Two Person have same sex"</span>)</div><div class="line">&#125;<span class="keyword">catch</span> <span class="type">MarryError</span>.lackMoney&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Oh, they do not have enough moeny"</span>)</div><div class="line">&#125;<span class="keyword">catch</span> <span class="keyword">let</span> error&#123;</div><div class="line">    <span class="built_in">print</span>(error)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â·ä¸éœ€è¦åŒºåˆ†æ¯ä¸€ä¸ªErrorï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆè°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">do</span>&#123;</div><div class="line">    <span class="keyword">try</span> tom.marry(with: jack)</div><div class="line">&#125;<span class="keyword">catch</span> <span class="keyword">let</span> error&#123;</div><div class="line">    <span class="built_in">print</span>(error)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>â‘¡ä½¿ç”¨ try?ï¼Œå¯¹äºæœ‰è¿”å›å€¼çš„throwså‡½æ•°ï¼Œä½¿ç”¨try?ä¼šæŠŠç»“æœè½¬æ¢ä¸ºå¯é€‰å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> tom = <span class="type">Person</span>(sex: .male, money: <span class="number">100000</span>)</div><div class="line"><span class="keyword">let</span> jack = <span class="type">Person</span>(sex: .male, money: <span class="number">100000</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> result = <span class="keyword">try</span>? tom.marry(with: jack)&#123;<span class="comment">//æˆåŠŸ</span></div><div class="line"></div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Error happen"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="deferå…³é”®å­—"><a href="#deferå…³é”®å­—" class="headerlink" title="deferå…³é”®å­—"></a>deferå…³é”®å­—</h1><blockquote><p>deferå…³é”®å­—ç”¨æ¥å¤„ç†ç±»ä¼¼Ojective Cä¸­@try-@catch-@finallyä¸­ï¼Œ@finallyçš„ä½œç”¨<br>æ¯”å¦‚ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæŠ›å‡ºé”™è¯¯çš„è¯ï¼Œæˆ‘ä»¬æ€»å¸Œæœ›å…³é—­è¿™ä¸ªæ–‡ä»¶å¥æŸ„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">contents</span><span class="params">(of filePath:String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">String</span>&#123;</div><div class="line">    <span class="keyword">let</span> file = <span class="keyword">open</span>(filePath,<span class="type">O_RDWR</span>)</div><div class="line">    <span class="keyword">defer</span> &#123;</div><div class="line">        close(file)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">defer</span>ä»£ç å—çš„å†…å®¹åœ¨é€€å‡ºä½œç”¨åŸŸä¹‹å‰ä¼šè¢«æ‰§è¡Œ</div></pre></td></tr></table></figure><blockquote><p>å…³äºdeferçš„æ³¨æ„</p></blockquote><ul><li>å¤šä¸ªdeferä¼šæŒ‰ç…§é€†åºçš„æ–¹å¼æ‰§è¡Œã€‚</li><li>å½“ä½ çš„ç¨‹åºé‡åˆ°ä¸¥é‡é”™è¯¯ï¼Œæ¯”å¦‚fatalError,æˆ–è€…å¼ºåˆ¶è§£ænilï¼Œæˆ–è€…segfaultsçš„æ—¶å€™ï¼Œdeferçš„ä»£ç å—å¹¶ä¸ä¼šæ‰§è¡Œã€‚</li></ul><h1 id="rethrow"><a href="#rethrow" class="headerlink" title="rethrow"></a>rethrow</h1><blockquote><p>rethrowå…³é”®å­—åœ¨é«˜é˜¶å‡½æ•°ä¸­æ¯”è¾ƒå¸¸è§ï¼Œæ‰€è°“é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„å‚æ•°æˆ–è€…è¿”å›å€¼æ˜¯å‡½æ•°ç±»å‹<br>æœ€å¸¸è§çš„æ¯”å¦‚ï¼ŒSequenceåè®®mapæ–¹æ³•<br>æ¯”å¦‚ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</div><div class="line"><span class="keyword">let</span> result = array.<span class="built_in">map</span>&#123;$<span class="number">0</span> * <span class="number">2</span>&#125;</div></pre></td></tr></table></figure><blockquote><p>ç”±äºmapå‡½æ•°ä¼ å…¥çš„æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œè¿™ä¸ªé—­åŒ…å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯<br>ç”±å‚æ•°æŠ›å‡ºçš„é”™è¯¯æœ€åä¼šå‘ä¸Šä¼ é€’ç»™mapå‡½æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">MapError</span> : <span class="title">Error</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> invalid</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">customMapper</span><span class="params">(input:Int)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">if</span> input &lt; <span class="number">10</span>&#123;</div><div class="line">        <span class="keyword">throw</span> <span class="type">MapError</span>.invalid</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> input + <span class="number">1</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</div><div class="line"><span class="keyword">let</span> result = array.<span class="built_in">map</span>(customMapper)</div></pre></td></tr></table></figure><blockquote><p>è¿™æ ·æ˜¯ç¼–è¯‘ä¸é€šè¿‡çš„<br>è°ƒç”¨çš„æ—¶å€™éœ€è¦ï¼šæŒ‰ç…§ä¸Šæ–‡æåˆ°çš„throwså…³é”®å­—çš„è·¯å­æ¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">do</span> &#123;</div><div class="line">   <span class="keyword">let</span> result = <span class="keyword">try</span> array.<span class="built_in">map</span>(customMapper)</div><div class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> error&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è¿™å°±æ˜¯rethrowså…³é”®å­—çš„ç²¾é«“æ‰€åœ¨<br>rethrows å…³é”®å­—è¡¨ç¤ºå½“å‚æ•°é—­åŒ…æ ‡è®°ä¸ºthrowsçš„æ—¶å€™ï¼Œå‡½æ•°æœ¬èº«ä¸ºthrowsã€‚å¦‚æœå‚æ•°é—­åŒ…ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œåˆ™å‡½æ•°ä¹Ÿä¸ä¼š<br>é€šè¿‡è¿™ä¸ªå…³é”®å­—ï¼Œä½ ä¸å¿…æ¯æ¬¡éƒ½è¿›è¡Œtry-catch</p></blockquote><h1 id="Resultç±»å‹"><a href="#Resultç±»å‹" class="headerlink" title="Resultç±»å‹"></a>Resultç±»å‹</h1><blockquote><p>ä¸€ä¸ªå‡½æ•°æ‰§è¡Œè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ã€‚æˆåŠŸçš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿”å›æ•°æ®ï¼Œå¤±è´¥çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¾—åˆ°é”™è¯¯ä¿¡æ¯ï¼Œè¿™å°±æ˜¯Resultç±»å‹ï¼Œä¸€ä¸ªå…¸å‹çš„Resultç±»å‹å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">Result</span>&lt;<span class="title">T</span>&gt;</span>&#123;</div><div class="line">    <span class="keyword">case</span> success(<span class="type">T</span>)</div><div class="line">    <span class="keyword">case</span> failure(error:<span class="type">Error</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>é€šè¿‡Resultç±»å‹ï¼Œä¸å†éœ€è¦å¯é€‰å€¼æˆ–è€…do-try-catchæ¥åŒ…è£¹ä½ çš„ä»£ç <br>ç”¨Resultç±»å‹å¯¹ä¸Šè¿°marryå‡½æ•°è¿›è¡Œé‡å†™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">Person</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">marry</span><span class="params">(with another: Person)</span></span>  -&gt; <span class="type">Result</span>&lt;<span class="type">Bool</span>&gt;&#123;</div><div class="line">        <span class="keyword">guard</span> <span class="keyword">self</span>.sex != another.sex <span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> .failure(error: <span class="type">MarryError</span>.wrongSex)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">guard</span> <span class="keyword">self</span>.money + another.money &gt; <span class="number">100000</span> <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> .failure(error: <span class="type">MarryError</span>.lackMoney)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> .success(<span class="literal">true</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç„¶åï¼Œè¿™ä¹ˆè°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> tom = <span class="type">Person</span>(sex: .male, money: <span class="number">100000</span>)</div><div class="line"> <span class="keyword">let</span> jack = <span class="type">Person</span>(sex: .male, money: <span class="number">100000</span>)</div><div class="line"> <span class="keyword">let</span> result = tom.marry(with: jack)</div><div class="line">  <span class="keyword">switch</span> result &#123;</div><div class="line">    <span class="keyword">case</span> <span class="keyword">let</span> .success(value):</div><div class="line">        <span class="built_in">print</span>(value)</div><div class="line">    <span class="keyword">case</span> <span class="keyword">let</span> .failure(error):</div><div class="line">        <span class="built_in">print</span>(error)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="Resulté“¾"><a href="#Resulté“¾" class="headerlink" title="Resulté“¾"></a>Resulté“¾</h1><blockquote><p>Swiftä¸­æœ‰å¯é€‰é“¾ï¼Œæ¥å¤„ç†å¤šä¸ªå¯é€‰å€¼çš„è¿ç»­è°ƒç”¨ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºResultç±»å‹æ¥æ·»åŠ é“¾å¼è°ƒç”¨ï¼š</p></blockquote><ul><li>å¦‚æœä¸Šä¸€ä¸ªè°ƒç”¨ç»“æœæ˜¯.success, åˆ™ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ª</li><li>å¦‚æœä¸Šä¸€ä¸ªè°ƒç”¨ç»“æœæ˜¯.failure, åˆ™ä¼ é€’failureç»™ä¸‹ä¸€ä¸ª<blockquote><p>ç”¨extensionæ¥å®ç°</p></blockquote></li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">Result</span></span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">flatMap</span>&lt;V&gt;<span class="params">(transform:<span class="params">(T)</span></span></span> <span class="keyword">throws</span> -&gt; (<span class="type">V</span>)) <span class="keyword">rethrows</span> -&gt; <span class="type">Result</span>&lt;<span class="type">V</span>&gt;&#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> <span class="keyword">let</span> .failure(error):</div><div class="line">            <span class="keyword">return</span> .failure(error: error)</div><div class="line"></div><div class="line">        <span class="keyword">case</span> <span class="keyword">let</span> .success(data):</div><div class="line">            <span class="keyword">return</span> .success(<span class="keyword">try</span> transform(data))</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>äºæ˜¯ï¼Œå¯ä»¥è¿™ä¹ˆè°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">resut.flatMap(&#123;<span class="comment">//è½¬æ¢1&#125;).flatMap(//è½¬æ¢2)...</span></div></pre></td></tr></table></figure><blockquote><p>ä¸€æ—¦å¤±è´¥ï¼Œä¸­é—´æœ‰ä¸€æ¬¡flatMapè½¬æ¢å¤±è´¥ï¼Œåˆ™ä¹‹åçš„è½¬æ¢é€»è¾‘éƒ½ä¸ä¼šæ‰§è¡Œ<br>è¿›é˜¶ï¼šResultç±»å‹åœ¨Swiftç‰ˆæœ¬çš„Promiseä¸­å¤§è¡Œå…¶é“ï¼Œå¯ä»¥å‚è§PromiseKitçš„æºç ï¼Œpromiseè®©å¼‚æ­¥å¤„ç†å˜å¾—ä¼˜é›…</p></blockquote><h1 id="assert-precondition"><a href="#assert-precondition" class="headerlink" title="assert/precondition"></a>assert/precondition</h1><blockquote><p>Swiftä¹Ÿæœ‰æ–­è¨€æ”¯æŒ<br>åœ¨Swfitä¸­ï¼Œæ–­è¨€æ˜¯ä¸€ä¸ªå‡½æ•°<br>æ–­è¨€ä»…åœ¨Debugæ¨¡å¼ä¸‹è¿›è¡Œæ£€æŸ¥ï¼Œå¸®åŠ©å¼€å‘è€…å‘ç°ä»£ç ä¸­çš„é—®é¢˜</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">assert</span><span class="params">(<span class="number">_</span> condition: @autoclosure <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>, </div><div class="line">             <span class="number">_</span> message: <span class="meta">@autoclosure</span> () -&gt; <span class="type">String</span> = <span class="keyword">default</span>, </div><div class="line">                  file: <span class="type">StaticString</span> = #file, </div><div class="line">                  line: <span class="type">UInt</span> = #line)</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœéœ€è¦åœ¨Relaseæ¨¡å¼ä¸‹ä¹Ÿè¿›è¡Œæ£€æŸ¥ï¼Œåˆ™ä½¿ç”¨precondition</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">precondition</span><span class="params">(<span class="number">_</span> condition: @autoclosure <span class="params">()</span></span></span> -&gt; <span class="type">Bool</span>, </div><div class="line">             <span class="number">_</span> message: <span class="meta">@autoclosure</span> () -&gt; <span class="type">String</span> = <span class="keyword">default</span>, </div><div class="line">                  file: <span class="type">StaticString</span> = #file, </div><div class="line">                  line: <span class="type">UInt</span> = #line)</div></pre></td></tr></table></figure><h1 id="æ¡¥æ¥åˆ°Objective-C"><a href="#æ¡¥æ¥åˆ°Objective-C" class="headerlink" title="æ¡¥æ¥åˆ°Objective C"></a>æ¡¥æ¥åˆ°Objective C</h1><blockquote><p>ä½¿ç”¨NSErroræ¥å¤„ç†é”™è¯¯çš„çš„Objective æ–¹æ³•</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//NSFileManager</span></div><div class="line">- (<span class="built_in">BOOL</span>)removeItemAtURL:(<span class="built_in">NSURL</span> *)URL error:(<span class="built_in">NSError</span> * _Nullable *)error;</div></pre></td></tr></table></figure><blockquote><p>åœ¨Swiftä¸­ä¼šè¢«è‡ªåŠ¨çš„è½¬æ¢æˆ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeItem</span><span class="params">(at URL: URL)</span></span> <span class="keyword">throws</span></div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯ï¼Œçº¯Swfitçš„Erroræ¡¥æ¥çš„Objective Cçš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜<br>å› ä¸ºNSErroréœ€è¦ domainå’Œcodeç­‰è¯¦ç»†ä¿¡æ¯<br>å¯ä»¥è®©Swiftçš„Errorå®ç°CustomNSErroråè®®ï¼Œæ¥æä¾›è¿™äº›éœ€è¦çš„ä¿¡æ¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">MarryError</span> : <span class="title">Error</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> lackMoney</div><div class="line">    <span class="keyword">case</span> wrongSex</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">MarryError</span> : <span class="title">CustomNSError</span></span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">let</span> errorDomain = <span class="string">"com.person.marryError"</span></div><div class="line">    <span class="keyword">var</span> erroCode:<span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .lackMoney:</div><div class="line">            <span class="keyword">return</span> -<span class="number">100001</span></div><div class="line">        <span class="keyword">case</span> .wrongSex:</div><div class="line">            <span class="keyword">return</span> -<span class="number">100002</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> errorUserInfo:[<span class="type">String</span>:<span class="type">Any</span>]&#123;</div><div class="line">        <span class="keyword">return</span> [:]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç›¸å…³çš„ï¼Œè¿˜æœ‰ä¸¤ä¸ªåè®®LocalizedErrorå’ŒRecoverableError</p></blockquote><h1 id="Swiftçš„é”™è¯¯å¤„ç†æ˜¯ç”¨æ¥å¤„ç†è¿è¡Œæ—¶é”™è¯¯çš„"><a href="#Swiftçš„é”™è¯¯å¤„ç†æ˜¯ç”¨æ¥å¤„ç†è¿è¡Œæ—¶é”™è¯¯çš„" class="headerlink" title="Swiftçš„é”™è¯¯å¤„ç†æ˜¯ç”¨æ¥å¤„ç†è¿è¡Œæ—¶é”™è¯¯çš„"></a>Swiftçš„é”™è¯¯å¤„ç†æ˜¯ç”¨æ¥å¤„ç†è¿è¡Œæ—¶é”™è¯¯çš„</h1><blockquote><p>å½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©æŠ“é”™è¯¯ï¼Œæˆ–è€…ç»§ç»­å¾€ä¸ŠæŠ›å‡ºé”™è¯¯ã€‚å½“ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯æœ€ç»ˆæ²¡åŠæ³•å¤„ç†çš„æ—¶å€™ï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚</p><p>Swiftä¸­æœ‰ä¸€ä¸ªç©ºçš„åè®®ç”¨æ¥ç»™ç”¨æˆ·è‡ªå®šä¹‰é”™è¯¯ã€‚ä¸€èˆ¬ä½¿ç”¨æšä¸¾ç±»å®ç°è¿™ä¸ªåè®®æ¥è‡ªå®šä¹‰é”™è¯¯ã€‚å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">ComputerError</span>: <span class="title">ErrorType</span> </span>&#123;  </div><div class="line">    <span class="keyword">case</span> <span class="type">NoGameError</span>  </div><div class="line">    <span class="keyword">case</span> <span class="type">MemoryError</span>  </div><div class="line">    <span class="keyword">case</span> <span class="type">HardDiskError</span>  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œå®šä¹‰äº†ä¸‰ç§errorã€‚å½“ä½ è¦æŠ›å‡ºä¸€ä¸ªerrorçš„æ—¶å€™ï¼Œä½¿ç”¨throwå…³é”®å­—ã€‚å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">throw</span> <span class="type">ComputerError</span>.<span class="type">NoGameError</span></div></pre></td></tr></table></figure><blockquote><p>å¯ä»¥æŠ›å‡ºé”™è¯¯çš„å‡½æ•°çš„å®šä¹‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">canThrowErrors</span><span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">String</span>  </div><div class="line">   </div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">cannotThrowErrors</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div></pre></td></tr></table></figure><blockquote><p>åˆ©ç”¨ä¸Šé¢çš„è¯­æ³•ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªComputerç±»ï¼Œè¿™ä¸ªç±»æœ‰ä¸€ä¸ªplayGameæ–¹æ³•ï¼Œå®ƒä¼šåœ¨æŸäº›æƒ…å†µä¸‹æŠ›å‡ºé”™è¯¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Computer</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> memory = <span class="number">1024</span>  </div><div class="line">    <span class="keyword">var</span> hardDisk = <span class="number">4000</span>  </div><div class="line">      </div><div class="line">    <span class="keyword">var</span> games = [  </div><div class="line">        <span class="string">"War3"</span>: <span class="type">Requirement</span>(memory: <span class="number">512</span>, <span class="type">HardDisk</span>: <span class="number">1500</span>),  </div><div class="line">        <span class="string">"LOL"</span>: <span class="type">Requirement</span>(memory: <span class="number">1500</span>, <span class="type">HardDisk</span>: <span class="number">3000</span>),  </div><div class="line">        <span class="string">"My World"</span>: <span class="type">Requirement</span>(memory: <span class="number">256</span>, <span class="type">HardDisk</span>: <span class="number">500</span>)]  </div><div class="line">      </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playGame</span><span class="params">(gameName: String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Bool</span>&#123;  </div><div class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> game = <span class="keyword">self</span>.games[gameName] <span class="keyword">else</span> &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="type">ComputerError</span>.<span class="type">NoGameError</span>  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">guard</span> game.<span class="type">HardDisk</span> &lt; <span class="keyword">self</span>.hardDisk <span class="keyword">else</span> &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="type">ComputerError</span>.<span class="type">HardDiskError</span>  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">guard</span> game.memory &lt; <span class="keyword">self</span>.memory <span class="keyword">else</span> &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="type">ComputerError</span>.<span class="type">MemoryError</span>  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼Œå¦‚æœä½ è¦è°ƒç”¨èƒ½æŠ›å‡ºé”™è¯¯çš„å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨tryã€try?æˆ–è€…try!å…³é”®å­—åœ¨å‰é¢ï¼Œå¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">try</span> myPC.playGame(<span class="string">"War4"</span>)   <span class="comment">//è¿™å¥ä¼šå› ä¸ºæ²¡æœ‰War4è¿™ä¸ªæ¸¸æˆè€ŒæŠ›å‡ºNoGameErroré”™è¯¯</span></div></pre></td></tr></table></figure><blockquote><p>ä¸‹é¢æ˜¯å¤„ç†é”™è¯¯çš„éƒ¨åˆ†ã€‚<br>å½“è°ƒç”¨ä¸€ä¸ªå¯ä»¥æŠ›å‡ºé”™è¯¯çš„æ–¹æ³•çš„æ—¶å€™ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§å¤„ç†æ–¹æ³•ã€‚<br>ç¬¬ä¸€ç§æ˜¯è°ƒç”¨è€…ç»§ç»­å‘ä¸ŠæŠ›å‡ºè¿™ä¸ªé”™è¯¯ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè°ƒç”¨è€…ä¹Ÿå¿…é¡»æ˜¯ä¸€ä¸ªå¯ä»¥æŠ›å‡ºé”™è¯¯çš„å‡½æ•°ã€‚å¦‚æœæœ€åæ²¡å¤„ç†è¿™ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆç¨‹åºå´©æºƒã€‚<br>ç¬¬äºŒç§æ˜¯ä½¿ç”¨doâ€¦catchè¯­å¥å¯¹é”™è¯¯è¿›è¡Œå¤„ç†ã€‚<br>ç¬¬ä¸‰ç§æ˜¯ä½¿ç”¨try?æˆ–try!è°ƒç”¨ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°</p><p>ç¬¬ä¸€ç§æ–¹æ³•ä¸¾ä¾‹ï¼Œå†å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œå®ƒçš„playæ–¹æ³•é‡Œé¢è°ƒç”¨äº†Computerçš„playGameæ–¹æ³•ï¼Œç„¶åç»§ç»­æŠ›å‡ºè¿™ä¸ªé”™è¯¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pc = <span class="type">Computer</span>()  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;  </div><div class="line">        <span class="keyword">try</span> <span class="keyword">self</span>.pc.playGame(<span class="string">"SC2"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç¬¬äºŒç§æ–¹æ³•ä¸¾ä¾‹ï¼Œä½¿ç”¨doâ€¦catchè¯­å¥å¤„ç†ã€‚åœ¨doèŒƒå›´é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ä¼šäº§ç”Ÿé”™è¯¯çš„æ–¹æ³•ã€‚æ¥ç€çš„catchè¯­å¥å¯ä»¥æ¥ä¸Šè¦å¤„ç†çš„é”™è¯¯ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pc = <span class="type">Computer</span>()  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">()</span></span> &#123;  </div><div class="line">        <span class="keyword">do</span> &#123;  </div><div class="line">            <span class="keyword">try</span> <span class="keyword">self</span>.pc.playGame(<span class="string">"LOL"</span>)  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"have fun"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">NoGameError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"NoGameError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">MemoryError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"MemoryError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">HardDiskError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"HardDiskError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"other error"</span>,error)  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å€¼å¾—æ³¨æ„çš„æ˜¯æœ€åä¸€ä¸ªcatchã€‚è¿™é‡Œå¹¶æ²¡æœ‰åŠ ä¸Šè¦å¤„ç†çš„é”™è¯¯ã€‚è¿™çš„catchä¼šæ•æ‰æ‰€æœ‰ç±»å‹çš„é”™è¯¯ã€‚<br>å¦å¤–è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä¸åŠ ä¸Šè¿™ä¸ªæ•æ‰æ‰€æœ‰ç±»å‹çš„catchè¯­å¥ã€‚è°ƒç”¨playGameçš„é‚£å¥ä¼šæŠ¥é”™è¯´catchæ²¡æœ‰ç©·å°½ä¼šæŠ›å‡ºçš„é”™è¯¯ã€‚ä½†æ˜¯æˆ‘åªæœ‰ä¸‰ä¸ªé”™è¯¯ï¼Œç…§ç†æ¥è®²åº”è¯¥æ˜¯å·²ç»ç©·å°½çš„äº†ã€‚ä¸çŸ¥é“æ˜¯Swiftçš„é—®é¢˜ï¼Œè¿˜æ˜¯æˆ‘ä»£ç å“ªé‡Œæœ‰é—®é¢˜ã€‚ä½†å¦‚æœæŠŠè¿™ä¸ªè°ƒç”¨æ”¾åˆ°main.swiftä¸­å»ï¼Œä¹Ÿæ˜¯åªä½¿ç”¨3ä¸ªcatchï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚æä¸æ‡‚ã€‚<br>æˆ‘ç°åœ¨çš„å¤„ç†æ–¹å¼æ˜¯æŠŠè¿™ä¸ªplayæ–¹æ³•ç»§ç»­å†™æˆä¸€ä¸ªå¯ä»¥æŠ›å‡ºé”™è¯¯çš„æ–¹æ³•ã€‚åªå¤„ç†è‡ªå®šä¹‰çš„ä¸‰ç§é”™è¯¯ã€‚å…¶ä»–é”™è¯¯å¾€ä¸ŠæŠ›</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pc = <span class="type">Computer</span>()  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;  </div><div class="line">        <span class="keyword">do</span> &#123;  </div><div class="line">            <span class="keyword">try</span> <span class="keyword">self</span>.pc.playGame(<span class="string">"LOL"</span>)  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"have fun"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">NoGameError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"NoGameError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">MemoryError</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"MemoryError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">HardDiskError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"HardDiskError"</span>)  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç¬¬ä¸‰ç§æ˜¯ä½¿ç”¨try?æˆ–try!è°ƒç”¨ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°ã€‚<br>åœ¨å®˜æ–¹æ–‡æ¡£é‡Œé¢ï¼Œå®ƒåŸæ„æ˜¯ä½¿ç”¨try?å»å¤„ç†ä¸€ä¸ªä¼šæŠ›å‡ºé”™è¯¯çš„æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•æŠ›å‡ºé”™è¯¯ï¼Œé‚£ä¹ˆä¼šå¾—åˆ°nilã€‚å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé‚£ä¹ˆå°†å‡½æ•°è¿”å›å€¼åŒ…è£…æˆå¯é€‰ç±»å‹åè¿”å›</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line"><span class="keyword">var</span> myPC = <span class="type">Computer</span>()  </div><div class="line"><span class="keyword">var</span> result = <span class="keyword">try</span>? myPC.playGame(<span class="string">"War3"</span>)   <span class="comment">//è¿™é‡ŒplayGameæ²¡æœ‰æŠ›å‡ºé”™è¯¯ï¼Œæ‰€ä»¥è¿”å›äº†Boolå¯é€‰ç±»å‹ï¼Œå€¼ä¸ºtrue</span></div></pre></td></tr></table></figure><p>ry!çš„åŒºåˆ«æ˜¯å®ƒé»˜è®¤è°ƒç”¨æ–¹æ³•æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œå¦‚æœè°ƒç”¨çš„æ–¹æ³•æŠ¥é”™ï¼Œé‚£ä¹ˆä¼šå¾—åˆ°è¿è¡Œæ—¶é”™è¯¯ã€‚å³ä½¿ä½ å°†è¿™ä¸ªtry!å†™åˆ°äº†ä¸€ä¸ªä¼šæŠ›å‡ºé”™è¯¯çš„æ–¹æ³•é‡Œé¢ï¼Œå®ƒä¹Ÿä¸ä¼šå‘ä¸ŠæŠ›å‡ºè¿™ä¸ªé”™è¯¯ã€‚è€Œæ˜¯ç›´æ¥å´©æºƒã€‚</p><p>try? ã€try!   å’Œtry ä¸‰è€…çš„åŒºåˆ«ï¼š</p><p>tryåœ¨ä¸€ä¸ªä¼šæŠ›å‡ºé”™è¯¯çš„æ–¹æ³•é‡Œé¢ï¼Œå®ƒä¼šæŠŠäº§ç”Ÿçš„é”™è¯¯äº¤ç”±catchå¤„ç†æˆ–è€…å‘ä¸ŠæŠ›å‡ºã€‚</p><p>try?æ˜¯å‡ºé”™çš„æ—¶å€™è¿”å›ä¸€ä¸ªnilï¼Œå±è”½é”™è¯¯ã€‚æ²¡é”™çš„è¯ï¼Œå°†ç»“æœåŒ…è£…æˆä¸€ä¸ªå¯é€‰ç±»å‹è¿”å›ã€‚</p><p>try!æ˜¯åœ¨æ²¡é”™çš„æƒ…å†µä¸‹è¿”å›å‡½æ•°è¿”å›å€¼ã€‚å‡ºé”™çš„æƒ…å†µä¸‹ç›´æ¥å´©æºƒã€‚é”™è¯¯ä¸ä¼šå†äº¤ç»™catchå¤„ç†æˆ–è€…å‘ä¸ŠæŠ›å‡ºã€‚</p><p>æ‰€ä»¥å¦‚æœåœ¨do catché‡Œé¢å°†tryæ”¹ä¸ºtry?æˆ–è€…try!ï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€ä¸ªè­¦å‘Šè¯´catchæ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚</p><h1 id="deferè¯­å¥"><a href="#deferè¯­å¥" class="headerlink" title="deferè¯­å¥"></a>deferè¯­å¥</h1><blockquote><p>ç†Ÿæ‚‰javaçš„æœ‹å‹åº”è¯¥çŸ¥é“finallyè¯­å¥ã€‚è¿™ä¸ªæ˜¯åœ¨try..catché‡Œé¢æ— è®ºæ˜¯å¦æœ‰é”™è¯¯ï¼Œåœ¨é€€å‡ºtry..catchèŒƒå›´çš„æ—¶å€™ï¼Œæœ€åéƒ½ä¼šæ‰§è¡ŒfinallyèŒƒå›´å†…çš„ä»£ç ã€‚ä¸€èˆ¬æ˜¯ç”¨æ¥åšä¸€äº›è¯¸å¦‚å…³é—­æ–‡ä»¶çš„å·¥ä½œã€‚å› ä¸ºæ— è®ºå‡ºä¸å‡ºé”™ï¼Œæœ€åéƒ½å¿…é¡»å…³é—­æ‰“å¼€çš„æ–‡ä»¶ã€‚<br>Swiftä¹Ÿå¼„äº†ä¸€ä¸ªdeferè¯­å¥ï¼ŒåŒæ ·ä¹Ÿæ˜¯æƒ³åœ¨æœ€ååšè¿™æ ·çš„ä¸€äº›äº‹æƒ…ã€‚ä½†æ˜¯è¿™ä¸ªdeferè¿œè¿œæ²¡æœ‰finallyé‚£ä¹ˆå¥½ç”¨ã€‚<br>å…ˆæ¥å¼€å¼€deferçš„è¯­æ³•ã€‚å­¦è¿‡javaçš„æœ‹å‹çŸ¥é“finallyåªèƒ½ç”¨åœ¨try..catché‡Œé¢ã€‚ä½†æ˜¯deferå¯ä»¥ä¸ç”¨åœ¨do..catché‡Œé¢ã€‚å¹¶ä¸”deferé‡Œé¢ä¸èƒ½ç”¨returnã€breakæˆ–è€…æŠ›å‡ºé”™è¯¯çš„è¯­å¥ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ²¡æœ‰ç”¨åœ¨do..catchä¸­çš„ä¾‹å­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">readFile</span><span class="params">()</span></span> &#123;  </div><div class="line">    <span class="keyword">defer</span> &#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Close file"</span>)  </div><div class="line">    &#125;  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"Open file"</span>)  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"Deal with file"</span>)  </div><div class="line">&#125;  </div><div class="line">readFile()  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//Open file  </span></div><div class="line"><span class="comment">//Deal with file  </span></div><div class="line"><span class="comment">//Close file</span></div></pre></td></tr></table></figure><blockquote><p>ç•™æ„ä¸Šé¢çš„æ‰“å°é¡ºåºï¼Œå¯ä»¥çœ‹å‡ºdeferä¸­çš„è¯­å¥æ˜¯åœ¨æœ€åæ‰æ‰§è¡Œçš„ã€‚å•ä»è¿™é‡Œçœ‹ï¼Œå’Œè®¾è®¡åˆè¡·ä¸€è‡´ï¼šåœ¨æœ€åé¢æ‰æ‰§è¡Œã€‚<br>ä½†æ˜¯ä¸€æ—¦å°†è¿™ä¸ªdeferç”¨åˆ°do..catché‡Œé¢ï¼Œä½ å°±ä¼šè§‰å¾—å¾ˆæ¶å¿ƒã€‚<br>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå’Œæˆ‘ä»¬æƒ³è±¡ä¸­ä¸€è‡´çš„ä»£ç ï¼Œé¦–å…ˆæ”¹å†™ä¸Šé¢ç”¨åˆ°çš„Personç±»ã€‚æˆ‘ä»¬çš„åŸæ„æ˜¯è¿™æ ·çš„ï¼šPersonçš„playæ–¹æ³•è°ƒç”¨äº†Computerçš„ä¼šäº§ç”Ÿé”™è¯¯çš„playGameæ–¹æ³•ã€‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªresultçš„å¯é€‰å˜é‡ï¼Œç”¨äºæ¥æ”¶playGameæ–¹æ³•çš„è¿”å›å€¼ã€‚åœ¨é€€å‡ºdo..catchçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨deferè¯­å¥ã€‚æˆ‘ä»¬åœ¨é‡Œé¢åˆ¤æ–­resultæ˜¯å¦ä¸ºnilã€‚ç„¶åè¾“å‡ºå¿ƒæƒ…ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pc = <span class="type">Computer</span>()  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;  </div><div class="line">        <span class="keyword">do</span> &#123;  </div><div class="line">            <span class="keyword">var</span> result: <span class="type">Bool</span>?  </div><div class="line">            <span class="keyword">defer</span> &#123;  </div><div class="line">                <span class="keyword">if</span> result != <span class="literal">nil</span> &#123;  </div><div class="line">                    <span class="built_in">print</span>(<span class="string">"have fun"</span>)  </div><div class="line">                &#125; <span class="keyword">else</span> &#123;  </div><div class="line">                    <span class="built_in">print</span>(<span class="string">"sad"</span>)  </div><div class="line">                &#125;  </div><div class="line">            &#125;  </div><div class="line">            result = <span class="keyword">try</span> <span class="keyword">self</span>.pc.playGame(<span class="string">"LOL"</span>)  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"playGame"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">NoGameError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"NoGameError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">MemoryError</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"MemoryError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">HardDiskError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"HardDiskError"</span>)  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç„¶åæˆ‘ä»¬æ‰§è¡Œä¸‹é¢ä»£ç ï¼Œå› ä¸ºé»˜è®¤çš„Computerç±»çš„hardDiskä¸è¶³ã€‚æ‰€ä»¥ä¼šæŠ¥MemoryErroré”™è¯¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> p = <span class="type">Person</span>()  </div><div class="line"><span class="keyword">try</span> p.play()  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//sad  </span></div><div class="line"><span class="comment">//MemoryError</span></div></pre></td></tr></table></figure><blockquote><p>æ³¨æ„æ‰“å°é¡ºåºï¼Œå¯ä»¥çœ‹å‡ºdeferæ˜¯å…ˆä¸catchæ‰§è¡Œçš„ã€‚è¿™ä¸ªå’Œjavaçš„finallyæ˜¯ä¸ä¸€æ ·çš„ã€‚finallyæ˜¯åœ¨catchæ‰§è¡Œå®Œåæ‰§è¡Œã€‚å…¶æ¬¡æ˜¯playGameæ²¡æœ‰æ‰“å°ï¼Œè¯´æ˜æŠ¥é”™ä¹‹åçš„è¯­å¥ä¸ä¼šæ‰§è¡Œã€‚<br>å¦‚æœplayGameçš„å‚æ•°æ˜¯â€œWar3â€ï¼Œé‚£ä¹ˆç¨‹åºä¸ä¼šæŠ¥é”™ã€‚è¾“å‡ºæ˜¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> playGame  </div><div class="line">have fun</div></pre></td></tr></table></figure><blockquote><p>ä»ä»¥ä¸Šæ¥çœ‹ï¼Œä¼¼ä¹è¿˜æ˜¯ç¬¦åˆæˆ‘ä»¬çš„åŸæ„ã€‚<br>ä½†æ˜¯å½“ä½ æŠŠdeferçš„ä½ç½®æ”¹æ”¹ï¼Œå˜ä¸ºä¸‹é¢è¿™æ ·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pc = <span class="type">Computer</span>()  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;  </div><div class="line">        <span class="keyword">do</span> &#123;  </div><div class="line">            <span class="keyword">var</span> result: <span class="type">Bool</span>?  </div><div class="line">            result = <span class="keyword">try</span> <span class="keyword">self</span>.pc.playGame(<span class="string">"LOL"</span>)  </div><div class="line">            <span class="keyword">defer</span> &#123;  </div><div class="line">                <span class="keyword">if</span> result != <span class="literal">nil</span> &#123;  </div><div class="line">                    <span class="built_in">print</span>(<span class="string">"have fun"</span>)  </div><div class="line">                &#125; <span class="keyword">else</span> &#123;  </div><div class="line">                    <span class="built_in">print</span>(<span class="string">"sad"</span>)  </div><div class="line">                &#125;  </div><div class="line">            &#125;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"playGame"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">NoGameError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"NoGameError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">MemoryError</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"MemoryError"</span>)  </div><div class="line">        &#125; <span class="keyword">catch</span> <span class="type">ComputerError</span>.<span class="type">HardDiskError</span> &#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"HardDiskError"</span>)  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä½ ä¼šå‘ç°è¾“å‡ºåªæœ‰ä¸€ä¸ªMemoryErrorã€‚ä¹Ÿå°±æ˜¯è¯´å½“å®šä¹‰deferå‰é¢çš„è¯­å¥æŠ¥é”™ä¹‹åï¼Œdeferå¾—ä¸åˆ°æ‰§è¡Œã€‚è¿™æ ·å°±è¦æ±‚è¿™ä¸ªdeferå¿…é¡»å†™åœ¨ä¸€ä¸ªåˆç†çš„ä½ç½®æ‰è¡Œã€‚</p></blockquote><h2 id="å¦å¤–å¦‚æœæˆ‘ä»¬å†æ”¹æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨try"><a href="#å¦å¤–å¦‚æœæˆ‘ä»¬å†æ”¹æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨try" class="headerlink" title="å¦å¤–å¦‚æœæˆ‘ä»¬å†æ”¹æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨try!"></a>å¦å¤–å¦‚æœæˆ‘ä»¬å†æ”¹æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨try!</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line">ä½ ä¼šå‘ç°è¾“å‡ºåªæœ‰ä¸€ä¸ª<span class="type">MemoryError</span>ã€‚ä¹Ÿå°±æ˜¯è¯´å½“å®šä¹‰<span class="keyword">defer</span>å‰é¢çš„è¯­å¥æŠ¥é”™ä¹‹åï¼Œ<span class="keyword">defer</span>å¾—ä¸åˆ°æ‰§è¡Œã€‚è¿™æ ·å°±è¦æ±‚è¿™ä¸ª<span class="keyword">defer</span>å¿…é¡»å†™åœ¨ä¸€ä¸ªåˆç†çš„ä½ç½®æ‰è¡Œã€‚</div><div class="line"></div><div class="line">å¦å¤–å¦‚æœæˆ‘ä»¬å†æ”¹æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨<span class="keyword">try</span>!</div></pre></td></tr></table></figure><blockquote><p>è¿™æ—¶å€™ä»€ä¹ˆéƒ½æ²¡æœ‰æ‰“å°ï¼Œç¨‹åºç›´æ¥å´©æºƒæ‰äº†ã€‚è¿™ä¸ªdeferçš„åˆè¡·å®Œå…¨ä¸åŒã€‚<br>Swiftçš„é”™è¯¯å¤„ç†ä¹Ÿæ˜¯è¿‘å‡ ä¸ªç‰ˆæœ¬æ‰å‡ºç°çš„ã€‚ä¼°è®¡ä»¥åä¼šç»§ç»­æ”¹è¿›</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> Error </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Optional Chaining-å¯é€‰é“¾</title>
      <link href="/2017/12/01/Swift/Grammar/%E5%8F%AF%E9%80%89%E9%93%BE/"/>
      <content type="html"><![CDATA[<h1 id="å¯é€‰é“¾ï¼ˆOptional-Chaining"><a href="#å¯é€‰é“¾ï¼ˆOptional-Chaining" class="headerlink" title="å¯é€‰é“¾ï¼ˆOptional Chaining"></a>å¯é€‰é“¾ï¼ˆOptional Chaining</h1><blockquote><p>å›é¡¾ä¸€ä¸‹å¯é€‰ç±»å‹ï¼Œå½“ä½ è¦ä½¿ç”¨å¯é€‰ç±»å‹çš„æ—¶å€™ï¼Œé¦–å…ˆå¿…é¡»è¦å¯¹å…¶è¿›è¡Œè§£åŒ…ã€‚<br>ä½†æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœå¯¹ä¸€ä¸ªä¸ºnilçš„å¯é€‰ç±»å‹è¿›è¡Œå¼ºåˆ¶è§£åŒ…çš„è¯ï¼Œé‚£ä¹ˆä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯ã€‚ç¬¬ä¸€ç§è§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨ifè¯­å¥å…ˆåˆ¤æ–­è¿™ä¸ªå¯é€‰ç±»å‹æ˜¯å¦ä¸ºnilï¼Œç„¶ååœ¨è®¿é—®å…¶å±æ€§æˆ–æ–¹æ³•ã€‚ä½†æ˜¯ååˆ†ç¹çã€‚è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªå¯é€‰ç±»å‹é‡Œé¢è®¿é—®çš„å±æ€§è¿˜æ˜¯å¯é€‰ç±»å‹çš„æƒ…å†µå§ï¼Œå¤šå‡ å±‚çš„æ—¶å€™ï¼Œifçš„å±‚æ•°æƒ¨ä¸å¿ç¹ã€‚<br>ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³åŠæ³•å°±æ˜¯åˆ©ç”¨å¯é€‰é“¾ï¼ˆOptional Chainingï¼‰<br>è¯­æ³•å¾ˆç®€å•ï¼ŒæŠŠä¸­é—´éœ€è¦è§£åŒ…çš„å¯é€‰ç±»å‹çš„å¼ºåˆ¶è§£åŒ…ç¬¦å·!æ›¿æ¢æˆï¼Ÿ</p><p>ä¼ªä»£ç ä¾‹å­  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> å¯é€‰é“¾è¿”å›å€¼çš„è§£åŒ… = å¯é€‰ç±»å‹<span class="number">1</span>?.å¯é€‰ç±»å‹<span class="number">2</span>?.è¿”å›å¯é€‰ç±»å‹çš„æ–¹æ³•<span class="number">1</span>?.å¯é€‰ç±»å‹<span class="number">3</span> &#123;  </div><div class="line">   <span class="comment">//&lt;span style="font-family: Arial, Helvetica, sans-serif;"&gt;å¯é€‰é“¾è¿”å›å€¼&lt;/span&gt;ä¸ä¸ºnil  </span></div><div class="line">&#125; <span class="keyword">else</span> &#123;  </div><div class="line">   <span class="comment">//&lt;span style="font-family: Arial, Helvetica, sans-serif;"&gt;å¯é€‰é“¾è¿”å›å€¼&lt;/span&gt;ä¸ºnil  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è§£é‡Šï¼š</p><ul><li>é¦–å…ˆæ£€æµ‹å¯é€‰ç±»å‹1æ˜¯å¦ä¸ºnilï¼Œå¦‚æœä¸ä¼šnilï¼Œé‚£ä¹ˆè§£åŒ…ã€‚</li><li>ç„¶åæ£€æŸ¥å¯é€‰ç±»å‹1çš„å±æ€§â€”â€”å¯é€‰ç±»å‹2æ˜¯å¦ä¸ºnilï¼Œä¸ä¸ºnilï¼Œè§£åŒ…ã€‚</li><li>ç„¶åè°ƒç”¨å¯é€‰ç±»å‹2çš„ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯é€‰ç±»å‹.æˆè¿™ä¸ªå¯é€‰ç±»å‹ä¸ºå¯é€‰ç±»å‹Aå§ã€‚</li><li>ç„¶åå†å¯¹è¿™ä¸ªå¯é€‰ç±»å‹Aè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¸ä¸ºnilï¼Œè§£åŒ…ã€‚</li><li>æœ€ååˆ©ç”¨ifè¯­å¥å¯¹å¯é€‰ç±»å‹Açš„å±æ€§â€”â€”å¯é€‰ç±»å‹3è¿›è¡Œåˆ¤æ–­å¤„ç†</li></ul><p>æ„ç‚¹ï¼š</p><ul><li>1ã€å¦‚æœå‰é¢çš„æ¯ä¸€æ¬¡åˆ¤æ–­æœ‰ä¸€ä¸ªä¸ºniläº†ã€‚é‚£ä¹ˆè¿™ä¸ªå¯é€‰é“¾ç›´æ¥è¿”å›nilï¼Œä¸ä¼šå†å¯¹åé¢çš„å¯é€‰é“¾è¿›è¡Œå¤„ç†ã€‚</li><li>2ã€å¯é€‰é“¾è¿”å›çš„ç±»å‹æ˜¯å¯é€‰é“¾ä¸­æœ€åä¸€ä¸ªç±»å‹å¯¹åº”çš„å¯é€‰ç±»å‹ã€‚å‡è®¾ä¸Šé¢ä¼ªä»£ç ä¸­æœ€åä¸€ä¸ªå¯é€‰ç±»å‹3æ”¹ä¸ºä¸€ä¸ªéå¯é€‰ç±»å‹3ï¼ˆæ¯”å¦‚Intï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾è¿”å›çš„æ˜¯å…¶å¯¹åº”çš„å¯é€‰ç±»å‹Int?</li><li>3ã€å¯é€‰é“¾æœ€åä¸èƒ½å†ç”¨?è¿›è¡Œè§£åŒ…ï¼Œå¿…é¡»ç”¨!ã€‚ä½†æ˜¯ç”¨!å°±ä¼šäº§ç”Ÿå½“å¯é€‰ç±»å‹ä¸ºnilæ—¶æŠ¥é”™çš„æƒ…å†µã€‚æ‰€ä»¥ä¸ºäº†åˆ¤æ–­æ˜¯å¦ä¸ºnilï¼Œåªèƒ½ç”¨if</li></ul><p>ä¸Šé¢çš„ä¼ªä»£ç æ˜¯è®¿é—®å¯é€‰ç±»å‹çš„ä¾‹å­ã€‚å¯¹äºç»™å¯é€‰é“¾èµ‹å€¼çš„ä¾‹å­çš„ä¼ªä»£ç å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  å¯é€‰ç±»å‹<span class="number">1</span>?.å¯é€‰ç±»å‹<span class="number">2</span>?.è¿”å›å¯é€‰ç±»å‹çš„æ–¹æ³•<span class="number">1</span>?.ç±»å‹<span class="number">3</span> = èµ‹å€¼    <span class="comment">//è¿™å¥ä¸­çš„ç±»å‹3å¯ä»¥æ˜¯å¯é€‰ç±»å‹ä¹Ÿå¯ä»¥æ˜¯éå¯é€‰ç±»å‹ã€‚èµ‹å€¼æˆåŠŸä¸å¦éƒ½ä¸ä¼šæŠ¥é”™ã€‚  </span></div><div class="line">  </div><div class="line"><span class="comment">//å€ŸåŠ©ifè¯­å¥åˆ¤æ–­æ˜¯å¦èµ‹å€¼æˆåŠŸ  </span></div><div class="line"><span class="keyword">if</span> (å¯é€‰ç±»å‹<span class="number">1</span>?.å¯é€‰ç±»å‹<span class="number">2</span>?.è¿”å›å¯é€‰ç±»å‹çš„æ–¹æ³•<span class="number">1</span>?.å¯é€‰ç±»å‹<span class="number">3</span> = èµ‹å€¼ ) != <span class="literal">nil</span> &#123;  <span class="comment">//&lt;span style="color:#ff0000;"&gt;æ³¨æ„ifä¸­èµ‹å€¼è¯­å¥çš„è¿”å›å€¼æ˜¯Void?&lt;/span&gt;  </span></div><div class="line">    <span class="comment">//èµ‹å€¼æˆåŠŸ  </span></div><div class="line">&#125; <span class="keyword">else</span> &#123;  </div><div class="line">    <span class="comment">//èµ‹å€¼å¤±è´¥  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¾‹å­ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CPU</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">getClockSpeed</span><span class="params">()</span></span> -&gt; <span class="type">Double</span>? &#123;  </div><div class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.name != <span class="literal">nil</span> &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="number">1.2</span>  </div><div class="line">        &#125; <span class="keyword">else</span> &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span>  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Computer</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> cpu: <span class="type">CPU</span>?  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> <span class="built_in">c</span> = <span class="type">Computer</span>()  </div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.cpu?.name = <span class="string">"fef"</span>)  <span class="comment">//è¿™å¥å¯é€‰é“¾çš„ç±»å‹æ˜¯Void?ï¼Œæ‰“å° nil  </span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.cpu?.name)   <span class="comment">//è¿™å¥å¯é€‰é“¾çš„ç±»å‹æ˜¯String?ï¼Œæ‰“å° nil  </span></div><div class="line"><span class="built_in">c</span>.cpu = <span class="type">CPU</span>()  </div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.cpu?.getClockSpeed()?.isZero)  <span class="comment">//è¿™å¥å¯é€‰é“¾çš„ç±»å‹æ˜¯Bool? ,æ‰“å° nil  </span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.cpu?.name = <span class="string">"Intel"</span>)    <span class="comment">//è¿™å¥å¯é€‰é“¾çš„ç±»å‹æ˜¯Void?ï¼Œæ‰“å° Optional(())  </span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.cpu?.name)          <span class="comment">//è¿™å¥å¯é€‰é“¾ç±»å‹æ˜¯String?ï¼Œæ‰“å° Optional("Intel")  </span></div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.cpu?.getClockSpeed()?.isZero)    <span class="comment">//è¿™å¥å¯é€‰é“¾çš„ç±»å‹æ˜¯Bool? ,æ‰“å° Optional(false)</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-ARC-è‡ªåŠ¨å¼•ç”¨è®¡æ•°</title>
      <link href="/2017/12/01/Swift/Grammar/ARC-%E8%87%AA%E5%8A%A8%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0/"/>
      <content type="html"><![CDATA[<h1 id="ARC-è‡ªåŠ¨å¼•ç”¨è®¡æ•°"><a href="#ARC-è‡ªåŠ¨å¼•ç”¨è®¡æ•°" class="headerlink" title="ARC è‡ªåŠ¨å¼•ç”¨è®¡æ•°"></a>ARC è‡ªåŠ¨å¼•ç”¨è®¡æ•°</h1><h2 id="Swiftå¼•å…¥ARC"><a href="#Swiftå¼•å…¥ARC" class="headerlink" title="Swiftå¼•å…¥ARC"></a>Swiftå¼•å…¥ARC</h2><blockquote><p>å¯¹äºç±»å®ä¾‹ï¼Œå®ƒå¯èƒ½å­˜åœ¨è¢«å¤šä¸ªå˜é‡å¼•ç”¨çš„æƒ…å†µ<br>å¦‚æœåœ¨è¿˜æœ‰å˜é‡å¼•ç”¨çš„æƒ…å†µä¸‹é‡Šæ”¾äº†æ”¹å®ä¾‹çš„è¯ï¼Œé‚£ä¹ˆå…¶ä»–å˜é‡å†å°è¯•è®¿é—®è¿™ä¸ªå®ä¾‹çš„æ–¹æ³•æˆ–å±æ€§çš„æ—¶å€™ï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚æ‰€ä»¥å¿…é¡»ç¡®ä¿åœ¨ä»¥åéƒ½æ²¡æœ‰å˜é‡ä½¿ç”¨è¿™ä¸ªå®ä¾‹çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½å»é‡Šæ”¾è¿™ä¸ªå®ä¾‹<br>å¯¹äºå€¼ç±»å‹ï¼ˆç»“æ„ä½“ç­‰ï¼‰ï¼Œå› ä¸ºä¸å­˜åœ¨å¤šä¸ªå˜é‡å¯¹åº”ä¸€ä¸ªå®ä¾‹çš„æƒ…å†µï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ä¸Šè¿°é—®é¢˜<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒSwiftä½¿ç”¨è‡ªåŠ¨å¼•ç”¨è®¡æ•°(ARC)æ¥ç®¡ç†å†…å­˜ã€‚å®ƒåªå¯¹å¼•ç”¨ç±»å‹èµ·ä½œç”¨ï¼Œå¯¹äºå€¼ç±»å‹ä¸èµ·ä½œç”¨</p></blockquote><h2 id="å¼•ç”¨è®¡æ•°çš„æ¦‚å¿µ"><a href="#å¼•ç”¨è®¡æ•°çš„æ¦‚å¿µ" class="headerlink" title="å¼•ç”¨è®¡æ•°çš„æ¦‚å¿µ"></a>å¼•ç”¨è®¡æ•°çš„æ¦‚å¿µ</h2><blockquote><p>å½“ä½ ç»™ä¸€ä¸ªåˆ›å»ºä¸€ä¸ªç±»å®ä¾‹ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªç±»å®ä¾‹èµ‹å€¼ç»™æŸä¸ªå˜é‡æˆ–å¸¸é‡çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡æˆ–å¸¸é‡å°±â€œæ‹¥æœ‰â€è¿™ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬ç§°ä¸ºæœ‰äº†ä¸€ä¸ªâ€œå¼ºå¼•ç”¨â€ã€‚<br>æ‰€è°“çš„å¼•ç”¨è®¡æ•°ï¼Œå°±æ˜¯è¿™ä¸ªå®ä¾‹è¢«å¤šå°‘ä¸ªå¸¸é‡æˆ–å˜é‡å¼ºå¼•ç”¨äº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">deinit</span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"deinit"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="keyword">var</span> a:<span class="type">Apple</span>! = <span class="type">Apple</span>()</div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢è¿™æœ€åä¸€å¥ä»£ç å°±æ˜¯å˜é‡aå¯¹ä¸€ä¸ªAppleç±»çš„å®ä¾‹æœ‰äº†ä¸€ä¸ªå¼ºå¼•ç”¨ã€‚è¿™æ—¶å€™è¿™ä¸ªå®ä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º1ã€‚<br>å› ä¸ºç±»å®ä¾‹æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠè¿™ä¸ªå¼•ç”¨ä¼ é€’ç»™å…¶ä»–çš„å¸¸é‡æˆ–å˜é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> b = a  </div><div class="line"><span class="keyword">let</span> v = a</div></pre></td></tr></table></figure><blockquote><p>è¿™æ—¶å€™è¿™ä¸ªå®ä¾‹å°±è¢«ä¸‰ä¸ªå˜é‡æˆ–å¸¸é‡æ‰€å¼•ç”¨ï¼Œè¿™ä¸ªæ—¶å€™å®ƒçš„å¼•ç”¨è®¡æ•°ä¸º3.<br>å½“ä½ æŠŠå…¶ä¸­çš„bè®¾ä¸ºnilçš„æ—¶å€™ï¼Œå¼•ç”¨è®¡æ•°å°±ä¼šå˜ä¸º2.<br>å½“è¯¥å®ä¾‹çš„å¼•ç”¨è®¡æ•°å˜ä¸º0çš„æ—¶å€™ï¼Œè¿™ä¸ªå®ä¾‹å°±ä¼šè¢«é”€æ¯ï¼Œé”€æ¯çš„æ—¶å€™å°±ä¼šè°ƒç”¨å®ƒçš„deinitæ–¹æ³•ã€‚æ³¨ï¼šå› ä¸ºä¸Šé¢ç”¨äº†å¸¸é‡ï¼Œæ‰€ä»¥ä¸èƒ½æ‰‹åŠ¨æŠŠå¸¸é‡è®¾ä¸ºnilï¼Œåªèƒ½ç­‰è¿™ä¸ªå¸¸é‡ç¦»å¼€ä½œç”¨åŸŸåè¢«ç³»ç»Ÿè‡ªåŠ¨é”€æ¯ã€‚(å¦‚æœä½ æ˜¯åœ¨main.swiftçš„å…¨å±€ä¸­å®šä¹‰è¿™äº›å˜é‡æˆ–å¸¸é‡çš„è¯ï¼Œå› ä¸ºåœ¨mainæ‰§è¡Œå®Œä¹‹åæ‰ä¼šé‡Šæ”¾è¿™äº›å˜é‡æˆ–å¸¸é‡ï¼Œæ‰€ä»¥ä¸ä¼šæ‰“å°deinitã€‚ä½†æ˜¯ä½ å¯ä»¥æŠŠä»–ä»¬æ”¾åˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œç„¶ååœ¨main.swifté‡Œé¢è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚å½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œä¹‹åï¼Œè¿™äº›å˜é‡æˆ–å¸¸é‡å°±ä¼šè¢«é‡Šæ”¾ã€‚)</p><p>è‡ªåŠ¨å¼•ç”¨è®¡æ•°çš„è§„ï¼š</p></blockquote><ul><li><p>1ã€èµ‹å€¼ç»™ä¸åŠ ä¿®é¥°ç¬¦çš„å¸¸é‡å’Œå˜é‡çš„æ—¶å€™ï¼Œå®ä¾‹çš„å¼•ç”¨è®¡æ•°åŠ 1ã€‚</p></li><li><p>2ã€å½“ä¸€ä¸ªå˜é‡è®¾ä¸ºnilï¼Œæˆ–è€…å˜é‡(å¸¸é‡)ç¦»å¼€ä½œç”¨åŸŸçš„æ—¶å€™ï¼Œè¿™ä¸ªå¸¸é‡æˆ–å˜é‡æ‰€å¼•ç”¨å®ä¾‹çš„å¼•ç”¨è®¡æ•°å‡1ã€‚</p></li><li><p>3ã€å½“ä¸€ä¸ªå®ä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º0çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šè¢«é”€æ¯ã€‚</p></li></ul><p>ä½†æ˜¯ä¸Šé¢çœ‹ä¼¼ç®€å•çš„è§„åˆ™ä¹Ÿä¼šæœ‰å¾ˆå¤šé—®é¢˜ã€‚æ¯”å¦‚ä¸‹é¢çš„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p><p>å…ˆå®šä¹‰ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªTelephoneç±»å’Œä¸€ä¸ªPersonç±»ã€‚Telephoneç±»æœ‰ä¸€ä¸ªPersonç±»çš„å±æ€§ï¼ŒPersonç±»é‡Œé¢æœ‰ä¸€ä¸ªTelephoneç±»çš„å±æ€§</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Telephone</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> person: <span class="type">Person</span>?  </div><div class="line">    <span class="keyword">deinit</span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Telephone deinit"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> telephone: <span class="type">Telephone</span>?  </div><div class="line">    <span class="keyword">deinit</span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Person deinit"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®šä¹‰ä¸€ä¸ªPersonç±»çš„å®ä¾‹å’Œä¸€ä¸ªTelephoneç±»çš„å®ä¾‹ã€‚å¹¶å¯¹ä»–ä»¬èµ‹å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line"><span class="keyword">var</span> person = <span class="type">Person</span>()  </div><div class="line"><span class="keyword">var</span> telephone = <span class="type">Telephone</span>()  </div><div class="line">person.telephone = telephone  </div><div class="line">telephone.person = person</div></pre></td></tr></table></figure><blockquote><p>ä¸‹é¢åˆ†æä¸€ä¸‹Personå®ä¾‹å’ŒTelephoneå®ä¾‹çš„å¼•ç”¨è®¡æ•°ã€‚</p><p>åœ¨å®šä¹‰Personå®ä¾‹çš„æ—¶å€™ï¼Œèµ‹å€¼ç»™äº†å˜é‡personï¼Œæ‰€ä»¥ç¬¬ä¸€å¥ä»£ç åï¼ŒPersonå®ä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º1ã€‚åŒæ ·ç¬¬äºŒå¥ä»£ç åï¼ŒTelephoneå®ä¾‹çš„å¼•ç”¨è®¡æ•°ä¹Ÿä¸º1ã€‚</p><p>ç„¶åç¬¬ä¸‰å¥ä»£ç æŠŠtelephoneèµ‹å€¼ç»™äº†person.telephoneã€‚ä¹Ÿå°±æ˜¯person.telephoneä¹Ÿå¯¹è¿™ä¸ªTelephoneå®ä¾‹æœ‰äº†å¼ºå¼•ç”¨ï¼Œè¿™æ—¶å€™Telephoneå®ä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º2ã€‚</p><p>åŒæ ·ï¼Œç¬¬å››å±€è¿‡åï¼ŒPersonå®ä¾‹çš„å¼•ç”¨è®¡æ•°ä¹Ÿä¸º2ã€‚</p><p>ç°åœ¨çš„çŠ¶æ€æ˜¯ä¸€ä¸ªPersonå®ä¾‹å¼ºå¼•ç”¨äº†ä¸€ä¸ªTelephoneå®ä¾‹ï¼Œè¿™ä¸ªTelephoneå®ä¾‹åˆå¼ºå¼•ç”¨äº†è¿™ä¸ªPersonå®ä¾‹ã€‚ä½ å¼ºå¼•ç”¨æˆ‘ï¼Œæˆ‘å¼ºå¼•ç”¨ä½ ã€‚è¿™æ ·å°±æˆäº†ä¸€ä¸ªå¾ªç¯å¼•ç”¨ã€‚</p><p>æ¥ç€æ‰§è¡Œä¸‹é¢ä»£ç ï¼Œpersonå˜é‡å’Œtelephoneå˜é‡é‡Šæ”¾å¯¹å®ä¾‹çš„å¼ºå¼•ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> person = <span class="literal">nil</span>  </div><div class="line">telephone = <span class="literal">nil</span></div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯Personå®ä¾‹ä¸­çš„telephoneå±æ€§ä»ç„¶å¼ºå¼•ç”¨ç€Telephoneå®ä¾‹ã€‚åŒæ ·çš„Telephoneå®ä¾‹çš„personå±æ€§ä¹Ÿå¼•ç”¨ç€Personå®ä¾‹ã€‚æ‰€ä»¥Personå®ä¾‹å’ŒTelephoneå®ä¾‹çš„å¼•ç”¨è®¡æ•°éƒ½ä¸º1ã€‚ä½†æ­¤æ—¶æˆ‘ä»¬å·²ç»æ²¡åŠæ³•å†è®¿é—®Personå’ŒTelephoneçš„å®ä¾‹äº†ã€‚åŒæ—¶åˆå› ä¸ºä»–ä»¬çš„å¼•ç”¨è®¡æ•°éƒ½ä¸º1ï¼Œç³»ç»Ÿä¹Ÿä¸ä¼šé‡Šæ”¾ä»–ä»¬ã€‚è¿™æ ·å°±é€ æˆäº†å†…å­˜æ³„éœ²ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ç§å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼ŒåŠæ³•å°±æ˜¯æˆªæ–­è¿™ä¸ªå¾ªç¯ã€‚<br>ç¬¬ä¸€ç§ç¬¨ç¬¨çš„è§£å†³æ–¹æ³•å°±æ˜¯åœ¨ä½ æŠŠpersonæˆ–telephoneå˜é‡è®¾ä¸ºnilä¹‹å‰ï¼ŒæŠŠperson.telephoneæˆ–telephone.personè®¾ä¸ºnilã€‚è¿™æ ·å°±æ‰‹åŠ¨åˆ‡æ–­äº†å¾ªç¯å¼•ç”¨ã€‚<br>è€Œé€šç”¨çš„è§£å†³æ–¹æ³•å°±æ˜¯å¼•ç”¨ä¸€ä¸ªæ–°æ¦‚å¿µâ€”â€”å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰<br>å¼±å¼•ç”¨å’Œå¼ºå¼•ç”¨æœ€å¤§åŒºåˆ«å°±æ˜¯ï¼šå½“ä½ æŠŠä¸€ä¸ªå®ä¾‹èµ‹å€¼ç»™ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡çš„æ—¶å€™ï¼Œè¿™ä¸ªå˜é‡çš„å¼•ç”¨è®¡æ•°ä¸ä¼šåŠ 1ã€‚<br>ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œåœ¨å®šä¹‰å˜é‡çš„æ—¶å€™åœ¨æœ€å‰é¢åŠ ä¸Šweakå…³é”®å­—ã€‚ä¸‹é¢æˆ‘ä»¬é‡æ–°å®šä¹‰Personç±»å’ŒTelephoneç±»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Telephone</span> </span>&#123;  </div><div class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> person: <span class="type">Person</span>?   <span class="comment">//æŠŠè¿™ä¸ªå˜é‡å®šä¹‰ä¸ºäº†ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡  </span></div><div class="line">    <span class="keyword">deinit</span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Telephone deinit"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> telephone: <span class="type">Telephone</span>?  </div><div class="line">    <span class="keyword">deinit</span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Person deinit"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç„¶åæˆ‘ä»¬å†æ¬¡è°ƒç”¨ä¸‹é¢çš„ä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> person: <span class="type">Person</span>? = <span class="type">Person</span>()  </div><div class="line"><span class="keyword">var</span> telephone: <span class="type">Telephone</span>? = <span class="type">Telephone</span>()  </div><div class="line">person!.telephone = telephone  </div><div class="line">telephone!.person = person     <span class="comment">//ç¬¬4å¥  </span></div><div class="line">person = <span class="literal">nil</span>                 <span class="comment">// æ‰§è¡Œå®Œè¿™å¥åæ‰“å°  Person deinit  </span></div><div class="line">telephone = <span class="literal">nil</span>              <span class="comment">// æ‰§è¡Œå®Œè¿™å¥åæ‰“å°  Telephone deinit</span></div></pre></td></tr></table></figure><p>å› ä¸ºTelephoneç±»é‡Œé¢çš„personå±æ€§æ˜¯å¼±å¼•ç”¨çš„ï¼Œæ‰€ä»¥æ‰§è¡Œå®Œäº†ç¬¬4å¥ä¹‹åï¼ŒTelephoneå®ä¾‹è¢«telephoneå˜é‡å’Œperson.telephoneå®ä¾‹æ‰€å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°ä¸º2ã€‚è€ŒPersonå®ä¾‹åªè¢«personå˜é‡æ‰€å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°ä¸º1.</p><p>å½“æ‰§è¡Œå®Œperson = nil ä¹‹åï¼Œpersonçš„å¼•ç”¨è®¡æ•°å°±å˜ä¸ºäº†0ï¼Œ è¿™ä¸ªæ—¶å€™ç³»ç»Ÿå°±ä¼šé‡Šæ”¾Personå®ä¾‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œperson.telephoneä¹Ÿä¼šè¢«é‡Šæ”¾ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´Telephoneå®ä¾‹çš„å¼•ç”¨è®¡æ•°å‡1ï¼Œå˜ä¸º1ã€‚</p><p>å½“æ‰§è¡Œå®Œtelephone = nil ä¹‹åï¼ŒTelephoneå®ä¾‹çš„å¼•ç”¨è®¡æ•°å˜ä¸º0ã€‚ç³»ç»Ÿé‡Šæ”¾Telephoneå®ä¾‹ã€‚</p><p>å…³äºè¿™ä¸ªå¼±å¼•ç”¨å†è¡¥å……å‡ ç‚¹</p><p>ç¬¬ä¸€ã€å½“ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡æ‰€å¼•ç”¨çš„å®ä¾‹è¢«é‡Šæ”¾çš„æ—¶å€™ï¼Œè¿™ä¸ªå¼±å¼•ç”¨å˜é‡ä¼šè¢«è‡ªåŠ¨ç½®ä¸ºnilã€‚</p><p>ç¬¬äºŒã€å› ä¸ºç¬¬ä¸€æ¡çš„å†…å®¹ï¼Œæ‰€ä»¥å¼±å¼•ç”¨åªèƒ½å¯¹å˜é‡ä½¿ç”¨ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯å¯é€‰ç±»å‹ã€‚</p><p>ç¬¬ä¸‰ã€å¦‚æœä½ åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™å°±æŠŠå®ƒå¤åˆ¶ç»™ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡ï¼Œå› ä¸ºå¼±å¼•ç”¨å˜é‡ä¸ä¼šå¢åŠ è¿™ä¸ªå®ä¾‹çš„å¼•ç”¨è®¡æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªå®ä¾‹åˆ›å»ºåç«‹é©¬å°±ä¼šè¢«é”€æ¯ã€‚</p><p>ç¬¬å››ã€å¦‚æœä½ å°†ä¸€ä¸ªå·²ç»èµ‹å€¼çš„å¼±å¼•ç”¨å˜é‡èµ‹å€¼ç»™ä¸€ä¸ªå¼ºå¼•ç”¨å˜é‡(å¸¸é‡)ï¼Œé‚£ä¹ˆè¿™ä¸ªå®ä¾‹çš„å¼•ç”¨è®¡æ•°ä¼šåŠ 1ã€‚</p><p>Unowned Reference</p><p>Unowned Referenceå’Œå¼±å¼•ç”¨ä¸€æ ·ï¼Œä¸ä¼šå¯¹å®ä¾‹äº§ç”Ÿå¼ºå¼•ç”¨ã€‚åŒºåˆ«åœ¨äºUnowned Referenceå‡è®¾å®ƒæ‰€æŒ‡å‘çš„å®ä¾‹æ€»æ˜¯æœ‰å€¼çš„ã€‚æ‰€ä»¥Unowned Referenceä¸€èˆ¬ä¸ä¼šè®¾ç½®ä¸ºå¯é€‰ç±»å‹ã€‚ä½†ç¼ºç‚¹å°±æ˜¯å½“Unowned Referenceæ‰€æŒ‡å‘çš„å®ä¾‹è¢«é‡Šæ”¾çš„æ—¶å€™ï¼ŒUnowned Referenceå˜é‡ä¸ä¼šè‡ªåŠ¨ç½®ä¸ºnilã€‚</p><p>è¯­æ³•å°±æ˜¯å°†weakå…³é”®å­—æ›¿æ¢ä¸ºunownedã€‚ä½†ä¸€ä¸ªå˜é‡æ°¸è¿œä¸ä¼šä¸ºnilçš„æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨unownedä¿®é¥°ã€‚</p><p>å¾ªç¯å¼•ç”¨ç¬¬äºŒç§æƒ…å†µâ€”â€”é—­åŒ…å¾ªç¯å¼•ç”¨</p><pre><code>åœ¨é—­åŒ…çš„æ—¶å€™æˆ‘ä»¬è¯´è¿‡ï¼Œé—­åŒ…æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸”ä¼šæ•è·å€¼ã€‚è®¾æƒ³ï¼Œä½ æŠŠä¸€ä¸ªé—­åŒ…å£°æ˜ä¸ºä¸€ä¸ªç±»çš„å±æ€§çš„æ—¶å€™ï¼Œè¿™ä¸ªç±»çš„å®ä¾‹æ‹¥æœ‰äº†å¯¹è¿™ä¸ªé—­åŒ…çš„å¼ºå¼•ç”¨ã€‚æ­¤æ—¶å¦‚æœä½ åœ¨è¿™ä¸ªé—­åŒ…é‡Œé¢è®¿é—®äº†è¿™ä¸ªç±»çš„å…¶ä»–å±æ€§(self.someProperty)æˆ–è€…æ–¹æ³•(self.someMethod)çš„è¯ã€‚é‚£ä¹ˆè¿™ä¸ªé—­åŒ…å°±ä¼šæ•è·æ‰€è®¿é—®çš„å±æ€§æˆ–æ–¹æ³•ï¼Œç»Ÿç§°&quot;æ•è·äº†self&quot;ã€‚åœ¨è®¿é—®å®ä¾‹çš„å±æ€§æˆ–æ–¹æ³•çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨self.çš„æ–¹å¼ã€‚Swiftæ­¤æ„åœ¨æé†’ä½ å¯èƒ½ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨ã€‚</code></pre><p>é‚£ä¹ˆè¿™æ—¶å€™åˆæ˜¯ä¸€ä¸ªå¾ªç¯å¼•ç”¨äº†ï¼Œselfå¼•ç”¨é—­åŒ…ï¼Œé—­åŒ…å¼•ç”¨selfã€‚å¯¼è‡´è¿™ä¸ªå®ä¾‹æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ã€‚</p><p>ä¸‹é¢å®šä¹‰ä¸€ä¸ªæœ‰é—­åŒ…çš„Personç±»</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> class Person &#123;  </div><div class="line">    var name: String?  </div><div class="line">    lazy var printName: Void-&gt;Void = &#123;  </div><div class="line">        print(self.name)  </div><div class="line">    &#125;  </div><div class="line">    init(name: String)&#123;  </div><div class="line">        self.name = name;  </div><div class="line">    &#125;  </div><div class="line">    deinit&#123;  </div><div class="line">        print(&quot;Person deinit&quot;)  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªé—­åŒ…æˆ‘ä»¬å£°æ˜ä¸ºäº†lazyç±»å‹ï¼Œå› ä¸ºå¦‚æœä½ æƒ³è¦åœ¨é—­åŒ…é‡Œé¢è®¿é—®åˆ°selfçš„è¯ï¼Œå¿…é¡»æ˜¯åœ¨ç±»åˆå§‹åŒ–ä¹‹åæ‰è¡Œã€‚è€Œä¸€èˆ¬çš„å±æ€§æ˜¯åœ¨ç±»åˆå§‹åŒ–çš„æœ€å¼€å¤´é˜¶æ®µåˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥ä¸åŠ lazyçš„é—­åŒ…ä¸èƒ½è®¿é—®selfå…³é”®å­—ã€‚ä¸Šé¢çš„ä»£ç å¾ˆæ˜æ˜¾é—­åŒ…å’Œç±»å®ä¾‹å·²ç»å¯èƒ½ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨äº†ã€‚ä¸ºä»€ä¹ˆè¯´å¯èƒ½å‘¢ï¼Ÿå› ä¸ºå¦‚æœä½ ä¸€ç›´æ²¡ç”¨åˆ°é—­åŒ…çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªé—­åŒ…å°±ä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šäº§ç”Ÿé—­åŒ…å¯¹selfçš„å¼ºå¼•ç”¨ï¼Œä¹Ÿå°±è°ˆä¸ä¸Šå¾ªç¯å¼•ç”¨äº†ã€‚</p></blockquote><p>æ‰€ä»¥å¦‚æœä»…ä»…æ‰§è¡Œä¸‹é¢ä»£ç </p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> p: <span class="type">Person</span>? = <span class="type">Person</span>(name: <span class="string">"Kate"</span>)  </div><div class="line">p = <span class="literal">nil</span>  </div><div class="line"><span class="comment">//æ‰“å°å‡º Person deinit</span></div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯å¦‚æœæ‰§è¡Œä¸‹é¢ä»£ç  </p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">var p: Person? = Person(name: &quot;Kate&quot;)  </div><div class="line">p?.printName()  </div><div class="line">p = nil  </div><div class="line">//æ‰“å°å‡º Optional(&quot;Kate&quot;)</div></pre></td></tr></table></figure><blockquote><p>è¿™æ—¶å€™å› ä¸ºå¾ªç¯å¼•ç”¨å¯¼è‡´Personå®ä¾‹ä¸ä¼šè¢«é‡Šæ”¾ã€‚<br>è§£å†³è¿™ä¸ªå¾ªç¯å¼•ç”¨åŒæ ·æœ‰ä¸¤ç§æ–¹å¼ã€‚</p></blockquote><ul><li><p>ç¬¬ä¸€ç§æ˜¯åœ¨ä¸éœ€è¦è¿™ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªå¯èƒ½ä¼šå¼•èµ·å¾ªç¯å¼•ç”¨çš„é—­åŒ…è®¾ä¸ºnilã€‚</p></li><li><p>ç¬¬äºŒç§æ˜¯åˆ©ç”¨é—­åŒ…çš„æ•è·åˆ—è¡¨ã€‚ä¸‹é¢æ˜¯ç¬¬äºŒç§æ–¹æ³•çš„ä»‹ç»</p></li></ul><blockquote><p>ä¸‹é¢æ˜¯è¯­æ³•å®šä¹‰ä¾‹å­ï¼Œåˆ†åˆ«æ˜¯æœ‰å‚æ•°å’Œæ²¡å‚æ•°çš„é—­åŒ…ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé—­åŒ…å¯¹æ•è·çš„selfä¸ä¼šäº§ç”Ÿå¼ºå¼•ç”¨ã€‚ï¼ˆé¢˜å¤–è¯ï¼Œåœ¨OCä¸­æ˜¯é€šè¿‡å®šä¹‰å¦å¤–ä¸€ä¸ªå¯¹selfçš„å¼±å¼•ç”¨å˜é‡ï¼Œç„¶åå°†è¿™ä¸ªå¼±å¼•ç”¨å˜é‡ä¼ é€’ç»™blockæ¥å®ç°çš„ã€‚ï¼‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line"></div><div class="line"><span class="comment">//æœ‰å‚æ•°çš„æƒ…å†µ  </span></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> printName: ((<span class="type">String</span>)-&gt;<span class="type">Void</span>)? = &#123;  </div><div class="line">    [<span class="keyword">unowned</span> <span class="keyword">self</span>] (say: <span class="type">String</span>) -&gt; <span class="type">Void</span> <span class="keyword">in</span>  </div><div class="line">    <span class="built_in">print</span>(say,<span class="keyword">self</span>.name)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//æ²¡å‚æ•°çš„æƒ…å†µ  </span></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> printName2: (<span class="type">Void</span>-&gt;<span class="type">Void</span>)? = &#123;  </div><div class="line">    [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span>  </div><div class="line">    <span class="built_in">print</span>(<span class="keyword">self</span>!.name)  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œå°±æ˜¯ç”¨ä¸¤ä¸ªå…³é”®å­—weakå’Œunownedå°†selfä¿®é¥°ã€‚weakå’Œunownedçš„åŒºåˆ«å’Œä¹‹å‰æ‰€è®²çš„æ˜¯ä¸€æ ·çš„ã€‚</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ARC </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Initializationåˆå§‹åŒ–&amp;Deinitializationææ„</title>
      <link href="/2017/12/01/Swift/Grammar/%5D%E5%88%9D%E5%A7%8B%E5%8C%96-%E6%9E%90%E6%9E%84/"/>
      <content type="html"><![CDATA[<h1 id="Initialization-åˆå§‹åŒ–"><a href="#Initialization-åˆå§‹åŒ–" class="headerlink" title="Initialization åˆå§‹åŒ–"></a>Initialization åˆå§‹åŒ–</h1><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><blockquote><p>åˆå§‹åŒ–ï¼Œæ˜¯å½“åˆ›å»ºä¸€ä¸ªç±»ã€ç»“æ„ä½“ã€æšä¸¾ç±»çš„æ—¶ï¼Œå®Œæˆå­˜å‚¨å±æ€§çš„å€¼çš„åˆå§‹åŒ–ï¼Œå’Œå…¶ä»–ä¸€äº›åˆå§‹åŒ–å·¥ä½œã€‚å‡†å¤‡å¥½è¿™ä¸ªå®ä¾‹ä»¥ä¾›ä½¿ç”¨<br>åè¿‡æ¥ï¼Œå½“ä¸€ä¸ªå®ä¾‹ä¸å†ä½¿ç”¨çš„æ—¶å€™ï¼Œç”±ææ„è¿‡ç¨‹é‡Šæ”¾è¿™ä¸ªå®ä¾‹æ‰€å ç”¨èµ„æº<br>å®Œæˆåˆå§‹åŒ–å·¥ä½œçš„ä¸€ä¸ªæ–¹æ³•ä¸€èˆ¬ç§°ä¸ºåˆå§‹åŒ–æ–¹æ³•ã€æ„é€ å™¨(Initializer)ã€æ„é€ æ–¹æ³•ç­‰ç­‰<br>Swiftä¸­çš„æ„é€ å™¨ä¸éœ€è¿”å›å€¼ï¼Œåªæ˜¯å®Œæˆåˆå§‹åŒ–å·¥ä½œã€‚</p></blockquote><h2 id="ç±»æˆ–ç»“æ„ä½“åœ¨åˆ›å»ºçš„æ—¶å€™å¿…é¡»ä¿è¯å­˜å‚¨å±æ€§æœ‰åˆå§‹åŒ–å€¼"><a href="#ç±»æˆ–ç»“æ„ä½“åœ¨åˆ›å»ºçš„æ—¶å€™å¿…é¡»ä¿è¯å­˜å‚¨å±æ€§æœ‰åˆå§‹åŒ–å€¼" class="headerlink" title="ç±»æˆ–ç»“æ„ä½“åœ¨åˆ›å»ºçš„æ—¶å€™å¿…é¡»ä¿è¯å­˜å‚¨å±æ€§æœ‰åˆå§‹åŒ–å€¼"></a>ç±»æˆ–ç»“æ„ä½“åœ¨åˆ›å»ºçš„æ—¶å€™å¿…é¡»ä¿è¯å­˜å‚¨å±æ€§æœ‰åˆå§‹åŒ–å€¼</h2><blockquote><p>ç›®çš„çš„å®ç°å¯ä»¥é€šè¿‡åœ¨å®šä¹‰å±æ€§çš„æ—¶å€™ç»™å­˜å‚¨å±æ€§æ·»åŠ ä¸Šé»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ å™¨ä¸­èµ‹å€¼ã€‚å¹¶ä¸”åœ¨è¿™ä¸¤ç§æƒ…å†µä¸­éƒ½ä¸ä¼šè§¦å‘å±æ€§çš„è§‚å¯Ÿå™¨ã€‚<br>å®˜æ–¹æ–‡æ¡£å»ºè®®æˆ‘ä»¬åœ¨ä¸€ä¸ªå­˜å‚¨å±æ€§é€šå¸¸å…·æœ‰åŒä¸€ä¸ªåˆå§‹å€¼çš„æ—¶å€™ï¼Œä½¿ç”¨å±æ€§å®šä¹‰çš„æ–¹å¼æ·»åŠ åˆå§‹å€¼ã€‚</p><p>ä¸‹é¢æ˜¯è¿™ä¸¤ç§æ–¹æ³•çš„ä»£ç <br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> life: <span class="type">Int</span> = <span class="number">0</span>  </div><div class="line">    <span class="keyword">var</span> height: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">init</span>()&#123;  </div><div class="line">        height = <span class="number">0</span>  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>è¿™é‡Œçš„init()æ–¹æ³•å°±æ˜¯æ„é€ å™¨ã€‚æ³¨æ„å®ƒæ˜¯ä¸å¸¦funcå…³é”®å­—çš„ã€‚è€Œä¸”ä¹Ÿæ²¡æœ‰è¿”å›å€¼ã€‚<br>ä»¥å‰åˆ›å»ºä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä½¿ç”¨â€œç±»å()â€çš„å½¢å¼ï¼Œè¿™å…¶å®å°±æ˜¯è°ƒç”¨äº†è¿™ä¸ªæ„é€ å™¨ã€‚ä½†æ˜¯å½“æ—¶æˆ‘ä»¬å¹¶æ²¡æœ‰å†™è¿™ä¸ªæ„é€ å™¨ï¼Œè¿™æ˜¯å› ä¸ºå½“ä¸€ä¸ªç±»æ²¡æœ‰å…¶ä»–æ„é€ å™¨çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸ªé»˜è®¤çš„æ„é€ å™¨ã€‚ä½†æ˜¯ä¸€æ—¦æœ‰äº†å…¶ä»–çš„æ„é€ å™¨ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¸ä¼šå†é»˜è®¤ç”Ÿæˆè¿™ä¸ªæ„é€ å™¨ã€‚ä½ ä¹Ÿå°±å†ä¸èƒ½ç”¨â€œç±»å()â€è¿™ç§åˆ›å»ºæ–¹æ³•äº†ã€‚å½“ç„¶ï¼Œå½“æœ‰å…¶ä»–æ„é€ å™¨çš„æ—¶å€™ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ è¿™ä¸ªé»˜è®¤çš„æ„é€ å™¨ã€‚</p></blockquote><h2 id="è‡ªå®šä¹‰æ„é€ å™¨"><a href="#è‡ªå®šä¹‰æ„é€ å™¨" class="headerlink" title="è‡ªå®šä¹‰æ„é€ å™¨"></a>è‡ªå®šä¹‰æ„é€ å™¨</h2><blockquote><p>å¯ä»¥å®šä¹‰æ„é€ å™¨ï¼Œå¯ä»¥ä¼ å…¥è‡ªå®šä¹‰çš„å‚æ•°åˆ—è¡¨æ¥åˆå§‹åŒ–ç±»ã€‚è‡ªå®šä¹‰çš„æ„é€ å™¨çš„å¤–éƒ¨å‚æ•°åè§„åˆ™å’Œæ–¹æ³•ä¸å¤ªä¸€æ ·ï¼Œæ„é€ å™¨çš„æ¯ä¸€ä¸ªå‚æ•°éƒ½ä¼šç”Ÿæˆå’Œå±€éƒ¨å‚æ•°åä¸€æ ·çš„å¤–éƒ¨å‚æ•°åã€‚å¦‚æœä¸æƒ³è¦å¤–éƒ¨å‚æ•°åï¼Œè¿˜æ˜¯å¯ä»¥ç”¨ä¸‹åˆ’çº¿å–æ¶ˆ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> life: <span class="type">Int</span> = <span class="number">0</span>  </div><div class="line">    <span class="keyword">var</span> height: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">init</span>()&#123;    <span class="comment">//æ³¨æ„ï¼Œå½“æœ‰å…¶ä»–æ„é€ å™¨çš„æ—¶å€™ï¼Œç³»ç»Ÿä¸ä¼šå†ç”Ÿæˆè¿™ä¸ªæ„é€ å™¨ï¼Œå¿…é¡»æ‰‹åŠ¨å†™å‡ºæ¥  </span></div><div class="line">        height = <span class="number">0</span>  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">init</span>(life: <span class="type">Int</span>, height: <span class="type">Double</span>) &#123;  </div><div class="line">        <span class="keyword">self</span>.life = life  </div><div class="line">        <span class="keyword">self</span>.height = height  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//å¯ä»¥è¿™æ ·ä½¿ç”¨è‡ªå®šä¹‰çš„æ„é€ å™¨  </span></div><div class="line"><span class="keyword">var</span> a = <span class="type">Animal</span>(life: <span class="number">29</span>, height: <span class="number">1.2</span>)</div></pre></td></tr></table></figure><blockquote><p>å†æ¬¡æé†’ï¼Œå½“æœ‰ç±»å®šä¹‰é‡Œé¢æœ‰è‡ªå®šä¹‰æ„é€ å™¨çš„æ—¶å€™ï¼Œä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å™¨ã€‚å¹¶ä¸”å¯¹äºç»“æ„ä½“ä¹Ÿå†ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆéå†å±æ€§çš„æ„é€ å™¨ã€‚<br>ä½†æ˜¯ä½ å¯ä»¥å°†ä½ è‡ªå·±çš„æ„é€ å™¨å†™åœ¨æ‰©å±•é‡Œé¢ï¼Œè¿™æ ·å°±ä¸ä¼šå½±å“é»˜è®¤æ„é€ å™¨çš„è‡ªåŠ¨ç”Ÿæˆ</p></blockquote><h2 id="æ„é€ å™¨å§”æ‰˜ï¼ˆInitializer-Delegationï¼‰"><a href="#æ„é€ å™¨å§”æ‰˜ï¼ˆInitializer-Delegationï¼‰" class="headerlink" title="æ„é€ å™¨å§”æ‰˜ï¼ˆInitializer Delegationï¼‰"></a>æ„é€ å™¨å§”æ‰˜ï¼ˆInitializer Delegationï¼‰</h2><blockquote><p>æ„é€ å™¨å§”æ‰˜ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªæ„é€ å™¨é‡Œé¢è°ƒç”¨å¦å¤–ä¸€ä¸ªæ„é€ å™¨ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å¤šä½™çš„ä»£ç ã€‚åœ¨æ„é€ å™¨é‡Œé¢ä½¿ç”¨self.initè¯­æ³•æ¥è°ƒç”¨å¦å¤–ä¸€ä¸ªæ„é€ å™¨ï¼Œä¸”è¿™ä¸ªè¯­æ³•åªèƒ½åœ¨æ„é€ å™¨é‡Œé¢ä½¿ç”¨ã€‚<br>æ„é€ å™¨å§”æ‰˜åœ¨å€¼ç±»å‹ï¼ˆç»“æ„ä½“å’Œæšä¸¾ç±»ï¼‰å’Œç±»ç›´æ¥æ˜¯ä¸å¤ªä¸€æ ·çš„ã€‚å› ä¸ºç±»éœ€è¦è€ƒè™‘åˆ°ç»§æ‰¿é—®é¢˜ã€‚<br>å…ˆæ¥çœ‹å€¼ç±»å‹çš„æ„é€ å™¨å§”æ‰˜ã€‚è¿™ä¸ªå¾ˆç®€å•ï¼Œè°ƒç”¨å¦å¤–ä¸€ä¸ªæ„é€ å™¨å°±è¡Œäº†ã€‚ä¸‹é¢çš„ä¾‹å­è™½ç„¶æœ‰ç‚¹è„±è£¤å­æ”¾å±çš„æ„Ÿè§‰ï¼Œä½†ã€‚ã€‚å°±æ˜¯ä¸¾ä¸ªä¾‹å­è€Œå·²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> totalPrice: <span class="type">Double</span>  </div><div class="line">      </div><div class="line">    <span class="keyword">init</span>(totalPrice: <span class="type">Double</span>) &#123;  </div><div class="line">        <span class="keyword">self</span>.totalPrice = totalPrice  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">init</span>(kg: <span class="type">Double</span>, pricePerKg: <span class="type">Double</span>) &#123;  </div><div class="line">        <span class="keyword">let</span> totalPrice = kg * pricePerKg  </div><div class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(totalPrice: totalPrice)   <span class="comment">//è°ƒç”¨å¦å¤–ä¸€ä¸ªæ„é€ å™¨  </span></div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="ç±»çš„ç»§æ‰¿å’Œåˆå§‹åŒ–"><a href="#ç±»çš„ç»§æ‰¿å’Œåˆå§‹åŒ–" class="headerlink" title="ç±»çš„ç»§æ‰¿å’Œåˆå§‹åŒ–"></a>ç±»çš„ç»§æ‰¿å’Œåˆå§‹åŒ–</h1><blockquote><p>å› ä¸ºç±»å¯ä»¥ç»§æ‰¿ï¼Œæ‰€ä»¥å®ƒçš„åˆå§‹åŒ–è§„åˆ™å°±å˜å¾—æ¯”ç»“æ„ä½“è¦å¤æ‚å¤šäº†ã€‚<br>é¦–å…ˆï¼Œç±»çš„æ„é€ å™¨åˆ†ä¸ºæŒ‡å®šæ„é€ å™¨ï¼ˆDesignated Initializerï¼‰ å’Œ  ä¾¿åˆ©æ„é€ å™¨ ï¼ˆConvenience Initializerï¼‰<br>ä¸€ä¸ªç±»é€šå¸¸å…·æœ‰å¾ˆå°‘æ•°é‡ï¼ˆä¸€èˆ¬åªæœ‰1ä¸ªï¼‰çš„æŒ‡å®šæ„é€ å™¨ã€‚ä½†æ˜¯å¿…é¡»æœ€å°‘å…·æœ‰ä¸€ä¸ªã€‚<br>ä¾¿åˆ©æ„é€ å™¨æ˜¯ç”¨æ¥è°ƒç”¨æŒ‡å®šæ„é€ å™¨å®Œæˆåˆå§‹åŒ–å·¥ä½œçš„ã€‚ä¸€ä¸ªç±»å¯ä»¥ä¸å…·æœ‰éå†æ„é€ å™¨ã€‚<br>ä¸¤ç§æ„é€ å™¨çš„è¯­æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">//æŒ‡å®šæ„é€ å™¨  </span></div><div class="line"><span class="keyword">init</span>(parameters) &#123;  </div><div class="line">    statements  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//ä¾¿åˆ©æ„é€ å™¨  </span></div><div class="line"><span class="keyword">convenience</span> <span class="keyword">init</span>(parameters) &#123;  </div><div class="line">    statements  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="ç±»çš„æ„é€ å™¨å§”æ‰˜è§„åˆ™ï¼š"><a href="#ç±»çš„æ„é€ å™¨å§”æ‰˜è§„åˆ™ï¼š" class="headerlink" title="ç±»çš„æ„é€ å™¨å§”æ‰˜è§„åˆ™ï¼š"></a>ç±»çš„æ„é€ å™¨å§”æ‰˜è§„åˆ™ï¼š</h2><ul><li><p>1ã€ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å¿…é¡»è°ƒç”¨å®ƒçš„ç›´æ¥çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨</p></li><li><p>2ã€ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨å¿…é¡»è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦å¤–çš„æ„é€ å™¨</p></li><li><p>3ã€ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨å¿…é¡»æœ€ç»ˆä»¥è°ƒç”¨æŒ‡å®šæ„é€ å™¨ç»“æŸã€‚</p></li></ul><blockquote><p>è§„åˆ™2å’Œ3è¿èµ·æ¥å°±æ˜¯è¯´ï¼Œä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨å¯èƒ½ä¼šè°ƒç”¨äº†å¦å¤–ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨ï¼Œç„¶åè¿™ä¸ªæ„é€ å™¨åˆè°ƒç”¨äº†å¦å¤–ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨â€¦.ä½†æ˜¯è¿™ä¸ªé“¾çš„æœ€åçš„ä¸€ä¸ªä¾¿åˆ©æ„é€ å™¨å¿…é¡»æ˜¯è°ƒç”¨æŒ‡å®šæ„é€ å™¨ã€‚<br>ä¸‹é¢é™„ä¸Šå®˜æ–¹çš„å›¾ç‰‡ã€‚åœ¨å›¾ç‰‡ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œä¸‰æ¡è§„åˆ™æ€»ç»“èµ·æ¥å°±æ˜¯ï¼šæŒ‡å®šæ„é€ å™¨å¾€ä¸Šè°ƒç”¨ï¼Œä¾¿åˆ©æ„é€ å™¨å¹³è¡Œè°ƒç”¨ä¸”ç»ˆç»“åœ¨æŒ‡å®šæ„é€ å™¨ã€‚</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/Swift-Grammar-Initialization%E5%88%9D%E5%A7%8B%E5%8C%96&amp;Deinitialization%E6%9E%90%E6%9E%84-001.png" alt="001"></p><h2 id="ç±»çš„åˆå§‹åŒ–åˆ†ä¸ºä¸¤é˜¶æ®µ"><a href="#ç±»çš„åˆå§‹åŒ–åˆ†ä¸ºä¸¤é˜¶æ®µ" class="headerlink" title="ç±»çš„åˆå§‹åŒ–åˆ†ä¸ºä¸¤é˜¶æ®µ"></a>ç±»çš„åˆå§‹åŒ–åˆ†ä¸ºä¸¤é˜¶æ®µ</h2><h2 id="ç¬¬ä¸€é˜¶æ®µ"><a href="#ç¬¬ä¸€é˜¶æ®µ" class="headerlink" title="ç¬¬ä¸€é˜¶æ®µ"></a>ç¬¬ä¸€é˜¶æ®µ</h2><ul><li>1ã€ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨æˆ–ä¾¿åˆ©æ„é€ å™¨è¢«è°ƒç”¨</li><li>2ã€åˆ†é…ç±»å®ä¾‹æ‰€éœ€çš„å†…å­˜ï¼Œä½†æ˜¯å†…å­˜æ²¡æœ‰åˆå§‹åŒ–</li><li>3ã€è¿™ä¸ªç±»çš„æŒ‡å®šæ„é€ å™¨ç¡®ä¿è¯¥ç±»å¼•å…¥çš„æ–°çš„å­˜å‚¨å±æ€§éƒ½åˆå§‹åŒ–ã€‚ï¼ˆå› ä¸ºä¾¿åˆ©æ„é€ å™¨æœ€ç»ˆä¼šåˆ°æŒ‡å®šæ„é€ å™¨ï¼‰ã€‚</li><li>4ã€ç„¶åè¿™ä¸ªæ„é€ å™¨è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨å®Œæˆå’Œç¬¬ä¸‰æ­¥åŒæ ·çš„å·¥ä½œã€‚</li><li>5ã€ç›´åˆ°ç»§æ‰¿é“¾çš„æœ€é¡¶éƒ¨åˆ†ã€‚</li><li>6ã€è¿™æ—¶å€™æœ‰çš„å­˜å‚¨å±æ€§éƒ½æœ‰åˆå§‹å€¼äº†ã€‚</li></ul><h2 id="ç¬¬äºŒé˜¶æ®µ"><a href="#ç¬¬äºŒé˜¶æ®µ" class="headerlink" title="ç¬¬äºŒé˜¶æ®µ"></a>ç¬¬äºŒé˜¶æ®µ</h2><ul><li>1ã€ä»ç»§æ‰¿é“¾çš„æœ€é¡¶éƒ¨åˆ†å‡ºå‘ã€‚æ¯ä¸ªæŒ‡å®šæ„é€ å™¨å…·æœ‰äº†ä¿®æ”¹å®ä¾‹çš„æƒåˆ©ã€‚å¹¶ä¸”å¯ä»¥è°ƒç”¨å®ä¾‹æ–¹æ³•ã€‚</li><li>2ã€æœ€åï¼Œè¿™ä¸ªåˆå§‹åŒ–é“¾æ¡é‡Œé¢çš„ä¾¿åˆ©æ„é€ å™¨éƒ½å…·æœ‰äº†ä¿®æ”¹å®ä¾‹çš„æƒåˆ©ã€‚</li></ul><blockquote><p>éµå¾ªä¸Šé¢ä¸¤ä¸ªé˜¶æ®µçš„æ­¥éª¤ï¼Œé¿å…äº†å½“åœ¨åˆå§‹åŒ–é“¾åé¢çš„æ„é€ å™¨ä¿®æ”¹äº†å±æ€§ä¹‹åï¼Œåˆè¢«å‰é¢çš„æ„é€ å™¨ä¿®æ”¹å±æ€§çš„å¯èƒ½æ€§ã€‚é¿å…äº†ä½¿ç”¨æ²¡æœ‰ç»è¿‡åˆå§‹åŒ–çš„å±æ€§çš„å¯èƒ½æ€§ã€‚</p><p>ä¸ºäº†ç¡®ä¿ä¸¤ä¸ªé˜¶æ®µæ­¥éª¤çš„å®æ–½ã€‚ç¼–è¯‘å™¨æœ‰4æ¡æ£€æµ‹è§„åˆ™ï¼Œè¿™å››æ¡è§„åˆ™å†³å®šäº†ä½ åœ¨æ„é€ å™¨é‡Œé¢æŸäº›ä»£ç çš„é¡ºåºã€‚</p></blockquote><ul><li><p>1ã€åœ¨è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿å­ç±»å¼•å…¥çš„æ–°å±æ€§å·²ç»å¾—åˆ°åˆå§‹åŒ–ã€‚</p></li><li><p>2ã€å­ç±»å¿…é¡»åœ¨è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å™¨ä¹‹åï¼Œæ‰èƒ½è®¿é—®ç»§æ‰¿çš„å±æ€§ã€‚</p></li><li><p>3ã€ä¾¿åˆ©æ„é€ å™¨å¿…é¡»åœ¨è°ƒç”¨äº†å…¶ä»–æ„é€ å™¨ä¹‹åï¼Œæ‰èƒ½è®¿é—®å±æ€§æˆ–è°ƒç”¨å®ä¾‹æ–¹æ³•ã€‚</p></li><li><p>4ã€åœ¨å®Œæˆç¬¬ä¸€é˜¶æ®µä¹‹å‰ï¼ˆå…¶å®å°±æ˜¯å®Œæˆåˆå§‹åŒ–æœ¬ç±»å®šä¹‰çš„æ–°å±æ€§ï¼Œè°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼‰ï¼Œæ„é€ å™¨ä¸èƒ½è°ƒç”¨å®ä¾‹æ–¹æ³•ï¼Œä¸èƒ½è®¿é—®å±æ€§çš„å€¼ï¼Œä¸èƒ½æŠŠselfå½“åšå€¼è®¿é—®ã€‚ä½†æ˜¯å¯ä»¥ç”¨self.å±æ€§åçš„æ–¹å¼ç»™å±æ€§èµ‹å€¼ã€‚</p></li></ul><blockquote><p>ä¸‹é¢å¯ä»¥çœ‹çœ‹åˆ†åˆ«è¿åæ¯ä¸ªè§„åˆ™çš„ä¾‹å­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> life: <span class="type">Int</span>  </div><div class="line">    <span class="keyword">var</span> height: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">init</span>(getLife: <span class="type">Int</span>, getHeight: <span class="type">Double</span>) &#123;  </div><div class="line">        <span class="keyword">self</span>.life = getLife  </div><div class="line">        <span class="keyword">self</span>.height = getHeight  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>: <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>  </div><div class="line">    <span class="keyword">init</span>()&#123;  </div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(getLife: <span class="number">2</span>, getHeight: <span class="number">2.0</span>)  <span class="comment">//è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬ä¸€æ¡ï¼Œå¿…é¡»å…ˆå°†æœ¬ç±»å¼•å…¥çš„å±æ€§åˆå§‹åŒ–æ‰èƒ½è°ƒç”¨çˆ¶ç±»æ„é€ å™¨  </span></div><div class="line">        <span class="keyword">self</span>.name = <span class="string">"Larry"</span>                     <span class="comment">//æ‰€ä»¥è¿™ä¸€å¥å¿…é¡»å†™åœ¨å‰é¢æ‰æ²¡é”™  </span></div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, getLife: <span class="type">Int</span>, getHeight: <span class="type">Double</span>)&#123;  </div><div class="line">        <span class="keyword">self</span>.name = name  </div><div class="line">        <span class="keyword">self</span>.life = <span class="number">1</span>                            <span class="comment">//è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬äºŒæ¡ï¼Œå¿…é¡»è°ƒç”¨äº†çˆ¶ç±»æ„é€ å™¨ä¹‹åæ‰èƒ½è®¿é—®ç»§æ‰¿çš„å±æ€§ã€‚  </span></div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(getLife: getLife, getHeight: getHeight)    <span class="comment">//è¿™å¥å¿…é¡»æ”¾åœ¨ç¬¬äºŒå¥ä¹‹å‰æ‰æ²¡é”™  </span></div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(getLife: <span class="type">Int</span>) &#123;  </div><div class="line">        <span class="keyword">self</span>.name = <span class="string">"Larry"</span>         <span class="comment">//è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬ä¸‰æ¡ï¼Œä¾¿åˆ©æ„é€ å™¨é‡Œé¢å¿…é¡»è°ƒç”¨äº†å…¶ä»–æ„é€ å™¨ä¹‹åæ‰èƒ½è®¿é—®å±æ€§  </span></div><div class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>()                 <span class="comment">//è¿™å¥åº”è¯¥æ”¾åœ¨å‰é¢  </span></div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">init</span>(getName: <span class="type">String</span>) &#123;  </div><div class="line">        <span class="keyword">self</span>.name = getName  </div><div class="line">        <span class="type">Dog</span>.sayHello()  </div><div class="line">        <span class="keyword">self</span>.printName()          <span class="comment">//è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬å››æ¡ï¼Œå¿…é¡»å®Œæˆäº†é˜¶æ®µ1æ‰èƒ½è°ƒç”¨å®ä¾‹æ–¹æ³•æˆ–è®¿é—®å±æ€§  </span></div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(getLife: <span class="number">21</span>, getHeight: <span class="number">2.3</span>)   <span class="comment">//è¿™å¥åº”è¯¥æ”¾åœ¨å‰é¢  </span></div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">printName</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="keyword">self</span>.name)  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"hello"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="å±æ€§è§‚å¯Ÿå™¨"><a href="#å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="å±æ€§è§‚å¯Ÿå™¨"></a>å±æ€§è§‚å¯Ÿå™¨</h1><blockquote><p>ä»¥å‰è¯´è¿‡ï¼Œå±æ€§è§‚å¯Ÿå™¨åœ¨æ„é€ å™¨é‡Œé¢ç»™å±æ€§èµ‹å€¼çš„æ—¶å€™æ˜¯ä¸ä¼šè¢«è°ƒç”¨çš„ã€‚ä½†æ˜¯è¿™ä¸ªåªé’ˆå¯¹äºæœ¬ç±»å®šä¹‰çš„å±æ€§ã€‚å¯¹äºç»§æ‰¿è€Œæ¥çš„å±æ€§ï¼Œå½“å·²ç»ç»è¿‡çˆ¶ç±»çš„æ„é€ å™¨å®Œæˆåˆå§‹åŒ–åï¼Œå¦‚æœåœ¨å­ç±»é‡Œé¢ä¿®æ”¹äº†ç»§æ‰¿å±æ€§çš„å€¼ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘çˆ¶ç±»è§‚å¯Ÿå™¨ï¼Œå¦‚æœä½ åœ¨å­ç±»é‡Œé¢ä¹Ÿè¦†ç›–äº†è¿™ä¸ªè§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå­ç±»å’Œçˆ¶ç±»çš„è§‚å¯Ÿå™¨éƒ½ä¼šè¢«è°ƒç”¨</p><p>å¦å¤–å†çœ‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> life: <span class="type">Int</span> = <span class="number">0</span> &#123;  </div><div class="line">        <span class="keyword">willSet</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"animial life newValue \(newValue)"</span>)  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">init</span>(getlife: <span class="type">Int</span>)&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"animal life init \(self.life)"</span>)  </div><div class="line">        <span class="keyword">self</span>.life = <span class="number">1</span>  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"animal life after assign \(self.life)"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœæˆ‘ä»¬è°ƒç”¨ä¸‹é¢çš„è¯­å¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> a = <span class="type">Animal</span>(getlife: <span class="number">3</span>)  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//animal life init 0  </span></div><div class="line"><span class="comment">//animal life after assign 1</span></div></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨inité‡Œé¢ç¬¬ä¸€å¥å·²ç»ç”¨åˆ°äº†selfã€‚æ ¹æ®ç¼–è¯‘å™¨è§„åˆ™ç¬¬å››æ¡ï¼Œä¸å…è®¸åœ¨å±æ€§æ²¡æœ‰åˆå§‹åŒ–çš„å‰è¿›è¡Œè®¿é—®ã€‚ä»ä¸Šé¢ä»£ç é€šè¿‡ç¼–è¯‘æ¥çœ‹ï¼Œè¿™é‡Œç¼–è¯‘å™¨å·²ç»å°†å±æ€§åˆå§‹åŒ–ä¸ºå®šä¹‰æ—¶å€™çš„å€¼äº†ã€‚å¦‚æœä½ å°†å®šä¹‰æ—¶å€™çš„é»˜è®¤å€¼åˆ å»ï¼Œé‚£ä¹ˆç¬¬ä¸€å¥å°±ä¼šæŠ¥é”™<br>Swifté»˜è®¤æ˜¯ä¸ç»§æ‰¿çˆ¶ç±»çš„æ„é€ å™¨çš„ã€‚<br>å¦‚æœä½ æƒ³è¦å’Œçˆ¶ç±»ä¸€æ ·çš„æ„é€ å™¨ï¼Œé‚£ä¹ˆå¿…é¡»è‡ªå·±å†™ã€‚å¦‚æœä½ å†™çš„æ„é€ å™¨ï¼ˆä¸ç®¡æ˜¯æŒ‡å®šè¿˜æ˜¯ä¾¿åˆ©ï¼‰å’Œçˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ä¸€æ ·ï¼Œé‚£ä¹ˆè¿™ä¸ªæ„é€ å™¨å‰å¿…é¡»åŠ ä¸Šoverrideå…³é”®å­—ã€‚å¦‚æœä½ å†™çš„æ„é€ å™¨å’Œçˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ä¸€æ ·ï¼Œé‚£ä¹ˆä¸ç”¨åŠ overrideï¼Œå› ä¸ºå­ç±»æ°¸è¿œä¸èƒ½ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„ä¾¿åˆ©æ„é€ å™¨ã€‚<br>ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå­ç±»å¯ä»¥è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ„é€ å™¨ã€‚<br>å‰ææ¡ä»¶ï¼šå­ç±»æ–°å¼•å…¥çš„å±æ€§éƒ½å¿…é¡»å…·æœ‰é»˜è®¤å€¼</p></blockquote><ul><li>è§„åˆ™1ï¼šå¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•çš„æŒ‡å®šæ„é€ å™¨ã€‚é‚£ä¹ˆå­ç±»è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šæ„é€ å™¨ã€‚</li><li>è§„åˆ™2ï¼šå¦‚æœå­ç±»å®ç°äº†çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šæ„é€ å™¨ï¼ˆå¯ä»¥é€šè¿‡è§„åˆ™1ç»§æ‰¿è€Œæ¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡å†™è€Œæ¥ï¼‰ï¼Œé‚£ä¹ˆå­ç±»è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„ä¾¿åˆ©æ„é€ å™¨ã€‚</li></ul><blockquote><p>ä¾‹å­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> life: <span class="type">Int</span>  </div><div class="line">    <span class="keyword">var</span> height: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(getLife: <span class="type">Int</span>)&#123;  </div><div class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(getLife: getLife, getHeight: <span class="number">0.0</span>)  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">init</span>(getLife: <span class="type">Int</span>, getHeight: <span class="type">Double</span>) &#123;  </div><div class="line">        <span class="keyword">self</span>.life = getLife  </div><div class="line">        <span class="keyword">self</span>.height = getHeight  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>: <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">"Larry"</span>  </div><div class="line">    <span class="comment">//    override init(getLife: Int, getHeight: Double)&#123;  </span></div><div class="line">    <span class="comment">//        super.init(getLife: getLife, getHeight:getHeight)  </span></div><div class="line">    <span class="comment">//    &#125;  </span></div><div class="line">      </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ— è®ºä¸Šé¢Dogç±»é‡Œé¢æ³¨é‡Šçš„ä»£ç æ˜¯å¦æ‰“å¼€ï¼ŒDogéƒ½ç»§æ‰¿äº†Animalçš„æ‰€æœ‰æ„é€ å™¨</p></blockquote><h1 id="Failable-Initializerså¯å¤±è´¥çš„æ„é€ å™¨"><a href="#Failable-Initializerså¯å¤±è´¥çš„æ„é€ å™¨" class="headerlink" title="Failable Initializerså¯å¤±è´¥çš„æ„é€ å™¨"></a>Failable Initializerså¯å¤±è´¥çš„æ„é€ å™¨</h1><blockquote><p>Swiftä¸­æœ‰ä¸ªæ¦‚å¿µï¼Œå°±æ˜¯åˆ›å»ºå®ä¾‹çš„æ—¶å€™å¦‚æœæ¡ä»¶ä¸ç¬¦åˆï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªnilå¯¹è±¡ã€‚è¿™ç±»å¯ä»¥è¿”å›nilçš„æ„é€ å™¨å«åšå¯å¤±è´¥çš„æ„é€ å™¨ã€‚è¯­æ³•æ˜¯åœ¨initçš„å‰é¢åŠ ä¸Šä¸€ä¸ªï¼Ÿã€‚å½“æ¡ä»¶ä¸æ»¡è¶³çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç”¨ return nilç»“æŸæ„é€ æ–¹æ³•ã€‚é‚£ä¹ˆè¿™æ—¶å€™å¾—åˆ°çš„å®ä¾‹å…¶å®æ˜¯ä¸€ä¸ªnilï¼Œè¿™é‡Œä¹Ÿè¯´æ˜äº†ï¼Œå¯å¤±è´¥æ„é€ å™¨è¿”å›çš„æ˜¯å¯é€‰ç±»å‹ã€‚å…¶å®ä¹‹å‰ä¹Ÿè¯´è¿‡ï¼ŒSwiftçš„æ„é€ å™¨æ˜¯ä¸éœ€è¦è¿”å›å€¼çš„ã€‚æ‰€ä»¥ä½ æˆåŠŸçš„æ—¶å€™ä¸éœ€è¦å†™returnä»€ä¹ˆä¸œä¸œã€‚</p><h2 id="å€¼ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨"><a href="#å€¼ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨" class="headerlink" title="å€¼ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨"></a>å€¼ç±»å‹çš„å¯å¤±è´¥æ„é€ å™¨</h2><p>ä¸‹é¢æ˜¯structureçš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pricePerKg: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">init</span>?(pricePerKg: <span class="type">Double</span>)&#123;  </div><div class="line">        <span class="keyword">if</span> pricePerKg &lt; <span class="number">0</span> &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span>  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">self</span>.pricePerKg = pricePerKg  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="built_in">print</span>(<span class="type">Apple</span>(pricePerKg: <span class="number">2</span>))  </div><div class="line"><span class="built_in">print</span>(<span class="type">Apple</span>(pricePerKg: -<span class="number">2</span>))  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//Optional(SwiftTest.Apple(pricePerKg: 2.0))  </span></div><div class="line"><span class="comment">//nil</span></div></pre></td></tr></table></figure><blockquote><p>æ¥ä¸‹æ¥æ˜¯æšä¸¾ç±»çš„</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">enum FruitSet &#123;  </div><div class="line">    case apple, orange, banana  </div><div class="line">    init?(symbol: Character)&#123;  </div><div class="line">        switch symbol &#123;  </div><div class="line">        case &quot;a&quot;,&quot;A&quot; :  </div><div class="line">            self = .apple  </div><div class="line">        case &quot;o&quot;,&quot;O&quot; :  </div><div class="line">            self = .orange  </div><div class="line">        case &quot;b&quot;,&quot;B&quot; :  </div><div class="line">            self = .banana  </div><div class="line">        default :  </div><div class="line">            return nil  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line">print(FruitSet(symbol: &quot;a&quot;))  </div><div class="line">print(FruitSet(symbol: &quot;e&quot;))  </div><div class="line">//æ‰“å°  </div><div class="line">//Optional(SwiftTest.FruitSet.apple)  </div><div class="line">//nil</div></pre></td></tr></table></figure><blockquote><p>å¯¹åº”æœ‰é»˜è®¤å€¼çš„æšä¸¾ç±»ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªinit?(rawValue:)çš„æ„é€ å™¨ã€‚å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">enum</span> <span class="title">FruitSet</span> : <span class="title">Character</span></span>&#123;  </div><div class="line">    <span class="keyword">case</span> apple = <span class="string">"a"</span>, orange = <span class="string">"o"</span>, banana = <span class="string">"b"</span>  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="built_in">print</span>(<span class="type">FruitSet</span>(rawValue: <span class="string">"a"</span>))  </div><div class="line"><span class="built_in">print</span>(<span class="type">FruitSet</span>(rawValue: <span class="string">"e"</span>))</div></pre></td></tr></table></figure><h2 id="ç±»çš„å¯å¤±è´¥æ„é€ å™¨"><a href="#ç±»çš„å¯å¤±è´¥æ„é€ å™¨" class="headerlink" title="ç±»çš„å¯å¤±è´¥æ„é€ å™¨"></a>ç±»çš„å¯å¤±è´¥æ„é€ å™¨</h2><blockquote><p>æœ‰ä¸€ä¸ªè§„åˆ™ï¼Œå°±æ˜¯å¿…é¡»åœ¨æœ¬ç±»æ‰€æœ‰çš„å±æ€§ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼‰éƒ½èµ‹å€¼ä¹‹åæ‰å¯ä»¥è¿”å›nil</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pricePerKg: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">init</span>?(pricePerKg: <span class="type">Double</span>)&#123;  </div><div class="line">        <span class="keyword">if</span> pricePerKg &lt; <span class="number">0</span> &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span>              <span class="comment">//è¿™å¥æŠ¥é”™ï¼Œæ‰€ä»¥ä½ å¿…é¡»å…ˆåˆå§‹åŒ–å…¶ä»–å±æ€§å€¼  </span></div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">self</span>.pricePerKg = pricePerKg  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å¯å¤±è´¥åˆå§‹åŒ–çš„ä¼ é€’è¿‡ç¨‹"><a href="#å¯å¤±è´¥åˆå§‹åŒ–çš„ä¼ é€’è¿‡ç¨‹" class="headerlink" title="å¯å¤±è´¥åˆå§‹åŒ–çš„ä¼ é€’è¿‡ç¨‹"></a>å¯å¤±è´¥åˆå§‹åŒ–çš„ä¼ é€’è¿‡ç¨‹</h2><blockquote><p>ä¸€ä¸ªå¯å¤±è´¥çš„æ„é€ å™¨å¯ä»¥è°ƒç”¨å…¶ä»–çš„æ„é€ å™¨ï¼Œæ— è®ºæ˜¯å¯å¤±è´¥çš„è¿˜æ˜¯ä¸ä¼šå¤±è´¥çš„ã€‚</p></blockquote><p>ä½†æ˜¯ä¸€ä¸ªä¸å¯å¤±è´¥çš„æ„é€ å™¨ä¸èƒ½å»è°ƒç”¨ä¸€ä¸ªå¯å¤±è´¥çš„æ„é€ å™¨ã€‚å¦‚æœå»è°ƒç”¨çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨ï¼Œè™½ç„¶ç”¨è§£åŒ…å¯ä»¥è§£å†³ï¼Œä½†æ˜¯ä¸€æ—¦çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨è¿”å›äº†nilï¼Œé‚£ä¹ˆç¨‹åºç›´æ¥å´©æºƒ</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>  </div><div class="line">    <span class="keyword">init</span>?(name: <span class="type">String</span>)&#123;  </div><div class="line">        <span class="keyword">self</span>.name = name  </div><div class="line">        <span class="keyword">if</span> name.isEmpty &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span>  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span>: <span class="title">Fruit</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pricePerKg: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">init</span>(pricePerKg: <span class="type">Double</span>)&#123;  </div><div class="line">        <span class="keyword">self</span>.pricePerKg = pricePerKg  </div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: <span class="string">""</span>)!   <span class="comment">//åˆ©ç”¨è§£åŒ…è°ƒç”¨äº†çˆ¶ç±»çš„å¯å¤±è´¥æ„é€ å™¨ï¼Œä½†æ˜¯å› ä¸ºè¿™æ ·çˆ¶ç±»ä¼šè¿”å›ä¸€ä¸ªnilï¼Œæ‰€ä»¥ç¨‹åºåœ¨è¿™è¡Œä¼šå´©æºƒ  </span></div><div class="line">  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>?()&#123;  </div><div class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(pricePerKg: <span class="number">3</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> i = <span class="type">Apple</span>(pricePerKg: <span class="number">3</span>)</div></pre></td></tr></table></figure><blockquote><p>åŒæ ·çš„ï¼Œå¯å¤±è´¥çš„æ„é€ å™¨ä¹Ÿå¯ä»¥è¢«é‡å†™ï¼Œä½ å¯ä»¥é‡å†™ä¸ºä¸å¯å¤±è´¥çš„æ„é€ å™¨ã€‚<br>ä½†æ˜¯ä¸å¯å¤±è´¥çš„æ„é€ å™¨ä¸èƒ½è¦†ç›–ä¸ºå¯å¤±è´¥çš„æ„é€ å™¨ã€‚<br>ä½ å¯ä»¥ç”¨!ä»£æ›¿?æ¥å®ç°å¯å¤±è´¥æ„é€ å™¨ï¼Œé‚£ä¹ˆè¿™æ ·å¾—åˆ°çš„å®ä¾‹ä¼šè‡ªåŠ¨è§£åŒ…ã€‚å½“ç„¶ï¼Œå­˜åœ¨nilæŠ¥é”™çš„é—®é¢˜ã€‚è®°å¾—å¤„ç†ã€‚</p></blockquote><h1 id="å¿…é¡»æ„é€ å™¨ï¼ˆRequired-Initializersï¼‰"><a href="#å¿…é¡»æ„é€ å™¨ï¼ˆRequired-Initializersï¼‰" class="headerlink" title="å¿…é¡»æ„é€ å™¨ï¼ˆRequired Initializersï¼‰"></a>å¿…é¡»æ„é€ å™¨ï¼ˆRequired Initializersï¼‰</h1><blockquote><p>åœ¨æ„é€ å™¨å‰é¢åŠ ä¸Šrequiredå…³é”®å­—å°±è¡Œäº†ã€‚è¿™æ ·çš„æ„é€ å™¨è¦æ±‚å­ç±»å¿…é¡»é‡å†™ã€‚å­ç±»é‡å†™è¿™ä¸ªæ„é€ å™¨çš„æ—¶å€™ï¼Œä¹Ÿå¿…é¡»åŠ ä¸Šrequiredå…³é”®å­—ã€‚è¦æ±‚å­ç±»çš„å­ç±»ä¹Ÿè¦é‡å†™è¿™ä¸ªæ„é€ å™¨ã€‚<br>å†™äº†requiredåä¸ç”¨å†™overrideå…³é”®å­—ã€‚å†™äº†ä¼šæœ‰è­¦å‘Šã€‚</p><p>ç»™å±æ€§é»˜è®¤å€¼æ—¶ä½¿ç”¨é—­åŒ…æˆ–å‡½æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">getprice</span><span class="params">()</span></span>-&gt;<span class="type">Double</span> &#123;  </div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>  </div><div class="line">&#125;  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pricePerKg: <span class="type">Double</span> = getprice()  </div><div class="line">    <span class="keyword">var</span> name = &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="string">"apple"</span>  </div><div class="line">    &#125;()     <span class="comment">//ç•™æ„è¿™å¯¹å°æ‹¬å·ï¼Œæ²¡æœ‰çš„è¯é‚£å°±æ˜¯ç»™å±æ€§èµ‹å€¼ä¸€ä¸ªé—­åŒ…äº†ã€‚  </span></div><div class="line">&#125;  </div><div class="line"><span class="keyword">var</span> a = <span class="type">Apple</span>()  </div><div class="line"><span class="built_in">print</span>(a.pricePerKg,a.name)</div></pre></td></tr></table></figure><h1 id="ææ„å™¨"><a href="#ææ„å™¨" class="headerlink" title="ææ„å™¨"></a>ææ„å™¨</h1><blockquote><p>ææ„å™¨ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå®ä¾‹å†ä¹Ÿä¸ç”¨åˆ°æ—¶å€™è°ƒç”¨çš„æ–¹æ³•ã€‚ææ„å™¨é‡Œé¢å®Œæˆä¸€äº›æ¸…ç†å·¥ä½œæˆ–ä¿å­˜æ•°æ®ç­‰ç­‰ã€‚ææ„å™¨æ˜¯ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨çš„ï¼Œä¸å…è®¸è‡ªè¡Œè°ƒç”¨ã€‚</p><p>è¯­æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">deinit</span> &#123;  </div><div class="line">    <span class="comment">// perform the deinitialization  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-UIKit-UIButton-Imgå’ŒTitleä½ç½®</title>
      <link href="/2017/12/01/OC/Kit/UIButton-Img%E5%92%8CTitle%E4%BD%8D%E7%BD%AE/"/>
      <content type="html"><![CDATA[<h1 id="iOS-UI-UIButton-Imgå’ŒTitleä½ç½®"><a href="#iOS-UI-UIButton-Imgå’ŒTitleä½ç½®" class="headerlink" title="iOS-UI-UIButton-Imgå’ŒTitleä½ç½®"></a>iOS-UI-UIButton-Imgå’ŒTitleä½ç½®</h1><blockquote><p>UIButton çš„image title çš„ä½ç½®éƒ½æ˜¯å¯ä»¥è°ƒæ•´çš„ï¼Œå…·ä½“å¦‚ä½•è°ƒæ•´å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤</p></blockquote><h2 id="è®¾ç½®å†…å®¹çš„æ°´å¹³å‚ç›´ä½ç½®"><a href="#è®¾ç½®å†…å®¹çš„æ°´å¹³å‚ç›´ä½ç½®" class="headerlink" title="è®¾ç½®å†…å®¹çš„æ°´å¹³å‚ç›´ä½ç½®"></a>è®¾ç½®å†…å®¹çš„æ°´å¹³å‚ç›´ä½ç½®</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.contentVerticalAlignment = <span class="built_in">UIControlContentVerticalAlignmentTop</span>;</div><div class="line"><span class="keyword">self</span>.contentHorizontalAlignment = <span class="built_in">UIControlContentHorizontalAlignmentLeft</span>;</div></pre></td></tr></table></figure><blockquote><p>selfæŒ‡çš„æ˜¯UIButtonå¯¹è±¡ï¼Œè¿™æ˜¯ç»§æ‰¿è‡ªUIButonçš„æ–¹æ³•é‡Œé¢æˆ–è€…ç»™UIButtonæ·»åŠ æ‰©å±•æ–¹æ³•é‡Œé¢ã€‚<br>é€šè¿‡è¿™æ ·çš„è®¾ç½®å¯ä»¥ä½¿å¾—imageViewæ˜¾ç¤ºåœ¨UIButtonå¯¹è±¡çš„å·¦ä¸Šè§’ï¼ŒtitleLabelæ˜¾ç¤ºåœ¨imageViewçš„å³è¾¹</p></blockquote><h2 id="è°ƒæ•´imageViewå±…ä¸­"><a href="#è°ƒæ•´imageViewå±…ä¸­" class="headerlink" title="è°ƒæ•´imageViewå±…ä¸­"></a>è°ƒæ•´imageViewå±…ä¸­</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CGFloat</span> btn_width = <span class="keyword">self</span>.frame.size.width;</div><div class="line"><span class="keyword">self</span>.imageEdgeInsets = <span class="built_in">UIEdgeInsetsMake</span>(<span class="number">10</span>, (btn_width - <span class="keyword">self</span>.imageView.frame.size.width)/<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>);</div></pre></td></tr></table></figure><h2 id="è°ƒæ•´-titleLabelå±…ä¸­"><a href="#è°ƒæ•´-titleLabelå±…ä¸­" class="headerlink" title="è°ƒæ•´ titleLabelå±…ä¸­"></a>è°ƒæ•´ titleLabelå±…ä¸­</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">CGFloat</span> btn_width = <span class="keyword">self</span>.frame.size.width;</div><div class="line"><span class="keyword">self</span>.titleEdgeInsets = <span class="built_in">UIEdgeInsetsMake</span>(<span class="keyword">self</span>.imageView.frame.size.height + vSpace+<span class="number">10</span>, - <span class="keyword">self</span>.imageView.frame.size.width+(btn_width/<span class="number">2</span>-<span class="keyword">self</span>.titleLabel.frame.size.width/<span class="number">2</span>), <span class="number">0</span>, <span class="number">0</span>);</div></pre></td></tr></table></figure><blockquote><p>é€šè¿‡å‡å» imageViewçš„å®½åº¦ä½¿titleLabelå¤„åœ¨å·¦ä¸Šè§’ï¼Œè®©åå°†labelç§»æ¤ä¸­å¿ƒã€‚<br>ç»è¿‡ä»¥ä¸Šä¸‰æ­¥å°±å¯ä»¥ä½¿imageView ã€titleLabelLabel å±…ä¸­ï¼Œå…¶å®ƒçš„æ˜¾ç¤ºå½¢å¼ä¸€æ ·å¯ä»¥å‚ç…§ä»¥ä¸Šçš„è®¾ç½®ã€‚</p></blockquote><h1 id="æ•´ç†æˆäº†æ–¹æ³•ï¼Œ"><a href="#æ•´ç†æˆäº†æ–¹æ³•ï¼Œ" class="headerlink" title="æ•´ç†æˆäº†æ–¹æ³•ï¼Œ"></a>æ•´ç†æˆäº†æ–¹æ³•ï¼Œ</h1><blockquote><p>ä¸éœ€è¦æ¯æ¬¡éƒ½å†™</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>) setImageAndTitleCenterWithVerticalGapSpace:(<span class="built_in">CGFloat</span>) vSpace imageTopSpace:(<span class="built_in">CGFloat</span>) iSpace &#123;</div><div class="line"></div><div class="line">    <span class="keyword">self</span>.contentVerticalAlignment = <span class="built_in">UIControlContentVerticalAlignmentTop</span>;</div><div class="line">    <span class="keyword">self</span>.contentHorizontalAlignment = <span class="built_in">UIControlContentHorizontalAlignmentLeft</span>;</div><div class="line"></div><div class="line">    <span class="built_in">CGFloat</span> btn_width = <span class="keyword">self</span>.frame.size.width;</div><div class="line">    <span class="built_in">CGFloat</span> iTop = iSpace;</div><div class="line">    <span class="keyword">self</span>.imageEdgeInsets = <span class="built_in">UIEdgeInsetsMake</span>(iTop, (btn_width - <span class="keyword">self</span>.imageView.frame.size.width)/<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="comment">//    self.titleEdgeInsets = UIEdgeInsetsMake(self.imageView.frame.size.height + vSpace+iTop, - self.imageView.frame.size.width+(btn_width/2-self.titleLabel.frame.size.width/2), 0, 0);</span></div><div class="line"><span class="comment">// ä½¿ç”¨ä¸­å‘ç°å¯¹äºlabelçš„widthå–å€¼ä¸å‡†ç¡®ï¼Œé‚é€šè¿‡è®¡ç®—ä¸€æ¬¡è·å–ï¼Œå‡†ç¡®</span></div><div class="line">    <span class="built_in">CGSize</span> size = [<span class="keyword">self</span>.titleLabel sizeThatFits:<span class="built_in">CGSizeMake</span>(<span class="built_in">CGRectGetWidth</span>(<span class="keyword">self</span>.frame), <span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span>.frame))];</div><div class="line">    <span class="keyword">self</span>.titleEdgeInsets = <span class="built_in">UIEdgeInsetsMake</span>(<span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span>.imageView.frame)+ vSpace + iTop, - <span class="built_in">CGRectGetWidth</span>(<span class="keyword">self</span>.imageView.frame) + (<span class="built_in">CGRectGetWidth</span>(<span class="keyword">self</span>.frame) - size.width)/<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>vSpace imageViewä¸titleLabelå‚ç›´é—´éš”</li><li>iSpace imageView è·ç¦» topçš„é—´éš”</li></ul>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> UIKit </category>
          
          <category> UIButton </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Inheritance-ç±»ç»§æ‰¿åŸºæœ¬ç”¨æ³•</title>
      <link href="/2017/12/01/Swift/Grammar/Inheritance-%E7%B1%BB%E7%BB%A7%E6%89%BF%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/"/>
      <content type="html"><![CDATA[<h1 id="ç±»ç»§æ‰¿"><a href="#ç±»ç»§æ‰¿" class="headerlink" title="ç±»ç»§æ‰¿"></a>ç±»ç»§æ‰¿</h1><p>.&gt;ç»§æ‰¿æ˜¯ç±»ç‹¬æœ‰çš„ï¼Œç»“æ„ä½“å’Œæšä¸¾ç±»éƒ½ä¸å…·æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚<br>ç»§æ‰¿å°±å¥½åƒå­æ‰¿çˆ¶ä¸šä¸€æ ·ï¼Œä¸€ä¸ªç»§æ‰¿çš„ç±»ï¼ˆç§°ä¸ºå­ç±»subClassï¼‰å¯ä»¥è·å¾—è¢«ç»§æ‰¿çš„ç±»ï¼ˆç§°ä¸ºçˆ¶ç±»superClassï¼‰çš„å±æ€§ï¼Œæ–¹æ³•å’Œå…¶ä»–ç‰¹æ€§ã€‚</p><blockquote><p>å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·±çš„å±æ€§ï¼Œè¿˜å¯ä»¥ä¸ºç»§æ‰¿è€Œæ¥çš„å±æ€§æ·»åŠ è§‚å¯Ÿå™¨ï¼ˆå¯¹ç»§æ‰¿è€Œæ¥çš„å­˜å‚¨å’Œè®¡ç®—å±æ€§éƒ½å¯ä»¥ï¼‰</p></blockquote><h1 id="åŸºç±»"><a href="#åŸºç±»" class="headerlink" title="åŸºç±»"></a>åŸºç±»</h1><blockquote><p>ä¸€ä¸ªä¸ç»§æ‰¿è‡ªä»»ä½•ç±»çš„ç±»ç§°ä¸ºåŸºç±»ã€‚<br>åœ¨Swiftä¸­ï¼Œæ˜¯æ²¡æœ‰å…±åŒçš„ç»ˆæçˆ¶ç±»çš„ã€‚ocå’Œjavaéƒ½æ˜¯æœ‰ç»ˆçº§çˆ¶ç±»çš„</p><p>å®šä¹‰ä¸€ä¸ªAnimalåŸºç±»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;  </div><div class="line">     <span class="keyword">var</span> life : <span class="type">Int</span> = <span class="number">0</span>  </div><div class="line">     <span class="keyword">var</span> description: <span class="type">String</span>&#123;  </div><div class="line">         <span class="keyword">return</span> <span class="string">"An animal with a life of \(life)"</span>  </div><div class="line">     &#125;  </div><div class="line">       </div><div class="line">     <span class="function"><span class="keyword">func</span> <span class="title">makeSounds</span><span class="params">()</span></span> &#123;  </div><div class="line">       </div><div class="line">     &#125;  </div><div class="line"> &#125;</div></pre></td></tr></table></figure><blockquote><p>ç»§æ‰¿è¯­æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  &lt;span style=<span class="string">"color:#ff0000;"</span>&gt;<span class="class"><span class="keyword">class</span> <span class="title">Dog</span>: <span class="title">Animal</span>&lt;/<span class="title">span</span>&gt; </span>&#123;  </div><div class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">"larry"</span>  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„Dogç±»ç»§æ‰¿è‡ªAnimalç±»ï¼Œå¹¶ä¸”æ·»åŠ äº†è‡ªå·±çš„nameå±æ€§ã€‚æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹dogç»§æ‰¿çš„å±æ€§ï¼Œç„¶åæ‰“å°ä¸€ä¸‹ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> dog = <span class="type">Dog</span>()  </div><div class="line">dog.life = <span class="number">10</span>  </div><div class="line"><span class="built_in">print</span>(<span class="string">"dog's life is"</span>,dog.life)  <span class="comment">//dog's life is 10</span></div></pre></td></tr></table></figure><h1 id="è¦†ç›–ï¼ˆoverrideï¼‰çˆ¶ç±»å±æ€§"><a href="#è¦†ç›–ï¼ˆoverrideï¼‰çˆ¶ç±»å±æ€§" class="headerlink" title="è¦†ç›–ï¼ˆoverrideï¼‰çˆ¶ç±»å±æ€§"></a>è¦†ç›–ï¼ˆoverrideï¼‰çˆ¶ç±»å±æ€§</h1><blockquote><p>å¯¹äºç»§æ‰¿è€Œæ¥çš„å­˜å‚¨å±æ€§æˆ–è€…è®¡ç®—å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å†™è¿™ä¸ªå±æ€§çš„getterå’Œsetteræ–¹æ³•æ¥å®ç°è¦†ç›–ã€‚ä¸‹é¢æ˜¯å‡ æ¡è§„åˆ™ï¼š</p></blockquote><ul><li><p>1ã€å½“ä½ é‡å†™äº†setteræ–¹æ³•çš„æ—¶å€™ï¼Œä¸€å®šè¦é‡å†™getteræ–¹æ³•ã€‚ä½†æ˜¯å¯ä»¥åªé‡å†™getteræ–¹æ³•ã€‚</p></li><li><p>2ã€è¦†ç›–å±æ€§çš„æ—¶å€™ï¼Œå±æ€§åå’Œç±»å‹éƒ½å¿…é¡»å’Œç»§æ‰¿çš„å±æ€§ä¸€è‡´æ‰ç®—è¦†ç›–ã€‚å¹¶ä¸”å‰é¢è¦åŠ ä¸Šoverrideå…³é”®å­—ã€‚</p></li><li><p>3ã€ä½ å¯ä»¥å°†ç»§æ‰¿çš„åªè¯»å±æ€§é‡å†™ä¸ºè¯»å†™å±æ€§ï¼Œä½†æ˜¯ä¸èƒ½å°†ç»§æ‰¿çš„è¯»å†™å±æ€§é‡å†™ä¸ºåªè¯»å±æ€§ã€‚</p></li></ul><blockquote><p>ä¸‹é¢é‡å†™Animalçš„descriptionå±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>: <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">"larry"</span>  </div><div class="line">    <span class="keyword">override</span> <span class="keyword">var</span> description: <span class="type">String</span> &#123;  </div><div class="line">        <span class="keyword">get</span>&#123;  </div><div class="line">            <span class="keyword">return</span> <span class="string">"It's a dog with the name of \(name)"</span>  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è¦†ç›–å±æ€§è§‚å¯Ÿå™¨"><a href="#è¦†ç›–å±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="è¦†ç›–å±æ€§è§‚å¯Ÿå™¨"></a>è¦†ç›–å±æ€§è§‚å¯Ÿå™¨</h1><blockquote><p>è§„åˆ™ï¼š</p></blockquote><ul><li><p>1ã€ä¸èƒ½å¯¹ç»§æ‰¿çš„å¸¸é‡ï¼Œæˆ–è€…åªè¯»å±æ€§æ·»åŠ å±æ€§è§‚å¯Ÿå™¨</p></li><li><p>2ã€ä¸èƒ½åŒæ—¶å¯¹ä¸€ä¸ªç»§æ‰¿å±æ€§åŒæ—¶æ·»åŠ å±æ€§è§‚å¯Ÿå™¨å’Œsetteræ–¹æ³•ã€‚å› ä¸ºsetteræ–¹æ³•å·²ç»å¯ä»¥æä¾›å±æ€§è§‚å¯Ÿå™¨çš„åŠŸèƒ½ã€‚</p></li><li><p>3ã€å³ä½¿è¦†ç›–äº†ä¹‹åï¼Œå¦‚æœçˆ¶ç±»çš„è¯¥å±æ€§æœ‰è§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå½“å€¼ä¿®æ”¹çš„æ—¶å€™ï¼Œçˆ¶ç±»çš„è§‚å¯Ÿå™¨ä¹Ÿä¼šè¢«è°ƒç”¨</p></li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Dog</span>: <span class="title">Animal</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">"larry"</span>  </div><div class="line">      </div><div class="line">    <span class="keyword">override</span> <span class="keyword">var</span> life: <span class="type">Int</span> &#123;  </div><div class="line">        <span class="keyword">didSet</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"The dog's life is \(life)"</span>)  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    <span class="keyword">override</span> <span class="keyword">var</span> description: <span class="type">String</span> &#123;  </div><div class="line">        <span class="keyword">get</span>&#123;  </div><div class="line">            <span class="keyword">return</span> <span class="string">"It's a dog with the name of \(name)"</span>  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="è¦†ç›–çˆ¶ç±»æ–¹æ³•"><a href="#è¦†ç›–çˆ¶ç±»æ–¹æ³•" class="headerlink" title="è¦†ç›–çˆ¶ç±»æ–¹æ³•"></a>è¦†ç›–çˆ¶ç±»æ–¹æ³•</h1><blockquote><p>åŒæ ·çš„ï¼ŒåŠ ä¸Šoverrideåï¼Œé‡å†™çˆ¶ç±»æ–¹æ³•å°±å¯ä»¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">makeSounds</span><span class="params">()</span></span> &#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"wang! wang!"</span>)  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="é˜²æ­¢è¦†ç›–"><a href="#é˜²æ­¢è¦†ç›–" class="headerlink" title="é˜²æ­¢è¦†ç›–"></a>é˜²æ­¢è¦†ç›–</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">ç”¨<span class="keyword">final</span>å…³é”®å­—å»ä¿®é¥°å°±å¯ä»¥äº†ã€‚æ¯”å¦‚<span class="keyword">final</span> <span class="keyword">var</span>ï¼Œ<span class="keyword">final</span> <span class="function"><span class="keyword">func</span>ï¼Œ <span class="title">final</span> <span class="title">class</span> <span class="title">func</span>ï¼Œ <span class="title">final</span> <span class="title">subscript</span></span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> Inheritance </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Subscripts-ä¸‹æ ‡</title>
      <link href="/2017/12/01/Swift/Grammar/Subscripts-%E4%B8%8B%E6%A0%87/"/>
      <content type="html"><![CDATA[<h1 id="ä¸‹æ ‡"><a href="#ä¸‹æ ‡" class="headerlink" title="ä¸‹æ ‡"></a>ä¸‹æ ‡</h1><blockquote><p>æ‰€è°“çš„ä¸‹æ ‡ï¼Œå°±æ˜¯[]<br>åœ¨Arrayå’ŒDictionaryçš„æ—¶å€™å°±å·²ç»æ¥è§¦è¿‡äº†ã€‚å®ƒå…¶å®ç®—ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œåˆ©ç”¨ä¸‹æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å±æ€§çš„getterå’Œsetterå†™åœ¨ä¸€èµ·ã€‚è€Œä¸”è¿˜å¯ä»¥æä¾›å¦å¤–çš„ä¸€äº›åŠŸèƒ½ã€‚<br>Stringæˆªä¸²çš„æ—¶å€™æ— æ¯”éº»çƒ¦,åˆ©ç”¨ä¸‹æ ‡å’Œæ‰©å±•ï¼ˆExtensionï¼‰å°è£…åå˜å¾—å¾ˆç®€å•ã€‚è¿™ä¸ªåœ¨è®²åˆ°æ‰©å±•çš„æ—¶å€™åœ¨å†™å‡ºæ¥å§ã€‚<br>ä¸‹æ ‡è¯­æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">subscript</span>(index: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;  </div><div class="line">    <span class="keyword">get</span> &#123;  </div><div class="line">        <span class="comment">// return an appropriate subscript value here  </span></div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">set</span>(newValue) &#123;  </div><div class="line">        <span class="comment">// perform a suitable setting action here  </span></div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å½“ç„¶å¯ä»¥å’Œè®¡ç®—å±æ€§ä¸€æ ·å°†setteråˆ å»ï¼Œå˜ä¸ºåªè¯»ã€‚<br>ä¸‹é¢ä¸¾ä¸€ä¸ªä½¿ç”¨ä¾‹å­ã€‚å‡è®¾åœ¨ä¹°æ©™å­ã€‚ä¸‹æ ‡è¡¨ç¤ºä½ è¦ä¹°å¤šå°‘æ–¤ï¼Œä¸‹æ ‡èƒ½è¿”å›æ€»å…±ä»·æ ¼ã€‚ å½“å¯¹ä¸‹æ ‡èµ‹å€¼çš„æ—¶å€™ï¼Œè¡¨ç¤ºä¹°é‚£ä¹ˆå¤šæ–¤çš„æ—¶å€™æ€»å…±èŠ±äº†å¤šå°‘é’±ã€‚ç„¶åä¿®æ”¹äº†æ©™å­çš„å•ä»·.<br>ä¸‹æ ‡ä¸æ­¢ä¸€ä¸ªå˜é‡ï¼Œè¿˜å¯ä»¥æœ‰å¤šä¸ªå˜é‡ã€‚å˜é‡ä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Orange</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pricePerKg: <span class="type">Double</span> = <span class="number">3</span>  </div><div class="line">    <span class="keyword">subscript</span>(kg: <span class="type">Double</span>, str: <span class="type">String</span>) -&gt; <span class="type">Double</span> &#123;  </div><div class="line">        <span class="keyword">get</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(str)  </div><div class="line">            <span class="keyword">return</span> kg * pricePerKg  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">set</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(str)  </div><div class="line">            <span class="keyword">self</span>.pricePerKg = newValue / kg  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> o = <span class="type">Orange</span>()  </div><div class="line"><span class="built_in">print</span>(<span class="string">"price of 10kg orange "</span>,o[<span class="number">10</span>,<span class="string">"buy 10 kg orange"</span>])  </div><div class="line">o[<span class="number">100</span>,<span class="string">"buy 100kg orange"</span>] =  <span class="number">250</span>  </div><div class="line"><span class="built_in">print</span>(<span class="string">"price per kg when buying 100kg orange "</span>,o.pricePerKg)  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//buy 10 kg orange  </span></div><div class="line"><span class="comment">//price of 10kg orange  30.0  </span></div><div class="line"><span class="comment">//buy 100kg orange  </span></div><div class="line"><span class="comment">//price per kg when buying 100kg orange  2.5</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Method-æ–¹æ³•</title>
      <link href="/2017/12/01/Swift/Grammar/Method-%E6%96%B9%E6%B3%95/"/>
      <content type="html"><![CDATA[<h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><blockquote><p><strong>æ–¹æ³•</strong> å…¶å®å°±æ˜¯å‡½æ•°ï¼Œåªä¸è¿‡æ–¹æ³•æ˜¯å±äºæŸä¸ªç±»ã€ç»“æ„ä½“ã€æšä¸¾ç±»çš„å‡½æ•°<br>æ–¹æ³•çš„å®šä¹‰å’Œå‡½æ•°ä¸€æ ·ã€‚è°ƒç”¨é€šè¿‡ç‚¹è¯­æ³•å®ç°ã€‚æ³¨æ„ï¼Œæ–¹æ³•å’Œå±æ€§ä¸èƒ½åŒåã€‚ä½†æ˜¯ç±»å‹æ–¹æ³•å¯ä»¥å’Œå®ä¾‹æ–¹æ³•é‡å</p></blockquote><h2 id="Instance-Methodså®ä¾‹æ–¹æ³•"><a href="#Instance-Methodså®ä¾‹æ–¹æ³•" class="headerlink" title="Instance Methodså®ä¾‹æ–¹æ³•"></a>Instance Methodså®ä¾‹æ–¹æ³•</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Video</span> </span>&#123;  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">(videoName: String)</span></span> &#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Now play"</span>,videoName)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> v = <span class="type">Video</span>()  </div><div class="line">v.play(<span class="string">"\"monkey king\""</span>)   <span class="comment">//æ‰“å° Now play "monkey king"</span></div></pre></td></tr></table></figure><blockquote><p>åœ¨å®ä¾‹æ–¹æ³•é‡Œé¢å…·æœ‰ self å±æ€§ï¼Œè¯¥å±æ€§å°±æ˜¯æŒ‡è¿™ä¸ªå®ä¾‹æœ¬èº«ã€‚å­¦ä¹ è¿‡javaæˆ–OCçš„åº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚å°±æ˜¯ç”¨æ¥å½“å‚æ•°åå’Œå±æ€§åä¸€æ ·çš„æ—¶å€™ï¼Œç”¨æ¥åŒºåˆ†ç©¶ç«Ÿæ˜¯å“ªä¸ªå˜é‡ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Video</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> videoName: <span class="type">String</span>?  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">(videoName: String)</span></span> &#123;  </div><div class="line">        <span class="keyword">self</span>.videoName = videoName  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Now play"</span>,videoName)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> v = <span class="type">Video</span>()  </div><div class="line">v.play(<span class="string">"\"monkey king\""</span>)  </div><div class="line"><span class="built_in">print</span>(v.videoName!)  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//Now play "monkey king"  </span></div><div class="line"><span class="comment">//"monkey king"</span></div></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ˜¯å¯¹äºç»“æ„ä½“ï¼Œå› ä¸ºå®ƒæ˜¯å€¼ä¼ é€’ï¼Œæ‰€ä»¥ä¸€èˆ¬æ–¹æ³•é‡Œé¢å¦‚æœå’Œä¸Šé¢ä¸€æ ·å°è¯•ä¿®æ”¹å­˜å‚¨å±æ€§çš„å€¼çš„è¯ï¼Œæ˜¯ä¸å…è®¸çš„ã€‚ç›´æ¥æŠ¥é”™ã€‚<br>å¦‚æœéœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨æ–¹æ³•å‰é¢åŠ ä¸Šmutatingå…³é”®å­—<br>changeVideoæ–¹æ³•å°†æ•´ä¸ªselféƒ½èµ‹å€¼äº†ä¸€ä¸ªæ–°å®ä¾‹ã€‚<br>å› ä¸ºæšä¸¾ç±»æ˜¯ä¸å­˜åœ¨å­˜å‚¨å±æ€§çš„ï¼Œæ‰€ä»¥æ²¡æœ‰ä¸Šé¢ä¿®æ”¹å±æ€§çš„æƒ…å†µã€‚ä½†æ˜¯selfå…³é”®å­—è¿˜æ˜¯æœ‰çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Video</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> videoName: <span class="type">String</span>?  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">(videoName: String)</span></span> &#123;  </div><div class="line">        <span class="keyword">self</span>.videoName = videoName  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"Now play"</span>,videoName)  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">changeVideo</span><span class="params">(newVideo: String)</span></span>&#123;  </div><div class="line">        <span class="keyword">self</span> = <span class="type">Video</span>(videoName: newVideo)  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">&#125;  </div><div class="line"><span class="keyword">var</span> v = <span class="type">Video</span>()  </div><div class="line">v.play(<span class="string">"\"monkey king\""</span>)  </div><div class="line">v.changeVideo(<span class="string">"misson impossible"</span>)  </div><div class="line"><span class="built_in">print</span>(v.videoName!)  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//Now play "monkey king"  </span></div><div class="line"><span class="comment">//misson impossible</span></div></pre></td></tr></table></figure><h2 id="Type-Methodsç±»å‹æ–¹æ³•"><a href="#Type-Methodsç±»å‹æ–¹æ³•" class="headerlink" title="Type Methodsç±»å‹æ–¹æ³•"></a>Type Methodsç±»å‹æ–¹æ³•</h2><blockquote><p>è¿™ä¸ªå’Œç±»å‹å±æ€§ä¸€æ ·ï¼ŒåŠ ä¸Šstaticæˆ–classå°±è¡Œäº†ã€‚classå…è®¸å­ç±»è¦†ç›–çˆ¶ç±»æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">Video</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> videoName: <span class="type">String</span>?  </div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> playTime: <span class="type">Int</span> = <span class="number">0</span>  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">(videoName: String)</span></span> &#123;  </div><div class="line">        <span class="keyword">self</span>.videoName = videoName    <span class="comment">//è¿™é‡Œæ˜¯selfæŒ‡çš„æ˜¯Videoçš„å®ä¾‹  </span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"Now play"</span>,videoName)  </div><div class="line">        <span class="type">Video</span>.playTime++  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">changeVideo</span><span class="params">(newVideo: String)</span></span>&#123;  </div><div class="line">        <span class="keyword">self</span> = <span class="type">Video</span>(videoName: newVideo)  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">showPlayTime</span><span class="params">()</span></span>&#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="keyword">self</span>.playTime)   <span class="comment">//æ³¨æ„è¿™é‡Œçš„selfæ˜¯æŒ‡Videoè¿™ä¸ªç»“æ„ä½“ï¼Œè€Œä¸æ˜¯å®ä¾‹  </span></div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="keyword">var</span> v = <span class="type">Video</span>()  </div><div class="line"><span class="type">Video</span>.showPlayTime()  </div><div class="line">v.play(<span class="string">"\"monkey king\""</span>)  </div><div class="line"><span class="type">Video</span>.showPlayTime()  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//0  </span></div><div class="line"><span class="comment">//Now play "monkey king"  </span></div><div class="line"><span class="comment">//1</span></div></pre></td></tr></table></figure><ul><li><p>æ³¨æ„ï¼Œè°ƒç”¨ç±»å‹æ–¹æ³•åªèƒ½é€šè¿‡ç±»åçš„ç‚¹è¯­æ³•æ¥å®ç°ï¼Œä¸èƒ½é€šè¿‡å®ä¾‹çš„ç‚¹è¯­æ³•ã€‚è¿™ç‚¹å’Œç±»å‹å±æ€§æ˜¯ä¸€æ ·çš„ã€‚</p></li><li><p>å…³äºè¿™ä¸ªç±»å‹æ–¹æ³•ï¼Œéœ€è¦æ³¨æ„é‡Œé¢çš„selfå’Œå®ä¾‹æ–¹æ³•é‡Œé¢çš„selfæŒ‡å‘çš„ä¸æ˜¯ç”¨ä¸€ä¸ªä¸œè¥¿ï¼Œå‰è€…æ˜¯æŒ‡ç±»å‹æœ¬èº«ï¼Œåè€…æ˜¯æŒ‡ç±»å‹çš„å®ä¾‹ã€‚</p></li><li><p>æ‰€ä»¥åœ¨ç±»å‹æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•é‡Œé¢è®¿é—®ç±»å‹å˜é‡å’Œå®ä¾‹å˜é‡ä¹Ÿæœ‰ä¸åŒã€‚åœ¨å®ä¾‹æ–¹æ³•é‡Œé¢è®¿é—®ç±»å‹å˜é‡ï¼Œéœ€è¦åŠ ä¸Šç±»å‹å‰ç¼€ã€‚ åœ¨ç±»å‹æ–¹æ³•é‡Œé¢è®¿é—®ç±»å‹å˜é‡ï¼Œå¯ä»¥åŠ ä¸Šç±»å‹å‰ç¼€ï¼Œç”¨selfï¼Œæˆ–è€…ä¸åŠ å‰ç¼€ã€‚åœ¨ç±»å‹æ–¹æ³•é‡Œé¢æ˜¯ä¸èƒ½è®¿é—®å®ä¾‹å˜é‡çš„</p></li></ul>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Properties-å±æ€§</title>
      <link href="/2017/12/01/Swift/Grammar/Properties-%E5%B1%9E%E6%80%A7/"/>
      <content type="html"><![CDATA[<h1 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h1><blockquote><p>Swiftä¸­ï¼Œå±æ€§å¤§è‡´åˆ†ä¸ºä¸¤ç§ï¼Œå­˜å‚¨å±æ€§+è®¡ç®—å±æ€§</p></blockquote><h2 id="Stored-Propertieså­˜å‚¨å±æ€§"><a href="#Stored-Propertieså­˜å‚¨å±æ€§" class="headerlink" title="Stored Propertieså­˜å‚¨å±æ€§"></a>Stored Propertieså­˜å‚¨å±æ€§</h2><blockquote><p>å­˜å‚¨å±æ€§:èƒ½ä¿å­˜æ•°æ®çš„å±æ€§ã€‚æšä¸¾ç±»ã€ç»“æ„ä½“ã€ç±»éƒ½å…·æœ‰å­˜å‚¨å±æ€§<br>å­˜å‚¨å±æ€§å¯ä»¥è®¾ä¸ºvar æˆ–letã€‚åˆ†åˆ«å¯¹åº”å¸¸é‡å’Œå˜é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CPU</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> clockSpeed = <span class="number">1.0</span>   <span class="comment">//å˜é‡  </span></div><div class="line">    <span class="keyword">let</span> coreNum = <span class="number">2</span>        <span class="comment">//å¸¸é‡  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>è®¡ç®—å±æ€§å°±æ˜¯å®ƒæœ¬èº«ä¸ä¿å­˜æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡å¤„ç†å…¶ä»–çš„æ•°æ®å¾—åˆ°è¿”å›å€¼ã€‚ ç»“æ„ä½“å’Œç±»æ‰å…·æœ‰è®¡ç®—å±æ€§<br>ç„¶åæˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªCPUå®ä¾‹ï¼Œä½†æ˜¯è¿™ä¸ªå®ä¾‹æˆ‘ä»¬è®¾ç½®ä¸ºå¸¸é‡ã€‚è¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªåæœï¼šå¯¹åº”å€¼ä¼ é€’çš„ç»“æ„ä½“ï¼Œå½“å®ä¾‹æ˜¯å¸¸é‡çš„æ—¶å€™ï¼Œå³ä½¿å­˜å‚¨å±æ€§æ˜¯å˜é‡ï¼Œä¹Ÿä¸èƒ½ä¿®æ”¹é‡Œé¢å±æ€§çš„å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> cpu = <span class="type">CPU</span>(clockSpeed: <span class="number">3.2</span>)   <span class="comment">//æ³¨æ„åˆ°è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå› ä¸ºæˆ‘ä»¬è®¾ç½®äº†coreNumä¸ºå¸¸é‡ï¼Œå¹¶ä¸”ç»™äº†åˆå§‹å€¼ï¼Œæ‰€ä»¥æ„é€ æ–¹æ³•ä¼šå‘ç”Ÿå˜åŒ–  </span></div><div class="line">cpu.clockSpeed = <span class="number">3.3</span>      <span class="comment">//è¿™å¥ä¼šæŠ¥é”™</span></div></pre></td></tr></table></figure><blockquote><p>ç„¶è€Œå¯¹äºå¼•ç”¨ä¼ é€’çš„ç±»æ¥è®²ï¼Œå³ä½¿å®ä¾‹æ˜¯å¸¸é‡ï¼Œé‡Œé¢è®¾ç½®ä¸ºå˜é‡çš„å­˜å‚¨å±æ€§è¿˜æ˜¯å¯ä»¥æ›´æ”¹å€¼çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Telephone</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> cpu = <span class="type">CPU</span>()  </div><div class="line">    <span class="keyword">var</span> screenSize: <span class="type">Int</span>?  </div><div class="line">    <span class="keyword">var</span> price: <span class="type">Int</span>?  </div><div class="line">&#125;  </div><div class="line"><span class="keyword">let</span> myTelephont = <span class="type">Telephone</span>()  </div><div class="line">myTelephont.screenSize = <span class="number">4</span></div></pre></td></tr></table></figure><blockquote><p>æ‡’åŠ è½½å­˜å‚¨å±æ€§<br>Swiftéœ€è¦ä¿è¯ä¸€ä¸ªç±»æˆ–ç»“æ„ä½“æˆ–æšä¸¾ç±»åœ¨åˆå§‹åŒ–ä¹‹åï¼Œæ‰€ä»¥çš„å­˜å‚¨å±æ€§éƒ½å¿…é¡»æœ‰åˆå§‹å€¼ï¼ˆé™¤å¼€å¯é€‰ç±»å‹ï¼‰ã€‚æ‰€ä»¥å½“å®ä¾‹åˆå§‹åŒ–å®Œæˆä»¥åï¼Œæ‰€ä»¥çš„å­˜å‚¨å±æ€§éƒ½åˆå§‹åŒ–äº†ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™æŸäº›å­˜å‚¨å±æ€§ä¸ä¸€å®šä¼šç”¨åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›å­˜å‚¨å±æ€§è®¾ç½®ä¸ºlazyå­˜å‚¨å±æ€§ã€‚é‚£ä¹ˆå®ƒåœ¨è¦ç”¨åˆ°çš„æ—¶å€™æ‰ä¼šè¿›è¡Œåˆå§‹åŒ–ã€‚lazyå­˜å‚¨å±æ€§åªèƒ½æ˜¯å˜é‡ã€‚è€Œä¸”åœ¨å¤šçº¿ç¨‹è°ƒç”¨çš„æ—¶å€™ï¼Œå¦‚æœlazyå±æ€§æ²¡æœ‰åˆå§‹åŒ–ï¼Œé‚£ä¹ˆä¸èƒ½ä¿è¯åªä¼šåˆå§‹åŒ–ä¸€æ¬¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">CPU</span> </span>&#123;  </div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> clockSpeed = <span class="number">1.0</span>  </div><div class="line">    <span class="keyword">let</span> coreNum = <span class="number">2</span>  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">let</span> cpu = <span class="type">CPU</span>()  <span class="comment">//è¿™æ—¶å€™clockSpeedè¿˜æ˜¯ä¸ºnil</span></div></pre></td></tr></table></figure><h2 id="Computed-Properties-è®¡ç®—å±æ€§"><a href="#Computed-Properties-è®¡ç®—å±æ€§" class="headerlink" title="Computed Properties è®¡ç®—å±æ€§"></a>Computed Properties è®¡ç®—å±æ€§</h2><blockquote><p>æ•…åæ€è®®ï¼Œå®ƒæœ¬èº«ä¸ä¿å­˜æ•°æ®ï¼Œåªæ˜¯ç”¨å…¶ä»–æ•°æ®å¾—åˆ°è¿”å›å€¼ï¼Œæˆ–è€…å½“è®¾ç½®å®ƒçš„æ—¶å€™ä¿®æ”¹å…¶ä»–æ•°æ®ã€‚ä¸‹é¢çš„ä¾‹å­åˆ©ç”¨å­˜å‚¨å±æ€§å¾—åˆ°appleçš„æ€»ä»·ã€‚æˆ–è€…ä¿®æ”¹æ€»ä»·çš„æ—¶å€™ä¿®æ”¹é‡é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">let</span> pricePerKg = <span class="number">6.0</span>  </div><div class="line">    <span class="keyword">var</span> weight: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">var</span> totalPrice: <span class="type">Double</span> &#123;  </div><div class="line">        <span class="keyword">get</span> &#123;  </div><div class="line">            <span class="keyword">return</span> pricePerKg * weight  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">set</span>(newTotalPrice) &#123;  </div><div class="line">            weight = newTotalPrice / pricePerKg  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> apple = <span class="type">Apple</span>(weight: <span class="number">2.0</span>)  </div><div class="line"><span class="built_in">print</span>(apple.totalPrice)    <span class="comment">//12.0  </span></div><div class="line">apple.totalPrice = <span class="number">6.0</span>  </div><div class="line"><span class="built_in">print</span>(apple.weight)       <span class="comment">//1.0</span></div></pre></td></tr></table></figure><blockquote><p>ç®—å±æ€§çš„setteræ–¹æ³•æ–°å€¼è‡ªå¸¦ä¸€ä¸ªé»˜è®¤å newValueï¼Œæ‰€ä»¥ä¸Šé¢çš„å®šä¹‰å¯ä»¥æ”¹ä¸º </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">let</span> pricePerKg = <span class="number">6.0</span>  </div><div class="line">    <span class="keyword">var</span> weight: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">var</span> totalPrice: <span class="type">Double</span> &#123;  </div><div class="line">        <span class="keyword">get</span> &#123;  </div><div class="line">            <span class="keyword">return</span> pricePerKg * weight  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">set</span> &#123;  </div><div class="line">            weight = newValue / pricePerKg  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¯ä»¥å°†è®¡ç®—å±æ€§çš„setterå»æ‰ï¼Œé‚£ä¹ˆè¿™ä¸ªè®¡ç®—æ•°æ®å°±å˜æˆäº†åªè¯»çš„ã€‚è¿™æ—¶å€™è¿˜å¯ä»¥çœå»getå…³é”®å­— </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">let</span> pricePerKg = <span class="number">6.0</span>  </div><div class="line">    <span class="keyword">var</span> weight: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">var</span> totalPrice: <span class="type">Double</span> &#123;  </div><div class="line">        <span class="keyword">return</span> pricePerKg * weight  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>ä¸è¦åœ¨è®¡ç®—å±æ€§çš„setterå’Œgetteré‡Œé¢è·å–è¯¥è®¡ç®—å±æ€§ï¼Œè¿™æ ·ä¼šå¯¼è‡´å¾ªç¯è°ƒç”¨</li></ul><h2 id="Property-Observerså±æ€§è§‚å¯Ÿå™¨"><a href="#Property-Observerså±æ€§è§‚å¯Ÿå™¨" class="headerlink" title="Property Observerså±æ€§è§‚å¯Ÿå™¨"></a>Property Observerså±æ€§è§‚å¯Ÿå™¨</h2><blockquote><p>æœ‰äº†å±æ€§è§‚å¯Ÿå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å±æ€§è¢«ä¿®æ”¹çš„æ—¶å€™åšä¸€äº›äº‹æƒ…ã€‚æ³¨æ„çš„æ˜¯å¯¹äºéç»§æ‰¿è€Œæ¥çš„è®¡ç®—å±æ€§ï¼Œæ²¡æœ‰å¿…è¦è®¾ç½®å±æ€§è§‚å¯Ÿå™¨ï¼Œå› ä¸ºç›´æ¥å¯ä»¥åœ¨è®¡ç®—å±æ€§çš„setterå®šä¹‰ä¸­å®Œæˆè¿™é¡¹åŠŸèƒ½ã€‚</p><p>å±æ€§è§‚å¯Ÿå™¨æœ‰ä¸¤ä¸ªæ–¹æ³•<br>willSet åœ¨å±æ€§å°†è¦èµ‹å€¼çš„æ—¶å€™è°ƒç”¨ï¼Œè¿™æ—¶å€™å±æ€§çš„å€¼è¿˜æ²¡æ”¹å˜<br>didSetåœ¨å±æ€§å€¼è¢«èµ‹å€¼å®Œçš„æ—¶å€™å°±ä¼šè°ƒç”¨ã€‚ï¼ˆå³ä½¿æ˜¯èµ‹å€¼å’ŒåŸæ¥å€¼ä¸€æ ·çš„å€¼ï¼‰è¿™æ—¶å€™å±æ€§çš„å€¼å·²ç»æ”¹å˜ã€‚<br>willSetæ–¹æ³•é‡Œé¢ä¼šä¼ é€’æ–°å€¼è¿‡æ¥ï¼Œä½ å¯ä»¥è‡ªå·±å®šä¹‰è¿™ä¸ªæ–°å€¼çš„åç§°ï¼Œå¦‚æœä¸å®šä¹‰ï¼Œä¼šå…·æœ‰é»˜è®¤å€¼newValue<br>didSetæ–¹æ³•é‡Œé¢ä¼šä¼ é€’å±æ€§çš„æ—§å€¼è¿‡æ¥ï¼Œä½ å¯ä»¥è‡ªå·±å®šä¹‰è¿™ä¸ªæ—§å€¼çš„åç§°ï¼Œå¦‚æœä¸å®šä¹‰ï¼Œä¼šå…·æœ‰é»˜è®¤å€¼oldValueã€‚å¦‚æœä½ åœ¨didSetæ–¹æ³•é‡Œé¢åˆå¯¹è¿™ä¸ªå­˜å‚¨å±æ€§èµ‹å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¼šè¦†ç›–æ‰åˆšåˆšèµ‹å€¼çš„å€¼ã€‚ä¸”ä¸ä¼šå¯¼è‡´å¾ªç¯è°ƒç”¨ã€‚æ¯”å¦‚ä¸‹é¢ä¾‹å­é‡Œé¢ï¼Œå½“pricePerKgå°äº3çš„æ—¶å€™ï¼Œä¼šæŠŠå®ƒæ”¹ä¸º3</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Apple</span> </span>&#123;  </div><div class="line">    <span class="keyword">var</span> pricePerKg = <span class="number">6.0</span> &#123;  </div><div class="line">        <span class="keyword">willSet</span>(priceNewValue)&#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"In willSet, priceNewValue="</span>,priceNewValue)  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"In willSet, pricePerKg="</span>,pricePerKg)  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">didSet</span>&#123;  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"In didSet, oldValue="</span>,oldValue)  </div><div class="line">            <span class="built_in">print</span>(<span class="string">"In didSet, pricePerKg="</span>,pricePerKg)  </div><div class="line">            <span class="keyword">if</span> pricePerKg &lt; <span class="number">3</span> &#123;  </div><div class="line">                pricePerKg = <span class="number">3</span>  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">var</span> weight: <span class="type">Double</span>  </div><div class="line">    <span class="keyword">var</span> totalPrice: <span class="type">Double</span> &#123;  </div><div class="line">        <span class="keyword">get</span> &#123;  </div><div class="line">            <span class="keyword">return</span> pricePerKg * weight  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">set</span> &#123;  </div><div class="line">            weight = newValue / pricePerKg  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> apple = <span class="type">Apple</span>(pricePerKg: <span class="number">6.0</span>, weight: <span class="number">1.0</span>)  </div><div class="line">apple.pricePerKg = <span class="number">2.0</span>  </div><div class="line"><span class="built_in">print</span>(<span class="string">"apple.pricePerKg="</span>,apple.pricePerKg)  </div><div class="line"><span class="comment">/* è¾“å‡º </span></div><div class="line"><span class="comment">In willSet, priceNewValue= 2.0 </span></div><div class="line"><span class="comment">In willSet, pricePerKg= 6.0 </span></div><div class="line"><span class="comment">In didSet, oldValue= 6.0 </span></div><div class="line"><span class="comment">In didSet, pricePerKg= 2.0 </span></div><div class="line"><span class="comment">apple.pricePerKg= 3.0 </span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure><h2 id="Global-and-Local-Variableså…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡"><a href="#Global-and-Local-Variableså…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡" class="headerlink" title="Global and Local Variableså…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡"></a>Global and Local Variableså…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡</h2><blockquote><p>æ‰€è°“çš„å±€éƒ¨å˜é‡ï¼Œå°±æ˜¯å®šä¹‰åœ¨å‡½æ•°ã€æ–¹æ³•ã€é—­åŒ…ã€ç±»å‹ä¸Šä¸‹æ–‡é‡Œé¢çš„å˜é‡ã€‚<br>å…¨å±€å˜é‡å°±æ˜¯å®šä¹‰åœ¨å‡½æ•°ã€æ–¹æ³•ã€é—­åŒ…ã€ç±»å‹ä¸Šä¸‹æ–‡ä¹‹å¤–çš„å˜é‡ã€‚<br>å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡éƒ½ç§°ä¸ºå­˜å‚¨å˜é‡ã€‚<br>åœ¨å…¨å±€å’Œå±€éƒ¨èŒƒå›´å†…ï¼Œéƒ½å¯ä»¥å®šä¹‰è®¡ç®—å˜é‡ï¼Œæˆ–è€…ä¸ºå­˜å‚¨å˜é‡å®šä¹‰è§‚å¯Ÿå™¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">var</span> apple = <span class="type">Apple</span>(pricePerKg: <span class="number">6.0</span>, weight: <span class="number">1.0</span>) &#123;  <span class="comment">//ä¸ºappleå˜é‡å®šä¹‰è§‚å¯Ÿå™¨  </span></div><div class="line"><span class="keyword">willSet</span> &#123;  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"newApple"</span>,newValue)  </div><div class="line">&#125;  </div><div class="line"><span class="keyword">didSet</span>&#123;  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"oldApple"</span>,oldValue)  </div><div class="line">&#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line">apple = <span class="type">Apple</span>(pricePerKg: <span class="number">6.0</span>, weight: <span class="number">2.0</span>)  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> <span class="built_in">c</span>: <span class="type">Double</span> &#123;  <span class="comment">//å®šä¹‰ä¸€ä¸ªè®¡ç®—å˜é‡  </span></div><div class="line"><span class="keyword">get</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="number">9</span>  </div><div class="line">&#125;  </div><div class="line"><span class="keyword">set</span> &#123;  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"In setter,"</span>,newValue)  </div><div class="line">&#125;  </div><div class="line">&#125;  </div><div class="line"><span class="built_in">c</span> = <span class="number">2</span>  </div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>)  </div><div class="line"><span class="comment">/* </span></div><div class="line"><span class="comment">newApple Apple(pricePerKg: 6.0, weight: 2.0) </span></div><div class="line"><span class="comment">oldApple Apple(pricePerKg: 6.0, weight: 1.0) </span></div><div class="line"><span class="comment">In setter, 2.0 </span></div><div class="line"><span class="comment">9.0 </span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure><ul><li>å®˜æ–¹æ–‡æ¡£è¯´å…¨å±€å˜é‡å¸¸é‡éƒ½æ˜¯æ‡’åŠ è½½ï¼Œå±€éƒ¨å˜é‡å¸¸é‡éƒ½ä¸æ˜¯æ‡’åŠ è½½</li></ul><h2 id="Type-Propertiesç±»å‹å±æ€§"><a href="#Type-Propertiesç±»å‹å±æ€§" class="headerlink" title="Type Propertiesç±»å‹å±æ€§"></a>Type Propertiesç±»å‹å±æ€§</h2><blockquote><p>æ‰€è°“çš„ç±»å‹å±æ€§ï¼Œå°±æ˜¯è¿™ä¸ªå±æ€§æ˜¯å±äºè¿™ä¸ªç±»å‹çš„ï¼Œå³ä½¿è¿™ä¸ªç±»å‹ç”±å¤šä¸ªå®ä¾‹ï¼Œä¹Ÿåªä¼šæœ‰ä¸€ä¸ªç±»å‹å˜é‡ã€‚</p></blockquote><p>ç±»å‹å±æ€§æ˜¯æ‡’åŠ è½½çš„ï¼Œè€Œä¸”å¿…é¡»åœ¨å®šä¹‰çš„æ—¶å€™ç»™åˆå§‹å€¼ã€‚</p><p>ä¸€èˆ¬æ˜¯ç”¨staticæ¥å®šä¹‰ç±»å‹å±æ€§ã€‚ç‰¹åˆ«çš„ï¼Œå¯¹åº”ç±»çš„è®¡ç®—ç±»å‹å±æ€§ï¼Œè¿˜å¯ä»¥ç”¨classå…³é”®å­—å®šä¹‰ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—å­ç±»å¯ä»¥è¦†ç›–å®ƒã€‚</p><p>æ³¨æ„ç±»å‹å±æ€§è®¿é—®çš„æ—¶å€™ç”¨çš„æ˜¯ç±»åï¼Œä¸èƒ½ä½¿ç”¨å®ä¾‹æ¥è®¿é—®</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">SomeStructure</span> </span>&#123;  </div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> storedTypeProperty = <span class="string">"Some value."</span>  </div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> computedTypeProperty: <span class="type">Int</span> &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">SomeEnumeration</span> </span>&#123;  </div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> storedTypeProperty = <span class="string">"Some value."</span>  </div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> computedTypeProperty: <span class="type">Int</span> &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="number">6</span>  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> </span>&#123;  </div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> storedTypeProperty = <span class="string">"Some value."</span>  </div><div class="line">    <span class="keyword">static</span> <span class="keyword">var</span> computedTypeProperty: <span class="type">Int</span> &#123;  </div><div class="line">        <span class="keyword">return</span> <span class="number">27</span>  </div><div class="line">    &#125;  </div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">overrideableComputedTypeProperty</span>: <span class="title">Int</span> </span>&#123;  </div><div class="line">        <span class="keyword">return</span> <span class="number">107</span>  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="built_in">print</span>(<span class="type">SomeStructure</span>.storedTypeProperty)  </div><div class="line"><span class="comment">// prints "Some value."  </span></div><div class="line"><span class="type">SomeStructure</span>.storedTypeProperty = <span class="string">"Another value."</span>  </div><div class="line"><span class="built_in">print</span>(<span class="type">SomeStructure</span>.storedTypeProperty)  </div><div class="line"><span class="comment">// prints "Another value."  </span></div><div class="line"><span class="built_in">print</span>(<span class="type">SomeEnumeration</span>.computedTypeProperty)  </div><div class="line"><span class="comment">// prints "6"  </span></div><div class="line"><span class="built_in">print</span>(<span class="type">SomeClass</span>.computedTypeProperty)  </div><div class="line"><span class="comment">// prints "27"</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Func-å›¾ç‰‡çš„è§£å‹ç¼©</title>
      <link href="/2017/11/30/OC/Func/iOS-Func-%E5%9B%BE%E7%89%87%E7%9A%84%E8%A7%A3%E5%8E%8B%E7%BC%A9/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.leichunfeng.com/atom.xml" target="_blank" rel="external">http://blog.leichunfeng.com/atom.xml</a></p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-GCD-å¤šçº¿ç¨‹ç¼–ç¨‹GCD</title>
      <link href="/2017/11/30/OC/Grammar/iOS-GCD-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8BGCD/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.mogoal.com/2016/09/12/grand-central-dispatch/" target="_blank" rel="external">http://blog.mogoal.com/2016/09/12/grand-central-dispatch/</a></p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> GCD </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>OC-Codeä¸Šæ¶é…ç½®æ–‡æ¡£</title>
      <link href="/2017/11/29/OC/Code/OC_Code_%E4%B8%8A%E6%9E%B6%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3/"/>
      <content type="html"><![CDATA[<p>#ç¬¬ä¸‰æ–¹æœåŠ¡å¹³å°å¯¹æ¥</p><ul><li>è¾ˆå‡ºè®¾è®¡ç™»å½•ï¼Œåˆ†äº«</li></ul><p>##é˜¿é‡Œäº‘(ç›´æ’­ç±»ä¸€èˆ¬éœ€è¦ï¼Œä¸éœ€è¦è·³è¿‡)</p><p>-ï¼ˆ<a href="https://www.aliyun.comè´­ä¹°ä¸€å¹´åªè¦10ä¸ªæœˆçš„è´¹ç”¨ï¼Œosså’Œ" target="_blank" rel="external">https://www.aliyun.comè´­ä¹°ä¸€å¹´åªè¦10ä¸ªæœˆçš„è´¹ç”¨ï¼Œosså’Œ</a> slb æ˜¯æŒ‰æµé‡æ”¶è´¹ï¼Œè¯·ä¿è¯è´¦æˆ·æœ‰ä½™é¢ï¼‰500å¹¶å‘  ä¸€æœˆ</p><blockquote><p>è´¦å·ï¼šxxxxx<br>å¯†ç ï¼šxxxxx</p></blockquote><p>##è…¾è®¯äº‘(ç›´æ’­ç±»ä¸€èˆ¬éœ€è¦ï¼Œä¸éœ€è¦è·³è¿‡)</p><blockquote><p>è…¾è®¯äº‘è¯·ä½¿ç”¨qqæˆ–qqé‚®ç®±æ³¨å†Œï¼ˆ<a href="https://www.qcloud.comè´¦æˆ·éœ€å……å€¼ï¼‰å·®è®¤è¯" target="_blank" rel="external">https://www.qcloud.comè´¦æˆ·éœ€å……å€¼ï¼‰å·®è®¤è¯</a><br>è´¦å·ï¼šxxxxxx<br>å¯†ç ï¼šxxxxxx<br>SdkAppId ï¼š1314xxxx<br>accountType ï¼š1314xxxx</p></blockquote><h2 id="çŸ­ä¿¡å¹³å°"><a href="#çŸ­ä¿¡å¹³å°" class="headerlink" title="çŸ­ä¿¡å¹³å°"></a>çŸ­ä¿¡å¹³å°</h2><blockquote><p>iOS åªè¦æ³¨æ„çŸ­ä¿¡å¯ç”¨å³å¯</p></blockquote><h2 id="QQç™»å½•çš„åŠŸèƒ½ï¼ˆopen-qq-comï¼‰"><a href="#QQç™»å½•çš„åŠŸèƒ½ï¼ˆopen-qq-comï¼‰" class="headerlink" title="QQç™»å½•çš„åŠŸèƒ½ï¼ˆopen.qq.comï¼‰"></a>QQç™»å½•çš„åŠŸèƒ½ï¼ˆopen.qq.comï¼‰</h2><blockquote><p>ç™»å½•çš„APP IDï¼šxxxx<br>APP KEYï¼šxxxxx</p></blockquote><h2 id="appä¸Šçš„è…¾è®¯åœ°å›¾"><a href="#appä¸Šçš„è…¾è®¯åœ°å›¾" class="headerlink" title="appä¸Šçš„è…¾è®¯åœ°å›¾"></a>appä¸Šçš„è…¾è®¯åœ°å›¾</h2><blockquote><p>appä¸Šçš„è…¾è®¯åœ°å›¾keyä¿¡æ¯ï¼ˆHYPERLINK â€œ<a href="http://lbs.qq.com/index.html&quot;http://lbs.qq.com/index.htmlï¼‰" target="_blank" rel="external">http://lbs.qq.com/index.html&quot;http://lbs.qq.com/index.htmlï¼‰</a><br>æ‚¨çš„è…¾è®¯åœ°å›¾çš„ keyï¼šxxxxx<br>è´¦å·ï¼šxxxx<br>å¯†ç ï¼šxxx</p></blockquote><h2 id="Appæ–°æµªå¾®åšç™»"><a href="#Appæ–°æµªå¾®åšç™»" class="headerlink" title="Appæ–°æµªå¾®åšç™»"></a>Appæ–°æµªå¾®åšç™»</h2><blockquote><p>Appæ–°æµªå¾®åšç™»å½•ä¿¡æ¯ï¼ˆ HYPERLINK â€œ<a href="http://open.weibo.com/development/mobile" target="_blank" rel="external">http://open.weibo.com/development/mobile</a>â€œ <a href="http://open.weibo.com/development/mobileï¼‰" target="_blank" rel="external">http://open.weibo.com/development/mobileï¼‰</a><br>App Keyï¼š   xxxxä¸è¦å¾®åš<br>APP secretï¼šxxxx<br>è´¦å·ï¼š       xxxx<br>å¯†ç ï¼š       xxxx</p></blockquote><h2 id="å¾®ä¿¡å¼€æ”¾å¹³å°"><a href="#å¾®ä¿¡å¼€æ”¾å¹³å°" class="headerlink" title="å¾®ä¿¡å¼€æ”¾å¹³å°"></a>å¾®ä¿¡å¼€æ”¾å¹³å°</h2><blockquote><p>HYPERLINK â€œ<a href="https://open.weixin.qq.com/" target="_blank" rel="external">https://open.weixin.qq.com/</a>â€œ <a href="https://open.weixin.qq.com/" target="_blank" rel="external">https://open.weixin.qq.com/</a><br>æ‚¨çš„å¾®ä¿¡çš„APP IDï¼šxxxxx<br>APP secretï¼š8xxxxx<br>è´¦å·ï¼šxxx<br>å¯†ç ï¼šxxxx</p></blockquote><h2 id="å¼€é€šå¾®ä¿¡æ”¯ä»˜-Beichooæš‚æ—¶ä¸éœ€è¦"><a href="#å¼€é€šå¾®ä¿¡æ”¯ä»˜-Beichooæš‚æ—¶ä¸éœ€è¦" class="headerlink" title="å¼€é€šå¾®ä¿¡æ”¯ä»˜(Beichooæš‚æ—¶ä¸éœ€è¦)"></a>å¼€é€šå¾®ä¿¡æ”¯ä»˜(Beichooæš‚æ—¶ä¸éœ€è¦)</h2><blockquote><p>å¼€é€šå¾®ä¿¡æ”¯ä»˜ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰ï¼šç”¨äºè§‚ä¼—æ”¯ä»˜ï¼ˆå…·ä½“æ“ä½œæ­¥éª¤è¯·å‚è€ƒå”®åæ–‡æ¡£-åå°éœ€è¦é…ç½®çš„åœ°æ–¹-å¾®ä¿¡æ”¯ä»˜æ–‡æ¡£ï¼‰å¹¶ç•™æ„å’Œä¿ç•™ç›¸å…³é‚®ç®±ï¼Œç­‰äº¤ä»˜åå°åå¡«å†™åˆ°åå°çš„èµ„é‡‘ç®¡ç†-æ”¯ä»˜æ¥å£åˆ—è¡¨-å¾®ä¿¡æ”¯ä»˜ã€‚</p><p>æ³¨ï¼šæœ€åç¡®è®¤åˆ†äº«åˆ°æœ‹å‹åœˆã€å‘é€ç»™æœ‹å‹ã€å¾®ä¿¡ç™»å½•å’Œå¾®ä¿¡æ”¯ä»˜ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰çš„æ¥å£éƒ½å·²ç»è·å¾—ã€‚</p></blockquote><h2 id="ä¼ä¸šå¾®ä¿¡å…¬ä¼—å·çš„æœåŠ¡å·ä¿¡æ¯"><a href="#ä¼ä¸šå¾®ä¿¡å…¬ä¼—å·çš„æœåŠ¡å·ä¿¡æ¯" class="headerlink" title="ä¼ä¸šå¾®ä¿¡å…¬ä¼—å·çš„æœåŠ¡å·ä¿¡æ¯"></a>ä¼ä¸šå¾®ä¿¡å…¬ä¼—å·çš„æœåŠ¡å·ä¿¡æ¯</h2><blockquote><p>æ‚¨çš„å¾®ä¿¡å…¬ä¼—å·åç§°ï¼šxxxxxx<br>å¼€é€šå¾®ä¿¡æ”¯ä»˜ï¼šç”¨äºä¸»æ’­æç°ï¼ˆå…·ä½“æ“ä½œæ­¥éª¤è¯·å‚è€ƒå”®åæ–‡æ¡£-åå°éœ€è¦é…ç½®çš„åœ°æ–¹-å¾®ä¿¡æç°æ–‡æ¡£ï¼‰å¹¶ç•™æ„å’Œä¿ç•™ç›¸å…³é‚®ç®±ï¼Œç­‰äº¤ä»˜åå°åå¡«å†™åˆ°åå°çš„èµ„é‡‘ç®¡ç†-æ”¯ä»˜æ¥å£åˆ—è¡¨-å¾®ä¿¡æç°ã€‚<br>å¼€é€šä¼ä¸šä»˜æ¬¾åˆ°ç”¨æˆ·</p></blockquote><p>##ä¼ä¸šæ”¯ä»˜å®ç”³è¯·/ç­¾çº¦åŠappæ”¯ä»˜ç”³è¯·ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰</p><blockquote><p>ä¼ä¸šæ”¯ä»˜å®ç”³è¯·ã€ç­¾çº¦åŠappæ”¯ä»˜ç”³è¯·ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰<br>æ‚¨çš„æ”¯ä»˜å®è´¦å·ï¼š XXXXXX</p></blockquote><p>##å‹ç›Ÿè´¦æˆ·ä¿¡æ¯</p><blockquote><p>HYPERLINK â€œ<a href="http://www.umeng.com" target="_blank" rel="external">http://www.umeng.com</a>â€œ <a href="http://www.umeng.com" target="_blank" rel="external">http://www.umeng.com</a><br>è´¦å·ï¼šxxxxxx<br>å¯†ç : xxxxx</p></blockquote><p>#è‹¹æœå¼€å‘è€…è´¦å·</p><blockquote><p>è‹¹æœå¼€å‘è€…è´¦å·ï¼š738816656@qq.comï¼ˆå…·ä½“æ‰¾ç›¸å…³äººè¦ï¼‰<br>å¯†ç ï¼šxxxxxxxx<br>å¦‚æœ‰æœ‰å†…è´­<br>é“¶è¡Œå¡å¡å·ï¼š6236 6818 2000 3886 174<br>å¼€æˆ·è¡Œï¼š   ä¸­å›½å»ºè®¾é“¶è¡Œ<br>æŒå¡äººå§“åï¼šå²³å…‹å¥<br>12ä½è¯†åˆ«ç ï¼ˆæ‰“ç”µè¯é—®é“¶è¡Œï¼‰ï¼š105391004150</p></blockquote><h1 id="appåç§°å’ŒBID"><a href="#appåç§°å’ŒBID" class="headerlink" title="appåç§°å’ŒBID"></a>appåç§°å’ŒBID</h1><blockquote><p>appå<br>å›½å†…å‘å¸ƒAPPï¼Œåå­—æ˜¯ä¸­æ–‡</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">åœ¨é¡¹ç›®infoæ–‡ä»¶é‡Œè¾¹ï¼ŒæŠŠBundle display name å¡«å†™ä¸€ä¸ªä¸­æ–‡åå­—ï¼ŒLocalization native development regior é€‰æ‹©ä¸­å›½ã€‚å¦‚æœåˆšæ‰æåˆ°çš„ä¸¤ä¸ªéƒ½æ²¡æœ‰ï¼Œè‡ªå·±æ‰‹åŠ¨æ·»åŠ å³å¯</div></pre></td></tr></table></figure><blockquote><p>Bundle identifier å‘½åè§„èŒƒ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">å‘½åè§„èŒƒï¼Œä¸”å…·æœ‰å”¯ä¸€æ€§ï¼Œå› ä¸ºåœ¨å‘å¸ƒæ—¶å€™ï¼Œæè¿°è¯ä¹¦è¦åŒ¹é…å½“å‰idã€‚</div><div class="line">ä¸€èˆ¬é‡‡ç”¨com/cn +å…¬å¸å+é¡¹ç›®åï¼Œä¾‹å¦‚com.jindong.jd</div><div class="line"></div><div class="line">æ³¨ï¼šåœ¨ç”³è¯·QQã€å¾®ä¿¡ã€åœ°å›¾ã€å¾®åšç­‰ç¬¬ä¸‰æ–¹æ‰€éœ€å¡«å†™çš„åŒ…åå‡è¦ä¸æ­¤åŒ…åç»Ÿä¸€ï¼Œå¦‚æœä¸ç»Ÿä¸€å°±ä¼šå¯¼è‡´å„åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨</div></pre></td></tr></table></figure><blockquote><p>Version</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æ ¼å¼ï¼š 1.1.1  æœ€å¥½å†™3ä½</div></pre></td></tr></table></figure><blockquote><p>Build:</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æ ¼å¼ï¼š 1 ï¼ˆå†™æ•´æ•° 1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5å³å¯ï¼‰</div></pre></td></tr></table></figure><p><img src="http://ot0mms4k8.bkt.clouddn.com/iOS-APP-Code%E4%B8%8A%E6%9E%B6%E5%89%8D%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E-001.png" alt="001"></p><h1 id="Clean"><a href="#Clean" class="headerlink" title="Clean"></a>Clean</h1><ul><li>é€šçŸ¥å…¨å‘˜æäº¤ä»£ç </li><li>é¢„å…ˆè·‘ä¸€è¾¹ï¼Œè‡ªæµ‹ï¼Œç„¶åï¼Œcleanå·¥ç¨‹ï¼Œåƒµå°¸æ¨¡å¼ï¼Œæ–­ç‚¹ç»Ÿç»Ÿæ¸…æ¥š</li><li>Edit Scheme  å¿…é¡»æ”¹ä¸º Release</li></ul><h1 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h1><blockquote><p>FFConfig.h<br>æœåŠ¡å™¨æ¥å£</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#define APP_ENVIRONMENT_EDITION  0</div><div class="line"></div><div class="line"> 0 ä¸Šçº¿  ï¼ˆä¸å‡†Macè·‘å»æµ‹ï¼Œå¿…é¡»æ‰“åŒ…TestFlightæ–¹å¼ï¼‰</div><div class="line"> 1 å¼€å‘  </div><div class="line"> 2 æµ‹è¯•</div><div class="line"> 3 stage</div></pre></td></tr></table></figure><blockquote><p>æœåŠ¡å™¨ç‰ˆæœ¬<br>ç›®å‰0.1ç‰ˆæœ¬</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#define API_VERSION @&quot;/bc/0.1/&quot;</div></pre></td></tr></table></figure><blockquote><p>Push Notification åŠ¡å¿…æ‰“å¼€ å¹³æ—¶è¿™ä¸ªä¸è¦å…³äº†ï¼ï¼ï¼</p></blockquote><p><img src="http://ot0mms4k8.bkt.clouddn.com/iOS-APP-Code%E4%B8%8A%E6%9E%B6%E5%89%8D%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E-002.png" alt="002"></p><blockquote><p>Applinks å¼€å¯H5è·³è½¬App</p></blockquote><p><img src="http://ot0mms4k8.bkt.clouddn.com/iOS-APP-Code%E4%B8%8A%E6%9E%B6%E5%89%8D%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E-003.png" alt="003"></p><h1 id="App-ä¿¡æ¯"><a href="#App-ä¿¡æ¯" class="headerlink" title="App  ä¿¡æ¯"></a>App  ä¿¡æ¯</h1><blockquote><p>iTunesConnect:<a href="https://itunesconnect.apple.com/login" target="_blank" rel="external">https://itunesconnect.apple.com/login</a><br> <a href="https://itunesconnect.apple.com/login" target="_blank" rel="external">iTunesConnectç‚¹å‡»â€”&gt;ç™»å½•</a></p><p>æ ¹æ®è¿è¥ä¼šç»™ å¤šå¥— å…³é”®å­—ï¼Œå‰¯æ ‡é¢˜ï¼Œå¤šç§è¯­è¨€ç¯å¢ƒ<br>ä¸ºäº†åœ¨æ„å»ºç‰ˆæœ¬é‡Œï¼Œå¤šåŠ å‡ å¥—å…³é”®å­—</p></blockquote><p><img src="http://ot0mms4k8.bkt.clouddn.com/iOS-APP-Code%E4%B8%8A%E6%9E%B6%E5%89%8D%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E-004.png" alt="004"></p><h1 id="æ„å»ºç‰ˆæœ¬"><a href="#æ„å»ºç‰ˆæœ¬" class="headerlink" title="æ„å»ºç‰ˆæœ¬"></a>æ„å»ºç‰ˆæœ¬</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">æˆªå›¾ å‘å¸ƒæ—¶ æ¥ä¼ </div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Git-åŸºæœ¬ä½¿ç”¨</title>
      <link href="/2017/11/29/Git/Git-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><h2 id="åˆå§‹åŒ–ä»“åº“"><a href="#åˆå§‹åŒ–ä»“åº“" class="headerlink" title="åˆå§‹åŒ–ä»“åº“"></a>åˆå§‹åŒ–ä»“åº“</h2><blockquote><p>åˆ›å»ºæ™®é€šä»“åº“</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git init</div></pre></td></tr></table></figure><blockquote><p>åˆ›å»ºè£¸ä»“åº“ï¼Œè¿™é‡Œé¢è®¸å¤šgitå‘½ä»¤ä¸èƒ½ä½¿ç”¨ï¼Œåˆ‡æ¢åˆ†æ”¯éƒ½ä¸å¯ç”¨ï¼Œä¸€èˆ¬ç”¨æ¥å½“è¿œç¨‹ä»“åº“</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git --bare init</div></pre></td></tr></table></figure><h2 id="åˆ«å"><a href="#åˆ«å" class="headerlink" title="åˆ«å"></a>åˆ«å</h2><blockquote><p>ä½¿ç”¨config alias.å‘½ä»¤è¿›è¡Œï¼Œæ·»åŠ â€“globalå‚æ•°åå¯ä»¥å¯¹å…¨å±€gitçš„configæ–‡ä»¶è¿›è¡Œé…ç½®</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git config --global alias.st status</div></pre></td></tr></table></figure><p><a href="https://luolei.org//better-git-log/" target="_blank" rel="external">ä¸€ä¸ªå¾ˆåŠçš„é…ç½®ï¼Œè®©ä½ çš„gitå˜å¾—æ›´å¥½çœ‹ï¼Œæ‘˜è‡ª</a></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git config --global alias.lg &quot;log --color --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit&quot;</div></pre></td></tr></table></figure><h2 id="æœ¬åœ°çš„ä¸€äº›å‘½ä»¤"><a href="#æœ¬åœ°çš„ä¸€äº›å‘½ä»¤" class="headerlink" title="æœ¬åœ°çš„ä¸€äº›å‘½ä»¤"></a>æœ¬åœ°çš„ä¸€äº›å‘½ä»¤</h2><blockquote><p>é…ç½®ä¿¡æ¯</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git config user.name &quot;åå­—&quot; git config user.email &quot;email&quot;</div></pre></td></tr></table></figure><blockquote><p>branch<br>åˆ†æ”¯ç›¸å…³å‘½ä»¤</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git branch -a //æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯ git branch åˆ†æ”¯åå­— //å¦‚æœè¯¥åˆ†æ”¯ä¸å­˜åœ¨ï¼Œå°±ä¼šæ–°å»º git branch --delete åˆ†æ”¯åå­— //åˆ é™¤åˆ†æ”¯</div></pre></td></tr></table></figure><blockquote><p>add<br>å°†æœ¬ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½æ·»åŠ åˆ°æš‚ç¼“åŒºï¼Œå‡†å¤‡æäº¤ç”¨</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git add .</div></pre></td></tr></table></figure><blockquote><p>commit æäº¤</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git commit -m &quot;æ³¨é‡Š&quot;</div></pre></td></tr></table></figure><blockquote><p>merge<br>è¿™ä¸ªå‘½ä»¤ä¼šå°†æœ¬åˆ†æ”¯mergeåˆ«å¤„çš„åˆ†æ”¯ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git merge mergeè¿‡æ¥çš„åˆ†æ”¯</div></pre></td></tr></table></figure><h2 id="è¿œç¨‹å‘½ä»¤"><a href="#è¿œç¨‹å‘½ä»¤" class="headerlink" title="è¿œç¨‹å‘½ä»¤"></a>è¿œç¨‹å‘½ä»¤</h2><blockquote><p>æ·»åŠ è¿œç¨‹ä»“åº“</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git remote add &lt;è¿œç¨‹ä¸»æœºå&gt; url</div></pre></td></tr></table></figure><blockquote><p>pushï¼Œå‘½ä»¤æ ¼å¼ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&amp; git push è¿œç¨‹ä¸»æœºå æœ¬åœ°åˆ†æ”¯:è¿œç¨‹åˆ†æ”¯</div></pre></td></tr></table></figure><blockquote><p>ä¸¾ä¸ªä¾‹å­<br>ä¸‹é¢å‘½ä»¤å°†æœ¬åœ°åˆ†æ”¯aï¼Œpushåˆ°è¿œç¨‹ä¸»æœºoriginçš„a_remoteä¸Šï¼Œå¦‚æœè¿œç¨‹ä¸»æœºé‡Œé¢æ²¡æœ‰a_remoteåˆ†æ”¯ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ªè¿™åå­—çš„åˆ†æ”¯ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$  git push origin a:a_remote</div></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰è¿œç¨‹åˆ†æ”¯çš„åå­—ï¼Œé‚£ä¹ˆå°†ä¼šåœ¨è¿œç¨‹ä»“åº“å»ºç«‹ä¸€ä¸ªåŒåçš„åˆ†æ”¯ã€‚å¦‚æœæ²¡æœ‰æœ¬åœ°åå­—ï¼Œå°±åƒ :a_remoteï¼Œè¿™å°±ç›¸å½“äºä¼ äº†ä¸€ä¸ªç©ºçš„åˆ†æ”¯ç»™è¿œç¨‹ï¼Œ é‚£ä¹ˆä¼šåˆ é™¤æ‰è¿œç¨‹ä»“åº“çš„è¿™ä¸ªåˆ†æ”¯ã€‚</p><p>pull<br>è¿™ä¸ªå‘½ä»¤ä¼šå°†æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯è¿›è¡Œmergeï¼Œå¦‚æœå‡ºç°å†²çªï¼Œéœ€è¦è‡ªå·±è§£å†³ã€‚</p><p>å‘½ä»¤æ ¼å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git push è¿œç¨‹ä¸»æœºå è¿œç¨‹åˆ†æ”¯:æœ¬åœ°åˆ†æ”¯</div></pre></td></tr></table></figure><p>ä¾‹å­åœ¨æ­¤ï¼Œå°†è¿œç¨‹ä¸»æœºçš„</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git pull orgin a_remote:a</div></pre></td></tr></table></figure><blockquote><p>å‘ç”Ÿå†²çªçš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦ä¸¢å¼ƒæœ¬åœ°å·¥ä½œï¼Œé‚£ä¹ˆä½¿ç”¨</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git reset --hard</div></pre></td></tr></table></figure><blockquote><p>branchç›¸å…³çš„è¿œç¨‹å‘½ä»¤<br>å°†è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯ç›¸å…³è”</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">git branch --track æœ¬åœ°åˆ†æ”¯ è¿œç¨‹ä¸»æœº/è¿œç¨‹åˆ†æ”¯ //åœ¨åˆ›å»ºæœ¬åœ°åˆ†æ”¯çš„æ—¶å€™æŒ‡å®šå®ƒæ‰€å…³è”çš„è¿œç¨‹åˆ†æ”¯ git branch --set-upstream-to è¿œç¨‹ä¸»æœº/è¿œç¨‹åˆ†æ”¯ //å°†å½“å‰åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯</div></pre></td></tr></table></figure><blockquote><p>fetch<br>è¿™ä¸ªå‘½ä»¤å°†è¿œç¨‹çš„åˆ†æ”¯fetchä¸‹æ¥ï¼Œç„¶åå¯ä»¥å°†è¿™äº›fetchä¸‹æ¥çš„åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯è¿›è¡Œåˆå¹¶</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">git fetch ä¸»æœºå git fetch -p ä¸»æœºå //fetchå®Œæˆåï¼Œåˆ é™¤æœ¬åœ°ä»å­˜åœ¨ï¼Œä½†æ˜¯è¿œç¨‹ä¸å­˜åœ¨çš„åˆ†æ”¯å…³è”</div></pre></td></tr></table></figure><blockquote><p>ä¸‹é¢çš„å‘½ä»¤å°†æœ¬åœ°åˆ†æ”¯ç»‘å®šè¿œç¨‹åˆ†æ”¯ï¼Œä½†å¥½åƒå¹¶æ²¡ä»€ä¹ˆç”¨ï¼Œpushçš„æ—¶å€™å¦‚æœä¸è¾“å…¥è¿œç¨‹åˆ†æ”¯åå­—ï¼Œé‚£ä¹ˆè¿˜æ˜¯ä¼šæ–°å»ºä¸€ä¸ªå’Œæœ¬åœ°åˆ†æ”¯åŒåçš„è¿œç¨‹åˆ†æ”¯ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">git branch --set-upstream-to origin/aa_remote</div></pre></td></tr></table></figure><blockquote><p>stash<br>åœ¨è¿›è¡Œpullçš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">error: Your local changes to the following files would be overwritten by merge: xxx/xxx/xxx.java Please, commit your changes or stash them before you can merge. Aborting</div></pre></td></tr></table></figure><p>è¿™é‡Œè¦ä¹ˆå°†ä½ å½“å‰çš„å·¥ä½œcommitä¸€ä¸‹ï¼Œè¦ä¹ˆå°±å¯ä»¥ä½¿ç”¨stashå‘½ä»¤ã€‚<br>å…ˆç”¨stashå‘½ä»¤ç¼“å­˜å½“å‰å·¥ä½œï¼Œç„¶åpullï¼Œpullåå†ç”¨stash popè¿˜åŸä¹‹å‰çš„å·¥ä½œ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ git pull ... file foobar not up to date, cannot merge. $ git stash $ git pull $ git stash pop</div></pre></td></tr></table></figure><blockquote><p>å¦å¤–çš„æƒ…å†µå°±æ˜¯ï¼šä½ åœ¨å·¥ä½œçš„æ—¶å€™ï¼Œçªç„¶è¢«è€æ¿è¦æ±‚å»æ”¹åˆ«çš„ä¸œè¥¿ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨stashæŠŠå½“å‰çš„å·¥ä½œç¼“å­˜èµ·æ¥ã€‚æ”¹å®Œåˆ«çš„ä¸œè¥¿åå†å›æ¥ç»§ç»­å·¥ä½œã€‚</p><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$... hack hack hack ... </div><div class="line">$ git stash $ edit emergency fix </div><div class="line">$ git commit -a -m &quot;Fix in a hurry&quot; </div><div class="line">$ git stash pop # ... continue hacking ...</div></pre></td></tr></table></figure><h1 id="æœ€åä¸€äº›å‘"><a href="#æœ€åä¸€äº›å‘" class="headerlink" title="æœ€åä¸€äº›å‘"></a>æœ€åä¸€äº›å‘</h1><ul><li>1ã€åˆå§‹åŒ–çš„ä»“åº“è¦å…ˆcommitä¸€ä¸‹æ‰èƒ½æ–°å»ºåˆ†æ”¯<ul><li>2ã€å¦‚æœè¿œç¨‹ä»“åº“åœ¨ä½¿ç”¨è¿™ä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆä¸èƒ½æäº¤åˆ°è¿™ä¸ªåˆ†æ”¯ä¸Šå»ï¼Œé™¤éå»ºç«‹bareä»“åº“ï¼Œä½†æ˜¯bareä»“åº“ä¸èƒ½ä½¿ç”¨gitå‘½ä»¤ã€‚</li></ul></li></ul>]]></content>
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Classes/Structuresç±»å’Œç»“æ„ä½“</title>
      <link href="/2017/11/29/Swift/Grammar/Classes-Structures%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93/"/>
      <content type="html"><![CDATA[<h1 id="ç±»å’Œç»“æ„ä½“ç®€å™è¿°"><a href="#ç±»å’Œç»“æ„ä½“ç®€å™è¿°" class="headerlink" title="ç±»å’Œç»“æ„ä½“ç®€å™è¿°"></a>ç±»å’Œç»“æ„ä½“ç®€å™è¿°</h1><blockquote><p>Swiftä¸­ï¼Œç±»å’Œç»“æ„ä½“æ˜¯å¾ˆç›¸è¿‘çš„ã€‚æ‰€æœ‰ä¸‹é¢ç±»å’Œç»“æ„ä½“çš„å®ä¾‹éƒ½ç»Ÿç§°ä¸ºå®ä¾‹ã€‚ä¸å†å•ç‹¬ä¸ºç±»çš„å®ä¾‹ç§°ä¸ºå¯¹è±¡ã€‚<br>å’ŒCæˆ–OCï¼Œä¸åŒï¼Œswiftçš„ç±»åªå†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚è¿™ç‚¹å’Œjavaä¸€æ ·ã€‚</p></blockquote><h2 id="ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹ï¼š"><a href="#ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹ï¼š" class="headerlink" title="ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹ï¼š"></a>ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹ï¼š</h2><ul><li>1ã€èƒ½å®šä¹‰å±æ€§ç”¨æ¥å­˜å‚¨å€¼</li><li>2ã€èƒ½å®šä¹‰æ–¹æ³•å®ç°åŠŸèƒ½</li><li>3ã€èƒ½å®šä¹‰ä¸‹æ ‡æ¥å¾—åˆ°å€¼</li><li>4ã€å…·æœ‰åˆå§‹åŒ–æ„é€ å™¨åˆå§‹åŒ–å®ä¾‹</li><li>5ã€èƒ½è¢«æ‰©å±•</li><li>6ã€èƒ½å®ç°åè®®</li></ul><h2 id="ç±»æ¯”ç»“æ„ä½“å¤šå‡ºæ¥çš„ç‰¹ç‚¹ï¼š"><a href="#ç±»æ¯”ç»“æ„ä½“å¤šå‡ºæ¥çš„ç‰¹ç‚¹ï¼š" class="headerlink" title="ç±»æ¯”ç»“æ„ä½“å¤šå‡ºæ¥çš„ç‰¹ç‚¹ï¼š"></a>ç±»æ¯”ç»“æ„ä½“å¤šå‡ºæ¥çš„ç‰¹ç‚¹ï¼š</h2><ul><li><p>1ã€èƒ½è¢«ç»§æ‰¿</p></li><li><p>2ã€èƒ½åœ¨è¿è¡Œæ—¶ä½¿ç”¨ç±»å‹è½¬æ¢åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦ä¸ºæŸä¸ªç±»</p></li><li><p>3ã€å…·æœ‰ææ„å™¨</p></li><li><p>4ã€å¼•ç”¨è®¡æ•°å¯ä»¥å¤§äº1ï¼Œä½¿å¾—å¯ä»¥æœ‰å¤šä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªç±»çš„å®ä¾‹ï¼ˆæ³¨æ˜ï¼šç»“æ„ä½“æ˜¯å€¼ä¼ é€’ï¼Œæ‰€æœ‰æ²¡æœ‰å¼•ç”¨è®¡æ•°ï¼‰</p></li></ul><blockquote><p>ä¸‹é¢å®šä¹‰ä¸€ä¸ªç±»å’Œç»“æ„ä½“ï¼Œè¿™é‡Œå…ˆæä¸€ä¸‹ï¼Œç±»çš„æ¯ä¸ªå±æ€§éƒ½ç»™äº†é»˜è®¤å€¼ï¼Œé™¤äº†å¯é€‰ç±»å‹ä¹‹å¤–ã€‚è¿™ä¸ªæ˜¯swiftè¦æ±‚çš„ï¼Œä»¥åæ–‡ç« ä¼šè¯¦ç»†è®²åˆ°ã€‚</p></blockquote><p>struct CPU {<br>       var clockSpeed = 1.0 var coreNum = 4<br>        }<br> class Telephone {<br> var cpu = CPU()<br> // CPU()æ˜¯CPUç»“æ„ä½“çš„é»˜è®¤æ„é€ å™¨ã€‚å®ƒç”Ÿæˆä¸€ä¸ªCPUå®ä¾‹ï¼Œä»¥åæ„é€ å™¨çš„æ–‡ç« è¯¦ç»†è®²è¿™æ–¹é¢å†…å®¹ var screenSize = 5.0 var price: Int? }<br>ç„¶åå®šä¹‰ä»–ä»¬çš„å®ä¾‹</p><p>var myTelephone = Telephone() var newCPU = CPU()<br>æ³¨æ„ç»“æ„ä½“æ˜¯å€¼ä¼ é€’ï¼Œè€Œç±»æ˜¯å¼•ç”¨ä¼ é€’ã€‚ä¸‹é¢çš„ä»£ç æ¸…æ¥šè¯´æ˜äº†è¿™ä¸ªç‰¹ç‚¹ã€‚</p><p>var myTelephone = Telephone()<br>var newCPU = CPU()<br> print(myTelephone.cpu.clockSpeed) //1.0 swiftä½¿ç”¨ç‚¹è¯­æ³•æ¥è·å¾—å±æ€§ newCPU.clockSpeed = 2.0 myTelephone.cpu = newCPU //ç»™myTelephoneä¸€ä¸ªæ–°çš„CPU print(myTelephone.cpu.clockSpeed) //2.0 newCPU.clockSpeed = 2.2 print(myTelephone.cpu.clockSpeed) //2.0 èµ‹å€¼åä¿®æ”¹newCPUå¹¶ä¸å½±å“myTelephoneé‡Œé¢çš„CPU var cpu = myTelephone.cpu //å–å‡ºä¸€ä»½CPUï¼Œä½†æ˜¯æ˜¯å€¼ä¼ é€’ cpu.clockSpeed = 3.0 print(myTelephone.cpu.clockSpeed) //2.0 æ‰€ä»¥ä¿®æ”¹å–å‡ºçš„cpuä¸å½±å“myTelephoneé‡Œé¢çš„ var yourTelephone = myTelephone // å®šä¹‰ä¸€ä¸ªyourTelephoneï¼Œå®ƒæŒ‡å‘myTelephoneçš„åŒä¸€ä¸ªå®ä¾‹ yourTelephone.screenSize = 6.0 print(myTelephone.screenSize) //6.0 ä¿®æ”¹yourTelephoneä¼šå½±å“myTelephone<br>Arrayï¼ŒStringï¼ŒDictionaryéƒ½æ˜¯å€¼ä¼ é€’ã€‚è¿™ä¸ªå’ŒOCæ˜¯ä¸ä¸€æ ·çš„ã€‚å€¼å¾—æ³¨æ„ã€‚</p><p>ç»“æ„ä½“è‡ªå¸¦ä¸€ä¸ªéå†æ‰€æœ‰å±æ€§çš„æ„é€ å™¨ï¼Œä½†æ˜¯ç±»æ²¡æœ‰ã€‚</p><p>var cpu2 = CPU(clockSpeed: 3.3, coreNum: 8)</p><p>æ“ä½œç¬¦  === å’Œ !==<br>===ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªç±»çš„å®ä¾‹ã€‚å¦‚æœæ˜¯è¿”å›trueã€‚</p><p>!==åä¹‹ã€‚æŒ‡å‘ä¸åŒå®ä¾‹ï¼Œè¿”å›trueã€‚</p><p>è€Œ == æ˜¯åˆ¤æ–­ä¸¤ä¸ªå®ä¾‹æ˜¯å¦â€œç›¸ç­‰â€ï¼Œè¿™ä¸ªç›¸ç­‰çš„æ¡ä»¶å¯ä»¥æœ‰ç±»çš„å®šä¹‰è€…è‡ªå·±å†³å®šã€‚</p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Garmmar-Enumerationsæšä¸¾ç±»</title>
      <link href="/2017/11/29/520/"/>
      <content type="html"><![CDATA[<h1 id="æšä¸¾ç±»"><a href="#æšä¸¾ç±»" class="headerlink" title="æšä¸¾ç±»"></a>æšä¸¾ç±»</h1><blockquote><p>Swiftä¸­çš„æšä¸¾å’ŒCä¸­çš„æšä¸¾ä¸ä¸€æ ·,æšä¸¾ç±»è€Œä¸æ˜¯æšä¸¾ç±»å‹,å®ƒæ˜¯å€¼ä¼ é€’<br>åœ¨Cä¸­ï¼Œæšä¸¾ç±»å‹ä¸­çš„æ¯ä¸€é¡¹éƒ½æ•´å½¢<br>ç„¶è€Œåœ¨Swiftä¸­ï¼Œä½ ä¸å¿…ä¸ºæ¯ä¸€é¡¹èµ‹å€¼ã€‚å®šä¹‰çš„æ—¶å€™æ‰€ç”¨çš„åå­—å°±æ˜¯ç”¨æ¥æšä¸¾çš„ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸ºæšä¸¾æˆå‘˜èµ‹å€¼ï¼Œè¿™ä¸ªèµ‹å€¼ä¸å•å•æ˜¯æ•´å½¢ï¼Œå¯ä»¥æ˜¯Charaterï¼ŒStringï¼Œæµ®ç‚¹æ•°ã€‚</p><p>å®šä¹‰ä¸€ä¸ªæšä¸¾ç±»å‹<br>æ³¨æ„é¦–å­—æ¯å·²ç»å¤§å†™<br>åˆ†è¡Œæˆ–<br>ä¸€è¡Œï¼Œç”¨é€—å·åˆ†éš”</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Nameset</span></span>&#123;</div><div class="line"><span class="keyword">case</span>  <span class="type">LuGaygay</span></div><div class="line"><span class="keyword">case</span>  <span class="type">Liaoliao</span></div><div class="line"><span class="type">Case</span>  <span class="type">Ykk</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">æˆ– </div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Nameset</span></span>&#123;</div><div class="line"><span class="keyword">case</span> <span class="type">LuGaygay</span>, <span class="type">Liaoliao</span>,<span class="type">Ykk</span></div><div class="line"> &#125;</div></pre></td></tr></table></figure><h1 id="å®šä¹‰ä¸€ä¸ªæšä¸¾å˜é‡"><a href="#å®šä¹‰ä¸€ä¸ªæšä¸¾å˜é‡" class="headerlink" title="å®šä¹‰ä¸€ä¸ªæšä¸¾å˜é‡"></a>å®šä¹‰ä¸€ä¸ªæšä¸¾å˜é‡</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> myName = <span class="type">Nameset</span>.<span class="type">Ykk</span></div><div class="line">æˆ–</div><div class="line">myName  = .<span class="type">Ykk</span></div></pre></td></tr></table></figure><h1 id="Associated-Value"><a href="#Associated-Value" class="headerlink" title="Associated Value"></a>Associated Value</h1><blockquote><p>ç”¨æ¥ç»™æ¯ä¸€ä¸ªæšä¸¾æˆå‘˜å†å®šä¹‰ä¸€ä¸ªè¡¥å……å€¼</p><p>å“çš„æ¡å½¢ç å’ŒäºŒç»´ç ã€‚æ¡å½¢ç æ˜¯ç”±ä¸€ä¸²æ•°å­—ç»„æˆçš„ï¼Œè¿™ä¸ªæ•°å­—åˆ†ä¸ºäº†4ä¸ªéƒ¨åˆ†ã€‚è€ŒäºŒç»´ç å…¶å®æ˜¯ç”¨ä¸€ä¸²å¾ˆé•¿çš„å­—ç¬¦æ¥ç¼–ç çš„ã€‚å¦‚æœè¦æŠŠäºŒä½ç å’Œæ¡å½¢ç å°è£…æˆä¸ºä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œä¸ºäº†æ›´å¥½åœ°åŒºåˆ«äºŒè€…ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šassociated valueï¼Œå®šä¹‰å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Barcode</span> </span>&#123;  </div><div class="line">    <span class="keyword">case</span> <span class="type">UPCA</span>(<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>) <span class="comment">//æ¡å½¢ç   </span></div><div class="line">    <span class="keyword">case</span> <span class="type">QRCode</span>(<span class="type">String</span>)           <span class="comment">//äºŒç»´ç   </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®šä¹‰Barcodeå˜é‡ï¼ŒåŒæ˜¯æ·»åŠ ä¸Šassociated value</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">var</span> productBarcode = <span class="type">Barcode</span>.<span class="type">UPCA</span>(<span class="number">8</span>, <span class="number">85909</span>, <span class="number">51226</span>, <span class="number">3</span>)  </div><div class="line">productBarcode = .<span class="type">QRCode</span>(<span class="string">"ABCDEFGHIJKLMNOP"</span>)</div></pre></td></tr></table></figure><blockquote><p>æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœä½ å®šä¹‰äº†associated valueï¼Œé‚£ä¹ˆåœ¨å®šä¹‰å˜é‡çš„æ—¶å€™å°±å’Œå‰é¢çš„NameSetä¸å¤ªä¸€æ ·äº†ã€‚çœ‹ä¸‹é¢çš„ä¸¤å¥ä»£ç <br>b1æ˜¯Barcodeç±»å‹<br>b2æ˜¯(String) -&gt; Barcodeç±»å‹ï¼Œä¸€ä¸ªå‡½æ•°ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">var</span> b1 = <span class="type">Barcode</span>.<span class="type">UPCA</span>(<span class="number">8</span>, <span class="number">85909</span>, <span class="number">51226</span>, <span class="number">3</span>)  </div><div class="line">  <span class="keyword">var</span> b2 = <span class="type">Barcode</span>.<span class="type">QRCode</span> </div><div class="line">``` </div><div class="line">&gt;ä»¥ä¸‹æˆ´æ‹¿  é”™è¯¯ ä¸èƒ½å°† <span class="type">Barcode</span>ç±»å‹æ˜¯å€¼èµ‹ç»™ (<span class="type">String</span>)-&gt;<span class="type">Barcode</span>.</div><div class="line"></div><div class="line">è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºäº†ï¼Œå…¶å®<span class="type">Barcode</span>.<span class="type">QRCode</span>(<span class="type">String</span>:)æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™é‡Œå†æ¬¡éªŒè¯äº†swiftä¸­çš„æšä¸¾æ˜¯ä¸€ä¸ªç±»</div><div class="line"></div><div class="line">```swift</div><div class="line"> b2 = <span class="type">Barcode</span>.<span class="type">QRCode</span>(<span class="string">"fef"</span>)  <span class="comment">//error</span></div></pre></td></tr></table></figure><blockquote><p>NameSeté‡Œé¢å¯ä»¥ç›´æ¥ç”¨.Tomä¹‹ç±»æ¥èµ‹å€¼,ä¼°è®¡æ˜¯å®šä¹‰associated valueçš„æ—¶å€™ï¼Œç›¸å½“äºæŠŠè¯¥æšä¸¾æˆå‘˜ä»ä¸€ä¸ªå€¼å˜ä¸ºäº†æ„é€ æ–¹æ³•ã€‚</p></blockquote><h1 id="switchè¯­å¥æ¥å¤„ç†æšä¸¾ç±»"><a href="#switchè¯­å¥æ¥å¤„ç†æšä¸¾ç±»" class="headerlink" title="switchè¯­å¥æ¥å¤„ç†æšä¸¾ç±»"></a>switchè¯­å¥æ¥å¤„ç†æšä¸¾ç±»</h1><blockquote><p>ç”¨swiftå¼ºå¤§çš„switchè¯­å¥æ¥å¤„ç†æšä¸¾ç±»ï¼Œé™¤äº†ä¸€èˆ¬çš„æšä¸¾æˆå‘˜ä¹‹å¤–ï¼Œå¯¹äºå¸¦associated value çš„æˆå‘˜ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°associated value</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">NameSet</span> </span>&#123;  <span class="comment">//é‡æ–°å®šä¹‰ä¸€ä¸ªç®€å•çš„æšä¸¾ç±»  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Lucy</span>  </div><div class="line">    <span class="keyword">case</span> otherName(<span class="type">String</span>)  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> myName = <span class="type">NameSet</span>.<span class="type">Lucy</span>  </div><div class="line">myName = .otherName(<span class="string">"Alexs"</span>)  </div><div class="line">  </div><div class="line"><span class="keyword">switch</span> myName &#123;  </div><div class="line"><span class="keyword">case</span> .<span class="type">Lucy</span>:  </div><div class="line">    <span class="built_in">print</span>(myName)  </div><div class="line"><span class="keyword">case</span> .otherName(<span class="keyword">var</span> inputName):  <span class="comment">//ä½¿ç”¨æ‹¬å·è§£åŒ…å‡ºassociated value  </span></div><div class="line">    <span class="built_in">print</span>(inputName)     <span class="comment">//åªæœ‰è¿™å¥ä¼šæ‰“å°å‡º  Alexs  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„switchå¦‚ä¸‹<br>æ‰“å°çš„æ˜¯otherName</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">switch</span> myName &#123;  </div><div class="line"><span class="keyword">case</span> .<span class="type">Lucy</span>:  </div><div class="line">    <span class="built_in">print</span>(myName)  </div><div class="line"><span class="keyword">case</span> .otherName:  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"otherName"</span>)  </div><div class="line"><span class="keyword">case</span> .otherName(<span class="keyword">var</span> inputName):  </div><div class="line">    <span class="built_in">print</span>(inputName)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//æ‰“å°çš„æ˜¯otherName</span></div></pre></td></tr></table></figure><blockquote><p>é‡Œå¯ä»¥çœ‹å‡ºï¼Œswitché‡Œé¢çš„.otherNameå’Œå£°æ˜æšä¸¾å˜é‡æ—¶å€™çš„ä¸åŒï¼Œè¿™é‡Œå·²ç»æ˜¯å€¼NameSetçš„å€¼äº†ã€‚è€Œä¸”ä¸Šé¢çš„Switchä¹Ÿä¼šæœ‰è­¦å‘Šè¯´æœ€åä¸€ä¸ªcaseæ°¸è¿œä¸èƒ½æ‰§è¡Œã€‚æ‹¬å·åªæ˜¯ç”¨æ¥è§£åŒ…å‡ºassociated valueï¼Œè€Œä¸æ˜¯æ„é€ æ–¹æ³•<br>ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œå†æ”¹æ”¹ä¸Šé¢ä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> myName = <span class="type">NameSet</span>.<span class="type">Lucy</span>  </div><div class="line"><span class="keyword">switch</span> myName &#123;  </div><div class="line"><span class="keyword">case</span> .<span class="type">Lucy</span>(<span class="keyword">let</span> name):  </div><div class="line">    <span class="built_in">print</span>(name)  </div><div class="line"><span class="keyword">case</span> .otherName:  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"otherName"</span>)  </div><div class="line"><span class="keyword">case</span> .otherName(<span class="keyword">var</span> inputName):  </div><div class="line">    <span class="built_in">print</span>(inputName)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//æ‰“å°</span></div><div class="line">ä½ ä¼šå‘ç°è¿™é‡Œæ‰“å°äº† ()ï¼Œå› ä¸ºè§£åŒ…<span class="type">Lucy</span>æ²¡æœ‰å¾—åˆ°å€¼</div></pre></td></tr></table></figure><blockquote><p>switchè¯­å¥ï¼Œä¹‹å‰è¯´è¿‡åªæœ‰ç©·å°½æšä¸¾çš„æ—¶å€™æ‰ä¸éœ€è¦defaulté€‰é¡¹ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­å› ä¸ºæŠŠNameSeté‡Œé¢æ‰€æœ‰å¯èƒ½éƒ½æšä¸¾äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦defaulté€‰é¡¹</p></blockquote><h1 id="Raw-Value"><a href="#Raw-Value" class="headerlink" title="Raw Value"></a>Raw Value</h1><blockquote><p>è¿™ä¸ªå°±æ˜¯å¯¹æ¯ä¸€é¡¹æšä¸¾æˆå‘˜ç»‘å®šä¸€ä¸ªå€¼ï¼Œå¥½æ¯”æ˜¯Cé‡Œé¢çš„æšä¸¾æˆå‘˜éƒ½æ˜¯ä¸€ä¸ªæ•´å½¢<br>å¦‚æœéœ€è¦Raw Valueï¼Œå¿…é¡»åœ¨å£°æ˜æšä¸¾ç±»çš„æ—¶å€™åŠ ä¸Šraw value çš„ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">enum</span> <span class="title">ASCIIControlCharacter</span>: <span class="title">Character</span> </span>&#123;  </div><div class="line">    <span class="keyword">case</span> <span class="type">Tab</span> = <span class="string">"\t"</span>  </div><div class="line">    <span class="keyword">case</span> <span class="type">LineFeed</span> = <span class="string">"\n"</span>  </div><div class="line">    <span class="keyword">case</span> <span class="type">CarriageReturn</span> = <span class="string">"\r"</span>  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å’ŒCæœ‰é»˜è®¤çš„raw valueä¸€æ ·ï¼Œswiftçš„æšä¸¾ç±»ä¹Ÿæœ‰é»˜è®¤çš„raw value<br>ä½†æ˜¯ä¸æ˜¯ä»»ä½•ç±»å‹çš„raw value éƒ½æœ‰é»˜è®¤å€¼<br>å‡å¦‚ä½ raw valueçš„ç±»å‹æ˜¯Characterï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨é»˜è®¤raw valueï¼Œæ¯ä¸ªæšä¸¾æˆå‘˜çš„é»˜è®¤å€¼éƒ½å¿…é¡»ç”±ä½ è‡ªå·±å®šä¹‰<br>å¦‚æœç±»å‹æ˜¯Intï¼Œé‚£ä¹ˆé»˜è®¤å€¼ç¬¬ä¸€ä¸ªæ˜¯0ï¼Œåé¢çš„ä¸€é¡¹éƒ½å‰ä¸€é¡¹åŠ 1.çœ‹ä¸‹é¢ä¾‹å­å°±æ˜ç™½äº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="class"><span class="keyword">enum</span> <span class="title">NameSet</span>: <span class="title">Int</span></span>&#123;  </div><div class="line">    <span class="keyword">case</span> <span class="type">Lucy</span>      <span class="comment">//0  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Tom</span> = <span class="number">3</span>   <span class="comment">//3  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Kate</span>      <span class="comment">//4  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Angle</span> = <span class="number">66</span>  <span class="comment">//66  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Alex</span>      <span class="comment">//67  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœç±»å‹æ˜¯Stringï¼Œé‚£ä¹ˆé»˜è®¤å€¼å°±æ˜¯ä½ çš„æšä¸¾æˆå‘˜çš„åå­—</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">NameSet</span>: <span class="title">String</span></span>&#123;  </div><div class="line">    <span class="keyword">case</span> <span class="type">Lucy</span>       <span class="comment">//Lucy  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Tom</span> = <span class="string">"T"</span>  <span class="comment">//T  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Kate</span>       <span class="comment">//Kate  </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœæœ‰raw valueï¼Œå°±å¯ä»¥ç”¨raw valueæ¥å®šä¹‰æšä¸¾å˜é‡ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">    <span class="keyword">var</span> myName = <span class="type">NameSet</span>(rawValue: <span class="string">"Lucy"</span>)   <span class="comment">//æ³¨æ„è¿™é‡Œè¿”å›çš„æ˜¯ä¸€ä¸ªå¯é€‰ç±»å‹ï¼Œå› ä¸ºè¿™ä¸ªæ„é€ æ–¹æ³•æ˜¯ä¸€ä¸ªå¯å¤±è´¥çš„æ„é€ æ–¹æ³•ã€‚å…·ä½“çœ‹åé¢çš„ç±»æ„é€ çš„æ–‡ç« ã€‚  </span></div><div class="line"><span class="built_in">print</span>(myName!.rawValue)      <span class="comment">//è¿™é‡Œæˆ‘å°±æ²¡ç”¨ifåšåˆ¤æ–­äº†ï¼Œç›´æ¥å¼ºåˆ¶è§£åŒ…</span></div></pre></td></tr></table></figure><blockquote><p>é€’å½’enum<br>å°±æ˜¯åœ¨enumçš„æšä¸¾æˆå‘˜çš„associated valueå£°æ˜ä¸ºæœ¬æšä¸¾ç±»,ç„¶åä½¿ç”¨é€’å½’å‡½æ•°ã€‚<br>åœ¨å£°æ˜associated valueä¸ºè‡ªå·±æšä¸¾ç±»çš„æ—¶å€™ï¼Œéœ€è¦åŠ ä¸Šindirectå…³é”®å­—ã€‚è¿™ä¸ªå…³é”®å­—å¯ä»¥åŠ åœ¨æ¯ä¸ªcaseçš„å‰é¢ï¼Œä¹Ÿå¯ä»¥åŠ åœ¨enumçš„å‰é¢ã€‚åä¸€ç§æ–¹æ³•å¯¹é‡Œé¢æ‰€æœ‰çš„caseéƒ½èµ·æ•ˆã€‚ä½†æ˜¯å¹¶ä¸è¦æ±‚æ‰€æœ‰caseéƒ½æœ‰æœ¬æšä¸¾ç±»ä½œä¸ºassociated value<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">indirect</span> <span class="class"><span class="keyword">enum</span> <span class="title">ArithmeticExpression</span> </span>&#123;  <span class="comment">//ä½¿ç”¨ç¬¬äºŒç§indirectã€‚å®šä¹‰äº†ä¸€ä¸ªæ•°å­¦è¡¨è¾¾å¼ã€‚  </span></div><div class="line">    <span class="keyword">case</span> <span class="type">Number</span>(<span class="type">Int</span>)  </div><div class="line">    <span class="keyword">case</span> <span class="type">Addition</span>(<span class="type">ArithmeticExpression</span>, <span class="type">ArithmeticExpression</span>)  </div><div class="line">    <span class="keyword">case</span> <span class="type">Multiplication</span>(<span class="type">ArithmeticExpression</span>, <span class="type">ArithmeticExpression</span>)  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">evaluate</span><span class="params">(expression: ArithmeticExpression)</span></span> -&gt; <span class="type">Int</span> &#123;   <span class="comment">//è¿™ä¸ªå‡½æ•°è¿ç®—è¡¨è¾¾å¼  </span></div><div class="line">    <span class="keyword">switch</span> expression &#123;  </div><div class="line">    <span class="keyword">case</span> .<span class="type">Number</span>(<span class="keyword">let</span> value):  </div><div class="line">        <span class="keyword">return</span> value  </div><div class="line">    <span class="keyword">case</span> .<span class="type">Addition</span>(<span class="keyword">let</span> <span class="keyword">left</span>, <span class="keyword">let</span> <span class="keyword">right</span>):  </div><div class="line">        <span class="keyword">return</span> evaluate(<span class="keyword">left</span>) + evaluate(<span class="keyword">right</span>)  </div><div class="line">    <span class="keyword">case</span> .<span class="type">Multiplication</span>(<span class="keyword">let</span> <span class="keyword">left</span>, <span class="keyword">let</span> <span class="keyword">right</span>):  </div><div class="line">        <span class="keyword">return</span> evaluate(<span class="keyword">left</span>) * evaluate(<span class="keyword">right</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">   </div><div class="line"><span class="comment">// evaluate (5 + 4) * 2  </span></div><div class="line"><span class="keyword">let</span> five = <span class="type">ArithmeticExpression</span>.<span class="type">Number</span>(<span class="number">5</span>)  </div><div class="line"><span class="keyword">let</span> four = <span class="type">ArithmeticExpression</span>.<span class="type">Number</span>(<span class="number">4</span>)  </div><div class="line"><span class="keyword">let</span> sum = <span class="type">ArithmeticExpression</span>.<span class="type">Addition</span>(five, four)  </div><div class="line"><span class="keyword">let</span> product = <span class="type">ArithmeticExpression</span>.<span class="type">Multiplication</span>(sum, <span class="type">ArithmeticExpression</span>.<span class="type">Number</span>(<span class="number">2</span>))  </div><div class="line"><span class="built_in">print</span>(evaluate(product))  </div><div class="line"><span class="comment">// prints "18"</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Closuresé—­åŒ…</title>
      <link href="/2017/11/27/Swift/Grammar/Closures%E9%97%AD%E5%8C%85/"/>
      <content type="html"><![CDATA[<h1 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h1><blockquote><p>é—­åŒ…å¯ä»¥çœ‹åšæ˜¯åŒ¿åçš„å‡½æ•°</p><h2 id="å›æƒ³ä¸€ä¸‹å‡½æ•°ä½œä¸ºå‚æ•°çš„æƒ…å†µ"><a href="#å›æƒ³ä¸€ä¸‹å‡½æ•°ä½œä¸ºå‚æ•°çš„æƒ…å†µ" class="headerlink" title="å›æƒ³ä¸€ä¸‹å‡½æ•°ä½œä¸ºå‚æ•°çš„æƒ…å†µ"></a>å›æƒ³ä¸€ä¸‹å‡½æ•°ä½œä¸ºå‚æ•°çš„æƒ…å†µ</h2><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ€åçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">doMath</span><span class="params">(first: Int, second: Int, mathFunc: <span class="params">(Int, Int)</span></span></span> -&gt; <span class="type">Int</span>) &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"mathFunc ="</span>,mathFunc(first,second))</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ‰ä¸¤ä¸ªæ•´å½¢å‚æ•°ï¼Œå¹¶æœ‰ä¸€ä¸ªæ•´å½¢è¿”å›å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(first: Int, <span class="number">_</span> second: Int)</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">return</span> first + second</div></pre></td></tr></table></figure><blockquote><p>è°ƒç”¨ç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œå°†ç¬¬äºŒä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">doMath(<span class="number">1</span>, second: <span class="number">3</span>, mathFunc: add)</div></pre></td></tr></table></figure><blockquote><p>æ‰“å°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">mathFunc = 4</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœæˆ‘ä»¬æƒ³ç”¨doMathå®ç°ä¸¤ä¸ªæ•°ç›¸å‡çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…é¡»å†å†™å®šä¹‰ä¸€ä¸ªsubå‡½æ•°ï¼Œç„¶åå°†å…¶ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚è¿™æ ·åœ¨åŠŸèƒ½å¤šäº†ä¹‹åä¼šæ˜¾å¾—å¾ˆéº»çƒ¦ï¼Œä¸€å †å‡½æ•°ï¼Œè€Œæ‰€ä»¥æœ‰äº†é—­åŒ…è¿™ä¸ªæ¦‚å¿µ</p></blockquote><h2 id="é—­åŒ…çš„è¯­æ³•"><a href="#é—­åŒ…çš„è¯­æ³•" class="headerlink" title="é—­åŒ…çš„è¯­æ³•"></a>é—­åŒ…çš„è¯­æ³•</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">&#123; (å‚æ•°åˆ—è¡¨) -&gt; è¿”å›ç±»å‹ <span class="keyword">in</span> </div><div class="line"></div><div class="line">      <span class="comment">//é—­åŒ…ä½“</span></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æœ‰äº†é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„ä»£ç æ”¹ä¸º</p><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ€åçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">doMath</span><span class="params">(f:Int,s:Int,mathFunc:<span class="params">(Int,Int)</span></span></span>-&gt;)&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"mathFunc = "</span>,mathunc(first,second))</div><div class="line">    &#125;</div></pre></td></tr></table></figure><blockquote><p>è°ƒç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">doMath(<span class="number">1</span>, second: <span class="number">3</span>, mathFunc: &#123;(f: <span class="type">Int</span>, s: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> f + s</div><div class="line">&#125;)</div></pre></td></tr></table></figure><blockquote><p>è¿˜æ˜¯å¾ˆéº»çƒ¦æ˜¯å§ï¼Ÿ åˆ«å¿˜äº† <strong>Swiftæœ‰ç±»å‹æ¨æ–­åŠŸèƒ½</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»§ç»­ç®€åŒ–ä¸Šé¢çš„é—­åŒ…éƒ¨åˆ†ä»£ç  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">doMath(<span class="number">1</span>, second: <span class="number">3</span>, mathFunc: &#123;f, s <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> f + s</div><div class="line">&#125;)</div></pre></td></tr></table></figure><blockquote><p>å¯¹åº”åªæœ‰ä¸€è¡Œä»£ç çš„é—­åŒ…ï¼Œreturnå…³é”®å­—è¿˜å¯ä»¥çœç•¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">doMath(<span class="number">1</span>, second: <span class="number">3</span>, mathFunc: &#123;f, s <span class="keyword">in</span> f + s &#125;)</div></pre></td></tr></table></figure><blockquote><p>æ­¤å¤–ï¼Œé—­åŒ…å¯¹å‚æ•°æä¾›äº†é»˜è®¤åå­—ï¼Œä¾æ¬¡ä¸º $0,$1,$2â€¦.æ‰€ä»¥ä¸Šé¢çš„é—­åŒ…ä»å¯ä»¥ç®€åŒ–</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">doMath(<span class="number">1</span>, second: <span class="number">3</span>, mathFunc: &#123;$<span class="number">0</span> + $<span class="number">1</span> &#125;)</div></pre></td></tr></table></figure><blockquote><p>å¯¹äºé—­åŒ…åœ¨å‚æ•°åˆ—è¡¨æœ€åä¸€é¡¹çš„æƒ…å†µï¼Œå¯ä»¥å°†é—­åŒ…å†™åˆ°å°æ‹¬å·å¤–éƒ¨ï¼Œå¹¶ä¸”å¯ä»¥çœç•¥æ‰å¤–éƒ¨å‚æ•°å</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> doMath(<span class="number">1</span>, second: <span class="number">3</span>)&#123;</div><div class="line">    <span class="keyword">var</span> f = $<span class="number">0</span> + <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> f + $<span class="number">1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="Autoclosures"><a href="#Autoclosures" class="headerlink" title="Autoclosures"></a>Autoclosures</h1><blockquote><p>å§‘ä¸”å«è‡ªåŠ¨æ‰“åŒ…å§ã€‚ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥å°±å¥½ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨åˆ¤æ–­è¿™ä¸ªå¤§æ‹¬å·é‡Œé¢çš„æ˜¯ä»€ä¹ˆè¿”å›ç±»å‹ã€‚ä½†æ˜¯æœ‰æ—¶å€™ä¸å‡†ç¡®ï¼Œéœ€è¦è‡ªå·±å†™ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªæ¦‚å¿µçš„è§£é‡Šï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ç§å®šä¹‰é—­åŒ…å˜é‡çš„æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> t = &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(t())</div></pre></td></tr></table></figure><blockquote><p>å®šä¹‰äº†ä¸€ä¸ªVoid-&gt;Voidç±»å‹çš„é—­åŒ…ã€‚å› ä¸ºæ²¡æœ‰å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥å‚æ•°åˆ—è¡¨å’Œinå…³é”®å­—ã€‚å¦‚æœæœ‰å‚æ•°çš„è¯ï¼Œå°±ä¸èƒ½çœç•¥inå…³é”®å­—ã€‚ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> b: <span class="type">Void</span>-&gt;<span class="type">Int</span> = &#123;  <span class="comment">//å®šä¹‰äº†ä¸€ä¸ªç±»å‹ä¸º Void-&gt;Intçš„é—­åŒ…</span></div><div class="line">    <span class="keyword">var</span> i = <span class="number">1</span></div><div class="line">    i++</div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">    <span class="keyword">return</span> i</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å› ä¸ºé—­åŒ…å…¶å®å°±æ˜¯å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªé—­åŒ…å°±å’Œè°ƒç”¨å‡½æ•°ä¸€æ ·ã€‚ä½†æ˜¯æœ‰åŒºåˆ«çš„å°±æ˜¯é—­åŒ…éƒ½æ˜¯æ²¡æœ‰å¤–éƒ¨å¤–éƒ¨å‚æ•°åï¼Œè°ƒç”¨çš„æ—¶å€™ä¸è¦æŠŠå†…éƒ¨å‚æ•°åä½†åšå¤–éƒ¨å‚æ•°åä½¿ç”¨ã€‚</p><p>æœ‰æ—¶å€™å‡½æ•°éœ€è¦ä¼ é€’ä¸€ä¸ªé—­åŒ…çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨è°ƒç”¨çš„æ—¶å€™ä½¿ç”¨å¤§æ‹¬å·å°†ä¸€æ®µä»£ç ç”Ÿæˆä¸ºé—­åŒ…</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> b: <span class="type">Void</span>-&gt;<span class="type">Int</span> = &#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> i</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">doClosures</span><span class="params">(<span class="built_in">c</span>: Void-&gt;Void)</span></span> &#123;</div><div class="line">    <span class="built_in">c</span>()</div><div class="line">&#125;</div><div class="line">doClosures(&#123;b()&#125;)  <span class="comment">//è™½ç„¶bæ˜¯ä¸€ä¸ªVoid-&gt;Intçš„é—­åŒ…ï¼Œä½†æ˜¯å…¶è°ƒç”¨å†å°è£…ä¹‹åå˜ä¸ºäº†Void-&gt;Voidçš„é—­åŒ…</span></div><div class="line">doClosures(&#123;    </div><div class="line">    <span class="keyword">var</span> i = <span class="number">3</span></div><div class="line">    i++</div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">&#125;)</div></pre></td></tr></table></figure><blockquote><p>æ­¤å¤–ï¼Œå¯ä»¥åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨é‡Œé¢ä½¿ç”¨@autoclosureå…³é”®å­—ï¼Œè¿™æ ·å°±ä¸ç”¨ä½¿ç”¨å¤§æ‹¬å·å°è£…äº†ã€‚ä½†æ˜¯å¯¹äºå¤šå¥çš„ä»£ç æƒ…å†µä¸è¡Œï¼ˆä¸Šé¢çš„ç¬¬äºŒç§ï¼‰ï¼Œæœ‰æ—¶å€™è‡ªåŠ¨å°è£…ä¹Ÿä¼šå‡ºé”™ï¼Œæ¯”å¦‚ç”¨ä¸Šé¢çš„ç¬¬ä¸€ç§æƒ…å†µï¼Œå®ƒæŠŠb()çœ‹åšäº†Intï¼Œç„¶åæŠ¥é”™ã€‚éœ€è¦å°†è¿”å›ç±»å‹é‡æ–°å®šä¹‰ä¸€ä¸‹ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> b: <span class="type">Void</span>-&gt;<span class="type">Void</span> = &#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">1</span></div><div class="line">    i++</div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line"><span class="comment">//    return i</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">doClosures</span><span class="params">(@autoclosure <span class="built_in">c</span>: Void-&gt;Void)</span></span> &#123;   <span class="comment">//æˆ–è€…ä¸æ”¹bçš„ç±»å‹ï¼Œå°†è¿™é‡Œçš„cçš„ç±»å‹æ”¹ä¸º Void-&gt;Intä¹Ÿå¯ä»¥</span></div><div class="line">    <span class="built_in">c</span>()</div><div class="line">&#125;</div><div class="line">doClosures(b())</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœæƒ³è¦è‡ªåŠ¨å°è£…çš„é—­åŒ…å¯ä»¥åœ¨doClosureså‡½æ•°çš„ä½œç”¨åŸŸä»¥å¤–ä½¿ç”¨ï¼Œé‚£ä¹ˆåŠ ä¸Šescapingå…³é”®å­—ã€‚è¿™ä¸ªå…³é”®å­—åªèƒ½ç”¨åœ¨@autoclosureåé¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> b: <span class="type">Void</span>-&gt;<span class="type">Void</span> = &#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">1</span></div><div class="line">    i++</div><div class="line">    <span class="built_in">print</span>(i)</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> t: (<span class="type">Void</span>-&gt;<span class="type">Void</span>)?</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">doClosures</span><span class="params">(@autoclosure<span class="params">(escaping)</span></span></span> <span class="built_in">c</span>: <span class="type">Void</span>-&gt;<span class="type">Void</span>) &#123;</div><div class="line">    <span class="built_in">c</span>()</div><div class="line">    t = <span class="built_in">c</span>  <span class="comment">//å°†è‡ªåŠ¨å°è£…çš„cèµ‹å€¼ç»™å¤–éƒ¨å˜é‡t</span></div><div class="line">&#125;</div><div class="line">doClosures(b())</div><div class="line">t!()</div></pre></td></tr></table></figure><blockquote><p>é—­åŒ…çš„å€¼æ•è·<br>åœ¨ç”Ÿæˆä¸€ä¸ªé—­åŒ…çš„æ—¶å€™ï¼Œé—­åŒ…ä¼šå°†å®ƒç”¨åˆ°çš„å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜ä¸€ä»½ã€‚æé†’ä¸€ä¸‹ï¼Œå…¶å®é—­åŒ…å°±æ˜¯å‡½æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">giveMeFunc2</span><span class="params">(step: Int)</span></span> -&gt; (<span class="type">Void</span> -&gt; <span class="type">Int</span>)? &#123;</div><div class="line">    <span class="keyword">var</span> total = <span class="number">0</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123; total += step; <span class="keyword">return</span> total &#125;</div><div class="line">    <span class="keyword">return</span> add</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„å‡½æ•°é‡Œé¢ç”Ÿæˆäº†åµŒå¥—å‡½æ•°ï¼Œé€šè¿‡è¾“å…¥ä¸åŒçš„ç¬¦å·ï¼Œè¿”å›ä¸åŒçš„å‡½æ•°ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªå˜é‡éœ€è¦æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯totalï¼Œä¸€ä¸ªæ˜¯stepã€‚å½“ç”ŸæˆåµŒå¥—å‡½æ•°çš„æ—¶å€™ï¼ŒåµŒå¥—å‡½æ•°ä¼šå°†è¿™ä¸¤ä¸ªå˜é‡éƒ½copyä¸€ä»½ï¼Œç„¶åä¿å­˜èµ·æ¥ã€‚ä¸‹é¢æ˜¯å¯¹ä¸Šé¢ä»£ç çš„ä¸€ä¸ªä½¿ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">ä¸Šé¢çš„å‡½æ•°é‡Œé¢ç”Ÿæˆäº†åµŒå¥—å‡½æ•°ï¼Œé€šè¿‡è¾“å…¥ä¸åŒçš„ç¬¦å·ï¼Œè¿”å›ä¸åŒçš„å‡½æ•°ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªå˜é‡éœ€è¦æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯totalï¼Œä¸€ä¸ªæ˜¯stepã€‚å½“ç”ŸæˆåµŒå¥—å‡½æ•°çš„æ—¶å€™ï¼ŒåµŒå¥—å‡½æ•°ä¼šå°†è¿™ä¸¤ä¸ªå˜é‡éƒ½copyä¸€ä»½ï¼Œç„¶åä¿å­˜èµ·æ¥ã€‚ä¸‹é¢æ˜¯å¯¹ä¸Šé¢ä»£ç çš„ä¸€ä¸ªä½¿ç”¨</div></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œf1å’Œf2çš„totalå’Œstepæ˜¯ä¸ä¼šç›¸äº’å¹²æ¶‰çš„ã€‚</p></blockquote><p>å†æ¥çœ‹çœ‹è¿™ä¸ªå€¼æ•è·çš„æ—¶é—´ï¼Œçœ‹ä¸‹é¢ä»£ç ã€‚è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå€¼æ•è·æ˜¯å‘ç”Ÿåœ¨è¿”å›ä¹‹å‰ã€‚è¿™ä¸ªå’ŒOCçš„blockæ˜¯ä¸€æ ·çš„</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">giveMeFunc2</span><span class="params">(step: Int)</span></span> -&gt; (<span class="type">Void</span> -&gt; <span class="type">Int</span>)? &#123;</div><div class="line">    <span class="keyword">var</span> total = <span class="number">0</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123; total += step; <span class="keyword">return</span> total &#125;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"before +100"</span>,add())  <span class="comment">// total = 0</span></div><div class="line">    total += <span class="number">100</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"after +100"</span>,add())  <span class="comment">// total = 100</span></div><div class="line">    <span class="keyword">return</span> add</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> f1 = giveMeFunc2(<span class="number">1</span>)! <span class="comment">//å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šå°†ä¼ å…¥çš„å‚æ•°ç´¯åŠ ï¼Œå¹¶ä¸”æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåŠ ä¸Šä¸€æ¬¡step</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"f1="</span>,f1())  <span class="comment">// 103</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"f1="</span>,f1())  <span class="comment">// 104</span></div></pre></td></tr></table></figure><blockquote><p>çœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½å¤§å®¶ä¼šä»¥ä¸ºè¿™ä¸ªå€¼æ•è·å’ŒOCçš„blockå·®ä¸å¤šï¼Œä½†æ˜¯å…¶å®å·®è¿œäº†ã€‚è¿™ä¸ªå€¼æ•è·çš„æ—¶é—´å¾ˆæœ‰åŒºåˆ«ã€‚è¿™é‡Œæ˜æ˜¾çš„ä¸€ç‚¹å°±æ˜¯æˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨æ”¹å˜å¤–éƒ¨å˜é‡totalçš„æ—¶å€™ï¼Œæ²¡æœ‰åŠ ä»»ä½•ä¿®é¥°ç¬¦ï¼ŒOCé‡Œé¢å¿…é¡»åŠ ä¸Š__blockï¼Œè¦ä¹ˆå°±æ˜¯å¯¹å…¨å±€å˜é‡è¿›è¡Œä¿®æ”¹ã€‚</p><p>æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µOCä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">int t =<span class="number">1</span>;</div><div class="line">int(^b)() = ^() &#123; <span class="keyword">return</span> t; &#125;;</div><div class="line">t = <span class="number">3</span>;</div><div class="line"><span class="type">NSLog</span>(@<span class="string">"%d"</span>,b()); <span class="comment">//è¾“å‡º1ï¼Œç†ç”±å°±ä¸å¤šè¯´äº†ã€‚</span></div><div class="line"></div><div class="line">å‡å¦‚æˆ‘ä»¬æŠŠtæ”¹ä¸º__blockã€‚é‚£ä¹ˆå°†ä¼šè¾“å‡º<span class="number">3</span>ã€‚æ”¹ä¸º<span class="keyword">static</span>åŒæ ·çš„æ•ˆæœã€‚</div><div class="line"></div><div class="line">__block int t =<span class="number">1</span>;</div><div class="line">int(^b)() = ^() &#123;  <span class="keyword">return</span> t;   &#125;;</div><div class="line">t = <span class="number">3</span>;</div><div class="line"><span class="type">NSLog</span>(@<span class="string">"%d"</span>,b());  <span class="comment">//3</span></div></pre></td></tr></table></figure><blockquote><p>æ¥çœ‹OCå’Œswiftä¸­ä¸¤æ®µå¾ˆç±»ä¼¼çš„ä»£ç  </p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//OC</div><div class="line">typedef int(^BLOCK)(void);</div><div class="line">BLOCK OCFunc (int step) &#123;</div><div class="line">    __block int total = 0;</div><div class="line">    BLOCK b = ^() &#123; total +=step; return total; &#125;;</div><div class="line">    step = 100;</div><div class="line">    NSLog(@&quot;before +100,%d&quot;,b());  //1</div><div class="line">    total +=100;</div><div class="line">    NSLog(@&quot;after +100,%d&quot;,b());   //102</div><div class="line">    return b;</div><div class="line">&#125;</div><div class="line">//åœ¨mainæ–¹æ³•é‡Œé¢è°ƒç”¨</div><div class="line">BLOCK b = OCFunc(1);</div><div class="line">NSLog(@&quot;%d&quot;,b());  // 103</div><div class="line">NSLog(@&quot;%d&quot;,b());  // 104</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swiftFunc</span><span class="params">(<span class="keyword">var</span> step: Int)</span></span> -&gt; <span class="type">Void</span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">var</span> total = <span class="number">0</span></div><div class="line">    <span class="keyword">let</span> b: <span class="type">Void</span> -&gt; <span class="type">Int</span> = &#123; <span class="type">Void</span> <span class="keyword">in</span> total += step; <span class="keyword">return</span> total &#125;</div><div class="line">    step = <span class="number">100</span>;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"before +100,"</span>,b())  <span class="comment">// 100</span></div><div class="line">    total+=<span class="number">100</span>                 <span class="comment">// total = 200</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"after +100,"</span>,b())   <span class="comment">//300</span></div><div class="line">    <span class="keyword">return</span> b</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> d = swiftFunc(<span class="number">1</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"d="</span>,d())   <span class="comment">//400</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"d="</span>,d())   <span class="comment">//500</span></div></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼ŒOCä¸­çš„stepåœ¨blockå®šä¹‰çš„æ—¶å€™å°±ç»‘å®šäº†ï¼Œåé¢åœ¨æ›´æ”¹stepçš„å€¼ä¹Ÿä¸å½±å“blockã€‚ä½†æ˜¯åœ¨swiftä¸­ï¼Œstepä»ç„¶æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œç›´åˆ°stepç¦»å¼€ä½œç”¨åŸŸåï¼Œé—­åŒ…æ‰å°†å…¶æ•è·ã€‚</p></blockquote><p>å¦‚æœè¦OCä¸­äº§ç”ŸåŒæ ·çš„æ•ˆæœï¼Œåªéœ€å®šä¹‰ä¸€ä¸ª<strong>blockå˜é‡ï¼Œå¦‚ä¸‹ã€‚å¯ä»¥è¿™ä¹ˆçœ‹ï¼ŒSwiftä¸­çš„å˜é‡é»˜è®¤éƒ½æ˜¯</strong>blockçš„</p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="comment">//OC</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">int</span>(^BLOCK)(<span class="keyword">void</span>);</div><div class="line">BLOCK OCFunc (<span class="keyword">int</span> step) &#123;</div><div class="line">    __block <span class="keyword">int</span> total = <span class="number">0</span>;</div><div class="line">    __block <span class="keyword">int</span> step2 = step;</div><div class="line">    BLOCK b = ^() &#123; total +=step2; <span class="keyword">return</span> total; &#125;;</div><div class="line">    step2 = <span class="number">100</span>;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"before +100,%d"</span>,b());  <span class="comment">//100</span></div><div class="line">    total +=<span class="number">100</span>;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"after +100,%d"</span>,b());   <span class="comment">//300</span></div><div class="line">    <span class="keyword">return</span> b;</div><div class="line">&#125;</div><div class="line"><span class="comment">//åœ¨mainæ–¹æ³•é‡Œé¢è°ƒç”¨</span></div><div class="line">BLOCK b = OCFunc(<span class="number">1</span>);</div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"%d"</span>,b());  <span class="comment">//400</span></div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"%d"</span>,b());  <span class="comment">//500</span></div></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªå€¼æ•è·å’ŒOCçš„blockä¸€æ ·ï¼Œä¹Ÿä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨é—®é¢˜ã€‚OCé‡Œé¢æ˜¯ä½¿ç”¨__weakæ¥è§£å†³ï¼Œè¿™é‡Œå·®ä¸å¤šï¼Œå®ƒå¯ä»¥åœ¨å‚æ•°åˆ—è¡¨å‰é¢åŠ ä¸Šæ•è·åˆ—è¡¨ï¼Œå¹¶ä¸”å¯¹æ•è·ç±»åˆ«çš„å‚æ•°è¿›è¡Œæƒé™æ§åˆ¶ï¼Œé™„ä¸Šä¸€ä¸ªå®˜æ–¹ä¾‹å­ï¼Œä»¥åå†™ARCçš„æ—¶å€™è¯¦ç»†è®²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="built_in">lazy</span> <span class="keyword">var</span> someClosure: (<span class="type">Int</span>, <span class="type">String</span>) -&gt; <span class="type">String</span> = &#123;</div><div class="line">    [<span class="keyword">unowned</span> <span class="keyword">self</span>, <span class="keyword">weak</span> delegate = <span class="keyword">self</span>.delegate!] (index: <span class="type">Int</span>, stringToProcess: <span class="type">String</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span></div><div class="line">    <span class="comment">// closure body goes here</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-æµç¨‹æ§åˆ¶è¯­å¥</title>
      <link href="/2017/11/24/Swift/Grammar/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/"/>
      <content type="html"><![CDATA[<h1 id="if-elseè¯­å¥"><a href="#if-elseè¯­å¥" class="headerlink" title="if elseè¯­å¥"></a>if elseè¯­å¥</h1><blockquote><p> ifè¯­å¥<br>ifè¯­å¥å’Œå…¶ä»–è¯­è¨€ä¸­çš„ä½¿ç”¨æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è¯­æ³•ç¨æœ‰ä¸åŒ<br>é¦–å…ˆ,æ˜¯ä¸ç”¨æ‹¬å·<br>å…¶æ¬¡,æ˜¯å³ä½¿æ˜¯ifåé¢åªæœ‰ä¸€æ¡è¯­å¥ï¼Œä¹Ÿå¿…é¡»åŠ ä¸Šå¤§æ‹¬å·</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> array1 = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]</div><div class="line"><span class="keyword">if</span> array1.<span class="built_in">count</span> &gt; <span class="number">1</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"array1 is not empty"</span>)  <span class="comment">//è¿™å¥ä¼šæ‰“å°å‡ºæ¥</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"array1 is empty"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>fè¯­å¥å¯ä»¥ç”¨æ¥æ£€æµ‹å¯é€‰ç±»å‹æ˜¯å¦ä¸ºç©º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str : <span class="type">String</span>?</div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> s = str &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"str is not nil"</span>)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"str is nil"</span>) <span class="comment">//è¿™å¥ä¼šæ‰“å°</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="for-è¯­å¥"><a href="#for-è¯­å¥" class="headerlink" title="for è¯­å¥"></a>for è¯­å¥</h1><blockquote><p>å·²ç»ç§»é™¤</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> <span class="keyword">var</span> index = <span class="number">0</span>; index &lt; <span class="number">3</span>; index++ &#123; <span class="comment">//å·²ç»ç§»é™¤</span></div><div class="line">    <span class="built_in">print</span>(index)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="for-in-è¯­å¥"><a href="#for-in-è¯­å¥" class="headerlink" title="for-in è¯­å¥"></a>for-in è¯­å¥</h1><blockquote><p>å°¤å…¶æ˜¯ç”¨æ¥éå†é›†åˆ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span>...<span class="number">3</span> &#123;</div><div class="line">    <span class="built_in">print</span>(index)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„åªèƒ½æ˜¯æ¯æ¬¡åŠ 1ï¼Œä½†æ˜¯ç°åœ¨å¯èƒ½æœ‰éœ€æ±‚æ¯æ¬¡å¢åŠ çš„ä¸æ˜¯1ï¼Œæ‰€ä»¥ç°åœ¨æœ‰äº†è¿™ä¸ª</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> tickMark <span class="keyword">in</span> <span class="built_in">stride</span>(from: <span class="number">0</span>, to: <span class="number">60</span>, by: <span class="number">5</span>) &#123;</div><div class="line">    <span class="built_in">print</span>(tickMark)</div><div class="line">    <span class="comment">// æ‰“å° (0, 5, 10, 15 ... 45, 50, 55)</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="whileè¯­å¥å’Œ-repeat-whileè¯­å¥"><a href="#whileè¯­å¥å’Œ-repeat-whileè¯­å¥" class="headerlink" title="whileè¯­å¥å’Œ repeat-whileè¯­å¥"></a>whileè¯­å¥å’Œ repeat-whileè¯­å¥</h1><blockquote><p>æŠŠæ‹¬å·å»æ‰å°±è¡Œäº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> index = <span class="number">3</span></div><div class="line"><span class="keyword">while</span> index &gt; <span class="number">0</span> &#123;</div><div class="line">    index--</div><div class="line">    <span class="built_in">print</span>(index)</div><div class="line">&#125;</div><div class="line"></div><div class="line">index = <span class="number">3</span></div><div class="line"><span class="keyword">repeat</span> &#123;</div><div class="line">    index--</div><div class="line">    <span class="built_in">print</span>(index)</div><div class="line">&#125; <span class="keyword">while</span> index &gt; <span class="number">0</span></div></pre></td></tr></table></figure><h1 id="Breakå’Œcontinueè¿™ä¸ªç”¨æ³•å’ŒCå·®ä¸å¤š"><a href="#Breakå’Œcontinueè¿™ä¸ªç”¨æ³•å’ŒCå·®ä¸å¤š" class="headerlink" title="Breakå’Œcontinueè¿™ä¸ªç”¨æ³•å’ŒCå·®ä¸å¤š"></a>Breakå’Œcontinueè¿™ä¸ªç”¨æ³•å’ŒCå·®ä¸å¤š</h1><h1 id="Switchè¯­å¥"><a href="#Switchè¯­å¥" class="headerlink" title="Switchè¯­å¥"></a>Switchè¯­å¥</h1><blockquote><p>Swifté‡Œé¢çš„Switchè¯­å¥ä¸ä»…å¯ä»¥åˆ¤æ–­æ•´å½¢ï¼Œè€Œä¸”è¿˜å¯ä»¥åˆ¤æ–­å„ç§ç±»å‹ã€‚æ³¨æ„çš„æ˜¯æ‰§è¡Œäº†ä¸€ä¸ªcaseåæ˜¯ä¸ä¼šç»§ç»­å¾€ä¸‹é¢æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨æ·»åŠ breakè¯­å¥ã€‚ç›¸åå¦‚æœä½ æƒ³è¦ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œä½ å¿…é¡»åœ¨è¿™ä¸ªcaseæœ€ååŠ ä¸ŠFallthroughã€‚å¦å¤–å°±æ˜¯defaultï¼Œå¯¹äºä¸æ˜¯æšä¸¾ç±»å‹çš„å˜é‡ï¼Œdefalutå¿…é¡»åŠ ä¸Šã€‚æšä¸¾ç±»å‹çš„å˜é‡åœ¨å®Œå…¨æšä¸¾çš„æ—¶å€™æ‰å¯ä»¥çœç•¥default</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"a"</span></div><div class="line"><span class="keyword">switch</span> str &#123;</div><div class="line">    <span class="keyword">case</span> <span class="string">"a"</span>:</div><div class="line">        <span class="built_in">print</span>(<span class="string">"a"</span>)  <span class="comment">//è¿™å¥ä¼šæ‰“å°</span></div><div class="line">    <span class="keyword">fallthrough</span></div><div class="line">    <span class="keyword">case</span> <span class="string">"b"</span>:</div><div class="line">        <span class="built_in">print</span>(<span class="string">"b"</span>)  <span class="comment">//è¿™å¥ä¼šæ‰“å°</span></div><div class="line">    <span class="keyword">case</span> <span class="string">"c"</span>:</div><div class="line">        <span class="built_in">print</span>(<span class="string">"c"</span>)  <span class="comment">//ä¸ä¼šæ‰“å°</span></div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        <span class="built_in">print</span>(<span class="string">"nil"</span>)  <span class="comment">//ä¸ä¼šæ‰“å°</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>switché‡Œé¢ä¸€ä¸ªcaseå¯ä»¥å¯¹åº”å¤šä¸ªé€‰é¡¹ï¼Œæ¯ä¸ªé€‰é¡¹ä¹‹é—´ç”¨é€—å·åˆ†å¼€ã€‚è¿™ä¸ªç”¨æ³•æ˜¯ç”¨æ¥å®ç°cé‡Œé¢çš„æŸä¸ªé€‰é¡¹é‡Œé¢æ²¡æœ‰æ‰§è¡Œä»£ç çš„æƒ…å†µã€‚Swiftä¸å…è®¸æŸä¸ªé€‰é¡¹é‡Œé¢æ²¡æœ‰å¯æ‰§è¡Œçš„ä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"s"</span></div><div class="line"><span class="keyword">switch</span> str &#123;</div><div class="line"><span class="keyword">case</span> <span class="string">"a"</span>,<span class="string">"s"</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"a"</span>)  <span class="comment">//åªæ‰“å°è¿™å¥</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"nil"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>caseé‡Œé¢ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªèŒƒå›´ï¼Œåœ¨æ¯ä¸ªcaseä¹‹é—´çš„èŒƒå›´æœ‰é‡å çš„è¯ï¼Œåªä¼šåŒ¹é…ç¬¬ä¸€ä¸ª</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> i = <span class="number">2</span></div><div class="line"><span class="keyword">switch</span> i &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">1</span>...<span class="number">10</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"1-10"</span>)  <span class="comment">//åªæ‰“å°è¿™å¥</span></div><div class="line"><span class="keyword">case</span> <span class="number">9</span>..&lt;<span class="number">20</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"10-20"</span>)  <span class="comment">//å› ä¸ºåŒ¹é…äº†ç¬¬ä¸€å¥ï¼Œæ‰€ä»¥è¿™å¥ä¸ä¼šå†åŒ¹é…</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"other"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¯¹Tuple çš„åŒ¹é…<br>ä½ å¯ä»¥åŒ¹é…Tupleçš„ä¸¤ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥åªåŒ¹é…ä¸€ä¸ªå€¼ï¼Œè¿˜å¯ä»¥åŒ¹é…èŒƒå›´</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//ä¸‹é¢caseçš„æ¡ä»¶éƒ½æ˜¯å¯ä»¥åŒ¹é…çš„ï¼ŒæŠŠå‰é¢çš„caseæ³¨é‡Šæ‰çš„è¯å°±ä¼šåŒ¹é…ä¸‹ä¸€ä¸ªcaseã€‚</span></div><div class="line"><span class="keyword">var</span> tuple = (<span class="number">2</span>,<span class="number">1</span>)</div><div class="line"><span class="keyword">switch</span> tuple &#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">2</span>,<span class="number">1</span>):</div><div class="line">    <span class="built_in">print</span>(<span class="string">"(2,1)"</span>)  <span class="comment">//å› ä¸ºè‡ªåŠ¨æ·»åŠ breakçš„æœºåˆ¶ï¼Œæ‰€ä»¥ä¸ä¼šå¾€ä¸‹èµ°</span></div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x,<span class="number">1</span>): <span class="comment">//å¯ä»¥ç”¨å˜é‡æ¥è‡ªç”±åŒ–å…¶ä¸­ä¸€ä¸ªå€¼ï¼Œåªéœ€è¦å¦å¤–ä¸€ä¸ªå€¼åŒ¹é…äº†ï¼Œå°±ä¼šåŒ¹é…è¿™ä¸ªã€‚å¦‚æœä½ ä¸å…³æ³¨xçš„å€¼ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠxæ¢ä¸º_</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"x = \(x)"</span>)</div><div class="line"><span class="keyword">case</span> (-<span class="number">1</span>...<span class="number">3</span>,<span class="number">0</span>...<span class="number">4</span>):</div><div class="line">    <span class="built_in">print</span>(<span class="string">"(-1~3,0~4)"</span>)</div><div class="line"><span class="keyword">default</span> :</div><div class="line">    <span class="built_in">print</span>(<span class="string">"other"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="Whereè¯­å¥åœ¨switchä¸­"><a href="#Whereè¯­å¥åœ¨switchä¸­" class="headerlink" title="Whereè¯­å¥åœ¨switchä¸­"></a>Whereè¯­å¥åœ¨switchä¸­</h1><blockquote><p>whereå¯ä»¥ç”¨æ¥è¿›ä¸€æ­¥å¯¹caseæ·»åŠ çº¦æŸ</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> tuple = (<span class="number">2</span>,<span class="number">1</span>)</div><div class="line"><span class="keyword">switch</span> tuple &#123;</div><div class="line"><span class="keyword">case</span> <span class="keyword">var</span> (x,y) <span class="keyword">where</span> x == y:  <span class="comment">//è¿™é‡Œç”¨var å’Œ let åŒºåˆ«åœ¨äºèƒ½ä¸èƒ½åœ¨caseé‡Œé¢ä¿®æ”¹è§£åŒ…çš„xï¼Œyå€¼ã€‚ä½†æ˜¯å³ä½¿ä¿®æ”¹ä¹Ÿä¸ä¼šå½±å“åŸæ¥çš„tuple</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"x == y"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> (<span class="number">_</span>,x) <span class="keyword">where</span> x == <span class="number">4</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"x == 4"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">var</span> (x,y) <span class="keyword">where</span> x != y:  <span class="comment">//åŒ¹é…äº†è¿™ä¸ªcase</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"x != y"</span>)          <span class="comment">//æ‰“å° x != y</span></div><div class="line">    x = <span class="number">1</span></div><div class="line">    <span class="built_in">print</span>(x)                <span class="comment">//æ‰“å° 1</span></div><div class="line"><span class="keyword">default</span> :</div><div class="line">    <span class="built_in">print</span>(<span class="string">"other"</span>)</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(tuple)  <span class="comment">//æ‰“å° ï¼ˆ2ï¼Œ1ï¼‰</span></div></pre></td></tr></table></figure><h1 id="Labeled-Statements"><a href="#Labeled-Statements" class="headerlink" title="Labeled Statements"></a>Labeled Statements</h1><blockquote><p>è¿™ä¸ªlabeled statementså°±åƒgotoè¯­å¥ï¼Œä½†æ˜¯è·³è½¬æ¯”è¾ƒæœ‰é™ï¼Œåªèƒ½ç”¨äºå¾ªç¯é‡Œé¢ã€‚è™½ç„¶switchä¹Ÿå¯ä»¥åŠ ä¸Šå»ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> tuple = (<span class="number">2</span>,<span class="number">1</span>)</div><div class="line">second:<span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span>...  &#123;   </div><div class="line">    frist : <span class="keyword">switch</span> tuple &#123;    <span class="comment">//è¿™ä¸ªfirstå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨</span></div><div class="line">    <span class="keyword">case</span> <span class="keyword">var</span> (x,y) <span class="keyword">where</span> x == y:  <span class="comment">//è¿™é‡Œç”¨var å’Œ let åŒºåˆ«åœ¨äºèƒ½ä¸èƒ½åœ¨caseé‡Œé¢ä¿®æ”¹è§£åŒ…çš„xï¼Œyå€¼ã€‚ä½†æ˜¯å³ä½¿ä¿®æ”¹ä¹Ÿä¸ä¼šå½±å“åŸæ¥çš„tuple</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"x == y"</span>)</div><div class="line">        <span class="keyword">break</span> second</div><div class="line">    <span class="keyword">case</span> <span class="keyword">var</span> (x,y) <span class="keyword">where</span> x != y:  <span class="comment">//åŒ¹é…äº†è¿™ä¸ªcase</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"x != y"</span>)          <span class="comment">//æ‰“å° x != y</span></div><div class="line">        tuple = (<span class="number">1</span>,<span class="number">1</span>)</div><div class="line">        <span class="keyword">continue</span> second</div><div class="line">    <span class="keyword">default</span> :</div><div class="line">        <span class="built_in">print</span>(<span class="string">"other"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//ä¸Šé¢çš„forå¾ªç¯ä¾æ¬¡æ‰“å°äº† x != y    x == y</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//æ³¨æ„ä¸‹é¢çš„secondï¼Œè™½ç„¶å‰é¢ä¹Ÿå®šä¹‰äº†ï¼Œä½†æ˜¯ä¸ä¼šå†²çªã€‚å¾ªç¯å†…çš„è·³è½¬åªèƒ½é’ˆå¯¹å¾ªç¯</span></div><div class="line">second:<span class="keyword">repeat</span> &#123;      <span class="comment">//å¯¹äºwhileä¹Ÿæ˜¯å¯ä»¥ç”¨ã€‚</span></div><div class="line">    frist : <span class="keyword">switch</span> tuple &#123;        <span class="comment">//è¿™ä¸ªfirstå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨</span></div><div class="line">    <span class="keyword">case</span> <span class="keyword">var</span> (x,y) <span class="keyword">where</span> x == y:  <span class="comment">//è¿™é‡Œç”¨var å’Œ let åŒºåˆ«åœ¨äºèƒ½ä¸èƒ½åœ¨caseé‡Œé¢ä¿®æ”¹è§£åŒ…çš„xï¼Œyå€¼ã€‚ä½†æ˜¯å³ä½¿ä¿®æ”¹ä¹Ÿä¸ä¼šå½±å“åŸæ¥çš„tuple</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"x == y"</span>)</div><div class="line">        <span class="keyword">break</span> second</div><div class="line">    <span class="keyword">case</span> <span class="keyword">var</span> (x,y) <span class="keyword">where</span> x != y:  <span class="comment">//åŒ¹é…äº†è¿™ä¸ªcase</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"x != y"</span>)          <span class="comment">//æ‰“å° x != y</span></div><div class="line">        tuple = (<span class="number">1</span>,<span class="number">1</span>)</div><div class="line">        <span class="keyword">continue</span> second</div><div class="line">    <span class="keyword">default</span> :</div><div class="line">        <span class="built_in">print</span>(<span class="string">"other"</span>)</div><div class="line">    &#125;</div><div class="line">&#125; <span class="keyword">while</span> <span class="literal">true</span></div><div class="line"><span class="comment">//whileå¾ªç¯åªæ‰“å°äº†  x == yï¼Œå› ä¸ºTupleå·²ç»è¢«ä¿®æ”¹ä¸º(1,1)</span></div></pre></td></tr></table></figure><h1 id="Assertionå’ŒPrecondition"><a href="#Assertionå’ŒPrecondition" class="headerlink" title="Assertionå’ŒPrecondition"></a>Assertionå’ŒPrecondition</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">assert</span>(<span class="number">_</span>:<span class="number">_</span>:file:line:)</div></pre></td></tr></table></figure><blockquote><p>åˆ¤æ–­ä¸€ä¸ªæƒ…å†µæ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueç›´æ¥åœæ­¢ç¨‹åº</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">assertionFailure</span>(<span class="number">_</span>:file:line:)</div></pre></td></tr></table></figure><blockquote><p>Swiftç°åœ¨å¤šäº†ä¸€ä¸ªPreconditionsï¼ŒåŒºåˆ«æ–‡æ¡£ä¸Šè¯´çš„æ˜¯å¼€å‘æ—¶å€™ç”¨Assertionsï¼Œç”Ÿäº§ç”¨Preconditionsã€‚(Assertions help you find mistakes and incorrect assumptions during development, and preconditions help you detect issues in production. )</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">precondition</span>(<span class="number">_</span>:<span class="number">_</span>:file:line:) </div><div class="line"><span class="built_in">preconditionFailure</span>(<span class="number">_</span>:file:line:)</div></pre></td></tr></table></figure><blockquote><p>æ–‡æ¡£ä¸Šæœ‰ä¸¤æ®µè¯ï¼š</p><p>If you compile in unchecked mode (-Ounchecked), preconditions are not checked. The compiler assumes that preconditions are always true, and it optimizes your code accordingly. However, the fatalError(<em>:file:line:) function always halts execution, regardless of optimization settings.<br>You can use the fatalError(</em>:file:line:) function during prototyping and early development to create stubs for functionality that hasnâ€™t been implemented yet, by writing fatalError(â€œUnimplementedâ€) as the stub implementation. Because fatal errors are never optimized out, unlike assertions or preconditions, you can be sure that execution always halts if it encounters a stub implementation.<br>ä½†æ˜¯æ²¡æ‰¾åˆ°è¿™ä¸ª-Ouncheckedæ¨¡å¼ï¼Œåˆ°æ—¶æœ‰ä¸€ä¸ªé€‰é¡¹æ˜¯disable_safty_checksã€‚<br>è¿™ä¸ªé€‰é¡¹çš„å…³é—­å’ŒSwift_OPTIMIZATION_LEVELçš„æ¨¡å¼æœ‰å…³ç³»ã€‚å¦‚æœä½ é€‰æ‹©çš„æ˜¯ -Ononeï¼Œé‚£ä¹ˆä¸ç®¡disable_safty_checksçš„å€¼ï¼Œéƒ½ä¼šæ£€æµ‹preconditionå’Œassertã€‚ä½†æ˜¯å¦‚æœå¼€å¯äº†ä¼˜åŒ–ï¼Œé‚£ä¹ˆassertå°±å†ä¸æ£€æµ‹ï¼Œè€Œpreconditionå°±ä¼šæ ¹æ®æ˜¯å¦å…³é—­å®‰å…¨æ£€æµ‹æ¥æ‰§è¡Œ</p></blockquote><h1 id="guardè¯­å¥"><a href="#guardè¯­å¥" class="headerlink" title="guardè¯­å¥"></a>guardè¯­å¥</h1><blockquote><p>è¿™ä¸ªå’Œassertionså·®ä¸å¤šï¼Œéƒ½æ˜¯ç”¨æ¥åšåˆ¤æ–­çš„ï¼Œä¸è¿‡è¿™ä¸ªè¦è‡ªå·±åŠ ä¸Šå¤„ç†ã€‚ç”¨æ¥åœ¨æ¡ä»¶ä¸æ»¡è¶³çš„æƒ…å†µä¸‹è·³å‡ºæ–¹æ³•æˆ–å¾ªç¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> i = <span class="number">1</span></div><div class="line"><span class="keyword">while</span> <span class="literal">true</span> &#123;</div><div class="line">    <span class="keyword">guard</span> i &gt; <span class="number">1</span> <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"i &lt;= 1"</span>)</div><div class="line">        <span class="keyword">break</span>     <span class="comment">//elseé‡Œé¢å¿…é¡»åŠ ä¸Šbreakæˆ–return</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="available"><a href="#available" class="headerlink" title="available"></a>available</h1><blockquote><p>ç”¨æ¥åˆ¤æ–­æ˜¯å¦å¯ä»¥ä½¿ç”¨æŸä¸ªç‰ˆæœ¬API</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">if</span> #available (iOS <span class="number">8</span>, <span class="type">OSX</span> <span class="number">10.10</span>, *) &#123;  <span class="comment">//æ‹¬å·é‡Œé¢è¡¨ç¤ºçš„æ˜¯æœ€ä½çš„ç‰ˆæœ¬ã€‚è¿™ä¸ª*å¿…é¡»æœ‰ï¼Œä»£è¡¨å…¶ä»–å¹³å°</span></div><div class="line"></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-é›†åˆç±»å‹</title>
      <link href="/2017/11/24/Swift/Grammar/%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/"/>
      <content type="html"><![CDATA[<h1 id="é›†åˆç±»å‹"><a href="#é›†åˆç±»å‹" class="headerlink" title="é›†åˆç±»å‹"></a>é›†åˆç±»å‹</h1><blockquote><p>é›†åˆç±»åˆ†ä¸ºarrayã€dictionaryã€set<br>æ¯ä¸ªé›†åˆéƒ½æœ‰ä¸€ä¸ªisEmptyå±æ€§æ¥åˆ¤æ–­è¿™ä¸ªé›†åˆæ˜¯å¦ä¸ºç©º</p></blockquote><h1 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h1><blockquote><p>åˆ›å»ºarrayçš„å››ç§æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> array1 = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]  <span class="comment">//åŒ…å« a b c ä¸‰ä¸ªå­—ç¬¦ä¸²</span></div><div class="line"><span class="keyword">var</span> array2 = <span class="type">Array</span>&lt;<span class="type">Int</span>&gt;()  <span class="comment">//ç©ºarrayï¼Œè¿™é‡Œä¸€å®šè¦æŒ‡æ˜å…ƒç´ ç±»å‹</span></div><div class="line"><span class="keyword">var</span> array3 = [<span class="type">String</span>]()    <span class="comment">//ç©ºarray</span></div><div class="line"><span class="keyword">var</span> array4 = <span class="type">Array</span>(repeating:<span class="number">2.4</span>, <span class="built_in">count</span>:<span class="number">3</span>) <span class="comment">//åŒ…å«3ä¸ªdoubleå˜é‡ï¼Œå€¼éƒ½ä¸º1.3</span></div><div class="line"><span class="keyword">var</span> array5 = [<span class="type">Double</span>](repeating:<span class="number">2.4</span>, <span class="built_in">count</span>:<span class="number">3</span>) <span class="comment">//åŒ…å«3ä¸ªdoubleå˜é‡ï¼Œå€¼éƒ½ä¸º1.3</span></div></pre></td></tr></table></figure><blockquote><p>è·å–arrayçš„æŸä¸ªå…ƒç´ ,ç›´æ¥ç”¨ä¸‹æ ‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> value = array1[<span class="number">9</span>]</div></pre></td></tr></table></figure><blockquote><p>æ¸…ç©ºæ•°ç»„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">array1.removeAll()</div><div class="line"></div><div class="line">array1 = [];</div></pre></td></tr></table></figure><blockquote><p>æ¸…ç©ºæŸä¸ªå…ƒç´ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">remove(at:)</div></pre></td></tr></table></figure><blockquote><p>æ¸…ç©ºæŸä¸ªèŒƒå›´çš„å…ƒç´ </p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">array.removeSubrange(1..&lt;arr.endIndex)// è¿™é‡Œä¼šç§»é™¤ä»1å¼€å§‹ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬endçš„å…ƒç´ ï¼Œä½†æ˜¯endIndexæ˜¯æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªå…ƒç´ çš„ï¼Œæ‰€ä»¥ä¼šä»indexä¸º1çš„å…ƒç´ å¼€å§‹ï¼Œåˆ é™¤åé¢å…¨éƒ¨ã€‚</div><div class="line">array[1...2] = [] //è¿™é‡Œå°†èŒƒå›´1-2çš„å…ƒç´ éƒ½æ¸…ç©ºäº†,æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœæ•°ç»„è¶Šç•Œçš„è¯ï¼Œä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯</div></pre></td></tr></table></figure><blockquote><p>å‘arrayæ·»åŠ å…ƒç´ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//ä½¿ç”¨append()æ–¹æ³•</span></div><div class="line">array1.append(<span class="string">"A"</span>)  <span class="comment">//å‘array1çš„æœ«å°¾æ·»åŠ ä¸€ä¸ª Aï¼Œç°åœ¨åªæœ‰ä¸€ä¸ª A å…ƒç´ </span></div><div class="line"><span class="comment">//ä½¿ç”¨è¿ç®—ç¬¦å·</span></div><div class="line">array3 += [<span class="string">"d"</span>,<span class="string">"e"</span>]  <span class="comment">//array3ä»ç©ºæ•°ç»„å˜ä¸ºåŒ…å« d e ä¸¤ä¸ªå­—ç¬¦ä¸²</span></div><div class="line"><span class="keyword">var</span> array5 = array1 + array3 + [<span class="string">"last"</span>]  <span class="comment">//array5åŒ…å« A d e last, 4ä¸ªå…ƒç´ </span></div><div class="line"><span class="comment">//ä½¿ç”¨insertæ–¹æ³•</span></div><div class="line">array5.insert(<span class="string">"first"</span>, at: <span class="number">0</span>)   <span class="comment">//array5åŒ…å« first A d e last, 5ä¸ªå…ƒç´ </span></div></pre></td></tr></table></figure><blockquote><p>æ”¹å˜arrayå…ƒç´ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">array5[<span class="number">0</span>] = <span class="string">"newBe"</span></div><div class="line">array5[<span class="number">1</span>...<span class="number">3</span>] = [<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>]</div></pre></td></tr></table></figure><blockquote><p>éå†æ•°ç»„<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> array5 &#123;</div><div class="line">    <span class="built_in">print</span>(item)</div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span> (index,item) <span class="keyword">in</span> array5.enumerated() &#123;</div><div class="line">    <span class="built_in">print</span>(index,item)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p></blockquote><h1 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h1><blockquote><p>Set åˆ›å»º<br>seté‡Œé¢çš„å…ƒç´ éƒ½å¿…é¡»å®ç°hashableã€‚å› ä¸ºåŒºåˆ†seté‡Œé¢çš„å…ƒç´ çš„æ ¹æœ¬å°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ çš„hashå€¼æ˜¯å¦ç›¸ç­‰ã€‚swiftåŸºæœ¬ç±»å‹éƒ½å®ç°äº†hashable</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> emptySet = <span class="type">Set</span>&lt;<span class="type">Character</span>&gt;() <span class="comment">//å»ºç«‹ä¸€ä¸ªç©ºsetï¼Œå¿…é¡»æŒ‡æ˜å†…å®¹çš„ç±»å‹</span></div><div class="line"><span class="keyword">var</span> nameSet : <span class="type">Set</span>&lt;<span class="type">String</span>&gt; = [<span class="string">"Tom"</span>,<span class="string">"Lucy"</span>,<span class="string">"Aaron"</span>]  <span class="comment">//ä½¿ç”¨åˆå§‹æ•°æ®å»ºç«‹set</span></div></pre></td></tr></table></figure><blockquote><p>ç§»é™¤Set </p></blockquote><ul><li>removeAll()ï¼Œè¿™ä¸ªæ–¹æ³•è¿˜å¯ä»¥ä¼ ä¸€ä¸ªbooleanå‚æ•°ï¼Œè¡¨ç¤ºæ˜¯å¦ä¿æŒç©ºé—´ï¼Œä¼ tureçš„è¯è¡¨ç¤ºä¿æŒ</li><li>ç§»é™¤ä¸€ä¸ªå…ƒç´ æœ‰ä¸¤ç§åŠæ³•</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> index = nameSet.index(of:<span class="string">"Tom"</span>)</div><div class="line">nameSet.remove(at:index!) <span class="comment">//å› ä¸ºindexOfè¿”å›çš„æ˜¯å¯é€‰ç±»å‹ï¼Œæ‰€ä»¥è¿™é‡Œè¦è§£åŒ…</span></div><div class="line"></div><div class="line">nameSet.remove(<span class="string">"Tom"</span>) <span class="comment">//è¿™ç§å’Œä¸Šé¢çš„æ˜¯ç­‰ä»·çš„</span></div></pre></td></tr></table></figure><blockquote><p>éå†Set</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> name <span class="keyword">in</span> nameSet.sorted() &#123; <span class="comment">//è¿™é‡Œçš„sorted()å¯ä»¥ä¸ç”¨ï¼Œè¿™é‡Œç”¨æ¥æ’åº</span></div><div class="line">    <span class="built_in">print</span>(name)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åŒ…å«æŸä¸ªå…ƒç´ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Set</span>å’Œ<span class="type">Array</span>éƒ½æœ‰ä¸€ä¸ª<span class="built_in">contains</span>æ–¹æ³•æ¥åˆ¤æ–­</div></pre></td></tr></table></figure><blockquote><p>Setæ“ä½œ<br>åŒ…æ‹¬äº†æ±‚äº¤é›†ï¼Œå¹¶é›†ï¼Œâ€œå‡é›†â€ï¼Œâ€œå¼‚æˆ–é›†â€<br>å®˜æ–¹ä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> oddDigits: <span class="type">Set</span> = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</div><div class="line"><span class="keyword">let</span> evenDigits: <span class="type">Set</span> = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]</div><div class="line"><span class="keyword">let</span> singleDigitPrimeNumbers: <span class="type">Set</span> = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]</div><div class="line"></div><div class="line">oddDigits.union(evenDigits).<span class="built_in">sort</span>()</div><div class="line"><span class="comment">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></div><div class="line">oddDigits.intersection(evenDigits).<span class="built_in">sort</span>()</div><div class="line"><span class="comment">// []</span></div><div class="line">oddDigits.subtracting(singleDigitPrimeNumbers).<span class="built_in">sort</span>()</div><div class="line"><span class="comment">// [1, 9]</span></div><div class="line">oddDigits.symmetricDifference(singleDigitPrimeNumbers).<span class="built_in">sort</span>()</div><div class="line"><span class="comment">// [1, 2, 9]</span></div></pre></td></tr></table></figure><blockquote><p>Setå…³ç³»</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">isSubset(of:) åˆ¤æ–­ä¸€ä¸ª<span class="keyword">set</span>æ˜¯å¦ä¸ºå¦å¤–ä¸€ä¸ª<span class="keyword">set</span>çš„å­<span class="keyword">set</span></div><div class="line">isSuperset(of:) åˆ¤æ–­ä¸€ä¸ª<span class="keyword">set</span>æ˜¯å¦ä¸ºå¦å¤–ä¸€ä¸ª<span class="keyword">set</span>çš„çˆ¶<span class="keyword">set</span></div><div class="line">isStrictSubset(of:) å’Œ isStrictSuperset(of:) æ„æ€å’Œä¸Šé¢çš„ä¸€æ ·ï¼Œåªæ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•ä¸èƒ½å­˜åœ¨ç›¸ç­‰çš„æƒ…å†µã€‚</div><div class="line">isDisjoint(with:) åˆ¤æ–­ä¸¤ä¸ª<span class="keyword">set</span>æ˜¯å¦æ²¡æœ‰å…±åŒå…ƒç´ ï¼Œæ²¡æœ‰çš„è¯è¿”å›<span class="literal">true</span></div></pre></td></tr></table></figure><h1 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a>Dictionary</h1><blockquote><p>åˆ›å»ºDictionar</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> dict1 : [<span class="type">String</span>:<span class="type">Int</span>] = [<span class="string">"a"</span>:<span class="number">1</span>,<span class="string">"b"</span>:<span class="number">2</span>,<span class="string">"c"</span>:<span class="number">3</span>]</div><div class="line"><span class="keyword">var</span> dict = [<span class="string">"a"</span>:<span class="number">1</span>,<span class="string">"b"</span>:<span class="number">2</span>,<span class="string">"c"</span>:<span class="number">3</span>, <span class="number">3</span>:<span class="string">"d"</span>] <span class="keyword">as</span> [<span class="type">AnyHashable</span> : <span class="type">Any</span>]  <span class="comment">//æ³¨æ„è¿™ä¸ªæ²¡å£°æ˜ç±»å‹çš„ï¼Œå› ä¸ºkeyå’Œvalueé‡Œé¢éƒ½æœ‰ä¸åŒçš„ç±»å‹ï¼Œæ‰€ä»¥éœ€è¦å°†äºŒè€…éƒ½å¼ºè½¬ä¸ºAnyHashableï¼Œä½†æ˜¯å¦‚æœkeyï¼ˆvalueï¼‰ç±»å‹åªæœ‰ä¸€ç§çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šè½¬ä¸ºé‚£ç§ç±»å‹ã€‚</span></div><div class="line"><span class="keyword">var</span> dict2 = [<span class="type">Int</span>:<span class="type">String</span>]()</div><div class="line"><span class="keyword">var</span> dict3 = <span class="type">Dictionary</span>&lt;<span class="type">String</span>,<span class="type">Int</span>&gt;()</div></pre></td></tr></table></figure><blockquote><p>æ·»åŠ /ä¿®æ”¹/åˆ é™¤dictionary<br>dictionaryä¹Ÿæä¾›äº†removeAllï¼ŒremoveAtIndexä¹‹ç±»çš„æ–¹æ³•<br>ä½¿ç”¨å’ŒSetæ˜¯ä¸€æ ·çš„ï¼Œå°±ä¸å†™äº†ã€‚ä¸‹é¢æ˜¯dictionaryç‰¹æœ‰çš„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">dict[<span class="number">5</span>] = <span class="string">"f"</span> <span class="comment">//æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹  5: "f"</span></div><div class="line">dict[<span class="number">5</span>] = <span class="number">5</span>   <span class="comment">//ä¿®æ”¹keyä¸º5çš„å€¼ä¸º5</span></div><div class="line">dict[<span class="number">5</span>] = <span class="literal">nil</span>  <span class="comment">//åˆ é™¤keyä¸º5çš„é”®å€¼å¯¹</span></div><div class="line">dict[<span class="number">6</span>] = <span class="literal">nil</span>  <span class="comment">//å¯¹ä¸å­˜åœ¨çš„é”®å€¼å¯¹èµ‹nilä¸ä¼šæŠ¥é”™</span></div><div class="line">dict2 = [:]  <span class="comment">//æ¸…ç©ºæ‰€æœ‰</span></div></pre></td></tr></table></figure><blockquote><p>æ–°å¢äº†ä¸€ä¸ªæ›´æ”¹å’Œåˆ é™¤çš„æ–¹æ³•ï¼Œå¯ä»¥è·å¾—æ›´æ–°å’Œåˆ é™¤å‰çš„æ—§å€¼(å¯é€‰ç±»å‹)ã€‚å¦‚æœè¿™ä¸ªå€¼ä»¥å‰ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¿”å›nil</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> oldValue = airports.updateValue(<span class="string">"Dublin Airport"</span>, forKey: <span class="string">"DUB"</span>) </div><div class="line"><span class="keyword">let</span> removedValue = airports.removeValue(forKey: <span class="string">"DUB"</span>)</div></pre></td></tr></table></figure><blockquote><p>éå†dictionary </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">for</span> (key,name) <span class="keyword">in</span> dict &#123;</div><div class="line">    <span class="built_in">print</span>(key,name,separator:<span class="string">":"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> keys = dict1.keys.<span class="built_in">sort</span>();</div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> keys &#123;</div><div class="line">    <span class="built_in">print</span>(key,dict[key]!)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-String-Character</title>
      <link href="/2017/11/24/Swift/Grammar/String-%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <content type="html"><![CDATA[<h1 id="String"><a href="#String" class="headerlink" title="String"></a>String</h1><h2 id="String-çš„å®šä¹‰"><a href="#String-çš„å®šä¹‰" class="headerlink" title="String çš„å®šä¹‰"></a>String çš„å®šä¹‰</h2><blockquote><p><strong>å­—ç¬¦ä¸²</strong>æ˜¯æœ‰åºçš„å­—ç¬¦é›†åˆï¼Œæˆ–è€…å«æ–‡æœ¬<br>String æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚å•ä¸ªå­—ï¼ŒCharacteræ˜¯å­—ç¬¦ç±»å‹<br>2ä¸ªå­—ç¬¦ä¸²å¯ä»¥ç”¨ + é“¾æ¥<br>é€šè¿‡å­—ç¬¦æ’å€¼å¯ä»¥åˆæˆä¸€ä¸ªé•¿å­—ç¬¦ä¸²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">String</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">init</span>()     <span class="comment">// An empty `String`</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²åˆ›å»ºå’Œç©ºåˆ¤æ–­"><a href="#å­—ç¬¦ä¸²åˆ›å»ºå’Œç©ºåˆ¤æ–­" class="headerlink" title="å­—ç¬¦ä¸²åˆ›å»ºå’Œç©ºåˆ¤æ–­"></a>å­—ç¬¦ä¸²åˆ›å»ºå’Œç©ºåˆ¤æ–­</h2><blockquote><p>å­—ç¬¦ä¸²å­—é¢é‡ï¼ŒåŒ…å«åŒå¼•å·çš„å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"Yue ke kui"</span></div></pre></td></tr></table></figure><blockquote><p>åˆ›å»ºç©ºä¸²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> yue  = <span class="string">""</span></div><div class="line">æˆ–</div><div class="line"><span class="keyword">var</span> yue = <span class="type">String</span>()  <span class="comment">//ç»“æ„ä½“æ–¹å¼åˆ›å»º</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> ke = <span class="string">"  "</span></div><div class="line"></div><div class="line"></div><div class="line">yue.isEmpty    <span class="comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º</span></div><div class="line">ke.isEmpty   <span class="comment">// ä¸ä¸ºç©ºã€‚æœ‰ç©ºæ ¼</span></div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ä¸‰ä¸ªå¼•å·æ¥åˆ›å»ºä¸€æ®µè¯çš„string<br>å¼€å§‹çš„ä¸‰ä¸ªå¼•å·çš„ç¬¬ä¸€è¡Œåé¢çš„ç©ºæ ¼éƒ½ä¼šå¿½ç•¥ï¼Œä½†æ˜¯ç¬¬äºŒè¡Œçš„ç©ºæ ¼ä¸ä¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> quotation = <span class="string">""</span><span class="string">"</span></div><div class="line"><span class="string">The White Rabbit put on his spectacles.  "</span><span class="type">Where</span> shall <span class="type">I</span> begin,</div><div class="line">please your <span class="type">Majesty</span>?<span class="string">" he asked.</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">"</span><span class="type">Begin</span> at the beginning,<span class="string">" the King said gravely, "</span>and go on</div><div class="line">till you come to the end; then stop.<span class="string">"</span></div><div class="line"><span class="string">"</span><span class="string">""</span></div></pre></td></tr></table></figure><h2 id="å¯ä¿®æ”¹å­—ç¬¦ä¸²"><a href="#å¯ä¿®æ”¹å­—ç¬¦ä¸²" class="headerlink" title="å¯ä¿®æ”¹å­—ç¬¦ä¸²"></a>å¯ä¿®æ”¹å­—ç¬¦ä¸²</h2><blockquote><p>Swift 3.0 ç”¨ var å’Œ let æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹(ç±»ä¼¼OCå¯å˜å­—ç¬¦ä¸²)<br>letä¿®é¥° ä¸å¯å˜å­—ç¬¦ä¸²  ä¸èƒ½æ‹¼æ¥è¿½åŠ ç­‰<br>varä¿®é¥° å¯å˜å­—ç¬¦ä¸²<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> variableString = <span class="string">"Hello"</span></div><div class="line">variableString += <span class="string">"Swift 3.0"</span>;</div><div class="line"><span class="built_in">print</span>(variableString);</div><div class="line"><span class="comment">//æ‰“å°</span></div><div class="line"><span class="type">HelloSwift</span> <span class="number">3.0</span></div></pre></td></tr></table></figure></p></blockquote><h2 id="Character-å­—ç¬¦"><a href="#Character-å­—ç¬¦" class="headerlink" title="Character å­—ç¬¦"></a>Character å­—ç¬¦</h2><blockquote><p>åˆ›å»ºä¸€ä¸ªCharacterï¼Œå¿…é¡»æ˜¾å¼å£°æ˜ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> c1:<span class="type">Character</span> = <span class="string">"c"</span>  <span class="comment">//æ³¨æ„æ˜¯ åŒå¼•å·</span></div><div class="line"><span class="keyword">var</span> c2 = <span class="string">"c"</span>           <span class="comment">//c2è¢«è®¤ä¸ºæ˜¯Stringç±»å‹</span></div><div class="line"><span class="keyword">var</span> c3 = '<span class="built_in">c</span>'           <span class="comment">//ç¼–è¯‘é”™è¯¯</span></div><div class="line"></div><div class="line"><span class="comment">// Characterå¯ä»¥èµ‹å€¼ä¸ºUnicode</span></div><div class="line"><span class="keyword">let</span> eAcute: <span class="type">Character</span> = <span class="string">"\u&#123;E9&#125;"</span>      <span class="comment">// Ã©</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// æŒ¨ä¸ª å– å­—ç¬¦</span></div><div class="line"><span class="keyword">let</span> string = <span class="string">"Swift"</span>;</div><div class="line"><span class="keyword">var</span> arrays = string.characters;</div><div class="line"><span class="keyword">for</span> charactor <span class="keyword">in</span> arrays&#123;</div><div class="line">    <span class="built_in">print</span>(charactor);</div><div class="line">&#125;</div><div class="line"><span class="comment">//ä¸€æ¬¡æ‰“å° </span></div><div class="line"> <span class="type">S</span>  w  i  f t</div></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹"><a href="#å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹"></a>å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹</h2><blockquote><p>æ”¹å˜Stringï¼Œè¿™ä¸ªè¯­æ³•å’Œjavaä¸€æ ·çš„ï¼Œä¸è¿‡å†…å­˜ç®¡ç†å±‚é¢å·²ç»æ˜¯ä¸åŒçš„å¯¹è±¡<br>å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹: åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå½“å…¶è¿›è¡Œå¸¸é‡ã€å˜é‡èµ‹å€¼æ“ä½œï¼Œæˆ–åœ¨å‡½æ•°/æ–¹æ³•ä¸­ä¼ é€’æ—¶ï¼Œä¼šè¿›è¡Œå€¼æ‹·è´ã€‚åœ¨å®é™…ç¼–è¯‘æ—¶ï¼ŒSwift ç¼–è¯‘å™¨ä¼šä¼˜åŒ–å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œä½¿å®é™…çš„å¤åˆ¶åªå‘ç”Ÿåœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€æ‚¨å°†å­—ç¬¦ä¸²ä½œä¸ºå€¼ç±»å‹çš„åŒæ—¶å¯ä»¥è·å¾—æé«˜çš„æ€§èƒ½</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str:<span class="type">String</span> = <span class="string">"first"</span></div><div class="line"><span class="keyword">var</span> c1:<span class="type">Character</span> = <span class="string">"c"</span>          <span class="comment">//æ³¨æ„æ˜¯åŒå¼•å·</span></div><div class="line"><span class="keyword">var</span> c2 = <span class="string">"c"</span>                    <span class="comment">//c2è¢«è®¤ä¸ºæ˜¯Stringç±»å‹</span></div><div class="line">str += <span class="string">"sceond"</span>                 <span class="comment">//strå˜ä¸ºfirstsceond,æ­¤æ—¶çš„strå’Œä¹‹å‰çš„strå†…å­˜åœ°å€ä¸åŒ</span></div><div class="line">str += c2                      <span class="comment">//strå˜ä¸ºfirstc,æ­¤æ—¶çš„strå’Œä¹‹å‰çš„strå†…å­˜åœ°å€ä¸åŒ</span></div><div class="line">str.appendContentsOf(<span class="string">"second"</span>) <span class="comment">// å’Œä½¿ç”¨+=æ˜¯ä¸€æ ·çš„</span></div><div class="line">str.appendContentsOf(c2)       <span class="comment">//å’Œä½¿ç”¨+=æ˜¯ä¸€æ ·çš„</span></div><div class="line">str.append(c1);                <span class="comment">//æ·»åŠ Characterçš„æ–¹æ³•</span></div></pre></td></tr></table></figure><h2 id="éå†Stringå­—ç¬¦"><a href="#éå†Stringå­—ç¬¦" class="headerlink" title="éå†Stringå­—ç¬¦"></a>éå†Stringå­—ç¬¦</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str:<span class="type">String</span> = <span class="string">"first"</span></div><div class="line"><span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> str.characters &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="built_in">c</span>)</div><div class="line">&#125;</div><div class="line"> ------ æˆ–</div><div class="line"></div><div class="line"><span class="keyword">for</span> index <span class="keyword">in</span> str.characters.<span class="built_in">indices</span> &#123;</div><div class="line">    <span class="built_in">print</span>(str[index])</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="è·å–Stringé•¿åº¦"><a href="#è·å–Stringé•¿åº¦" class="headerlink" title="è·å–Stringé•¿åº¦"></a>è·å–Stringé•¿åº¦</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="string">"dfe"</span></div><div class="line"><span class="built_in">print</span>(s.<span class="built_in">count</span>)  <span class="comment">//3</span></div></pre></td></tr></table></figure><ul><li>swifté‡Œé¢æœ‰extended grapheme clusters(An extended grapheme cluster is a sequence of one or more Unicode scalars that (when combined) produce a single human-readable character.) ä¹Ÿå°±æ˜¯å‡ ä¸ªUnicodeå­—ç¬¦ç»„åˆæˆä¸€ä¸ªäººç±»å¯ä»¥è¯†åˆ«çš„å­—ç¬¦ã€‚</li><li>å½“stringé‡Œé¢æ·»åŠ äº†charactersåï¼Œcountä¸ä¸€å®šä¼šå¢åŠ ã€‚<br>stringçš„countä¸ä¸€å®šå’ŒNSStringçš„lengthä¸€è‡´ã€‚<br>(The length of an NSString is based on the number of 16-bit code units within the stringâ€™s UTF-16 representation and not the number of Unicode extended grapheme clusters within the string.)</li></ul><h2 id="è¿ç®—ç¬¦-å…¶ä»–æ–¹å¼ï¼Œèµ‹å€¼"><a href="#è¿ç®—ç¬¦-å…¶ä»–æ–¹å¼ï¼Œèµ‹å€¼" class="headerlink" title="è¿ç®—ç¬¦+å…¶ä»–æ–¹å¼ï¼Œèµ‹å€¼"></a>è¿ç®—ç¬¦+å…¶ä»–æ–¹å¼ï¼Œèµ‹å€¼</h2><p> ç¬¦é™„å­—ç¬¦å°¾éƒ¨ append</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// é€šè¿‡åŠ æ³•è¿ç®—ç¬¦ï¼ˆ+ï¼‰ç›¸åŠ åœ¨ä¸€èµ·ï¼ˆæˆ–ç§°â€œè¿æ¥â€ï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</span></div><div class="line"> <span class="keyword">let</span> string1 = <span class="string">"chen"</span>;</div><div class="line"> <span class="keyword">let</span> string2 = <span class="string">"jian"</span>;</div><div class="line"> <span class="keyword">let</span> string3 =  string1 + string2;</div><div class="line"> <span class="built_in">print</span>(<span class="string">"string3 is  \(string3)"</span>);  <span class="comment">// chen  jian</span></div><div class="line"></div><div class="line"><span class="comment">//é€šè¿‡åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ (+=) å°†ä¸€ä¸ªå­—ç¬¦ä¸²æ·»åŠ åˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨å­—ç¬¦ä¸²å˜é‡ä¸Š</span></div><div class="line"><span class="keyword">var</span> variablestring = <span class="string">"da shen chen jian"</span>;</div><div class="line">variablestring += string2;</div><div class="line"><span class="built_in">print</span>(<span class="string">"variablestring is \(variablestring)"</span>);<span class="comment">// da shen chen jianjian </span></div><div class="line"></div><div class="line">  <span class="comment">// ç”¨append()æ–¹æ³•å°†ä¸€ä¸ªå­—ç¬¦é™„åŠ åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡çš„å°¾éƒ¨</span></div><div class="line">  variablestring.append(<span class="string">" !"</span>);</div><div class="line">  <span class="built_in">print</span>(<span class="string">"variablestring is \(variablestring)"</span>);</div><div class="line">  <span class="comment">// da shen chen jianjian !</span></div></pre></td></tr></table></figure><h2 id="Stringçš„Index"><a href="#Stringçš„Index" class="headerlink" title="Stringçš„Index"></a>Stringçš„Index</h2><ul><li>ä¸åƒjavaé‡Œé¢çš„Indexç›´æ¥å°±æ˜¯ä¸€ä¸ªæ•°å­—</li><li>Stringçš„Indexæ˜¯åœ¨ä¸åŒçš„extensionä¸­å®šä¹‰çš„ã€‚ </li></ul><h2 id="è·å¾—Stringé‡Œé¢çš„æŸä¸ªå­—ç¬¦çš„è¿‡ç¨‹"><a href="#è·å¾—Stringé‡Œé¢çš„æŸä¸ªå­—ç¬¦çš„è¿‡ç¨‹" class="headerlink" title="è·å¾—Stringé‡Œé¢çš„æŸä¸ªå­—ç¬¦çš„è¿‡ç¨‹"></a>è·å¾—Stringé‡Œé¢çš„æŸä¸ªå­—ç¬¦çš„è¿‡ç¨‹</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> greeting = <span class="string">"Guten Tag!"</span></div><div class="line">greeting[greeting.startIndex]</div><div class="line"><span class="comment">// G</span></div><div class="line">greeting[greeting.index(before: greeting.endIndex)]</div><div class="line"><span class="comment">// !</span></div><div class="line">greeting[greeting.index(after: greeting.startIndex)]</div><div class="line"><span class="comment">// u</span></div><div class="line"><span class="keyword">let</span> index = greeting.index(greeting.startIndex, offsetBy: <span class="number">7</span>)</div><div class="line">greeting[index]</div><div class="line"><span class="comment">// a</span></div></pre></td></tr></table></figure><h2 id="æ’å…¥å’Œç§»é™¤å­—ç¬¦"><a href="#æ’å…¥å’Œç§»é™¤å­—ç¬¦" class="headerlink" title="æ’å…¥å’Œç§»é™¤å­—ç¬¦"></a>æ’å…¥å’Œç§»é™¤å­—ç¬¦</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> welcome = <span class="string">"hello"</span></div><div class="line">welcome.insert(<span class="string">"!"</span>, at: welcome.endIndex)</div><div class="line"><span class="comment">// welcome now equals "hello!"</span></div><div class="line"></div><div class="line">welcome.insert(contentsOf: <span class="string">" there"</span>, at: welcome.index(before: welcome.endIndex))</div><div class="line"><span class="comment">// welcome now equals "hello there!"</span></div><div class="line">welcome.remove(at: welcome.index(before: welcome.endIndex))</div><div class="line"><span class="comment">// welcome now equals "hello there"</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> range = welcome.index(welcome.endIndex, offsetBy: -<span class="number">6</span>)..&lt;welcome.endIndex</div><div class="line">welcome.removeSubrange(range)</div><div class="line"><span class="comment">// welcome now equals "hello"</span></div></pre></td></tr></table></figure><h2 id="æˆªä¸²"><a href="#æˆªä¸²" class="headerlink" title="æˆªä¸²"></a>æˆªä¸²</h2><ul><li>Swiftå¼•å…¥äº†ä¸€ä¸ªSubStringç±»ï¼Œç”¨æ¥æˆªä¸²</li></ul> <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> greeting = <span class="string">"Hello, world!"</span></div><div class="line"><span class="keyword">let</span> index = greeting.index(of: <span class="string">","</span>) ?? greeting.endIndex</div><div class="line"><span class="keyword">let</span> beginning = greeting[..&lt;index]</div><div class="line"><span class="comment">// beginning is "Hello"</span></div><div class="line">ä½†æ˜¯æ³¨æ„<span class="type">SubString</span>å¯èƒ½ä¼šç”¨åˆ°åŸæ¥stringçš„å†…å­˜ã€‚å®˜æ–¹å»ºè®®æ˜¯çŸ­æ—¶é—´ä½¿ç”¨ï¼Œå¦‚æœæƒ³è¦é•¿æ—¶é—´ä¿æŒï¼Œéœ€è¦è½¬ä¸º<span class="type">String</span></div><div class="line"><span class="comment">// Convert the result to a String for long-term storage.</span></div><div class="line"><span class="keyword">let</span> newString = <span class="type">String</span>(beginning)</div></pre></td></tr></table></figure><blockquote><p>å°†Stringè½¬æ¢ä¸ºNSStringï¼Œç„¶åè°ƒç”¨NSStringçš„æˆªä¸²æ–¹æ³•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"123456789"</span></div><div class="line"><span class="keyword">var</span> ns = (str <span class="keyword">as</span> <span class="type">NSString</span>).substringWithRange(<span class="type">NSMakeRange</span>(<span class="number">1</span>, <span class="number">4</span>))</div><div class="line"><span class="built_in">print</span>(ns) <span class="comment">//è¾“å‡º  2345</span></div></pre></td></tr></table></figure><h2 id="xtensionæ¥æ‰©å±•String-æœ€ç®€å•"><a href="#xtensionæ¥æ‰©å±•String-æœ€ç®€å•" class="headerlink" title="xtensionæ¥æ‰©å±•String(æœ€ç®€å•)"></a>xtensionæ¥æ‰©å±•String(æœ€ç®€å•)</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">mport <span class="type">Foundation</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">String</span> </span>&#123;</div><div class="line">    <span class="comment">//è·å–éƒ¨åˆ†å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›nil.å¦‚æœendå¤§äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œé‚£ä¹ˆæˆªå–åˆ°æœ€å</span></div><div class="line">    <span class="keyword">subscript</span> (start: <span class="type">Int</span>, end: <span class="type">Int</span>) -&gt; <span class="type">String</span>? &#123;</div><div class="line">        <span class="keyword">if</span> start &gt; <span class="keyword">self</span>.<span class="built_in">count</span> || start &lt; <span class="number">0</span> || start &gt; end &#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> begin = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: start)</div><div class="line">        <span class="keyword">var</span> terminal: <span class="type">Index</span></div><div class="line">        <span class="keyword">if</span> end &gt;= length &#123;</div><div class="line">            terminal = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: <span class="built_in">count</span>)</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            terminal = <span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: end + <span class="number">1</span>)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> range = (begin ..&lt; terminal)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.substring(with: range)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//è·å–æŸä¸ªå­—ç¬¦ï¼Œå¦‚æœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›nil</span></div><div class="line">    <span class="keyword">subscript</span> (index: <span class="type">Int</span>) -&gt; <span class="type">Character</span>? &#123;</div><div class="line">        <span class="keyword">if</span> index &gt; <span class="keyword">self</span>.<span class="built_in">count</span> - <span class="number">1</span> || index &lt; <span class="number">0</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">self</span>[<span class="keyword">self</span>.index(<span class="keyword">self</span>.startIndex, offsetBy: index)]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="è®¡ç®—å­—ç¬¦æ•°é‡"><a href="#è®¡ç®—å­—ç¬¦æ•°é‡" class="headerlink" title="è®¡ç®—å­—ç¬¦æ•°é‡"></a>è®¡ç®—å­—ç¬¦æ•°é‡</h2><blockquote><p>å¦‚æœæƒ³è¦è·å¾—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­Characterå€¼çš„æ•°é‡ï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²çš„characterså±æ€§çš„countå±æ€§</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span>  calculstring = <span class="string">"chenjian"</span>;</div><div class="line">  <span class="built_in">print</span>(<span class="string">"calculstring has \(calculstring.characters.count) charactor"</span>);</div><div class="line"><span class="comment">//è¾“å‡ºç»“æœ calculstring has 8 charactor</span></div></pre></td></tr></table></figure><h2 id="è®¿é—®å­—ç¬¦ä¸²"><a href="#è®¿é—®å­—ç¬¦ä¸²" class="headerlink" title="è®¿é—®å­—ç¬¦ä¸²"></a>è®¿é—®å­—ç¬¦ä¸²</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> visitString = <span class="string">"Hello Swift"</span>;</div><div class="line"><span class="comment">//è·å–ç¬¬ä¸€ä¸ªå­—ç¬¦</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"visitString çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ :\(visitString[visitString.startIndex])"</span>);</div><div class="line"><span class="comment">// è¿™é‡Œè¾“å‡º visitString çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ :H</span></div><div class="line"></div><div class="line"><span class="comment">//è·å–æœ€åä¸€ä¸ªå­—ç¬¦</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"visitString çš„æœ€åä¸€ä¸ªå­—ç¬¦ :\(visitString[visitString.index(before: visitString.endIndex)])"</span>);</div><div class="line"><span class="comment">// è¿™é‡Œè¾“å‡º  visitString çš„æœ€åä¸€ä¸ªå­—ç¬¦ :t</span></div><div class="line"></div><div class="line"><span class="comment">//è·å–ä¸‹ç¬¬äºŒä¸ªå­—ç¬¦</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"visitString çš„ç¬¬äºŒä¸ªå­—ç¬¦ : \(visitString[visitString.index(after: visitString.startIndex)])"</span>)</div><div class="line"><span class="comment">// è¿™é‡Œè¾“å‡º visitString çš„ç¬¬äºŒä¸ªå­—ç¬¦ : e</span></div><div class="line"></div><div class="line"><span class="comment">// é€šè¿‡åç§»é‡è·å–ç´¢å¼• ç¬¬ä¸€ä¸ªå­—ç¬¦ å¾€ååç§» 4ä¸ªå•ä½(ä¸åŒ…æ‹¬èµ·å§‹ä½ç½®) ï¼ˆå¤‡æ³¨ï¼š å¦‚æœä½ æŠŠå­—ç¬¦ä¸²å½“æ•°ç»„æ¥ç†è§£ï¼Œä½ ä¼šå‘ç° 0 å°±åœ¨æ•°ç»„çš„è‡ªå››ä¸ªä½ç½®ï¼‰</span></div><div class="line"><span class="keyword">let</span> index = visitString.index(visitString.startIndex, offsetBy: <span class="number">4</span>);</div><div class="line"><span class="built_in">print</span>(<span class="string">"\(visitString[index])"</span>);</div><div class="line"><span class="comment">// è¿™é‡Œè¾“å‡º  o</span></div><div class="line"></div><div class="line"><span class="comment">// ä½¿ç”¨ characters å±æ€§çš„ indices å±æ€§ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å…¨éƒ¨ç´¢å¼•çš„èŒƒå›´(Range)ï¼Œç”¨æ¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è®¿é—®å•ä¸ªå­—ç¬¦</span></div><div class="line"><span class="keyword">for</span> index <span class="keyword">in</span> visitString.characters.<span class="built_in">indices</span>&#123;</div><div class="line"></div><div class="line">    <span class="built_in">print</span>(<span class="string">"é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:\(visitString[index])"</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// è¿™é‡Œè¾“å‡º</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:H</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:e</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:l</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:l</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:o</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦: </span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:S</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:w</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:i</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:f</span></div><div class="line"><span class="comment">é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:t</span></div><div class="line"><span class="comment">*/</span></div></pre></td></tr></table></figure><h2 id="å¤§å°å†™è½¬åŒ–"><a href="#å¤§å°å†™è½¬åŒ–" class="headerlink" title="å¤§å°å†™è½¬åŒ–"></a>å¤§å°å†™è½¬åŒ–</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> changeString = <span class="string">"hello"</span>;</div><div class="line"><span class="built_in">print</span>(<span class="string">"\(changeString.uppercased())"</span>)  <span class="comment">//è½¬åŒ–æˆå¤§å†™</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"\(changeString.lowercased())"</span>)  <span class="comment">// è½¬åŒ–æˆå°å†™</span></div></pre></td></tr></table></figure><h2 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h2><blockquote><p>è°ƒç”¨ insert(_:at:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œè°ƒç”¨ insert(contentsOf:at:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªæ®µå­—ç¬¦ä¸²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//æ’å…¥å•ä¸ªå­—ç¬¦</span></div><div class="line"><span class="keyword">var</span> welocome = <span class="string">"hello"</span>;</div><div class="line">welocome.insert(<span class="string">"!"</span>, at: welocome.endIndex);</div><div class="line"><span class="built_in">print</span>(<span class="string">"welocome = \(welocome)"</span>);</div><div class="line"><span class="comment">//welocome = hello!</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//æ’å…¥ä¸€æ®µå­—ç¬¦ä¸²åˆ°æŸä¸ªä½ç½®   contentsOf ï¼š "å­—ç¬¦ä¸²".characters å›ºå®šè¯­æ³•</span></div><div class="line">welocome.insert(contentsOf: <span class="string">"there"</span>.characters, at: welocome.index(before: welocome.endIndex));</div><div class="line"><span class="built_in">print</span>(<span class="string">"welocome = \(welocome)"</span>);</div><div class="line"><span class="comment">//welocome = hello there!</span></div></pre></td></tr></table></figure><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><blockquote><p>è°ƒç”¨ remove(at:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  welocome.remove(at: welocome.index(before: welocome.endIndex));</div><div class="line"><span class="built_in">print</span>(<span class="string">"welocome = \(welocome)"</span>);</div><div class="line"><span class="comment">//welocome = hello there</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨ removeSubrange(_:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</span></div><div class="line"><span class="keyword">let</span> range = welocome.index(welocome.startIndex,offsetBy:<span class="number">6</span>)..&lt;welocome.endIndex;</div><div class="line">welocome.removeSubrange(range);</div><div class="line"><span class="built_in">print</span>(<span class="string">"welocome = \(welocome)"</span>);</div><div class="line"><span class="comment">// welocome = hello</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//æŒ‡å®šä½ç½®åˆ é™¤</span></div><div class="line">welocome.remove(at: welocome.index(before: welocome.endIndex));</div><div class="line"><span class="built_in">print</span>(welocome);</div><div class="line"><span class="comment">//hello</span></div></pre></td></tr></table></figure><h2 id="æ¯”è¾ƒå­—ç¬¦ä¸²"><a href="#æ¯”è¾ƒå­—ç¬¦ä¸²" class="headerlink" title="æ¯”è¾ƒå­—ç¬¦ä¸²"></a>æ¯”è¾ƒå­—ç¬¦ä¸²</h2><blockquote><p>å­—ç¬¦ä¸²/å­—ç¬¦å¯ä»¥ç”¨ç­‰äºæ“ä½œç¬¦(==)å’Œä¸ç­‰äºæ“ä½œç¬¦(!=)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="keyword">let</span> quotation = <span class="string">"We're a lot alike, you and I."</span></div><div class="line"><span class="keyword">let</span> sameQuotation = <span class="string">"We're a lot alike, you and I."</span></div><div class="line"><span class="keyword">if</span> quotation == sameQuotation&#123;</div><div class="line"></div><div class="line">    <span class="built_in">print</span>(<span class="string">"ç›¸ç­‰"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å‰ç¼€ç›¸ç­‰</span></div><div class="line"><span class="keyword">let</span> preString01 = <span class="string">"date"</span>;</div><div class="line"><span class="keyword">if</span> preString01.hasPrefix(<span class="string">"da"</span>)&#123;</div><div class="line"></div><div class="line">    <span class="built_in">print</span>(<span class="string">"preString01 å‰ç¼€æœ‰da"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// åç¼€ç›¸ç­‰</span></div><div class="line"><span class="keyword">if</span> preString01.hasSuffix(<span class="string">"te"</span>)&#123;</div><div class="line"></div><div class="line">    <span class="built_in">print</span>(<span class="string">"preString01 åç¼€æœ‰te"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><ul><li>ä¸èƒ½å°†ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦æ·»åŠ åˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å­—ç¬¦å˜é‡ä¸Šï¼Œå› ä¸ºå­—ç¬¦å˜é‡åªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦</li></ul><h2 id="ç‰¹æ®Šå­—ç¬¦"><a href="#ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦"></a>ç‰¹æ®Šå­—ç¬¦</h2><ul><li>å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åŒ…å«ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼šè½¬ä¹‰å­—ç¬¦\0(ç©ºå­—ç¬¦)ã€(åæ–œçº¿)ã€\t(æ°´å¹³åˆ¶è¡¨ç¬¦)ã€\n(æ¢è¡Œç¬¦)ã€\r(å›è½¦ç¬¦)ã€\â€(åŒå¼•å·)ã€\â€™(å•å¼•å·)</li></ul>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
          <category> String </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-åµŒå¥—ç±»å‹&amp;ç±»å‹è½¬æ¢</title>
      <link href="/2017/11/24/Swift/Grammar/%E5%B5%8C%E5%A5%97%E7%B1%BB%E5%9E%8B&amp;%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"/>
      <content type="html"><![CDATA[<h1 id="åµŒå¥—ç±»å‹-Nested-Types"><a href="#åµŒå¥—ç±»å‹-Nested-Types" class="headerlink" title="åµŒå¥—ç±»å‹(Nested Types)"></a>åµŒå¥—ç±»å‹(Nested Types)</h1><blockquote><p>è¿™ä¸ªæ¦‚å¿µå°±æ˜¯æŠŠä¸€ä¸ªç±»ï¼ˆç»“æ„ä½“ã€æšä¸¾ç±»ï¼‰çš„å®šä¹‰æ”¾åˆ°ä¸€ä¸ªç±»ç±»ï¼ˆç»“æ„ä½“ã€æšä¸¾ç±»ï¼‰çš„é‡Œé¢ã€‚<br>è¿™ä¸ªåµŒå¥—å¯ä»¥éšä¾¿åµŒå¥—ã€‚å¯ä»¥åœ¨ç»“æ„ä½“é‡Œé¢å®šä¹‰ç±»ï¼Œç±»é‡Œé¢å®šä¹‰æšä¸¾ç±»ï¼Œæšä¸¾ç±»é‡Œé¢å®šä¹‰ç»“æ„ä½“ç­‰ç­‰ã€‚<br>éšä¾¿ä¸€ä¸ªæ²¡æ„æ€çš„ä¾‹å­ï¼Œè®¿é—®æ–¹æ³•ä¹Ÿç»™å‡ºæ¥äº†ã€‚ä½¿ç”¨ç‚¹è¯­æ³•å°±å¯ä»¥äº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">A</span> </span>&#123;  </div><div class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">B</span> </span>&#123;  </div><div class="line">        <span class="keyword">var</span> num = <span class="number">1</span>  </div><div class="line">          </div><div class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Q</span> </span>&#123;  </div><div class="line">              </div><div class="line">        &#125;  </div><div class="line">          </div><div class="line">        <span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;  </div><div class="line">            <span class="keyword">var</span> cc = <span class="number">2</span>  </div><div class="line">              </div><div class="line">            <span class="class"><span class="keyword">enum</span> <span class="title">AA</span>  </span>&#123;  </div><div class="line">                <span class="keyword">case</span> d,e  </div><div class="line">            &#125;  </div><div class="line">              </div><div class="line">            <span class="class"><span class="keyword">class</span> <span class="title">CCC</span> </span>&#123;  </div><div class="line">                  </div><div class="line">            &#125;  </div><div class="line">              </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="built_in">print</span>(<span class="type">A</span>.<span class="type">B</span>.<span class="type">C</span>.<span class="type">AA</span>.d)  <span class="comment">//d  </span></div><div class="line"><span class="built_in">print</span>(<span class="type">A</span>.<span class="type">B</span>.<span class="type">C</span>().cc)  <span class="comment">//2</span></div></pre></td></tr></table></figure><h1 id="ç±»å‹åˆ¤æ–­ç¬¦-is"><a href="#ç±»å‹åˆ¤æ–­ç¬¦-is" class="headerlink" title="ç±»å‹åˆ¤æ–­ç¬¦ is"></a>ç±»å‹åˆ¤æ–­ç¬¦ is</h1><blockquote><p>ç”¨iså¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯æŸä¸ªç±»æˆ–æ˜¯æŸä¸ªç±»æ˜¯å­ç±»ã€‚è¿”å›ä¸€ä¸ªBoolå€¼ã€‚ååˆ†ç®€å•ï¼Œçœ‹ä¾‹å­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Fruit</span> </span>&#123;  </div><div class="line">      </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span> : <span class="title">Fruit</span></span>&#123;  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eatApple</span><span class="params">()</span></span> &#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"ear apple"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pear</span>: <span class="title">Fruit</span> </span>&#123;  </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eatPear</span><span class="params">()</span></span> &#123;  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"eat pear"</span>)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> array = [<span class="type">Fruit</span>(),<span class="type">Apple</span>(),<span class="type">Pear</span>()]  </div><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> array &#123;  </div><div class="line">    <span class="built_in">print</span>(item <span class="keyword">is</span> <span class="type">Apple</span>)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//false  </span></div><div class="line"><span class="comment">//true  </span></div><div class="line"><span class="comment">//false  </span></div><div class="line">  </div><div class="line"><span class="keyword">var</span> f = <span class="type">Fruit</span>()  </div><div class="line"><span class="keyword">var</span> a = <span class="type">Apple</span>()  </div><div class="line"><span class="keyword">var</span> p = <span class="type">Pear</span>()  </div><div class="line">  </div><div class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> <span class="type">Apple</span>)   <span class="comment">//è­¦å‘Šè¯´ è‚¯å®šè¿”å› true  </span></div><div class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> <span class="type">Fruit</span>)   <span class="comment">//è­¦å‘Šè¯´ è‚¯å®šè¿”å› true  </span></div><div class="line"><span class="built_in">print</span>(p <span class="keyword">is</span> <span class="type">Apple</span>)   <span class="comment">//è­¦å‘Šè¯´ è‚¯å®šè¿”å› false  </span></div><div class="line"><span class="built_in">print</span>(f <span class="keyword">is</span> <span class="type">Apple</span>)   <span class="comment">//æ‰“å°false</span></div></pre></td></tr></table></figure><h1 id="ç±»å‹ä¸‹è½¬æ¢ç¬¦as-å’Œ-as-ï¼Œä¸‹è½¬æ¢åˆ¤æ–­ç¬¦as"><a href="#ç±»å‹ä¸‹è½¬æ¢ç¬¦as-å’Œ-as-ï¼Œä¸‹è½¬æ¢åˆ¤æ–­ç¬¦as" class="headerlink" title="ç±»å‹ä¸‹è½¬æ¢ç¬¦as? å’Œ as! ï¼Œä¸‹è½¬æ¢åˆ¤æ–­ç¬¦as"></a>ç±»å‹ä¸‹è½¬æ¢ç¬¦as? å’Œ as! ï¼Œä¸‹è½¬æ¢åˆ¤æ–­ç¬¦as</h1><blockquote><p>è¿™as? as! ä¸¤ä¸ªè¿ç®—ç¬¦å¯ä»¥å°†ä¸€ä¸ªå®ä¾‹å°è¯•è½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªç±»çš„å®ä¾‹ã€‚ä¸€èˆ¬æ˜¯ç”¨åœ¨å°†ä¸€ä¸ªçˆ¶ç±»å˜é‡çš„è½¬æ¢ä¸ºä¸€ä¸ªå­ç±»å˜é‡ã€‚æ¯”å¦‚ä¸‹é¢ä»£ç </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> fruit: <span class="type">Fruit</span> = <span class="type">Pear</span>()</div></pre></td></tr></table></figure><blockquote><p>å…ˆæ¥å¼€å¼€è¿™å¥ä»£ç ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªå˜é‡å£°æ˜ä¸ºäº†Fruitç±»å‹ï¼Œä½†æ˜¯èµ‹å€¼çš„æ—¶å€™ç»™çš„å´æ˜¯Fruitçš„å­ç±»Pearã€‚è¿™ä¸ªæ—¶å€™å¹¶ä¸ä¼šæŠ¥é”™ã€‚è¿™ç§ç”¨ä¸€ä¸ªçˆ¶ç±»ç±»å‹çš„å˜é‡æŒ‡å‘ä¸€ä¸ªå­ç±»çš„åšæ³•ç§°ä¸ºå¤šæ€ã€‚å¤šæ€åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é‡Œé¢æœ‰å¾ˆé‡è¦çš„ä½œç”¨ã€‚è¿™é‡Œä¸å±•å¼€è®²ã€‚<br>å› ä¸ºfruitå˜é‡å£°æ˜ä¸ºäº†Fruitç±»å‹ï¼Œå³ä½¿å®ƒå®é™…å¼•ç”¨çš„å®ä¾‹æ˜¯Pearç±»ï¼Œä½†æ˜¯ç°åœ¨è¿˜æ˜¯ä¸èƒ½é€šè¿‡å®ƒæ¥è°ƒç”¨Pearç±»å¼•å…¥çš„å±æ€§æˆ–æ–¹æ³•ã€‚å°½ç®¡è¿™ä¸ªå®ä¾‹ç¡®å®æ˜¯æ‹¥æœ‰è¿™äº›å±æ€§å’Œæ–¹æ³•ã€‚ä¸ºäº†å»è®¿é—®è¿™äº›å­˜åœ¨çš„å±æ€§å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬å°±è¦é‡‡ç”¨ç±»å‹ä¸‹è½¬æ¢ï¼Œå°†è¿™ä¸ªfruitçš„å˜é‡è½¬æ¢ä¸ºä¸€ä¸ªpearçš„å˜é‡ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> pear = fruit <span class="keyword">as</span>? <span class="type">Pear</span></div></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ä½¿ç”¨as?ï¼Œå°è¯•å°†è¿™ä¸ªfruitè½¬ä¸ºä¸€ä¸ªPearç±»å‹çš„å˜é‡ã€‚è¿™é‡Œå› ä¸ºfruitå¼•ç”¨çš„å®ä¾‹å°±æ˜¯Pearï¼Œæ‰€ä»¥æ˜¯å¯ä»¥è½¬æ¢æˆåŠŸã€‚æˆåŠŸåè¿”å›äº†ä¸€ä¸ªPearçš„å¯é€‰ç±»å‹ç»™å˜é‡pearã€‚ä½†æ˜¯å¦‚æœè½¬æ¢å¤±è´¥ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªnilã€‚æ¯”å¦‚ä½ å°è¯•å°†ä¸€ä¸ªAppleå®ä¾‹è½¬æ¢ä¸ºä¸€ä¸ªPearï¼Œæˆ–è€…å°†ä¸€ä¸ªFruitå®ä¾‹è½¬æ¢ä¸ºå®ƒçš„å­ç±»éƒ½ä¼šå¤±è´¥ã€‚</p><p>è¡¥å……ä¸€ç‚¹ï¼Œå¦‚æœå¯¹ä¸Šé¢çš„fruitå˜é‡ä½¿ç”¨isåˆ¤æ–­æ˜¯å¦æ˜¯Pearç±»ï¼Œè¿”å›çš„æ˜¯trueã€‚<br>as!å’Œas?çš„åŒºåˆ«å°±æ˜¯å¼ºåˆ¶è§£åŒ…äº†ã€‚å­¦äº†é‚£ä¹ˆå¤šï¼Œåº”è¯¥å¯ä»¥çŒœåˆ°ã€‚<br>æœ€ååœ¨ä»‹ç»è¿™ä¸ªæ¯”è¾ƒè¯¡å¼‚çš„asä¹‹å‰ï¼Œçœ‹çœ‹Anyå’ŒAnyObjectè¿™ä¸¤ä¸ªç±»å‹ã€‚</p><p>Anyä»£è¡¨ä»»ä½•ç±»å‹çš„å®ä¾‹ï¼ŒåŒ…æ‹¬äº†å‡½æ•°ç±»å‹ã€‚</p><p>AnyObjectä»£è¡¨ä»»ä½•ç±»çš„å®ä¾‹ã€‚</p><blockquote><p>ç°åœ¨ä»‹ç»asçš„ç”¨æ³•ï¼Œç°åœ¨åªå‘ç°asèƒ½ç”¨åœ¨switchä¸­ï¼Œç”¨æ¥åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">f1</span><span class="params">()</span></span> -&gt; <span class="type">Int</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>  </div><div class="line">&#125;  </div><div class="line"><span class="keyword">var</span> b = &#123;<span class="keyword">var</span> i=<span class="number">0</span>; i++&#125;  </div><div class="line">  </div><div class="line"><span class="keyword">var</span> array: [<span class="type">Any</span>] = [f1,b,fruit,<span class="type">Fruit</span>(), <span class="type">Apple</span>(), <span class="type">Pear</span>(), <span class="type">Animal</span>(), (<span class="number">2</span>,<span class="number">3</span>), (<span class="number">4</span>,<span class="number">5</span>)]  </div><div class="line"><span class="keyword">for</span> (index, item) <span class="keyword">in</span> array.<span class="built_in">enumerate</span>() &#123;  </div><div class="line">    <span class="keyword">switch</span> item &#123;  </div><div class="line">    <span class="keyword">case</span> <span class="keyword">let</span> item2 <span class="keyword">as</span> <span class="type">Apple</span> :  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"index\(index) is \(item2)"</span>)  </div><div class="line">    <span class="keyword">case</span> <span class="keyword">is</span> <span class="type">Pear</span>:  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"index\(index) is pear"</span>)  </div><div class="line">    <span class="keyword">case</span> <span class="keyword">let</span> (<span class="number">2</span>,y) <span class="keyword">as</span> (<span class="type">Int</span>, <span class="type">Int</span>) <span class="keyword">where</span> y &gt; <span class="number">2</span>:  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"index\(index) is tuple  y ="</span>,y)  </div><div class="line">    <span class="keyword">case</span> <span class="keyword">is</span> (<span class="type">Int</span>,<span class="type">Int</span>):  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"index\(index) is (Int,Int) "</span>,item)  </div><div class="line">    <span class="keyword">case</span> <span class="keyword">let</span> f <span class="keyword">as</span> <span class="type">Void</span>-&gt;<span class="type">Void</span>:  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"index\(index) is Void-&gt;Void "</span>,item)  </div><div class="line">    <span class="keyword">default</span>:  </div><div class="line">        <span class="built_in">print</span>(<span class="string">"index\(index) is default"</span>,item)  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//æ‰“å°  </span></div><div class="line"><span class="comment">//index0 is default (Function)  </span></div><div class="line"><span class="comment">//index1 is Void-&gt;Void  (Function)  </span></div><div class="line"><span class="comment">//index2 is pear  </span></div><div class="line"><span class="comment">//index3 is default SwiftTest.Fruit  </span></div><div class="line"><span class="comment">//index4 is SwiftTest.Apple  </span></div><div class="line"><span class="comment">//index5 is pear  </span></div><div class="line"><span class="comment">//index6 is default SwiftTest.Animal  </span></div><div class="line"><span class="comment">//index7 is tuple  y = 3  </span></div><div class="line"><span class="comment">//index8 is (Int,Int)  (4, 5)</span></div></pre></td></tr></table></figure><blockquote><p>ä½ ä¼šå‘ç°å…¶å®ï¼Œis å’Œ as çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚asæ¯”iså¤šçš„å°±æ˜¯å°†ä¸€ä¸ªtupleå¯ä»¥å†æ¬¡è§£åŒ…å‡ºå…ƒç´ ï¼Œå¹¶ä¸”å†æ¬¡åŒ¹é…å…ƒç´ ï¼ŒåŒæ—¶è¿˜å¯ä»¥åŠ ä¸Šwhereåšåˆ¤æ–­ã€‚æ¯”å¦‚ä¸Šé¢çš„ç¬¬ä¸‰ä¸ªcaseè¯­å¥ã€‚ä¼šåˆ¤æ–­è¿™ä¸ªitemæ˜¯å¦æ˜¯(Int,Inte)ç±»å‹ï¼Œç„¶åè§£åŒ…tupleï¼Œåˆ¤æ–­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä¸º2ï¼Œå¦‚æœæ˜¯2ï¼Œè¿˜ä¼šåˆ¤æ–­ç¬¬äºŒä¸ªå…ƒç´ æ˜¯å¦å¤§äº2.åªæœ‰è¿™ä¸‰ä¸ªæ¡ä»¶éƒ½ç¬¦åˆæ‰ä¼šåŒ¹é…è¿™ä¸ªcase</p></blockquote>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Protocolåè®®</title>
      <link href="/2017/11/24/Swift/Grammar/Protocol%E5%8D%8F%E8%AE%AE/"/>
      <content type="html"><![CDATA[<h1 id="Protocol"><a href="#Protocol" class="headerlink" title="Protocol"></a>Protocol</h1><h2 id="POP-é¢å‘åè®®çš„ç¼–ç¨‹"><a href="#POP-é¢å‘åè®®çš„ç¼–ç¨‹" class="headerlink" title="POP é¢å‘åè®®çš„ç¼–ç¨‹"></a>POP é¢å‘åè®®çš„ç¼–ç¨‹</h2><blockquote><p>é¢å‘åè®®çš„ç¼–ç¨‹çš„æ ¸å¿ƒæ˜¯æŠ½è±¡ï¼ˆAbstractionï¼‰å’Œç®€åŒ–ï¼ˆSimplicityï¼‰<br>åè®®çš„é«˜çº§ä½¿ç”¨æ˜¯åè®®çš„å»¶å±•<br>åè®®(protocol) + ç»“æ„ä½“(struct) &gt; ç±»(class)</p></blockquote><h2 id="é¢å‘å¯¹è±¡ä¸é¢å‘åè®®æ¯”è¾ƒ"><a href="#é¢å‘å¯¹è±¡ä¸é¢å‘åè®®æ¯”è¾ƒ" class="headerlink" title="é¢å‘å¯¹è±¡ä¸é¢å‘åè®®æ¯”è¾ƒ"></a>é¢å‘å¯¹è±¡ä¸é¢å‘åè®®æ¯”è¾ƒ</h2><ul><li>é¢å‘å¯¹è±¡æ˜¯ä¸€ä¸ªå¾ˆå¤è€çš„è½¯ä»¶å¼€å‘æ¨¡å¼ï¼Œé€šè¿‡ç±»æ¥å®ç°</li><li>é¢å‘åè®®æ˜¯è‹¹æœåœ¨ swift ä¸­ä¸»æ¨çš„ï¼Œé€šè¿‡åè®®å’Œç»“æ„ä½“ï¼Œå¯ä»¥ä»£æ›¿ç±»</li><li>Swift ä¸­çš„å¾ˆå¤šå¯¹è±¡éƒ½æ”¹æˆäº†ç»“æ„ä½“å’Œåè®®</li><li>å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½å¯ä»¥è¢«åè®®+ç»“æ„ä½“æ›¿ä»£ï¼Œä½†å¤§å¤šæ•°æ˜¯å¯ä»¥è¢«æ›¿æ¢çš„</li><li>é¢å‘åè®®ä½¿ä»£ç æ›´åŠ çµæ´»ï¼Œç±»ä¼¼äºç»„ä»¶åŒ–å¼€å‘ï¼Œç¬¦åˆå·¥å‚æ–¹æ³•æ¨¡å¼<h3 id="å®ä¾‹æ¯”è¾ƒï¼šç»™ä¸€ä¸ªç±»æ·»åŠ é¢å¤–çš„æ–¹æ³•"><a href="#å®ä¾‹æ¯”è¾ƒï¼šç»™ä¸€ä¸ªç±»æ·»åŠ é¢å¤–çš„æ–¹æ³•" class="headerlink" title="å®ä¾‹æ¯”è¾ƒï¼šç»™ä¸€ä¸ªç±»æ·»åŠ é¢å¤–çš„æ–¹æ³•"></a>å®ä¾‹æ¯”è¾ƒï¼šç»™ä¸€ä¸ªç±»æ·»åŠ é¢å¤–çš„æ–¹æ³•</h3><blockquote><p>é€šè¿‡ç»§æ‰¿ </p></blockquote></li></ul><ul><li>åˆ›å»ºä¸€ä¸ªç»§æ‰¿ç±»çš„å­ç±»ï¼Œåœ¨å­ç±»ä¸­æ·»åŠ æ–¹æ³•ï¼Œä»¥åä½¿ç”¨å­ç±»å³å¯è·å–è¿™ä¸ªæ–¹æ³•é€šè¿‡åè®®</li><li><p>ä¸ºè¿™ä¸ªæ–¹æ³•å®šä¹‰ä¸€ä¸ªåè®®ï¼Œå“ªä¸ªç±»éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•ï¼Œåè®®å³å¯</p><blockquote><p>ä½¿ç”¨ç»§æ‰¿çš„ç¼ºç‚¹</p></blockquote></li><li><p>é€šè¿‡ç»§æ‰¿æ·»åŠ çš„æ–¹æ³•ï¼Œä¸ä¸€å®šæ¯ä¸ªå­ç±»éƒ½ä¼šä½¿ç”¨ï¼Œä½¿ä»£ç å†—ä½™</p></li><li>æ‹¥æœ‰å¤ªå¤šçš„å­ç±»ï¼Œä½¿ç±»å†—ä½™</li><li>å¯¹äºçˆ¶ç±»çš„æ–¹æ³•å¤ªè¿‡ä¾èµ–ï¼Œå½“çˆ¶ç±»çš„æ–¹æ³•æ›´æ”¹åï¼Œå½±å“å­ç±»çš„é‡è½½æ–¹æ³•</li></ul><h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><blockquote><p><strong><em>åè®®</em></strong> è§„å®šäº†ç”¨æ¥å®ç°æŸä¸€ç‰¹å®šåŠŸèƒ½æ‰€å¿…é¡»çš„ <strong>æ–¹æ³•</strong>å’Œ <strong>å±æ€§</strong>ã€‚<br>ç”¨äºç»Ÿä¸€æ–¹æ³•å’Œå±æ€§çš„åç§°ï¼Œè€Œä¸å®ç°ä»»ä½•åŠŸèƒ½<br>ä»»æ„èƒ½å¤Ÿæ»¡è¶³åè®®è¦æ±‚çš„ç±»å‹è¢«ç§°ä¸ºéµå¾ª(conform)è¿™ä¸ªåè®®ã€‚<br><strong>ç±»</strong>ï¼Œ<strong>ç»“æ„ä½“</strong>ã€<strong>æšä¸¾ç±»å‹</strong>(åè®®çš„éµå®ˆè€…) éƒ½å¯ä»¥éµå¾ªåè®®ï¼Œå¹¶æä¾›å…·ä½“å®ç°æ¥å®Œæˆåè®®å®šä¹‰çš„æ–¹æ³•å’ŒåŠŸèƒ½</p></blockquote><h3 id="åè®®çš„è¯­æ³•æ ¼å¼"><a href="#åè®®çš„è¯­æ³•æ ¼å¼" class="headerlink" title="åè®®çš„è¯­æ³•æ ¼å¼"></a>åè®®çš„è¯­æ³•æ ¼å¼</h3><ul><li>åè®®çš„é«˜çº§ä½¿ç”¨æ˜¯åè®®çš„å»¶å±•ä»¥åŠå’Œç»“æ„ä½“é…åˆ</li></ul><blockquote><p>ä¸ºè®®æ·»åŠ å±æ€§, å±æ€§ä¸ºå¯è¯»æˆ–å¯å†™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line">    <span class="comment">// åè®®å†…å®¹</span></div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123;<span class="keyword">get</span> <span class="keyword">set</span>&#125;</div><div class="line">    <span class="keyword">var</span> age:  <span class="type">Int</span> &#123; <span class="keyword">set</span> <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®šä¹‰ä¸€ä¸ªæ¥å—åè®®çš„ç»“æ„ä½“</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SomeModel</span>: <span class="title">SomeProtocol</span></span>&#123;</div><div class="line">   <span class="keyword">var</span> name:<span class="type">String</span> = <span class="string">""</span></div><div class="line">   <span class="keyword">var</span> age: <span class="type">Int</span> = <span class="number">0</span></div><div class="line">   <span class="keyword">var</span> isYue: <span class="type">Bool</span> =  <span class="literal">false</span></div><div class="line">   </div><div class="line">   <span class="keyword">init</span>(with dict:[<span class="type">String</span>:<span class="type">Any</span>])&#123;</div><div class="line">   <span class="keyword">self</span>.name = (dict[<span class="string">"name"</span>]<span class="keyword">as</span>?<span class="type">String</span>)??<span class="string">""</span></div><div class="line">   <span class="keyword">self</span>.age = (dict[<span class="string">"age"</span>]<span class="keyword">as</span>?<span class="type">Int</span>)??<span class="number">0</span></div><div class="line">   <span class="keyword">self</span>.isYue = (dict[<span class="string">"isYue"</span>]<span class="keyword">as</span>?<span class="type">Bool</span>)??<span class="literal">false</span></div><div class="line">   &#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure><blockquote><p>å¯¹åè®®è¿›è¡Œå»¶å±•</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">SomeProtocol</span></span>&#123;</div><div class="line"> <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">test</span> <span class="params">()</span></span>&#123;</div><div class="line"> <span class="keyword">self</span>.name = <span class="string">"Hello Jianjian !"</span></div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åè®®çš„åè®®</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">protocol</span> <span class="title">oneProtocol</span>: <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> date: <span class="type">Date</span> &#123; <span class="keyword">set</span> <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="éµå¾ªæŸ-å¤š-ä¸ªåè®®"><a href="#éµå¾ªæŸ-å¤š-ä¸ªåè®®" class="headerlink" title="éµå¾ªæŸ(å¤š)ä¸ªåè®®"></a>éµå¾ªæŸ(å¤š)ä¸ªåè®®</h3><blockquote><p>è¦ä½¿ç±»éµå¾ªæŸä¸ªåè®®ï¼Œéœ€è¦åœ¨ç±»å‹åç§°ååŠ ä¸Šåè®®åç§°ï¼Œä¸­é—´ä»¥å†’å·:åˆ†éš”ï¼Œä½œä¸ºç±»å‹å®šä¹‰çš„ä¸€éƒ¨åˆ†<br>éµå¾ªå¤šä¸ªåè®®æ—¶ï¼Œå„åè®®ä¹‹é—´ç”¨é€—å·,åˆ†éš”</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">struct SomeStructure: FirstProtocol, AnotherProtocol &#123;</div><div class="line">    // ç»“æ„ä½“å†…å®¹</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœç±»åœ¨éµå¾ªåè®®çš„åŒæ—¶æ‹¥æœ‰çˆ¶ç±»ï¼Œåº”è¯¥å°† <strong>çˆ¶ç±»å</strong> æ”¾åœ¨ <strong>åè®®å</strong> ä¹‹å‰ï¼Œä»¥<strong>é€—å·</strong>åˆ†éš”</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">class OneClass: OneSuperClass, OneProtocol, TwoProtocol &#123;</div><div class="line">    // ç±»çš„å†…å®¹</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å¯¹å±æ€§çš„è§„å®š"><a href="#å¯¹å±æ€§çš„è§„å®š" class="headerlink" title="å¯¹å±æ€§çš„è§„å®š"></a>å¯¹å±æ€§çš„è§„å®š</h2><blockquote><p><strong>åè®®</strong> ç”¨äºæŒ‡å®šç‰¹å®šçš„å®ä¾‹å±æ€§æˆ–ç±»å±æ€§ åè®®èƒ½å¤Ÿè¦æ±‚å…¶éµå®ˆè€…å¿…é¡»å«æœ‰ä¸€äº›ç‰¹å®šåç§°å’Œç±»å‹çš„å®ä¾‹å±æ€§(instance property)æˆ–ç±»å±æ€§ (type property)ï¼Œ<br>ä¹Ÿèƒ½å¤Ÿè¦æ±‚å±æ€§çš„(è®¾ç½®æƒé™)settable å’Œ(è®¿é—®æƒé™)gettableï¼Œè¿˜å¿…é¡»æŒ‡æ˜æ˜¯åªè¯»çš„è¿˜æ˜¯å¯è¯»å¯å†™çš„<br>ä½†å®ƒä¸è¦æ±‚å±æ€§æ˜¯å­˜å‚¨å‹å±æ€§(stored property)è¿˜æ˜¯è®¡ç®—å‹å±æ€§(calculate property)<br>åè®®ä¸­çš„é€šå¸¸ç”¨<strong>var</strong>æ¥å£°æ˜å˜é‡å±æ€§ï¼Œåœ¨ç±»å‹å£°æ˜ååŠ ä¸Š{ set get }æ¥è¡¨ç¤ºå±æ€§æ˜¯å¯è¯»å¯å†™çš„ï¼Œåªè¯»å±æ€§åˆ™ç”¨{ get }æ¥è¡¨ç¤ºã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line"><span class="keyword">var</span> age : <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line"><span class="keyword">var</span> money: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç”¨ç±»æ¥å®ç°åè®®æ—¶ï¼Œä½¿ç”¨classå…³é”®å­—æ¥è¡¨ç¤ºè¯¥å±æ€§ä¸ºç±»æˆå‘˜<br>ç”¨ç»“æ„ä½“æˆ–æšä¸¾å®ç°åè®®æ—¶ï¼Œåˆ™ä½¿ç”¨staticå…³é”®å­—æ¥è¡¨ç¤º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">someTypeProperty</span>: <span class="title">Int</span> </span>&#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>SomeProtocolåè®®å«æœ‰fullNameå±æ€§ã€‚å› æ­¤å…¶éµå¾ªè€…å¿…é¡»å«æœ‰ä¸€ä¸ªåä¸ºoneNameï¼Œç±»å‹ä¸ºStringçš„å¯è¯»å±æ€§<br>Personç»“æ„ä½“å«æœ‰ä¸€ä¸ªåä¸ºoneNameçš„å­˜å‚¨å‹å±æ€§ï¼Œå®Œæ•´çš„éµå¾ªäº†åè®®ã€‚(è‹¥åè®®æœªè¢«å®Œæ•´éµå¾ªï¼Œç¼–è¯‘æ—¶åˆ™ä¼šæŠ¥é”™)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line"><span class="keyword">var</span> oneName: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">   <span class="class"><span class="keyword">struct</span> <span class="title">Person</span>: <span class="title">SomeProtocol</span></span>&#123;</div><div class="line">      <span class="keyword">var</span> oneName: <span class="type">String</span></div><div class="line">    &#125;</div><div class="line">   <span class="keyword">let</span> john = <span class="type">Person</span>(oneName: â€œ<span class="type">Chen</span> jianjianâ€)</div><div class="line">   <span class="comment">//john. oneName ä¸º â€œChen jianjianâ€</span></div></pre></td></tr></table></figure><blockquote><p>Startshipç±»éµå¾ªäº†SomeProtocolåè®®<br>Starshipç±»å°†oneNameå®ç°ä¸ºå¯è¯»çš„è®¡ç®—å‹å±æ€§<br>å®ƒçš„æ¯ä¸€ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªåä¸ºnameçš„å¿…å¤‡å±æ€§å’Œä¸€ä¸ªåä¸ºprefixçš„å¯é€‰å±æ€§<br>å½“prefixå­˜åœ¨æ—¶ï¼Œå°†prefixæ’å…¥åˆ°nameä¹‹å‰æ¥ä¸ºStarshipæ„å»ºoneName<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Starship</span>: <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line"><span class="keyword">var</span> <span class="keyword">prefix</span>: <span class="type">String</span>?</div><div class="line"><span class="keyword">var</span> name: <span class="type">String</span></div><div class="line"><span class="keyword">init</span>(name: <span class="type">String</span>, <span class="keyword">prefix</span>: <span class="type">String</span>? = <span class="literal">nil</span> ) &#123;</div><div class="line"><span class="keyword">self</span>.anme = name</div><div class="line"><span class="keyword">self</span>.<span class="keyword">prefix</span> = <span class="keyword">prefix</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> oneName: <span class="type">String</span> &#123;</div><div class="line">   <span class="keyword">return</span> (<span class="keyword">prefix</span> ? <span class="keyword">prefix</span> ! + â€ â€ : â€ â€œ) + name</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> ncc1701 = <span class="type">Starship</span>(name: â€œ<span class="type">Enterprise</span>â€, <span class="keyword">prefix</span>: â€œ<span class="type">USS</span>â€)</div><div class="line"><span class="comment">// ncc1701. oneName == â€œUSS Enterpriseâ€</span></div></pre></td></tr></table></figure></p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">classa</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> marks: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">    <span class="keyword">var</span> result: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">attendance</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">markssecured</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">classb</span>: <span class="title">classa</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> present: <span class="type">Bool</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">    <span class="keyword">var</span> subject: <span class="type">String</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">    <span class="keyword">var</span> stname: <span class="type">String</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">classc</span>: <span class="title">classb</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> marks = <span class="number">96</span></div><div class="line">    <span class="keyword">let</span> result = <span class="literal">true</span></div><div class="line">    <span class="keyword">var</span> present = <span class="literal">false</span></div><div class="line">    <span class="keyword">var</span> subject = <span class="string">"Swift åè®®"</span></div><div class="line">    <span class="keyword">var</span> stname = <span class="string">"Protocols"</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">attendance</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"The \(stname) has secured 99% attendance"</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">markssecured</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"\(stname) has scored \(marks)"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> studdet = classc()</div><div class="line">studdet.stname = <span class="string">"Swift"</span></div><div class="line">studdet.marks = <span class="number">98</span></div><div class="line">studdet.markssecured()</div><div class="line"></div><div class="line"><span class="built_in">print</span>(studdet.marks)</div><div class="line"><span class="built_in">print</span>(studdet.result)</div><div class="line"><span class="built_in">print</span>(studdet.present)</div><div class="line"><span class="built_in">print</span>(studdet.subject)</div><div class="line"><span class="built_in">print</span>(studdet.stname)</div><div class="line"></div><div class="line">ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸º</div><div class="line"><span class="number">98</span></div><div class="line"><span class="literal">true</span></div><div class="line"><span class="literal">false</span></div><div class="line"><span class="type">Swift</span> åè®®</div><div class="line"><span class="type">Swift</span></div></pre></td></tr></table></figure><h1 id="å¯¹-Mutating-æ–¹æ³•çš„è§„å®š"><a href="#å¯¹-Mutating-æ–¹æ³•çš„è§„å®š" class="headerlink" title="å¯¹ Mutating æ–¹æ³•çš„è§„å®š"></a>å¯¹ Mutating æ–¹æ³•çš„è§„å®š</h1><blockquote><p>æœ‰æ—¶éœ€è¦åœ¨æ–¹æ³•ä¸­æ”¹å˜å®ƒçš„å®ä¾‹ã€‚<br>ä¾‹å¦‚ï¼šå€¼ç±»å‹ï¼ˆç»“æ„ä½“ï¼Œæšä¸¾ï¼‰çš„å®ä¾‹æ–¹æ³•ä¸­ï¼Œå°†mutatingå…³é”®å­—ä½œä¸ºå‡½æ•°çš„å‰ç¼€ï¼Œå†™åœ¨funcä¹‹å‰ï¼Œè¡¨ç¤ºå¯ä»¥åœ¨è¯¥æ–¹æ³•ä¸­ä¿®æ”¹å®ƒæ‰€å±çš„å®ä¾‹åŠå…¶å®ä¾‹å±æ€§çš„å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">daysofaweek</span> </span>&#123;</div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">days</span>: <span class="title">daysofaweek</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> sun, mon, tue, wed, thurs, fri, sat</div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .sun:</div><div class="line">            <span class="keyword">self</span> = .sun</div><div class="line">            <span class="built_in">print</span>(<span class="string">"Sunday"</span>)</div><div class="line">        <span class="keyword">case</span> .mon:</div><div class="line">            <span class="keyword">self</span> = .mon</div><div class="line">            <span class="built_in">print</span>(<span class="string">"Monday"</span>)</div><div class="line">        <span class="keyword">case</span> .tue:</div><div class="line">            <span class="keyword">self</span> = .tue</div><div class="line">            <span class="built_in">print</span>(<span class="string">"Tuesday"</span>)</div><div class="line">        <span class="keyword">case</span> .wed:</div><div class="line">            <span class="keyword">self</span> = .wed</div><div class="line">            <span class="built_in">print</span>(<span class="string">"Wednesday"</span>)</div><div class="line">        <span class="keyword">case</span> .thurs:</div><div class="line">            <span class="keyword">self</span> = .thurs</div><div class="line">            <span class="built_in">print</span>(<span class="string">"Wednesday"</span>)</div><div class="line">        <span class="keyword">case</span> .fri:</div><div class="line">            <span class="keyword">self</span> = .fri</div><div class="line">            <span class="built_in">print</span>(<span class="string">"Wednesday"</span>)</div><div class="line">        <span class="keyword">case</span> .sat:</div><div class="line">            <span class="keyword">self</span> = .sat</div><div class="line">            <span class="built_in">print</span>(<span class="string">"Saturday"</span>)</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="built_in">print</span>(<span class="string">"NO Such Day"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> res = days.wed</div><div class="line">res.show()</div><div class="line"></div><div class="line">ç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š<span class="type">Wednesday</span></div></pre></td></tr></table></figure><h1 id="å¯¹æ„é€ å™¨çš„è§„å®š"><a href="#å¯¹æ„é€ å™¨çš„è§„å®š" class="headerlink" title="å¯¹æ„é€ å™¨çš„è§„å®š"></a>å¯¹æ„é€ å™¨çš„è§„å®š</h1><blockquote><p>åè®®å¯ä»¥è¦æ±‚å®ƒçš„éµå¾ªè€…å®ç°æŒ‡å®šçš„æ„é€ å™¨ã€‚<br>åƒä¹¦å†™æ™®é€šçš„æ„é€ å™¨é‚£æ ·ï¼Œåœ¨åè®®çš„å®šä¹‰é‡Œå†™ä¸‹æ„é€ å™¨çš„å£°æ˜ï¼Œä½†ä¸éœ€è¦å†™èŠ±æ‹¬å·å’Œæ„é€ å™¨çš„å®ä½“ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line">   <span class="keyword">init</span>(someParameter: <span class="type">Int</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®ä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">tcpprotocol</span> </span>&#123;</div><div class="line">   <span class="keyword">init</span>(aprot: <span class="type">Int</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="åè®®æ„é€ å™¨è§„å®šåœ¨ç±»ä¸­çš„å®ç°"><a href="#åè®®æ„é€ å™¨è§„å®šåœ¨ç±»ä¸­çš„å®ç°" class="headerlink" title="åè®®æ„é€ å™¨è§„å®šåœ¨ç±»ä¸­çš„å®ç°"></a>åè®®æ„é€ å™¨è§„å®šåœ¨ç±»ä¸­çš„å®ç°</h1><blockquote><p>ä½ å¯ä»¥åœ¨éµå¾ªè¯¥åè®®çš„ç±»ä¸­å®ç°æ„é€ å™¨ï¼Œå¹¶æŒ‡å®šå…¶ä¸ºç±»çš„æŒ‡å®šæ„é€ å™¨æˆ–è€…ä¾¿åˆ©æ„é€ å™¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½ éƒ½å¿…é¡»ç»™æ„é€ å™¨å®ç°æ ‡ä¸Šâ€requiredâ€ä¿®é¥°ç¬¦ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>: <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line">   <span class="keyword">required</span> <span class="keyword">init</span>(someParameter: <span class="type">Int</span>) &#123;</div><div class="line">      <span class="comment">// æ„é€ å™¨å®ç°</span></div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">tcpprotocol</span> </span>&#123;</div><div class="line">   <span class="keyword">init</span>(aprot: <span class="type">Int</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">tcpClass</span>: <span class="title">tcpprotocol</span> </span>&#123;</div><div class="line">   <span class="keyword">required</span> <span class="keyword">init</span>(aprot: <span class="type">Int</span>) &#123;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ–½ç”¨requiredä¿®é¥°ç¬¦å¯ä»¥ä¿è¯ï¼šæ‰€æœ‰çš„éµå¾ªè¯¥åè®®çš„å­ç±»ï¼ŒåŒæ ·èƒ½ä¸ºæ„é€ å™¨è§„å®šæä¾›ä¸€ä¸ªæ˜¾å¼çš„å®ç°æˆ–ç»§æ‰¿å®ç°ã€‚<br>å¦‚æœä¸€ä¸ªå­ç±»é‡å†™äº†çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ï¼Œå¹¶ä¸”è¯¥æ„é€ å™¨éµå¾ªäº†æŸä¸ªåè®®çš„è§„å®šï¼Œé‚£ä¹ˆè¯¥æ„é€ å™¨çš„å®ç°éœ€è¦è¢«åŒæ—¶æ ‡ç¤ºrequiredå’Œoverrideä¿®é¥°ç¬¦ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">tcpprotocol</span> </span>&#123;</div><div class="line">    <span class="keyword">init</span>(no1: <span class="type">Int</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">mainClass</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> no1: <span class="type">Int</span> <span class="comment">// å±€éƒ¨å˜é‡</span></div><div class="line">    <span class="keyword">init</span>(no1: <span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.no1 = no1 <span class="comment">// åˆå§‹åŒ–</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">subClass</span>: <span class="title">mainClass</span>, <span class="title">tcpprotocol</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> no2: <span class="type">Int</span></div><div class="line">    <span class="keyword">init</span>(no1: <span class="type">Int</span>, no2 : <span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.no2 = no2</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(no1:no1)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// å› ä¸ºéµå¾ªåè®®ï¼Œéœ€è¦åŠ ä¸Š"required"; å› ä¸ºç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œéœ€è¦åŠ ä¸Š"override"</span></div><div class="line">    <span class="keyword">required</span> <span class="keyword">override</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(no1: <span class="type">Int</span>)  &#123;</div><div class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(no1:no1, no2:<span class="number">0</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> res = mainClass(no1: <span class="number">20</span>)</div><div class="line"><span class="keyword">let</span> show = subClass(no1: <span class="number">30</span>, no2: <span class="number">50</span>)</div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="string">"res is: \(res.no1)"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"res is: \(show.no1)"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"res is: \(show.no2)"</span>)</div><div class="line"></div><div class="line"></div><div class="line">ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š</div><div class="line"></div><div class="line">res <span class="keyword">is</span>: <span class="number">20</span></div><div class="line">res <span class="keyword">is</span>: <span class="number">30</span></div><div class="line">res <span class="keyword">is</span>: <span class="number">50</span></div></pre></td></tr></table></figure><h1 id="åè®®ç±»å‹"><a href="#åè®®ç±»å‹" class="headerlink" title="åè®®ç±»å‹"></a>åè®®ç±»å‹</h1><blockquote><p>å°½ç®¡åè®®æœ¬èº«å¹¶ä¸å®ç°ä»»ä½•åŠŸèƒ½ï¼Œä½†æ˜¯åè®®å¯ä»¥è¢«å½“åšç±»å‹æ¥ä½¿ç”¨<br>åè®®å¯ä»¥åƒå…¶ä»–æ™®é€šç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œä½¿ç”¨åœºæ™¯:</p></blockquote><ul><li>ä½œä¸ºå‡½æ•°ã€æ–¹æ³•æˆ–æ„é€ å™¨ä¸­çš„å‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹</li><li>ä½œä¸ºå¸¸é‡ã€å˜é‡æˆ–å±æ€§çš„ç±»å‹</li><li>ä½œä¸ºæ•°ç»„ã€å­—å…¸æˆ–å…¶ä»–å®¹å™¨ä¸­çš„å…ƒç´ ç±»å‹</li></ul><blockquote><p>å®ä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Generator</span> </span>&#123;</div><div class="line">    associatedtype members</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; members?</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> items = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>].makeIterator()</div><div class="line"><span class="keyword">while</span> <span class="keyword">let</span> x = items.next() &#123;</div><div class="line">    <span class="built_in">print</span>(x)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> lists <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="built_in">map</span>( &#123;i <span class="keyword">in</span> i*<span class="number">5</span>&#125;) &#123;</div><div class="line">    <span class="built_in">print</span>(lists)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>([<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>])</div><div class="line"><span class="built_in">print</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="built_in">map</span>(&#123;i <span class="keyword">in</span> i*<span class="number">10</span>&#125;))</div><div class="line"></div><div class="line"></div><div class="line">ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š</div><div class="line"></div><div class="line"><span class="number">10</span></div><div class="line"><span class="number">20</span></div><div class="line"><span class="number">30</span></div><div class="line"><span class="number">5</span></div><div class="line"><span class="number">10</span></div><div class="line"><span class="number">15</span></div><div class="line">[<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>]</div><div class="line">[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</div></pre></td></tr></table></figure><h1 id="åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜"><a href="#åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜" class="headerlink" title="åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜"></a>åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜</h1><blockquote><p>å¯ä»¥é€šè¿‡æ‰©å±•æ¥æ‰©å……å·²å­˜åœ¨ç±»å‹( ç±»ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ç­‰)ã€‚<br>æ‰©å±•å¯ä»¥ä¸ºå·²å­˜åœ¨çš„ç±»å‹æ·»åŠ å±æ€§ï¼Œæ–¹æ³•ï¼Œä¸‹æ ‡è„šæœ¬ï¼Œåè®®ç­‰æˆå‘˜ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">AgeClasificationProtocol</span> </span>&#123;</div><div class="line">   <span class="keyword">var</span> age: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">agetype</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">   <span class="keyword">let</span> firstname: <span class="type">String</span></div><div class="line">   <span class="keyword">let</span> lastname: <span class="type">String</span></div><div class="line">   <span class="keyword">var</span> age: <span class="type">Int</span></div><div class="line">   <span class="keyword">init</span>(firstname: <span class="type">String</span>, lastname: <span class="type">String</span>) &#123;</div><div class="line">      <span class="keyword">self</span>.firstname = firstname</div><div class="line">      <span class="keyword">self</span>.lastname = lastname</div><div class="line">      <span class="keyword">self</span>.age = <span class="number">10</span></div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Person</span> : <span class="title">AgeClasificationProtocol</span> </span>&#123;</div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">fullname</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">      <span class="keyword">var</span> <span class="built_in">c</span>: <span class="type">String</span></div><div class="line">      <span class="built_in">c</span> = firstname + <span class="string">" "</span> + lastname</div><div class="line">      <span class="keyword">return</span> <span class="built_in">c</span></div><div class="line">   &#125;</div><div class="line"></div><div class="line">   <span class="function"><span class="keyword">func</span> <span class="title">agetype</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">      <span class="keyword">switch</span> age &#123;</div><div class="line">      <span class="keyword">case</span> <span class="number">0</span>...<span class="number">2</span>:</div><div class="line">         <span class="keyword">return</span> <span class="string">"Baby"</span></div><div class="line">      <span class="keyword">case</span> <span class="number">2</span>...<span class="number">12</span>:</div><div class="line">         <span class="keyword">return</span> <span class="string">"Child"</span></div><div class="line">      <span class="keyword">case</span> <span class="number">13</span>...<span class="number">19</span>:</div><div class="line">         <span class="keyword">return</span> <span class="string">"Teenager"</span></div><div class="line">      <span class="keyword">case</span> <span class="keyword">let</span> x <span class="keyword">where</span> x &gt; <span class="number">65</span>:</div><div class="line">         <span class="keyword">return</span> <span class="string">"Elderly"</span></div><div class="line">      <span class="keyword">default</span>:</div><div class="line">         <span class="keyword">return</span> <span class="string">"Normal"</span></div><div class="line">      &#125;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="åè®®çš„ç»§æ‰¿"><a href="#åè®®çš„ç»§æ‰¿" class="headerlink" title="åè®®çš„ç»§æ‰¿"></a>åè®®çš„ç»§æ‰¿</h1><p>åè®®èƒ½å¤Ÿç»§æ‰¿ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–åè®®ï¼Œå¯ä»¥åœ¨ç»§æ‰¿çš„åè®®åŸºç¡€ä¸Šå¢åŠ æ–°çš„å†…å®¹è¦æ±‚ã€‚<br>åè®®çš„ç»§æ‰¿è¯­æ³•ä¸ç±»çš„ç»§æ‰¿ç›¸ä¼¼ï¼Œå¤šä¸ªè¢«ç»§æ‰¿çš„åè®®é—´ç”¨é€—å·åˆ†éš”ï¼š</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">InheritingProtocol</span>: <span class="title">SomeProtocol</span>, <span class="title">AnotherProtocol</span> </span>&#123;</div><div class="line">    <span class="comment">// åè®®å®šä¹‰</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®ä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Classa</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> no1: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">calc</span><span class="params">(sum: Int)</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Result</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">print</span><span class="params">(target: Classa)</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student2</span>: <span class="title">Result</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">print</span><span class="params">(target: Classa)</span></span> &#123;</div><div class="line">        target.calc(<span class="number">1</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Classb</span>: <span class="title">Result</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">print</span><span class="params">(target: Classa)</span></span> &#123;</div><div class="line">        target.calc(<span class="number">5</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>: <span class="title">Classa</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> no1: <span class="type">Int</span> = <span class="number">10</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">calc</span><span class="params">(sum: Int)</span></span> &#123;</div><div class="line">        no1 -= sum</div><div class="line">        <span class="built_in">print</span>(<span class="string">"å­¦ç”Ÿå°è¯• \(sum) æ¬¡é€šè¿‡"</span>)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> no1 &lt;= <span class="number">0</span> &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"å­¦ç”Ÿç¼ºå¸­è€ƒè¯•"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> stmark: <span class="type">Result</span>!</div><div class="line"></div><div class="line">    <span class="keyword">init</span>(stmark: <span class="type">Result</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.stmark = stmark</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">print</span><span class="params">(target: Classa)</span></span> &#123;</div><div class="line">        stmark.<span class="built_in">print</span>(target)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> marks = <span class="type">Player</span>(stmark: <span class="type">Student2</span>())</div><div class="line"><span class="keyword">var</span> marksec = <span class="type">Student</span>()</div><div class="line"></div><div class="line">marks.<span class="built_in">print</span>(marksec)</div><div class="line">marks.<span class="built_in">print</span>(marksec)</div><div class="line">marks.<span class="built_in">print</span>(marksec)</div><div class="line">marks.stmark = <span class="type">Classb</span>()</div><div class="line">marks.<span class="built_in">print</span>(marksec)</div><div class="line">marks.<span class="built_in">print</span>(marksec)</div><div class="line">marks.<span class="built_in">print</span>(marksec)</div><div class="line"></div><div class="line"></div><div class="line">ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š</div><div class="line"></div><div class="line">å­¦ç”Ÿå°è¯• <span class="number">1</span> æ¬¡é€šè¿‡</div><div class="line">å­¦ç”Ÿå°è¯• <span class="number">1</span> æ¬¡é€šè¿‡</div><div class="line">å­¦ç”Ÿå°è¯• <span class="number">1</span> æ¬¡é€šè¿‡</div><div class="line">å­¦ç”Ÿå°è¯• <span class="number">5</span> æ¬¡é€šè¿‡</div><div class="line">å­¦ç”Ÿå°è¯• <span class="number">5</span> æ¬¡é€šè¿‡</div><div class="line">å­¦ç”Ÿç¼ºå¸­è€ƒè¯•</div><div class="line">å­¦ç”Ÿå°è¯• <span class="number">5</span> æ¬¡é€šè¿‡</div><div class="line">å­¦ç”Ÿç¼ºå¸­è€ƒè¯•</div></pre></td></tr></table></figure><h1 id="ç±»ä¸“å±åè®®"><a href="#ç±»ä¸“å±åè®®" class="headerlink" title="ç±»ä¸“å±åè®®"></a>ç±»ä¸“å±åè®®</h1><p>ä½ å¯ä»¥åœ¨åè®®çš„ç»§æ‰¿åˆ—è¡¨ä¸­,é€šè¿‡æ·»åŠ classå…³é”®å­—,é™åˆ¶åè®®åªèƒ½é€‚é…åˆ°ç±»ï¼ˆclassï¼‰ç±»å‹ã€‚<br>è¯¥classå…³é”®å­—å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå‡ºç°åœ¨åè®®çš„ç»§æ‰¿åˆ—è¡¨ä¸­ï¼Œå…¶åï¼Œæ‰æ˜¯å…¶ä»–ç»§æ‰¿åè®®ã€‚æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeClassOnlyProtocol</span>: <span class="title">class</span>, <span class="title">SomeInheritedProtocol</span> </span>&#123;</div><div class="line">    <span class="comment">// åè®®å®šä¹‰</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®ä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TcpProtocol</span> </span>&#123;</div><div class="line">    <span class="keyword">init</span>(no1: <span class="type">Int</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainClass</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> no1: <span class="type">Int</span> <span class="comment">// å±€éƒ¨å˜é‡</span></div><div class="line">    <span class="keyword">init</span>(no1: <span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.no1 = no1 <span class="comment">// åˆå§‹åŒ–</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span>: <span class="title">MainClass</span>, <span class="title">TcpProtocol</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> no2: <span class="type">Int</span></div><div class="line">    <span class="keyword">init</span>(no1: <span class="type">Int</span>, no2 : <span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.no2 = no2</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(no1:no1)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// å› ä¸ºéµå¾ªåè®®ï¼Œéœ€è¦åŠ ä¸Š"required"; å› ä¸ºç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œéœ€è¦åŠ ä¸Š"override"</span></div><div class="line">    <span class="keyword">required</span> <span class="keyword">override</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(no1: <span class="type">Int</span>)  &#123;</div><div class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(no1:no1, no2:<span class="number">0</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> res = <span class="type">MainClass</span>(no1: <span class="number">20</span>)</div><div class="line"><span class="keyword">let</span> show = <span class="type">SubClass</span>(no1: <span class="number">30</span>, no2: <span class="number">50</span>)</div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="string">"res is: \(res.no1)"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"res is: \(show.no1)"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"res is: \(show.no2)"</span>)</div><div class="line"></div><div class="line">ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š</div><div class="line"></div><div class="line">res <span class="keyword">is</span>: <span class="number">20</span></div><div class="line">res <span class="keyword">is</span>: <span class="number">30</span></div><div class="line">res <span class="keyword">is</span>: <span class="number">50</span></div></pre></td></tr></table></figure><h1 id="ä¹ã€åè®®åˆæˆ"><a href="#ä¹ã€åè®®åˆæˆ" class="headerlink" title="ä¹ã€åè®®åˆæˆ"></a>ä¹ã€åè®®åˆæˆ</h1><p>Swift æ”¯æŒåˆæˆå¤šä¸ªåè®®ï¼Œè¿™åœ¨æˆ‘ä»¬éœ€è¦åŒæ—¶éµå¾ªå¤šä¸ªåè®®æ—¶éå¸¸æœ‰ç”¨ã€‚<br>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">protocol Stname &#123;</div><div class="line">    var name: String &#123; get &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">protocol Stage &#123;</div><div class="line">    var age: Int &#123; get &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">struct Person: Stname, Stage &#123;</div><div class="line">    var name: String</div><div class="line">    var age: Int</div><div class="line">&#125;</div><div class="line"></div><div class="line">func show(celebrator: Stname &amp; Stage) &#123;</div><div class="line">    print(&quot;\(celebrator.name) is \(celebrator.age) years old&quot;)</div><div class="line">&#125;</div><div class="line"></div><div class="line">let studname = Person(name: &quot;Priya&quot;, age: 21)</div><div class="line">print(studname)</div><div class="line"></div><div class="line">let stud = Person(name: &quot;Rehan&quot;, age: 29)</div><div class="line">print(stud)</div><div class="line"></div><div class="line">let student = Person(name: &quot;Roshan&quot;, age: 19)</div><div class="line">print(student)</div><div class="line"></div><div class="line"></div><div class="line">ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š</div><div class="line"></div><div class="line">Person(name: &quot;Priya&quot;, age: 21)</div><div class="line">Person(name: &quot;Rehan&quot;, age: 29)</div><div class="line">Person(name: &quot;Roshan&quot;, age: 19)</div></pre></td></tr></table></figure><h1 id="æ£€éªŒåè®®çš„ä¸€è‡´æ€§"><a href="#æ£€éªŒåè®®çš„ä¸€è‡´æ€§" class="headerlink" title="æ£€éªŒåè®®çš„ä¸€è‡´æ€§"></a>æ£€éªŒåè®®çš„ä¸€è‡´æ€§</h1><blockquote><p>ä½¿ç”¨iså’Œasæ“ä½œç¬¦æ¥æ£€æŸ¥æ˜¯å¦éµå¾ªæŸä¸€åè®®æˆ–å¼ºåˆ¶è½¬åŒ–ä¸ºæŸä¸€ç±»å‹ã€‚</p></blockquote><ul><li>isæ“ä½œç¬¦ç”¨æ¥æ£€æŸ¥å®ä¾‹æ˜¯å¦éµå¾ªäº†æŸä¸ªåè®®ã€‚</li><li>as?è¿”å›ä¸€ä¸ªå¯é€‰å€¼ï¼Œå½“å®ä¾‹éµå¾ªåè®®æ—¶ï¼Œè¿”å›è¯¥åè®®ç±»å‹;å¦åˆ™è¿”å›nilã€‚</li><li>asç”¨ä»¥å¼ºåˆ¶å‘ä¸‹è½¬å‹ï¼Œå¦‚æœå¼ºè½¬å¤±è´¥ï¼Œä¼šå¼•èµ·è¿è¡Œæ—¶é”™è¯¯ã€‚</li></ul><blockquote><p>å®ä¾‹</p></blockquote><p>ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ª HasArea çš„åè®®ï¼Œè¦æ±‚æœ‰ä¸€ä¸ªDoubleç±»å‹å¯è¯»çš„ areaï¼š</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">HasArea</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> area: <span class="type">Double</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰äº†Circleç±»ï¼Œéƒ½éµå¾ªäº†HasAreaåè®®</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span>: <span class="title">HasArea</span> </span>&#123;</div><div class="line">    <span class="keyword">let</span> pi = <span class="number">3.1415927</span></div><div class="line">    <span class="keyword">var</span> radius: <span class="type">Double</span></div><div class="line">    <span class="keyword">var</span> area: <span class="type">Double</span> &#123; <span class="keyword">return</span> pi * radius * radius &#125;</div><div class="line">    <span class="keyword">init</span>(radius: <span class="type">Double</span>) &#123; <span class="keyword">self</span>.radius = radius &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰äº†Countryç±»ï¼Œéƒ½éµå¾ªäº†HasAreaåè®®</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Country</span>: <span class="title">HasArea</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> area: <span class="type">Double</span></div><div class="line">    <span class="keyword">init</span>(area: <span class="type">Double</span>) &#123; <span class="keyword">self</span>.area = area &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Animalæ˜¯ä¸€ä¸ªæ²¡æœ‰å®ç°HasAreaåè®®çš„ç±»</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> legs: <span class="type">Int</span></div><div class="line">    <span class="keyword">init</span>(legs: <span class="type">Int</span>) &#123; <span class="keyword">self</span>.legs = legs &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> objects: [<span class="type">AnyObject</span>] = [</div><div class="line">    <span class="type">Circle</span>(radius: <span class="number">2.0</span>),</div><div class="line">    <span class="type">Country</span>(area: <span class="number">243_610</span>),</div><div class="line">    <span class="type">Animal</span>(legs: <span class="number">4</span>)</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">for</span> object <span class="keyword">in</span> objects &#123;</div><div class="line">    <span class="comment">// å¯¹è¿­ä»£å‡ºçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ£€æŸ¥ï¼Œçœ‹å®ƒæ˜¯å¦éµå¾ªäº†HasAreaåè®®</span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> objectWithArea = object <span class="keyword">as</span>? <span class="type">HasArea</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"é¢ç§¯ä¸º \(objectWithArea.area)"</span>)</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"æ²¡æœ‰é¢ç§¯"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æœä¸ºï¼š</div><div class="line"></div><div class="line">é¢ç§¯ä¸º <span class="number">12.5663708</span></div><div class="line">é¢ç§¯ä¸º <span class="number">243610.0</span></div><div class="line">æ²¡æœ‰é¢ç§¯</div></pre></td></tr></table></figure><h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Document-Develpeæ–‡æ¡£</title>
      <link href="/2017/11/23/1/"/>
      <content type="html"><![CDATA[<p><a href="https://developer.apple.com/swift/" target="_blank" rel="external">swift4è‹¹æœå¼€å‘è€…ä¸­å¿ƒ</a></p><p><a href="http://lib.csdn.net/swift/node/5?page=11#md" target="_blank" rel="external">swift è¯­æ³•</a><br><a href="http://blog.csdn.net/a709314090/article/details/48752289" target="_blank" rel="external">åŸºç¡€</a></p><p><a href="http://swift.gg/" target="_blank" rel="external">Swiftå­¦ä¹ </a></p><p><a href="http://www.51ios.net/category/swiftblog" target="_blank" rel="external">Swiftéƒ¨åˆ†èµ„æ–™</a></p><p><a href="http://blog.csdn.net/u012647272/article/details/49660523" target="_blank" rel="external">ç¬¬ä¸‰æ–¹</a></p><p><a href="http://blog.csdn.net/qq_15024937/article/details/54865273" target="_blank" rel="external">ç¬¬ä¸‰æ–¹02</a></p><p><a href="http://blog.csdn.net/qq350116542" target="_blank" rel="external">è¿™ä¸ªäººåšå®¢æ•´ç†çš„å¾ˆå¥½</a></p><p><a href="http://blog.csdn.net/Xoxo_x/article/details/53023035#%E5%AF%BC%E8%88%AA%E6%A0%8F" target="_blank" rel="external">swiftæ¡†æ¶å¤§å…¨</a></p><p><a href="http://www.hangge.com/blog/cache/category_72_2.html" target="_blank" rel="external">swiftå¼€å‘åšå®¢å¾ˆå¥½æ»´</a></p><p><a href="http://blog.csdn.net/pj386960300/article/details/54015218" target="_blank" rel="external">lib</a></p><p><a href="http://blog.csdn.net/qq_15024937/article/details/54865273" target="_blank" rel="external">GitHubä¸ŠSwiftå¼€æºé¡¹ç›®</a></p><p><a href="https://www.darkhandz.com/2017/02/06/%E5%AD%A6%E4%B9%A0RxSwift%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%94%A8%E6%B3%95/" target="_blank" rel="external">RxSwiftä¸€ç¯‡ä¸é”™çš„æ–‡ç« </a></p><p><a href="http://t.swift.gg/t/rxswift-course" target="_blank" rel="external">swif.ggé‡Œ å°é’é‚£ä¸ªç‰›é€¼è´§çš„ä¸€äº›å­¦ä¹ RxSwiftèµ„æ–™ </a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Document </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Lib-YYKit-YYmodel</title>
      <link href="/2017/11/23/OC/Lib/OC-Lib-YYKit-YYmodel/"/>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> YYKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Blog-é…ç½®</title>
      <link href="/2017/11/23/Blog/Blog-%E9%85%8D%E7%BD%AE/"/>
      <content type="html"><![CDATA[<p><a href="https://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="external">åšå®¢é…ç½®01</a><br><a href="http://blog.csdn.net/u010064074/article/details/76558729" target="_blank" rel="external">åšå®¢é…ç½®02</a></p><p><a href="http://blog.csdn.net/u012352292" target="_blank" rel="external">RxSwift</a></p>]]></content>
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Tool-FastLaneè‡ªåŠ¨åŒ–å‘å¸ƒå·¥å…·+ä¸Šä¼ Bugly</title>
      <link href="/2017/11/23/OC/Grammar/iOS-Tool-FastLane%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8F%91%E5%B8%83%E5%B7%A5%E5%85%B7+%E4%B8%8A%E4%BC%A0Bugly/"/>
      <content type="html"><![CDATA[<h1 id="æ‰“åŒ…çš„æµç¨‹"><a href="#æ‰“åŒ…çš„æµç¨‹" class="headerlink" title="æ‰“åŒ…çš„æµç¨‹"></a>æ‰“åŒ…çš„æµç¨‹</h1><ul><li>ä¿®æ”¹æµ‹è¯•ç‰ˆæœ¬å·</li><li>ä¿®æ”¹Buildç‰ˆæœ¬å·</li><li>æ‰§è¡ŒArchive</li><li>é€‰æ‹©Adhocå¯¼å‡ºIPAå®‰è£…åŒ…æ–‡ä»¶</li><li>ä¸Šä¼ Buglyæµ‹è¯•å¹³å°</li><li>åˆ†äº«æµ‹è¯•é“¾æ¥äºŒç»´ç <h1 id="Fastlane"><a href="#Fastlane" class="headerlink" title="Fastlane"></a>Fastlane</h1>Fastlaneæœ¬èº«åŒ…å«ä¸¤å¤§æ¨¡å—ï¼Œå†…æ ¸éƒ¨åˆ†+Action<h2 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h2>Actionæ˜¯Fastlaneè‡ªåŠ¨åŒ–æµç¨‹ä¸­çš„æœ€å°æ‰§è¡Œå•å…ƒï¼Œç›´è§‚ä¸Šæ¥è®²å°±æ˜¯Fastfileè„šæœ¬ä¸­çš„ä¸€ä¸ªä¸ªå‘½ä»¤ï¼Œæ¯”å¦‚ï¼šgit_pullï¼Œdeliverï¼Œpod_installç­‰ç­‰ï¼Œè€Œè¿™äº›å‘½ä»¤èƒŒåéƒ½å¯¹åº”å…¶å®æ˜¯ä¸€ä¸ªç”¨Rubyç¼–å†™çš„è„šæœ¬</li></ul><blockquote><p>Fastlane æ˜¯ä¸€å¥—ç”¨ Ruby ç¼–å†™çš„ iOS å‘½ä»¤è¡Œå·¥å…·é›†ï¼ˆåæ¥ä¹Ÿæ”¯æŒäº† Androidï¼‰ï¼Œä¸»è¦ç»„ä»¶åŒ…æ‹¬ï¼š</p></blockquote><ul><li>match / cert / sigh ååŠ©ç®¡ç†ä»£ç ç­¾å</li><li>pem è‡ªåŠ¨ç”Ÿæˆ APNs è¯ä¹¦</li><li>scan è‡ªåŠ¨åŒ–æµ‹è¯•</li><li>gym è‡ªåŠ¨åŒ–ç¼–è¯‘å¹¶æ‰“åŒ…ç”Ÿæˆç­¾åçš„ .ipa æ–‡ä»¶</li><li>snapshot / frameit ååŠ©å¤„ç† iOS å±å¹•å¿«ç…§</li><li>pilot ä¸Šä¼ å’Œç®¡ç† TestFlight</li><li>deliver å°†åº”ç”¨åŠå…¶å®ƒä¿¡æ¯ä¸Šä¼ åˆ° App Store</li></ul><p>è€Œæ­£æ˜¯è¿™äº›é¢—ç²’åº¦æå°çš„Actionï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚ç»„åˆæˆä¸€ä¸ªè‡ªåŠ¨åŒ–çš„é“¾æ¡</p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><blockquote><p>é¦–å…ˆç¡®ä¿Xcodeå‘½ä»¤è¡Œå·¥å…·æ˜¯æœ€æ–°ç‰ˆæœ¬çš„</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ xcode-select --install</div></pre></td></tr></table></figure><blockquote><p>å®‰è£…Fastlane:</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ sudo gem install fastlane -NV</div></pre></td></tr></table></figure><blockquote><p>æ‰¾åˆ°å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ fastlane init</div></pre></td></tr></table></figure><blockquote><p>åœ¨æ‰§è¡Œâ€œYour Apple IDâ€ è¿™ä¸€æ­¥è¾“å…¥è‹¹æœå¼€å‘è€…è´¦å·ï¼Œfastlane ä¼šè‡ªåŠ¨è·å–å·¥ç¨‹æ–‡ä»¶åï¼Œç›®å½•ç­‰å…¶ä»–æ•°æ®ã€‚è¿™ä¸€æ­¥â€œPlease confirm the above valuesâ€ï¼Œç¡®è®¤ä¿¡æ¯ï¼Œæ²¡é—®é¢˜åˆ™è¾“å…¥ yã€‚ç„¶åï¼Œfastlane ä¼šè¿›è¡Œä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ“ä½œï¼ŒåŒ…æ‹¬ä¸‹è½½ App Store ä¸Šçš„å…ƒæ•°æ®å’Œæˆªå±æ–‡ä»¶ã€‚ç­‰å¾…åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œå·¥ç¨‹ç›®å½•ä¸‹å°±å¤šäº†ä¸€ä¸ª fastlaneç›®å½•ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ cd fastlane &amp;&amp; ls</div><div class="line">Appfile            Fastfile           metadata           report.xml</div><div class="line">Deliverfile        README.md          screenshots</div></pre></td></tr></table></figure><blockquote><p>æ–‡ä»¶ç›®å½•</p></blockquote><ul><li>metadataç›®å½•ä¸‹å­˜æ”¾æ•´ä¸ªå…ƒæ•°æ®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å…³é”®è¯ã€ç‰ˆæœ¬æ›´æ–°æ—¥å¿—ã€å›¾æ ‡ç­‰.</li><li>screenshotsç›®å½•ä¸‹å­˜æ”¾åº”ç”¨æˆªå›¾</li><li>Appfileæ–‡ä»¶è®°å½•Appçš„ bundle IDã€Apple IDã€Team IDä¸‰ç§ä¿¡æ¯.</li><li>Fastfileè„šæœ¬çš„æ ¸å¿ƒæ‰§è¡Œæ–‡ä»¶.æœ‰å‡ ä¸ªé»˜è®¤çš„é€‰é¡¹ï¼Œå¯ç›´æ¥ä½¿ç”¨.</li><li>reportæ–‡ä»¶æ—¶æ¯æ¬¡æ‰§è¡Œfastlaneæ—¶ç”ŸæˆæŠ¥å‘Š</li></ul><blockquote><p>å®‰è£…fastlaneæˆåŠŸåï¼Œé¦–å…ˆæ‹†è§£æˆ‘ä»¬éœ€è¦è‡ªåŠ¨åŒ–çš„ä¸¤ä¸ªæµç¨‹:</p></blockquote><ul><li>è‡ªåŠ¨æ‰“åŒ…æˆAdhocçš„å®‰è£…åŒ…ipaæ–‡ä»¶</li><li>é€šè¿‡fastlaneè‡ªåŠ¨ä¸Šä¼ åˆ°bugly</li></ul><h1 id="è‡ªåŠ¨åŒ–æ‰“åŒ…"><a href="#è‡ªåŠ¨åŒ–æ‰“åŒ…" class="headerlink" title="è‡ªåŠ¨åŒ–æ‰“åŒ…"></a>è‡ªåŠ¨åŒ–æ‰“åŒ…</h1><blockquote><p>è‡ªåŠ¨åŒ–æ‰“åŒ…ä½¿ç”¨æœ€å¤šå°±æ˜¯Fastlaneä¸­gymè¿™ä¸ªAction, è½¬ä¸ºæ‰“åŒ…è€Œç”Ÿ, å®‰è£…gymè¿™ä¸ªç»„ä»¶:</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ sudo gem install gym</div></pre></td></tr></table></figure><blockquote><p>cdé¡¹ç›®æ ¹ç›®å½•, åˆ›å»ºè‡ªåŠ¨æ‰“åŒ…è„šæœ¬:</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ vim gym.sh</div></pre></td></tr></table></figure><blockquote><p>è¾“å…¥è„šæœ¬å†…å®¹:</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"><span class="meta">#è®¡æ—¶</span></div><div class="line">SECONDS=<span class="number">0</span><span class="meta">#å‡è®¾è„šæœ¬æ”¾ç½®åœ¨ä¸é¡¹ç›®ç›¸åŒçš„è·¯å¾„ä¸‹project_path=$(pwd)#å–å½“å‰æ—¶é—´å­—ç¬¦ä¸²æ·»åŠ åˆ°æ–‡ä»¶ç»“å°¾now=$(date +<span class="meta-string">"%Y_%m_%d_%H_%M_%S"</span>)#æŒ‡å®šé¡¹ç›®çš„schemeåç§°</span></div><div class="line">scheme=<span class="string">"Xitu"</span><span class="meta">#æŒ‡å®šè¦æ‰“åŒ…çš„é…ç½®å</span></div><div class="line">configuration=<span class="string">"Adhoc"</span><span class="meta">#æŒ‡å®šæ‰“åŒ…æ‰€ä½¿ç”¨çš„è¾“å‡ºæ–¹å¼ï¼Œç›®å‰æ”¯æŒapp-store, package, ad-hoc, enterprise, development, å’Œdeveloper-idï¼Œå³xcodebuildçš„methodå‚æ•°export_method='ad-hoc'#æŒ‡å®šé¡¹ç›®åœ°å€</span></div><div class="line">workspace_path=<span class="string">"$project_path/Xitu.xcworkspace"</span><span class="meta">#æŒ‡å®šè¾“å‡ºè·¯å¾„</span></div><div class="line">output_path=<span class="string">"project_path/APP"</span><span class="meta">#æŒ‡å®šè¾“å‡ºå½’æ¡£æ–‡ä»¶åœ°å€</span></div><div class="line">archive_path=<span class="string">"$output_path/Xitu$&#123;now&#125;.xcarchive"</span><span class="meta">#æŒ‡å®šè¾“å‡ºipaåœ°å€</span></div><div class="line">ipa_path=<span class="string">"$output_path/Xitu$&#123;now&#125;.ipa"</span><span class="meta">#æŒ‡å®šè¾“å‡ºipaåç§°</span></div><div class="line">ipa_name=<span class="string">"Xitu$&#123;now&#125;.ipa"</span><span class="meta">#è·å–æ‰§è¡Œå‘½ä»¤æ—¶çš„commit message</span></div><div class="line">commit_msg=<span class="string">"$1"</span><span class="meta">#è¾“å‡ºè®¾å®šçš„å˜é‡å€¼</span></div><div class="line">echo <span class="string">"===workspace path: $&#123;workspace_path&#125;==="</span></div><div class="line">echo <span class="string">"===archive path: $&#123;archive_path&#125;==="</span></div><div class="line">echo <span class="string">"===ipa path: $&#123;ipa_path&#125;==="</span></div><div class="line">echo <span class="string">"===export method: $&#123;export_method&#125;==="</span></div><div class="line">echo <span class="string">"===commit msg: $1==="</span><span class="meta">#å…ˆæ¸…ç©ºå‰ä¸€æ¬¡build</span></div><div class="line">gym --workspace $&#123;workspace_path&#125; --scheme $&#123;scheme&#125; --clean --configuration $&#123;configuration&#125; --archive_path $&#123;archive_path&#125; --export_method $&#123;export_method&#125; --output_directory $&#123;output_path&#125; --output_name $&#123;ipa_name&#125;</div><div class="line"></div><div class="line"><span class="meta">#è¾“å‡ºæ€»ç”¨æ—¶</span></div><div class="line">echo <span class="string">"===Finished. Total time: $&#123;SECONDS&#125;s==="</span></div></pre></td></tr></table></figure><blockquote><p>æŠŠå¦‚ä¸Šè„šæœ¬ä¸­Xituæ”¹æˆä½ çš„é¡¹ç›®åç§°å³å¯. ä¸ºè„šæœ¬æ‰§è¡Œæå‡æƒé™</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ chmod +x gym.sh</div></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œä¸€ä¸‹è„šæœ¬çœ‹ä¸€ä¸‹æ‰“åŒ…æ•ˆæœ:</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ ./gym.sh</div></pre></td></tr></table></figure><blockquote><p>ç»è¿‡572sï¼ŒAdhocç‰ˆæœ¬çš„ipaæ–‡ä»¶æ‰“åŒ…æˆåŠŸï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰¾åˆ°Appç›®å½•ï¼š</p></blockquote><p>===========================================</p><p>#ä¸Šä¼ Bugly</p><h1 id="fastlaneä¸­å®šä¹‰action"><a href="#fastlaneä¸­å®šä¹‰action" class="headerlink" title="fastlaneä¸­å®šä¹‰action"></a>fastlaneä¸­å®šä¹‰action</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ fastlane new_action</div></pre></td></tr></table></figure><blockquote><p>è¿™æ—¶å‘½ä»¤è¡Œä¼šè¦æ±‚ä½ è¾“å…¥è‡ªå®šä¹‰actionåå­—ï¼Œç›´æ¥ä»¥buglyä¸Šä¼ æ–‡ä»¶å‘½å</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ upload_app_to_bugly</div></pre></td></tr></table></figure><h2 id="wei-wan"><a href="#wei-wan" class="headerlink" title="wei wan"></a>wei wan</h2>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Tool </category>
          
          <category> FastLane </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Code-ä¼˜åŒ–é¡¹ç›®</title>
      <link href="/2017/11/23/OC/Code/OC-Code-%E4%BC%98%E5%8C%96%E9%A1%B9%E7%9B%AE/"/>
      <content type="html"><![CDATA[<p><a href="https://juejin.im/entry/596c32255188254b772db957" target="_blank" rel="external">ä¼˜åŒ–é¡¹ç›®</a></p><ol><li>ç»“æ„ä¸æ¶æ„<br>1.1 ç»“æ„</li></ol><p>è¿™é‡Œè¯´çš„ç»“æ„å¤§æ¦‚æœ‰ä¸¤ç‚¹ï¼š1.æ–‡ä»¶ç›®å½•åˆ†ç±» 2.ç¬¬ä¸‰æ–¹åº“ç®¡ç†<br>1.1.1 æ–‡ä»¶ç›®å½•åˆ†ç±»</p><p>ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæœ€å¥½å°†Xcodeä¸­çš„é¡¹ç›®å±•ç¤ºç›®å½•ä¸å®é™…çš„å­˜å‚¨ç›®å½•ä¿æŒä¸€è‡´<br>æ­¤å¤–ï¼Œä¸€èˆ¬æŒ‰ä¸šåŠ¡æ¨¡å—åˆ†ç±»,ä¸€çº§ç›®å½•å¯ä»¥æŒ‰ç…§MVCæ ¼å¼ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä¸šåŠ¡æ¨¡å—åˆ’åˆ†<br>ç”¨æœ€æ™®éçš„Model View Controlleræ¶æ„ä¸¾ä¾‹</p>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Func-Bugç®¡ç†å·¥å…·</title>
      <link href="/2017/11/22/OC/Func/iOS-Func-Bug%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/"/>
      <content type="html"><![CDATA[<p>#åŠŸèƒ½</p><blockquote><p>éCrash Bug åœ¨Appå†…å¯æˆªå›¾æ·»åŠ æè¿°å¹¶å‘é€</p><p>Crash Bug åœ¨Appç¬¬äºŒæ¬¡å¯åŠ¨æ—¶æå–Crash logæ·»åŠ æè¿°å¹¶å‘é€</p></blockquote><h1 id="å®ç°è§£é‡Š"><a href="#å®ç°è§£é‡Š" class="headerlink" title="å®ç°è§£é‡Š"></a>å®ç°è§£é‡Š</h1><h2 id="åˆ†æ-bug"><a href="#åˆ†æ-bug" class="headerlink" title="åˆ†æ bug"></a>åˆ†æ bug</h2><ul><li>éCrashçš„Bugï¼šå­—ä½“ä¸å¯¹ã€é¢œè‰²ä¸å¯¹ã€æ•°æ®ä¸å¯¹ã€å¸ƒå±€ä¸å¯¹</li><li>Crash Bugï¼šç³»ç»ŸCrashã€å¤„ç†signal<h2 id="åœºæ™¯äº¤äº’"><a href="#åœºæ™¯äº¤äº’" class="headerlink" title="åœºæ™¯äº¤äº’"></a>åœºæ™¯äº¤äº’</h2></li><li>åœºæ™¯äº¤äº’ï¼šå‘ç°éCrash Bugæ—¶å€™æ‘‡ä¸€æ‘‡æ‰‹æœºï¼Œå¼¹å‡ºé‚®ä»¶ï¼Œå›¾ç‰‡å¸¦å…¥é‚®ä»¶ï¼Œç‚¹å‡»å‘é€å³å¯ã€‚æœ‰Crash Bugçš„æ—¶å€™ç¬¬äºŒæ¬¡å¯åŠ¨Appï¼Œå¼¹å‡ºé‚®ä»¶ï¼ŒCrash logå¸¦å…¥é‚®ä»¶ï¼Œç‚¹å‡»å‘é€å³å¯</li></ul><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><blockquote><p>éœ€è¦ç”¨åˆ°NSSetUncaughtExceptionHandlerï¼ŒMFMailComposeViewControllerï¼Œæ²™ç›’ï¼ŒNSFileManager<br>å®ç°æˆªå›¾çš„åŠŸèƒ½ï¼Œè€ƒè™‘åˆ°å¹¶ä¸æ˜¯æ‰€æœ‰çš„é¡µé¢éƒ½éœ€è¦ä½¿ç”¨æ‰€ä»¥å†™åœ¨äº†åˆ†ç±»é‡Œã€‚éœ€è¦ç”¨çš„æ—¶å€™ç›´æ¥å¼•å…¥å¤´æ–‡ä»¶å³å¯<br>è¿™ä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«åœ¨æ‘‡ä¸€æ‘‡çš„æ—¶å€™å›è°ƒç”¨ï¼Œå¼€å§‹ï¼Œéœ€è¦ï¼Œç»“æŸã€‚ä»–ä»¬çš„çˆ¶ç±»æ˜¯UIResponsderåœ¨UIKitä¸­</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">-(<span class="keyword">void</span>)motionBegan:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event&#123;&#125;</div><div class="line">-(<span class="keyword">void</span>)motionCancelled:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event&#123;&#125;</div><div class="line">-(<span class="keyword">void</span>)motionEnded:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span> screenShot];</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)screenShot</div><div class="line">&#123;</div><div class="line">    <span class="built_in">UIWindow</span> *screen = [[<span class="built_in">UIApplication</span> sharedApplication] keyWindow];</div><div class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(screen.frame.size);</div><div class="line">    [screen.layer renderInContext:<span class="built_in">UIGraphicsGetCurrentContext</span>()];</div><div class="line">    <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</div><div class="line">    <span class="built_in">UIGraphicsGetCurrentContext</span>();</div><div class="line">    <span class="built_in">NSData</span> *screenData = <span class="built_in">UIImagePNGRepresentation</span>(image);</div><div class="line">    [screenData writeToFile:[<span class="built_in">NSHomeDirectory</span>() stringByAppendingPathComponent:<span class="string">@"Library/Caches"</span>] atomically:<span class="literal">YES</span>];   </div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å‘é€é‚®ä»¶çš„åŠŸèƒ½"><a href="#å‘é€é‚®ä»¶çš„åŠŸèƒ½" class="headerlink" title="å‘é€é‚®ä»¶çš„åŠŸèƒ½"></a>å‘é€é‚®ä»¶çš„åŠŸèƒ½</h2><blockquote><p>å‘é€é‚®ä»¶çš„åŠŸèƒ½ï¼Œä¹Ÿå†™åœ¨äº†åˆ†ç±»é‡Œé¢ï¼Œéœ€è¦ç”¨çš„æ—¶å€™å¼•å…¥å³å¯</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">UIViewController</span> (<span class="title">send</span>)&lt;<span class="title">MFMailComposeViewControllerDelegate</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">//å‘é€é‚®ä»¶çš„æ–¹æ³•ï¼Œä¼ å…¥æ ‡é¢˜ï¼Œæè¿°ä¿¡æ¯ï¼Œdata, æ¥æ”¶äºº</span></div><div class="line">-(<span class="keyword">void</span>)sendMail:(MFMailComposeViewController*)mf andSubject:(<span class="built_in">NSString</span>*)subject andMessageBody:(<span class="built_in">NSString</span>*)message andData:(<span class="built_in">NSData</span>*)data  andRecipients:(<span class="built_in">NSArray</span>*)recipients</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>([MFMailComposeViewController canSendMail])&#123;</div><div class="line">        mf.mailComposeDelegate = <span class="keyword">self</span>;</div><div class="line">        [mf setSubject:subject];</div><div class="line">        [mf setToRecipients:recipients];</div><div class="line">        [mf addAttachmentData:data mimeType:<span class="string">@"image/jpeg"</span> fileName:<span class="string">@"error"</span>];</div><div class="line">        [mf setMessageBody:message isHTML:<span class="literal">YES</span>];</div><div class="line">        [<span class="keyword">self</span> presentViewController:mf animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        [<span class="keyword">self</span> alertView:<span class="string">@"ä¸èƒ½è°ƒç”¨é‚®ç®±"</span> andDesc:<span class="string">@"è¯·å°è¯•ä¸‹è½½AppåŸç”Ÿé‚®ç®±ï¼Œå¹¶é…ç½®"</span>];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="MFMailComposeViewControllerDelegateçš„ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å†™ä¸€äº›å›è°ƒ"><a href="#MFMailComposeViewControllerDelegateçš„ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å†™ä¸€äº›å›è°ƒ" class="headerlink" title="MFMailComposeViewControllerDelegateçš„ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å†™ä¸€äº›å›è°ƒ"></a>MFMailComposeViewControllerDelegateçš„ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å†™ä¸€äº›å›è°ƒ</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">-(<span class="keyword">void</span>)mailComposeController:(MFMailComposeViewController *)controller didFinishWithResult:(MFMailComposeResult)result error:(<span class="built_in">NSError</span> *)error</div><div class="line">&#123;</div><div class="line">    <span class="keyword">switch</span> (result) &#123;</div><div class="line">        <span class="keyword">case</span> MFMailComposeResultSent:</div><div class="line"></div><div class="line">            [<span class="keyword">self</span> alertView:<span class="string">@"å‘é€æˆåŠŸ"</span> andDesc:<span class="literal">nil</span>];</div><div class="line">            <span class="keyword">self</span>.success();</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> MFMailComposeResultSaved:</div><div class="line">            [<span class="keyword">self</span> alertView:<span class="string">@"ä¿å­˜æˆåŠŸ"</span> andDesc:<span class="literal">nil</span>];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> MFMailComposeResultFailed:</div><div class="line">            <span class="keyword">self</span>.faild();</div><div class="line">            [<span class="keyword">self</span> alertView:error.domain andDesc:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@"</span>,error.userInfo]];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> MFMailComposeResultCancelled:</div><div class="line">            [<span class="keyword">self</span> alertView:<span class="string">@"å–æ¶ˆå‘é€"</span> andDesc:<span class="literal">nil</span>];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            [<span class="keyword">self</span> alertView:<span class="string">@"ä¸ºä»€ä¹ˆä¸å‘é€"</span> andDesc:<span class="literal">nil</span>];</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    [<span class="keyword">self</span> dismissViewControllerAnimated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å¼‚å¸¸æ•è·"><a href="#å¼‚å¸¸æ•è·" class="headerlink" title="å¼‚å¸¸æ•è·"></a>å¼‚å¸¸æ•è·</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">è¿™ä¸¤ä¸ªä¸ºå‡½æ•°æ–¹æ³•ï¼Œå¯¼å…¥ç±»åï¼Œç›´æ¥å¯è°ƒç”¨ä¸ç”¨åˆå§‹åŒ–</div><div class="line"><span class="keyword">void</span> CrashExceptionHandler(<span class="keyword">void</span>)</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSSetUncaughtExceptionHandler</span>(&amp;ExceptionLog);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> ExceptionLog(<span class="built_in">NSException</span> *exception)</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSDate</span> *date_current = [<span class="built_in">NSDate</span> date];</div><div class="line">    <span class="built_in">NSDictionary</span> *dictInfo = [[<span class="built_in">NSBundle</span> mainBundle]infoDictionary];</div><div class="line">    <span class="built_in">NSString</span> *name_App = [dictInfo objectForKey:<span class="string">@"CFBundleDisplayName"</span>];</div><div class="line">    <span class="built_in">NSString</span> *verson_App = [dictInfo objectForKey:<span class="string">@"CFBundleShortVersionString"</span>];</div><div class="line">    <span class="built_in">NSString</span> *build_App = [dictInfo objectForKey:<span class="string">@"CFBundleVersion"</span>];</div><div class="line">    <span class="built_in">NSArray</span> *ecp = exception.callStackSymbols;</div><div class="line">    <span class="built_in">NSString</span> *reason = [exception reason];</div><div class="line">    <span class="built_in">NSString</span> *name = [exception name];</div><div class="line">    <span class="built_in">NSString</span> *exceptionInfo = [<span class="built_in">NSString</span> stringWithFormat:</div><div class="line">                               <span class="string">@"\n\n ******************************å¼‚å¸¸æ—¥å¿—****************************** \næ—¶é—´:%@\nAppåç§°:%@\nAppç‰ˆæœ¬:%@\nBuildç‰ˆæœ¬:%@\nå¼‚å¸¸åç§°:%@\nå¼‚å¸¸åŸå› :%@\nå †æ ˆä¿¡æ¯:%@"</span>,date_current,name_App,verson_App,build_App,name,reason,ecp];</div><div class="line">    [CrashHandler saveLog:exceptionInfo andDate:date_current];</div><div class="line"><span class="meta">#ifdef DEBUG</span></div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,exceptionInfo);</div><div class="line"><span class="meta">#else</span></div><div class="line"></div><div class="line"><span class="meta">#endif</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">CrashHandler</span></span></div><div class="line">+(<span class="keyword">void</span>)saveLog:(<span class="built_in">NSString</span> *)crashLog andDate:(<span class="built_in">NSDate</span> *)date</div><div class="line">&#123;</div><div class="line">    <span class="built_in">NSString</span> *path = [[<span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSCachesDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>)objectAtIndex:<span class="number">0</span>] stringByAppendingString:<span class="string">@"/Crash"</span>];</div><div class="line">    <span class="keyword">if</span>(![[<span class="built_in">NSFileManager</span> defaultManager]fileExistsAtPath:path])</div><div class="line">    &#123;</div><div class="line">        [[<span class="built_in">NSFileManager</span> defaultManager]createDirectoryAtPath:path withIntermediateDirectories:<span class="literal">YES</span> attributes:<span class="literal">nil</span> error:<span class="literal">nil</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">NSString</span> *logPath = [path stringByAppendingFormat:<span class="string">@"/%@.log"</span>,date];</div><div class="line">    [crashLog writeToFile:logPath atomically:<span class="literal">YES</span> encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure><h2 id="æ£€æµ‹Crash-log-åŠŸèƒ½åœ¨Appæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢å»è°ƒç”¨å°±å¥½"><a href="#æ£€æµ‹Crash-log-åŠŸèƒ½åœ¨Appæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢å»è°ƒç”¨å°±å¥½" class="headerlink" title="æ£€æµ‹Crash log åŠŸèƒ½åœ¨Appæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢å»è°ƒç”¨å°±å¥½"></a>æ£€æµ‹Crash log åŠŸèƒ½åœ¨Appæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢å»è°ƒç”¨å°±å¥½</h2><pre><code class="objectivec">-(<span class="keyword">void</span>)crashLog{    <span class="built_in">NSString</span> *path = [[<span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSCachesDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>)objectAtIndex:<span class="number">0</span>] stringByAppendingString:<span class="string">@"/Crash"</span>];    <span class="built_in">NSFileManager</span> *mf = [<span class="built_in">NSFileManager</span> defaultManager];    <span class="keyword">if</span>(![mf fileExistsAtPath:path])    {        <span class="keyword">return</span>;    }    <span class="built_in">NSArray</span> *array = [mf contentsOfDirectoryAtPath:path error:<span class="literal">nil</span>];  }</code></pre><p><a href="https://juejin.im/post/59db05d5f265da065c5ebed4" target="_blank" rel="external">Bugç®¡ç†å·¥å…·</a></p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Crashæ—¥å¿—</title>
      <link href="/2017/11/22/OC/Code/OC-Code-Crash%E6%97%A5%E5%BF%97/"/>
      <content type="html"><![CDATA[<h1 id="è·å¾—crashæ—¥å¿—"><a href="#è·å¾—crashæ—¥å¿—" class="headerlink" title="è·å¾—crashæ—¥å¿—"></a>è·å¾—crashæ—¥å¿—</h1><h2 id="äº§ç”Ÿ-ä¿å­˜"><a href="#äº§ç”Ÿ-ä¿å­˜" class="headerlink" title="äº§ç”Ÿ/ä¿å­˜"></a>äº§ç”Ÿ/ä¿å­˜</h2><ul><li>ç¨‹åºå´©æºƒæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä»½crashæ—¥å¿—ä¿å­˜åœ¨è®¾å¤‡ä¸Šã€‚</li><li>è¿™ä»½crashæ—¥å¿—è®°å½•ç€åº”ç”¨ç¨‹åºå´©æºƒæ—¶çš„ä¿¡æ¯ï¼ŒåŒ…å«æ¯ä¸ªæ‰§è¡Œçº¿ç¨‹çš„æ ˆè°ƒç”¨ä¿¡æ¯ï¼ˆä½å†…å­˜é—ªé€€æ—¥å¿—ä¾‹å¤–ï¼‰ï¼Œå¯¹å®šä½é—®é¢˜å¾ˆæœ‰å¸®åŠ©</li></ul><h2 id="è¿æ¥è®¾å¤‡è·å–"><a href="#è¿æ¥è®¾å¤‡è·å–" class="headerlink" title="è¿æ¥è®¾å¤‡è·å–"></a>è¿æ¥è®¾å¤‡è·å–</h2><ul><li>å¯ä»¥è¿æ¥è®¾å¤‡ï¼Œæ‰“å¼€Xcode - Window - Organizerï¼Œ</li><li>åœ¨å·¦ä¾§é¢æ¿ä¸­é€‰æ‹©Device Logsï¼ˆå¯ä»¥é€‰æ‹©å…·ä½“è®¾å¤‡çš„Device Logsæˆ–è€…Libraryä¸‹æ‰€æœ‰è®¾å¤‡çš„Device Logsï¼‰</li><li>ç„¶åæ ¹æ®æ—¶é—´æ’åºæŸ¥çœ‹è®¾å¤‡ä¸Šçš„crashæ—¥å¿—</li></ul><h2 id="å·²å‘å¸ƒappé€šè¿‡iTunes-Connectè·å–"><a href="#å·²å‘å¸ƒappé€šè¿‡iTunes-Connectè·å–" class="headerlink" title="å·²å‘å¸ƒappé€šè¿‡iTunes Connectè·å–"></a>å·²å‘å¸ƒappé€šè¿‡iTunes Connectè·å–</h2><ul><li>å¯ä»¥é€šè¿‡iTunes Connectï¼ˆManage Your Applications - View Details - Crash Reportsï¼‰è·å–ç”¨æˆ·çš„crashæ—¥å¿—</li><li>ä¸è¿‡è¿™å¹¶ä¸æ˜¯100%æœ‰æ•ˆçš„ï¼Œè€Œä¸”å¤§å¤šæ•°å¼€å‘è€…å¹¶ä¸ä¾èµ–äºæ­¤ï¼Œå› ä¸ºè¿™éœ€è¦ç”¨æˆ·è®¾å¤‡åŒæ„ä¸Šä¼ ç›¸å…³ä¿¡æ¯ï¼Œè¯¦æƒ…å¯å‚è§iOS: Providing Apple with diagnostics and usage informationæ‘˜è¦</li></ul><h2 id="æ¥å…¥ç°æœ‰çš„crashæ”¶é›†å·¥å…·è·å–"><a href="#æ¥å…¥ç°æœ‰çš„crashæ”¶é›†å·¥å…·è·å–" class="headerlink" title="æ¥å…¥ç°æœ‰çš„crashæ”¶é›†å·¥å…·è·å–"></a>æ¥å…¥ç°æœ‰çš„crashæ”¶é›†å·¥å…·è·å–</h2><p>é€šå¸¸æ¥å…¥ç°æœ‰çš„crashæ”¶é›†å·¥å…·ï¼Œæˆ–è€…è‡ªå·±ç¼–å†™ä¸€ä¸ªè¿›è¡Œè‡ªåŠ¨åŒ–æ”¶é›†ã€è§£æå’Œç»Ÿè®¡æ±‡æ€»</p><h1 id="è§£æcrashæ—¥å¿—"><a href="#è§£æcrashæ—¥å¿—" class="headerlink" title="è§£æcrashæ—¥å¿—"></a>è§£æcrashæ—¥å¿—</h1><h2 id="ç¬¦å·åŒ–è§£æ"><a href="#ç¬¦å·åŒ–è§£æ" class="headerlink" title="ç¬¦å·åŒ–è§£æ"></a>ç¬¦å·åŒ–è§£æ</h2><ul><li>å½“è·å¾—ä¸€ä»½crashæ—¥å¿—æ—¶ï¼Œéœ€è¦å°†åˆå§‹å±•ç¤ºçš„åå…­è¿›åˆ¶åœ°å€ç­‰åŸå§‹ä¿¡æ¯æ˜ å°„ä¸ºæºä»£ç çº§åˆ«çš„æ–¹æ³•åç§°å’Œä»£ç è¡Œæ•°ï¼Œä½¿å…¶å¯¹å¼€å‘äººå‘˜å¯è¯»è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºç¬¦å·åŒ–è§£æã€‚è¦æˆåŠŸåœ°ç¬¦å·åŒ–è§£æä¸€ä»½crashæ—¥å¿—ï¼Œæˆ‘ä»¬éœ€è¦æœ‰å¯¹åº”çš„åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ä»¥åŠç¬¦å·ï¼ˆ.dSYMï¼‰æ–‡ä»¶</li></ul><p>-å¦‚æœå¤„äºå¼€å‘è°ƒè¯•é˜¶æ®µï¼Œé€šå¸¸Xcodeéƒ½èƒ½åŒ¹é…åˆ°crashæ—¥å¿—å¯¹åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œç¬¦å·æ–‡ä»¶ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¸®æˆ‘ä»¬è‡ªåŠ¨è§£æã€‚</p><ul><li>å¦‚æœå¤„äºæµ‹è¯•é˜¶æ®µï¼Œæµ‹è¯•äººå‘˜å·²ç»å®‰è£…äº†ä¸åŒçš„ç‰ˆæœ¬ï¼ˆæ¯”å¦‚alphaã€betaç‰ˆæœ¬ï¼‰ï¼Œé‚£ä¹ˆéœ€è¦ä¿å­˜å¥½å¯¹åº”ç‰ˆæœ¬çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œç¬¦å·æ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºå´©æºƒæ—¶å¯¹crashæ—¥å¿—è¿›è¡Œè§£æã€‚å¯¹äºè¿™ç§åœºæ™¯ä¸‹äº§ç”Ÿçš„crashæ—¥å¿—ï¼Œåªéœ€è¦å°†.crashæ–‡ä»¶ã€.appæ–‡ä»¶å’Œ.dSYMæ–‡ä»¶ä¸‰è€…æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œç„¶åå°†.crashæ–‡ä»¶æ‹–æ”¾åˆ°Xcode - Window - Organizerä¸­å·¦ä¾§é¢æ¿Libraryä¸‹çš„Device Logsä¸­ï¼Œå³å¯è¿›è¡Œè§£æã€‚</li></ul><p>å¦‚æœè¦æäº¤å‘å¸ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šå¸¸ä¼šå…ˆæ‰§è¡ŒCleanï¼Œå†Buildï¼Œæœ€åé€šè¿‡Product - Archiveæ¥æ‰“åŒ…ã€‚è¿™æ ·ï¼ŒXcodeä¼šå°†äºŒè¿›åˆ¶æ–‡ä»¶å’Œç¬¦å·æ–‡ä»¶å½’æ¡£åœ¨ä¸€èµ·ï¼Œå¯ä»¥é€šè¿‡Organizerä¸­çš„Archivesè¿›è¡Œæµè§ˆ</p><p><a href="http://stackoverflow.com/questions/1460892/symbolicating-iphone-app-crash-reports" target="_blank" rel="external">å…³äºå¦‚ä½•è§£æcrashæ—¥å¿—çš„è®¨è®º</a></p><h1 id="åˆ†æcrashæ—¥å¿—"><a href="#åˆ†æcrashæ—¥å¿—" class="headerlink" title="åˆ†æcrashæ—¥å¿—"></a>åˆ†æcrashæ—¥å¿—</h1><ul><li>åœ¨åˆ†æä¸€ä»½crashæ—¥å¿—ä¹‹å‰ï¼Œå¦‚æœå¼€å‘äººå‘˜å¯¹äºå¸¸è§çš„é”™è¯¯ç±»å‹æœ‰æ‰€äº†è§£ï¼Œé‚£å®šæ˜¯æå¥½çš„ã€‚</li><li>crashæ—¥å¿—çš„äº§ç”Ÿæ¥æºäºä¸¤ç§é—®é¢˜ï¼šè¿åiOSç­–ç•¥è¢«å¹²æ‰ï¼Œä»¥åŠè‡ªèº«çš„ä»£ç bug</li></ul><h1 id="iOSç­–ç•¥"><a href="#iOSç­–ç•¥" class="headerlink" title="iOSç­–ç•¥"></a>iOSç­–ç•¥</h1><h2 id="ä½å†…å­˜é—ªé€€"><a href="#ä½å†…å­˜é—ªé€€" class="headerlink" title="ä½å†…å­˜é—ªé€€"></a>ä½å†…å­˜é—ªé€€</h2><blockquote><p>ä½å†…å­˜é—ªé€€æ—¥å¿—</p><ul><li>å‰é¢æåˆ°å¤§å¤šæ•°crashæ—¥å¿—éƒ½åŒ…å«ç€æ‰§è¡Œçº¿ç¨‹çš„æ ˆè°ƒç”¨ä¿¡æ¯</li><li>ä½†æ˜¯ä½å†…å­˜é—ªé€€æ—¥å¿—é™¤å¤–ï¼Œè¿™é‡Œå°±å…ˆçœ‹çœ‹ä½å†…å­˜é—ªé€€æ—¥å¿—æ˜¯ä»€ä¹ˆæ ·çš„<br>æˆ‘ä»¬ä½¿ç”¨Xcode 5å’ŒiOS 7çš„è®¾å¤‡æ¨¡æ‹Ÿä¸€æ¬¡ä½å†…å­˜é—ªé€€ï¼Œç„¶åé€šè¿‡OrganizeræŸ¥çœ‹äº§ç”Ÿçš„crashæ—¥å¿—ï¼Œå¯ä»¥å‘ç°Processå’ŒTypeéƒ½ä¸ºUnknownï¼š</li></ul></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Crash%E6%97%A5%E5%BF%97-%20001.png" alt="001"></p><blockquote><p>å…·ä½“çš„æ—¥å¿—å†…å®¹å¦‚ä¸‹</p><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Crash%E6%97%A5%E5%BF%97-%20002.png" alt="002"></p></blockquote><ul><li>ç¬¬ä¸€éƒ¨åˆ†æ˜¯å´©æºƒä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯†åˆ«æ ‡è¯†ã€è½¯ç¡¬ä»¶ä¿¡æ¯å’Œæ—¶é—´ä¿¡æ¯ç­‰ã€‚</li><li>ç¬¬äºŒéƒ¨åˆ†æ˜¯å†…å­˜é¡µåˆ†é…ä¿¡æ¯ï¼Œä»¥åŠå½“å‰å ç”¨å†…å­˜æœ€å¤šçš„è¿›ç¨‹ï¼Œä¸Šå›¾ä¸­ä¸ºcrashTypeDemoã€‚</li><li><p>ç¬¬ä¸‰éƒ¨åˆ†æ˜¯å…·ä½“çš„è¿›ç¨‹åˆ—è¡¨ï¼Œæè¿°ç€æ¯ä¸ªè¿›ç¨‹ä½¿ç”¨å†…å­˜çš„æƒ…å†µä»¥åŠå½“å‰çŠ¶æ€ã€‚åœ¨è¾ƒæ—©çš„ç‰ˆæœ¬ä¸­å¯ä»¥åœ¨æŸäº›è¿›ç¨‹åé¢çœ‹åˆ°â€œjettisonedâ€å­—æ ·ï¼Œè¡¨æ˜è¿™äº›è¿›ç¨‹ä½¿ç”¨è¿‡å¤šå†…å­˜è¢«ç»ˆæ­¢äº†ï¼Œè€Œç°åœ¨æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯â€œvm-pageshortageâ€å­—æ ·ã€‚</p></li><li><p>å½“iOSæ£€æµ‹åˆ°å†…å­˜è¿‡ä½æ—¶ï¼Œå®ƒï¼ˆçš„VMç³»ç»Ÿï¼‰ä¼šå‘å‡ºä½å†…å­˜è­¦å‘Šé€šçŸ¥ï¼Œå°è¯•å›æ”¶ä¸€äº›å†…å­˜ï¼›å¦‚æœæƒ…å†µæ²¡æœ‰å¾—åˆ°è¶³å¤Ÿçš„æ”¹å–„ï¼ŒiOSä¼šç»ˆæ­¢åå°åº”ç”¨ä»¥å›æ”¶æ›´å¤šå†…å­˜ï¼›æœ€åï¼Œå¦‚æœå†…å­˜è¿˜æ˜¯ä¸è¶³ï¼Œé‚£ä¹ˆæ­£åœ¨è¿è¡Œçš„åº”ç”¨å¯èƒ½ä¼šè¢«ç»ˆæ­¢æ‰ã€‚</p></li><li>æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„åº”ç”¨åº”è¯¥åˆç†åœ°å“åº”ç³»ç»ŸæŠ›å‡ºæ¥çš„ä½å†…å­˜è­¦å‘Šé€šçŸ¥ï¼Œå¯¹ä¸€äº›ç¼“å­˜æ•°æ®å’Œå¯é‡æ–°åˆ›å»ºçš„å¯¹è±¡è¿›è¡Œé‡Šæ”¾ï¼ŒåŒæ—¶è¦é¿å…å‡ºç°å†…å­˜æ³„éœ²ç­‰é—®é¢˜ã€‚</li></ul><p>ä½å†…å­˜é—ªé€€æ˜¯ç”±iOSç­–ç•¥å†³å®šç»ˆæ­¢åº”ç”¨ç¨‹åºè¿è¡Œçš„ï¼ŒåŒæ ·åŸºäºiOSç­–ç•¥çš„è¿˜æœ‰Watchdogè¶…æ—¶å’Œç”¨æˆ·å¼ºåˆ¶é€€å‡º</p><h2 id="Watchdogè¶…æ—¶"><a href="#Watchdogè¶…æ—¶" class="headerlink" title="Watchdogè¶…æ—¶"></a>Watchdogè¶…æ—¶</h2><ul><li><p>Appleçš„iOS Developer Libraryç½‘ç«™ä¸Šï¼ŒQA1693æ–‡æ¡£ä¸­æè¿°äº†Watchdogæœºåˆ¶ï¼ŒåŒ…æ‹¬ç”Ÿæ•ˆåœºæ™¯å’Œè¡¨ç°ã€‚å¦‚æœæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯¹ä¸€äº›ç‰¹å®šçš„UIäº‹ä»¶ï¼ˆæ¯”å¦‚å¯åŠ¨ã€æŒ‚èµ·ã€æ¢å¤ã€ç»“æŸï¼‰å“åº”ä¸åŠæ—¶ï¼ŒWatchdogä¼šæŠŠæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¹²æ‰ï¼Œå¹¶ç”Ÿæˆä¸€ä»½å“åº”çš„crashæŠ¥å‘Š</p></li><li><p>è¿™ä»½crashæŠ¥å‘Šçš„æœ‰è¶£ä¹‹å¤„åœ¨äºå¼‚å¸¸ä»£ç ï¼šâ€œ0x8badf00dâ€ï¼Œå³â€œate bad foodâ€</p></li><li><p>å¦‚æœè¯´ç‰¹å®šçš„UIäº‹ä»¶æ¯”è¾ƒæŠ½è±¡ï¼Œé‚£ä¹ˆç”¨ä»£ç æ¥ç›´æ¥æè¿°çš„è¯ï¼Œå¯¹åº”çš„å°±æ˜¯ï¼ˆåˆ›å»ºä¸€ä¸ªå·¥ç¨‹æ—¶Xcodeè‡ªåŠ¨ç”Ÿæˆçš„ï¼‰UIApplicationDelegateçš„å‡ ä¸ªæ–¹æ³•ï¼š</p></li></ul><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Crash%E6%97%A5%E5%BF%97%20-%20003.png" alt="003"></p><ul><li>æ‰€ä»¥å½“é‡åˆ°Watchdogæ—¥å¿—æ—¶ï¼Œå¯ä»¥æ£€æŸ¥ä¸‹ä¸Šå›¾å‡ ä¸ªæ–¹æ³•æ˜¯å¦æœ‰æ¯”è¾ƒé‡çš„é˜»å¡UIçš„åŠ¨ä½œ</li><li>QA1693ä¸¾çš„ä¾‹å­æ˜¯åœ¨ä¸»çº¿ç¨‹è¿›è¡ŒåŒæ­¥ç½‘ç»œè¯·æ±‚ã€‚å¦‚æœæˆ‘ä»¬æ˜¯åœ¨å…¬å¸çš„Wifiç¯å¢ƒä¸‹ä½¿ç”¨åˆ™ä¸€åˆ‡é¡ºåˆ©ï¼Œä½†å½“åº”ç”¨ç¨‹åºå‘å¸ƒå‡ºå»é¢å‘å¾ˆå¤§èŒƒå›´çš„ç”¨æˆ·ï¼Œåœ¨å„ç§ç½‘ç»œç¯å¢ƒä¸‹è¿è¡Œï¼Œåˆ™ä¸å¯é¿å…åœ°ä¼šå‡ºç°ä¸€ç‰‡Watchdogè¶…æ—¶æŠ¥å‘Šã€‚<br>å¦ä¸€ç§å¯èƒ½å‡ºç°é—®é¢˜çš„åœºæ™¯å°±æ˜¯æ•°æ®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹è¿›è¡Œçš„æ•°æ®åº“ç‰ˆæœ¬è¿ç§»ï¼ˆåŒæ ·æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ä¿ƒä½¿æˆ‘å†™è¿™ç¯‡æ€»ç»“çš„ä¸€ä¸ªç›´æ¥å› ç´ ã€‚</li></ul><h2 id="ç”¨æˆ·å¼ºåˆ¶é€€å‡º"><a href="#ç”¨æˆ·å¼ºåˆ¶é€€å‡º" class="headerlink" title="ç”¨æˆ·å¼ºåˆ¶é€€å‡º"></a>ç”¨æˆ·å¼ºåˆ¶é€€å‡º</h2><ul><li><p>ä¸€çœ‹åˆ°â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€ï¼Œé¦–å…ˆå¯èƒ½æƒ³åˆ°çš„åŒå‡»Homeé”®ï¼Œç„¶åå…³é—­åº”ç”¨ç¨‹åºã€‚ä¸è¿‡è¿™ç§åœºæ™¯æ˜¯ä¸ä¼šäº§ç”Ÿcrashæ—¥å¿—çš„ï¼Œå› ä¸ºåŒå‡»Homeé”®åï¼Œæ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½å¤„äºåå°çŠ¶æ€ï¼Œè€ŒiOSéšæ—¶éƒ½æœ‰å¯èƒ½å…³é—­åå°è¿›ç¨‹ï¼Œæ‰€ä»¥è¿™ç§åœºæ™¯æ²¡æœ‰crashæ—¥å¿—ã€‚</p></li><li><p>å¦ä¸€ç§åœºæ™¯æ˜¯ç”¨æˆ·åŒæ—¶æŒ‰ä½ç”µæºé”®å’ŒHomeé”®ï¼Œè®©iPhoneé‡å¯ã€‚è¿™ç§åœºæ™¯ä¼šäº§ç”Ÿæ—¥å¿—ï¼ˆä»…éªŒè¯è¿‡ä¸€æ¬¡ï¼‰ï¼Œä½†å¹¶ä¸é’ˆå¯¹ç‰¹å®šåº”ç”¨ç¨‹åºã€‚</p></li><li><p>è¿™é‡ŒæŒ‡çš„â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€åœºæ™¯ï¼Œæ˜¯ç¨å¾®æ¯”è¾ƒå¤æ‚ç‚¹çš„æ“ä½œï¼šå…ˆæŒ‰ä½ç”µæºé”®ï¼Œç›´åˆ°å‡ºç°â€œæ»‘åŠ¨å…³æœºâ€çš„ç•Œé¢æ—¶ï¼Œå†æŒ‰ä½Homeé”®ï¼Œè¿™æ—¶å€™å½“å‰åº”ç”¨ç¨‹åºä¼šè¢«ç»ˆæ­¢æ‰ï¼Œå¹¶ä¸”äº§ç”Ÿä¸€ä»½ç›¸åº”äº‹ä»¶çš„crashæ—¥å¿—</p></li></ul><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Crash%E6%97%A5%E5%BF%97-%20004.png" alt="004"></p><ul><li>é€šå¸¸ï¼Œç”¨æˆ·åº”è¯¥æ˜¯é‡åˆ°åº”ç”¨ç¨‹åºå¡æ­»ï¼Œå¹¶ä¸”å½±å“åˆ°äº†iOSå“åº”ï¼Œæ‰ä¼šè¿›è¡Œè¿™æ ·çš„æ“ä½œâ€”â€”ä¸è¿‡æ„Ÿè§‰è¿™æ“ä½œå¥½é«˜çº§ï¼Œæ‰€ä»¥è¿™æ ·çš„crashæ—¥å¿—åº”è¯¥æ¯”è¾ƒå°‘è§</li></ul><h1 id="å¸¸è§é”™è¯¯æ ‡è¯†"><a href="#å¸¸è§é”™è¯¯æ ‡è¯†" class="headerlink" title="å¸¸è§é”™è¯¯æ ‡è¯†"></a>å¸¸è§é”™è¯¯æ ‡è¯†</h1><h2 id="Exception-codes"><a href="#Exception-codes" class="headerlink" title="Exception codes"></a>Exception codes</h2><p>ä¸Šé¢â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€çš„crashæ—¥å¿—ä¸­çš„Exception Codesæ˜¯â€œ0xdeadfa11â€ï¼Œå†ä¸Šé¢â€œWatchdogè¶…æ—¶â€çš„crashæ—¥å¿—ä¸­çš„Exception Codesæ˜¯â€œ0x8badf00dâ€ï¼Œè¿™äº›éƒ½æ˜¯ç‰¹æœ‰çš„Exception codesã€‚<br>æ ¹æ®å®˜æ–¹æ–‡æ¡£æè¿°ï¼Œè‡³å°‘æœ‰ä»¥ä¸‹å‡ ç§ç‰¹å®šå¼‚å¸¸ä»£ç ï¼š</p><p>0x8badf00dé”™è¯¯ç ï¼šWatchdogè¶…æ—¶ï¼Œæ„ä¸ºâ€œate bad foodâ€ã€‚</p><p>0xdeadfa11é”™è¯¯ç ï¼šç”¨æˆ·å¼ºåˆ¶é€€å‡ºï¼Œæ„ä¸ºâ€œdead fallâ€ã€‚</p><p>0xbaaaaaadé”™è¯¯ç ï¼šç”¨æˆ·æŒ‰ä½Homeé”®å’ŒéŸ³é‡é”®ï¼Œè·å–å½“å‰å†…å­˜çŠ¶æ€ï¼Œä¸ä»£è¡¨å´©æºƒã€‚<br><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Crash%E6%97%A5%E5%BF%97-%20005.png" alt="005"><br>0xbad22222é”™è¯¯ç ï¼šVoIPåº”ç”¨ï¼ˆå› ä¸ºå¤ªé¢‘ç¹ï¼Ÿï¼‰è¢«iOSå¹²æ‰ã€‚</p><p>0xc00010ffé”™è¯¯ç ï¼šå› ä¸ºå¤ªçƒ«äº†è¢«å¹²æ‰ï¼Œæ„ä¸ºâ€œcool offâ€ã€‚</p><p>0xdead10ccé”™è¯¯ç ï¼šå› ä¸ºåœ¨åå°æ—¶ä»ç„¶å æ®ç³»ç»Ÿèµ„æºï¼ˆæ¯”å¦‚é€šè®¯å½•ï¼‰è¢«å¹²æ‰ï¼Œæ„ä¸ºâ€œdead lockâ€</p><h2 id="Exception-types"><a href="#Exception-types" class="headerlink" title="Exception types"></a>Exception types</h2><p>æŸ¥çœ‹æˆ‘ä»¬çš„crashåˆ†ææŠ¥å‘Šé‚®ä»¶ï¼Œä¼šå‘ç°æœ€ç»å¸¸é‡åˆ°çš„é”™è¯¯ç±»å‹æ˜¯SEGVï¼ˆSegmentation Violationï¼Œæ®µè¿ä¾‹ï¼‰ï¼Œè¡¨æ˜å†…å­˜æ“ä½œä¸å½“ï¼Œæ¯”å¦‚è®¿é—®ä¸€ä¸ªæ²¡æœ‰æƒé™çš„å†…å­˜åœ°å€ã€‚<br>å½“æˆ‘ä»¬æ”¶åˆ°SIGSEGVä¿¡å·æ—¶ï¼Œå¯ä»¥å¾€ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è€ƒè™‘ï¼š<br>è®¿é—®æ— æ•ˆå†…å­˜åœ°å€ï¼Œæ¯”å¦‚è®¿é—®Zombieå¯¹è±¡ï¼›<br>å°è¯•å¾€åªè¯»åŒºåŸŸå†™æ•°æ®ï¼›<br>è§£å¼•ç”¨ç©ºæŒ‡é’ˆï¼›<br>ä½¿ç”¨æœªåˆå§‹åŒ–çš„æŒ‡é’ˆï¼›<br>æ ˆæº¢å‡ºï¼›<br>æ­¤å¤–ï¼Œè¿˜æœ‰å…¶å®ƒå¸¸è§ä¿¡å·ï¼š<br>SIGABRTï¼šæ”¶åˆ°Abortä¿¡å·ï¼Œå¯èƒ½è‡ªèº«è°ƒç”¨abort()æˆ–è€…æ”¶åˆ°å¤–éƒ¨å‘é€è¿‡æ¥çš„ä¿¡å·ï¼›<br>SIGBUSï¼šæ€»çº¿é”™è¯¯ã€‚ä¸SIGSEGVä¸åŒçš„æ˜¯ï¼ŒSIGSEGVè®¿é—®çš„æ˜¯æ— æ•ˆåœ°å€ï¼ˆæ¯”å¦‚è™šå­˜æ˜ å°„ä¸åˆ°ç‰©ç†å†…å­˜ï¼‰ï¼Œè€ŒSIGBUSè®¿é—®çš„æ˜¯æœ‰æ•ˆåœ°å€ï¼Œä½†æ€»çº¿è®¿é—®å¼‚å¸¸ï¼ˆæ¯”å¦‚åœ°å€å¯¹é½é—®é¢˜ï¼‰ï¼›<br>SIGILLï¼šå°è¯•æ‰§è¡Œéæ³•çš„æŒ‡ä»¤ï¼Œå¯èƒ½ä¸è¢«è¯†åˆ«æˆ–è€…æ²¡æœ‰æƒé™ï¼›<br>SIGFPEï¼šFloating Point Errorï¼Œæ•°å­¦è®¡ç®—ç›¸å…³é—®é¢˜ï¼ˆå¯èƒ½ä¸é™äºæµ®ç‚¹è®¡ç®—ï¼‰ï¼Œæ¯”å¦‚é™¤é›¶æ“ä½œï¼›<br>SIGPIPEï¼šç®¡é“å¦ä¸€ç«¯æ²¡æœ‰è¿›ç¨‹æ¥æ‰‹æ•°æ®</p><h2 id="ä»£ç bug"><a href="#ä»£ç bug" class="headerlink" title="ä»£ç bug"></a>ä»£ç bug</h2><p>æ­¤å¤–ï¼Œæ¯”è¾ƒå¸¸è§çš„å´©æºƒåŸºæœ¬éƒ½æºäºä»£ç bugï¼Œæ¯”å¦‚æ•°ç»„è¶Šç•Œã€æ’ç©ºã€å¤šçº¿ç¨‹å®‰å…¨æ€§ã€è®¿é—®é‡æŒ‡é’ˆã€å‘é€æœªå®ç°çš„selectorç­‰ã€‚å¦‚æœå¼•å…¥Core Dataï¼Œåˆ™åˆæœ‰å¦å¤–ä¸€äº›å¸¸è§é—®é¢˜ï¼Œä¸è¿‡è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜äº†ã€‚</p><p>é‡åˆ°è¿™äº›bugæ—¶ï¼Œéƒ½æœ‰æ¯”è¾ƒæ¸…æ¥šçš„é”™è¯¯åŸå› è¯´æ˜ï¼Œæ¯”å¦‚â€œindex 0 beyond bounds for empty arrayâ€ç­‰ã€‚éœ€è¦ç¨å¾®æ³¨æ„ç‚¹çš„æ˜¯å¤šçº¿ç¨‹é—®é¢˜ï¼Œå½“ä¸€æ—¶æ‰¾ä¸åˆ°è§£å†³æ€è·¯æ—¶ï¼Œä¸å¦¨å¾€å¤šçº¿ç¨‹æ–¹é¢è€ƒè™‘ä¸‹</p><p><a href="http://blog.csdn.net/jasonblog/article/details/19031517" target="_blank" rel="external">iOSåº”ç”¨çš„crashæ—¥å¿—çš„åˆ†æåŸºç¡€</a></p>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Code </tag>
            
            <tag> crash </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Func-æ£€æµ‹ä¸»çº¿ç¨‹å¡é¡¿çš„é—®é¢˜</title>
      <link href="/2017/11/22/OC/Func/iOS-Func-%E6%A3%80%E6%B5%8B%E4%B8%BB%E7%BA%BF%E7%A8%8B%E5%8D%A1%E9%A1%BF%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="runloop-æ£€æµ‹æ–¹æ¡ˆ"><a href="#runloop-æ£€æµ‹æ–¹æ¡ˆ" class="headerlink" title="runloop - æ£€æµ‹æ–¹æ¡ˆ"></a>runloop - æ£€æµ‹æ–¹æ¡ˆ</h1><p>  <a href="https://juejin.im/post/59edb7596fb9a0450d103f34" target="_blank" rel="external">åŸæ–‡æ–‡æ¡£</a></p><h2 id="CFRunLoopRun"><a href="#CFRunLoopRun" class="headerlink" title="CFRunLoopRun"></a>CFRunLoopRun</h2><p><a href="http://opensource.apple.com/source/CF/CF-1151.16/CFRunLoop.c" target="_blank" rel="external">CFRunLoopRunæºä»£ç </a></p><blockquote><p>æ ¸å¿ƒæ–¹æ³•CFRunLoopRunç®€åŒ–åçš„ä¸»è¦é€»è¾‘å¤§æ¦‚æ˜¯è¿™æ ·çš„:<br>NSRunLoopè°ƒç”¨æ–¹æ³•ä¸»è¦å°±æ˜¯åœ¨kCFRunLoopBeforeSourceså’ŒkCFRunLoopBeforeWaitingä¹‹é—´,è¿˜æœ‰kCFRunLoopAfterWaitingä¹‹å,ä¹Ÿå°±æ˜¯å¦‚æœæˆ‘ä»¬å‘ç°è¿™ä¸¤ä¸ªæ—¶é—´å†…è€—æ—¶å¤ªé•¿,é‚£ä¹ˆå°±å¯ä»¥åˆ¤å®šå‡ºæ­¤æ—¶ä¸»çº¿ç¨‹å¡é¡¿</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">   int32_t __CFRunLoopRun()</div><div class="line">&#123;</div><div class="line">    <span class="comment">//é€šçŸ¥å³å°†è¿›å…¥runloop</span></div><div class="line">    __CFRunLoopDoObservers(KCFRunLoopEntry);</div><div class="line">    </div><div class="line">    <span class="keyword">do</span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// é€šçŸ¥å°†è¦å¤„ç†timerå’Œsource</span></div><div class="line">        __CFRunLoopDoObservers(kCFRunLoopBeforeTimers);</div><div class="line">        __CFRunLoopDoObservers(kCFRunLoopBeforeSources);</div><div class="line">        </div><div class="line">        __CFRunLoopDoBlocks();  <span class="comment">//å¤„ç†éå»¶è¿Ÿçš„ä¸»çº¿ç¨‹è°ƒç”¨</span></div><div class="line">        __CFRunLoopDoSource0(); <span class="comment">//å¤„ç†UIEventäº‹ä»¶</span></div><div class="line">        </div><div class="line">        <span class="comment">//GCD dispatch main queue</span></div><div class="line">        CheckIfExistMessagesInMainDispatchQueue();</div><div class="line">        </div><div class="line">        <span class="comment">// å³å°†è¿›å…¥ä¼‘çœ </span></div><div class="line">        __CFRunLoopDoObservers(kCFRunLoopBeforeWaiting);</div><div class="line">        </div><div class="line">        <span class="comment">// ç­‰å¾…å†…æ ¸mach_msgäº‹ä»¶</span></div><div class="line">        mach_port_t wakeUpPort = SleepAndWaitForWakingUpPorts();</div><div class="line">        </div><div class="line">        <span class="comment">// Zzz...</span></div><div class="line">        </div><div class="line">        <span class="comment">// ä»ç­‰å¾…ä¸­é†’æ¥</span></div><div class="line">        __CFRunLoopDoObservers(kCFRunLoopAfterWaiting);</div><div class="line">        </div><div class="line">        <span class="comment">// å¤„ç†å› timerçš„å”¤é†’</span></div><div class="line">        <span class="keyword">if</span> (wakeUpPort == timerPort)</div><div class="line">            __CFRunLoopDoTimers();</div><div class="line">        </div><div class="line">        <span class="comment">// å¤„ç†å¼‚æ­¥æ–¹æ³•å”¤é†’,å¦‚dispatch_async</span></div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (wakeUpPort == mainDispatchQueuePort)</div><div class="line">            __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__()</div><div class="line">            </div><div class="line">        <span class="comment">// UIåˆ·æ–°,åŠ¨ç”»æ˜¾ç¤º</span></div><div class="line">        <span class="keyword">else</span></div><div class="line">            __CFRunLoopDoSource1();</div><div class="line">        </div><div class="line">        <span class="comment">// å†æ¬¡ç¡®ä¿æ˜¯å¦æœ‰åŒæ­¥çš„æ–¹æ³•éœ€è¦è°ƒç”¨</span></div><div class="line">        __CFRunLoopDoBlocks();</div><div class="line">        </div><div class="line">    &#125; <span class="keyword">while</span> (!stop &amp;&amp; !timeout);</div><div class="line">    </div><div class="line">    <span class="comment">//é€šçŸ¥å³å°†é€€å‡ºrunloop</span></div><div class="line">    __CFRunLoopDoObservers(<span class="built_in">CFRunLoopExit</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="runloop-çš„çŠ¶æ€"><a href="#runloop-çš„çŠ¶æ€" class="headerlink" title="runloop çš„çŠ¶æ€"></a>runloop çš„çŠ¶æ€</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="built_in">CF_OPTIONS</span>(<span class="built_in">CFOptionFlags</span>, <span class="built_in">CFRunLoopActivity</span>) </div><div class="line">&#123;</div><div class="line">    kCFRunLoopEntry         = (<span class="number">1</span>UL &lt;&lt; <span class="number">0</span>), <span class="comment">// å³å°†è¿›å…¥Loop</span></div><div class="line">    kCFRunLoopBeforeTimers  = (<span class="number">1</span>UL &lt;&lt; <span class="number">1</span>), <span class="comment">// å³å°†å¤„ç† Timer</span></div><div class="line">    kCFRunLoopBeforeSources = (<span class="number">1</span>UL &lt;&lt; <span class="number">2</span>), <span class="comment">// å³å°†å¤„ç† Source</span></div><div class="line">    kCFRunLoopBeforeWaiting = (<span class="number">1</span>UL &lt;&lt; <span class="number">5</span>), <span class="comment">// å³å°†è¿›å…¥ä¼‘çœ </span></div><div class="line">    kCFRunLoopAfterWaiting  = (<span class="number">1</span>UL &lt;&lt; <span class="number">6</span>), <span class="comment">// åˆšä»ä¼‘çœ ä¸­å”¤é†’</span></div><div class="line">    kCFRunLoopExit          = (<span class="number">1</span>UL &lt;&lt; <span class="number">7</span>), <span class="comment">// å³å°†é€€å‡ºLoop</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure><blockquote><p>è€—æ—¶è¿›è¡Œåˆ¤æ–­</p><ul><li>åˆ©ç”¨ <strong>kCFRunLoopBeforeSources</strong> å’Œ <strong>*kCFRunLoopAfterWaiting</strong> è¿™ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´çš„è€—æ—¶</li><li>è¿›è¡Œåˆ¤æ–­:<strong>æ˜¯å¦æœ‰å¤ªå¤šäº‹ä»¶å¤„ç†å¯¼è‡´å‡ºç°äº†å¡é¡¿</strong></li></ul><p>AppDelegate+AppService ç›‘å¬runloopçš„çŠ¶æ€è€Œå†™çš„å›è°ƒå‡½æ•°</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="keyword">void</span> runLoopObserverCallBack(<span class="built_in">CFRunLoopObserverRef</span> observer, <span class="built_in">CFRunLoopActivity</span> activity, <span class="keyword">void</span> *info)</div><div class="line">&#123;</div><div class="line">    PingConfig *object = (__bridge PingConfig*)info;</div><div class="line">    <span class="comment">// è®°å½•çŠ¶æ€å€¼</span></div><div class="line">    object-&gt;activity = activity;</div><div class="line">    <span class="comment">// å‘é€ä¿¡å·</span></div><div class="line">    dispatch_semaphore_t semaphore = object-&gt;semaphore;</div><div class="line">    dispatch_semaphore_signal(semaphore);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="AppDelegate-æ³¨å†Œç›‘å¬"><a href="#AppDelegate-æ³¨å†Œç›‘å¬" class="headerlink" title="AppDelegate æ³¨å†Œç›‘å¬"></a>AppDelegate æ³¨å†Œç›‘å¬</h2><ul><li><p>PingConfig: ä¸€ä¸ªç”¨æ¥å­˜å‚¨runloopçš„çŠ¶æ€å’Œä¿¡å·é‡çš„è‡ªå®šä¹‰ç±»ï¼Œå…¶ä¸­çš„ç»“æ„å¦‚ä¸‹</p></li><li><p>APPå¯åŠ¨æ—¶æˆ‘å¯ä»¥è¿›å…¥ registerObserver æ–¹æ³•ï¼Œå…¶ä¸­é¦–å…ˆæˆ‘åˆ›å»ºä¸€ä¸ªè®°å½•ä¿¡æ¯çš„ç±»PingConfigå®ä¾‹ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªä¿¡å·ï¼Œå¹¶ä¸”ä¿å­˜åœ¨è¿™ä¸ªPingConfigå®ä¾‹ä¸­(å…¶å®åªæ˜¯ä¸ºäº†æ–¹ä¾¿æ‹¿åˆ°</p></li><li></li><li><p>åˆ›å»ºäº†ä¸€ä¸ªè§‚å¯Ÿè€…ç›‘æµ‹ä¸»çº¿ç¨‹çš„runloop,å®ƒä¼šåœ¨ä¸»çº¿ç¨‹runloopçŠ¶æ€åˆ‡æ¢æ—¶è¿›è¡Œå›è°ƒ</p></li><li><p>å¼€å¯ä¸€ä¸ªå­çº¿ç¨‹ï¼Œå¹¶ä¸”åœ¨é‡Œé¢è¿›è¡Œä¸€ä¸ª while å¾ªç¯ï¼Œåœ¨ å¾ªç¯çš„å¼€å§‹å¤„ wait ä¸€ä¸ªä¿¡å·é‡ï¼Œå¹¶ä¸”è®¾ç½®è¶…æ—¶ä¸º 50æ¯«ç§’ï¼Œå¤±è´¥åä¼šè¿”å›ä¸€ä¸ªé0æ•°ï¼ŒæˆåŠŸå°†ä¼šè¿”å›0ï¼Œè¿™æ—¶å€™çº¿ç¨‹ä¼šé˜»å¡ä½ç­‰å¾…ä¸€ä¸ªä¿¡å·çš„å‘å‡º</p></li><li><p>å¦‚æœrunloopçŠ¶æ€æ­£å¸¸åˆ‡æ¢ï¼Œé‚£ä¹ˆå°±ä¼šè¿›å…¥å›è°ƒå‡½æ•°ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­æˆ‘ä»¬å‘å‡ºä¸€ä¸ªä¿¡å·ï¼Œå¹¶ä¸”è®°å½•å½“å‰çŠ¶æ€åˆ°PingConfigå®ä¾‹ä¸­ï¼Œä¸‹é¢çš„åˆ¤æ–­è¯­å¥ä¸­å‘ç°ä¸º0ï¼ŒtimeoutCountè‡ªåŠ¨ç½®ä¸º0ï¼Œä¸€åˆ‡æ­£å¸¸</p></li><li><p>å½“ä¸»çº¿ç¨‹å‡ºç°å¡é¡¿ï¼Œwhileå¾ªç¯ä¸­çš„ä¿¡å·é‡å†æ¬¡ç­‰å¾…ï¼Œä½†æ˜¯å›è°ƒå‡½æ•°æ²¡æœ‰è§¦å‘ï¼Œä»è€Œå¯¼è‡´ç­‰å¾…è¶…æ—¶ï¼Œè¿”å›ä¸€ä¸ªé0æ•°ï¼Œè¿›å…¥åˆ¤æ–­å¥åï¼Œæˆ‘ä»¬å†æ¬¡åˆ¤æ–­çŠ¶æ€æ˜¯å¦å¤„äº kCFRunLoopBeforeSources æˆ– kCFRunLoopAfterWaitingï¼Œå¦‚æœæˆç«‹ï¼ŒtimeoutCount+1</p></li></ul><ul><li>æŒç»­äº”æ¬¡runloopä¸åˆ‡æ¢çŠ¶æ€ï¼Œè¯´æ˜runloopæ­£åœ¨å¤„ç†æŸä¸ªæ£˜æ‰‹çš„äº‹ä»¶æ— æ³•ä¼‘æ¯ä¸”ä¸æ›´æ–°çŠ¶æ€ï¼Œè¿™æ ·whileå¾ªç¯ä¸­çš„ä¿¡å·é‡è¶…æ—¶ä¼šä¸€ç›´å‘ç”Ÿï¼Œè¶…è¿‡5æ¬¡åæˆ‘ä»¬å°†æ–­å®šä¸»çº¿ç¨‹çš„å¡é¡¿å¹¶ä¸Šä¼ å †æ ˆä¿¡æ¯</li></ul><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)registerObserver</div><div class="line">&#123;</div><div class="line">    PingConfig *config = [PingConfig new];</div><div class="line">    <span class="comment">// åˆ›å»ºä¿¡å·</span></div><div class="line">    dispatch_semaphore_t semaphore = dispatch_semaphore_create(<span class="number">0</span>);</div><div class="line">    config-&gt;semaphore = semaphore;</div><div class="line"></div><div class="line">    <span class="built_in">CFRunLoopObserverContext</span> context = &#123;<span class="number">0</span>,(__bridge <span class="keyword">void</span>*)config,<span class="literal">NULL</span>,<span class="literal">NULL</span>&#125;;</div><div class="line">    <span class="built_in">CFRunLoopObserverRef</span> observer = <span class="built_in">CFRunLoopObserverCreate</span>(kCFAllocatorDefault,</div><div class="line">                                                            kCFRunLoopAllActivities,</div><div class="line">                                                            <span class="literal">YES</span>,</div><div class="line">                                                            <span class="number">0</span>,</div><div class="line">                                                            &amp;runLoopObserverCallBack,</div><div class="line">                                                            &amp;context);</div><div class="line">    <span class="built_in">CFRunLoopAddObserver</span>(<span class="built_in">CFRunLoopGetMain</span>(), observer, kCFRunLoopCommonModes);</div><div class="line"></div><div class="line">    __block uint8_t timeoutCount = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="comment">// åœ¨å­çº¿ç¨‹ç›‘æ§æ—¶é•¿</span></div><div class="line">    <span class="built_in">dispatch_async</span>(dispatch_get_global_queue(<span class="number">0</span>, <span class="number">0</span>), ^&#123;</div><div class="line">        <span class="keyword">while</span> (<span class="literal">YES</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="comment">// å‡å®šè¿ç»­5æ¬¡è¶…æ—¶50msè®¤ä¸ºå¡é¡¿(å½“ç„¶ä¹ŸåŒ…å«äº†å•æ¬¡è¶…æ—¶250ms)</span></div><div class="line">            <span class="keyword">long</span> st = dispatch_semaphore_wait(semaphore, dispatch_time(DISPATCH_TIME_NOW, <span class="number">50</span>*<span class="built_in">NSEC_PER_MSEC</span>));</div><div class="line">            <span class="keyword">if</span> (st != <span class="number">0</span>)</div><div class="line">            &#123;</div><div class="line"><span class="comment">//                NSLog(@"å¾ªç¯ä¸­--%ld",config-&gt;activity);</span></div><div class="line">                <span class="keyword">if</span> (config-&gt;activity==kCFRunLoopBeforeSources || config-&gt;activity==kCFRunLoopAfterWaiting)</div><div class="line">                &#123;</div><div class="line">                    <span class="keyword">if</span> (++timeoutCount &lt; <span class="number">5</span>)&#123;</div><div class="line">                        <span class="keyword">continue</span>;</div><div class="line">                    &#125;<span class="keyword">else</span>&#123;</div><div class="line">                        <span class="built_in">NSLog</span>(<span class="string">@"å¡é¡¿äº†"</span>);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            timeoutCount = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="PingConfig"><a href="#PingConfig" class="headerlink" title="PingConfig"></a>PingConfig</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">PingConfig</span> : <span class="title">NSObject</span></span></div><div class="line">&#123;</div><div class="line"> <span class="keyword">@public</span></div><div class="line"> <span class="built_in">CFRunLoopActivity</span> activity;</div><div class="line"> dispatch_semaphore_t semaphore;</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure><h1 id="Otheræƒ…å†µä¸»çº¿ç¨‹å¡é¡¿"><a href="#Otheræƒ…å†µä¸»çº¿ç¨‹å¡é¡¿" class="headerlink" title="Otheræƒ…å†µä¸»çº¿ç¨‹å¡é¡¿"></a>Otheræƒ…å†µä¸»çº¿ç¨‹å¡é¡¿</h1><h2 id="ä¸»çº¿ç¨‹å¡åœ¨ç•Œé¢å°šæœªå®Œå…¨æ˜¾ç¤ºå‰"><a href="#ä¸»çº¿ç¨‹å¡åœ¨ç•Œé¢å°šæœªå®Œå…¨æ˜¾ç¤ºå‰" class="headerlink" title="ä¸»çº¿ç¨‹å¡åœ¨ç•Œé¢å°šæœªå®Œå…¨æ˜¾ç¤ºå‰"></a>ä¸»çº¿ç¨‹å¡åœ¨ç•Œé¢å°šæœªå®Œå…¨æ˜¾ç¤ºå‰</h2><blockquote><p>å½“ä¸»çº¿ç¨‹å¡åœ¨ç•Œé¢å°šæœªå®Œå…¨æ˜¾ç¤ºå‰ï¼Œè¿™ä¸ªæ–¹æ¡ˆå°±æ£€æµ‹ä¸å‡ºæ¥å¡é¡¿äº†ï¼Œæ¯”å¦‚æˆ‘å°†ä¸‹é¢çš„ä»£ç æ”¾åœ¨Bæ§åˆ¶å™¨ä¸­</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">dispatch_semaphore_t t = dispatch_semaphore_create(<span class="number">0</span>);</div><div class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="number">3.0</span> * <span class="built_in">NSEC_PER_SEC</span>)), dispatch_get_main_queue(), ^&#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"----"</span>);</div><div class="line">        dispatch_semaphore_signal(t);</div><div class="line">    &#125;);</div><div class="line">    dispatch_semaphore_wait(t, DISPATCH_TIME_FOREVER);</div></pre></td></tr></table></figure><ul><li>ä¸Šé¢æ˜¯ä¸€æ®µæœ‰é—®é¢˜çš„ä»£ç ï¼Œå°†å¯¼è‡´ä¸»çº¿ç¨‹çš„æŒç»­å µå¡ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿™æ®µä»£ç æ”¾åœ¨Bæ§åˆ¶å™¨çš„ViewDidLoadæ–¹æ³•ä¸­(ViewWillAppearåŒæ ·)</li><li>è¿è¡Œåï¼Œå½“ä½ å¸Œæœ›pushåˆ°Bæ§åˆ¶å™¨æ—¶ï¼Œé¡¹ç›®å°†åœ¨ä¸Šä¸€ä¸ªç•Œé¢å®Œå…¨å¡ä½ï¼Œå¹¶ä¸”æ— æ³•ç”¨ä¸Šé¢çš„æ–¹æ¡ˆæ£€æµ‹åˆ°ï¼Œè€Œä¸”CPUåŠå†…å­˜éƒ½æ˜¾ç¤ºæ­£å¸¸</li></ul><h2 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h2><ul><li>ç”±äºrunloopåœ¨å¤„ç†å®Œsource0æˆ–è€…source1åï¼Œæ¯”å¦‚ç•Œé¢çš„è·³è½¬ä¹Ÿæ˜¯æ‰§è¡Œäº†æ–¹æ³•ï¼Œå…·ä½“æœ‰æ²¡æœ‰ç”¨åˆ°source0è¿™ä¸é‡è¦ï¼Œä½†æ˜¯åé¢ä¼šç´§æ¥ç€è¿›å…¥å‡†å¤‡ç¡çœ (kCFRunLoopBeforeWaiting)çš„çŠ¶æ€ï¼Œç„¶è€Œæ­¤æ—¶çº¿ç¨‹çš„é˜»å¡å¯¼è‡´runloopçš„çŠ¶æ€ä¹Ÿè¢«å¡ä½æ— æ³•åˆ‡æ¢ï¼Œè¿™æ ·ä¹Ÿå°±å¯¼è‡´åœ¨é‚£æ®µæ£€æµ‹ä»£ç ä¸­æ— æ³•è¿›å…¥æ¡ä»¶ï¼Œä»è€Œæ£€æµ‹ä¸å‡ºæ¥ã€‚</li><li>ä½†æ˜¯è¯è¯´å›æ¥ï¼ŒAPPåœ¨é™æ­¢çŠ¶æ€(ä¿æŒä¼‘çœ )å’Œåˆšåˆšé‚£ç§å¡æ­»çŠ¶æ€éƒ½ä¼šä½¿runloopç»´æŒåœ¨ kCFRunLoopBeforeWaitingçŠ¶æ€ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— æ³•åœ¨é‚£æ®µä»£ç ä¸­å¢åŠ åˆ¤æ–­æ¥ä¿®å¤ï¼Œå› ä¸ºæ— æ³•çŸ¥é“åˆ°åº•æ˜¯çœŸçš„é™æ­¢æ²¡æœ‰æ“ä½œè¿˜æ˜¯è¢«é˜»å¡ä½ï¼Œæˆ‘ä¹Ÿæ²¡æ‰¾åˆ°çº¿ç¨‹çš„é˜»å¡çŠ¶æ€å±æ€§ï¼Œå¦‚æœä½ å‘ç°è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨é‚£ä¸ªå±æ€§æ¥åˆ¤æ–­</li></ul><h2 id="æ£€æµ‹æ–¹æ¡ˆ"><a href="#æ£€æµ‹æ–¹æ¡ˆ" class="headerlink" title="æ£€æµ‹æ–¹æ¡ˆ"></a>æ£€æµ‹æ–¹æ¡ˆ</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">dispatch_queue_t</span> serialQueue = dispatch_queue_create(<span class="string">"serial"</span>, DISPATCH_QUEUE_SERIAL);</div><div class="line">    <span class="keyword">self</span>.timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, <span class="number">0</span>, <span class="number">0</span>, serialQueue);</div><div class="line">    dispatch_source_set_timer(<span class="keyword">self</span>.timer, DISPATCH_TIME_NOW, <span class="number">0.25</span> * <span class="built_in">NSEC_PER_SEC</span>, <span class="number">0</span>);</div><div class="line"></div><div class="line">    __block int8_t chokeCount = <span class="number">0</span>;</div><div class="line">    dispatch_semaphore_t t2 = dispatch_semaphore_create(<span class="number">0</span>);</div><div class="line">    dispatch_source_set_event_handler(<span class="keyword">self</span>.timer, ^&#123;</div><div class="line">        <span class="keyword">if</span> (config-&gt;activity == kCFRunLoopBeforeWaiting) &#123;</div><div class="line">            <span class="keyword">static</span> <span class="built_in">BOOL</span> ex = <span class="literal">YES</span>;</div><div class="line">            <span class="keyword">if</span> (ex == <span class="literal">NO</span>) &#123;</div><div class="line">                chokeCount ++;</div><div class="line">                <span class="keyword">if</span> (chokeCount &gt; <span class="number">40</span>) &#123;</div><div class="line">                    <span class="built_in">NSLog</span>(<span class="string">@"å·®ä¸å¤šå¡æ­»äº†"</span>);</div><div class="line">                    dispatch_suspend(<span class="keyword">self</span>.timer);</div><div class="line">                    <span class="keyword">return</span> ;</div><div class="line">                &#125;</div><div class="line">                <span class="built_in">NSLog</span>(<span class="string">@"å¡é¡¿äº†"</span>);</div><div class="line">                <span class="keyword">return</span> ;</div><div class="line">            &#125;</div><div class="line">            <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</div><div class="line">                ex = <span class="literal">YES</span>;</div><div class="line">                dispatch_semaphore_signal(t2);</div><div class="line">            &#125;);</div><div class="line">            <span class="built_in">BOOL</span> su = dispatch_semaphore_wait(t2, dispatch_time(DISPATCH_TIME_NOW, <span class="number">50</span>*<span class="built_in">NSEC_PER_MSEC</span>));</div><div class="line">            <span class="keyword">if</span> (su != <span class="number">0</span>) &#123;</div><div class="line">                ex = <span class="literal">NO</span>;</div><div class="line">            &#125;;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    dispatch_resume(<span class="keyword">self</span>.timer);</div></pre></td></tr></table></figure><blockquote><p>æ–¹æ¡ˆè§£é‡Š</p></blockquote><ul><li><p>å¼€å¯ä¸€ä¸ªå¼‚æ­¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ—¶é—´æˆ‘è®¾ç½®çš„æ˜¯0.25ç§’ï¼Œå…·ä½“æ—¶é—´éšä½ è‡ªå·±ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯ç”¨æ¥æ£€æµ‹å¡æ­»çš„æŒç»­æ—¶é—´</p></li><li><p>åœ¨å®šæ—¶å™¨å¤–é¢æˆ‘ä¹ŸåŒæ ·åˆ›å»ºäº†ä¸€ä¸ªç”¨æ¥åŒæ­¥çš„ä¿¡å·é‡ï¼Œè¿™ä¸ªä¸è§£é‡Šäº†ï¼Œä¸ä¼šçš„å°±å»çœ‹ä¸€ä¸‹ä¿¡å·é‡çš„ä½¿ç”¨æ–¹å¼ã€‚è¿›å…¥å®šæ—¶å™¨çš„å›è°ƒåï¼Œæˆ‘è®¾ç½®äº†ä¸€ä¸ªé™æ€å˜é‡æ¥è®°å½•ä¸»é˜Ÿåˆ—æ˜¯å¦æ‰§è¡Œå®Œæˆã€‚</p></li><li><p>æˆ‘ä»¬åˆ¤æ–­å½“å‰runloopçš„çŠ¶æ€æ˜¯å¦ä¸ºkCFRunLoopBeforeWaitingï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆæ˜¯ç”¨æ¥å¼¥è¡¥å‰é¢é‚£ä¸ªæ–¹æ¡ˆï¼Œå¦‚æœä¸»çº¿ç¨‹æ­¤æ—¶æ²¡æœ‰é˜»å¡ä½ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå‘main QueueæŠ›ä¸€ä¸ªblockï¼Œçœ‹å®ƒæ˜¯å¦èƒ½å¤ŸæˆåŠŸæ‰§è¡Œï¼Œå¦‚æœæˆåŠŸæ‰§è¡Œï¼Œè¯´æ˜ä¸»çº¿ç¨‹æ²¡æœ‰é˜»å¡ä½ï¼Œå¦‚æœå·²ç»è¢«é˜»å¡ä½ï¼Œé‚£æˆ‘æŠ›è¿‡å»çš„blockæ˜¯è‚¯å®šä¸ä¼šè¢«æ‰§è¡Œçš„ã€‚</p></li><li><p>ä¸‹é¢çš„ä»£ç å°±æ˜¯ä¸€äº›è¾…åŠ©æ“ä½œï¼Œå½“ä¿¡å·é‡è¶…è¿‡50æ¯«ç§’ï¼ŒæŠ›ç»™ä¸»çº¿ç¨‹çš„blockæ²¡æœ‰æ‰§è¡Œï¼Œé‚£ä¹ˆè¯´æ˜æ­¤æ—¶å°±æœ‰ä¸€äº›é˜»å¡äº†ï¼Œè¿”å›ä¸€ä¸ªé0æ•°ï¼Œå¹¶è®¾ç½® exä¸ºNOï¼Œä»è€Œåœ¨ä¸‹ä¸€æ¬¡å®šæ—¶å™¨å›è°ƒåˆ°æ¥æ—¶è¿›è¡Œä¸ŠæŠ¥</p></li></ul>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-UIKit-Layer-Shadowé˜´å½±</title>
      <link href="/2017/11/22/OC/Kit/Shadow%E9%98%B4%E5%BD%B1/"/>
      <content type="html"><![CDATA[<ul><li>shadowColor:é˜´å½±é¢œè‰²,å¯è®¾ç½®é€æ˜åº¦ç­‰.</li><li>shadowOffset:åç§»é‡.,xyè¡¨ç¤ºviewå·¦ä¸Šè§’,widthè¡¨ç¤ºé˜´å½±ä¸xçš„åç§»é‡,heightè¡¨ç¤ºé˜´å½±ä¸yå€¼çš„åç§»é‡</li><li>shadowOpacity = 0.4//é˜´å½±é€æ˜åº¦,é»˜è®¤ä¸º0åˆ™çœ‹ä¸åˆ°é˜´å½±.å› æ­¤è¦çœ‹åˆ°é˜´å½±è¿™ä¸ªå€¼å¿…é¡»å¤§äº0,shadowColorçš„é€æ˜åº¦ä¹Ÿè¦å¤§äº0</li><li>shadowRadius:5.æ¨¡ç³Šè®¡ç®—çš„åŠå¾„,å–å¹³å‡å€¼çš„åŠå¾„,è®¾ç½®ä¸º0çš„è¯åˆ™ä¸ºä¸€ä¸ªçŸ©å½¢å—.</li><li>æ¨¡ç³Šåº¦çš„è§£é‡Š:æ¯ä¸€ä¸ªåƒç´ å–å¹³å‡å€¼,åˆ†æ¯çš„å–å€¼èŒƒå›´,è¶Šå¤§è¶Šæ¨¡ç³Š.æ„Ÿè§‰è¿™ç¯‡æ–‡ç« è®²çš„æ¯”è¾ƒå®¹æ˜“æ‡‚<br>(<a href="http://www.dongcoder.com/detail-22914.html" target="_blank" rel="external">http://www.dongcoder.com/detail-22914.html</a>).</li><li>æ³¨æ„:å¦‚æœclipsToBoundsè®¾ç½®ä¸ºYES,åˆ™é˜´å½±æ•ˆæœæ¶ˆå¤±</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">let layer = view.layer</div><div class="line">      layer.shadowColor = UIColor.black.cgColor//é˜´å½±é¢œè‰²</div><div class="line">      layer.shadowOffset = CGSize(width: 10, height: 10)//widthè¡¨ç¤ºé˜´å½±ä¸xçš„ä¾¿å®œé‡,heightè¡¨ç¤ºé˜´å½±ä¸yå€¼çš„åç§»é‡</div><div class="line">      layer.shadowOpacity = 0.4//é˜´å½±é€æ˜åº¦,é»˜è®¤ä¸º0åˆ™çœ‹ä¸åˆ°é˜´å½±</div><div class="line">      layer.shadowRadius = 5;</div></pre></td></tr></table></figure><p><a href="http://blog.csdn.net/taishanduba/article/details/52611502" target="_blank" rel="external">Go!</a></p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> UIKit </category>
          
          <category> Layer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> UIKit </tag>
            
            <tag> Layer </tag>
            
            <tag> Shadow </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-RunTime-æ–¹æ³•äº¤æ¢/æ‹¦æˆªåŸºç¡€ä½¿ç”¨</title>
      <link href="/2017/11/22/OC/Grammar/iOS-RunTime-%E6%96%B9%E6%B3%95%E4%BA%A4%E6%8D%A2-%E6%8B%A6%E6%88%AA%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/"/>
      <content type="html"><![CDATA[<h1 id="RunTimeçš„æ¶ˆæ¯æœºåˆ¶"><a href="#RunTimeçš„æ¶ˆæ¯æœºåˆ¶" class="headerlink" title="RunTimeçš„æ¶ˆæ¯æœºåˆ¶"></a>RunTimeçš„æ¶ˆæ¯æœºåˆ¶</h1><p><a href="https://juejin.im/post/59e006116fb9a0450a665af2" target="_blank" rel="external">å‚è€ƒé“¾æ¥</a></p><blockquote><p>Objective-Cçš„æ–¹æ³•è°ƒç”¨æ˜¯å±äºæ¶ˆæ¯ä¼ é€çš„æœºåˆ¶<br>æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªisaçš„ç»“æ„ä½“æŒ‡é’ˆ<br>åœ¨è¿™ä¸ªç»“æ„ä½“é‡Œ, å¾—åˆ°æŒ‡å®šç±»çš„æ‰€æœ‰å±æ€§, æ‰€æœ‰æ–¹æ³•çš„åˆ—è¡¨, ä¹Ÿå¯ä»¥çŸ¥çˆ¶ç±»æ˜¯ä»€ä¹ˆâ€¦</p></blockquote><h2 id="æ–°å»ºRTMsgModel"><a href="#æ–°å»ºRTMsgModel" class="headerlink" title="æ–°å»ºRTMsgModel"></a>æ–°å»ºRTMsgModel</h2><blockquote><p>RTMsgModel.h</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@interface RTMsgModel : NSObject</div><div class="line">- (void)ff_post;</div><div class="line">- (void)ff_getWithCount:(NSInteger)count;</div></pre></td></tr></table></figure><blockquote><p>RTMsgModel.m</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">- (void)ff_post</div><div class="line">&#123;</div><div class="line">   NSLog(@&quot;è¢«è°ƒç”¨äº†: %@, å½“å‰å¯¹è±¡ä¸º: %@&quot;, NSStringFromClass([self class]), self);</div><div class="line">&#125;</div><div class="line">- (void)ff_getWithCount:(NSInteger)count</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;è¢«%ldäººè°ƒç”¨äº†&quot;, count);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æµ‹è¯•æ¶ˆæ¯æœºåˆ¶"><a href="#æµ‹è¯•æ¶ˆæ¯æœºåˆ¶" class="headerlink" title="æµ‹è¯•æ¶ˆæ¯æœºåˆ¶"></a>æµ‹è¯•æ¶ˆæ¯æœºåˆ¶</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//</div><div class="line">//  ViewController.m</div><div class="line">//  Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª</div><div class="line">//</div><div class="line">//  Created by RN on 17/11/22.</div><div class="line">//  Copyright Â© 2017å¹´ YueKekui. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &quot;ViewController.h&quot;</div><div class="line">#import &quot;RTMsgModel.h&quot;</div><div class="line">#import &lt;objc/message.h&gt;</div><div class="line">@interface ViewController ()</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    [self show_runTimeMsg];</div><div class="line">&#125;</div><div class="line">#pragma mark - RunTimeçš„æ¶ˆæ¯æœºåˆ¶</div><div class="line">/**</div><div class="line"> * @brief:  RunTimeçš„æ¶ˆæ¯æœºåˆ¶</div><div class="line"> *</div><div class="line"> *</div><div class="line"> *</div><div class="line"> * @attentionï¼š Xcode ä¼šè‡ªåŠ¨å±è”½é€šè¿‡objc_msgSendåˆ›å»ºå¯¹è±¡, æˆ‘ä»¬å¯ä»¥å»åˆ°å·¥ç¨‹é‡Œè®¾ç½®</div><div class="line"> *               Build Setting -&gt; Enable Strict Checking of objc_msgSend Calls æ”¹æˆNo</div><div class="line"> */</div><div class="line">- (void)show_runTimeMsg</div><div class="line">&#123;</div><div class="line">    //1.objc_getClass</div><div class="line">    Class getClass = objc_getClass(&quot;RTMsgModel&quot;);</div><div class="line">    NSLog(@&quot;Get The Class is: %@&quot;, getClass);</div><div class="line">    </div><div class="line"></div><div class="line">    //2.objc_msgSend</div><div class="line">    RTMsgModel *messageModel = objc_msgSend(getClass, @selector(alloc));</div><div class="line">    </div><div class="line">    NSLog(@&quot;alloc Object: %@&quot;, messageModel);</div><div class="line">    </div><div class="line">    // åœ¨ä¸è°ƒç”¨initæ–¹æ³•, å¯ä»¥é€šè¿‡å‘æ¶ˆæ¯è°ƒç”¨æƒ³ç”¨çš„æ–¹æ³•, è¿™é‡Œè°ƒç”¨æ²¡æœ‰åœ¨.hæ–‡ä»¶é‡Œå£°æ˜çš„æ–¹æ³•ä¼šè­¦å‘Šè¯¥æ–¹æ³•æ²¡æœ‰å£°æ˜</div><div class="line">    objc_msgSend(messageModel, @selector(ff_post));</div><div class="line">    </div><div class="line">    messageModel = objc_msgSend(messageModel, @selector(init));</div><div class="line">    </div><div class="line">    NSLog(@&quot;init Object: %@&quot;, messageModel);</div><div class="line">    </div><div class="line">    </div><div class="line">    objc_msgSend(messageModel, @selector(ff_post));</div><div class="line">    </div><div class="line">    // è¿˜æœ‰å¦å¤–ä¸€ç§å†™æ³•, å°±æ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½é›†åˆåœ¨ä¸€èµ·, ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„[[NSObject alloc] init];çš„åŸå‹</div><div class="line">    RTMsgModel *messageModelTwo = objc_msgSend(objc_msgSend(objc_getClass(&quot;RTMsgModel&quot;), @selector(alloc)), @selector(init));</div><div class="line">    objc_msgSend(messageModelTwo, @selector(ff_getWithCount:), 5);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure><h2 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">2017-11-22 12:36:16.232 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] Get The Class is: RTMsgModel</div><div class="line">2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] alloc Object: &lt;RTMsgModel: 0x600000003680&gt;</div><div class="line">2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] è¢«è°ƒç”¨äº†: RTMsgModel, å½“å‰å¯¹è±¡ä¸º: &lt;RTMsgModel: 0x600000003680&gt;</div><div class="line">2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] init Object: &lt;RTMsgModel: 0x600000003680&gt;</div><div class="line">2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] è¢«è°ƒç”¨äº†: RTMsgModel, å½“å‰å¯¹è±¡ä¸º: &lt;RTMsgModel: 0x600000003680&gt;</div><div class="line">2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] è¢«5äººè°ƒç”¨äº†</div></pre></td></tr></table></figure><h1 id="RunTimeæ–¹æ³•äº¤æ¢"><a href="#RunTimeæ–¹æ³•äº¤æ¢" class="headerlink" title="RunTimeæ–¹æ³•äº¤æ¢"></a>RunTimeæ–¹æ³•äº¤æ¢</h1><blockquote><p>å»ºä¸€ä¸ªç±»RunTimeMethodModel.h</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line">@interface RunTimeMethodModel : NSObject</div><div class="line">@property (nonatomic, copy) NSString *cl_height;</div><div class="line">@property (nonatomic, copy) NSString *cl_weight;</div><div class="line"></div><div class="line">- (NSString *)cl_height;</div><div class="line">- (NSString *)cl_weight;</div><div class="line">@end</div></pre></td></tr></table></figure><blockquote><p>RunTimeMethodModel.m</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">- (NSString *)cl_height &#123;</div><div class="line">    return @&quot;æˆ‘èº«é«˜180&quot;;</div><div class="line">&#125;</div><div class="line">- (NSString *)cl_weight &#123;</div><div class="line">    return @&quot;æˆ‘ä½“é‡280&quot;;</div><div class="line">   &#125;</div></pre></td></tr></table></figure><h2 id="æµ‹è¯•äº¤æ¢æ–¹æ³•"><a href="#æµ‹è¯•äº¤æ¢æ–¹æ³•" class="headerlink" title="æµ‹è¯•äº¤æ¢æ–¹æ³•"></a>æµ‹è¯•äº¤æ¢æ–¹æ³•</h2><blockquote><p>æ‰§è¡Œæ–¹æ³•äº¤æ¢</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">RunTimeMethodModel *methodModel = [[RunTimeMethodModel alloc] init];</div><div class="line"></div><div class="line"> NSLog(@&quot;èº«é«˜: %@&quot;, methodModel.cl_height);</div><div class="line"> NSLog(@&quot;ä½“é‡: %@&quot;, methodModel.cl_weight);</div><div class="line"></div><div class="line"> Method methodOne = class_getInstanceMethod([methodModel class], @selector(cl_height));</div><div class="line"> Method methodTwo = class_getInstanceMethod([methodModel class], @selector(cl_weight));</div><div class="line"></div><div class="line"> method_exchangeImplementations(methodOne, methodTwo);</div><div class="line"></div><div class="line"> NSLog(@&quot;æ‰“å°çš„å†…å®¹: %@&quot;, [methodModel cl_height]);</div></pre></td></tr></table></figure><h2 id="æ‰“å°-1"><a href="#æ‰“å°-1" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">èº«é«˜: æˆ‘èº«é«˜180</div><div class="line">ä½“é‡: æˆ‘ä½“é‡280 </div><div class="line">æ‰“å°çš„å†…å®¹: æˆ‘ä½“é‡280</div></pre></td></tr></table></figure><h2 id="æ³¨æ„ä¸€ç‚¹"><a href="#æ³¨æ„ä¸€ç‚¹" class="headerlink" title="æ³¨æ„ä¸€ç‚¹"></a>æ³¨æ„ä¸€ç‚¹</h2><p><strong><em>æ³¨æ„ä¸€ç‚¹, ç”±äºè¿™é‡Œçš„ViewControllerä¼šé”€æ¯, ä½†method_exchangeImplementationsä¼šä¸€ç›´å­˜åœ¨, å†æ¬¡è¿›æ¥çš„æ—¶å€™, å°±ä¼šå†æ¬¡æ ¹æ®ä¸Šæ¬¡äº¤æ¢è¿‡çš„é¡ºåºå†æ¬¡äº¤æ¢</em></strong></p><blockquote><p>+loadäº¤æ¢æ–¹æ³•</p></blockquote><h3 id="loadäº¤æ¢æ–¹æ³•"><a href="#loadäº¤æ¢æ–¹æ³•" class="headerlink" title="+loadäº¤æ¢æ–¹æ³•"></a>+loadäº¤æ¢æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+ (void)load &#123;</div><div class="line"></div><div class="line">    Method methodOne = class_getInstanceMethod(self, @selector(cl_height));</div><div class="line">    Method methodTwo = class_getInstanceMethod(self, @selector(cl_weight));</div><div class="line"></div><div class="line">    method_exchangeImplementations(methodOne, methodTwo);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (NSString *)cl_height &#123;</div><div class="line"></div><div class="line">    return @&quot;æˆ‘èº«é«˜180&quot;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (NSString *)cl_weight &#123;</div><div class="line"></div><div class="line">    return @&quot;æˆ‘ä½“é‡280&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ‰“å°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">èº«é«˜: æˆ‘ä½“é‡280</div><div class="line"></div><div class="line">ä½“é‡: æˆ‘èº«é«˜180</div><div class="line"></div><div class="line">èº«é«˜: æˆ‘ä½“é‡280</div><div class="line"></div><div class="line">ä½“é‡: æˆ‘èº«é«˜180</div></pre></td></tr></table></figure><h3 id="initializeäº¤æ¢æ–¹æ³•"><a href="#initializeäº¤æ¢æ–¹æ³•" class="headerlink" title="+initializeäº¤æ¢æ–¹æ³•"></a>+initializeäº¤æ¢æ–¹æ³•</h3><blockquote><p>+loadè¿™ä¸ªæ–¹æ³•é‡Œçš„ç¡®æ˜¯å¯ä»¥ä¿è¯æ–¹æ³•äº¤æ¢åªæœ‰ä¸€æ¬¡, ä½†è¿™é‡Œæœ‰ä¸€ä¸ªå¼Šç«¯, å°±æ˜¯å½“ç¨‹åºä¸€è¿è¡Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªæ–¹æ³•äº¤æ¢äº†<br>+load: ç¨‹åºä¸€å¼€å§‹å°±ä¼šå»æ‰§è¡Œ, åªæ‰§è¡Œä¸€æ¬¡.<br>+initialize: å½“ç±»è¢«åˆå§‹åŒ–çš„æ—¶å€™ä¼šæ‰ä¼šå»æ‰§è¡Œ, è¯¥ç±»åªä¼šæ‰§è¡Œä¸€æ¬¡.</p><p>initialize<br>class_getInstanceMethod         è·å–å®ä¾‹æ–¹æ³•<br>method_exchangeImplementations  æ–¹æ³•äº¤æ¢</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+ (void)initialize </div><div class="line">+ &#123;</div><div class="line">    Method methodOne = class_getInstanceMethod(self, @selector(cl_height));</div><div class="line">    Method methodTwo = class_getInstanceMethod(self, @selector(cl_weight));</div><div class="line">    method_exchangeImplementations(methodOne, methodTwo);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (NSString *)cl_height &#123;</div><div class="line">    return @&quot;æˆ‘èº«é«˜180&quot;;</div><div class="line">&#125;</div><div class="line">- (NSString *)cl_weight &#123;</div><div class="line">    return @&quot;æˆ‘ä½“é‡280&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="RunTimeæ–¹æ³•æ‹¦æˆª"><a href="#RunTimeæ–¹æ³•æ‹¦æˆª" class="headerlink" title="RunTimeæ–¹æ³•æ‹¦æˆª"></a>RunTimeæ–¹æ³•æ‹¦æˆª</h1><blockquote><p>ä»åˆšåˆšæˆ‘ä»¬å°±çŸ¥é“, å¯ä»¥ä½¿ç”¨method_exchangeImplementationsäº¤æ¢ä¸¤ä¸ªæ–¹æ³•, ä½†åªåº”ç”¨åœ¨æœ¬ç±», ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹åˆ«çš„åº”</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@implementation BaseModel</div><div class="line">- (void)cl_logBaseModel &#123;</div><div class="line">    NSLog(@&quot;Base Model Log&quot;);</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation InterceptModel</div><div class="line">- (void)cl_logInterceptModel &#123;</div><div class="line">    NSLog(@&quot;Intercept You Method &quot;);</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure><blockquote><p>æœ€ç»ˆçš„å®ç°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+ (void)initialize &#123;</div><div class="line"></div><div class="line">    Method mehtodOne = class_getInstanceMethod([BaseModel class], @selector(cl_logBaseModel));</div><div class="line">    Method mehtodTwo = class_getInstanceMethod([InterceptModel class], @selector(cl_logInterceptModel));</div><div class="line"></div><div class="line">    method_exchangeImplementations(mehtodOne, mehtodTwo);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line"></div><div class="line">    self.view.backgroundColor = [UIColor whiteColor];</div><div class="line"></div><div class="line">    BaseModel *baseModel = [[BaseModel alloc] init];</div><div class="line"></div><div class="line">    [baseModel cl_logBaseModel];</div><div class="line">&#125;</div><div class="line">ã€‚</div></pre></td></tr></table></figure><blockquote><p>æ‰“å°ç»“æœ<br>å‘ç°æ–¹æ³•æ˜¯è¢«InterceptModelè¿™ä¸ªç±»æ‹¦æˆª, å¹¶ä¸”æ›¿æ¢äº†InterceptModelçš„æ–¹æ³•</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[InterceptModel cl_logInterceptModel] ç¬¬15è¡Œ Intercept You Method</div></pre></td></tr></table></figure><h1 id="ç±»æ–¹æ³•ä¹Ÿå¯ä»¥äº¤æ¢å’Œæ‹¦æˆª"><a href="#ç±»æ–¹æ³•ä¹Ÿå¯ä»¥äº¤æ¢å’Œæ‹¦æˆª" class="headerlink" title="ç±»æ–¹æ³•ä¹Ÿå¯ä»¥äº¤æ¢å’Œæ‹¦æˆª"></a>ç±»æ–¹æ³•ä¹Ÿå¯ä»¥äº¤æ¢å’Œæ‹¦æˆª</h1><blockquote><p>æ–°å¢ç±»æ–¹æ³•</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#import &quot;BaseModel.h&quot;</div><div class="line"></div><div class="line">@implementation BaseModel</div><div class="line"></div><div class="line">- (void)cl_logBaseModel &#123;</div><div class="line"></div><div class="line">    NSLog(@&quot;Base Model Log&quot;);</div><div class="line">&#125;</div><div class="line">+ (void)cl_logBaseModelClass &#123;</div><div class="line"></div><div class="line">    NSLog(@&quot;Base Model Class Log&quot;);</div><div class="line">&#125;</div><div class="line">@end</div><div class="line">-----------------------------------------------</div><div class="line">@implementation InterceptModel</div><div class="line"></div><div class="line">- (void)cl_logInterceptModel &#123;</div><div class="line"></div><div class="line">    NSLog(@&quot;Intercept You Method &quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (void)cl_logInterceptModelClass &#123;</div><div class="line"></div><div class="line">    NSLog(@&quot;Intercept Class You Method &quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure><blockquote><p>æœ€ç»ˆå®ç°<br>class_getInstanceMethod è·å–ç±»æ–¹æ³•<br>method_exchangeImplementations</p><p>initialize<br> class_getInstanceMethod         å®ä¾‹æ–¹æ³•<br> class_getClassMethod            ç±»æ–¹æ³•<br> method_exchangeImplementations  äº¤æ¢æ–¹æ³•</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+ (void)initialize &#123;</div><div class="line">    // æ‹¦æˆªå®ä¾‹æ–¹æ³•</div><div class="line">    Method mehtodOne = class_getInstanceMethod([BaseModel class], @selector(cl_logBaseModel));</div><div class="line">    Method mehtodTwo = class_getInstanceMethod([InterceptModel class], @selector(cl_logInterceptModel));</div><div class="line">    method_exchangeImplementations(mehtodOne, mehtodTwo);</div><div class="line"></div><div class="line">    // æ‹¦æˆªç±»æ–¹æ³•</div><div class="line">    Method classMehtodOne = class_getClassMethod([BaseModel class], @selector(cl_logBaseModelClass));</div><div class="line">    Method classMehtodTwo = class_getClassMethod([InterceptModel class], @selector(cl_logInterceptModelClass));</div><div class="line"></div><div class="line">    method_exchangeImplementations(classMehtodOne, classMehtodTwo);</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">self.view.backgroundColor = [UIColor whiteColor];</div><div class="line"></div><div class="line">BaseModel *baseModel = [[BaseModel alloc] init];</div><div class="line"></div><div class="line">[baseModel cl_logBaseModel];</div><div class="line"></div><div class="line">[BaseModel cl_logBaseModelClass];</div></pre></td></tr></table></figure><blockquote><p>æ‰“å°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Intercept You Method </div><div class="line"></div><div class="line">Intercept Class You Method</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> RunTime </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RunTime </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-UIKit-UIScrollViewåŸºç¡€ç”¨æ³•</title>
      <link href="/2017/11/22/OC/Kit/UIScrollView%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95/"/>
      <content type="html"><![CDATA[<h1 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    _scrollView.backgroundColor = [UIColor redColor];</div><div class="line">    //è®¾ç½®contentSizeï¼ˆå¿…é¡»è®¾ç½®ï¼‰</div><div class="line">    _scrollView.contentSize = CGSizeMake(400, 667);</div><div class="line">    //åç§»é‡</div><div class="line">    _scrollView.contentOffset = CGPointMake(100, 0);</div><div class="line">    //contentInset(åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šè°ƒæ•´å†…å®¹æ»šåŠ¨åŒºåŸŸçš„å¤§å°)</div><div class="line">    //_scrollView.contentInset = UIEdgeInsetsMake(-100, 0, 0, 0);</div><div class="line">    </div><div class="line">    //é”å®šæ–¹å‘(å½“ç³»ç»Ÿè¯†åˆ«æ»šåŠ¨æ–¹å‘çš„æ—¶å€™ï¼Œä¼šæŠŠå¦å¤–ä¸€ä¸ªæ–¹å‘é”å®šï¼Œå¦‚æœè¯†åˆ«ä¸äº†ï¼Œå°±ä¸é”å®šæ–¹å‘)</div><div class="line">    _scrollView.directionalLockEnabled = YES;</div><div class="line">    //åå¼¹æ•ˆæœ(é»˜è®¤ä¸ºyes)</div><div class="line">    _scrollView.bounces = YES;</div><div class="line">    //é»˜è®¤æ˜¯noï¼Œå‡å¦‚æ˜¯yeså¹¶ä¸”bouncesæ˜¯yes,ç”šè‡³å¦‚æœå†…å®¹å¤§å°å°äºboundsçš„æ—¶å€™ï¼Œå…è®¸å‚ç›´æ‹–åŠ¨</div><div class="line">    _scrollView.alwaysBounceVertical = YES;</div><div class="line">    //åˆ†é¡µï¼ˆé»˜è®¤noï¼‰</div><div class="line">    _scrollView.pagingEnabled = YES;</div><div class="line">    //æ»šåŠ¨(é»˜è®¤yeså…è®¸æ»šåŠ¨)</div><div class="line">    _scrollView.scrollEnabled = YES;</div><div class="line">    </div><div class="line">    //æ»šåŠ¨æ¡</div><div class="line">    //showsHorizontalScrollIndicatoré»˜è®¤yes æ˜¾ç¤º</div><div class="line">    _scrollView.showsHorizontalScrollIndicator = NO;</div><div class="line">    //æ»šåŠ¨æ¡æ»šåŠ¨çš„èŒƒå›´(å‚ç›´æ»šåŠ¨æ¡æ»šåŠ¨èŒƒå›´ä¸Šä¸‹å„ç¼©å°50)</div><div class="line">    _scrollView.scrollIndicatorInsets = UIEdgeInsetsMake(50, 0, 50, 0);</div><div class="line">    //æ ·å¼</div><div class="line">    _scrollView.indicatorStyle = UIScrollViewIndicatorStyleWhite;</div><div class="line">    // Do any additional setup after loading the view, typically from a nib.</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    //åˆ›å»ºå¹¶æ·»åŠ scrollView</div><div class="line">    UIScrollView *scrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(100, 200, 200, 300)];</div><div class="line">    [self.view addSubview:scrollView];</div><div class="line">    </div><div class="line">    scrollView.backgroundColor = [UIColor redColor];</div><div class="line">    //è®¾ç½®å†…å®¹è§†å›¾çš„å¤§å°</div><div class="line">    scrollView.contentSize = CGSizeMake(375, 667);</div><div class="line">    //è®¾ç½®å†…å®¹è§†å›¾</div><div class="line">    UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 375, 667)];</div><div class="line">    imageView.image = [UIImage imageNamed:@&quot;new_feature_1&quot;];</div><div class="line">    [scrollView addSubview:imageView];</div><div class="line">    </div><div class="line">    _imageView = imageView;</div><div class="line">    //è®¾ç½®ä»£ç†</div><div class="line">    scrollView.delegate = self;</div><div class="line">    </div><div class="line">    </div><div class="line">    //[self performSelector:@selector(changeScrollViewContentOffSet:) withObject:scrollView afterDelay:3];</div><div class="line">    </div><div class="line">    </div><div class="line">    //è®¾ç½®ç¼©æ”¾å†…å®¹è§†å›¾çš„ç¼©æ”¾æ¯”ä¾‹èŒƒå›´</div><div class="line">    scrollView.minimumZoomScale = 0.5;</div><div class="line">    scrollView.maximumZoomScale = 1.5;</div><div class="line">    //å½“ç¼©æ”¾æ¯”ä¾‹è¶…å‡ºèŒƒå›´ä¹‹åï¼Œæ˜¯å¦æœ‰åå¼¹æ•ˆæœï¼ˆno:ä¸ä¼šè¶…å‡ºèŒƒå›´ï¼Œyes:è¶…å‡ºèŒƒå›´ä¹‹ååå¼¹ï¼‰</div><div class="line">    scrollView.bouncesZoom = YES;</div><div class="line">    </div><div class="line">    //å±æ€§è®¾ç½®æ»šåŠ¨è‡³é¡¶éƒ¨</div><div class="line">    //scrollView.scrollsToTop = YES;</div><div class="line">    // Do any additional setup after loading the view, typically from a nib.</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(void)changeScrollViewContentOffSet:(UIScrollView *)scrollView&#123;</div><div class="line">    [scrollView setContentOffset:CGPointMake(0, 300) animated:YES];</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">#if 0</div><div class="line">#pragma mark -UIScrollViewDelegate æ»šåŠ¨</div><div class="line">//å½“scrollViewæ»šåŠ¨çš„æ—¶å€™ï¼Œä¸åœè°ƒç”¨ï¼ˆå¯ä»¥ç›‘å¬scrollViewçš„contentOffsetï¼‰</div><div class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView&#123;</div><div class="line">    //NSLog(@&quot;%@&quot;,NSStringFromCGPoint(scrollView.contentOffset));</div><div class="line">    //NSLog(@&quot;deceleratingï¼š%d&quot;,scrollView.decelerating);</div><div class="line">    //NSLog(@&quot;draggingï¼š%d&quot;,scrollView.dragging);</div><div class="line">    //NSLog(@&quot;tracking:%d&quot;,scrollView.tracking);</div><div class="line">    NSLog(@&quot;%s&quot;,__func__);</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">//å¼€å§‹æ‹–åŠ¨çš„æ—¶å€™è°ƒç”¨</div><div class="line">- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView&#123;</div><div class="line">    //NSLog(@&quot;tracking:%d&quot;,scrollView.tracking);</div><div class="line">    NSLog(@&quot;%s&quot;,__func__);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// called on finger up if the user dragged. velocity is in points/millisecond. targetContentOffset may be changed to adjust where the scroll view comes to rest</div><div class="line">//å°†è¦ç»“æŸæ‹–åŠ¨</div><div class="line">- (void)scrollViewWillEndDragging:(UIScrollView *)scrollView withVelocity:(CGPoint)velocity targetContentOffset:(inout CGPoint *)targetContentOffset &#123;</div><div class="line">//    NSLog(@&quot;velocity:%@&quot;,NSStringFromCGPoint(velocity));</div><div class="line">//    NSLog(@&quot;targetContentOffset:%@&quot;,NSStringFromCGPoint(*targetContentOffset));</div><div class="line">    //å¼ºåˆ¶è®¾ç½®scrollViewçš„åç§»é‡</div><div class="line">    //*targetContentOffset = CGPointMake(0, 200);</div><div class="line">    NSLog(@&quot;%s&quot;,__func__);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// å·²ç»ç»“æŸæ‹–åŠ¨</div><div class="line">- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate&#123;</div><div class="line">    //NSLog(@&quot;draggingï¼š%d&quot;,scrollView.dragging);</div><div class="line">    NSLog(@&quot;%s&quot;,__func__);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//å°†è¦å¼€å§‹å‡é€Ÿ</div><div class="line">- (void)scrollViewWillBeginDecelerating:(UIScrollView *)scrollView&#123;</div><div class="line">    //NSLog(@&quot;deceleratingï¼š%d&quot;,scrollView.decelerating);</div><div class="line">    NSLog(@&quot;%s&quot;,__func__);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//å‡é€Ÿå®Œæˆï¼ˆåœæ­¢ï¼‰</div><div class="line">- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView&#123;</div><div class="line">    //NSLog(@&quot;contentOffset:%@&quot;,NSStringFromCGPoint(scrollView.contentOffset));</div><div class="line">    NSLog(@&quot;%s&quot;,__func__);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// called when setContentOffset/scrollRectVisible:animated: finishes. not called if not animating</div><div class="line">- (void)scrollViewDidEndScrollingAnimation:(UIScrollView *)scrollView&#123;</div><div class="line">    NSLog(@&quot;%s&quot;,__func__);</div><div class="line">&#125;</div><div class="line">#endif</div><div class="line">#pragma mark -UIScrollViewDelegate(ç¼©æ”¾)</div><div class="line">//æŒ‡å®šç¼©æ”¾è§†å›¾</div><div class="line">- (nullable UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView&#123;</div><div class="line">    NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming);</div><div class="line">    return _imageView;</div><div class="line">&#125;</div><div class="line">//ç¼©æ”¾ä¹‹å‰è°ƒç”¨</div><div class="line">- (void)scrollViewWillBeginZooming:(UIScrollView *)scrollView withView:(nullable UIView *)view &#123;</div><div class="line">    NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming);</div><div class="line">&#125;</div><div class="line">//å®Œæˆç¼©æ”¾</div><div class="line">- (void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(nullable UIView *)view atScale:(CGFloat)scale&#123;</div><div class="line">    NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming);</div><div class="line">&#125;</div><div class="line">//ç¼©æ”¾æ—¶è°ƒç”¨</div><div class="line">- (void)scrollViewDidZoom:(UIScrollView *)scrollView&#123;</div><div class="line">    NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming);</div><div class="line">&#125;</div><div class="line"></div><div class="line">#pragma mark -UIScrollViewDelegate(æ»šåŠ¨è‡³é¡¶éƒ¨)</div><div class="line">//å…è®¸æ»šåŠ¨è‡³é¡¶éƒ¨</div><div class="line">- (BOOL)scrollViewShouldScrollToTop:(UIScrollView *)scrollView&#123;</div><div class="line">    return YES;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//å·²ç»æ»šåŠ¨è‡³é¡¶éƒ¨</div><div class="line">- (void)scrollViewDidScrollToTop:(UIScrollView *)scrollView&#123;</div><div class="line">    NSLog(@&quot;åŠ è½½æ–°æ•°æ®ï¼Œåˆ·æ–°ç•Œé¢&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> UIKit </category>
          
          <category> UIScrollView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> UIKit </tag>
            
            <tag> UIScrollView </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS_Appè·³è½¬è®¾ç½®</title>
      <link href="/2017/11/21/OC/Func/iOS-Func-App%E8%B7%B3%E8%BD%AC%E8%AE%BE%E7%BD%AE/"/>
      <content type="html"><![CDATA[<h1 id="è·³åˆ°æ›´å¤šè®¾ç½®ç•Œé¢"><a href="#è·³åˆ°æ›´å¤šè®¾ç½®ç•Œé¢" class="headerlink" title="è·³åˆ°æ›´å¤šè®¾ç½®ç•Œé¢"></a>è·³åˆ°æ›´å¤šè®¾ç½®ç•Œé¢</h1><p>é™¤äº†è·³åˆ°WiFiè®¾ç½®ç•Œé¢ï¼Œèƒ½ä¸èƒ½è·³åˆ°å…¶ä»–çš„è®¾ç½®ç•Œé¢å‘¢ï¼Ÿæ¯”å¦‚ï¼šå®šä½æœåŠ¡ã€FaceTimeã€éŸ³ä¹ç­‰ç­‰ã€‚éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸€èµ·æ¥çœ‹çœ‹å¦‚ä½•å®ç°çš„</p><p>è·³åˆ°è¿™äº›ç•Œé¢çš„å‚æ•°é…ç½®ï¼š</p><p>##å®šä½æœåŠ¡</p><blockquote><p>ç”¨æˆ·å…³é—­äº†å®šä½,APPé‡Œé¢æç¤ºæ‰“å¼€å®šä½æœåŠ¡<br>ç‚¹å‡»åˆ°è®¾ç½®ç•Œé¢è®¾ç½®ï¼Œç›´æ¥è·³åˆ°å®šä½æœåŠ¡è®¾ç½®ç•Œé¢=</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//å®šä½æœåŠ¡è®¾ç½®ç•Œé¢</div><div class="line">NSURL *url = [NSURL URLWithString:@&quot;prefs:root=LOCATION_SERVICES&quot;];</div><div class="line">if ([[UIApplication sharedApplication] canOpenURL:url])</div><div class="line">&#123;</div><div class="line">    [[UIApplication sharedApplication] openURL:url];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="FaceTim"><a href="#FaceTim" class="headerlink" title="FaceTim"></a>FaceTim</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//FaceTimeè®¾ç½®ç•Œé¢</div><div class="line">NSURL *url = [NSURL URLWithString:@&quot;prefs:root=FACETIME&quot;];</div><div class="line">if ([[UIApplication sharedApplication] canOpenURL:url])</div><div class="line">&#123;</div><div class="line">    [[UIApplication sharedApplication] openURL:url];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="éŸ³ä¹"><a href="#éŸ³ä¹" class="headerlink" title="éŸ³ä¹"></a>éŸ³ä¹</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//éŸ³ä¹è®¾ç½®ç•Œé¢</div><div class="line">NSURL *url = [NSURL URLWithString:@&quot;prefs:root=MUSIC&quot;];</div><div class="line">if ([[UIApplication sharedApplication] canOpenURL:url])</div><div class="line">&#123;</div><div class="line">    [[UIApplication sharedApplication] openURL:url];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="è“ç‰™è®¾ç½®ç•Œé¢"><a href="#è“ç‰™è®¾ç½®ç•Œé¢" class="headerlink" title="è“ç‰™è®¾ç½®ç•Œé¢"></a>è“ç‰™è®¾ç½®ç•Œé¢</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//è“ç‰™è®¾ç½®ç•Œé¢</div><div class="line">NSURL *url = [NSURL URLWithString:@&quot;prefs:root=Bluetooth&quot;];</div><div class="line">if ([[UIApplication sharedApplication] canOpenURL:url])</div><div class="line">&#123;</div><div class="line">   [[UIApplication sharedApplication] openURL:url];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="iCloudè®¾ç½®ç•Œé¢"><a href="#iCloudè®¾ç½®ç•Œé¢" class="headerlink" title="iCloudè®¾ç½®ç•Œé¢"></a>iCloudè®¾ç½®ç•Œé¢</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//iCloudè®¾ç½®ç•Œé¢</div><div class="line">NSURL *url = [NSURL URLWithString:@&quot;prefs:root=CASTLE&quot;];</div><div class="line">if ([[UIApplication sharedApplication] canOpenURL:url]</div><div class="line">&#123;</div><div class="line">   [[UIApplication sharedApplication] openURL:url];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><p>è®¾ç½®ç•Œé¢åªéœ€è¦prefs:root=åé¢çš„å€¼å³å¯<br>å¯ä»¥è·³åˆ°è¿™äº›ç•Œé¢çš„å‚æ•°é…ç½®ï¼šr</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">About â€” prefs:root=General&amp;path=About</div><div class="line"></div><div class="line">Accessibility â€” prefs:root=General&amp;path=ACCESSIBILITY</div><div class="line"></div><div class="line">Airplane Mode On â€” prefs:root=AIRPLANE_MODE</div><div class="line"></div><div class="line">Auto-Lock â€” prefs:root=General&amp;path=AUTOLOCK</div><div class="line"></div><div class="line">Brightness â€” prefs:root=Brightness</div><div class="line"></div><div class="line">Bluetooth â€” prefs:root=General&amp;path=Bluetooth</div><div class="line"></div><div class="line">Date &amp; Time â€” prefs:root=General&amp;path=DATE_AND_TIME</div><div class="line"></div><div class="line">FaceTime â€” prefs:root=FACETIME</div><div class="line"></div><div class="line">General â€” prefs:root=General</div><div class="line"></div><div class="line">Keyboard â€” prefs:root=General&amp;path=Keyboard</div><div class="line"></div><div class="line">iCloud â€” prefs:root=CASTLE</div><div class="line"></div><div class="line">iCloud Storage &amp; Backup â€” prefs:root=CASTLE&amp;path=STORAGE_AND_BACKUP</div><div class="line"></div><div class="line">International â€” prefs:root=General&amp;path=INTERNATIONAL</div><div class="line"></div><div class="line">Location Services â€” prefs:root=LOCATION_SERVICES</div><div class="line"></div><div class="line">Music â€” prefs:root=MUSIC</div><div class="line"></div><div class="line">Music Equalizer â€” prefs:root=MUSIC&amp;path=EQ</div><div class="line"></div><div class="line">Music Volume Limit â€” prefs:root=MUSIC&amp;path=VolumeLimit</div><div class="line"></div><div class="line">Network â€” prefs:root=General&amp;path=Network</div><div class="line"></div><div class="line">Nike + iPod â€” prefs:root=NIKE_PLUS_IPOD</div><div class="line"></div><div class="line">Notes â€” prefs:root=NOTES</div><div class="line"></div><div class="line">Notification â€” prefs:root=NOTIFICATIONS_ID</div><div class="line"></div><div class="line">Phone â€” prefs:root=Phone</div><div class="line"></div><div class="line">Photos â€” prefs:root=Photos</div><div class="line"></div><div class="line">Profile â€” prefs:root=General&amp;path=ManagedConfigurationList</div><div class="line"></div><div class="line">Reset â€” prefs:root=General&amp;path=Reset</div><div class="line"></div><div class="line">Safari â€” prefs:root=Safari</div><div class="line"></div><div class="line">Siri â€” prefs:root=General&amp;path=Assistant</div><div class="line"></div><div class="line">Sounds â€” prefs:root=Sounds</div><div class="line"></div><div class="line">Software Update â€” prefs:root=General&amp;path=SOFTWARE_UPDATE_LINK</div><div class="line"></div><div class="line">Store â€” prefs:root=STORE</div><div class="line"></div><div class="line">Twitter â€” prefs:root=TWITTER</div><div class="line"></div><div class="line">Usage â€” prefs:root=General&amp;path=USAGE</div><div class="line"></div><div class="line">VPN â€” prefs:root=General&amp;path=Network/VPN</div><div class="line"></div><div class="line">Wallpaper â€” prefs:root=Wallpaper</div><div class="line"></div><div class="line">Wi-Fi â€” prefs:root=WIFI</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS_Safariè·³è½¬App</title>
      <link href="/2017/11/21/OC/Grammar/iOS-Safari-%E8%B7%B3%E8%BD%ACApp/"/>
      <content type="html"><![CDATA[<h1 id="Safariè·³è½¬åˆ°App"><a href="#Safariè·³è½¬åˆ°App" class="headerlink" title="Safariè·³è½¬åˆ°App"></a>Safariè·³è½¬åˆ°App</h1><p>##Appä¸­å®šä¹‰ä¸€ä¸ªURLåè®®</p><blockquote><p>TARGETS -&gt; info -&gt; URL Types -&gt; æ·»åŠ ä¸€ä¸ªURLåè®®</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS_Safari%E8%B7%B3%E8%BD%ACApp-001.png" alt="001"></p><blockquote><p>URL Schemeså­—æ®µå°±æ˜¯ä½ è¿™ä¸ªAPPçš„ç‰¹æ®Šæ ‡ç¤ºï¼Œ<br>indentifier:è¿™ä¸ªURLåè®®çš„æ ‡ç¤ºã€‚<br>ä¸€ä¸ªAPPå¯ä»¥æ‹¥æœ‰å¤šä¸ªURLåè®®<br>ä¸‹é¢çš„ä¸¤ä¸ªå­—æ®µå¯ä¸ºç©ºã€‚æœ€åå†è¿è¡Œä¸€ä¸‹ä½ çš„APPã€‚</p><h2 id="æµè§ˆé‡Œè®¿é—®"><a href="#æµè§ˆé‡Œè®¿é—®" class="headerlink" title="æµè§ˆé‡Œè®¿é—®"></a>æµè§ˆé‡Œè®¿é—®</h2><p>æ‰“å¼€Safariæµè§ˆå™¨ï¼Œåœ¨è¾“å…¥åœ¨åœ°å€æ è¾“å…¥ï¼šmyapp://<br>ç„¶åå›è½¦</p><h2 id="Safariè·³å›åˆ°APPæ—¶ä¼ ä¸€äº›å‚æ•°"><a href="#Safariè·³å›åˆ°APPæ—¶ä¼ ä¸€äº›å‚æ•°" class="headerlink" title="Safariè·³å›åˆ°APPæ—¶ä¼ ä¸€äº›å‚æ•°"></a>Safariè·³å›åˆ°APPæ—¶ä¼ ä¸€äº›å‚æ•°</h2><p>æ¯”å¦‚åœ¨Safariæµè§ˆå™¨çš„åœ°å€äº†è¾“å…¥ï¼šmyapp://myappTestï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•è·å–åˆ°è¯¥å‚æ•°ä¹‹åå°±çœ‹è‡ªå·±çš„æ“ä½œäº†</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">åœ¨appdelegate.mæ–‡ä»¶ä¸­å†™ä¸‹å¦‚ä¸‹æ–¹æ³•</div><div class="line">å¦‚æœiOSç‰ˆæœ¬ä½äº9.0ï¼Œä¼šåœ¨ä¸‹é¢æ–¹æ³•æ¥å—åˆ°åœ¨åœ°å€æ è¾“å…¥çš„å­—ç¬¦ä¸²</div><div class="line">- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation</div><div class="line">&#123;</div><div class="line">    [[[UIAlertView alloc] initWithTitle:[NSString stringWithFormat:@&quot;sourceApplication-&gt;%@&quot;, [url absoluteString]] message:nil delegate:nil cancelButtonTitle:@&quot;ok&quot; otherButtonTitles:nil] show];</div><div class="line">     return YES;</div><div class="line">&#125;</div><div class="line">å¦‚æœiOSç‰ˆæœ¬æ˜¯9.0åŠä»¥ä¸Šçš„ï¼Œä¼šåœ¨ä¸‹é¢æ–¹æ³•æ¥å—åˆ°åœ¨åœ°å€æ è¾“å…¥çš„å­—ç¬¦ä¸²</div><div class="line">- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;NSString *,id&gt; *)options</div><div class="line">&#123;</div><div class="line">     [[[UIAlertView alloc] initWithTitle:[NSString stringWithFormat:@&quot;openURL-&gt;%@&quot;, [url absoluteString]] message:nil delegate:nil cancelButtonTitle:@&quot;ok&quot; otherButtonTitles:nil] show];</div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Func </tag>
            
            <tag> è·³è½¬ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Func- Universal Linksé€šç”¨é“¾æ¥</title>
      <link href="/2017/11/21/OC/Func/iOS-Func-%20Universal%20Links%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5/"/>
      <content type="html"><![CDATA[<h1 id="Universal-Links"><a href="#Universal-Links" class="headerlink" title="Universal Links"></a>Universal Links</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><blockquote><p>iOS9ä¹‹å‰</p></blockquote><ul><li>iOS9ä¹‹å‰,å¯¹äºä»å„ç§ä»æµè§ˆå™¨,Safariã€UIWebViewæˆ–è€… WKWebViewä¸­å”¤é†’APPçš„éœ€æ±‚,æˆ‘ä»¬é€šå¸¸åªèƒ½ä½¿ç”¨scheme.é¦–å…ˆæ˜¯appä¸­æ³¨å†ŒæŸä¸ªscheme</li></ul><blockquote><p>åœ¨iOS 9ä»¥å</p></blockquote><ul><li>é€šè¿‡Universal Linkï¼Œå°†App ä¸ç½‘é¡µç«¯å»ºç«‹è¿æ¥æ¡¥ï¼Œå¯ä»¥ä»Safari æˆ–è€…å…¶ä»–å‰ç«¯æµè§ˆå™¨æ¥è¯†åˆ«å¹¶å”¤é†’Appï¼Œç”šè‡³æ˜¯å¾®ä¿¡ç¯å¢ƒä¸‹ä¹Ÿå¯ä»¥å†²ç ´éšœç¢</li></ul><p><a href="https://developer.apple.com/library/content/documentation/General/Conceptual/AppSearch/UniversalLinks.html#//apple_ref/doc/uid/TP40016308-CH12-SW2" target="_blank" rel="external">å®˜æ–¹çš„è¯´æ˜æ–‡æ¡£â€“&gt;</a></p><h2 id="Universal-Linkçš„ä¼˜ç‚¹"><a href="#Universal-Linkçš„ä¼˜ç‚¹" class="headerlink" title="Universal Linkçš„ä¼˜ç‚¹"></a>Universal Linkçš„ä¼˜ç‚¹</h2><ul><li><strong>å”¯ä¸€æ€§</strong>:</li><li><p>ä¸åƒè‡ªå®šä¹‰çš„scheme,å› ä¸ºå®ƒä½¿ç”¨æ ‡å‡†çš„http/httpsé“¾æ¥åˆ°ä½ çš„webç«™ç‚¹,æ‰€ä»¥å®ƒä¸ä¼šè¢«å…¶å®ƒçš„appæ‰€å£°æ˜.å¦å¤–,Custom URL scheme å› ä¸ºæ˜¯è‡ªå®šä¹‰çš„åè®®ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰å®‰è£… app çš„æƒ…å†µä¸‹æ˜¯æ— æ³•ç›´æ¥æ‰“å¼€çš„ï¼Œè€Œ universal links æœ¬èº«æ˜¯ä¸€ä¸ª HTTP/HTTPS é“¾æ¥ï¼Œæ‰€ä»¥æœ‰æ›´å¥½çš„å…¼å®¹æ€§</p></li><li><p><strong>å®‰å…¨</strong>:</p></li><li><p>å½“ç”¨æˆ·çš„æ‰‹æœºä¸Šå®‰è£…äº†ä½ çš„app,é‚£ä¹ˆiOSå°†å»ä½ çš„ç½‘ç«™ä¸Šå»ä¸‹è½½ä½ ä¸Šä¼ ä¸Šå»çš„è¯´æ˜æ–‡ä»¶(è¿™ä¸ªè¯´æ˜æ–‡ä»¶å£°æ˜äº†ä½ çš„appå¯ä»¥æ‰“å¼€å“ªäº›ç±»å‹çš„httpé“¾æ¥).å› ä¸ºåªæœ‰ä½ è‡ªå·±æ‰èƒ½ä¸Šä¼ æ–‡ä»¶åˆ°ä½ ç½‘ç«™çš„æ ¹ç›®å½•,æ‰€ä»¥ä½ çš„ç½‘ç«™å’Œä½ çš„appä¹‹é—´çš„å…³è”æ˜¯å®‰å…¨çš„.</p></li><li><p><strong>å¯å˜</strong>:</p></li><li><p>å½“ç”¨æˆ·æ‰‹æœºä¸Šæ²¡æœ‰å®‰è£…ä½ çš„appçš„æ—¶å€™,Universal Linksä¹Ÿèƒ½å¤Ÿå·¥ä½œ.å¦‚æœä½ æ„¿æ„,åœ¨æ²¡æœ‰å®‰è£…ä½ çš„appçš„æ—¶å€™,ç”¨æˆ·ç‚¹å‡»é“¾æ¥,ä¼šåœ¨safariä¸­å±•ç¤ºä½ ç½‘ç«™çš„å†…å®¹.</p></li><li><p><strong>ç®€å•</strong>:</p></li><li><p>ä¸€ä¸ªURLé“¾æ¥,å¯ä»¥åŒæ—¶ä½œç”¨äºç½‘ç«™å’Œap</p></li><li><p><strong>ç§æœ‰</strong></p></li><li>å…¶å®ƒappå¯ä»¥åœ¨ä¸éœ€è¦çŸ¥é“ä½ çš„appæ˜¯å¦å®‰è£…äº†çš„æƒ…å†µä¸‹å’Œä½ çš„appç›¸äº’é€šä¿¡</li></ul><h1 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h1><blockquote><p>åˆ†äº«é¡µé¢ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°åœ¨é¡µé¢çš„é¡¶ç«¯æˆ–è€…åº•éƒ¨é‡åˆ°æœ‰ã€æ‰“å¼€Appã€‘æˆ–è€…ã€ä¸‹è½½Appã€‘è¿™æ ·çš„æŒ‰é’®ã€‚</p><p>æ¯”è¾ƒå‹å¥½çš„äº§å“ï¼Œä¼šåšè®¾å¤‡è¯†åˆ«ï¼Œä»¥åŠæ£€æµ‹APPæ˜¯å¦å®‰è£…ï¼Œæ¥åšæ‰“å¼€æˆ–è€…ä¸‹è½½App çš„éœ€æ±‚<br>ä½†æ˜¯åœ¨å¾®ä¿¡ä¸­ï¼Œè¿™æ–¹é¢åšçš„æ¯”è¾ƒæ¶å¿ƒï¼Œå¾®ä¿¡ä¸‹é¢å‡ ä¹æ˜¯å…¨é¢å±è”½äº†å”¤èµ·åŸç”ŸApp çš„åŠŸèƒ½</p></blockquote><h1 id="Universal-Link-å®ç°"><a href="#Universal-Link-å®ç°" class="headerlink" title="Universal Link å®ç°"></a>Universal Link å®ç°</h1><h2 id="æ¡ä»¶"><a href="#æ¡ä»¶" class="headerlink" title="æ¡ä»¶"></a>æ¡ä»¶</h2><blockquote><p>åŸŸå</p></blockquote><ul><li>æœ‰ä¸€ä¸ªåŸŸå,ä¸”è¿™ä¸ªåŸŸåçš„ç½‘ç«™éœ€è¦æ”¯æŒhttps,ç„¶åæ‹¥æœ‰ç½‘ç«™çš„ä¸Šä¼ åˆ°æ ¹ç›®å½•çš„æƒé™(è¿™ä¸ªæƒé™æ˜¯ä¸ºäº†ä¸Šä¼ ä¸€ä¸ªappleæŒ‡å®šçš„æ–‡ä»¶)</li></ul><blockquote><p>æ”¯æŒUniversal Links(é€šç”¨é“¾æ¥)</p></blockquote><ul><li>åˆ›å»ºä¸€ä¸ªjsonæ ¼å¼çš„å‘½åä¸ºapple-app-site-associationæ–‡ä»¶</li><li><p>æ³¨æ„è¿™ä¸ªæ–‡ä»¶å¿…é¡»æ²¡æœ‰åç¼€å,æ–‡ä»¶åå¿…é¡»ä¸º: <strong><em>apple-app-site-association</em></strong></p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> </div><div class="line"> &#123;</div><div class="line">  <span class="string">"applinks"</span>: &#123;</div><div class="line">      <span class="string">"apps"</span>: [],</div><div class="line">      <span class="string">"details"</span>: [</div><div class="line">          &#123;</div><div class="line">              <span class="string">"appID"</span>: <span class="string">"Prefix +ç‚¹ +BundleID"</span>,</div><div class="line">              <span class="string">"paths"</span>: [ <span class="string">"/html/1/*"</span>, <span class="string">"/*"</span>],</div><div class="line">                        &#125;,</div><div class="line">      ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li></ul><blockquote><p>Prefix   å’Œ BundleID</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/Universal%20Links-%20001.png" alt="001"></p><blockquote><p>paths:<br>æ ¹æ® paths é”®è®¾å®šä¸€ä¸ªä½ çš„appæ”¯æŒçš„è·¯å¾„åˆ—è¡¨,åªæœ‰è¿™äº›æŒ‡å®šçš„è·¯å¾„çš„é“¾æ¥,æ‰èƒ½è¢«appæ‰€å¤„ç†,ä¸¾ä¸ªä¾‹å­:å¦‚æœä½ çš„ç½‘ç«™æ˜¯www.XXXX.com,ä½ çš„pathå†™çš„æ˜¯â€/support/â€œ,é‚£ä¹ˆå½“ç”¨æˆ·ç‚¹å‡»www.yohunl.com/support/myDoucument,å°±å¯ä»¥è¿›å…¥ä½ çš„appäº†,ç›¸åwww.yohunl.com/other å°±ä¸ä¼š.<br><em>pathæ˜¯å¤§å°å†™æ•æ„Ÿçš„!</em> å·è¡¨ç¤ºä»»æ„è·¯å¾„.</p></blockquote><h2 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h2><h3 id="æœåŠ¡å™¨é…ç½®"><a href="#æœåŠ¡å™¨é…ç½®" class="headerlink" title="æœåŠ¡å™¨é…ç½®"></a>æœåŠ¡å™¨é…ç½®</h3><blockquote><p>å‡†å¤‡ç‹¬ç«‹åŸŸå<br>ä¸€çº§åŸŸåï¼ŒäºŒçº§åŸŸåå‡å¯ã€‚<br>SSL è¯ä¹¦</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">ä¸ºæœåŠ¡å™¨é…ç½®HTTPS ç”¨çš„SSL è¯ä¹¦</div><div class="line">ä¸Šä¼ ç­¾åå¥½çš„JSON é…ç½®æ–‡ä»¶</div></pre></td></tr></table></figure><h3 id="æ–°å»ºJSONæ–‡ä»¶"><a href="#æ–°å»ºJSONæ–‡ä»¶" class="headerlink" title="æ–°å»ºJSONæ–‡ä»¶"></a>æ–°å»ºJSONæ–‡ä»¶</h3><p>æ–°å»ºä¸€ä¸ªJSONæ–‡ä»¶ï¼Œä¸éœ€è¦åç¼€åï¼Œå†…å®¹è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><blockquote><p>appID:ç›¸å…³å†…å®¹å¯ä»¥åœ¨Developer ä¸­å¿ƒæ‰¾åˆ°ç›¸å…³çš„å†…å®¹ã€‚å¦‚å›¾ï¼Œå‰åŠéƒ¨åˆ†ä¸ºPrefix ååŠéƒ¨åˆ†ä¸ºIDï¼Œå³ä½ çš„App çš„bundle idï¼Œä¸¤è€…é€šè¿‡.ç›¸è¿<br>paths:ç”¨æ¥å”¤é†’App æ‰€éœ€è¦æŒ‡å®šçš„JSONæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸­çš„è·¯å¾„ã€‚ç”¨â€/* â€œ æ˜¯æ ¹ç›®å½•ï¼Œè€Œ/html åˆ™æ˜¯æŒ‡htmlç›®å½•ä¸‹çš„<br>æ³¨æ„ï¼šè¿™é‡Œçš„AppIDä¸­å‰åŠéƒ¨åˆ†ï¼Œåœ¨App è½¬è®©ä¸»ä½“åä¼šæ”¹å˜ï¼Œéœ€é‡æ–°æ›´æ–°<br>å¡«å¥½åä¿å­˜ä¸ºapple-app-site-association åï¼Œä¸Šä¼ åˆ°åŸŸåæŒ‡å‘çš„æœåŠ¡å™¨æ ¹ç›®å½•ã€‚</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"applinks"</span>: &#123;</div><div class="line">        <span class="string">"apps"</span>: [],</div><div class="line">        <span class="string">"details"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="string">"appID"</span>: <span class="string">"5B5Q4xxxx.com.xxxx.xxxx"</span>,</div><div class="line">                <span class="string">"paths"</span>: [ <span class="string">"/html/1/*"</span>, <span class="string">"/*"</span>]</div><div class="line">            &#125;,</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="ä¸Šä¼ ä¼ è¯¥æ–‡ä»¶apple-app-site-association"><a href="#ä¸Šä¼ ä¼ è¯¥æ–‡ä»¶apple-app-site-association" class="headerlink" title="ä¸Šä¼ ä¼ è¯¥æ–‡ä»¶apple-app-site-association"></a>ä¸Šä¼ ä¼ è¯¥æ–‡ä»¶apple-app-site-association</h2><ul><li>ä¸Šä¼ ä¼ è¯¥æ–‡ä»¶apple-app-site-associationåˆ°ä½ çš„åŸŸåæ‰€å¯¹åº”çš„ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹(å…¶å®ä¹Ÿä¸ä¸€å®šæ˜¯æ ¹ç›®å½•,ä¾‹å¦‚ghoståšå®¢ç«™ç‚¹,å°±æ²¡æœ‰æ ¹ç›®å½•ä¸€è¯´,å®ƒå°±éœ€è¦æ”¾åœ¨ç›¸åº”çš„ä¸»é¢˜ç›®å½•ä¸‹)</li><li>è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è‹¹æœèƒ½ä»<a href="https://ä½ çš„åŸŸå/apple-app-site-associationxhè·å–åˆ°ä½ ä¸Šä¼ çš„apple-app-site-associationæ–‡ä»¶" target="_blank" rel="external">https://ä½ çš„åŸŸå/apple-app-site-associationxhè·å–åˆ°ä½ ä¸Šä¼ çš„apple-app-site-associationæ–‡ä»¶</a>.<br>ä¸Šä¼ å®Œå,è‡ªå·±å…ˆè®¿é—®ä¸€ä¸‹,çœ‹çœ‹æ˜¯å¦èƒ½å¤Ÿè·å–åˆ°,ç”¨æˆ‘çš„åšä¾‹å­,<a href="https://yohunl.com/apple-app-site-association" target="_blank" rel="external">https://yohunl.com/apple-app-site-association</a> ,å½“ä½ ç‚¹å‡»è¿™ä¸ªé“¾æ¥,åº”è¯¥æ˜¯ä¸‹è½½apple-app-site-associationæ–‡ä»¶.<br>éªŒè¯è¯¥æ–‡ä»¶æ˜¯å¦åˆæ³•,è‹¹æœä¸ºäº†æ–¹ä¾¿å¼€å‘è€…,æä¾›äº†ä¸€ä¸ªç½‘é¡µæ¥éªŒè¯æˆ‘ä»¬ç¼–å†™çš„è¿™ä¸ªapple-app-site-associationæ˜¯å¦åˆæ³•æœ‰æ•ˆ,éªŒè¯ç½‘å€,è¿›å…¥ç½‘ç«™è¿›è¡ŒéªŒè¯</li></ul><p><img src="http://ozr735s7e.bkt.clouddn.com/Universal%20Links-002.png" alt="002"></p><h2 id="Appé…ç½®"><a href="#Appé…ç½®" class="headerlink" title="Appé…ç½®"></a>Appé…ç½®</h2><h3 id="å·¥ç¨‹æ–‡ä»¶é…ç½®"><a href="#å·¥ç¨‹æ–‡ä»¶é…ç½®" class="headerlink" title="å·¥ç¨‹æ–‡ä»¶é…ç½®"></a>å·¥ç¨‹æ–‡ä»¶é…ç½®</h3><blockquote><p>åœ¨å·¥ç¨‹æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°Targets - Capabilities - Associated Domains å°†å¼€å…³é€‰ä¸ºOnï¼Œå¹¶æ·»åŠ ä½ çš„åŸŸåï¼Œ</p><p>æ ¼å¼ä¸º  </p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">applinks: + åå°ç»™çš„åŸŸå.com </div><div class="line">applinks: + www.åå°ç»™çš„åŸŸå.com</div></pre></td></tr></table></figure><p><img src="http://ozr735s7e.bkt.clouddn.com/Universal%20Links-%20003.png" alt="003"></p><h3 id="iOSç§»åŠ¨ç«¯çš„ä»£ç "><a href="#iOSç§»åŠ¨ç«¯çš„ä»£ç " class="headerlink" title="iOSç§»åŠ¨ç«¯çš„ä»£ç "></a>iOSç§»åŠ¨ç«¯çš„ä»£ç </h3><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application continueUserActivity:(<span class="built_in">NSUserActivity</span> *)userActivity restorationHandler:(<span class="keyword">void</span> (^)(<span class="built_in">NSArray</span> * _Nullable))restorationHandler</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> ([userActivity.activityType isEqualToString:<span class="built_in">NSUserActivityTypeBrowsingWeb</span>]) &#123;</div><div class="line">        <span class="built_in">NSString</span> *url = userActivity.webpageURL.description;</div><div class="line">        <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡æ‹†åˆ†url æ¥ä¼ å…¥å‚æ•°ï¼Œè¾¾åˆ°è·³è½¬åŸç”Ÿé¡µé¢çš„åŠŸèƒ½ï¼Œå¦‚è·³è½¬æŸå•†å“é¡µ</span></div><div class="line">        [<span class="built_in">UIApplication</span> sharedApplication] openURL:webpageURL];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Universal%20Links-%20004.jpg" alt="004"></p><h2 id="h5ç½‘é¡µé…ç½®"><a href="#h5ç½‘é¡µé…ç½®" class="headerlink" title="h5ç½‘é¡µé…ç½®"></a>h5ç½‘é¡µé…ç½®</h2><blockquote><p>h5ç½‘é¡µä¸­å¯¹éœ€è¦å”¤èµ·App çš„æŒ‰é’®æˆ–è€…æ§ä»¶æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œäº‹ä»¶çš„å‡½æ•°ä»£ç å¦‚ä¸‹:</p></blockquote><figure class="highlight html"><table><tr><td class="code"><pre><div class="line">function wakeUpApp()&#123;</div><div class="line">    if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) &#123;</div><div class="line">        var loadDateTime = new Date();</div><div class="line">        window.setTimeout(function() &#123;</div><div class="line">            var timeOutDateTime = new Date();</div><div class="line">            if (timeOutDateTime - loadDateTime <span class="tag">&lt; <span class="attr">5000</span>) &#123;</span></div><div class="line"><span class="tag">                <span class="attr">window.location.href</span> = <span class="string">"http://a.app.qq.com/o/simple.jsp?pkgname=ä½ çš„åº”ç”¨å®BundleID"</span>;</span></div><div class="line"><span class="tag">            &#125; <span class="attr">else</span> &#123;</span></div><div class="line"><span class="tag">                <span class="attr">window.close</span>();</span></div><div class="line"><span class="tag">            &#125;</span></div><div class="line"><span class="tag">        &#125;,</span></div><div class="line"><span class="tag">            <span class="attr">25</span>);</span></div><div class="line"><span class="tag">        <span class="attr">window.location.href</span> = <span class="string">"https://yourdomainname.com/"</span>;          </span></div><div class="line"><span class="tag">    &#125; <span class="attr">else</span> <span class="attr">if</span> (<span class="attr">navigator.userAgent.match</span>(/<span class="attr">android</span>/<span class="attr">i</span>)) &#123;</span></div><div class="line"><span class="tag">        <span class="attr">var</span> <span class="attr">state</span> = <span class="string">null;</span></span></div><div class="line"><span class="tag">        <span class="attr">try</span> &#123;</span></div><div class="line"><span class="tag">            <span class="attr">state</span> = <span class="string">window.open(</span>"<span class="attr">apps</span> <span class="attr">custom</span> <span class="attr">url</span> <span class="attr">schemes</span> ", '<span class="attr">_blank</span>');</span></div><div class="line"><span class="tag">        &#125; <span class="attr">catch</span>(<span class="attr">e</span>) &#123;&#125;</span></div><div class="line"><span class="tag">        <span class="attr">if</span> (<span class="attr">state</span>) &#123;</span></div><div class="line"><span class="tag">            <span class="attr">window.close</span>();</span></div><div class="line"><span class="tag">        &#125; <span class="attr">else</span> &#123;</span></div><div class="line"><span class="tag">            <span class="attr">window.location.href</span> = <span class="string">"è¦è·³è½¬çš„é¡µé¢URL"</span>;</span></div><div class="line"><span class="tag">        &#125;</span></div><div class="line"><span class="tag">    &#125;</span></div><div class="line"><span class="tag">&#125;</span></div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>MarkDomnè¯­æ³•</title>
      <link href="/2017/11/21/MarkDown/MarkDown-%E8%AF%AD%E6%B3%95/"/>
      <content type="html"><![CDATA[<h1 id="ç›®å½•æ•ˆæœ"><a href="#ç›®å½•æ•ˆæœ" class="headerlink" title="ç›®å½•æ•ˆæœ"></a>ç›®å½•æ•ˆæœ</h1><h2 id="ç”Ÿæˆç›®å½•"><a href="#ç”Ÿæˆç›®å½•" class="headerlink" title="ç”Ÿæˆç›®å½•"></a>ç”Ÿæˆç›®å½•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">* [1.è¯­æ³•ç¤ºä¾‹](#1)</div><div class="line">* [1.1å›¾ç‰‡](#1.1) </div><div class="line">* [1.2æ¢è¡Œ](#1.2)</div><div class="line">* [1.3å¼ºè°ƒ](#1.3) </div><div class="line">* </div><div class="line">å­—ä½“h1&gt;h2&gt;h3....</div><div class="line"> &lt;h2 id=&quot;1&quot;&gt;ç›®å½•æ ‡é¢˜&lt;/h2&gt;</div></pre></td></tr></table></figure><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2> <h2 id="1">1.h2æ¯”h1å­—ä½“å°</h2> <ul><li><a href="#1.1">1.1å›¾ç‰‡</a></li><li><a href="#1.2">1.2æ¢è¡Œ</a> </li><li><a href="#1.3">1.3å¼ºè°ƒ</a></li></ul><h2 id="é¡µé¢å†…è·³è½¬"><a href="#é¡µé¢å†…è·³è½¬" class="headerlink" title="é¡µé¢å†…è·³è½¬"></a>é¡µé¢å†…è·³è½¬</h2><h3 id="é”š"><a href="#é”š" class="headerlink" title="é”š"></a>é”š</h3><blockquote><p>æ”¾åœ¨ ç›®çš„åœ°<br>å®šä¹‰ä¸€ä¸ªé”š(id)ï¼š <span id="index"></span></p><h1 id="è·³è½¬markdownè¯­æ³•"><a href="#è·³è½¬markdownè¯­æ³•" class="headerlink" title="è·³è½¬markdownè¯­æ³•"></a>è·³è½¬markdownè¯­æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[ç‚¹å‡»è·³è½¬--&gt;](#index)</div></pre></td></tr></table></figure></blockquote>]]></content>
      
      <categories>
          
          <category> Tool </category>
          
          <category> MarkDown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MarkDomn </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS_App_ä»£ç è§„èŒƒ</title>
      <link href="/2017/11/20/OC/Code/OC-Code-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"/>
      <content type="html"><![CDATA[<h1 id="iOSç¼–ç è§„èŒƒ"><a href="#iOSç¼–ç è§„èŒƒ" class="headerlink" title="iOSç¼–ç è§„èŒƒ"></a>iOSç¼–ç è§„èŒƒ</h1><p><a href="http://blog.csdn.net/qq350116542/article/details/51195386#import%E8%A7%84%E8%8C%83" target="_blank" rel="external">http://blog.csdn.net/qq350116542/article/details/51195386#import%E8%A7%84%E8%8C%83</a></p><p>#å‘½å</p><h2 id="å˜é‡å‘½å"><a href="#å˜é‡å‘½å" class="headerlink" title="å˜é‡å‘½å"></a>å˜é‡å‘½å</h2><blockquote><p>é¦–å­—æ¯å°å†™ï¼Œé©¼å³°æ³•åˆ™<br>UIæ§ä»¶ï¼ˆæè¿°+æ§ä»¶ç±»å‹ï¼‰  <code>priceLabelæˆ–priceLab</code><br> æ³¨é‡Šä¹Ÿè¦å†™  æœ€å¥½å¯¹é½</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIButton</span>    *collectsImgView;          <span class="comment">//åˆé›† - å›¾æ ‡</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UILabel</span>     *collectsThemeLab;         <span class="comment">//åˆé›† - ä¸»é¢˜</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UILabel</span>     *collectsAuthorLab;        <span class="comment">//åˆé›† - ä½œè€…</span></div></pre></td></tr></table></figure><h2 id="æ–¹æ³•å‘½å"><a href="#æ–¹æ³•å‘½å" class="headerlink" title="æ–¹æ³•å‘½å"></a>æ–¹æ³•å‘½å</h2><blockquote><p>é¦–å­—æ¯å°å†™ï¼Œé©¼å³°æ³•åˆ™</p></blockquote><h3 id="public-method"><a href="#public-method" class="headerlink" title="public method"></a>public method</h3><blockquote><p>è§„åˆ™ï¼š     æ–¹æ³•ç”¨é€”å•è¯_æ–¹æ³•</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">ä¸€èˆ¬çš„æ–¹æ³•  - (<span class="keyword">void</span>)show_editBtnOnOneViewC:(OneViewC *)oneViewC  editBtn:(<span class="built_in">UIButton</span> *)editBtn.....</div><div class="line">è·³è½¬       push_</div><div class="line">æ›´æ–°æ•°æ®    update_collectList</div><div class="line">åˆ é™¤æ•°æ®    delete_collectList</div></pre></td></tr></table></figure><h3 id="private-method"><a href="#private-method" class="headerlink" title="private method"></a>private method</h3><blockquote><p>è§„åˆ™ï¼šä¸åŠ ä¸‹åˆ’çº¿  ä¸éœ€è¦andï¼š nameStr:(NSstring)nameStr</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)pushOnewViewC:(OnewViewC *)onewViewC   </div><div class="line">-             nameStr:(<span class="built_in">NSstring</span>)nameStr &#123;&#125;</div></pre></td></tr></table></figure><h3 id="æ‰©å±•æˆ–å°è£…æ–¹æ³•"><a href="#æ‰©å±•æˆ–å°è£…æ–¹æ³•" class="headerlink" title="æ‰©å±•æˆ–å°è£…æ–¹æ³•"></a>æ‰©å±•æˆ–å°è£…æ–¹æ³•</h3><blockquote><p>è§„åˆ™ï¼šä»¥FFæˆ–ffå¼€å¤´   FanFanç®€å†™</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)ff_editOnOneViewC:(oneViewC)oneViewC</div><div class="line">                   isOpen:(<span class="built_in">BOOL</span>) isOpen</div></pre></td></tr></table></figure><h3 id="å°‘ç”¨-defineé¢„å¤„ç†æŒ‡ä»¤ï¼Œå¤šç”¨ç±»å‹å¸¸é‡"><a href="#å°‘ç”¨-defineé¢„å¤„ç†æŒ‡ä»¤ï¼Œå¤šç”¨ç±»å‹å¸¸é‡" class="headerlink" title="å°‘ç”¨#defineé¢„å¤„ç†æŒ‡ä»¤ï¼Œå¤šç”¨ç±»å‹å¸¸é‡"></a>å°‘ç”¨<code>#define</code>é¢„å¤„ç†æŒ‡ä»¤ï¼Œå¤šç”¨ç±»å‹å¸¸é‡</h3><blockquote><p>é¢„å¤„ç†æŒ‡ä»¤å‘½å ï¼ˆå­—æ¯å…¨å¤§å†™ï¼Œä»¥â€_â€åˆ†å‰²ï¼‰</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="meta">#define NSString * APP_ROOT_DIR @<span class="meta-string">"xxx"</span></span></div></pre></td></tr></table></figure><blockquote><p>å¸¸é‡å‘½å ï¼ˆå­—æ¯å…¨å¤§å†™ï¼Œâ€kâ€å¼€å¤´ï¼‰</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="built_in">NSString</span> * <span class="keyword">const</span> kAPPROOTDIR = <span class="string">@"xxx"</span>;</div></pre></td></tr></table></figure><h2 id="èµ„æºæ–‡ä»¶ä¸­å˜é‡å‘½å"><a href="#èµ„æºæ–‡ä»¶ä¸­å˜é‡å‘½å" class="headerlink" title="èµ„æºæ–‡ä»¶ä¸­å˜é‡å‘½å"></a>èµ„æºæ–‡ä»¶ä¸­å˜é‡å‘½å</h2><blockquote><p>å…¨å°å†™ï¼Œâ€<em>â€œåˆ†å‰²<br>æ¨¡å—ï¼š å¼€å‘åŠŸèƒ½æ¨¡å—å¤–  nav tab  login refresh  share  hud common(å…¬æœ‰)<br>æ ¼å¼ï¼šâ€œæ¨¡å—</em>ç±»åˆ«<em>çŠ¶æ€</em>æè¿°â€  çŠ¶æ€å¯ä¸è¦<br>ç›®å‰ç‰ˆæœ¬æˆ‘ä»¬ä»¥æ¨¡å—ä½œä¸ºæ–‡ä»¶å¤¹ ï¼Œåé¢çš„æŒ‰ç…§è¿™ä¸ª4ä¸ª</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">personal_btn_un_select.png</div><div class="line">personal_btn_name_png</div><div class="line">nav_btn_left.png</div><div class="line">nav_imgView_lright.png</div><div class="line">tab_item_un_select.png</div><div class="line">tab_item_select.png</div></pre></td></tr></table></figure><h2 id="èƒ½ç”¨ç³–è¡£è¯­æ³•çš„å°½é‡ç”¨ç³–è¡£è¯­æ³•ï¼Œä½¿ç”¨æ—¶æ³¨æ„nilæŠ¥é”™ã€‚"><a href="#èƒ½ç”¨ç³–è¡£è¯­æ³•çš„å°½é‡ç”¨ç³–è¡£è¯­æ³•ï¼Œä½¿ç”¨æ—¶æ³¨æ„nilæŠ¥é”™ã€‚" class="headerlink" title="èƒ½ç”¨ç³–è¡£è¯­æ³•çš„å°½é‡ç”¨ç³–è¡£è¯­æ³•ï¼Œä½¿ç”¨æ—¶æ³¨æ„nilæŠ¥é”™ã€‚"></a>èƒ½ç”¨ç³–è¡£è¯­æ³•çš„å°½é‡ç”¨ç³–è¡£è¯­æ³•ï¼Œä½¿ç”¨æ—¶æ³¨æ„<code>nil</code>æŠ¥é”™ã€‚</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="built_in">NSMutableArray</span> = @[].mutableCopy;</div><div class="line"><span class="built_in">NSString</span> *name = dic[<span class="string">@"name"</span>];</div><div class="line"><span class="built_in">NSArray</span> *array= @[item1, item2];</div></pre></td></tr></table></figure><h2 id="ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çªã€‚å¤§å¤šæ•°çš„è‡ªå®šåˆ¶ï¼Œéƒ½éœ€è¦ç”¨å‰ç¼€"><a href="#ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çªã€‚å¤§å¤šæ•°çš„è‡ªå®šåˆ¶ï¼Œéƒ½éœ€è¦ç”¨å‰ç¼€" class="headerlink" title="ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çªã€‚å¤§å¤šæ•°çš„è‡ªå®šåˆ¶ï¼Œéƒ½éœ€è¦ç”¨å‰ç¼€"></a>ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çªã€‚å¤§å¤šæ•°çš„è‡ªå®šåˆ¶ï¼Œéƒ½éœ€è¦ç”¨å‰ç¼€</h2><p>æ¯”å¦‚åˆ›å»ºæœ‰è¯»ç•Œé¢</p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">Have (æ–‡ä»¶å¤¹)</div><div class="line">   ViewC(æ–‡ä»¶å¤¹)</div><div class="line">      HaveReadViewC.h</div><div class="line">   View</div><div class="line">      HaveReadView.h</div><div class="line">   Model</div><div class="line">      HaveReadModel.h</div><div class="line">   Cell</div><div class="line">      HaveReadCell.h</div></pre></td></tr></table></figure><h2 id="å§”æ‰˜Delegateçš„å®šä¹‰å’Œä½¿ç”¨"><a href="#å§”æ‰˜Delegateçš„å®šä¹‰å’Œä½¿ç”¨" class="headerlink" title="å§”æ‰˜Delegateçš„å®šä¹‰å’Œä½¿ç”¨"></a>å§”æ‰˜Delegateçš„å®šä¹‰å’Œä½¿ç”¨</h2><p>æ”¾åœ¨å¯¹åº”ç±»çš„<code>.h</code>æ–‡ä»¶ä¸­ï¼Œ<br>å‘½åä¸ºè¯¥ç±»å+Delegateï¼Œ<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//å®šä¹‰ä»£ç†</div><div class="line">HaveReadViewCDelegate ==&gt;HaveReadViewC + Delegate</div><div class="line">HaveReadCellDelegate  ==&gt; HaveReadCell + Delegate</div><div class="line"></div><div class="line">//å£°æ˜</div><div class="line">@property (nonatomic, weak) id &lt;ArticleHeadTableUrlDelegate&gt; delegate;</div><div class="line"></div><div class="line">//å¿…é¡»åŠ åˆ¤æ–­ï¼ï¼ï¼</div><div class="line">if (_delegate &amp;&amp; [_delegate respondsToSelector:@selector(push_safariWithUrl:)])  &#123;</div><div class="line">     [_delegate pushSafariWithUrl:XXXXX];</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><h3 id="ä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼-é€‚å½“æ³¨é‡Š"><a href="#ä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼-é€‚å½“æ³¨é‡Š" class="headerlink" title="ä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼+é€‚å½“æ³¨é‡Š"></a>ä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼+é€‚å½“æ³¨é‡Š</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">/**</div><div class="line"> * @beif: æ‰§è¡Œpushæ“ä½œ ï¼ˆ ç®€å•æ˜äº†å°±å¯ä»¥ï¼‰</div><div class="line"> *</div><div class="line"> * @prama:  namestr   åç§°</div><div class="line"> * @prama:  isOpen    æ˜¯å¦æ‰“å¼€  0 = å…³é—­  1= æ‰“å¼€</div><div class="line"> *</div><div class="line"> * @discussion:  æ³¨æ„è¿™ä¸ªæ–¹æ³•å­å•Šä½¿ç”¨æ—¶å€™XXXXXXXX ç­‰ç­‰</div><div class="line"> *</div><div class="line"> *</div><div class="line">*/</div></pre></td></tr></table></figure><h3 id="viewCé‡ŒåŒºå—åˆ’åˆ†"><a href="#viewCé‡ŒåŒºå—åˆ’åˆ†" class="headerlink" title="viewCé‡ŒåŒºå—åˆ’åˆ†"></a>viewCé‡ŒåŒºå—åˆ’åˆ†</h3><blockquote><p>hæ–‡ä»¶é¡¶éƒ¨:ç±»çš„ä½œç”¨ ç±»çš„æ³¨æ„ä¸€äº›å†…å®¹</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">/**</div><div class="line">  è®¢é˜…åˆé›† åˆ†2ç§  </div><div class="line">         æˆ‘çš„è®¢é˜…  xxxx</div><div class="line">         ä»–çš„è®¢é˜…  xxx</div><div class="line"> */</div></pre></td></tr></table></figure><blockquote><p>ä»£ç†</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">XXXXXDelegate</span> &lt;<span class="title">NSObject</span>&gt;</span></div><div class="line"><span class="keyword">@required</span></div><div class="line"><span class="keyword">@optional</span></div><div class="line">- (<span class="keyword">void</span>)delete_nameOnOne:(ç±» *)one  nameStr:(<span class="built_in">NSString</span> *) nameStr ....</div></pre></td></tr></table></figure><blockquote><p>ä»£ç ç»“æ„</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//#pragma ------------------ LifeCycleç”Ÿå‘½å‘¨æœŸ -----------------</span></div><div class="line"><span class="comment">//#pragma ------------------ Setter</span></div><div class="line">- (<span class="keyword">void</span>)setNameLab:(<span class="built_in">UILable</span> *)nameLab</div><div class="line"> &#123;</div><div class="line">   _nameLab = nameLab;</div><div class="line"> &#125;</div><div class="line"><span class="comment">//#pragma ------------------ Getter</span></div><div class="line">- (<span class="built_in">UIButton</span> *)nameBtn:(<span class="built_in">UIButton</span> *) nameBtn</div><div class="line">&#123;</div><div class="line">   <span class="keyword">if</span>(!_ nameBtn)&#123;</div><div class="line">   nameBtn = ...</div><div class="line">     [<span class="keyword">self</span> addSubView: nameBtn];</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">return</span>  nameBtn;</div><div class="line">&#125;</div><div class="line"><span class="comment">//#pragma ------------------     Layout     ------------------</span></div><div class="line"><span class="comment">//#pragma - nameBtn</span></div><div class="line"><span class="comment">//#pragma - nameBtn - action </span></div><div class="line"><span class="comment">//å¸ƒå±€</span></div><div class="line">- (<span class="keyword">void</span>)layoutSubviews;</div><div class="line"><span class="comment">//#pragma ------------------ Plubic Method   ------------------</span></div><div class="line">- (<span class="keyword">void</span>)update_newViewC....</div><div class="line">- (<span class="built_in">BOOL</span>)delete_editBtn.....</div><div class="line"><span class="comment">//#pragma ------------------ private Method  ------------------</span></div><div class="line">- (<span class="keyword">void</span>)updateNewViewC....</div><div class="line">- (<span class="built_in">BOOL</span>)deleteEditBtn.....</div><div class="line"><span class="comment">//#pragma mark ------------- API             ------------------</span></div><div class="line"><span class="comment">//#pragma mark ------------- ä»£ç†</span></div><div class="line"><span class="comment">//#pragma ------------------ Cell            ------------------</span></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * @brief: è®¾ç½®cell</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * @prama: tableView</span></div><div class="line"><span class="comment"> * @prama: model</span></div><div class="line"><span class="comment"> * @prama: indexPath</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> */</span></div><div class="line">+( PersonalSubscribeCell *)show_cellOfTableView:(<span class="built_in">UITableView</span> *)tableView</div><div class="line">                                          model:(PersonalSubscribeModel *)model</div><div class="line">                                      indexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</div></pre></td></tr></table></figure><h1 id="ç¼–ç¨‹ä¹ æƒ¯"><a href="#ç¼–ç¨‹ä¹ æƒ¯" class="headerlink" title="ç¼–ç¨‹ä¹ æƒ¯"></a>ç¼–ç¨‹ä¹ æƒ¯</h1><blockquote><p>ä¸€ä¸ªåŸåˆ™ï¼šèƒ½ä¸åšçš„äº‹æƒ…ï¼Œå°½é‡ä¸åšï¼Œå°½é‡å°‘å”¤é†’CPUï¼Œç»ä¸èƒ½åœ¨UIçº¿ç¨‹ä¸­åšè€—æ—¶æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“è¯»å†™ï¼Œæ–‡ä»¶è¯»å†™ç­‰ï¼‰</p></blockquote><h2 id="Copyã€mutableCopyè¦æ³¨æ„å…¶å…³è”çš„å…ƒç´ æ˜¯å¦æ”¯æŒ"><a href="#Copyã€mutableCopyè¦æ³¨æ„å…¶å…³è”çš„å…ƒç´ æ˜¯å¦æ”¯æŒ" class="headerlink" title="Copyã€mutableCopyè¦æ³¨æ„å…¶å…³è”çš„å…ƒç´ æ˜¯å¦æ”¯æŒ"></a><code>Copy</code>ã€<code>mutableCopy</code>è¦æ³¨æ„å…¶å…³è”çš„å…ƒç´ æ˜¯å¦æ”¯æŒ</h2><h2 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h2><blockquote><p>ä¸è¦åœ¨å¾ªç¯ä¸­åˆ›å»ºå¼•ç”¨ç±»å‹å˜é‡<br>forå¾ªç¯ä¸­ï¼Œç”¨å±€éƒ¨å˜é‡æ›¿ä»£â€œarray.countâ€</p></blockquote><h2 id="autoreleasepool"><a href="#autoreleasepool" class="headerlink" title="@autoreleasepool"></a>@autoreleasepool</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">@autoreleasepool</span>&#123;</div><div class="line">  <span class="keyword">for</span>ï¼ˆï¼‰&#123;</div><div class="line">       <span class="keyword">@autoreleasepool</span>&#123;&#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å¼•ç”¨å˜é‡å£°æ˜æ”¾åœ¨å¾ªç¯å¤–é¢ï¼Œå¯ä»¥é¿å…åœ¨æ ˆå†…å­˜ä¸­åˆ›å»ºè¿‡å¤šå¼•ç”¨å˜é‡"><a href="#å¼•ç”¨å˜é‡å£°æ˜æ”¾åœ¨å¾ªç¯å¤–é¢ï¼Œå¯ä»¥é¿å…åœ¨æ ˆå†…å­˜ä¸­åˆ›å»ºè¿‡å¤šå¼•ç”¨å˜é‡" class="headerlink" title="å¼•ç”¨å˜é‡å£°æ˜æ”¾åœ¨å¾ªç¯å¤–é¢ï¼Œå¯ä»¥é¿å…åœ¨æ ˆå†…å­˜ä¸­åˆ›å»ºè¿‡å¤šå¼•ç”¨å˜é‡"></a>å¼•ç”¨å˜é‡å£°æ˜æ”¾åœ¨å¾ªç¯å¤–é¢ï¼Œå¯ä»¥é¿å…åœ¨æ ˆå†…å­˜ä¸­åˆ›å»ºè¿‡å¤šå¼•ç”¨å˜é‡</h2><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">UserInfo userInfo;</div><div class="line"><span class="comment">// é¿å…å¾ªç¯ä¸­æ¯æ¬¡éƒ½è¦è°ƒç”¨userList.countå–å€¼</span></div><div class="line"><span class="keyword">int</span> size = userList.count;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">    userInfo = userList[i];</div><div class="line">    <span class="comment">// do something...</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// æ¨è</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, max = userList.count; i &lt; max; i++) &#123;</div><div class="line">    userInfo = userList[i];</div><div class="line">    <span class="comment">// do something...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="NSString"><a href="#NSString" class="headerlink" title="NSString"></a>NSString</h2><blockquote><p>åœ¨ä¸éœ€è¦å¤–éƒ¨ä»»æ„ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œå…¨éƒ¨ç”¨<code>Copy</code></p></blockquote><h2 id="Block"><a href="#Block" class="headerlink" title="Block"></a>Block</h2><blockquote><p><code>Block</code>å†…éƒ¨éœ€è¦ä½¿ç”¨å¤–éƒ¨ç±»å˜é‡çš„æ—¶å€™,é˜²æ­¢å¾ªç¯å¼•ç”¨<br>åˆ‡å¿Œåœ¨blockä½“ä¸­ä½¿ç”¨<code>_name</code>è¿™æ ·çš„å˜é‡ï¼Œè¯·ä½¿ç”¨<code>self.name</code></p></blockquote><h1 id="otehr"><a href="#otehr" class="headerlink" title="otehr"></a>otehr</h1><blockquote><p>ç”±äºObjective-Cæ˜¯ç±»å‹ä¸å®‰å…¨çš„ï¼Œæ³¨æ„åŠ å¼º<code>ç±»å‹åˆ¤æ–­</code>ã€<code>æ•°æ®è¶Šç•Œåˆ¤æ–­</code>ç­‰ç­‰<br>åŸåˆ™ä¸Šä¸å»ºè®®æ‹·è´ä»£ç ï¼ŒåŒä¸€æ®µä»£ç æ‹·è´3æ¬¡ï¼Œå¿…é¡»æŠ½ç¦»å‡ºä¸€ä¸ªæ–¹æ³•ï¼Œç»Ÿä¸€è°ƒç”¨<br>æ‰€æœ‰çš„ç³»ç»Ÿçš„å®ï¼Œéƒ½ä¸å¾—åœ¨ä»»æ„åœ°æ–¹ä¹±å®šä¹‰ï¼Œç»Ÿä¸€åœ¨<code>FFConfig</code>æ–‡ä»¶å¤¹ä¸‹çš„å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¹¶å†™å¥½æ³¨é‡Š<br>ViewControllerä¸­çš„ä»£ç è¦åˆ†ç»“æ„ï¼Œå¤šç”¨<code>#pragma mark - Life Circle</code>å¯¹ä»£ç è¿›è¡Œåˆ†åŒºï¼ŒViewControllerä¸­çš„ä»£ç åˆ†åŒºå¯åˆ†ä¸º<code>Life Circle</code>ã€<code>Request</code>ã€<code>Private</code>ã€<code>Delegate</code>ã€<code>Lazy</code>ç­‰ç­‰<br>ViewControllerä¸­çš„ä»£ç å°½é‡ä¸è¦è¶…è¿‡<code>500</code>è¡Œï¼Œæ³¨æ„ä¼˜åŒ–</p></blockquote><h1 id="API"><a href="#API" class="headerlink" title="API"></a>API</h1><blockquote><p>ä¸€çº§ç•Œé¢ï¼ŒAPIè€ƒè™‘ç¦»çº¿ç¼“å­˜<br>å¦‚æœä½ ç”¨ä¸€å¥è¯æ— æ³•å°†ä¸€ä¸ªæ–¹æ³•çš„å†…å®¹è¡¨è¿°æ¸…æ¥šçš„è¯ï¼Œè¿™å¾€å¾€å°±æ„å‘³ç€<code>API</code>çš„åå­—éœ€è¦æ”¹è¿›äº†ï¼›ä¾‹å¦‚ï¼š<code>removeAtPoint:</code>å°±ä¼šæ¯”<code>remove</code>è¦æ¸…æ™°å¾ˆå¤š</p></blockquote><h1 id="æäº¤ä»£ç è§„èŒƒ"><a href="#æäº¤ä»£ç è§„èŒƒ" class="headerlink" title="æäº¤ä»£ç è§„èŒƒ"></a>æäº¤ä»£ç è§„èŒƒ</h1><p>æäº¤ä»£ç æ—¶çš„æè¿°å¿…é¡»å†™ï¼Œä¸”ç®€æ˜æ‰¼è¦å°±å¯ä»¥</p><h2 id="æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¯ä¸€ä½å°ä¼™ä¼´éƒ½èƒ½æ¬£èµæˆ‘ä»¬çš„ä»£ç "><a href="#æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¯ä¸€ä½å°ä¼™ä¼´éƒ½èƒ½æ¬£èµæˆ‘ä»¬çš„ä»£ç " class="headerlink" title="æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¯ä¸€ä½å°ä¼™ä¼´éƒ½èƒ½æ¬£èµæˆ‘ä»¬çš„ä»£ç "></a>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¯ä¸€ä½å°ä¼™ä¼´éƒ½èƒ½æ¬£èµæˆ‘ä»¬çš„ä»£ç </h2>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-Lib-SDWebImagåŠ è½½é«˜åˆ†è¾¨ç‡å›¾é—®é¢˜</title>
      <link href="/2017/11/20/OC/Lib/SDWebImag/OC-Lib-SDWebImag%E5%8A%A0%E8%BD%BD%E9%AB%98%E5%88%86%E8%BE%A8%E7%8E%87%E5%9B%BE%E9%97%AE%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="SDWebImage-å›¾ç‰‡åˆ†è¾¨ç‡è¿‡é«˜å†…å­˜è¿‡é«˜é—®é¢˜"><a href="#SDWebImage-å›¾ç‰‡åˆ†è¾¨ç‡è¿‡é«˜å†…å­˜è¿‡é«˜é—®é¢˜" class="headerlink" title="SDWebImage_å›¾ç‰‡åˆ†è¾¨ç‡è¿‡é«˜å†…å­˜è¿‡é«˜é—®é¢˜"></a>SDWebImage_å›¾ç‰‡åˆ†è¾¨ç‡è¿‡é«˜å†…å­˜è¿‡é«˜é—®é¢˜</h1><p>#é«˜åˆ†è¾¨ç‡å¤šå›¾é—®é¢˜ï¼š</p><blockquote><p>é«˜åˆ†è¾¨ç‡å›¾ï¼Œå¯¼è‡´å†…å­˜é£™å‡ï¼Œå¡é¡¿ï¼Œè®¾ç½®é—ªé€€,æç¤ºï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Restore the connection to &quot;â€œXXXâ€çš„ iPod&quot; and run &quot;XXX&quot; again, or if &quot;XXX&quot; is still running, you can attach to it by selecting Debug &gt; Attach to Process &gt; XXX.</div></pre></td></tr></table></figure><p>ç”±äºåº”ç”¨ç¨‹åºçªç„¶æ¶ˆè€—äº†å¤§é‡å†…å­˜ï¼Œç„¶åå†åˆ†é…è°ƒåº¦å†…å­˜çš„æ—¶å€™ï¼Œå‡ºç°é”™è¯¯ï¼Œè‡´ä½¿ç³»ç»Ÿå°†APPè¿›ç¨‹å…³é—­ã€‚<br>èƒ½å¤Ÿå»æŸ¥çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯è½½å…¥äº†å¤§é‡çš„å›¾ç‰‡ç­‰ç­‰ï¼Œæˆ–è€…å“ªé‡Œæœ‰æ¶ˆè€—å†…å­˜çš„åœ°æ–¹æ”¹åŠ¨ä¸€ä¸‹ã€‚</p><h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><h2 id="SDWebimageï¼Œ"><a href="#SDWebimageï¼Œ" class="headerlink" title="SDWebimageï¼Œ"></a>SDWebimageï¼Œ</h2><blockquote><p>1.åˆ¤æ–­æœ¬åœ°æ˜¯å¦æœ‰è¿™å¼ å›¾<br>2.äºŒæœ‰çš„æ—¶å€™ç›´æ¥ä»æœ¬åœ°å–å›¾ç‰‡<br>3.æ²¡æœ‰çš„æ—¶å€™å»ç½‘ç»œä¸‹è½½</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">if(imgStr.length&gt;0)&#123;  </div><div class="line">[[SDImageCache sharedImageCache] queryDiskCacheForKey:imgStr </div><div class="line">                                                 done:^(UIImage *image, </div><div class="line">                                                       SDImageCacheType cacheType) &#123;  </div><div class="line">    if (image) </div><div class="line">    &#123;  </div><div class="line">        [_oneImage setImage:image];  </div><div class="line">    &#125;else&#123;  </div><div class="line">        [_oneImage sd_setImageWithURL:kNSUrl(imgStr)  </div><div class="line">                      placeholderImage:IMGNAMED(@&quot;defaultAvatar2&quot;)  </div><div class="line">                               options:SDWebImageRefreshCached  </div><div class="line">                             completed:^(UIImage *image, </div><div class="line">                                         NSError *error,</div><div class="line">                                         SDImageCacheType cacheType,</div><div class="line">                                          NSURL *imageURL) &#123;  </div><div class="line">                                 if (image) &#123;  </div><div class="line">                                     [[SDImageCache sharedImageCache] storeImage:image</div><div class="line">                                                                          forKey:imgStr </div><div class="line">                                                                          toDisk:YES];  </div><div class="line">                                 &#125;  </div><div class="line">                             &#125;];  </div><div class="line">    &#125;  </div><div class="line">    &#125;];&#125;</div></pre></td></tr></table></figure><h2 id="å†…éƒ¨ä¼šè°ƒç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•"><a href="#å†…éƒ¨ä¼šè°ƒç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•" class="headerlink" title="å†…éƒ¨ä¼šè°ƒç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•"></a>å†…éƒ¨ä¼šè°ƒç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">- (UIImage *)diskImageForKey:(NSString *)key &#123;  </div><div class="line">    NSData *data = [self diskImageDataBySearchingAllPathsForKey:key];  </div><div class="line">    if (data) &#123;  </div><div class="line">        UIImage *image = [UIImage sd_imageWithData:data];  </div><div class="line">        image = [self scaledImageForKey:key image:image];  </div><div class="line">        image = [UIImage decodedImageWithImage:image];  </div><div class="line">        return image;  </div><div class="line">    &#125;  </div><div class="line">    else &#123;  </div><div class="line">        return nil;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><p>  UIImage *image = [UIImage sd_imageWithData:data];<br>å›¾ç‰‡å–å‡ºæ¥çš„æ—¶å€™å°±å·²ç»å·¨å¤§æ— æ¯”ï¼Œå ç”¨äº†å¾ˆå¤§çš„å†…å­˜ï¼Œå¯¼è‡´å†…å­˜æ¥ä¸åŠé‡Šæ”¾å°±å´©æºƒ</p><h1 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h1><h2 id="UIImage-MultiFormatè¿™ä¸ªç±»é‡Œé¢æ·»åŠ å¦‚ä¸‹å‹ç¼©æ–¹æ³•ï¼Œ"><a href="#UIImage-MultiFormatè¿™ä¸ªç±»é‡Œé¢æ·»åŠ å¦‚ä¸‹å‹ç¼©æ–¹æ³•ï¼Œ" class="headerlink" title="UIImage+MultiFormatè¿™ä¸ªç±»é‡Œé¢æ·»åŠ å¦‚ä¸‹å‹ç¼©æ–¹æ³•ï¼Œ"></a>UIImage+MultiFormatè¿™ä¸ªç±»é‡Œé¢æ·»åŠ å¦‚ä¸‹å‹ç¼©æ–¹æ³•ï¼Œ</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+(UIImage *)compressImageWith:(UIImage *)image  </div><div class="line">&#123;  </div><div class="line">    float imageWidth = image.size.width;  </div><div class="line">    float imageHeight = image.size.height;  </div><div class="line">    float width = 640;  </div><div class="line">    float height = image.size.height/(image.size.width/width);  </div><div class="line">      </div><div class="line">    float widthScale = imageWidth /width;  </div><div class="line">    float heightScale = imageHeight /height;  </div><div class="line">      </div><div class="line">    // åˆ›å»ºä¸€ä¸ªbitmapçš„context  </div><div class="line">    // å¹¶æŠŠå®ƒè®¾ç½®æˆä¸ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„context  </div><div class="line">    UIGraphicsBeginImageContext(CGSizeMake(width, height));  </div><div class="line">      </div><div class="line">    if (widthScale &gt; heightScale) &#123;  </div><div class="line">        [image drawInRect:CGRectMake(0, 0, imageWidth /heightScale , height)];  </div><div class="line">    &#125;  </div><div class="line">    else &#123;  </div><div class="line">        [image drawInRect:CGRectMake(0, 0, width , imageHeight /widthScale)];  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    // ä»å½“å‰contextä¸­åˆ›å»ºä¸€ä¸ªæ”¹å˜å¤§å°åçš„å›¾ç‰‡  </div><div class="line">    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();  </div><div class="line">    // ä½¿å½“å‰çš„contextå‡ºå †æ ˆ  </div><div class="line">    UIGraphicsEndImageContext();  </div><div class="line">      </div><div class="line">    return newImage;  </div><div class="line">      </div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="ä¿®æ”¹ç¬¬ä¸‰æ–¹æ–¹æ³•"><a href="#ä¿®æ”¹ç¬¬ä¸‰æ–¹æ–¹æ³•" class="headerlink" title="ä¿®æ”¹ç¬¬ä¸‰æ–¹æ–¹æ³•"></a>ä¿®æ”¹ç¬¬ä¸‰æ–¹æ–¹æ³•</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#ifdef SD_WEBP  </div><div class="line">    else if ([imageContentType isEqualToString:@&quot;image/webp&quot;])  </div><div class="line">    &#123;  </div><div class="line">        image = [UIImage sd_imageWithWebPData:data];  </div><div class="line">    &#125;  </div><div class="line">#endif  </div><div class="line">    else &#123;  </div><div class="line">        image = [[UIImage alloc] initWithData:data];  </div><div class="line">        if (data.length/1024 &gt; 128) &#123;  </div><div class="line">            image = [self compressImageWith:image];  </div><div class="line">        &#125;  </div><div class="line">        UIImageOrientation orientation = [self sd_imageOrientationFromImageData:data];  </div><div class="line">        if (orientation != UIImageOrientationUp) &#123;  </div><div class="line">            image = [UIImage imageWithCGImage:image.CGImage  </div><div class="line">                                        scale:image.scale  </div><div class="line">                                  orientation:orientation];  </div><div class="line">        &#125;</div></pre></td></tr></table></figure><h2 id="è®¾ç½®åŠ è½½"><a href="#è®¾ç½®åŠ è½½" class="headerlink" title="è®¾ç½®åŠ è½½"></a>è®¾ç½®åŠ è½½</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">åœ¨SDWebImageDownloaderOperationçš„connectionDidFinishLoadingæ–¹æ³•é‡Œé¢çš„</div><div class="line"></div><div class="line">    UIImage *image = [UIImage sd_imageWithData:self.imageData];</div><div class="line"></div><div class="line">    //å°†ç­‰æ¯”å‹ç¼©è¿‡çš„imageåœ¨èµ‹åœ¨è½¬æˆdataèµ‹ç»™self.imageData</div><div class="line">    NSData *data = UIImageJPEGRepresentation(image, 1);</div><div class="line">    self.imageData = [NSMutableData dataWithData:data];</div><div class="line"></div><div class="line">   å†é…åˆ    [[SDImageCache sharedImageCache] setValue:nil forKey:@&quot;memCache&quot;];ï¼ˆå›¾ç‰‡åŠ è½½åä½¿ç”¨ï¼‰å¤§åŠŸå‘Šæˆï¼Œäº²æµ‹å†…å­˜åŸºæœ¬å˜åŒ–ä¸å¤§ï¼Œè‡ªåŠ¨é‡Šæ”¾ä¹Ÿæ¥å¾—åŠ</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> SDWebImage </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SDWebImage </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-Func-æ£€æŸ¥é¡¹ç›®æ˜¯å¦ä½¿ç”¨IDFA</title>
      <link href="/2017/11/20/OC/Func/%E6%A3%80%E6%9F%A5%E9%A1%B9%E7%9B%AE%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8IDFA/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/chelongfei/article/details/51495862" target="_blank" rel="external">http://blog.csdn.net/chelongfei/article/details/51495862</a></p>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Func </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>OC-Func-é…ç½®å¯åŠ¨å›¾/å›¾æ ‡</title>
      <link href="/2017/11/20/OC/Func/OC-Func-%E9%85%8D%E7%BD%AE%E5%90%AF%E5%8A%A8%E5%9B%BE-%E5%9B%BE%E6%A0%87/"/>
      <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/xiu619544553/p/5348678.html" target="_blank" rel="external">https://www.cnblogs.com/xiu619544553/p/5348678.html</a></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>OC -Lib-JSBadgeViewæ•°å­—è§’æ ‡</title>
      <link href="/2017/11/14/OC/Lib/JSBadgeView/OC-Lib-JSBadgeView%E6%95%B0%E5%AD%97%E8%A7%92%E6%A0%87/"/>
      <content type="html"><![CDATA[<h1 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//åœ¨çˆ¶æ§ä»¶ä¸Šæ˜¾ç¤ºï¼Œ</div><div class="line">//æ˜¾ç¤ºçš„ä½ç½®TopRight  </div><div class="line">self.badgeView = [[JSBadgeView alloc]initWithParentView:parentView alignment:JSBadgeViewAlignmentTopRight];  </div><div class="line">//ä½ç½®  </div><div class="line">self.badgeView.badgePositionAdjustment = CGPointMake(-15, 10);</div><div class="line">//è®¾ç½®tagè¦è¾¨åˆ«    </div><div class="line">self.badgeView.tag = 10086;</div><div class="line"></div><div class="line">//èƒŒæ™¯è‰²</div><div class="line">self.badgeView.badgeBackgroundColor = [UIColor redColor];  </div><div class="line">//æ²¡æœ‰åå…‰é¢</div><div class="line">self.badgeView.badgeOverlayColor = [UIColor clearColor];  </div><div class="line">//å¤–åœˆçš„é¢œè‰²ï¼Œé»˜è®¤æ˜¯ç™½è‰²    </div><div class="line">self.badgeView.badgeStrokeColor = [UIColor redColor];</div></pre></td></tr></table></figure><h1 id="è®¾ç½®æ•°å­—"><a href="#è®¾ç½®æ•°å­—" class="headerlink" title="è®¾ç½®æ•°å­—"></a>è®¾ç½®æ•°å­—</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//1ã€ç”¨å­—ç¬¦</div><div class="line">self.badgeView.badgeText = @&quot;1&quot;;  </div><div class="line">//2ã€å¦‚æœä¸æ˜¾ç¤ºå°±è®¾ç½®ä¸ºç©º</div><div class="line">self.badgeView.badgeText = nil; </div><div class="line"></div><div class="line">//å½“æ›´æ–°æ•°å­—æ—¶ï¼Œæœ€å¥½åˆ·æ–°ï¼Œä¸ç„¶ç”±äºframeå›ºå®šçš„ï¼Œæ•°å­—ä¸º2ä½æ—¶ï¼Œçº¢åœˆå˜å½¢  </div><div class="line">[self.badgeView setNeedsLayout];</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> JSBadgeView </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> Lib </tag>
            
            <tag> UI </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-UIKit-UILaebl_Shadowæ–‡å­—é˜´å½±</title>
      <link href="/2017/11/14/OC/Kit/UILabel-Shadow%E6%96%87%E5%AD%97%E9%98%B4%E5%BD%B1/"/>
      <content type="html"><![CDATA[<p>#æ–¹æ³•1</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">è®¾ç½®UILabelä¸­çš„shadowColorå’ŒshadowOffsetå±æ€§</div></pre></td></tr></table></figure><p>é—®é¢˜:é˜´å½±æ²¡æœ‰æ¨¡ç³Šæ•ˆæœï¼Œå¹¶ä¸”æ— æ³•è®¾ç½®é˜´å½±çš„å®½åº¦ç­‰ç­‰ï¼Œæ¯”è¾ƒå…·æœ‰å±€é™æ€§</p><p>#æ–¹æ³•2</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">NSShadow *shadow = [[NSShadow alloc]init];</div><div class="line">  shadow.shadowBlurRadius = 1;</div><div class="line">  shadow.shadowOffset = CGSizeMake(0,1);</div><div class="line">  shadow.shadowColor = [UIColor colorWithWhite:0 alpha:0.6];</div><div class="line">  NSAttributedString *attText =  [[NSAttributedString alloc]initWithString:[NSString stringWithFormat:@&quot;%@æµè§ˆè¿‡&quot;,!model.read_num?@&quot;0&quot;:model.read_num] attributes:@&#123;NSShadowAttributeName:shadow&#125;];</div><div class="line">  cell.skimLab.attributedText = attText;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> UIKit </category>
          
          <category> UILabel </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Runtimeå®è·µ:å ä½å›¾</title>
      <link href="/2017/11/13/OC/Grammar/iOS-RunTime-%E5%8D%A0%E4%BD%8D%E5%9B%BE/"/>
      <content type="html"><![CDATA[<p> è¾ˆå‡ºæœ‰è¯» é‡Œä»£ç </p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> RunTime </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-Func-å†…å­˜æ£€æµ‹å·¥å…·Analyze</title>
      <link href="/2017/11/13/OC/Func/iOS-Func-%E5%86%85%E5%AD%98%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7Analyze/"/>
      <content type="html"><![CDATA[<h1 id="å†…å­˜æ£€æµ‹å·¥å…·Analyze"><a href="#å†…å­˜æ£€æµ‹å·¥å…·Analyze" class="headerlink" title="å†…å­˜æ£€æµ‹å·¥å…·Analyze"></a>å†…å­˜æ£€æµ‹å·¥å…·Analyze</h1><h2 id="å¼€å¯Analyze"><a href="#å¼€å¯Analyze" class="headerlink" title="å¼€å¯Analyze"></a>å¼€å¯Analyze</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">xcode----product-----Analyze</div><div class="line">(å¿«æ·é”®:Shift + Cmd + B)</div></pre></td></tr></table></figure><blockquote><p>iOSçš„åˆ†æå·¥å…·å¯ä»¥å‘ç°ç¼–è¯‘ä¸­çš„warningï¼Œå†…å­˜æ³„æ¼éšæ‚£ï¼Œç”šè‡³è¿˜å¯ä»¥æ£€æŸ¥å‡ºlogicä¸Šçš„é—®é¢˜<br>åœ¨è‡ªæµ‹é˜¶æ®µä¸€å®šè¦è§£å†³Analyzeå‘ç°çš„é—®é¢˜ï¼Œå¯ä»¥é¿å…å‡ºç°ä¸¥é‡çš„bug</p></blockquote><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><blockquote><p>å†…å­˜æ³„æ¼éšæ‚£æç¤º</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Potential Leak of an object allocated on line â€¦â€¦</div></pre></td></tr></table></figure><blockquote><p>æ•°æ®èµ‹å€¼éšæ‚£æç¤º</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">The left operand of â€¦â€¦ is a garbage value</div></pre></td></tr></table></figure><blockquote><p>å¯¹è±¡å¼•ç”¨éšæ‚£æç¤º</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Reference-Counted object is used after it is released</div></pre></td></tr></table></figure><h2 id="å…·ä½“é—®é¢˜"><a href="#å…·ä½“é—®é¢˜" class="headerlink" title="å…·ä½“é—®é¢˜"></a>å…·ä½“é—®é¢˜</h2><h3 id="é‡å†™UIViewControllerçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•"><a href="#é‡å†™UIViewControllerçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•" class="headerlink" title="é‡å†™UIViewControllerçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•"></a>é‡å†™UIViewControllerçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">eg:</div><div class="line">  The â€˜viewWillAppear:â€™ instance method in UIViewController subclass â€˜YourViewControllerâ€™ is missing a [super viewWillAppear:] call</div></pre></td></tr></table></figure><p>&gt;</p><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"></div><div class="line"> -(<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated&#123;</div><div class="line">[superviewWillAppear:<span class="literal">YES</span>];</div><div class="line"><span class="comment">//your code...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰è¢«ä½¿ç”¨"><a href="#åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰è¢«ä½¿ç”¨" class="headerlink" title="åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰è¢«ä½¿ç”¨"></a>åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰è¢«ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">eg:</div><div class="line"> value stored to â€˜YourVariableâ€™ is never read</div></pre></td></tr></table></figure><h3 id="å˜é‡å¤šæ¬¡åˆå§‹åŒ–ï¼Œå…¶ä¸­çš„æŸäº›åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰ä½¿ç”¨è¿‡"><a href="#å˜é‡å¤šæ¬¡åˆå§‹åŒ–ï¼Œå…¶ä¸­çš„æŸäº›åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰ä½¿ç”¨è¿‡" class="headerlink" title="å˜é‡å¤šæ¬¡åˆå§‹åŒ–ï¼Œå…¶ä¸­çš„æŸäº›åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰ä½¿ç”¨è¿‡"></a>å˜é‡å¤šæ¬¡åˆå§‹åŒ–ï¼Œå…¶ä¸­çš„æŸäº›åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰ä½¿ç”¨è¿‡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">eg:</div><div class="line"> value stored to â€˜YourVariableâ€™during its initialization is never read</div></pre></td></tr></table></figure><h2 id="é‡æ–°çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•"><a href="#é‡æ–°çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="é‡æ–°çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•"></a>é‡æ–°çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•</h2><blockquote><p>é”™è¯¯ä»£ç ç¤ºä¾‹ï¼š</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> -(<span class="keyword">instancetype</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame&#123;</div><div class="line"><span class="keyword">if</span>(<span class="keyword">self</span>== [superinitWithFrame:frame])&#123;</div><div class="line">    &#125;</div><div class="line">   <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å…ˆè°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå†è‡ªå®šä¹‰å¤„ç†</p></blockquote><figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> -(<span class="keyword">instancetype</span>)initWithFrame:(<span class="built_in">CGRect</span>)frame&#123;</div><div class="line"><span class="keyword">self</span> = [superinitWithFrame:frame];</div><div class="line"><span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</div><div class="line">&#125;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å±æ€§æ ‡æ˜é”™è¯¯-strong-retain-assign"><a href="#å±æ€§æ ‡æ˜é”™è¯¯-strong-retain-assign" class="headerlink" title="å±æ€§æ ‡æ˜é”™è¯¯(strong,retain,assign)"></a>å±æ€§æ ‡æ˜é”™è¯¯(strong,retain,assign)</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">potential leak of an object</div></pre></td></tr></table></figure><h2 id="å˜é‡æœªåˆå§‹åŒ–å°±ä½¿ç”¨"><a href="#å˜é‡æœªåˆå§‹åŒ–å°±ä½¿ç”¨" class="headerlink" title="å˜é‡æœªåˆå§‹åŒ–å°±ä½¿ç”¨"></a>å˜é‡æœªåˆå§‹åŒ–å°±ä½¿ç”¨</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">The left operand of â€˜+â€™ is a garbage value</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
            <tag> Func </tag>
            
            <tag> Analyze </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Func-å¼‚å¸¸æ•è·-å †æ ˆä¿¡æ¯çš„è§£æ</title>
      <link href="/2017/11/11/OC/Func/iOS-Func-%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7-%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A7%A3%E6%9E%90/"/>
      <content type="html"><![CDATA[<h1 id="å †æ ˆä¿¡æ¯çš„è§£æ"><a href="#å †æ ˆä¿¡æ¯çš„è§£æ" class="headerlink" title="å †æ ˆä¿¡æ¯çš„è§£æ"></a>å †æ ˆä¿¡æ¯çš„è§£æ</h1><blockquote><p>æœ€ä½¿ç”¨NSSetUncaughtExceptionHandlerå’Œsignalæ–¹æ³•æ•è·å¼‚å¸¸ï¼Œå¹¶ä¼ åˆ°æœåŠ¡å™¨ï¼Œç”¨æ¥è¿½è¸ªçº¿ä¸Šappçš„å¼‚å¸¸ä¿¡æ¯<br>æ•è·åˆ°çš„éƒ½æ˜¯å †æ ˆä¿¡æ¯ï¼š</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7-%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A7%A3%E6%9E%90-001.png" alt="001"></p><ul><li>å¦‚ä½•åˆ©ç”¨è¿™äº›å †æ ˆä¿¡æ¯æŸ¥çœ‹æŠ¥é”™æ–¹æ³•åå’Œè¡Œæ•°ï¼Ÿ</li></ul><h2 id="å¼‚å¸¸ä¿¡æ¯"><a href="#å¼‚å¸¸ä¿¡æ¯" class="headerlink" title="å¼‚å¸¸ä¿¡æ¯"></a>å¼‚å¸¸ä¿¡æ¯</h2><blockquote><p>å¼‚å¸¸ä¿¡æ¯æœ‰ä¸‰ç§ç±»å‹</p><p>â‘ å·²æ ‡è®°é”™è¯¯ä½ç½®çš„:ä¿¡æ¯å·²ç»å¾ˆæ˜ç¡®äº†ï¼Œä¸ç”¨è§£æ<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">test 0x000000010bfddd8c -[ViewController viewDidLoad] + 8588</div></pre></td></tr></table></figure></p><p>â‘¡æœ‰æ¨¡å—åœ°å€çš„æƒ…å†µ<br>äºŒè¿›åˆ¶åº“åï¼ˆtestï¼‰<br>è°ƒç”¨æ–¹æ³•çš„åœ°å€ï¼ˆ0x00000001018157dcï¼‰<br>æ¨¡å—åœ°å€ï¼ˆ0x100064000ï¼‰<br>+åç§»åœ°å€ï¼ˆ24844252ï¼‰</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">test 0x00000001018157dc 0x100064000 + 24844252</div></pre></td></tr></table></figure><blockquote><p>â‘¢æ— æ¨¡å—åœ°å€çš„æƒ…å†µï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">test 0x00000001018157dc test + 24844252</div></pre></td></tr></table></figure><h2 id="dSYMç¬¦å·è¡¨è·å–"><a href="#dSYMç¬¦å·è¡¨è·å–" class="headerlink" title="dSYMç¬¦å·è¡¨è·å–"></a>dSYMç¬¦å·è¡¨è·å–</h2><blockquote><p>xcode-&gt;window-&gt;organizer-&gt;å³é”®ä½ çš„åº”ç”¨ show finder-&gt;å³é”®.xcarchive æ˜¾ç¤ºåŒ…å†…å®¹-&gt;dSYMs-&gt;test.app.dYSM</p></blockquote><h2 id="atoså‘½ä»¤"><a href="#atoså‘½ä»¤" class="headerlink" title="atoså‘½ä»¤"></a>atoså‘½ä»¤</h2><blockquote><p>atoså‘½ä»¤æ¥ç¬¦å·åŒ–æŸä¸ªç‰¹å®šæ¨¡å—åŠ è½½åœ°å€</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ atos [-arch æ¶æ„å] [-o ç¬¦å·è¡¨] [-l æ¨¡å—åœ°å€] [æ–¹æ³•åœ°å€]</div></pre></td></tr></table></figure><h2 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h2><ul><li>ä½¿ç”¨ç»ˆç«¯ï¼Œè¿›åˆ°test.app.dYSMæ‰€åœ¨ç›®å½•</li></ul><blockquote><p>â‘ å¦‚æœæ˜¯æœ‰æ¨¡å—åœ°å€çš„æƒ…å†µï¼Œè¿è¡Œï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$  atos -arch arm64 -o test.app.dSYM/Contents/Resources/DWARF/test -l 0x100064000 0x00000001018157dc</div></pre></td></tr></table></figure><blockquote><p>â‘¡.å¦‚æœæ˜¯æ— æ¨¡å—åœ°å€çš„æƒ…å†µ</p></blockquote><ul><li>â¶å…ˆå°†åç§»åœ°å€è½¬ä¸º16è¿›åˆ¶ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">24844252 = 0x17B17DC</div></pre></td></tr></table></figure><ul><li>â·ç„¶åç”¨æ–¹æ³•çš„åœ°å€-åç§»åœ°å€ï¼Œå¾—åˆ°çš„å°±æ˜¯æ¨¡å—åœ°å€</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">0x00000001018157dc - 0x17B17DC = 0x100064000</div></pre></td></tr></table></figure><ul><li>â¸æœ€åè¿è¡Œ</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ atos -arch arm64 -o test.app.dSYM/Contents/Resources/DWARF/test -l 0x100064000 0x00000001018157dc</div></pre></td></tr></table></figure><h1 id="iOSå´©æºƒå †æ ˆç¬¦å·åŒ–"><a href="#iOSå´©æºƒå †æ ˆç¬¦å·åŒ–" class="headerlink" title="iOSå´©æºƒå †æ ˆç¬¦å·åŒ–"></a>iOSå´©æºƒå †æ ˆç¬¦å·åŒ–</h1><p><a href="http://blog.csdn.net/tencent_bugly/article/details/46275773" target="_blank" rel="external">http://blog.csdn.net/tencent_bugly/article/details/46275773</a></p><p><a href="http://blog.csdn.net/reylen/article/details/50568440" target="_blank" rel="external">http://blog.csdn.net/reylen/article/details/50568440</a></p><p><a href="https://www.cnblogs.com/1oo1/p/4462649.html" target="_blank" rel="external">https://www.cnblogs.com/1oo1/p/4462649.html</a></p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Func </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Git-é¡¹ç›®ä»“åº“é…ç½®</title>
      <link href="/2017/11/09/Git/Git-%E9%A1%B9%E7%9B%AE%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE/"/>
      <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/15f68b7cee9f" target="_blank" rel="external">https://www.jianshu.com/p/15f68b7cee9f</a></p><p><a href="http://blog.csdn.net/lqq200912408/article/details/50422184" target="_blank" rel="external">http://blog.csdn.net/lqq200912408/article/details/50422184</a></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-Functionå‡½æ•°</title>
      <link href="/2017/02/05/Swift/Grammar/Function%E5%87%BD%E6%95%B0/"/>
      <content type="html"><![CDATA[<h1 id="â‘ -å‡½æ•°å®šä¹‰-amp-amp-å½¢å¼"><a href="#â‘ -å‡½æ•°å®šä¹‰-amp-amp-å½¢å¼" class="headerlink" title="â‘  å‡½æ•°å®šä¹‰&amp;&amp;å½¢å¼"></a>â‘  å‡½æ•°å®šä¹‰&amp;&amp;å½¢å¼</h1><blockquote><p>Swiftçš„å‡½æ•°å’ŒCçš„å‡½æ•°å®šä¹‰æ–¹å¼æœ‰åŒºåˆ«ï¼Œ<br>Swiftå°†è¿”å›ç±»å‹å†™åœ¨å‡½æ•°çš„æœ€å</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span>å‡½æ•°å <span class="params">(å‚æ•°åˆ—è¡¨)</span></span> -&gt; è¿”å›å€¼ &#123;</div><div class="line">       <span class="comment">//å‡½æ•°ä½“</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å‡½æ•°è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åæ‰“å°å‡ºè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//å‡½æ•°å®šä¹‰</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printYourName</span> <span class="params">(name: String)</span></span>-&gt;<span class="type">String</span> &#123;</div><div class="line">    <span class="built_in">print</span>(name)</div><div class="line">    <span class="keyword">return</span> <span class="string">"Hello, "</span> + name</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> s = printYourName(name: <span class="string">"Tom"</span>)   <span class="comment">//å‡½æ•°è°ƒç”¨</span></div><div class="line"><span class="built_in">print</span>(s)    <span class="comment">//æ‰“å° Hello, Tom</span></div></pre></td></tr></table></figure><blockquote><p>å‡½æ•°è¿”å›å€¼ï¼šå‡½æ•°è¿”å›å€¼ç”¨-&gt;åè·Ÿç±»å‹è¯´æ˜ç¬¦å·<br>å‡½æ•°çš„å¤šè¿”å›å€¼ã€‚å¯ä»¥ç”¨å…ƒç»„è¿”å›å¤åˆå¤šå€¼ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ²¡æœ‰è¿”å›å€¼<br>å¤åˆ¶ä»£ç <br>ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆä» -&gt; è¿”å›å€¼ è¿™ä¸ªéƒ¨åˆ†å¯ä»¥çœç•¥</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//å‡½æ•°å®šä¹‰</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printYourName</span> <span class="params">(name: String)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(name)</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æœ‰å¤šä¸ªå‚æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printTwoString</span><span class="params">(firstString: String, secondString: String)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(firstString,secondString)</div><div class="line">&#125;</div><div class="line">printTwoString(firstString: <span class="string">"hello"</span>, secondString: <span class="string">"Kate"</span>)</div></pre></td></tr></table></figure><blockquote><p>å‡½æ•°å‚æ•°é»˜è®¤ä¸ºletç±»å‹çš„<br>å¦‚æœä½ æƒ³æ›´æ”¹å‚æ•°å‰¯æœ¬ï¼Œé‚£ä¹ˆä½ è¦æ˜¾ç¤ºä½¿ç”¨varä¿®é¥°<br>å½“ç„¶ä¹Ÿå¯ä»¥ä¸éœ€è¦å‚æ•°çš„å‡½æ•°<br>å¦‚æœä½ åƒæ›´æ”¹å‚æ•°ä½œä¸ºè¾“å…¥è¾“å‡ºç”¨inout,è°ƒç”¨æ—¶å€™è¦ç”¨å–åœ°å€ç¬¦å·&amp;</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">GetName</span><span class="params">(<span class="keyword">inout</span> strName:String)</span></span></div><div class="line">&#123;</div><div class="line">    strName += <span class="string">" hello"</span></div><div class="line">    </div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> strTest = <span class="string">"oo"</span></div><div class="line"><span class="type">GetName</span>(&amp;strTest)</div><div class="line"><span class="built_in">println</span>(<span class="string">"\(strTest)"</span>)</div></pre></td></tr></table></figure><h1 id="Function-Argument-Labels-and-Parameter-Names"><a href="#Function-Argument-Labels-and-Parameter-Names" class="headerlink" title="Function Argument Labels and Parameter Names"></a>Function Argument Labels and Parameter Names</h1><blockquote><p>åœ¨å‡½æ•°å®šä¹‰æ—¶å€™ï¼Œå‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨çš„fristStringå’ŒsecondStringç§°ä¸ºå‚æ•°(Parameter).ä½†æ˜¯å‚æ•°åŒ…å«äº†ä¸¤ä¸ªä¸œè¥¿</p><p>1æ˜¯Argument Labelï¼Œå®ƒæ˜¯åœ¨æ–¹æ³•è°ƒç”¨çš„æ—¶å€™å†™åœ¨å‚æ•°å€¼å‰é¢çš„å‚æ•°æ ‡è®°ï¼Œæ¯”å¦‚ä¸‹é¢è°ƒç”¨ä¸­çš„firstStringå’ŒsecondString</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">printTwoString(firstString: <span class="string">"hello"</span>, </div><div class="line">               secondString: <span class="string">"Kate"</span>)</div></pre></td></tr></table></figure><blockquote><p>2æ˜¯Parameter Namesï¼Œå®ƒåªçš„æ˜¯åœ¨æ–¹æ³•ä½“é‡Œé¢ä½¿ç”¨åˆ°çš„å‚æ•°æ ‡å¿—<br> printTwoStringæ–¹æ³•ä½“é‡Œé¢printç§ä½¿ç”¨åˆ°çš„firstString,secondString</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒArgument Labelå’ŒParameter Namesæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰Argument Labelï¼Œæ–¹æ³•æ˜¯åœ¨Parameter Nameså‰é¢åŠ ä¸Šå¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶ç”¨ç©ºæ ¼ç›¸éš”ï¼Œå¦‚ä¸‹ï¼Œbeginæ˜¯è‡ªå®šä¹‰çš„Argument Labelï¼Œç„¶åè°ƒç”¨çš„æ—¶å€™å°±éœ€è¦ä½¿ç”¨beginæ¥æŒ‡å®šå‚æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printTwoString</span><span class="params">(begin firstString: String, secondString: String)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(firstString,secondString)</div><div class="line">&#125;</div><div class="line">printTwoString(begin: <span class="string">"hello"</span>, secondString: <span class="string">"Kate"</span>)</div></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨printçš„æ—¶å€™æ²¡æœ‰åŠ ä¸Šä»»ä½•çš„Argument Labelã€‚å¦‚æœä½ ä¸æƒ³è¦Argument Labelï¼Œé‚£ä¹ˆåœ¨å®šä¹‰æ–¹æ³•çš„æ—¶å€™ï¼Œå°†Argument Labelçš„å­—ç¬¦ä¸²å†™ä¸ºä¸‹åˆ’çº¿ _ </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printTwoString</span><span class="params">(firstString: String, <span class="number">_</span> secondString: String)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(firstString,secondString)</div><div class="line">&#125;</div><div class="line">printTwoString(firstString: <span class="string">"hello"</span>,  <span class="string">"Kate"</span>)  <span class="comment">//å¿½ç•¥äº†ç¬¬äºŒå‚æ•°çš„å¤–éƒ¨å‚æ•°åä¹‹åï¼Œè¿™é‡Œå°±ä¸èƒ½åŠ ä¸Šå¤–éƒ¨å‚æ•°åäº†</span></div></pre></td></tr></table></figure><h2 id="å‚æ•°é»˜è®¤å€¼"><a href="#å‚æ•°é»˜è®¤å€¼" class="headerlink" title="å‚æ•°é»˜è®¤å€¼"></a>å‚æ•°é»˜è®¤å€¼</h2><blockquote><p>å¯ä»¥ç»™å‚æ•°èµ‹å€¼é»˜è®¤å€¼ã€‚å…·æœ‰é»˜è®¤å€¼çš„å‚æ•°ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ç”¨ç»™å®ƒèµ‹å€¼ã€‚å¥½æ¯”printæ–¹æ³•ï¼Œå®ƒçš„åŸå‹æ˜¯</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="number">_</span>:separator:terminator:)</div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯ä¸€èˆ¬ä½¿ç”¨çš„æ—¶å€™éƒ½åªä¼ äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŸå› å°±åœ¨äºå®ƒåé¢çš„ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…·æœ‰é»˜è®¤å€¼çš„ã€‚<br>ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼çš„æ–¹æ³•æ˜¯åœ¨æ–¹æ³•å®šä¹‰çš„æ—¶å€™ï¼Œåœ¨å‚æ•°çš„åé¢ç”¨ = åŠ ä¸Šé»˜è®¤å€¼ã€‚<br>å¦‚ä¸‹ä»£ç ã€‚å®˜æ–¹æ–‡æ¡£å»ºè®®æˆ‘ä»¬æŠŠå¸¦é»˜è®¤å€¼çš„å‚æ•°æ”¾åœ¨å‚æ•°åˆ—è¡¨çš„æœ«å°¾ï¼Œè¿™æ ·åœ¨è°ƒç”¨çš„æ—¶å€™ä¸è‡³äºæ··æ·†ã€‚ä½†æ˜¯å…¶å®å¯ä»¥å¯¹æ¯ä¸ªå‚æ•°éƒ½èµ‹å€¼é»˜è®¤å€¼ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printTwoString</span><span class="params">(firstString: String = <span class="string">"hello"</span>, secondString: String = <span class="string">"Lucy"</span>, thirdString: String = <span class="string">"end"</span>)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(firstString,secondString,thirdString)</div><div class="line">&#125;</div><div class="line"></div><div class="line">printTwoString( secondString:<span class="string">"two"</span>) </div><div class="line"> <span class="comment">//ä½¿ç”¨å¤–éƒ¨å‚æ•°åæŒ‡å®šè¦èµ‹å€¼çš„å‚æ•°ï¼Œå…¶ä»–å‚æ•°ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¾“å‡º hello two end</span></div></pre></td></tr></table></figure><blockquote><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°åœ¨è°ƒç”¨çš„æ—¶å€™ä¹Ÿæ²¡æœ‰ç»™å…¶èµ‹å€¼ï¼Œé‚£ä¹ˆä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™æŠ¥é”™ã€‚<br>å¦‚æœä½ åˆæŠŠå‚æ•°åˆ—è¡¨çš„Argument Labeléƒ½å»æ‰çš„è¯ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œä½ ç»™çš„å‚æ•°å°†ä¼šä»å¤´å¼€å§‹åŒ¹é…ã€‚å¦‚æœå‚æ•°ç±»å‹ä¸åŒ¹é…çš„è¯ï¼Œå°±ä¼šæŠ¥é”™ã€‚å½“ç„¶ï¼Œä¸å»ºè®®å¤§å®¶è¿™æ ·åšï¼Œå› ä¸ºä¼šå¯¼è‡´ç¨‹åºçš„å¯è¯»æ€§å˜å·®</p></blockquote><h1 id="å¯å˜å‚æ•°åˆ—è¡¨"><a href="#å¯å˜å‚æ•°åˆ—è¡¨" class="headerlink" title="å¯å˜å‚æ•°åˆ—è¡¨"></a>å¯å˜å‚æ•°åˆ—è¡¨</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">printStrings</span><span class="params">(strings: String...)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(strings)</div><div class="line">&#125;</div><div class="line"></div><div class="line">printStrings(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>)  <span class="comment">//è¾“å‡º ["1", "2", "3"]</span></div></pre></td></tr></table></figure><blockquote><p>é€šè¿‡è¾“å‡ºæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯å˜å‚æ•°åœ¨å‡½æ•°ä½“å†…æ˜¯ä»¥æ•°ç»„çš„ç±»å‹å­˜åœ¨çš„ã€‚è¿™ç‚¹åœ¨å®˜æ–¹æ–‡æ¡£ä¸Šæœ‰è¯´æ˜</p></blockquote><h1 id="In-Out-å‚æ•°"><a href="#In-Out-å‚æ•°" class="headerlink" title="In-Out å‚æ•°"></a>In-Out å‚æ•°</h1><blockquote><p>åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œå‚æ•°ä¼ é€’ç»™æ–¹æ³•åéƒ½æ˜¯å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½åœ¨å‡½æ•°ä½“é‡Œé¢å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹ã€‚è¿™ä¸ªå¸¸é‡æ˜¯ä¸ªå½¢å‚ï¼Œä¸æ˜¯ä¹‹å‰çš„å®å‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(first: Int, <span class="number">_</span> second: Int)</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    first = <span class="number">2</span>  <span class="comment">//è¿™å¥æŠ¥é”™</span></div><div class="line">    <span class="keyword">return</span> first + second</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>æœ‰ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æ–¹æ³•é‡Œé¢æ”¹å˜å®å‚çš„å€¼ï¼Œæ‰€ä»¥æœ‰äº†inoutå…³é”®å­—ï¼Œè¿™ä¸ªå…³é”®å­—ä¸èƒ½å¯¹å¯å˜å‚æ•°æ·»åŠ ï¼ŒåŒæ—¶åŠ ä¸Šäº†è¿™ä¸ªkeywordä¹‹åï¼Œä¸èƒ½å†æ·»åŠ  var letï¼Œä¹Ÿä¸èƒ½æœ‰é»˜è®¤å€¼ã€‚<br>ç„¶åè°ƒç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªå‚æ•°å¿…é¡»ä¼ é€’ä¸€ä¸ªå˜é‡ï¼Œè€Œä¸èƒ½æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”åœ¨å˜é‡å‰åŠ &amp;</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(first: <span class="keyword">inout</span> Int, <span class="number">_</span> second: Int)</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    first = <span class="number">2</span></div><div class="line">    <span class="keyword">return</span> first + second</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> a = <span class="number">1</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"result = \(add(first: &amp;a, 3)), a = \(a) "</span> )<span class="comment">//è¾“å‡º result = 5, a = 2</span></div></pre></td></tr></table></figure><blockquote><p>å…³äºIn-Outï¼Œè¿™ä¸ªå®ç°åŸç†æ˜¯å…ˆå°†å®å‚copyï¼Œç„¶ååœ¨æ–¹æ³•ä½“å†…å¤„ç†ï¼Œæ–¹æ³•ç»“æŸçš„æ—¶å€™ï¼Œå†æŠŠcopyè¦†ç›–å›åŸæ¥çš„å®å‚ã€‚æ‰€ä»¥å¦‚æœä½ åœ¨æ–¹æ³•ä½“é‡Œé¢å»æ”¹å˜å®å‚ï¼ˆé€šè¿‡æŸäº›æ–¹æ³•è·å¾—ï¼‰ï¼Œé‚£ä¹ˆåœ¨æ–¹æ³•ç»“æŸçš„æ—¶å€™ï¼Œä½ å¯¹å®å‚çš„æ”¹å˜ä¼šè¢«å½¢å‚è¦†ç›–ã€‚å»ºè®®ä¸è¦åœ¨æ–¹æ³•ä½“é‡Œé¢æ“ä½œInOutå‚æ•°çš„å®å‚ã€‚</p></blockquote><p><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Declarations.html#//apple_ref/doc/uid/TP40014097-CH34-ID545" target="_blank" rel="external">å…³äºInOutå‚æ•°çš„æ•è·é—®é¢˜è¯·å‚è§å®˜æ–¹æ–‡æ¡£</a></p><h1 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h1><blockquote><p>å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ã€‚å‡½æ•°ç±»å‹ç”±å‡½æ•°å®šä¹‰å†³å®š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(first: <span class="keyword">inout</span> Int, <span class="number">_</span> second: Int)</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    first = <span class="number">2</span>;</div><div class="line">    <span class="keyword">return</span> first + second</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>å®ƒçš„å‡½æ•°ç±»å‹ä¸º (inout Int, Int) -&gt; Int<br>å¦‚æœæ²¡æœ‰å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼Œå‡½æ•°ç±»å‹ä¸º () -&gt; voidï¼Œä¹Ÿå¯ä»¥å†™ä¸º () -&gt; ()<br>å‡½æ•°ç±»å‹å¯ä»¥å’ŒåŸºæœ¬ç±»å‹ä¸€æ ·ï¼Œç”¨æ¥å®šä¹‰å˜é‡ã€‚ç»§ç»­åˆ©ç”¨ä¸Šé¢å®šä¹‰çš„addå‡½æ•°</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> mathFunc : (<span class="keyword">inout</span> <span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> = add</div><div class="line"></div><div class="line"><span class="keyword">var</span> f = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> s = <span class="number">2</span>;</div><div class="line"><span class="keyword">let</span> result = mathFunc(&amp;f,s)  <span class="comment">//ä½¿ç”¨å‡½æ•°ç±»å‹</span></div></pre></td></tr></table></figure><blockquote><p>å‡½æ•°ç±»å‹å¯ä»¥ç”¨åšå‚æ•°æˆ–è¿”å›å€¼ï¼Œåˆ©ç”¨ä¸Šé¢å®šä¹‰çš„mathFuncå˜é‡ï¼Œå¯ä»¥æœ‰</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(first: <span class="keyword">inout</span> Int, <span class="number">_</span> second: Int)</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    first = <span class="number">2</span>;</div><div class="line">    <span class="keyword">return</span> first + second</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> mathFunc : (<span class="keyword">inout</span> <span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span> = add</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">doMath</span><span class="params">(mathFunc: <span class="params">(<span class="keyword">inout</span> Int, Int)</span></span></span> -&gt; <span class="type">Int</span>, first: <span class="keyword">inout</span> <span class="type">Int</span>, second: <span class="type">Int</span>) &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"mathFunc = \(mathFunc(&amp;first,second))"</span>)</div><div class="line">    <span class="built_in">print</span>(<span class="string">"first = \(first)"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> f = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> s = <span class="number">2</span>;</div><div class="line">doMath(mathFunc: mathFunc, first: &amp;f, second: <span class="number">2</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"f = \(f)"</span>)</div><div class="line"><span class="comment">//è¾“å‡º</span></div><div class="line"><span class="comment">//mathFunc = 4</span></div><div class="line"><span class="comment">//first=2</span></div><div class="line"><span class="comment">//f=2</span></div></pre></td></tr></table></figure><h1 id="åµŒå¥—å‡½æ•°"><a href="#åµŒå¥—å‡½æ•°" class="headerlink" title="åµŒå¥—å‡½æ•°"></a>åµŒå¥—å‡½æ•°</h1><blockquote><p>åœ¨å‡½æ•°é‡Œé¢å†å®šä¹‰å‡½æ•°ã€‚è¿™ä¸ªåµŒå¥—å‡½æ•°å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›å€¼è¿”å›ï¼Œä½¿å¾—å®ƒå¯ä»¥åœ¨å…¶ä»–èŒƒå›´å†…è¿›è¡Œä½¿ç”¨ã€‚ä¾‹å­å¦‚ä¸‹<br>//å®šä¹‰äº†add å’Œ sub ä¸¤ä¸ªåµŒå¥—å‡½æ•°ï¼Œç„¶åç”¨äºè¿”å›ã€‚å¦‚æœè¾“å…¥çš„ä¸æ˜¯â€+â€œæˆ–â€-â€œï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªnilã€‚æ³¨æ„giveMeFuncè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å¯é€‰ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">giveMeFunc</span><span class="params">(opt: Character)</span></span> -&gt; ((<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span>)? &#123;</div><div class="line">    <span class="keyword">var</span> method : ((<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span>)?</div><div class="line">    <span class="keyword">switch</span> opt &#123;</div><div class="line">    <span class="keyword">case</span> <span class="string">"+"</span> :</div><div class="line">        <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(one: Int, <span class="number">_</span> two: Int)</span></span> -&gt; <span class="type">Int</span> &#123; <span class="keyword">return</span> one + two &#125;</div><div class="line">        method = add</div><div class="line">    <span class="keyword">case</span> <span class="string">"-"</span> :</div><div class="line">        <span class="function"><span class="keyword">func</span> <span class="title">sub</span><span class="params">(one: Int, <span class="number">_</span> two: Int)</span></span> -&gt; <span class="type">Int</span> &#123; <span class="keyword">return</span> one - two &#125;</div><div class="line">        method = sub</div><div class="line">    <span class="keyword">default</span> :</div><div class="line">        method = <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> method</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> m = giveMeFunc(opt:<span class="string">"-"</span>) &#123;</div><div class="line">    <span class="built_in">print</span>(m(<span class="number">1</span>, <span class="number">2</span>))  <span class="comment">// æ‰“å°  -1, ç•™æ„ä¸€ä¸‹ï¼Œè¿™é‡Œæ²¡æœ‰Argument Labelã€‚</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="æ“ä½œç¬¦æ–¹æ³•ï¼ˆOperator-Methodsï¼‰"><a href="#æ“ä½œç¬¦æ–¹æ³•ï¼ˆOperator-Methodsï¼‰" class="headerlink" title="æ“ä½œç¬¦æ–¹æ³•ï¼ˆOperator Methodsï¼‰"></a>æ“ä½œç¬¦æ–¹æ³•ï¼ˆOperator Methodsï¼‰</h1><blockquote><p>swiftå’ŒC++ä¸€æ ·ï¼Œå¯ä»¥å®šä¹‰æ“ä½œç¬¦å‡½æ•°ã€‚æ“ä½œç¬¦æŒ‡çš„æ˜¯+ï¼Œ-ï¼Œ/ï¼Œ%ï¼Œ+=ç­‰ç­‰ã€‚ä¸€èˆ¬æˆ‘ä»¬è¿™äº›æ“ä½œç¬¦æ˜¯ç»™æ•°å­—ç±»å‹ä½¿ç”¨çš„ã€‚ä½†æ˜¯æœ‰äº†æ“ä½œç¬¦å‡½æ•°ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è¿™ç±»ç¬¦å·çš„è¿ç®—è§„åˆ™ã€‚ä¸‹é¢æ˜¯å®˜æ–¹çš„ç¤ºä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> x = <span class="number">0.0</span>, y = <span class="number">0.0</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> + <span class="params">(<span class="keyword">left</span>: Vector2D, <span class="keyword">right</span>: Vector2D)</span></span> -&gt; <span class="type">Vector2D</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">Vector2D</span>(x: <span class="keyword">left</span>.x + <span class="keyword">right</span>.x, y: <span class="keyword">left</span>.y + <span class="keyword">right</span>.y)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ“ä½œç¬¦å‡½æ•° + ï¼Œè¿™ä¸ªæ“ä½œç¬¦å‡½æ•°çš„å‚æ•°åˆ—è¡¨é‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°leftå’Œrightã€‚åˆ†åˆ«ä»£è¡¨ç€+å·å·¦å³ä¸¤è¾¹çš„ä¸¤ä¸ªå‚æ•°ã€‚é€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†ä¸¤ä¸ªVectorç¤ºä¾‹è¿›è¡Œç›¸åŠ ã€‚å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> vector = <span class="type">Vector2D</span>(x: <span class="number">3.0</span>, y: <span class="number">1.0</span>)</div><div class="line"><span class="keyword">let</span> anotherVector = <span class="type">Vector2D</span>(x: <span class="number">2.0</span>, y: <span class="number">4.0</span>)</div><div class="line"><span class="keyword">let</span> combinedVector = vector + anotherVector</div><div class="line"><span class="comment">// combinedVector is a Vector2D instance with values of (5.0, 5.0)</span></div></pre></td></tr></table></figure><blockquote><p>é™¤äº†è¿™ç§è¦æ¥å—ä¸¤ä¸ªå‚æ•°çš„æ“ä½œç¬¦ä¹‹å¤–ï¼Œè¿˜è¦ä¸€äº›åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ“ä½œç¬¦ï¼Œæ¯”å¦‚ -ï¼Œ++ï¼Œâ€“ç­‰ç­‰ã€‚ä½†æ˜¯è¿™ç±»æ“ä½œç¬¦æœ‰ä¸¤ç±»ï¼šå‰ç¼€ï¼ˆPrefixï¼‰å’Œåç¼€ï¼ˆPostfixï¼‰ï¼Œæ¯”å¦‚â€“aï¼Œi++ï¼›<br>è¿™ç±»æ“ä½œç¬¦çš„å®šä¹‰è¦åŠ ä¸Šprefixæˆ–postfixå…³é”®å­—ã€‚è¯­æ³•å¦‚ä¸‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">prefix</span> <span class="function"><span class="keyword">func</span> - <span class="params">(vector: Vector2D)</span></span> -&gt; <span class="type">Vector2D</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">Vector2D</span>(x: -vector.x, y: -vector.y)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªå‰ç¼€çš„ - æ“ä½œç¬¦å‡½æ•°ã€‚ç”¨æ¥å°†ä¸€ä¸ªå‘é‡å–åã€‚åç½®æ“ä½œç¬¦çš„å…³é”®å­—æ˜¯postfixï¼Œä¸­é—´æ“ä½œç¬¦çš„å…³é”®å­—æ˜¯infix</p><p>å¦å¤–è¿˜æœ‰ä¸€ç§è®¡ç®—å¹¶èµ‹å€¼çš„æ“ä½œç¬¦ï¼Œæ¯”å¦‚++ï¼Œ+=ç­‰ç­‰ã€‚è¿™ç±»çš„æ“ä½œç¬¦ä¼šå¯¹å…¶ä¸­çš„ä¸€ä¸ªæ“ä½œå¯¹è±¡è¿›è¡Œæ“ä½œåçš„èµ‹å€¼ã€‚æ‰€ä»¥å¿…é¡»å°†å‚æ•°è®¾ç½®ä¸ºinout</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> += <span class="params">(<span class="keyword">left</span>: <span class="keyword">inout</span> Vector2D, <span class="keyword">right</span>: Vector2D)</span></span> &#123;</div><div class="line">        <span class="keyword">left</span> = <span class="keyword">left</span> + <span class="keyword">right</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>é™¤äº†Swiftå·²ç»å®šä¹‰çš„æ“ä½œç¬¦ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è‡ªå·±å®šä¹‰æ“ä½œç¬¦ã€‚æ¯”å¦‚ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ª+++æ“ä½œç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">prefix</span> <span class="keyword">operator</span> +++ </div><div class="line"> </div><div class="line"> ä¸Šé¢çš„åªæ˜¯å®šä¹‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®ç°è¿™ä¸ªæ“ä½œç¬¦æ‰€åšçš„</div><div class="line"> </div><div class="line"> <span class="class"><span class="keyword">extension</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">prefix</span> <span class="function"><span class="keyword">func</span> +++ <span class="params">(vector: <span class="keyword">inout</span> Vector2D)</span></span> -&gt; <span class="type">Vector2D</span> &#123;</div><div class="line">        vector += vector</div><div class="line">        <span class="keyword">return</span> vector</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯è¿™ä¸ªè‡ªå®šä¹‰çš„æ“ä½œç¬¦æœ‰ä¸€äº›è§„å®šã€‚<br>è‡ªå®šä¹‰çš„æ“ä½œç¬¦å¯ä»¥ç”±/, =, -, +, !, *, %, &lt;, &gt;, &amp;, |, ^, ?,~ï¼Œå’ŒæŸäº›Unicode å­—ç¬¦å¼€å§‹ï¼Œè‡³äºæ˜¯å“ªäº›å­—ç¬¦å¯ä»¥å‚è€ƒå®˜ç½‘ã€‚ç‚¹å‡»ç½‘é¡µï¼Œåœ¨ç½‘é¡µæœ€ä¸‹é¢<br>åœ¨è¿™äº›å­—ç¬¦ä¹‹åï¼Œå¯ä»¥æ¥ä¸Šunicodeå­—ç¬¦ã€‚<br>å¦å¤–æœ‰ä¸€äº›ç¦æ­¢çš„è§„å®šï¼š<br>1.ä¸èƒ½é‡å†™ä¸€ä¸ªå•å•çš„ ? å·ã€‚ï¼ˆå¯ä»¥åœ¨å­—ç¬¦é‡Œé¢åŠ å…¥?å·ï¼‰<br>2.ä¸èƒ½é‡å†™è¿™äº›æ“ä½œç¬¦ =, -&gt;, //, /, /, ., ä½†æ˜¯å¯ä»¥é‡å†™ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªç‚¹çš„æ“ä½œç¬¦ã€‚</p><ol><li>ä¸èƒ½ä»¥è¿™äº›å­—ç¬¦å¼€å¤´ ?, &lt;ï¼Œ &amp;<br>4.ä¸èƒ½ä»¥è¿™äº›å­—ç¬¦ç»“å°¾ ?ï¼Œ &gt;ï¼Œ !</li></ol></blockquote><p>åœ¨å®šä¹‰çš„æ“ä½œç¬¦çš„æ—¶å€™æœ«å°¾çš„é‚£å¯¹å¤§æ‹¬å·æ˜¯æœ‰ç”¨çš„ã€‚åœ¨æ•°å­¦ä¸Šï¼ŒåŠ å‡ä¹˜é™¤æ˜¯æœ‰ä¼˜å…ˆçº§å’Œç»“åˆè§„åˆ™çš„ã€‚åŒæ ·çš„ï¼Œè¿™é‡Œçš„æ“ä½œç¬¦ä¹Ÿæ˜¯ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰æ“ä½œç¬¦çš„å¤§æ‹¬å·é‡Œé¢å®šä¹‰è¿™ä¸ªæ“ä½œç¬¦çš„ä¼˜å…ˆçº§å’Œç»“åˆè§„å¾‹</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">infix</span> <span class="keyword">operator</span> +-: <span class="type">AdditionPrecedence</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Vector2D</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> +- <span class="params">(<span class="keyword">left</span>: Vector2D, <span class="keyword">right</span>: Vector2D)</span></span> -&gt; <span class="type">Vector2D</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">Vector2D</span>(x: <span class="keyword">left</span>.x + <span class="keyword">right</span>.x, y: <span class="keyword">left</span>.y - <span class="keyword">right</span>.y)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä¸Šé¢ä¾‹å­å®šä¹‰çš„æ˜¯ä¸€ä¸ªä¸­é—´çš„æ“ä½œç¬¦ï¼Œå®ƒçš„ç»“åˆè§„åˆ™æ˜¯å‘å·¦ç»“åˆã€‚ä¼˜å…ˆçº§æ˜¯AdditionPrecedenceç»„ï¼Œè¿™ä¸ªå‚è€ƒä¸‹é¢çš„Precedence Group Declarationé“¾æ¥ã€‚<br>å‰ç½®æ“ä½œç¬¦å’Œåç½®æ“ä½œç¬¦ä¸èƒ½æŒ‡å®šä¼˜å…ˆçº§ï¼Œå®ƒä»¬ä½œç”¨åœ¨åŒä¸€ä¸ªæ“ä½œæ•°ï¼Œé‚£ä¹ˆå…ˆæ‰§è¡Œåç½®æ“ä½œç¬¦ã€‚</p><p><a href="http://blog.csdn.net/a709314090/article/details/74007109" target="_blank" rel="external">wen</a></p><p><a href="http://www.cnblogs.com/zhidao-chen/p/3868411.html" target="_blank" rel="external"></a></p>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar-ç±»å’Œç»“æ„ä½“</title>
      <link href="/2017/02/02/Swift/Grammar/Struct%20&amp;&amp;%20Class%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E7%B1%BB/"/>
      <content type="html"><![CDATA[<h1 id="â‘ å®šä¹‰"><a href="#â‘ å®šä¹‰" class="headerlink" title="â‘ å®šä¹‰"></a>â‘ å®šä¹‰</h1><blockquote><p>ç»“æ„ä½“struct</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SForm</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> iXX:<span class="type">Int</span> = <span class="number">99</span></div><div class="line">    <span class="keyword">var</span> strHello:<span class="type">String</span> = <span class="string">"dsf"</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">testFunc</span><span class="params">(iXX:Int)</span></span>-&gt;<span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">return</span> iXX+<span class="number">1</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç±»class</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CTset</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> iAge:<span class="type">Int</span> = <span class="number">9</span></div><div class="line">    <span class="keyword">var</span> strName:<span class="type">String</span> = <span class="string">"xx"</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">testFunction</span><span class="params">(iAge:Int)</span></span>-&gt;<span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">return</span> iAge+<span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">testFunctionName</span><span class="params">(strName:String)</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"oo"</span>+strName</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="â‘¡å®ä¾‹"><a href="#â‘¡å®ä¾‹" class="headerlink" title="â‘¡å®ä¾‹"></a>â‘¡å®ä¾‹</h1><blockquote><p>ç»“æ„ä½“struct</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> structObj = <span class="type">SForm</span>()</div><div class="line">structObj.iXX = <span class="number">988</span></div><div class="line"><span class="keyword">let</span> iRes = structObj.testFunc(<span class="number">4</span>)</div></pre></td></tr></table></figure><blockquote><p>ç±»class</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> clsObj = <span class="type">CTset</span>()</div><div class="line">clsObj.iAge = <span class="number">987</span></div><div class="line"><span class="keyword">let</span> iRe:<span class="type">Int</span> = clsObj.testFunction(<span class="number">32</span>)</div><div class="line"><span class="keyword">let</span> iStr:<span class="type">String</span> = clsObj.testFunctionName(<span class="string">"sdf"</span>)</div></pre></td></tr></table></figure><h1 id="â‘¢åˆå§‹åŒ–"><a href="#â‘¢åˆå§‹åŒ–" class="headerlink" title="â‘¢åˆå§‹åŒ–"></a>â‘¢åˆå§‹åŒ–</h1><blockquote><p>ç»“æ„ä½“æœ‰ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„åˆå§‹åŒ–å™¨<br>æ–°å®ä¾‹ä¸­å„ä¸ªå±æ€§çš„åˆå§‹å€¼å¯ä»¥é€šè¿‡å±æ€§çš„åç§°ä¼ é€’åˆ°æˆå‘˜é€ä¸€åˆå§‹åŒ–å™¨ä¹‹ä¸­</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">var objFirst = SForm(iXX:983, strHello:&quot;hel&quot;)</div><div class="line">objFirst.iXX = 87</div><div class="line"></div><div class="line">let objSecond = SForm(iXX:94, strHello:&quot;hwxel&quot;)</div><div class="line">//objSecond.iXX = 876 error</div></pre></td></tr></table></figure><h1 id="â‘£ç±»å‹"><a href="#â‘£ç±»å‹" class="headerlink" title="â‘£ç±»å‹"></a>â‘£ç±»å‹</h1><blockquote><p>ç»“æ„ä½“æ˜¯å€¼ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> objFirst = <span class="type">SForm</span>(iXX:<span class="number">983</span>, strHello:<span class="string">"hel"</span>)</div><div class="line"><span class="keyword">var</span> objSecond = objFirst</div><div class="line">objSecond.iXX = <span class="number">5775</span></div><div class="line"><span class="built_in">println</span>(<span class="string">"objFirst: \(objFirst.iXX)  objSecond:\(objSecond.iXX)"</span>)</div><div class="line"></div><div class="line">è¾“å‡ºï¼šobjFirst: <span class="number">983</span>  objSecond:<span class="number">5775</span></div></pre></td></tr></table></figure><blockquote><p>ç±»æ˜¯å¼•ç”¨ç±»å‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> clsObj = <span class="type">CTset</span>()</div><div class="line">clsObj.iAge = <span class="number">987</span></div><div class="line"><span class="keyword">var</span> clsObjEx:<span class="type">CTset</span> = clsObj</div><div class="line">clsObjEx.iAge = <span class="number">874</span></div><div class="line"><span class="built_in">println</span>(<span class="string">"\(clsObj.iAge)  \(clsObjEx.iAge)"</span>)</div><div class="line">è¾“å‡ºï¼šclsObj: <span class="number">874</span> clsObjEx: <span class="number">874</span></div></pre></td></tr></table></figure><h1 id="â‘¤è¿ç®—"><a href="#â‘¤è¿ç®—" class="headerlink" title="â‘¤è¿ç®—"></a>â‘¤è¿ç®—</h1><blockquote><p>ç±»çš„ç­‰ä»·äºè¿ç®—  === ä¸ ä¸ç­‰ä»·äº !== è¿ç®—<br>è¡¨ç¤ºæ˜¯å¦æ˜¯å¼•ç”¨åˆ°åŒä¸€ä¸ªç±»å¯¹è±¡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> clsObj = <span class="type">CTset</span>()</div><div class="line">clsObj.iAge = <span class="number">987</span></div><div class="line"><span class="keyword">var</span> clsObjEx:<span class="type">CTset</span> = clsObj</div><div class="line">clsObjEx.iAge = <span class="number">874</span></div><div class="line"><span class="keyword">if</span> clsObj === clsObjEx &#123;</div><div class="line">    <span class="built_in">println</span>(<span class="string">"obj same"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="ç±»å’Œç»“æ„ä½“åŒºåˆ«"><a href="#ç±»å’Œç»“æ„ä½“åŒºåˆ«" class="headerlink" title="ç±»å’Œç»“æ„ä½“åŒºåˆ«"></a>ç±»å’Œç»“æ„ä½“åŒºåˆ«</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œç»“æ„ä½“çš„èµ‹å€¼æ„å‘³ç€æ‹·è´è¡Œä¸ºçš„å‘ç”Ÿ</div><div class="line">è€Œç±»æ˜¯å¼•ç”¨ç±»å‹</div></pre></td></tr></table></figure><h1 id="é›†åˆç±»å‹çš„èµ‹å€¼å’Œæ‹·è´è¡Œä¸º"><a href="#é›†åˆç±»å‹çš„èµ‹å€¼å’Œæ‹·è´è¡Œä¸º" class="headerlink" title="é›†åˆç±»å‹çš„èµ‹å€¼å’Œæ‹·è´è¡Œä¸º"></a>é›†åˆç±»å‹çš„èµ‹å€¼å’Œæ‹·è´è¡Œä¸º</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">swiftçš„ æ•°ç»„ å’Œ å­—å…¸ éƒ½æ˜¯ä»¥ å€¼ç±»å‹ ä¼ é€’çš„</div></pre></td></tr></table></figure><blockquote><p>å­—å…¸çš„æ‹·è´</p></blockquote><ul><li>å½“æœ‰å­—å…¸å®ä¾‹çš„èµ‹å€¼æˆ–è€…æ˜¯å­—å…¸åšå‚æ•°çš„å‡½æ•°è°ƒç”¨æ—¶å€™ï¼Œå­—å…¸å³å‘ç”Ÿæ‹·è´è¡Œä¸º</li><li>å­—å…¸çš„keyå’Œvalueçš„æ‹·è´è¡Œä¸ºæ˜¯ä¾èµ–äºå¥¹è‡ªèº«åˆ°åº•æ˜¯å¼•ç”¨å±æ€§è¿˜æ˜¯å€¼ç±»å‹</li></ul><blockquote><p>dicSecondçš„å€¼è¢«æ›´æ–°ï¼Œè€ŒdicFirstçš„å€¼ä¾ç„¶ä¿æŒä¸å˜<br>dicFirstå’ŒdicSecondæ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å­—å…¸<br>å®ƒçš„keyå’Œvalueåœ¨èµ‹å€¼æ—¶å€™å‘ç”Ÿäº†æ‹·è´ï¼Œå› ä¸ºéƒ½æ˜¯Stringç±»å‹ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> dicFirst:<span class="type">Dictionary</span> = [<span class="string">"key1"</span>:<span class="string">"value1"</span>, <span class="string">"key2"</span>:<span class="string">"value2"</span>]</div><div class="line"><span class="keyword">var</span> dicSecond:<span class="type">Dictionary</span> = dicFirst</div><div class="line">dicSecond[<span class="string">"key1"</span>] = <span class="string">"value1Update"</span></div></pre></td></tr></table></figure><blockquote><p>ä¸¤ä¸ªå­—å…¸dicFirst å’Œ dicSecondåˆ†åˆ«ä¸ºä¸åŒçš„å­—å…¸ï¼Œä½†å®ƒçš„å€¼ clsObjFirstçš„åœ°å€å´æ˜¯åŒä¸€ä¸ª<br>å› ä¸ºå®ƒæ˜¯ç±»ç±»å‹ï¼Œæ˜¯å¼•ç”¨ä¼ é€’</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line">lass <span class="type">CTset</span>&#123;</div><div class="line">    <span class="keyword">var</span> iAge:<span class="type">Int</span> = <span class="number">9</span></div><div class="line">    <span class="keyword">var</span> strName:<span class="type">String</span> = <span class="string">"xx"</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">testFunction</span><span class="params">(iAge:Int)</span></span>-&gt;<span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">return</span> iAge+<span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">testFunctionName</span><span class="params">(strName:String)</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"oo"</span>+strName</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> clsObjFirst = <span class="type">CTset</span>()</div><div class="line">clsObjFirst.iAge = <span class="number">443</span></div><div class="line"><span class="keyword">var</span> dicFirst:<span class="type">Dictionary</span> = [<span class="string">"key1"</span>:clsObjFirst]</div><div class="line"><span class="keyword">var</span> dicSecond:<span class="type">Dictionary</span> = dicFirst</div></pre></td></tr></table></figure><h2 id="æ•°ç»„çš„èµ‹å€¼ä¸æ‹·è´"><a href="#æ•°ç»„çš„èµ‹å€¼ä¸æ‹·è´" class="headerlink" title="æ•°ç»„çš„èµ‹å€¼ä¸æ‹·è´"></a>æ•°ç»„çš„èµ‹å€¼ä¸æ‹·è´</h2><ul><li>æ•°ç»„çš„æ‹·è´è¡Œä¸ºåªæœ‰åœ¨æ•°ç»„çš„é•¿åº¦å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰ä¼šæ‹·è´</li><li>å½“ç„¶æ•°ç»„é‡Œé¢çš„å†…å®¹ï¼Œæ˜¯è¦éµå¾ªå¼•ç”¨ç±»å‹è¿˜æ˜¯å€¼ç±»å‹çš„ã€‚</li></ul><blockquote><p>arrayFirst[0]å’ŒarraySecond[0] éƒ½ä¼šè¢«ä¿®æ”¹æˆ 89<br>å› ä¸ºæ•°ç»„é•¿åº¦æ²¡å˜åŒ–ï¼Œæ‰€ä»¥æ²¡å‘ç”Ÿæ‹·è´</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arrayFirst = [<span class="number">1</span>, <span class="number">33</span>]</div><div class="line"><span class="keyword">var</span> arraySecond = arrayFirst</div><div class="line">arraySecond[<span class="number">0</span>] = <span class="number">89</span></div></pre></td></tr></table></figure><blockquote><p>é•¿åº¦å˜åŒ–ï¼ŒarrayFirstæ‹·è´ï¼Œç‹¬ç«‹å¦å¤–ä¸€ä¸ªæ•°ç»„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> arrayFirst = [<span class="number">1</span>, <span class="number">33</span>]</div><div class="line"><span class="keyword">var</span> arraySecond = arrayFirst</div><div class="line">arrayFirst.append(<span class="number">222</span>)<span class="comment">//é•¿åº¦å˜åŒ–ï¼ŒarrayFirstæ‹·è´ï¼Œç‹¬ç«‹å¦å¤–ä¸€ä¸ªæ•°ç»„</span></div><div class="line">arrayFirst[<span class="number">0</span>] = <span class="number">99</span></div><div class="line"><span class="built_in">println</span>(<span class="string">"first:\(arrayFirst)\nsecond:\(arraySecond)"</span>)</div><div class="line">è¾“å‡ºï¼š</div><div class="line">first:[<span class="number">99</span>, <span class="number">33</span>, <span class="number">222</span>]</div><div class="line">second:[<span class="number">1</span>, <span class="number">33</span>]</div></pre></td></tr></table></figure><blockquote><p>åœ¨ç”¨å¤šä¸ªå˜é‡(var)å¼•ç”¨ä¸€ä¸ªæ•°ç»„æ—¶å€™ï¼Œå¯ä»¥ç”¨unshare()æ–¹æ³•ï¼Œå¼ºåˆ¶æ‹·è´æ•°ç»„</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arrayFirst = [<span class="number">1</span>, <span class="number">2</span>]</div><div class="line"><span class="keyword">var</span> arraySecond = arrayFirst</div><div class="line"><span class="keyword">var</span> arrayThird = arrayFirst</div><div class="line">arraySecond.unshare()<span class="comment">//æ‹·è´ç‹¬ç«‹æˆå¦å¤–ä¸ªæ•°ç»„</span></div><div class="line">arrayThird.unshare()<span class="comment">//æ‹·è´ç‹¬ç«‹æˆå¦å¤–ä¸ªæ•°ç»„</span></div><div class="line">arrayFirst[<span class="number">0</span>] = <span class="number">3</span></div><div class="line">arraySecond[<span class="number">0</span>] = <span class="number">4</span></div><div class="line">arrayThird[<span class="number">0</span>]=<span class="number">5</span></div><div class="line"><span class="built_in">println</span>(<span class="string">"first:\(arrayFirst)\nsecond:\(arraySecond) \nthird:\(arrayThird)"</span>)</div><div class="line">è¾“å‡ºï¼š</div><div class="line">first:[<span class="number">3</span>, <span class="number">2</span>]</div><div class="line">second:[<span class="number">4</span>, <span class="number">2</span>] </div><div class="line">third:[<span class="number">5</span>, <span class="number">2</span>]</div></pre></td></tr></table></figure><h2 id="æ•°ç»„ç­‰ä»·äº-å’Œä¸ç­‰ä»·äº"><a href="#æ•°ç»„ç­‰ä»·äº-å’Œä¸ç­‰ä»·äº" class="headerlink" title="æ•°ç»„ç­‰ä»·äº(===)å’Œä¸ç­‰ä»·äº(!==)"></a>æ•°ç»„ç­‰ä»·äº(===)å’Œä¸ç­‰ä»·äº(!==)</h2><h2 id="å¼ºåˆ¶å¤åˆ¶æ•°ç»„"><a href="#å¼ºåˆ¶å¤åˆ¶æ•°ç»„" class="headerlink" title="å¼ºåˆ¶å¤åˆ¶æ•°ç»„"></a>å¼ºåˆ¶å¤åˆ¶æ•°ç»„</h2><blockquote><p>é€šè¿‡copyå¼ºåˆ¶å¤åˆ¶æ•°ç»„ï¼Œè¿›è¡Œçš„æ˜¯æ•°ç»„ç±»å®¹æµ…æ‹·è´ï¼Œå¹¶è¿”å›ä¸ªæ–°çš„æ•°ç»„å¼•ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arraySource = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line"><span class="keyword">var</span> arrayCopy = arraySource.copy()</div><div class="line">arraySource[<span class="number">0</span>] = <span class="number">4</span></div><div class="line">arrayCopy[<span class="number">1</span>] = <span class="number">5</span></div><div class="line"><span class="built_in">println</span>(<span class="string">"source:\(arraySource)\n copy:\(arrayCopy)"</span>)</div><div class="line">è¾“å‡ºï¼š</div><div class="line">source:[<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>] </div><div class="line">copy:[<span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>]</div></pre></td></tr></table></figure><p><a href="https://www.cnblogs.com/zhidao-chen/p/3881410.html" target="_blank" rel="external">more</a></p><p>===========================================</p><h1 id="ç±»å’Œç»“æ„ä½“å¯¹æ¯”"><a href="#ç±»å’Œç»“æ„ä½“å¯¹æ¯”" class="headerlink" title="ç±»å’Œç»“æ„ä½“å¯¹æ¯”"></a>ç±»å’Œç»“æ„ä½“å¯¹æ¯”</h1><h2 id="ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹åœ¨äº"><a href="#ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹åœ¨äº" class="headerlink" title="ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹åœ¨äº"></a>ç±»å’Œç»“æ„ä½“çš„å…±åŒç‚¹åœ¨äº</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">å®šä¹‰å±æ€§ç”¨äºå­˜å‚¨å€¼</div><div class="line">å®šä¹‰æ–¹æ³•ç”¨äºæä¾›åŠŸèƒ½</div><div class="line">å®šä¹‰é™„å±è„šæœ¬ç”¨äºè®¿é—®å€¼</div><div class="line">å®šä¹‰æ„é€ å™¨ç”¨äºç”Ÿæˆåˆå§‹åŒ–å€¼</div><div class="line">é€šè¿‡æ‰©å±•ä»¥å¢åŠ é»˜è®¤å®ç°çš„åŠŸèƒ½</div><div class="line">å®ç°åè®®ä»¥æä¾›æŸç§æ ‡å‡†åŠŸèƒ½</div></pre></td></tr></table></figure><h2 id="ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½"><a href="#ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½" class="headerlink" title="ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½"></a>ä¸ç»“æ„ä½“ç›¸æ¯”ï¼Œç±»æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹å¾</div><div class="line">ç±»å‹è½¬æ¢å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šä¸€ä¸ªç±»å®ä¾‹çš„ç±»å‹</div><div class="line">ææ„å™¨å…è®¸ä¸€ä¸ªç±»å®ä¾‹é‡Šæ”¾ä»»ä½•å…¶æ‰€è¢«åˆ†é…çš„èµ„æº</div><div class="line">å¼•ç”¨è®¡æ•°å…è®¸å¯¹ä¸€ä¸ªç±»çš„å¤šæ¬¡å¼•ç”¨</div></pre></td></tr></table></figure><blockquote><p>ç»“æ„ä½“æ€»æ˜¯é€šè¿‡è¢«å¤åˆ¶çš„æ–¹å¼åœ¨ä»£ç ä¸­ä¼ é€’ï¼Œä¸ä½¿ç”¨å¼•ç”¨è®¡æ•°</p></blockquote><h1 id="å®šä¹‰è¯­æ³•"><a href="#å®šä¹‰è¯­æ³•" class="headerlink" title="å®šä¹‰è¯­æ³•"></a>å®šä¹‰è¯­æ³•</h1><h2 id="ä½¿ç”¨å…³é”®å­—classå’Œstructè¡¨ç¤ºç±»å’Œç»“æ„ä½“"><a href="#ä½¿ç”¨å…³é”®å­—classå’Œstructè¡¨ç¤ºç±»å’Œç»“æ„ä½“" class="headerlink" title="ä½¿ç”¨å…³é”®å­—classå’Œstructè¡¨ç¤ºç±»å’Œç»“æ„ä½“"></a>ä½¿ç”¨å…³é”®å­—classå’Œstructè¡¨ç¤ºç±»å’Œç»“æ„ä½“</h2><blockquote><p>æ¯æ¬¡å®šä¹‰ä¸€ä¸ªæ–°ç±»æˆ–è€…ç»“æ„ä½“çš„æ—¶å€™ï¼Œå®é™…ä¸Šä½ æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„Swiftç±»å‹<br>å› æ­¤ä½¿ç”¨UpperCamelCaseè¿™ç§æ–¹å¼æ¥å‘½åï¼ˆå¦‚SomeClasså’ŒSomeStructureç­‰ï¼‰ï¼Œä»¥ä¾¿ç¬¦åˆæ ‡å‡†Swiftç±»å‹çš„å¤§å†™å‘½åé£æ ¼ï¼ˆå¦‚Stringï¼ŒIntå’ŒBoolï¼‰<br>ç›¸åçš„ï¼Œè¯·ä½¿ç”¨lowerCamelCaseè¿™ç§æ–¹å¼ä¸ºå±æ€§å’Œæ–¹æ³•å‘½åï¼ˆå¦‚framerateå’ŒincrementCountï¼‰ï¼Œä»¥ä¾¿å’Œç±»å‹ååŒºåˆ†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Resolution</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> width = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> height = <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoMode</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> resolution = <span class="type">Resolution</span>()</div><div class="line">    <span class="keyword">var</span> interlaced = <span class="literal">false</span></div><div class="line">    <span class="keyword">var</span> frameRate = <span class="number">0.0</span></div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?       <span class="comment">// å¯é€‰ç±»å‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="ç±»å’Œç»“æ„å®ä¾‹"><a href="#ç±»å’Œç»“æ„å®ä¾‹" class="headerlink" title="ç±»å’Œç»“æ„å®ä¾‹"></a>ç±»å’Œç»“æ„å®ä¾‹</h1><blockquote><p>ç»“æ„ä½“å’Œç±»éƒ½ä½¿ç”¨æ„é€ å™¨è¯­æ³•æ¥ç”Ÿæˆæ–°çš„å®ä¾‹<br>æ„é€ å™¨è¯­æ³•çš„æœ€ç®€å•å½¢å¼æ˜¯åœ¨ç»“æ„ä½“æˆ–è€…ç±»çš„ç±»å‹åç§°åè·Ÿéšä¸€å¯¹ç©ºæ‹¬å·ï¼Œå¦‚Resolution()æˆ–VideoMode()<br>é€šè¿‡è¿™ç§æ–¹å¼æ‰€åˆ›å»ºçš„ç±»æˆ–è€…ç»“æ„ä½“å®ä¾‹ï¼Œå…¶å±æ€§å‡ä¼šè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼<br>å±æ€§éƒ½å¿…é¡»èµ‹åˆå€¼ï¼å¦åˆ™ç¼–è¯‘æŠ¥é”™ï¼Œå¯é€‰ç±»å‹å¯ä¸èµ‹å€¼ï¼Œå®é™…ä¸Šé»˜è®¤èµ‹å€¼ä¸ºnil</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Resolution</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> width = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> height = <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoMode</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> resolution = <span class="type">Resolution</span>()</div><div class="line">    <span class="keyword">var</span> interlaced = <span class="literal">false</span></div><div class="line">    <span class="keyword">var</span> frameRate = <span class="number">0.0</span></div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?       <span class="comment">// å¯é€‰ç±»å‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> r = <span class="type">Resolution</span>()</div><div class="line"><span class="keyword">let</span> v = <span class="type">VideoMode</span>()</div><div class="line"><span class="built_in">print</span>(r)    <span class="comment">// Resolution(width: 0, height: 0)</span></div><div class="line"><span class="built_in">print</span>(v)    <span class="comment">// VideoMode</span></div><div class="line"><span class="built_in">print</span>(v.resolution)     <span class="comment">// Resolution(width: 0, height: 0)</span></div><div class="line"><span class="built_in">print</span>(v.interlaced)     <span class="comment">// false</span></div><div class="line"><span class="built_in">print</span>(v.frameRate)      <span class="comment">// 0.0</span></div><div class="line"><span class="built_in">print</span>(v.name)           <span class="comment">// nil</span></div></pre></td></tr></table></figure><h1 id="å±æ€§è®¿é—®"><a href="#å±æ€§è®¿é—®" class="headerlink" title="å±æ€§è®¿é—®"></a>å±æ€§è®¿é—®</h1><blockquote><p>é€šè¿‡ä½¿ç”¨ç‚¹è¯­æ³•ï¼ˆdot syntaxï¼‰ï¼Œä½ å¯ä»¥è®¿é—®å®ä¾‹çš„å±æ€§<br>å…¶è¯­æ³•è§„åˆ™æ˜¯ï¼Œå®ä¾‹ååé¢ç´§è·Ÿå±æ€§åï¼Œä¸¤è€…é€šè¿‡ç‚¹å·(.)è¿æ¥<br>ä¹Ÿå¯ä»¥ä½¿ç”¨ç‚¹è¯­æ³•è®¿é—®å­å±æ€§ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ç‚¹è¯­æ³•ä¸ºå˜é‡å±æ€§èµ‹å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">```</div><div class="line">&gt;ä¸<span class="type">Objective</span>-<span class="type">C</span>è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œ<span class="type">Swift</span>å…è®¸ç›´æ¥è®¾ç½®ç»“æ„ä½“å±æ€§çš„å­å±æ€§ï¼Œå¹¶ä¸éœ€è¦é‡æ–°ä¸ºæ•´ä¸ªresolutionå±æ€§è®¾ç½®æ–°å€¼</div></pre></td></tr></table></figure><p>struct Resolution {<br>    var width = 0<br>    var height = 0<br>}</p><p>class VideoMode {<br>    var resolution = Resolution()<br>    var interlaced = false<br>    var frameRate = 0.0<br>    var name: String?       // å¯é€‰ç±»å‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil<br>}</p><p>let v = VideoMode()<br>print(v.resolution)    // Resolution(width: 0, height: 0)<br>v.resolution.width = 1920<br>v.resolution.height = 1080<br>print(v.resolution.width)   // 1920<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"># ç»“æ„ä½“ç±»å‹çš„æˆå‘˜é€ä¸€æ„é€ å™¨</div><div class="line">&gt; æ‰€æœ‰ç»“æ„ä½“éƒ½æœ‰ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æˆå‘˜é€ä¸€æ„é€ å™¨ï¼Œç”¨äºåˆå§‹åŒ–æ–°ç»“æ„ä½“å®ä¾‹ä¸­æˆå‘˜çš„å±æ€§</div><div class="line">&gt; æ–°å®ä¾‹ä¸­å„ä¸ªå±æ€§çš„åˆå§‹å€¼å¯ä»¥é€šè¿‡å±æ€§çš„åç§°ä¼ é€’åˆ°æˆå‘˜é€ä¸€æ„é€ å™¨ä¹‹ä¸­</div><div class="line">&gt; ä¸ç»“æ„ä½“ä¸åŒï¼Œç±»å®ä¾‹æ²¡æœ‰é»˜è®¤çš„æˆå‘˜é€ä¸€æ„é€ å™¨</div><div class="line"></div><div class="line">```swift</div><div class="line">struct Resolution &#123;</div><div class="line">    var width = 0</div><div class="line">    var height = 0</div><div class="line">&#125;</div><div class="line"></div><div class="line">var r = Resolution(width: 1920, height: 1080)</div><div class="line">print(r)    // Resolution(width: 1920, height: 1080)</div></pre></td></tr></table></figure></p><h1 id="ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹"><a href="#ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹" class="headerlink" title="ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹"></a>ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹</h1><blockquote><p>å€¼ç±»å‹è¢«èµ‹äºˆç»™ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå…¶å€¼ä¼šè¢«æ‹·è´<br>é¢æˆ‘ä»¬å·²ç»å¤§é‡ä½¿ç”¨äº†å€¼ç±»å‹ã€‚å®é™…ä¸Šï¼Œåœ¨ Swiftä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»å‹ï¼šæ•´æ•°ï¼ˆIntegerï¼‰ã€æµ®ç‚¹æ•°ï¼ˆfloating-pointï¼‰ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstring)ã€æ•°ç»„ï¼ˆarrayï¼‰å’Œå­—å…¸ï¼ˆdictionaryï¼‰ï¼Œéƒ½æ˜¯å€¼ç±»å‹ï¼Œå¹¶ä¸”åœ¨åº•å±‚éƒ½æ˜¯ä»¥ç»“æ„ä½“çš„å½¢å¼æ‰€å®ç°ã€‚<br>åœ¨Swiftä¸­ï¼Œæ‰€æœ‰çš„ç»“æ„ä½“å’Œæšä¸¾ç±»å‹éƒ½æ˜¯å€¼ç±»å‹ã€‚è¿™æ„å‘³ç€å®ƒä»¬çš„å®ä¾‹ï¼Œä»¥åŠå®ä¾‹ä¸­æ‰€åŒ…å«çš„ä»»ä½•å€¼ç±»å‹å±æ€§ï¼Œåœ¨ä»£ç ä¸­ä¼ é€’çš„æ—¶å€™éƒ½ä¼šè¢«å¤åˆ¶</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Resolution</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> width = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> height = <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> r = <span class="type">Resolution</span>(width: <span class="number">1920</span>, height: <span class="number">1080</span>)</div><div class="line"><span class="built_in">print</span>(r)    <span class="comment">// Resolution(width: 1920, height: 1080)</span></div><div class="line"><span class="keyword">var</span> rr = r</div><div class="line"><span class="built_in">print</span>(rr)   <span class="comment">// Resolution(width: 1920, height: 1080)ï¼Œä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„å®ä¾‹ç¢°å·§åŒ…å«æœ‰ç›¸åŒçš„æ•°å€¼</span></div><div class="line">rr.width = <span class="number">2048</span></div><div class="line"><span class="built_in">print</span>(r)    <span class="comment">// Resolution(width: 1920, height: 1080)ï¼Œç”±äºrå’Œrrç›¸äº’ç‹¬ç«‹ï¼Œæ‰€ä»¥å€¼ä¸æ”¹å˜</span></div><div class="line"><span class="built_in">print</span>(rr)   <span class="comment">// Resolution(width: 2048, height: 1080)</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">CompassPoint</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">North</span>, <span class="type">South</span>, <span class="type">East</span>, <span class="type">West</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="type">CompassPoint</span>.<span class="type">North</span></div><div class="line"><span class="keyword">var</span> b = a</div><div class="line"><span class="built_in">print</span>(b)    <span class="comment">// South</span></div><div class="line">b = <span class="type">CompassPoint</span>.<span class="type">South</span></div><div class="line"><span class="built_in">print</span>(a)    <span class="comment">// North</span></div><div class="line"><span class="built_in">print</span>(b)    <span class="comment">// South</span></div></pre></td></tr></table></figure><h1 id="ç±»æ˜¯å¼•ç”¨ç±»å‹"><a href="#ç±»æ˜¯å¼•ç”¨ç±»å‹" class="headerlink" title="ç±»æ˜¯å¼•ç”¨ç±»å‹"></a>ç±»æ˜¯å¼•ç”¨ç±»å‹</h1><blockquote><p>ä¸å€¼ç±»å‹ä¸åŒï¼Œå¼•ç”¨ç±»å‹åœ¨è¢«èµ‹äºˆåˆ°ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå…¶å€¼ä¸ä¼šè¢«æ‹·è´ã€‚å› æ­¤ï¼Œå¼•ç”¨çš„æ˜¯å·²å­˜åœ¨çš„å®ä¾‹æœ¬èº«è€Œä¸æ˜¯å…¶æ‹·è´</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Resolution</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> width = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> height = <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoMode</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> resolution = <span class="type">Resolution</span>()</div><div class="line">    <span class="keyword">var</span> interlaced = <span class="literal">false</span></div><div class="line">    <span class="keyword">var</span> frameRate = <span class="number">0.0</span></div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?       <span class="comment">// å¯é€‰ç±»å‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> a = <span class="type">VideoMode</span>()</div><div class="line">a.frameRate = <span class="number">25</span>    <span class="comment">// aæ˜¯å¸¸é‡ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å±æ€§ï¼Œå› ä¸ºaæœ¬èº«æ²¡æœ‰æ”¹å˜</span></div><div class="line"><span class="keyword">let</span> b = a</div><div class="line">b.frameRate = <span class="number">30</span></div><div class="line"><span class="built_in">print</span>(a.frameRate)  <span class="comment">// 30.0</span></div><div class="line"><span class="comment">// a = VideoMode()     // error: cannot assign to value: 'a' is a 'let' constant</span></div></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œaå’Œbè¢«å£°æ˜ä¸ºå¸¸é‡è€Œä¸æ˜¯å˜é‡ã€‚ç„¶è€Œä½ ä¾ç„¶å¯ä»¥æ”¹å˜a.frameRateå’Œb.frameRateï¼Œå› ä¸ºaå’Œbè¿™ä¸¤ä¸ªå¸¸é‡çš„å€¼å¹¶æœªæ”¹å˜ã€‚å®ƒä»¬å¹¶ä¸â€œå­˜å‚¨â€è¿™ä¸ªVideoModeå®ä¾‹ï¼Œè€Œä»…ä»…æ˜¯å¯¹VideoModeå®ä¾‹çš„å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œæ”¹å˜çš„æ˜¯è¢«å¼•ç”¨çš„VideoModeçš„frameRateå±æ€§ï¼Œè€Œä¸æ˜¯å¼•ç”¨VideoModeçš„å¸¸é‡çš„å€¼</p></blockquote><h1 id="æ’ç­‰è¿ç®—ç¬¦"><a href="#æ’ç­‰è¿ç®—ç¬¦" class="headerlink" title="æ’ç­‰è¿ç®—ç¬¦"></a>æ’ç­‰è¿ç®—ç¬¦</h1><blockquote><p>å› ä¸ºç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œæœ‰å¯èƒ½æœ‰å¤šä¸ªå¸¸é‡å’Œå˜é‡åœ¨å¹•ååŒæ—¶å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹ã€‚ï¼ˆå¯¹äºç»“æ„ä½“å’Œæšä¸¾æ¥è¯´ï¼Œè¿™å¹¶ä¸æˆç«‹ã€‚å› ä¸ºå®ƒä»¬ä½œä¸ºå€¼ç±»å‹ï¼Œåœ¨è¢«èµ‹äºˆåˆ°å¸¸é‡ã€å˜é‡æˆ–è€…ä¼ é€’åˆ°å‡½æ•°æ—¶ï¼Œå…¶å€¼æ€»æ˜¯ä¼šè¢«æ‹·è´ã€‚ï¼‰<br>å¦‚æœèƒ½å¤Ÿåˆ¤å®šä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹å°†ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼ŒSwiftå†…å»ºäº†ä¸¤ä¸ªæ’ç­‰è¿ç®—ç¬¦è¿ç”¨è¿™ä¸¤ä¸ªè¿ç®—ç¬¦æ£€æµ‹ä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå®ä¾‹</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line">ç­‰ä»·äºï¼ˆ===ï¼‰</div><div class="line">ä¸ç­‰ä»·äºï¼ˆ!==ï¼‰</div></pre></td></tr></table></figure><h2 id="ç­‰ä»·äºâ€ï¼ˆç”¨ä¸‰ä¸ªç­‰å·è¡¨ç¤ºï¼Œ-ï¼‰ä¸â€œç­‰äºâ€ï¼ˆç”¨ä¸¤ä¸ªç­‰å·è¡¨ç¤ºï¼Œ-ï¼‰çš„ä¸åŒ"><a href="#ç­‰ä»·äºâ€ï¼ˆç”¨ä¸‰ä¸ªç­‰å·è¡¨ç¤ºï¼Œ-ï¼‰ä¸â€œç­‰äºâ€ï¼ˆç”¨ä¸¤ä¸ªç­‰å·è¡¨ç¤ºï¼Œ-ï¼‰çš„ä¸åŒ" class="headerlink" title="ç­‰ä»·äºâ€ï¼ˆç”¨ä¸‰ä¸ªç­‰å·è¡¨ç¤ºï¼Œ===ï¼‰ä¸â€œç­‰äºâ€ï¼ˆç”¨ä¸¤ä¸ªç­‰å·è¡¨ç¤ºï¼Œ==ï¼‰çš„ä¸åŒ"></a>ç­‰ä»·äºâ€ï¼ˆç”¨ä¸‰ä¸ªç­‰å·è¡¨ç¤ºï¼Œ===ï¼‰ä¸â€œç­‰äºâ€ï¼ˆç”¨ä¸¤ä¸ªç­‰å·è¡¨ç¤ºï¼Œ==ï¼‰çš„ä¸åŒ</h2><blockquote><p>ç­‰ä»·äºâ€è¡¨ç¤ºä¸¤ä¸ªç±»ç±»å‹ï¼ˆclass typeï¼‰çš„å¸¸é‡æˆ–è€…å˜é‡å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹ã€‚<br>â€œç­‰äºâ€è¡¨ç¤ºä¸¤ä¸ªå®ä¾‹çš„å€¼â€œç›¸ç­‰â€æˆ–â€œç›¸åŒâ€ï¼Œåˆ¤å®šæ—¶è¦éµç…§è®¾è®¡è€…å®šä¹‰çš„è¯„åˆ¤æ ‡å‡†ï¼Œå› æ­¤ç›¸å¯¹äºâ€œç›¸ç­‰â€æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç§æ›´åŠ åˆé€‚çš„å«æ³•<br>å½“ä½ åœ¨å®šä¹‰ä½ çš„è‡ªå®šä¹‰ç±»å’Œç»“æ„ä½“çš„æ—¶å€™ï¼Œä½ æœ‰ä¹‰åŠ¡æ¥å†³å®šåˆ¤å®šä¸¤ä¸ªå®ä¾‹â€œç›¸ç­‰â€çš„æ ‡å‡†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Resolution</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> width = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> height = <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoMode</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> resolution = <span class="type">Resolution</span>()</div><div class="line">    <span class="keyword">var</span> interlaced = <span class="literal">false</span></div><div class="line">    <span class="keyword">var</span> frameRate = <span class="number">0.0</span></div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span>?       <span class="comment">// å¯é€‰ç±»å‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> a = <span class="type">VideoMode</span>()</div><div class="line">a.frameRate = <span class="number">25</span>    <span class="comment">// aæ˜¯å¸¸é‡ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å±æ€§ï¼Œå› ä¸ºaæœ¬èº«æ²¡æœ‰æ”¹å˜</span></div><div class="line"><span class="keyword">let</span> b = a</div><div class="line">b.frameRate = <span class="number">30</span></div><div class="line"></div><div class="line"><span class="comment">// if a == b &#123;     // ä¸¤ä¸ªå¼•ç”¨ç±»å‹ä¹‹é—´ä½¿ç”¨â€œ==â€è¿ç®—ç¬¦ï¼Œä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ï¼šerror: binary operator '==' cannot be applied to two 'VideoMode' operands</span></div><div class="line"><span class="keyword">if</span> a === b &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"a === b"</span>)    <span class="comment">// a === b</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"a !== b"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">å¦‚æœä½ æœ‰<span class="type">C</span>ã€<span class="type">C</span>++æˆ–è€…<span class="type">Objective</span>-<span class="type">C</span>è¯­è¨€çš„ç»éªŒï¼Œé‚£ä¹ˆä½ ä¹Ÿè®¸ä¼šçŸ¥é“è¿™äº›è¯­è¨€ä½¿ç”¨æŒ‡é’ˆæ¥å¼•ç”¨å†…å­˜ä¸­çš„åœ°å€ã€‚ä¸€ä¸ªå¼•ç”¨æŸä¸ªå¼•ç”¨ç±»å‹å®ä¾‹çš„<span class="type">Swift</span>å¸¸é‡æˆ–è€…å˜é‡ï¼Œä¸<span class="type">C</span>è¯­è¨€ä¸­çš„æŒ‡é’ˆç±»ä¼¼ï¼Œä½†æ˜¯å¹¶ä¸ç›´æ¥æŒ‡å‘æŸä¸ªå†…å­˜åœ°å€ï¼Œä¹Ÿä¸è¦æ±‚ä½ ä½¿ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰æ¥è¡¨æ˜ä½ åœ¨åˆ›å»ºä¸€ä¸ªå¼•ç”¨ã€‚<span class="type">Swift</span>ä¸­çš„è¿™äº›å¼•ç”¨ä¸å…¶å®ƒçš„å¸¸é‡æˆ–å˜é‡çš„å®šä¹‰æ–¹å¼ç›¸åŒ</div></pre></td></tr></table></figure><h1 id="ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©"><a href="#ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©" class="headerlink" title="ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©"></a>ç±»å’Œç»“æ„ä½“çš„é€‰æ‹©</h1><p>å¯ä»¥ä½¿ç”¨ç±»å’Œç»“æ„ä½“æ¥å®šä¹‰ä½ çš„è‡ªå®šä¹‰æ•°æ®ç±»å‹ã€‚ç„¶è€Œï¼Œç»“æ„ä½“å®ä¾‹æ€»æ˜¯é€šè¿‡å€¼ä¼ é€’ï¼Œç±»å®ä¾‹æ€»æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’ã€‚è¿™æ„å‘³ä¸¤è€…é€‚ç”¨ä¸åŒçš„ä»»åŠ¡ã€‚å½“ä½ åœ¨è€ƒè™‘ä¸€ä¸ªå·¥ç¨‹é¡¹ç›®çš„æ•°æ®ç»“æ„å’ŒåŠŸèƒ½çš„æ—¶å€™ï¼Œä½ éœ€è¦å†³å®šæ¯ä¸ªæ•°æ®ç»“æ„æ˜¯å®šä¹‰æˆç±»è¿˜æ˜¯ç»“æ„ä½“ã€‚æŒ‰ç…§é€šç”¨çš„å‡†åˆ™ï¼Œå½“ç¬¦åˆä¸€æ¡æˆ–å¤šæ¡ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œè¯·è€ƒè™‘æ„å»ºç»“æ„ä½“ï¼š</p><pre><code>è¯¥æ•°æ®ç»“æ„çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥å°è£…å°‘é‡ç›¸å…³ç®€å•æ•°æ®å€¼ã€‚æœ‰ç†ç”±é¢„è®¡è¯¥æ•°æ®ç»“æ„çš„å®ä¾‹åœ¨è¢«èµ‹å€¼æˆ–ä¼ é€’æ—¶ï¼Œå°è£…çš„æ•°æ®å°†ä¼šè¢«æ‹·è´è€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚è¯¥æ•°æ®ç»“æ„ä¸­å‚¨å­˜çš„å€¼ç±»å‹å±æ€§ï¼Œä¹Ÿåº”è¯¥è¢«æ‹·è´ï¼Œè€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚è¯¥æ•°æ®ç»“æ„ä¸éœ€è¦å»ç»§æ‰¿å¦ä¸€ä¸ªæ—¢æœ‰ç±»å‹çš„å±æ€§æˆ–è€…è¡Œä¸ºã€‚</code></pre><p>ä¸¾ä¾‹æ¥è¯´ï¼Œä»¥ä¸‹æƒ…å¢ƒä¸­é€‚åˆä½¿ç”¨ç»“æ„ä½“ï¼š</p><pre><code>å‡ ä½•å½¢çŠ¶çš„å¤§å°ï¼Œå°è£…ä¸€ä¸ªwidthå±æ€§å’Œheightå±æ€§ï¼Œä¸¤è€…å‡ä¸ºDoubleç±»å‹ã€‚ä¸€å®šèŒƒå›´å†…çš„è·¯å¾„ï¼Œå°è£…ä¸€ä¸ªstartå±æ€§å’Œlengthå±æ€§ï¼Œä¸¤è€…å‡ä¸ºIntç±»å‹ã€‚ä¸‰ç»´åæ ‡ç³»å†…ä¸€ç‚¹ï¼Œå°è£…xï¼Œyå’Œzå±æ€§ï¼Œä¸‰è€…å‡ä¸ºDoubleç±»å‹ã€‚</code></pre><p>åœ¨æ‰€æœ‰å…¶å®ƒæ¡ˆä¾‹ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªç±»ï¼Œç”Ÿæˆä¸€ä¸ªå®ƒçš„å®ä¾‹ï¼Œå¹¶é€šè¿‡å¼•ç”¨æ¥ç®¡ç†å’Œä¼ é€’ã€‚å®é™…ä¸­ï¼Œè¿™æ„å‘³ç€ç»å¤§éƒ¨åˆ†çš„è‡ªå®šä¹‰æ•°æ®æ„é€ éƒ½åº”è¯¥æ˜¯ç±»ï¼Œè€Œéç»“æ„ä½“</p><h1 id="å­—ç¬¦ä¸²ã€æ•°ç»„å’Œå­—å…¸ç±»å‹çš„èµ‹å€¼ä¸èµ‹å€¼è¡Œä¸º"><a href="#å­—ç¬¦ä¸²ã€æ•°ç»„å’Œå­—å…¸ç±»å‹çš„èµ‹å€¼ä¸èµ‹å€¼è¡Œä¸º" class="headerlink" title="å­—ç¬¦ä¸²ã€æ•°ç»„å’Œå­—å…¸ç±»å‹çš„èµ‹å€¼ä¸èµ‹å€¼è¡Œä¸º"></a>å­—ç¬¦ä¸²ã€æ•°ç»„å’Œå­—å…¸ç±»å‹çš„èµ‹å€¼ä¸èµ‹å€¼è¡Œä¸º</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Swiftä¸­ï¼Œè®¸å¤šåŸºæœ¬ç±»å‹ï¼Œè¯¸å¦‚Stringï¼ŒArrayå’ŒDictionaryç±»å‹å‡ä»¥ç»“æ„ä½“çš„å½¢å¼å®ç°ã€‚è¿™æ„å‘³ç€è¢«èµ‹å€¼ç»™æ–°çš„å¸¸é‡æˆ–å˜é‡ï¼Œæˆ–è€…è¢«ä¼ å…¥å‡½æ•°æˆ–æ–¹æ³•ä¸­æ—¶ï¼Œå®ƒä»¬çš„å€¼ä¼šè¢«æ‹·è´ã€‚</div><div class="line"></div><div class="line">Objective-Cä¸­NSStringï¼ŒNSArrayå’ŒNSDictionaryç±»å‹å‡ä»¥ç±»çš„å½¢å¼å®ç°ï¼Œè€Œå¹¶éç»“æ„ä½“ã€‚å®ƒä»¬åœ¨è¢«èµ‹å€¼æˆ–è€…è¢«ä¼ å…¥å‡½æ•°æˆ–æ–¹æ³•æ—¶ï¼Œä¸ä¼šå‘ç”Ÿå€¼æ‹·è´ï¼Œè€Œæ˜¯ä¼ é€’ç°æœ‰å®ä¾‹çš„å¼•ç”¨ã€‚</div><div class="line"></div><div class="line">æ³¨æ„ï¼Œä»¥ä¸Šæ˜¯å¯¹å­—ç¬¦ä¸²ã€æ•°ç»„ã€å­—å…¸çš„â€œæ‹·è´â€è¡Œä¸ºçš„æè¿°ã€‚åœ¨ä½ çš„ä»£ç ä¸­ï¼Œæ‹·è´è¡Œä¸ºçœ‹èµ·æ¥ä¼¼ä¹æ€»ä¼šå‘ç”Ÿã€‚ç„¶è€Œï¼ŒSwiftåœ¨å¹•ååªåœ¨ç»å¯¹å¿…è¦æ—¶æ‰æ‰§è¡Œå®é™…çš„æ‹·è´ã€‚Swiftç®¡ç†æ‰€æœ‰çš„å€¼æ‹·è´ä»¥ç¡®ä¿æ€§èƒ½æœ€ä¼˜åŒ–ï¼Œæ‰€ä»¥ä½ æ²¡å¿…è¦å»å›é¿èµ‹å€¼æ¥ä¿è¯æ€§èƒ½æœ€ä¼˜åŒ–</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>OC-UIKit-UImage-åŠ è½½æœ¬åœ°é«˜æ¸…å¤§å›¾</title>
      <link href="/2017/01/16/OC/Kit/UIImage/OC-UIKit-UImage-%E5%8A%A0%E8%BD%BD%E6%9C%AC%E5%9C%B0%E9%AB%98%E6%B8%85%E5%A4%A7%E5%9B%BE/"/>
      <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/pzhtpf/article/details/51027047" target="_blank" rel="external">http://blog.csdn.net/pzhtpf/article/details/51027047</a></p>]]></content>
      
      <categories>
          
          <category> UIKit </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Swift-Grammar--åŸºæœ¬ç±»å‹ä¸è¿ç®—</title>
      <link href="/2016/11/24/Swift/Grammar/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97/"/>
      <content type="html"><![CDATA[<p>1.<a href="#åŸºæœ¬ç±»å‹">åŸºæœ¬ç±»å‹</a><br>  1.1<a href="#æ•°å­—ç±»å‹">æ•°å­—ç±»å‹</a><br>  1.2<a href="#Double">Double</a><br>  1.3<a href="#å¸ƒå°”">å¸ƒå°”</a><br>2.<a href="#ä¸åŒè¿›åˆ¶çš„å‰ç¼€">ä¸åŒè¿›åˆ¶çš„å‰ç¼€</a><br>3.<a href="#å…ƒç»„ï¼ˆTupleï¼‰">å…ƒç»„ï¼ˆTupleï¼‰</a><br>4.<a href="#å¯é€‰ç±»å‹(Optionals">å¯é€‰ç±»å‹(Optionals)</a>)<br>5.<a href="#åŸºæœ¬è¿ç®—">åŸºæœ¬è¿ç®—</a><br>6.<a href="#ç±»å‹å®‰å…¨">ç±»å‹å®‰å…¨</a><br>7.<a href="#æ–­è¨€">æ–­è¨€</a></p><h1 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h1><p><span id="åŸºæœ¬ç±»å‹"></span></p><blockquote><p>å¤šå‡ºæ¥çš„æ˜¯ <strong>Tuple*8 å’Œ </strong>å¯é€‰ç±»å‹**<br>å¸¸é‡å®šä¹‰</p><ul><li>let å¸¸é‡å</li><li>å¸¸é‡åå¯ä»¥æ­»ä»»æ„æ–‡å­—ï¼Œæ–‡å­—é•¿åº¦</li><li>ç»™å¸¸é‡ä¸€ä¸ªå€¼ï¼Œå«èµ‹å€¼</li><li>å½¢å¼ï¼š let å¸¸é‡å = å€¼</li></ul><p>å˜é‡</p></blockquote><ul><li>å¯ä¸»åŠ¨å˜æ›´æˆ–å¯é¢„æœŸæ—¶é—´å†…è‡ªè€¦ä¸œæœ‰è§„å¾‹æˆ–æ— è§„å¾‹çš„é‡</li></ul><blockquote><p>å¸¸é‡å’Œå˜é‡çš„å…³ç³»</p><ul><li>å˜åŒ–æ‰æ˜¯æ°¸æ’ä¸å˜çš„ï¼Œæ— è®ºå¦‚ä½•ï¼Œæ€»æœ‰è§„å¾‹å¯å¾ª</li><li>å˜é‡ä¸å¸¸é‡åœ¨ä¸€å®šæ¡ä»¶ä¸‹å¯ä»¥ç›¸äº’è½¬æ¢</li><li>å¸¸é‡å±€åŠ¿å˜é‡çš„ä¸€ç§</li></ul></blockquote><h2 id="æ•°å­—ç±»å‹"><a href="#æ•°å­—ç±»å‹" class="headerlink" title="æ•°å­—ç±»å‹"></a>æ•°å­—ç±»å‹</h2><p><span id="æ•°å­—ç±»å‹"></span></p><blockquote><p><strong>Int æ•´å‹</strong></p><blockquote><p>ç±»å‹å¯ä»¥ä¸å†™ï¼Œswiftæœ‰ç±»å‹æ¨ç®—åŠŸèƒ½</p></blockquote></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">101</span>    <span class="comment">//å®šä¹‰ä¸€ä¸ªæ•´å‹ åˆå§‹åŒ–ä¸º101</span></div><div class="line"><span class="keyword">var</span> aa:<span class="type">UInt</span> = <span class="number">201</span>  <span class="comment">//æ— ç¬¦å·çš„æ•´å‹ ï¼ˆä¸èƒ½ä¸ºè´Ÿæ•°ï¼‰</span></div></pre></td></tr></table></figure><ul><li>åœ¨32ä½æœºå™¨ä¸Šæ˜¯Int32 </li><li>åœ¨64ä½æœºå™¨ä¸Šæ˜¯Int64</li><li>é™¤äº†Intä¹‹å¤–ï¼Œè¿˜æœ‰Intï¼ŒInt8ï¼ŒInt16ï¼ŒInt32ï¼ŒInt64.</li></ul><blockquote><p>å„ä¸ªå–å€¼èŒƒå›´</p><blockquote><p>å…¶å®å–å€¼èŒƒå›´å°±æ˜¯ è´Ÿ2çš„n-1æ¬¡æ–¹ ~ 2çš„n-1æ¬¡æ–¹-1</p></blockquote></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="type">UInt8</span>.<span class="built_in">max</span>)  <span class="comment">//255</span></div><div class="line"><span class="built_in">print</span>(<span class="type">UInt8</span>.<span class="built_in">min</span>)  <span class="comment">//0</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="type">Int8</span>.<span class="built_in">max</span>) <span class="comment">//127</span></div><div class="line"><span class="built_in">print</span>(<span class="type">Int8</span>.<span class="built_in">min</span>) <span class="comment">//-128</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="type">Int16</span>.<span class="built_in">max</span>)    <span class="comment">//32767</span></div><div class="line"><span class="built_in">print</span>(<span class="type">Int16</span>.<span class="built_in">min</span>)    <span class="comment">//-32768</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="type">Int32</span>.<span class="built_in">max</span>)    <span class="comment">//2147483647</span></div><div class="line"><span class="built_in">print</span>(<span class="type">Int32</span>.<span class="built_in">min</span>)    <span class="comment">//-2147483648</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="type">Int64</span>.<span class="built_in">max</span>)    <span class="comment">//9223372036854775807</span></div><div class="line"><span class="built_in">print</span>(<span class="type">Int64</span>.<span class="built_in">min</span>)    <span class="comment">//-9223372036854775808</span></div></pre></td></tr></table></figure><h2 id="Double"><a href="#Double" class="headerlink" title="Double"></a>Double</h2><p><span id="Double"></span></p><ul><li>swift é»˜è®¤ æµ®ç‚¹å‹æ˜¯ Doubleï¼ˆåŒç²¾åº¦ï¼‰</li><li>64ä½æµ®ç‚¹æ•°</li></ul><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span>  yue = <span class="number">3.5</span></div><div class="line">æˆ–</div><div class="line"><span class="keyword">var</span>  yue : <span class="type">Double</span> = <span class="number">3.5</span></div></pre></td></tr></table></figure><blockquote><p>Float </p></blockquote><ul><li>32ä½æµ®ç‚¹æ•°</li></ul><blockquote><p>Swiftä¸æ”¯æŒæ•°å­—ç±»å‹ä¹‹é—´çš„è‡ªåŠ¨è½¬æ¢ã€‚å¿…é¡»æ˜¾å¼æ‰‹åŠ¨è½¬æ¢<br>æ•°å€¼ç±»å­—é¢é‡å¯ä»¥åŒ…æ‹¬é¢å¤–çš„æ ¼å¼æ¥å¢å¼ºå¯è¯»æ€§ã€‚æ•´æ•°å’Œæµ®ç‚¹æ•°éƒ½å¯ä»¥æ·»åŠ é¢å¤–çš„é›¶å¹¶ä¸”åŒ…å«ä¸‹åˆ’çº¿ï¼Œå¹¶ä¸ä¼šå½±å“å­—é¢é‡</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> i: <span class="type">Int</span> = <span class="number">2_000</span>   <span class="comment">//è¿™ä¸ªè¡¨ç¤º2000  </span></div><div class="line"><span class="keyword">var</span> d: <span class="type">Double</span> = <span class="number">5.3</span>  </div><div class="line"><span class="keyword">var</span> e = d * <span class="type">Double</span>(i)</div></pre></td></tr></table></figure><h2 id="å¸ƒå°”"><a href="#å¸ƒå°”" class="headerlink" title="å¸ƒå°”"></a>å¸ƒå°”</h2><p><span id="å¸ƒå°”"></span></p><blockquote><p>Bool è¡¨ç¤ºé€»è¾‘ä¸Šçš„çœŸå‡ï¼š trueã€false<br>Swiftå’Œjavaä¸€æ ·ï¼Œå¯¹booleanç±»å‹æ˜¯å¼ºè¦æ±‚çš„ï¼Œä¸èƒ½åœ¨ifé‡Œé¢ä¼ ä¸€ä¸ªæ•´å½¢ç”¨äºåˆ¤æ–­</p></blockquote><h1 id="ä¸åŒè¿›åˆ¶çš„å‰ç¼€"><a href="#ä¸åŒè¿›åˆ¶çš„å‰ç¼€" class="headerlink" title="ä¸åŒè¿›åˆ¶çš„å‰ç¼€"></a>ä¸åŒè¿›åˆ¶çš„å‰ç¼€</h1><p><span id="ä¸åŒè¿›åˆ¶çš„å‰ç¼€"></span><br>|||<br>|â€”|â€”|<br>|åè¿›åˆ¶|æ²¡æœ‰|<br>|äºŒè¿›åˆ¶   |     0b|<br>|å…«è¿›åˆ¶  |      0o|<br>|åå…­è¿›åˆ¶ |     0x|<br>|ç§‘å­¦è®¡æ•°|<br>|1.25e2 |ä»£è¡¨   1.25ä¹˜ä¸Š10çš„2æ¬¡æ–¹|<br>|0xFp2  |ä»£è¡¨   15ä¹˜ä¸Š2çš„2æ¬¡æ–¹|<br>|typealias|    å…³é”®å­—ï¼Œç”¨æ¥ä¸ªç±»å‹èµ·åˆ«å|</p><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">typealias</span> ii = <span class="type">Int8</span>  </div><div class="line">  <span class="keyword">var</span> mm = ii.<span class="built_in">min</span> <span class="comment">//è¿™é‡Œçš„iiä»£è¡¨äº†Int8 </span></div><div class="line">  <span class="keyword">var</span> data1 = <span class="number">17</span>     <span class="comment">//17</span></div><div class="line"><span class="keyword">var</span> data2 = <span class="number">0b1010111</span>   <span class="comment">//87</span></div><div class="line"><span class="keyword">var</span> data3 = <span class="number">0o713</span>   <span class="comment">//459</span></div><div class="line"><span class="keyword">var</span> data4 = <span class="number">0xaf7</span>   <span class="comment">//2807</span></div></pre></td></tr></table></figure><h1 id="å…ƒç»„-Tuple"><a href="#å…ƒç»„-Tuple" class="headerlink" title="å…ƒç»„(Tuple)"></a>å…ƒç»„(Tuple)</h1><p><span id="å…ƒç»„(Tuple)"></span></p><blockquote><p>Tuple:å®šä¹‰å˜é‡ç»„åˆ<br>å…¶å®å°±æ˜¯ä¸€ç¾¤æ•°æ®ç»„åˆï¼Œå¯ä»¥å°†å…¶è§£å‡ºæ¥è¾“å‡º<br>æ³¨æ„çš„æ˜¯tupleä¸åªæ˜¯ä¸¤ä¸ªå…ƒç´ ï¼Œä½ å¯ä»¥è‡ªå·±æ‰©å±•æˆå¤šä¸ªå…ƒç´ </p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> var x= 1</div><div class="line"> var y = 2</div><div class="line"> var z = 3</div><div class="line"> </div><div class="line">var å‘é‡ = ï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰</div><div class="line">print (å‘é‡.0 ,å‘é‡.1 ,å‘é‡.2)</div><div class="line"></div><div class="line">var (x,y,z) = (1,2,3)</div><div class="line">print (x,y,z)</div><div class="line"></div><div class="line">// å€¼å‰åŠ å‰ç¼€</div><div class="line">var è¯¾ç¨‹ = (day:100,unit:&quot;å¤©&quot;,lanage:&quot;swift&quot;,version:&quot;3.0&quot;);</div><div class="line">printè¯¾ç¨‹. day)</div></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> menu = (<span class="string">"apple"</span>, <span class="number">20</span>)  <span class="comment">//å®šä¹‰ä¸€ä¸ªTuple  </span></div><div class="line"><span class="keyword">var</span> menu2 = (name: <span class="string">"banana"</span>, price:<span class="number">10</span>)  <span class="comment">//å¯ä»¥åœ¨å®šä¹‰çš„æ—¶å€™æŒ‡å®šå…ƒç´ åå­—  </span></div><div class="line"><span class="keyword">let</span> (name,price) = menu   <span class="comment">//è§£Tupleï¼Œå¦‚æœæŸä¸ªå…ƒç´ ä¸æƒ³è¦çš„è¯ï¼Œç”¨ _ ä»£æ›¿  </span></div><div class="line"><span class="built_in">print</span>(name, price)   <span class="comment">//è¾“å‡º  apple 20  </span></div><div class="line"><span class="built_in">print</span>(menu.<span class="number">0</span>,menu.<span class="number">1</span>)  <span class="comment">//ä¸è§£Tupleç›´æ¥è¾“å‡º  </span></div><div class="line"><span class="built_in">print</span>(menu2.name,menu2.price)  <span class="comment">//åˆ©ç”¨å…ƒç´ åå­—è§£Tuple</span></div></pre></td></tr></table></figure><h2 id="å¯é€‰ç±»å‹-Optionals"><a href="#å¯é€‰ç±»å‹-Optionals" class="headerlink" title="å¯é€‰ç±»å‹(Optionals)"></a>å¯é€‰ç±»å‹(Optionals)</h2><p><span id="å¯é€‰ç±»å‹(Optionals)"></span></p><blockquote><p>å½“ä¸€ä¸ªæ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå®ƒæœ‰å¯èƒ½è¿”å›ä¸€ä¸ªç©ºå€¼<br>æ¯”å¦‚å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æ–¹æ³•ã€‚ä¸ºäº†å¤„ç†è¿™ç§æƒ…å†µï¼Œæœ‰äº†å¯é€‰ç±»å‹ã€‚<br>å¯é€‰ç±»å‹è¡¨ç¤ºä¸€ä¸ªæ•°æ®ï¼Œå®ƒå¯èƒ½æœ‰å€¼ï¼Œä¹Ÿå¯èƒ½ä¸ºç©ºã€‚åŸºæœ¬è¯­æ³•æ˜¯åœ¨ç±»å‹çš„åé¢åŠ ä¸Šé—®å· ï¼Ÿ</p><p>å®šä¹‰å½¢å¼</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">å½¢å¼: var å˜é‡ï¼šç±»å‹?,é»˜è®¤æ— å€¼ï¼ˆnilï¼‰</div><div class="line"> </div><div class="line">var addressStr:String  </div><div class="line">print(addressStr)  //è¿™é‡ŒæŠ¥é”™è¯´stræ²¡åˆå§‹åŒ–  </div><div class="line"></div><div class="line">var addressStr:String?</div><div class="line">addressStr = &quot;æ­å·&quot;</div></pre></td></tr></table></figure><blockquote><p>ä½†æ˜¯å¦‚æœå°†stræ”¹ä¸ºå¯é€‰ç±»å‹ï¼Œé‚£ä¹ˆè¿™å°±å¯ä»¥è¾“å‡º</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str:<span class="type">String</span>?  </div><div class="line"><span class="built_in">print</span>(str)  <span class="comment">//è¾“å‡º nil</span></div></pre></td></tr></table></figure><blockquote><p>å¯é€‰ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„ç±»å‹ â€“&gt;å¯¹å¯é€‰ç±»å‹è§£åŒ…<br>å¼ºåˆ¶è§£åŒ…æœ‰ä¸ªæ³¨æ„ç‚¹ï¼Œå°±æ˜¯å¦‚æœè¿™ä¸ªå¯é€‰ç±»å‹æ˜¯nilçš„è¯ï¼Œé‚£ä¹ˆå¼ºåˆ¶è§£åŒ…çš„è¯­å¥ä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str:<span class="type">String</span>? = <span class="string">"fe"</span>  </div><div class="line"><span class="keyword">var</span> s = str! <span class="comment">//å°†strè§£åŒ…ä¸ºsï¼Œä½†æ˜¯å¦‚æœstræ²¡æœ‰èµ‹å€¼çš„è¯ï¼Œé‚£ä¹ˆè¿™å¥ä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™  </span></div><div class="line"><span class="built_in">print</span>(s)</div></pre></td></tr></table></figure><blockquote><p>è§£å†³å¼ºåˆ¶è§£åŒ…çš„æ—¶å€™ï¼Œå¯é€‰ç±»å‹å¯èƒ½ä¸ºnilçš„é—®é¢˜ã€‚ifè¯­å¥é‡Œé¢å¤šäº†ä¸€ä¸ª Optional Binding çš„æ¦‚å¿µã€‚å°±æ˜¯å°†å¯é€‰ç±»å‹è§£åŒ…ååˆ¤æ–­æ˜¯å¦ä¸ºnilï¼Œç„¶åæ‰§è¡Œä¸åŒçš„åˆ†æ”¯ä»£ç  </p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//å› ä¸ºæ²¡ç»™strèµ‹å€¼ï¼Œæ‰€ä»¥è¾“å‡º  strä¸ºç©º  </span></div><div class="line"><span class="keyword">var</span> str:<span class="type">String</span>?  </div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> s = str &#123;  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"stræœ‰å€¼"</span>)  </div><div class="line">&#125; <span class="keyword">else</span> &#123;  </div><div class="line">    <span class="built_in">print</span>(<span class="string">"strä¸ºç©º"</span>)  </div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>åœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿å¯é€‰ç±»å‹ä¸€å®šä¸ä¸ºnilçš„ï¼Œé‚£ä¹ˆæ¯æ¬¡è¦å°†å¯é€‰ç±»å‹è§£åŒ…éƒ½è¦åŠ ä¸ª !ï¼Œå¾ˆéº»çƒ¦ã€‚æ‰€ä»¥æœ‰äº†éšå¼å¯é€‰ç±»å‹ï¼Œå®ƒæ˜¯ç”¨ ! ä»£æ›¿äº† ? å·ã€‚ç„¶ååœ¨éœ€è¦å°†å¯é€‰ç±»å‹è½¬æ¢ä¸ºå¯¹åº”ç±»å‹çš„æ—¶å€™å°±ä¸ç”¨åŠ  ! äº†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> str:<span class="type">String</span>! = <span class="string">"string"</span>  </div><div class="line"><span class="keyword">var</span> s = str</div></pre></td></tr></table></figure><h1 id="åŸºæœ¬è¿ç®—"><a href="#åŸºæœ¬è¿ç®—" class="headerlink" title="åŸºæœ¬è¿ç®—"></a>åŸºæœ¬è¿ç®—</h1><p><span id="åŸºæœ¬è¿ç®—"></span></p><h2 id="ä¸€äº›å’ŒCå®Œå…¨ä¸€æ ·çš„åŸºæœ¬è¿ç®—"><a href="#ä¸€äº›å’ŒCå®Œå…¨ä¸€æ ·çš„åŸºæœ¬è¿ç®—" class="headerlink" title="ä¸€äº›å’ŒCå®Œå…¨ä¸€æ ·çš„åŸºæœ¬è¿ç®—"></a>ä¸€äº›å’ŒCå®Œå…¨ä¸€æ ·çš„åŸºæœ¬è¿ç®—</h2><blockquote><p>åŠ å‡ä¹˜é™¤ï¼Œè´Ÿå·ï¼Œè‡ªå¢ï¼ˆ++ï¼‰è‡ªå‡ï¼ˆâ€“ï¼‰ï¼Œ+=ç­‰ï¼Œ åˆ¤æ–­å¤§å°ä¹‹ç±»ï¼ˆ==ï¼Œ!=ï¼Œ&gt;=â€¦ï¼‰ï¼Œä¸‰å…ƒè¿ç®—ç¬¦ï¼Œé€»è¾‘è¿ç®—ï¼ˆ!ï¼Œ&amp;&amp;ï¼Œ||ï¼‰</p></blockquote><h2 id="ä¸ä¸€æ ·çš„è¿ç®—ç¬¦"><a href="#ä¸ä¸€æ ·çš„è¿ç®—ç¬¦" class="headerlink" title="ä¸ä¸€æ ·çš„è¿ç®—ç¬¦"></a>ä¸ä¸€æ ·çš„è¿ç®—ç¬¦</h2><p><span id="ä¸ä¸€æ ·çš„è¿ç®—ç¬¦"></span></p><h3 id="å–æ¨¡"><a href="#å–æ¨¡" class="headerlink" title="å–æ¨¡%"></a>å–æ¨¡%</h3><blockquote><p>åœ¨Cä¸­ï¼Œåªèƒ½å¯¹æ•´å½¢è¿›è¡Œè¿ç®—<br>Swiftä¸­å¯ä»¥å¯¹æµ®ç‚¹æ•°è¿›è¡Œè¿ç®—ã€‚ç»“æœå°±æ˜¯å¤šå‡ºæ¥çš„é‚£éƒ¨åˆ†</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">æ¯”å¦‚ <span class="number">7.1</span>%<span class="number">2.5</span>  å¾—åˆ°<span class="number">2.1</span>ï¼Œå› ä¸º<span class="number">7.1</span>å¯ä»¥æœ€å¤šå‡å»<span class="number">2</span>ä¸ª<span class="number">2.5</span>ï¼Œç„¶åå‰©ä¸‹<span class="number">2.1</span></div></pre></td></tr></table></figure><h3 id="èŒƒå›´è¿ç®—ç¬¦"><a href="#èŒƒå›´è¿ç®—ç¬¦" class="headerlink" title="èŒƒå›´è¿ç®—ç¬¦"></a>èŒƒå›´è¿ç®—ç¬¦</h3><blockquote><p> â€¦ å’Œ ..&lt;ä¸¤ä¸ªè¿ç®—ç¬¦å¯ä»¥ç”¨åœ¨foré‡Œé¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//è¾“å‡º 1 2 3    åŒ…å«æœ€åä¸€ä¸ªå…ƒç´ 3  </span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">3</span> &#123;  </div><div class="line">    <span class="built_in">print</span>(i)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//è¾“å‡º 1 2  ä¸åŒ…å«æœ€åä¸€ä¸ªå…ƒç´ 3  </span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>..&lt;<span class="number">3</span> &#123;  </div><div class="line">    <span class="built_in">print</span>(i)  </div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="å•èŒƒå›´è¿ç®—ç¬¦"><a href="#å•èŒƒå›´è¿ç®—ç¬¦" class="headerlink" title="å•èŒƒå›´è¿ç®—ç¬¦"></a>å•èŒƒå›´è¿ç®—ç¬¦</h3><blockquote><p>å¯¹äºä¸‹æ ‡è¿ç®—å¯ä»¥è¿™æ ·ç”¨</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> names = [<span class="string">"Anna"</span>, <span class="string">"Alex"</span>, <span class="string">"Brian"</span>, <span class="string">"Jack"</span>]  </div><div class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names[<span class="number">2</span>...] &#123;  </div><div class="line">    <span class="built_in">print</span>(name)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">// Brian  </span></div><div class="line"><span class="comment">// Jack  </span></div><div class="line">   </div><div class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names[...<span class="number">2</span>] &#123;  </div><div class="line">    <span class="built_in">print</span>(name)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">// Anna  </span></div><div class="line"><span class="comment">// Alex  </span></div><div class="line"><span class="comment">// Brian  </span></div><div class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names[..&lt;<span class="number">2</span>] &#123;  </div><div class="line">    <span class="built_in">print</span>(name)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">// Anna  </span></div><div class="line"><span class="comment">// Alex</span></div></pre></td></tr></table></figure><h3 id="å‡ å…ƒæ“ä½œç¬¦"><a href="#å‡ å…ƒæ“ä½œç¬¦" class="headerlink" title="å‡ å…ƒæ“ä½œç¬¦"></a>å‡ å…ƒæ“ä½œç¬¦</h3><ul><li><p>æ“ä½œå‡ ä¸ªå¯¹è±¡ ï¼Œè¢«ç§°ä¹‹ä¸ºå‡ å…ƒæ“ä½œç¬¦</p><blockquote><p>ä¸€å…ƒè¿ç®—ç¬¦</p><ul><li>æ“ä½œä¸€ä¸ªç›®æ ‡ï¼Œæ˜¯ä¸€å…ƒæ“ä½œç¬¦ </li></ul></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">-6    // ç¬¦å· ç´§è·Ÿ 6ï¼Œæ˜¯ä¸€å…ƒè¿ç®—ç¬¦</div><div class="line">let b = -a</div></pre></td></tr></table></figure></li></ul><blockquote><p> äºŒå…ƒè¿ç®—ç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="number">3</span> + <span class="number">4</span> <span class="comment">//ä¸¤ä¸ªç›®æ ‡ä¹‹é—´ï¼Œæ“ä½œ2ä¸ªå¯¹è±¡ï¼Œä¹ æƒ¯å·¦å³ç•™ç©ºæ ¼</span></div><div class="line"></div><div class="line"></div><div class="line">a ?? b</div><div class="line"></div><div class="line">å®ƒçš„æ„æ€æ˜¯ï¼šå¦‚æœå¯é€‰ç±»å‹aä¸æ˜¯<span class="literal">nil</span>ï¼Œé‚£ä¹ˆè§£åŒ…aå¹¶è¿”å›è§£åŒ…å€¼ï¼Œå¦‚æœaä¸º<span class="literal">nil</span>ï¼Œé‚£ä¹ˆè¿”å›b</div><div class="line"></div><div class="line">ç›¸å½“äº a != <span class="literal">nil</span> ? a! : b</div></pre></td></tr></table></figure><blockquote><p>èµ‹å€¼æ“ä½œç¬¦</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> yue = <span class="number">3</span>  <span class="comment">// ç”¨ç­‰å·å³è¾¹çš„å€¼æ¥æ›´æ–°å·¦è¾¹å˜é‡çš„å€¼</span></div><div class="line">yue = <span class="number">5</span></div></pre></td></tr></table></figure><blockquote><p>æ•°å­¦æ“ä½œç¬¦(+ - * /)</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div></pre></td></tr></table></figure><h1 id="ç±»å‹å®‰å…¨"><a href="#ç±»å‹å®‰å…¨" class="headerlink" title="ç±»å‹å®‰å…¨"></a>ç±»å‹å®‰å…¨</h1><p><span id="ç±»å‹å®‰å…¨"></span></p><blockquote><p>å˜é‡ï¼ˆåŒ…å«letï¼‰ä¸€æ—¦å®šä¹‰ï¼Œå…¶ç±»å‹ä¸å¯æ”¹å˜ï¼Œä¸èƒ½ç»™ä¸€ä¸ªå˜é‡ä¸€ä¸ªç±»å‹ä¸åŒçš„å€¼</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span>  ç”µè´¹ = <span class="number">3.5</span></div><div class="line">ç‚¹è´¹ = <span class="number">5</span> </div><div class="line"><span class="built_in">print</span> (ç”µè´¹)     æ‰“å°ï¼š<span class="number">5.0</span></div><div class="line">ç”µè´¹ = â€œäº”â€       <span class="type">Error</span></div></pre></td></tr></table></figure><p>#æ–­è¨€<br><span id="æ–­è¨€"></span></p><blockquote><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœå€¼ç¼ºå¤±æˆ–è€…å€¼å¹¶ä¸æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶ï¼Œä½ çš„ä»£ç å¯èƒ½å¹¶ä¸éœ€è¦ç»§ç»­æ‰§è¡Œã€‚è¿™æ—¶ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ä»£ç ä¸­è§¦å‘ä¸€ä¸ªæ–­è¨€(assertion)æ¥ç»“æŸä»£ç è¿è¡Œå¹¶é€šè¿‡è°ƒè¯•æ¥æ‰¾åˆ°å€¼ç¼ºå¤±çš„åŸå› ã€‚<br>å¦‚æœæ¡ä»¶åˆ¤æ–­ä¸ºtrueï¼Œä»£ç è¿è¡Œä¼šç»§ç»­è¿›è¡Œï¼›å¦‚æœæ¡ä»¶åˆ¤æ–­ä¸ºfalseï¼Œä»£ç è¿è¡Œåœæ­¢ï¼Œä½ çš„åº”ç”¨è¢«ç»ˆæ­¢</p></blockquote><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> age = -<span class="number">10</span></div><div class="line"> <span class="comment">//ä½ å¯ä»¥åœ¨æ–­è¨€åŠ ä¸€ä¸ªä¿¡æ¯</span></div><div class="line"> <span class="built_in">assert</span>(age&gt;<span class="number">0</span> , <span class="string">"age can not be less than zero"</span>)</div><div class="line"> <span class="comment">//ç¨‹åºè¿è¡Œåˆ°è¿™é‡Œä¼šcrashæ‰ åé¢çš„ç¨‹åºä¸ä¼šå†æ‰§è¡Œ</span></div><div class="line"> <span class="built_in">print</span>(<span class="string">"hello"</span>)</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> Swift </category>
          
          <category> Grammar </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS</title>
      <link href="/2016/11/23/OC/Grammar/iOS/"/>
      <content type="html"><![CDATA[<p><a href="https://juejin.im/post/5a0a92996fb9a0451f307479" target="_blank" rel="external">iOSå¤šçº¿ç¨‹çš„é”</a></p>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> Refer </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>iOS-UIKit-Autoreleasepool</title>
      <link href="/2015/11/22/OC/Kit/Autoreleasepool/"/>
      <content type="html"><![CDATA[<h1 id="Autoreleasepoolé‡Šæ”¾æ—¶æœº"><a href="#Autoreleasepoolé‡Šæ”¾æ—¶æœº" class="headerlink" title="Autoreleasepoolé‡Šæ”¾æ—¶æœº"></a>Autoreleasepoolé‡Šæ”¾æ—¶æœº</h1><ul><li>æ¯ä¸ªä¸ªRunloopå·²ç»é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªAutoreleasepool</li><li>æ–°å¢å¯¹Runloopçš„Observer, åŠæ—¶è·å–Runloopçš„çŠ¶æ€å˜åŒ–ç¡®è®¤é‡Šæ”¾æ—¶æœº</li></ul><h2 id="æ·»åŠ ä¸€ä¸ªç›‘å¬è€…"><a href="#æ·»åŠ ä¸€ä¸ªç›‘å¬è€…" class="headerlink" title="æ·»åŠ ä¸€ä¸ªç›‘å¬è€…"></a>æ·»åŠ ä¸€ä¸ªç›‘å¬è€…</h2><blockquote><p>åˆ›å»ºç›‘å¬è€…</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">- (void)addRunLoopObserver &#123;</div><div class="line">    CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(kCFAllocatorDefault, kCFRunLoopAllActivities, YES, 0, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) &#123;</div><div class="line"></div><div class="line">        switch (activity) &#123;</div><div class="line">            case kCFRunLoopEntry:</div><div class="line">                NSLog(@&quot;è¿›å…¥RunLoop&quot;);</div><div class="line">                break;</div><div class="line">            case kCFRunLoopBeforeTimers:</div><div class="line">                NSLog(@&quot;å³å°†å¤„ç†Timeräº‹ä»¶&quot;);</div><div class="line">                break;</div><div class="line">            case kCFRunLoopBeforeSources:</div><div class="line">                NSLog(@&quot;å³å°†å¤„ç†Sourceäº‹ä»¶&quot;);</div><div class="line">                break;</div><div class="line">            case kCFRunLoopBeforeWaiting:</div><div class="line">                NSLog(@&quot;å³å°†ä¼‘çœ &quot;);</div><div class="line">                break;</div><div class="line">            case kCFRunLoopAfterWaiting:</div><div class="line">                NSLog(@&quot;è¢«å”¤é†’&quot;);</div><div class="line">                break;</div><div class="line">            case kCFRunLoopExit:</div><div class="line">                NSLog(@&quot;é€€å‡ºRunLoop&quot;);</div><div class="line">                break;</div><div class="line">            default:</div><div class="line">                break;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div></pre></td></tr></table></figure><blockquote><p>æ·»åŠ ç›‘å¬è€…</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">    CFRunLoopAddObserver(CFRunLoopGetMain(), observer, kCFRunLoopCommonModes);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><blockquote><p>ä¸æ‰‹åŠ¨æ·»åŠ autoreleasepool</p></blockquote><ul><li>æ–¹æ³•è¿è¡Œè¿ç»­è¿è¡Œä¸¤æ¬¡, ä¸æ‰‹åŠ¨æ·»åŠ autoreleasepool</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">- (void)test1 &#123;</div><div class="line"></div><div class="line">    NSLog(@&quot;test1 begin!&quot;);</div><div class="line">    for (int i = 0; i &lt; 10e5 * 2; i++) &#123;</div><div class="line">        //@autoreleasepool &#123;</div><div class="line">            NSString *str = [NSString stringWithFormat:@&quot;hi + %d&quot;, i];</div><div class="line">        //&#125;</div><div class="line">    &#125;</div><div class="line">    NSLog(@&quot;test1 finished!&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)test2 &#123;</div><div class="line"></div><div class="line">    NSLog(@&quot;test2 begin!&quot;);</div><div class="line">    for (int i = 0; i &lt; 10e5 * 2; i++) &#123;</div><div class="line">        //@autoreleasepool &#123;</div><div class="line">            NSString *str = [NSString stringWithFormat:@&quot;hi + %d&quot;, i];</div><div class="line">        //&#125;</div><div class="line">    &#125;</div><div class="line">    NSLog(@&quot;test2 finished!&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Autoreleasepool-001.png" alt="001"></p><ul><li>Runloopæ²¡æœ‰å®Œæˆä¸€æ¬¡å¾ªç¯ä¹‹å‰æ‰€æœ‰å†…å­˜éƒ½æœªé‡Šæ”¾, </li><li>å³ä½¿å±€éƒ¨å˜é‡å‡ºäº†ä½œç”¨åŸŸä¹Ÿå¿…é¡»ç­‰å¾…Runloopå¾ªç¯å®Œæˆ</li></ul><blockquote><p>æ‰‹åŠ¨æ·»åŠ autoreleasepoolè§‚å¯Ÿé‡Šæ”¾æ—¶æœº</p></blockquote><p><img src="http://ozr735s7e.bkt.clouddn.com/iOS-Func-Autoreleasepool-002.png" alt="002"></p><ul><li>for{@autoreleasepool{}} æ•ˆæœå¥½äº  @autoreleasepool{forâ€¦}<h1 id="autoreleasepool"><a href="#autoreleasepool" class="headerlink" title="@autoreleasepool{}"></a>@autoreleasepool{}</h1></li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">@autoreleasepool&#123;&#125;</div></pre></td></tr></table></figure><p>ç­‰ä»·äº</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">void *context = objc_autoreleasePoolPush();</div><div class="line">// &#123;&#125;ä¸­çš„ä»£ç </div><div class="line">objc_autoreleasePoolPop(context);</div></pre></td></tr></table></figure><ul><li>æ¯æ¬¡å‡ºäº†{}æ—¶objc_autoreleasePoolPop()å°±è¢«è°ƒç”¨, æ‰€ä»¥ç›´æ¥é‡Šæ”¾æ‰äº†. </li><li>å½“ç„¶, ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„autoreleasepoolä¹Ÿæ˜¯ä¸€æ ·, åªæ˜¯è°ƒç”¨çš„æ—¶æœºä¸åŒ:  çº¿ç¨‹ä¸Runloopæ˜¯ä¸€ä¸€å¯¹åº”, Runloopä¸ç³»ç»Ÿåˆ›å»ºçš„autoreleasepoolä¹Ÿæ˜¯ä¸€ä¸€å¯¹åº”, æ‰€ä»¥ä¸è®ºæ˜¯Runloopå®Œæˆäº†ä¸€æ¬¡å¾ªç¯è¿˜æ˜¯çº¿ç¨‹è¢«å…³é—­æ—¶,  autoreleasepooléƒ½ä¼šé‡Šæ”¾, å½“ç„¶æ‰‹åŠ¨æ·»åŠ çš„ä¹Ÿä¼šè¢«ç®¡ç†</li><li>ä¸»è¦å°±æ˜¯ä¸€ä¸ªç±»:AutoreleasePoolPage</li><li>ä¸¤ä¸ªå‡½æ•°: objc_autoreleasePoolPush()ã€objc_autoreleasePoolPop()</li><li>è¿ä½œæ–¹å¼: autoreleasepoolç”±è‹¥å¹²ä¸ªautoreleasePoolPageç±»ä»¥åŒå‘é“¾è¡¨çš„å½¢å¼ç»„åˆè€Œæˆ</li><li>å½“ç¨‹åºè¿è¡Œåˆ°@autoreleasepool{æ—¶, objc_autoreleasePoolPush()å°†è¢«è°ƒç”¨, runtimeä¼šå‘å½“å‰çš„AutoreleasePoolPageä¸­æ·»åŠ ä¸€ä¸ªnilå¯¹è±¡ä½œä¸ºå“¨å…µ,åœ¨{}ä¸­åˆ›å»ºçš„å¯¹è±¡ä¼šè¢«ä¾æ¬¡è®°å½•åˆ°AutoreleasePoolPageçš„æ ˆé¡¶æŒ‡é’ˆ,å½“è¿è¡Œå®Œ@autoreleasepool{}æ—¶, objc_autoreleasePoolPop(å“¨å…µ)å°†è¢«è°ƒç”¨, runtimeå°±ä¼šå‘AutoreleasePoolPageä¸­è®°å½•çš„å¯¹è±¡å‘é€releaseæ¶ˆæ¯ç›´åˆ°å“¨å…µçš„ä½ç½®, å³å®Œæˆäº†ä¸€æ¬¡å®Œæ•´çš„è¿ä½œ. </li><li>ä¸»çº¿ç¨‹ä¸­çš„è‡ªåŠ¨é‡Šæ”¾æ± æ˜¯è‡ªåŠ¨åˆ›å»ºçš„, æ–‡æ¡£ä¸­è¯´å­çº¿ç¨‹ä¸­çš„è‡ªåŠ¨é‡Šæ”¾æ± æ˜¯éœ€è¦æ‰‹åŠ¨åˆ›å»ºçš„, ä½†å®æµ‹, å…¶å®æˆ‘ä»¬å¸¸ç”¨çš„å¤šçº¿ç¨‹ç®¡ç†æ–¹å¼(GCD, NSOprationQueue, NSThread)éƒ½å·²ç»å¸®æˆ‘ä»¬å¤„ç†å¥½äº†, å…¶ä¸­NSThreadåœ¨iOS7ä¹‹åæ‰è‡ªåŠ¨åˆ›å»ºçº¿ç¨‹ä¸­çš„AutoreleasePool</li><li>æˆ‘ä»¬å¸¸ç”¨çš„forå¾ªç¯, ä»¥åŠenumerateå…¶å®è·Ÿautoreleasepoolä¹Ÿæœ‰å…³, forå¾ªç¯æ˜¯ä¸è‡ªåŠ¨åˆ›å»ºautoreleasepoolçš„, è€Œenumerateä¸­å·²ç»è‡ªåŠ¨åˆ›å»ºäº†autoreleasepool, å€¼å¾—æ³¨æ„çš„æ˜¯é«˜å¹¶å‘enumerateå¸¸å¸¸ä¼šå‡ºä¸€äº›æ„å¤–çš„é—®é¢˜, ä¾‹å¦‚å¯¹è±¡è¢«æå‰é‡Šæ”¾, æ‰€ä»¥å»ºè®®é«˜å¹¶å‘æƒ…å†µä¸‹ä½¿ç”¨forå¾ªç¯(æ€§èƒ½é«˜äºenumerate), å†æ‰‹åŠ¨æ·»åŠ autoreleasepool.</li></ul>]]></content>
      
      <categories>
          
          <category> iOS </category>
          
          <category> UIKit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> UIKit </tag>
            
            <tag> Autoreleasepool </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>iOS-Lib-UM-UMAnalyticså‹ç›Ÿç»Ÿè®¡</title>
      <link href="/2015/11/20/OC/Lib/OC-Lib-UM-UMAnalytics%E5%8F%8B%E7%9B%9F%E7%BB%9F%E8%AE%A1/"/>
      <content type="html"><![CDATA[<h1 id="UMAnalyticså‹ç›Ÿç»Ÿè®¡åŸ‹ç‚¹"><a href="#UMAnalyticså‹ç›Ÿç»Ÿè®¡åŸ‹ç‚¹" class="headerlink" title="UMAnalyticså‹ç›Ÿç»Ÿè®¡åŸ‹ç‚¹"></a>UMAnalyticså‹ç›Ÿç»Ÿè®¡åŸ‹ç‚¹</h1><p><a href="http://dev.umeng.com/analytics/ios-doc/integration#7" target="_blank" rel="external"><strong>å®˜æ–¹ é…ç½® æ–‡æ¡£</strong>â€”&gt; Go!</a></p><h1 id="é…ç½®é›†æˆ"><a href="#é…ç½®é›†æˆ" class="headerlink" title="é…ç½®é›†æˆ"></a>é…ç½®é›†æˆ</h1><h2 id="Appkey"><a href="#Appkey" class="headerlink" title="Appkey"></a>Appkey</h2><p>ä¸åŒå¹³å°çš„åº”ç”¨ç¦æ­¢ä½¿ç”¨ç›¸åŒçš„Appkeyï¼Œéœ€è¦åˆ†å¼€æ³¨å†Œ<br>å‹ç›Ÿåå°çš„åº”ç”¨åä¸å®é™…åº”ç”¨åå’ŒåŒ…åæ— å…³ï¼Œå»ºè®®å‘½åä¸ºâ€œåº”ç”¨å+å¹³å°ï¼ˆIOS/Android)â€</p><h2 id="ä½¿ç”¨-Cocoapods-å®‰è£…-SDK"><a href="#ä½¿ç”¨-Cocoapods-å®‰è£…-SDK" class="headerlink" title="ä½¿ç”¨ Cocoapods å®‰è£… SDK"></a>ä½¿ç”¨ Cocoapods å®‰è£… SDK</h2><blockquote><p>//æ ‡å‡†SDKï¼Œå«IDFA</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">pod &apos;UMengAnalytics&apos;</div></pre></td></tr></table></figure><blockquote><p>æ— IDFAç‰ˆSDKï¼ˆè¯·æ ¹æ®éœ€è¦é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼‰</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">pod &apos;UMengAnalytics-NO-IDFA&apos;</div></pre></td></tr></table></figure><h1 id="åŸºæœ¬åŠŸèƒ½é›†æˆ"><a href="#åŸºæœ¬åŠŸèƒ½é›†æˆ" class="headerlink" title="åŸºæœ¬åŠŸèƒ½é›†æˆ"></a>åŸºæœ¬åŠŸèƒ½é›†æˆ</h1><h2 id="é…ç½®-AppDelegate-m"><a href="#é…ç½®-AppDelegate-m" class="headerlink" title="é…ç½® AppDelegate.m"></a>é…ç½® AppDelegate.m</h2><blockquote><p>ä¸»è¦åŒ…æ‹¬å¡«å†™Appkeyï¼Œè®¾ç½®å‘é€ç­–ç•¥å’Œå¡«å†™æ¸ é“idä¸‰éƒ¨åˆ†<br>UMConfigInstanceä¸ºSDKå‚æ•°é…ç½®çš„å®ä¾‹ç±»ï¼Œåªéœ€è¦å°†å…¶æˆå‘˜ä¸­æ ‡æ³¨ä¸ºrequiredçš„å‚æ•°èµ‹å€¼ï¼Œoptionalçš„ä¸ºå¯é€‰é¡¹ã€‚<br>appKey:    ç»Ÿè®¡åˆ†æ-&gt;è®¾ç½®-&gt;åº”ç”¨ä¿¡æ¯<br>ChannelId: åº”ç”¨çš„æ¸ é“æ ‡è¯†ã€‚é»˜è®¤ä¸º @â€App Storeâ€</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">å¤´æ–‡ä»¶ï¼š&quot;UMMobClick/MobClick.h&quot;</div><div class="line">- (BOOL])application:(UIApplication] *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions</div><div class="line">&#123;</div><div class="line">    UMConfigInstance.appKey = @&quot;xxxxxxxxxxxxxx...&quot;;</div><div class="line">    UMConfigInstance.ChannelId = @&quot;App Store&quot;;</div><div class="line">    //ä»…é€‚ç”¨äºæ¸¸æˆåœºæ™¯ï¼Œåº”ç”¨ç»Ÿè®¡ä¸ç”¨è®¾ç½®   </div><div class="line">    UMConfigInstance.eSType = E_UM_GAME;</div><div class="line">    //é…ç½®ä»¥ä¸Šå‚æ•°åè°ƒç”¨æ­¤æ–¹æ³•åˆå§‹åŒ–SDKï¼    </div><div class="line">    [MobClick startWithConfigure:UMConfigInstance];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="é¡µé¢çš„ç»Ÿè®¡"><a href="#é¡µé¢çš„ç»Ÿè®¡" class="headerlink" title="é¡µé¢çš„ç»Ÿè®¡"></a>é¡µé¢çš„ç»Ÿè®¡</h1><blockquote><p>runtimeå†™äº¤æ¢æ–¹æ³•ä¸å¤ªå¥½<br>åŸºç¡€ç±»å¯å¢åŠ </p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line"> - (void)viewWillAppear:(BOOL)animated</div><div class="line">    &#123;</div><div class="line">        [super viewWillAppear:animated];</div><div class="line">        [MobClick beginLogPageView:@&quot;PageOne&quot;];//(&quot;PageOne&quot;ä¸ºé¡µé¢åç§°ï¼Œå¯è‡ªå®šä¹‰)</div><div class="line">    &#125;</div><div class="line">- (void)viewWillDisappear:(BOOL)animated </div><div class="line">    &#123;</div><div class="line">        [super viewWillDisappear:animated];</div><div class="line">        [MobClick endLogPageView:@&quot;PageOne&quot;];</div><div class="line">    &#125;</div></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰äº‹ä»¶çš„ç»Ÿè®¡"><a href="#è‡ªå®šä¹‰äº‹ä»¶çš„ç»Ÿè®¡" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶çš„ç»Ÿè®¡"></a>è‡ªå®šä¹‰äº‹ä»¶çš„ç»Ÿè®¡</h1><blockquote><p>è®¡æ•°äº‹ä»¶+è®¡ç®—äº‹ä»¶</p></blockquote><h2 id="è®¡æ•°äº‹ä»¶"><a href="#è®¡æ•°äº‹ä»¶" class="headerlink" title="è®¡æ•°äº‹ä»¶"></a>è®¡æ•°äº‹ä»¶</h2><h3 id="ç»Ÿè®¡å‘ç”Ÿæ¬¡æ•°"><a href="#ç»Ÿè®¡å‘ç”Ÿæ¬¡æ•°" class="headerlink" title="ç»Ÿè®¡å‘ç”Ÿæ¬¡æ•°"></a>ç»Ÿè®¡å‘ç”Ÿæ¬¡æ•°</h3><blockquote><p>æŸä¸ªäº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•°</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[MobClick event:(NSString *)eventId];</div></pre></td></tr></table></figure><h3 id="ç»Ÿè®¡ç‚¹å‡»è¡Œä¸ºå„å±æ€§è¢«è§¦å‘çš„æ¬¡æ•°"><a href="#ç»Ÿè®¡ç‚¹å‡»è¡Œä¸ºå„å±æ€§è¢«è§¦å‘çš„æ¬¡æ•°" class="headerlink" title="ç»Ÿè®¡ç‚¹å‡»è¡Œä¸ºå„å±æ€§è¢«è§¦å‘çš„æ¬¡æ•°"></a>ç»Ÿè®¡ç‚¹å‡»è¡Œä¸ºå„å±æ€§è¢«è§¦å‘çš„æ¬¡æ•°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[MobClick event:(NSString *)eventId attributes:(NSDictionary *)attributes];</div><div class="line"></div><div class="line">NSDictionary *dict = @&#123;@&quot;type&quot; : @&quot;book&quot;, @&quot;quantity&quot; : @&quot;3&quot;&#125;;</div><div class="line">[MobClick event:@&quot;purchase&quot; attributes:dict];</div></pre></td></tr></table></figure><h2 id="è®¡ç®—äº‹ä»¶"><a href="#è®¡ç®—äº‹ä»¶" class="headerlink" title="è®¡ç®—äº‹ä»¶"></a>è®¡ç®—äº‹ä»¶</h2><blockquote><p>ä½¿ç”¨è®¡ç®—äº‹ä»¶éœ€è¦åœ¨åå°æ·»åŠ äº‹ä»¶æ—¶é€‰æ‹©â€œè®¡ç®—äº‹ä»¶â€</p></blockquote><h3 id="ç»Ÿè®¡æ•°å€¼å‹å˜é‡çš„å€¼çš„åˆ†å¸ƒ"><a href="#ç»Ÿè®¡æ•°å€¼å‹å˜é‡çš„å€¼çš„åˆ†å¸ƒ" class="headerlink" title="ç»Ÿè®¡æ•°å€¼å‹å˜é‡çš„å€¼çš„åˆ†å¸ƒ"></a>ç»Ÿè®¡æ•°å€¼å‹å˜é‡çš„å€¼çš„åˆ†å¸ƒ</h3><blockquote><p>ç»Ÿè®¡ä¸€ä¸ªæ•°å€¼ç±»å‹çš„è¿ç»­å˜é‡ï¼ˆè¯¥å˜é‡å¿…é¡»ä¸ºæ•´æ•°ï¼‰ï¼Œç”¨æˆ·æ¯æ¬¡è§¦å‘çš„æ•°å€¼çš„åˆ†å¸ƒæƒ…å†µï¼Œå¦‚äº‹ä»¶æŒç»­æ—¶é—´ã€æ¯æ¬¡ä»˜æ¬¾é‡‘é¢ç­‰ï¼Œå¯ä»¥è°ƒç”¨å¦‚ä¸‹æ–¹æ³•:</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+[MobClick event:(NSString *)eventId attributes:(NSDictionary *)attributes counter:(int)number];</div></pre></td></tr></table></figure><blockquote><p>ç¤ºä¾‹ï¼šè´­ä¹°ã€ŠSwift Fundamentalsã€‹è¿™æœ¬ä¹¦ï¼ŒèŠ±äº†110å…ƒ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[MobClick event:@&quot;pay&quot; attributes:@&#123;@&quot;book&quot; : @&quot;Swift Fundamentals&quot;&#125; counter:110];</div></pre></td></tr></table></figure><blockquote><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯V3.1.2ä»¥ä¸‹ç‰ˆæœ¬çš„SDKï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">-(void)umengEvent:(NSString *)eventId attributes:(NSDictionary *)attributes number:(NSNumber *)number&#123;</div><div class="line">    NSString *numberKey = @&quot;__ct__&quot;;</div><div class="line">    NSMutableDictionary *mutableDictionary = [NSMutableDictionary dictionaryWithDictionary:attributes];</div><div class="line">    [mutableDictionary setObject:[number stringValue] forKey:numberKey];</div><div class="line">    [MobClick event:eventId attributes:mutableDictionary];</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>ç¤ºä¾‹ï¼šè´­ä¹°ã€ŠSwift Fundamentalsã€‹è¿™æœ¬ä¹¦ï¼ŒèŠ±äº†110å…ƒ</p></blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[self umengEvent:@&quot;pay&quot; attributes:@&#123;@&quot;book&quot; : @&quot;Swift Fundamentals&quot;&#125; number:@(110)];</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Lib </category>
          
          <category> UM </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>OC-Network-AFN-4ç§è¯·æ±‚</title>
      <link href="/2015/01/10/OC/Kit/Network/OC-Network-AFN-%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B/"/>
      <content type="html"><![CDATA[<blockquote><p>Put<br>Delete<br>Get<br>Post<br>è·å–ç”¨æˆ·æƒé™ä»¥åŠç™»å½•è¯·æ±‚çš„å°è£…æ–¹æ³•</p></blockquote><h1 id="Get"><a href="#Get" class="headerlink" title="Get"></a>Get</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  + (void)requestGETWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic Api_key:(NSString *)api_key finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123;</div><div class="line">   </div><div class="line">   AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line"></div><div class="line">   manager.responseSerializer.acceptableContentTypes =  [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil];</div><div class="line">   </div><div class="line">   // è®¾ç½®è¯·æ±‚å¤´</div><div class="line">   [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;];</div><div class="line"> </div><div class="line">   [manager.requestSerializer setValue:api_key forHTTPHeaderField:@&quot;api_key&quot;];</div><div class="line">  </div><div class="line">   [manager GET:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) &#123;</div><div class="line">       </div><div class="line">       NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]];</div><div class="line">       </div><div class="line">       if ([errcode isEqualToString:@&quot;0&quot;]) &#123;</div><div class="line">           finish(responseObject);  </div><div class="line">       &#125;else  &#123;</div><div class="line">           NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;];</div><div class="line">       &#125;</div><div class="line">   &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123;</div><div class="line">       enError(error);</div><div class="line">   &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="POSTè¯·æ±‚"><a href="#POSTè¯·æ±‚" class="headerlink" title="POSTè¯·æ±‚"></a>POSTè¯·æ±‚</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  + (void)requestPOSTWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic Api_key:(NSString *)api_key finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123;</div><div class="line">    </div><div class="line">    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">    manager.responseSerializer.acceptableContentTypes =  [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil];</div><div class="line">    </div><div class="line">    // è®¾ç½®è¯·æ±‚å¤´</div><div class="line">    [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;];</div><div class="line">    [manager.requestSerializer setValue:api_key forHTTPHeaderField:@&quot;api_key&quot;];</div><div class="line">    </div><div class="line">    [manager POST:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) &#123;</div><div class="line">        NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]];</div><div class="line">        if ([errcode isEqualToString:@&quot;0&quot;]) &#123;</div><div class="line">            </div><div class="line">            finish(responseObject);</div><div class="line">        &#125;else if ([errcode isEqualToString:@&quot;100000&quot;]) &#123;</div><div class="line">            NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;];</div><div class="line">            // å¼¹å‡ºæç¤ºä¿¡æ¯</div><div class="line">            [[NetworkManager shareNetworkManager].mdelegate showMessage:errmsg];</div><div class="line">        &#125;else&#123;</div><div class="line">            NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;]ï¼›</div><div class="line">        &#125;</div><div class="line">    &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123;</div><div class="line">        enError(error);</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  + (void)requestPUTWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic Api_key:(NSString *)api_key finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123;</div><div class="line"></div><div class="line">    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">    manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;, nil];</div><div class="line">    </div><div class="line">    // è®¾ç½®è¯·æ±‚å¤´</div><div class="line">    [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;];</div><div class="line">    [manager.requestSerializer setValue:api_key forHTTPHeaderField:@&quot;api_key&quot;];</div><div class="line">    [manager PUT:urlStr parameters:paramDic success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) &#123;</div><div class="line">        NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]];</div><div class="line">        </div><div class="line">        if ([errcode isEqualToString:@&quot;0&quot;]) &#123;</div><div class="line">            </div><div class="line">            finish(responseObject);</div><div class="line">            </div><div class="line">        &#125;else&#123;</div><div class="line">            NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;];</div><div class="line">        &#125;</div><div class="line">    &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123;</div><div class="line">        enError(error);</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="ä¸Šä¼ å›¾ç‰‡"><a href="#ä¸Šä¼ å›¾ç‰‡" class="headerlink" title="ä¸Šä¼ å›¾ç‰‡"></a>ä¸Šä¼ å›¾ç‰‡</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  + (void)requestAddImgPOSTWithURLStr:(NSString *)url paramDic:(NSDictionary *)paramDic image:(UIImage *)image name:(NSString *)name success:(void (^)(id responseObject))success failure:(void (^)(NSError *error))failure&#123;</div><div class="line">    </div><div class="line">    // 1.åˆ›å»ºç½‘ç»œç®¡ç†è€…</div><div class="line">    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">    manager.responseSerializer.acceptableContentTypes =  [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;, nil];</div><div class="line">    //è¯·æ±‚å›¾ç‰‡,è¯·æ±‚ç½‘é¡µæ—¶éœ€è¦åŠ å…¥è¿™å¥,å› ä¸ºAFNé»˜è®¤çš„è¯·æ±‚çš„æ˜¯json</div><div class="line">    manager.responseSerializer = [AFHTTPResponseSerializer serializer];</div><div class="line">    manager.requestSerializer = [AFHTTPRequestSerializer serializer];</div><div class="line">    // 2.å‘é€è¯·æ±‚(å­—å…¸åªèƒ½æ”¾éæ–‡ä»¶å‚æ•°)</div><div class="line">    [manager POST:url parameters:paramDic constructingBodyWithBlock:^(id&lt;AFMultipartFormData&gt;  _Nonnull formData) &#123;</div><div class="line">        NSData *imageData = UIImageJPEGRepresentation(image, 0.5);//è¿›è¡Œå›¾ç‰‡å‹ç¼©</div><div class="line">        // ä½¿ç”¨æ—¥æœŸç”Ÿæˆå›¾ç‰‡åç§°</div><div class="line">        NSDateFormatter *formatter = [[NSDateFormatter alloc] init];</div><div class="line">        formatter.dateFormat = @&quot;yyyyMMddHHmmss&quot;;</div><div class="line">        NSString *fileName = [NSString stringWithFormat:@&quot;%@.png&quot;,[formatter stringFromDate:[NSDate date]]];</div><div class="line">        </div><div class="line">        // ä¸Šä¼ å›¾ç‰‡ï¼Œä»¥æ–‡ä»¶æµçš„æ ¼å¼</div><div class="line">        // ä»»æ„çš„äºŒè¿›åˆ¶æ•°æ®MIMEType application/octet-stream</div><div class="line">        // ç‰¹åˆ«æ³¨æ„ï¼Œè¿™é‡Œçš„å›¾ç‰‡çš„åå­—ä¸è¦å†™é”™ï¼Œå¿…é¡»æ˜¯æ¥å£çš„å›¾ç‰‡çš„å‚æ•°åå­—å¦‚æˆ‘è¿™é‡Œæ˜¯file</div><div class="line">        if (imageData!=nil) &#123; // å›¾ç‰‡æ•°æ®ä¸ä¸ºç©ºæ‰ä¼ é€’</div><div class="line">            [formData appendPartWithFileData:imageData name:name fileName:fileName mimeType:@&quot;image/png&quot;];</div><div class="line">        &#125; </div><div class="line">    &#125; progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) &#123;</div><div class="line">        NSDictionary *dic = [NSJSONSerialization JSONObjectWithData:responseObject options:(NSJSONReadingMutableContainers) error:nil];</div><div class="line">        if ([[dic objectForKey:@&quot;status&quot;]isEqualToString:@&quot;success&quot;]) &#123;</div><div class="line">             success(responseObject);  </div><div class="line">        &#125;else&#123;</div><div class="line">            NSString *message = [responseObject objectForKey:@&quot;message&quot;];</div><div class="line">            NSLog(@&quot;messageImg == %@&quot;,message);</div><div class="line">             [[NetworkManager shareNetworkManager].mdelegate showMessage:message];</div><div class="line">        &#125;</div><div class="line">    &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123;</div><div class="line">        failure(error);</div><div class="line">    &#125;]; </div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="GETè¶…çº§api"><a href="#GETè¶…çº§api" class="headerlink" title="GETè¶…çº§api"></a>GETè¶…çº§api</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> + (void)requestGETSuperAPIWithURLStr:(NSString *)urlStr WithAuthorization:(NSString *)authorization paramDic:(NSDictionary *)paramDic finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123;</div><div class="line"></div><div class="line">   AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">   manager.responseSerializer.acceptableContentTypes =  [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil];</div><div class="line">   </div><div class="line">   // è®¾ç½®è¯·æ±‚å¤´</div><div class="line">   [manager.requestSerializer setValue:authorization forHTTPHeaderField:@&quot;Authorization&quot;];</div><div class="line">    [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;];</div><div class="line">   </div><div class="line">   [manager GET:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) &#123;</div><div class="line">       // æˆåŠŸå›è°ƒ</div><div class="line">       finish(responseObject);</div><div class="line">       // å¦‚æœsuperapikeyè¿‡æœŸï¼Œé‡æ–°ä¿å­˜åŠ å¯†è·å–æ–°çš„</div><div class="line">       // å¦‚æœç”¨æˆ·apikeyè¿‡æœŸï¼Œåˆ™é‡æ–°ç™»å½•</div><div class="line">   &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123;</div><div class="line">       // å¤±è´¥å›è°ƒ</div><div class="line">       enError(error);</div><div class="line">       </div><div class="line">   &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure><h1 id="POSTè¯·æ±‚-ç«‹å³ç™»å½•"><a href="#POSTè¯·æ±‚-ç«‹å³ç™»å½•" class="headerlink" title="POSTè¯·æ±‚ ç«‹å³ç™»å½•"></a>POSTè¯·æ±‚ ç«‹å³ç™»å½•</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">  + (void)requestLoginPOSTWithURLStr:(NSString *)urlStr WithAuthorization:(NSString *)authorization paramDic:(NSDictionary *)paramDic finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123;</div><div class="line">   </div><div class="line">   AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">   </div><div class="line">   manager.responseSerializer.acceptableContentTypes =  [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil];</div><div class="line"></div><div class="line">   // è®¾ç½®è¯·æ±‚å¤´</div><div class="line">   [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;];</div><div class="line">   [manager.requestSerializer setValue:authorization forHTTPHeaderField:@&quot;Authorization&quot;];</div><div class="line">   [manager POST:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) &#123;</div><div class="line">       </div><div class="line">       NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]];</div><div class="line">       if ([errcode isEqualToString:@&quot;0&quot;]) &#123;</div><div class="line">           finish(responseObject);</div><div class="line">       &#125;else &#123;</div><div class="line">           NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;];</div><div class="line">       &#125;</div><div class="line">   &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123;</div><div class="line">       // å¤±è´¥å›è°ƒ</div><div class="line">       enError(error);</div><div class="line">   &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> OC </category>
          
          <category> Network </category>
          
          <category> AFN </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OC </tag>
            
            <tag> AFN </tag>
            
            <tag> Network </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
