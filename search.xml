<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Swift-Lib-ObjectMapper-æ•°æ®è½¬æ¨¡åž‹]]></title>
    <url>%2F2018%2F04%2F25%2FSwift%2FLib%2FObjectMapper-%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[åŽŸæ–‡å‚è€ƒ ObjectMapper ObjectMapper æ˜¯ä¸€ä¸ªä½¿ç”¨ Swift è¯­è¨€ç¼–å†™çš„æ•°æ®æ¨¡åž‹è½¬æ¢æ¡†æž¶ã€‚ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†æ¨¡åž‹å¯¹è±¡ï¼ˆç±»å’Œç»“æž„ä½“ï¼‰è½¬æ¢ä¸º JSONï¼Œæˆ–è€…æ ¹æ® JSON ç”Ÿæˆå¯¹åº”çš„æ¨¡åž‹å¯¹è±¡åŽŸæ–‡å‡ºè‡ªï¼šwww.hangge.com è½¬è½½è¯·ä¿ç•™åŽŸæ–‡é“¾æŽ¥ï¼šhttps://www.hangge.com/blog/cache/detail_1673.html Githubä¸»é¡µ åŠŸèƒ½ç‰¹ç‚¹ å¯ä»¥å°† JSON æ˜ å°„åˆ°å¯¹è±¡ å¯ä»¥å°†å¯¹è±¡æ˜ å°„åˆ° JSON æ”¯æŒåµŒå¥—å¯¹è±¡ï¼ˆåœ¨æ•°ç»„æˆ–å­—å…¸ä¸­å•ç‹¬ä½¿ç”¨ï¼‰ æ”¯æŒæ˜ å°„è¿‡ç¨‹ä¸­çš„è‡ªå®šä¹‰è½¬æ¢ æ”¯æŒç»“æž„ä½“ æ”¯æŒ Immutable(ç›®å‰å¤„äºŽæµ‹è¯•é˜¶æ®µ) æ·»åŠ  (è‹¥æ˜¯æ‹–å…¥SDK)å·¥ç¨‹ -&gt; General -&gt; Embedded Binaries é¡¹ï¼ŒæŠŠ iOS ç‰ˆçš„ framework æ·»åŠ è¿›æ¥ import ObjectMapper é›†æˆCocoaPodsåº“å¯¼å…¥pod 'ObjectMapper' å¤´æ–‡ä»¶import ObjectMapper ObjectMapper çš„åè®® Mappableclass YKModel:Mappable Model &amp; Dicç›¸äº’è½¬æ¢æ¨¡åž‹å®šä¹‰ è¦å®žçŽ°æ˜ å°„ï¼Œæˆ‘ä»¬çš„æ¨¡åž‹éœ€è¦å®žçŽ° ObjectMapper çš„ Mappable åè®®ï¼Œå¹¶å®žçŽ°è¯¥åè®®é‡Œçš„å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³• init?(map: Map)mutating func mapping(map: Map) eg:å®šä¹‰ä¸€ä¸ªç”¨æˆ·ç±»ï¼ˆUserObjectMapper å®šä¹‰äº†ä¸€ä¸ª &lt;- æ“ä½œç¬¦æ¥è¡¨ç¤ºæˆå‘˜å¯¹è±¡ä¸Ž JSON ä¸­å±žæ€§çš„ç›¸äº’æ˜ å°„å…³ç³» class User: Mappable &#123; var username: String? var age: Int? var weight: Double! var bestFriend: User? // Userå¯¹è±¡ var friends: [User]? // Usersæ•°ç»„ var birthday: Date? var array: [AnyObject]? var dictionary: [String : AnyObject] = [:] init () &#123; &#125; required init?(map: Map)&#123; &#125; func mapping(map: Map) &#123; username &lt;- map["username"] age &lt;- map["age"] weight &lt;- map["weight"] bestFriend &lt;- map["best_friend"] friends &lt;- map["friends"] birthday &lt;- (map["birthday"], DateTransform()) array &lt;- map["arr"] dictionary &lt;- map["dict"] &#125; &#125; åž‹è½¬ä¸ºå­—å…¸ å®šä¹‰äº†ä¸¤ä¸ª User å¯¹è±¡ï¼Œå…¶ä¸­ä¸€ä¸ªå¼•ç”¨å¦ä¸€ä¸ªã€‚æœ€åŽå°†è¯¥å¯¹è±¡è½¬ä¸ºå­—å…¸ï¼Œå¹¶æ‰“å°å‡ºæ¥ let lilei = User()lilei.username = "æŽé›·"lilei.age = 18 let meimei = User()meimei.username = "æ¢…æ¢…"meimei.age = 17meimei.bestFriend = lilei let meimeiDic:[String: Any] = meimei.toJSON()print(meimeiDic) æ¨¡åž‹æ•°ç»„è½¬ä¸ºå­—å…¸æ•°ç»„ åŒ…å«ä¸¤ä¸ª User å¯¹è±¡çš„æ•°ç»„è½¬æ¢æˆå­—å…¸æ•°ç»„ let lilei = User()lilei.username = "æŽé›·"lilei.age = 18 let meimei = User()meimei.username = "æ¢…æ¢…"meimei.age = 17 let users = [lilei, meimei]let usersArray:[[String: Any]] = users.toJSON()print(usersArray) å­—å…¸è½¬ä¸ºæ¨¡åž‹let meimeiDic = ["age": 17, "username": "æ¢…æ¢…", "best_friend": ["age": 18, "username": "æŽé›·"]] let meimei = User(JSON: meimeiDic) å­—å…¸æ•°ç»„è½¬ä¸ºæ¨¡åž‹æ•°ç»„let usersArray = [["age": 17, "username": "æ¢…æ¢…"], ["age": 18, "username": "æŽé›·"]] let users:[User] = Mapper&lt;User&gt;().mapArray(JSONArray: usersArray) Model &amp; JSONå­—ç¬¦ä¸²deç›¸äº’è½¬æ¢æ¨¡åž‹è½¬ä¸ºJSONå­—ç¬¦ä¸² ä¸¤ä¸ª User å¯¹è±¡ï¼Œå…¶ä¸­ä¸€ä¸ªå¼•ç”¨å¦ä¸€ä¸ªã€‚æœ€åŽå°†è¯¥å¯¹è±¡è½¬ä¸º json ä¸²ï¼Œå¹¶æ‰“å°å‡ºæ¥ let lilei = User()lilei.username = "æŽé›·"lilei.age = 18 let meimei = User()meimei.username = "æ¢…æ¢…"meimei.age = 17meimei.bestFriend = lilei let meimeiJSON:String = meimei.toJSONString()!print(meimeiJSON) æ¨¡åž‹æ•°ç»„è½¬ä¸ºJSONå­—ç¬¦ä¸² å°†ä¸€ä¸ªåŒ…å«ä¸¤ä¸ª User å¯¹è±¡çš„æ•°ç»„è½¬æ¢æˆå­—å…¸æ•°ç»„ let lilei = User()lilei.username = "æŽé›·"lilei.age = 18 let meimei = User()meimei.username = "æ¢…æ¢…"meimei.age = 17 let users = [lilei, meimei]let json:String = users.toJSONString()!print(json) å°†JSONå­—ç¬¦ä¸²è½¬ä¸ºæ¨¡åž‹let meimeiJSON:String = "&#123;\"age\":17,\"username\":\"æ¢…æ¢…\",\"best_friend\":&#123;\"age\":18,\"username\":\"æŽé›·\"&#125;&#125;" let meimei = User(JSONString: meimeiJSON) JSONå­—ç¬¦ä¸²è½¬ä¸ºæ¨¡åž‹æ•°ç»„let json = "[&#123;\"age\":18,\"username\":\"æŽé›·\"&#125;,&#123;\"age\":17,\"username\":\"æ¢…æ¢…\"&#125;]" let users:[User] = Mapper&lt;User&gt;().mapArray(JSONString: json)! init?(map: Map)ä½¿ç”¨ä»‹ç» ObjectMapper é€šè¿‡ Mappable åè®®ä¸­çš„ init?(map: Map) æ–¹æ³•æ¥åˆå§‹åŒ–åˆ›å»ºå¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨å¯¹è±¡åºåˆ—åŒ–ä¹‹å‰éªŒè¯ JSON åˆæ³•æ€§ã€‚åœ¨ä¸ç¬¦åˆçš„æ¡ä»¶æ—¶ï¼Œè¿”å›ž nil é˜»æ­¢æ˜ å°„å‘ç”Ÿã€‚ æ£€æµ‹ JSON æ•°æ®ä¸­æ˜¯å¦åŒ…å« username å±žæ€§ class User: Mappable &#123; var username: String? var age: Int? var weight: Double! init()&#123; &#125; required init?(map: Map)&#123; // æ£€æŸ¥JSONä¸­æ˜¯å¦æœ‰"username"å±žæ€§ if map.JSON["username"] == nil &#123; return nil &#125; &#125; // Mappable func mapping(map: Map) &#123; username &lt;- map["username"] age &lt;- map["age"] weight &lt;- map["weight"] &#125;&#125; å°† JSON å­—ç¬¦ä¸²è½¬ä¸ºæ¨¡åž‹æ•°ç»„ï¼Œå¹¶æ‰“å°å‡ºå¯¹è±¡ä¸ªæ•° let json = "[&#123;\"age\":18,\"username\":\"æŽé›·\"&#125;,&#123;\"age\":17&#125;]"let users:[User] = Mapper&lt;User&gt;().mapArray(JSONString: json)!print(users.count) è¿è¡Œç»“æžœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„æ•°ç»„ä¸­åªæœ‰ 1 ä¸ªå¯¹è±¡ï¼Œè¿™æ˜¯ç”±äºŽå¦ä¸€ä¸ªå¯¹è±¡çš„ username ä¸ºç©ºï¼Œå› æ­¤è¢«è¿‡æ»¤æŽ‰äº†]]></content>
      <categories>
        <category>Swift</category>
        <category>Lib</category>
        <category>ObjectMapper</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[RxSwift+Moya+HandyJSON]]></title>
    <url>%2F2018%2F04%2F22%2FRxSwift%2FFunc%2FRxSwift%2BMoya%2BHandyJSON%20%2F</url>
    <content type="text"><![CDATA[èµ„æ–™alibaba/HandyJSONåŽŸæ–‡å‚è€ƒ é›†æˆPodfilepod 'Moya', '~&gt; 10.0'# or pod 'Moya/RxSwift', '~&gt; 10.0' å¯¼å…¥import Moya ç®€å•ä½¿ç”¨å®šä¹‰æžšä¸¾ï¼Œå­˜å‚¨ç½‘ç»œè¯·æ±‚ å®šä¹‰ä¸€ä¸ªæžšä¸¾ï¼Œå­˜æ”¾æˆ‘ä»¬çš„ç½‘ç»œè¯·æ±‚ enum ApiManager &#123; case login(username:String, password:String, token:String)&#125; moyaçš„TargetTypeåè®®extension ApiManager:TargetType&#123; var baseURL: URL &#123; return URL.init(string: BaseURL)! &#125; //è¯·æ±‚è·¯å¾„ var path:String&#123; switch self &#123; case .login(username: _, password:_ , token:_): return "login/accountLogin" &#125; &#125; var headers: [String: String]? &#123; return nil; &#125; //è¯·æ±‚çš„å‚æ•° var parameters: [String: Any]? &#123; switch self &#123; case .login(username: let userName, password: let pwd, token: let token): return ["account":userName,"pwd":pwd,"deviceToken":token]; &#125; &#125; ///è¯·æ±‚æ–¹å¼ var method: Moya.Method &#123; switch self &#123; case .login(username: _, password: _, token: _): return .post; &#125; &#125; /// The method used for parameter encoding. var parameterEncoding: ParameterEncoding &#123; return URLEncoding.default &#125; /// Provides stub data for use in testing. var sampleData: Data &#123; return "".data(using: String.Encoding.utf8)! &#125; //MARK:task type var task: Task &#123; return .requestPlain &#125; var validate: Bool &#123; return false &#125;&#125; å‘èµ·ç½‘ç»œè¯·æ±‚let provider = MoyaProvider&lt;ApiManager&gt;(); provider.request(.login(username: "haha", password: "123456", token: "qwe")) &#123; (result) in if result.error == nil&#123; LLog(result.value); &#125; &#125; å¤„ç†ç½‘ç»œè¯·æ±‚ ä½¿ç”¨HanyJSONå¤„ç†æŽ¥å£è¿”å›žæ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨RxSwift,åœ¨å¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œæ‰€æœ‰æˆ‘ä»¬æ˜¯å¯¹ObservableType æ•°æ®ç±»åž‹ æ‰©å±•mapModel extension ObservableType where E == Response &#123; public func mapModel&lt;T: HandyJSON&gt;(_ type: T.Type) -&gt; Observable&lt;T&gt; &#123; return flatMap &#123; response -&gt; Observable&lt;T&gt; in return Observable.just(response.mapModel(T.self)) &#125; &#125;&#125;extension Response &#123; func mapModel&lt;T: HandyJSON&gt;(_ type: T.Type) -&gt; T &#123; let jsonString = String.init(data: data, encoding: .utf8) return JSONDeserializer&lt;T&gt;.deserializeFrom(json: jsonString)! &#125;&#125; è°ƒç”¨ç¤ºä¾‹ä½¿ç”¨providerå¼‚æ­¥è¯·æ±‚ï¼Œå¹¶å¤„ç†è¿”å›žæ•°æ® æŽ¥å£è¯·æ±‚å®ŒæˆåŽï¼Œ subscribe ä¼šæ”¶åˆ°nextå’Œcompleteä¸¤ä¸ªäº‹ä»¶ å½“event.elementä¸ä¸ºç©ºæ—¶å³ä¸ºnextäº‹ä»¶ provider.rx.request(.login(username: "151xxxxxxxxxx", password: "123456", token: "")).asObservable().mapModel(LoginResponseModel .self).subscribe &#123; (event) in //å½“event.element ä¸ä¸ºç©ºæ—¶ï¼Œè¿”å›žçš„å°±æ˜¯æˆ‘ä»¬ä¹‹å‰mapModelçš„ç±» if let model = event.element&#123; LLog(model.data.accessToken); LLog(model.data.crowdToken); &#125;else&#123; LLog("å½“å‰äº‹ä»¶:\(event)") &#125; &#125;.disposed(by: disposeBag); ç›´æŽ¥å¤„ç†nextäº‹ä»¶ï¼Œerrorå’Œcompletedåˆ†å¼€å¤„ç† provider.rx.request(.login(username: "15136176473", password: "123456", token: "")).asObservable().mapModel(LoginResponseModel .self).subscribe(onNext: &#123; (model) in LLog(model.data.crowdToken) &#125;, onError: &#123; (error) in LLog("è¯·æ±‚å‡ºé”™") &#125;, onCompleted: nil, onDisposed: nil).disposed(by: disposeBag); æ‰©å±•public init(endpointClosure: @escaping EndpointClosure = MoyaProvider.defaultEndpointMapping, requestClosure: @escaping RequestClosure = MoyaProvider.defaultRequestMapping, stubClosure: @escaping StubClosure = MoyaProvider.neverStub, callbackQueue: DispatchQueue? = nil, manager: Manager = MoyaProvider&lt;Target&gt;.defaultAlamofireManager(), plugins: [PluginType] = [], trackInflights: Bool = false) &#123;&#125; Moya Moyaæ˜¯ä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„å¥½ç”¨çš„ç½‘ç»œç®¡ç†å·¥å…·,åœ¨ä¸Šé¢æˆ‘ä»¬åªæ˜¯ä½¿ç”¨äº†éƒ¨åˆ†åŠŸèƒ½ã€‚é€šè¿‡providerçš„åˆå§‹åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥å‘çŽ°åœ¨å¼€å‘ä¸­æˆ‘ä»¬è¿˜å¯ä»¥å¤„ç†å¾ˆå¤šã€‚æ¯”å¦‚ï¼š æ’ä»¶æœºåˆ¶ Moya çš„æ’ä»¶æœºåˆ¶ä¹Ÿå¾ˆå¥½ç”¨ï¼Œæä¾›äº†ä»¥ä¸‹æŽ¥å£: /// Called to modify a request before sending func prepare(_ request: URLRequest, target: TargetType) -&gt; URLRequest /// Called immediately before a request is sent over the network (or stubbed). func willSend(_ request: RequestType, target: TargetType) /// Called after a response has been received, but before the MoyaProvider has invoked its completion handler. func didReceive(_ result: Result&lt;Moya.Response, MoyaError&gt;, target: TargetType) /// Called to modify a result before completion func process(_ result: Result&lt;Moya.Response, MoyaError&gt;, target: TargetType) -&gt; Result&lt;Moya.Response, MoyaError&gt; ä¸Žä¸»åŠŸèƒ½æŽ¥å£è„±ç¦»ï¼Œé™ä½Žäº†è€¦åˆåº¦æˆ‘ä»¬å¯ä»¥å†è¿™é‡Œå¤„ç†è¯·æ±‚çš„æƒé™ã€tokenã€loadingç­‰ã€‚ ä¾‹å¦‚ï¼š public final class RequestLoadingPlugin:PluginType&#123; public func willSend(_ request: RequestType, target: TargetType) &#123; LLog("æŽ¥å£å¼€å§‹è¯·æ±‚") self.showHUD() &#125; public func didReceive(_ result: Result&lt;Response, MoyaError&gt;, target: TargetType) &#123; LLog("æŽ¥å£è¯·æ±‚å®Œæˆ") self.dismissHUD(); &#125; //MARK:-æ˜¯å¦æ˜¾ç¤ºè¯·æ±‚åŠ è½½æ¡† fileprivate func showHUD(_ isShow:Bool = true)&#123; if(isShow)&#123; SVProgressHUD.show(); &#125; &#125; //MARK:-éšè—è¯·æ±‚åŠ è½½æ¡† fileprivate func dismissHUD()&#123; SVProgressHUD.dismiss(); &#125;&#125; åœ¨providerçš„åˆå§‹åŒ–æ³¨å†Œæˆ‘ä»¬åˆå§‹åŒ–çš„æ’ä»¶å³å¯ let provider = MoyaProvider&lt;ApiManager&gt;(plugins:[RequestLoadingPlugin()]); è¯·æ±‚å¤„ç†æœºåˆ¶public typealias EndpointClosure = (Target) -&gt; Endpoint&lt;Target&gt;public typealias RequestClosure = (Endpoint&lt;Target&gt;, @escaping RequestResultClosure) -&gt; Voidpublic typealias StubClosure = (Target) -&gt; Moya.StubBehavior public typealias RequestResultClosure = (Result&lt;URLRequest, MoyaError&gt;) -&gt; Void ä»Žä¸Šé¢çš„ä¸‰ä¸ªé—­åŒ…ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡º EndpointClosure æ˜¯è¾“å…¥ä¸€ä¸ªTarget è¿”å›žä¸€ä¸ªEndpoint ä¹Ÿå°±æ˜¯å®ŒæˆTarget-&gt;Endpoint Endpointçš„æ•°æ®ç»“æž„ open class Endpoint&lt;Target&gt; &#123; public typealias SampleResponseClosure = () -&gt; EndpointSampleResponse open let url: String open let sampleResponseClosure: SampleResponseClosure open let method: Moya.Method open let task: Task open let httpHeaderFields: [String: String]? &#125; åˆå§‹åŒ–çš„é»˜è®¤å€¼æ˜¯ public final class func defaultEndpointMapping(for target: Target) -&gt; Endpoint&lt;Target&gt; &#123; return Endpoint( url: URL(target: target).absoluteString, sampleResponseClosure: &#123; .networkResponse(200, target.sampleData) &#125;, method: target.method, task: target.task, httpHeaderFields: target.headers ) &#125; ä¸Šé¢çš„ä»£ç åªæ˜¯åˆ›å»ºå¹¶è¿”å›žEndpointå®žä¾‹ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è¿™ä¸ªé—­åŒ…æ¥åšæ›´å¤šé¢å¤–çš„äº‹æƒ…ã€‚æ¯”å¦‚æˆ‘ä»¬å¤„ç†ä¸€äº›ç½‘ç»œçŠ¶æ€ç ã€æˆ–è€…ç»“åˆstub æ¨¡æ‹Ÿç½‘ç»œæ•°æ®ç­‰ RequestClosure æ˜¯è¾“å…¥ä¸€ä¸ªEndpointå’ŒRequestResultClosureé—­åŒ… è¿”å›žVoidRequestClosureä¸»è¦æ˜¯å®žçŽ°Endpoint-&gt;NSURLRequest ç”¨äºŽå‘èµ·çœŸæ­£çš„ç½‘ç»œè¯·æ±‚ public typealias RequestResultClosure = (Result&lt;URLRequest, MoyaError&gt;) -&gt; Void åœ¨è¾“å…¥ä¸­RequestResultClosureå°±æ˜¯å¯¹æŽ¥å£è¯·æ±‚å®ŒæˆåŽçš„è¿”å›žåˆå§‹åŒ–çš„é»˜è®¤å€¼æ˜¯ï¼š public final class func defaultRequestMapping(for endpoint: Endpoint&lt;Target&gt;, closure: RequestResultClosure) &#123; do &#123; let urlRequest = try endpoint.urlRequest() closure(.success(urlRequest)) &#125; catch MoyaError.requestMapping(let url) &#123; closure(.failure(MoyaError.requestMapping(url))) &#125; catch MoyaError.parameterEncoding(let error) &#123; closure(.failure(MoyaError.parameterEncoding(error))) &#125; catch &#123; closure(.failure(MoyaError.underlying(error, nil))) &#125; &#125; è¿™é‡Œå°±æ˜¯å¤„ç†æœ€åŽçš„urlRequestã€‚å¦‚æžœä½ æƒ³è®¾ç½®å…¨å±€çš„urlRequestï¼Œè¿™é‡Œä¹Ÿæ˜¯æœ€åŽçš„æœºä¼šäº†ã€‚æˆ‘ä»¬å¯ä»¥å†è¿™é‡Œä¿®æ”¹è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ã€ç¼“å­˜ç­–ç•¥ã€cookieç­‰ã€‚ç¤ºä¾‹ï¼š let requestClosure = &#123; (endpoint: Endpoint&lt;ApiManager&gt;, closure: (Result&lt;URLRequest, MoyaError&gt;) -&gt; Void) -&gt; Void in do &#123; var urlRequest = try endpoint.urlRequest() urlRequest.timeoutInterval = 30.0 urlRequest.cachePolicy = .reloadIgnoringLocalAndRemoteCacheData urlRequest.httpShouldHandleCookies = false closure(.success(urlRequest)) &#125; catch MoyaError.requestMapping(let url) &#123; closure(.failure(MoyaError.requestMapping(url))) &#125; catch MoyaError.parameterEncoding(let error) &#123; closure(.failure(MoyaError.parameterEncoding(error))) &#125; catch &#123; closure(.failure(MoyaError.underlying(error, nil))) &#125; &#125; ç¤ºä¾‹let provider = MoyaProvider&lt;ApiManager&gt;(requestClosure:requestClosure,plugins:[RequestLoadingPlugin()]); StubClosure æ˜¯è¾“å…¥ä¸€ä¸ªTarget è¿”å›žä¸€ä¸ªStubBehaviorçš„é—­åŒ…ã€‚ é»˜è®¤æ˜¯ï¼šneverStub public typealias StubClosure = (Target) -&gt; Moya.StubBehavior public enum StubBehavior &#123; /// ä¸ä½¿ç”¨Stubæ¥è¿”å›žæ¨¡æ‹Ÿçš„ç½‘ç»œæ•°æ® case never /// ç«‹åˆ»è¿”å›žStubçš„æ•°æ® case immediate /// åœ¨å‡ ç§’åŽè¿”å›žstubçš„æ•°æ® case delayed(seconds: TimeInterval)&#125; ç¤ºä¾‹ï¼š ç¼–å†™æµ‹è¯•æ•°æ® extension ApiManager:TargetType&#123; ... /// Provides stub data for use in testing. var sampleData: Data &#123; switch self &#123; case .login(username: _, password: _, token: _): return "&#123;'code': 200,'Token':'123455'&#125;".data(using: String.Encoding.utf8)! default: return "".data(using: String.Encoding.utf8)! &#125; &#125;&#125; åˆå§‹åŒ–EndpointClosure let endPointAction = &#123; (target: ApiManager) -&gt; Endpoint&lt;ApiManager&gt; in let url = target.baseURL.appendingPathComponent(target.path).absoluteString switch target &#123; case .login(username: _, password:_ , token:_): return Endpoint( url: url, sampleResponseClosure: &#123; .networkResponse(200, target.sampleData) &#125;, method: target.method, task: target.task, httpHeaderFields: target.headers )&#125;&#125; åˆå§‹åŒ–StubClosure let stubAction: (_ type:ApiManager) -&gt; Moya.StubBehavior = &#123; type in switch type &#123; case .login(username: _, password:_ , token:_): return Moya.StubBehavior.delayed(seconds: 3.0) &#125;&#125; åˆå§‹åŒ–provider let provider = MoyaProvider&lt;ApiManager&gt;(endpointClosure:endPointAction,requestClosure:_requestClosure,stubClosure:stubAction,plugins:[RequestLoadingPlugin()]); Manager Moyaæœ¬èº«å¹¶ä¸æ˜¯ç›´æŽ¥å¤„ç†ç½‘ç»œè¯·æ±‚çš„ç¬¬ä¸‰æ–¹åº“ã€‚å®ƒåªæ˜¯ä¸€ä¸ªæŠ½è±¡çš„ç½‘ç»œå±‚ï¼Œå¯¹çœŸæ­£å‘èµ·ç½‘ç»œè¯·æ±‚çš„Managerè¿›è¡Œç®¡ç†ï¼šä¾‹å¦‚Alamofireé»˜è®¤å‚æ•°: public final class func defaultAlamofireManager() -&gt; Manager &#123; let configuration = URLSessionConfiguration.default configuration.httpAdditionalHeaders = Manager.defaultHTTPHeaders let manager = Manager(configuration: configuration) manager.startRequestsImmediately = false return manager &#125; å°è£…Alamofire,ä½¿Moya.Manager == Alamofire.SessionManager public typealias Manager = Alamofire.SessionManagerinternal typealias Request = Alamofire.Requestinternal typealias DownloadRequest = Alamofire.DownloadRequestinternal typealias UploadRequest = Alamofire.UploadRequestinternal typealias DataRequest = Alamofire.DataRequest æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬æƒ³è¦å®šä¹‰è‡ªå·±çš„Managerï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ å…¥è‡ªå·±çš„Manageråˆ°Moyaçš„providerä¸­ã€‚ç¤ºä¾‹ let policies: [String: ServerTrustPolicy] = [ "example.com": .PinPublicKeys( publicKeys: ServerTrustPolicy.publicKeysInBundle(), validateCertificateChain: true, validateHost: true )] let policies: [String: ServerTrustPolicy] = [ "example.com": .pinPublicKeys( publicKeys: ServerTrustPolicy.publicKeys(), validateCertificateChain: true, validateHost: true )]let manager:Manager = Manager(configuration: URLSessionConfiguration.default, delegate: SessionDelegate(), serverTrustPolicyManager: ServerTrustPolicyManager(policies: policies)) let provider = MoyaProvider&lt;ApiManager&gt;(manager: manager)]]></content>
      <categories>
        <category>RxSwift</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Func</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-ControlFlowæŽ§åˆ¶æµ]]></title>
    <url>%2F2018%2F04%2F14%2FSwift%2FGrammar%2FControlFlow%E6%8E%A7%E5%88%B6%E6%B5%81%2F</url>
    <content type="text"><![CDATA[For-In å¾ªçŽ¯ For-In å¾ªçŽ¯ â¶for-in -&gt;æ•°ç»„ä¸­çš„å…ƒç´  let names = ["A","B","C"]for name in names &#123; print ("-------- \(name)")&#125; â·or-in -&gt;å­—å…¸éåŽ†å­—å…¸æ—¶ï¼Œå­—å…¸çš„æ¯é¡¹å…ƒç´ ä¼šä»¥ (key, value) å…ƒç»„çš„å½¢å¼è¿”å›žfor-in å¾ªçŽ¯ä¸­ä½¿ç”¨æ˜¾å¼çš„å¸¸é‡åç§°æ¥è§£è¯» (key, value) å…ƒç»„ let numberOfLegs = ["spider": 8, "ant": 6, "cat": 4] for (animalName, legCount) in numberOfLegs &#123; print("\(animalName)s have \(legCount) legs") &#125;//å­—å…¸çš„å†…å®¹ç†è®ºä¸Šæ˜¯æ— åºçš„ â¸ for-in å¾ªçŽ¯è¿˜å¯ä»¥ä½¿ç”¨æ•°å­—èŒƒå›´ for index in 1...5 &#123; print("\(index) times 5 is \(index * 5)")&#125;// 1 times 5 is 5// 2 times 5 is 10// 3 times 5 is 15// 4 times 5 is 20// 5 times 5 is 25 ç”¨æ¥è¿›è¡ŒéåŽ†çš„å…ƒç´ æ˜¯ä½¿ç”¨é—­åŒºé—´æ“ä½œç¬¦ï¼ˆâ€¦ï¼‰è¡¨ç¤ºçš„ä»Ž 1 åˆ° 5 çš„æ•°å­—åŒºé—´ index æ˜¯ä¸€ä¸ªæ¯æ¬¡å¾ªçŽ¯éåŽ†å¼€å§‹æ—¶è¢«è‡ªåŠ¨èµ‹å€¼çš„å¸¸é‡ â¹]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-ç›®å½•]]></title>
    <url>%2F2018%2F04%2F11%2FSwift%2FGrammar%2F%E7%9B%AE%E5%BD%95%2FSwift-Grammar-%E7%9B%AE%E5%BD%95%2F</url>
    <content type="text"></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>Swift4.0</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>Swift4.0</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-MVVM-Login ç™»å½•æ³¨å†Œ]]></title>
    <url>%2F2018%2F04%2F06%2FRxSwift%2FDemo%2FSwift-RxSwift-MVVM-Login%E7%AE%80%E5%8D%95%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚ éœ€æ±‚ éœ€æ±‚æ³¨å†Œç•Œé¢éœ€æ±‚ è¾“å…¥ç”¨æˆ·åå¿…é¡»å¤§äºŽç­‰äºŽ6ä¸ªå­—ç¬¦ï¼Œä¸ç„¶å¯†ç ä¸èƒ½è¾“å…¥ï¼› å¯†ç å¿…é¡»å¤§äºŽç­‰äºŽ6ä¸ªå­—ç¬¦ï¼Œä¸ç„¶é‡å¤å¯†ç ä¸èƒ½è¾“å…¥ï¼› é‡å¤å¯†ç å’Œå¯†ç å¿…é¡»ä¸€æ ·ï¼Œ ä¸èƒ½æ³¨å†ŒæŒ‰é’®ä¸èƒ½ç‚¹å‡»ï¼› ç‚¹å‡»æ³¨å†ŒæŒ‰é’®ï¼Œæç¤ºæ³¨å†ŒæˆåŠŸæˆ–è€…æ³¨å†Œå¤±è´¥ï¼› æ³¨å†ŒæˆåŠŸä¼šå†™è¿›æœ¬åœ°çš„plistæ–‡ä»¶ï¼Œç„¶åŽè¾“å…¥ç”¨æˆ·åä¼šæ£€æµ‹è¯¥ç”¨æˆ·åæ˜¯å¦å·²æ³¨å†Œ ç™»å½•ç•Œé¢éœ€æ±‚ ç‚¹å‡»è¾“å…¥ç”¨æˆ·åï¼Œæ£€æµ‹æ˜¯å¦å·²å­˜åœ¨ï¼Œå¦‚æžœå­˜åœ¨ï¼Œæˆ·åå¯ç”¨ï¼Œå¦åˆ™æç¤ºç”¨æˆ·åä¸å­˜åœ¨ï¼› è¾“å…¥å¯†ç ï¼Œç‚¹å‡»ç™»å½•ï¼Œå¦‚æžœå¯†ç é”™åˆ™æç¤ºå¯†ç é”™è¯¯ï¼Œå¦åˆ™è¿›å…¥åˆ—è¡¨ç•Œé¢ï¼Œæç¤ºç™»å½•æˆåŠŸ UIâ‘ UI-ViewController.swift æ‡’åŠ è½½+å°è£…åˆå§‹åŒ–UI â¶ç”¨æˆ·å - æ ‡é¢˜-Title - lab fileprivate lazy var userNameLab: UILabel = &#123; let userNameLab = UILabel() userNameLab.frame = CGRect(x:40,y:100,width:80,height:30) userNameLab.font = UIFont.systemFont(ofSize: 14) userNameLab.text = "ç”¨æˆ·å" return userNameLab &#125;() â·ç”¨æˆ·å -è¾“å…¥æ¡†-TF fileprivate lazy var userNameTextField: UITextField = &#123; let userNameTextField = UITextField() userNameTextField.frame = CGRect(x:40+80+10,y:100,width:160,height:30) userNameTextField.placeholder = "è¾“å…¥ä¸å°‘äºŽ6ä½ç”¨æˆ·å" userNameTextField.font = UIFont.systemFont(ofSize: 14) return userNameTextField &#125;() â¸ç”¨æˆ·å - è¾“å…¥æç¤º-lab fileprivate lazy var userNameInputLab: UILabel = &#123; let userNameInputLab = UILabel() userNameInputLab.frame = CGRect(x:40+80+10,y:100+30+10,width:100,height:20) userNameInputLab.text = "ç”¨æˆ·åè‡³å°‘6ä½" userNameInputLab.textColor = UIColor.red userNameInputLab.font = UIFont.systemFont(ofSize: 12) return userNameInputLab &#125;() å¯†ç -æ ‡é¢˜-Lab fileprivate lazy var passWordLab: UILabel = &#123; let passWordLab = UILabel() passWordLab.frame = CGRect(x:40,y:200,width:80,height:30) passWordLab.font = UIFont.systemFont(ofSize: 14) passWordLab.text = "å¯†ç " return passWordLab &#125;() å¯†ç - è¾“å…¥- TF fileprivate lazy var passWordTextField:UITextField = &#123; let passWordTextField = UITextField() passWordTextField.frame = CGRect(x:40+80+10,y:200,width:100,height:30) passWordTextField.placeholder = "è¯·å¡«è¾“å…¥å¯†ç " passWordTextField.font = UIFont.systemFont(ofSize: 14) return passWordTextField&#125;() å¯†ç  - è¾“å…¥æç¤º-lab fileprivate lazy var passWordInputLab: UILabel = &#123; let passWordInputLab = UILabel() passWordInputLab.frame = CGRect(x:40+80+10,y:200+30+10,width:100,height:20) passWordInputLab.text = "ç”¨æˆ·åè‡³å°‘6ä½" passWordInputLab.textColor = UIColor.red passWordInputLab.font = UIFont.systemFont(ofSize: 12) return passWordInputLab &#125;() å¯†ç æ£€éªŒ - æ ‡é¢˜ - Lab fileprivate lazy var checkPassWordLab: UILabel = &#123; let checkPassWordLab = UILabel() checkPassWordLab.frame = CGRect(x:40,y:300,width:80,height:30) checkPassWordLab.font = UIFont.systemFont(ofSize: 14) checkPassWordLab.text = "å¯†ç æ£€æŸ¥" return checkPassWordLab &#125;() å¯†ç æ£€éªŒ - è¾“å…¥- TF fileprivate lazy var checkPassWordTextField:UITextField = &#123; let checkPassWordTextField = UITextField() checkPassWordTextField.frame = CGRect(x:40+80+10,y:300,width:100,height:30) checkPassWordTextField.placeholder = "è¯·å†ä¸€æ¬¡è¾“å…¥å¯†ç " checkPassWordTextField.font = UIFont.systemFont(ofSize: 14) return checkPassWordTextField&#125;() å¯†ç æ£€éªŒ - è¾“å…¥è­¦å‘Šæç¤º-lab fileprivate lazy var checkPassWordInputLab: UILabel = &#123; let checkPassWordInputLab = UILabel() checkPassWordInputLab.frame = CGRect(x:40+80+10,y:300+30+10,width:100,height:20) checkPassWordInputLab.text = "ç”¨æˆ·åè‡³å°‘6ä½" checkPassWordInputLab.textColor = UIColor.red checkPassWordInputLab.font = UIFont.systemFont(ofSize: 12) self.view.addSubview(checkPassWordInputLab) return checkPassWordInputLab&#125;() æ³¨å†Œ æŒ‰é’® -Btn fileprivate lazy var registerBtn:UIButton = &#123; let registerBtn = UIButton() registerBtn.frame = CGRect(x:40+80+10,y:400,width:100,height:30) registerBtn.setTitle("æ³¨å†Œ", for: .normal) registerBtn.setTitleColor(UIColor.green, for: .normal) registerBtn.backgroundColor = UIColor.red return registerBtn&#125;() ç™»å½• - æŒ‰é’® -Btn fileprivate lazy var loginBtn:UIButton = &#123; let loginBtn = UIButton() loginBtn.frame = CGRect(x:40+80+10,y:500,width:100,height:30) loginBtn.setTitle("ç™»å½•", for: .normal) loginBtn.setTitleColor(UIColor.green, for: .normal) loginBtn.backgroundColor = UIColor.red loginBtn.addTarget(self, action: #selector(showNextCtl), for: UIControlEvents.touchUpInside) return loginBtn&#125;() ç§æœ‰æ–¹æ³• æ³¨å†Œå®Œæ¯•â€“&gt;åŽ»ç™»å½•ç•Œé¢ func showNextCtl()&#123; let viewCtl = LoginViewCtl() print("21312312312") navigationController?.pushViewController(viewCtl, animated: true) &#125; DisposeBaglet disposeBag = DisposeBag() ViewModel å£°æ˜Ž RegisterViewModel let viewModel = RegisterViewModel() viewDidLoadUIåŠ è½½ UIåŠ è½½ func initUI()&#123; view.backgroundColor = UIColor.white view.addSubview(userNameLab) view.addSubview(userNameTextField) view.addSubview(userNameInputLab) view.addSubview(passWordLab) view.addSubview(passWordTextField) view.addSubview(passWordInputLab) view.addSubview(checkPassWordLab) view.addSubview(checkPassWordTextField) view.addSubview(checkPassWordLab) view.addSubview(registerBtn) view.addSubview(loginBtn)&#125; UIæŽ§ä»¶ ç»‘å®š â‘ usernameTextField.rx.text.orEmpty,usernameTextField.rx.text.orEmptyæ˜¯Rxä¸­çš„ä¸œè¥¿ï¼Œä»–æŠŠTextFiledçš„textå˜æˆäº†ä¸€ä¸ªObservableï¼Œ åŽé¢çš„orEmptyæˆ‘ä»¬å¯ä»¥Commandç‚¹è¿›åŽ»çœ‹ä¸‹ï¼Œä»–ä¼šæŠŠString?è¿‡æ»¤nilå¸®æˆ‘ä»¬å˜ä¸ºStringç±»åž‹ â‘¡bind:bindé‡Œé¢é‡Œé¢çš„å°±æ˜¯ç›‘å¬è€…ä¹Ÿå°±æ˜¯Observer,usernameæ—¢æ˜¯ä¸€ä¸ªobservableä¹Ÿæ˜¯ä¸€ä¸ªobserver,æ­¤æ—¶æŠŠä»–å½“æˆä¸€ä¸ªObserverç»‘å®šåˆ°usernameTextFiledä¸Šï¼Œç›‘å¬æˆ‘ä»¬çš„usernameTextFieldæµ â‘¢å› ä¸ºæœ‰ç›‘å¬ï¼Œå°±è¦æœ‰ç›‘å¬èµ„æºçš„å›žæ”¶ï¼Œso,åˆ›å»ºä¸€ä¸ªdisposeBagæ¥ç››æ”¾è¿™äº›ç›‘å¬èµ„æº ç»‘å®š ç”¨æˆ·å userNameTextField.rx .text .orEmpty // â‘  .bind(to: viewModel.userNameVariable) // â‘¡ .disposed(by: disposeBag) // â‘¢ ç»‘å®š å¯†ç  passWordTextField.rx .text .orEmpty .bind(to: viewModel.passWordVariable) .disposed(by: disposeBag) ç»‘å®š æ£€æµ‹ å¯†ç  checkPassWordTextField.rx .text .orEmpty .bind(to: viewModel.checkPassWordVariable) .disposed(by: disposeBag) ç»‘å®š æ³¨å†Œ æŒ‰é’® registerBtn.rx .tap .bind(to: viewModel.registerTaps)//registerTapsæ¥åˆ¤æ–­ å¦‚æžœæ»¡è¶³æ³¨å†Œæ¡ä»¶ .disposed(by: disposeBag) mdoelç›¸å…³Variable â‘  è¢«è§‚å¯Ÿè€… â‘¡ userNameInputLab.rx.validationResultä½œä¸ºä¸€ä¸ªobserver(è§‚å¯Ÿè€…)è§‚å¯ŸuserNameUsableä¸Šçš„å†…å®¹å˜åŒ–å°†ViewModelä¸­usernameå¤„ç†ç»“æžœusernameUseableç»‘å®šåˆ°nameLabelæ˜¾ç¤ºæ–‡æ¡ˆä¸Šï¼Œæ ¹æ®ä¸åŒçš„ç»“æžœæ˜¾ç¤ºä¸åŒçš„æ–‡æ¡ˆ ç”¨æˆ·å ç›‘å¬ ç”¨æˆ·åè¾“å…¥ viewModel.userNameUsable // â‘  è¢«è§‚å¯Ÿè€… .bind(to: userNameInputLab.rx.validationResult) // â‘¡ .disposed(by: disposeBag) // â‘¢ ç›‘å¬ ç”¨æˆ·åæ˜¯å¦å¯è¾“å…¥ viewModel.userNameUsable .bind(to: passWordTextField.rx.inputEnabled) .disposed(by: disposeBag) å¯†ç  ç›‘å¬ å¯†ç  è¾“å…¥æç¤º viewModel.passWordUsable .bind(to: passWordInputLab.rx.validationResult) .disposed(by: disposeBag) ç›‘å¬ å¯†ç  æ˜¯å¦å¯è¾“å…¥ viewModel.passWordUsable .bind(to: checkPassWordTextField.rx.inputEnabled) .disposed(by: disposeBag) æ£€æµ‹å¯†ç  ç›‘å¬ æ£€æµ‹å¯†ç  è¾“å…¥ viewModel.checkPassWordUsable .bind(to: checkPassWordInputLab.rx.validationResult) .disposed(by: disposeBag) æ³¨å†Œ ç›‘å¬ æ³¨å†Œ enableé˜Ÿåˆ—ä¿¡å· â€“&gt;æ‰§è¡Œå…·ä½“å˜åŒ– viewModel.registerBtnEnabled .subscribe(onNext:&#123;[unowned self] valid in self.registerBtn.isEnabled = valid self.registerBtn.alpha = valid ? 1.0 : 0.5 &#125;) .disposed(by: disposeBag) æ³¨å†Œç»“æžœå¤„ç† viewModel.registerResult .subscribe(onNext:&#123; [weak self](result) in switch result &#123; case let .ok(msgStr): self?.showAlert(msgStr: msgStr) case .empty: self?.showAlert(msgStr: "") case let .failed(msgStr): self?.showAlert(msgStr: msgStr) &#125; &#125;) .disposed(by: disposeBag) aletæç¤º æ³¨å†Œç»“æžœ func showAlert(msgStr:String)&#123; let acton = UIAlertAction(title:"ç¡®å®š", style: .default, handler:nil) let alertViewCtl = UIAlertController(title:nil, message:msgStr, preferredStyle: .alert) alertViewCtl.addAction(acton) present(alertViewCtl, animated: true, completion: nil) &#125; Serviceç½‘ç»œè¯·æ±‚ Serviceæ–‡ä»¶ä¸»è¦è´Ÿè´£ä¸€äº›ç½‘ç»œè¯·æ±‚ï¼Œå’Œä¸€äº›æ•°æ®è®¿é—®çš„æ“ä½œç„¶åŽä¾› ViewModelä½¿ç”¨ï¼Œæ¨¡æ‹Ÿä»Žæœ¬åœ°plistæ–‡ä»¶ä¸­è¯»å–ç”¨æˆ·æ•°æ® ValidationServiceç±»ä¸­ï¼Œæ£€æµ‹usernameçš„æ–¹æ³•å˜é‡private init ()&#123;&#125; //åˆå§‹åŒ–ï¼Ÿï¼Ÿstatic let instance = ValidationService() // å•ä¾‹ç±»let minCharacterCount = 6 // è®¾ç½®è¾“å…¥æœ€å°ä½æ•° æ–¹æ³• â‘  Method:å¯¹è¾“å…¥ç”¨æˆ·å åˆ¤æ–­è¿”å›žä¸€ä¸ªObservableå¯¹è±¡ï¼Œå› ä¸ºè¿™ä¸ªè¯·æ±‚è¿‡ç¨‹éœ€è¦è¢«ç›‘å¬ func validateUsername(_ userNameStr: String) -&gt; Observable&lt;Result&gt; &#123; /*justæ˜¯åˆ›å»ºä¸€ä¸ªsequenceåªèƒ½å‘å‡ºä¸€ç§ç‰¹å®šçš„äº‹ä»¶ï¼Œèƒ½æ­£å¸¸ç»“æŸ next(ðŸ”´) completed */ //â¶åˆ¤æ–­-æ˜¯å¦ä¸ºç©º å½“å­—ç¬¦ç­‰äºŽ0çš„æ—¶å€™ä»€ä¹ˆéƒ½ä¸åš if userNameStr.count == 0 &#123; return .just(.empty) &#125; //â·åˆ¤æ–­-é•¿åº¦ if userNameStr.count &lt; minCharacterCount &#123; return .just(.failed(message: "å¤§å“¥è‡³å°‘6ä½å•Š")) &#125; //â¸åˆ¤æ–­- æ£€æŸ¥plistæ–‡ä»¶ä¸­æ˜¯å¦æœ‰è¯¥ç”¨æˆ·å if userNameValid(userNameStr) &#123; return .just(.failed(message: "è´¦æˆ·å·²å­˜åœ¨")) &#125; //â¹åˆ¤æ–­- è¿”å›žå¯ç”¨ return .just(.ok(message: "ç”¨æˆ·åå¯ç”¨"))&#125; â‘¡Method: ä»Žæœ¬åœ°æ•°æ®åº“ä¸­æ£€æµ‹ ç”¨æˆ·å æ˜¯å¦å·²ç»å­˜åœ¨ func userNameValid(_ userNameStr: String) -&gt;Bool&#123; let filePath = NSHomeDirectory()+"/Documents/users.plist" let userDic = NSDictionary(contentsOfFile:filePath) let userNameArray = userDic?.allKeys guard userNameArray != nil else&#123; return false &#125; if (userNameArray! as NSArray).contains(userNameStr) &#123; return true &#125;else&#123; return false &#125; &#125; â‘¢Method: æ£€æµ‹ å¯†ç é•¿åº¦ -&gt; Result func validatePassWord(_ passWordStr: String)-&gt; Result &#123; if passWordStr.count == 0 &#123; return .empty &#125; if passWordStr.count &lt; minCharacterCount &#123; return .failed(message: "å¯†ç é•¿åº¦è‡³å°‘6ä¸ªå­—ç¬¦") &#125; return .ok(message: "å¯†ç å¯ç”¨") &#125; â‘£ æ£€æµ‹ 2æ¬¡å¯†ç æ˜¯å¦ä¸€è‡´ -&gt; Result func validateCheckPassWord(_ passWordStr: String,checkPassWordStr:String) -&gt; Result &#123; if checkPassWordStr.count == 0&#123; return .empty &#125; if checkPassWordStr == passWordStr &#123; return .ok(message:"å¯†ç å¯ç”¨") &#125; return .failed(message: "ä¸¤æ¬¡å¯†ç ä¸ä¸€æ ·") &#125; â‘¤æ³¨å†Œå‡½æ•° - -&gt; Observable func register(_ userNameStr:String,passWordStr:String) -&gt; Observable&lt;Result&gt; &#123; let userDic = [userNameStr:passWordStr] let filePath = NSHomeDirectory() + "/Documents/users.plist" if (userDic as NSDictionary).write(toFile: filePath, atomically: true) &#123; return .just(.ok(message: "æ³¨å†ŒæˆåŠŸ")) &#125; return .just(.failed(message: "æ³¨å†Œå¤±è´¥")) &#125; â‘¥ç™»å½•ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ -&gt; Observable func loginUsernameValid(_ useNameStr: String) -&gt; Observable&lt;Result&gt; &#123; if useNameStr.count == 0 &#123; return .just(.empty) &#125; if userNameValid(useNameStr) &#123; return .just(.ok(message: "ç”¨æˆ·å å¯ç”¨")) &#125; return .just(.failed(message: "ç”¨æˆ·å ä¸å­˜åœ¨"))&#125; â‘¦ç™»å½• Observable func login(_ userNameStr: String, passWordStr: String)-&gt; Observable&lt;Result&gt; &#123; let filePath = NSHomeDirectory()+"/Documents/users.plist" let userDic = NSDictionary(contentsOfFile:filePath) if let usePass = userDic?.object(forKey: userNameStr) as? String &#123; if usePass == passWordStr &#123; return .just(.ok(message: "ç™»å½•æˆåŠŸ")) &#125; &#125; return .just(.failed(message: "å¯†ç é”™è¯¯"))&#125; Protocol.swift åˆ›å»ºä¸€ä¸ªProtocol.swiftæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªenumç”¨äºŽè¡¨ç¤ºæˆ‘ä»¬å¤„ç†ç»“æžœ æžšä¸¾è¡¨ç¤ºä¸€äº›è¯·æ±‚çš„ç»“æžœenum Result &#123; case ok(message: String) case empty case failed(message: String)&#125; å…ˆå¯¹Resultè¿›è¡Œäº†æ‰©å±• æ·»åŠ äº†ä¸€ä¸ªisValidå±žæ€§çŠ¶æ€æ˜¯okï¼Œè¿™ä¸ªå±žæ€§å°±è¿”å›žtrueï¼Œå¦åˆ™å°±è¿”å›žfalse extension Result&#123; var isValid: Bool&#123; switch self &#123; case .ok: return true default: return false &#125; &#125;&#125; æ·»åŠ äº†ä¸€ä¸ªtextColorå±žæ€§ï¼Œå¦‚æžœResultå±žæ€§ä¸ºokçš„æ—¶å€™é¢œè‰²å°±æ˜¯ç»¿è‰²ï¼Œå¦åˆ™å³ä½¿çº¢è‰² extension Result&#123; var textColor:UIColor&#123; switch self &#123; case .ok: return UIColor(red: 138.0 / 255.0, green: 221.0 / 255.0, blue: 109.0 / 255.0, alpha: 1.0) case .empty: return UIColor.black default: return UIColor.red &#125; &#125;&#125; è‡ªå®šä¹‰äº†ä¸€ä¸ªObserverå¯¹UIlabelè¿›è¡Œäº†æ‰©å±•ï¼Œæ ¹æ®resultç»“æžœï¼Œè¿›è¡Œä»–çš„textå’ŒtextColorçš„æ˜¾ç¤ºUIBindingObserverè¿™ä¸ªä¸œè¥¿å¾ˆæœ‰ç”¨çš„ï¼Œåˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ç›‘å¬è€…ï¼Œæœ‰æ—¶å€™RxCocoa(RxSwiftä¸­å¯¹UIKitçš„ä¸€ä¸ªæ‰©å±•åº“)ç»™çš„æ‰©å±•ä¸å¤Ÿæˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªUITextFieldæœ‰ä¸ªisEnabledå±žæ€§ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªisEnabledå˜ä¸ºä¸€ä¸ªobserverï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åš extension Result &#123; var description: String &#123; switch self &#123; case let .ok(message): return message case .empty: return "" case let .failed(message): return message &#125; &#125;&#125; UILabelè¿›è¡Œäº†UIBingObserverï¼Œæ ¹æ®resultç»“æžœï¼Œè¿›è¡Œå®ƒçš„textå’ŒtextColoræ˜¾ç¤º extension Reactive where Base: UILabel &#123; var validationResult: UIBindingObserver&lt;Base, Result&gt; &#123; return UIBindingObserver(UIElement: base) &#123; label, result in label.textColor = result.textColor label.text = result.description &#125; &#125;&#125; å¯¹UITextFieldè¿›è¡Œæ‰©å±•ï¼Œæ ¹æ®resultç»“æžœï¼Œè¿›è¡Œä»–çš„isEnabledè¿›è¡Œè®¾ç½® extension Reactive where Base: UITextField &#123; var inputEnabled: UIBindingObserver&lt;Base, Result&gt; &#123; return UIBindingObserver(UIElement: base) &#123; textFiled, result in textFiled.isEnabled = result.isValid &#125; &#125;&#125; å¯¹ button.isEnabledè¿›è¡Œæ‰©å±• extension Reactive where Base: UIBarButtonItem &#123; var tapEnabled: UIBindingObserver&lt;Base, Result&gt; &#123; return UIBindingObserver(UIElement: base) &#123; button, result in button.isEnabled = result.isValid &#125; &#125;&#125; RegisterViewModel.swift input: usernameæ—¢æ˜¯ä¸€ä¸ªobservableä¹Ÿæ˜¯ä¸€ä¸ªobserverï¼Œæ‰€ä»¥å£°æ˜Žä¸ºä»–ä¸ºä¸€ä¸ªVariable(è¢«è§‚å¯Ÿè€…)å¯¹è±¡ å¯¹usernameè¿›è¡Œå¤„ç†çš„åº”è¯¥æœ‰ä¸€ä¸ªç»“æžœï¼Œç»“æžœåº”è¯¥æ˜¯éœ€è¦ç•Œé¢åŽ»ç›‘å¬æ¥æ”¹å˜ç•Œé¢ï¼Œå› ä¸ºå¤„ç†çš„ç»“æžœä¸éœ€è¦æ˜¯ä¸€ä¸ªobserverï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒå£°æ˜Žä¸ºä¸€ä¸ªObservableç±»åž‹ åˆå§‹å€¼ä¸ºâ€â€ let userNameVariable = Variable&lt;String&gt;("")//usernameUseableè¡¨ç¤ºå¯¹usernameå¤„ç†çš„ä¸€ä¸ªç»“æžœï¼ŒåŽé¢userNameVariableä½œä¸º è¢«è§‚å¯Ÿçš„å¯¹è±¡let passWordVariable = Variable&lt;String&gt;("")let checkPassWordVariable = Variable&lt;String&gt;("")let registerTaps = PublishSubject&lt;Void&gt;()//ä½¿ç”¨äº†PublishSubjectï¼Œå› ä¸ºä¸éœ€è¦æœ‰åˆå§‹å…ƒç´ ï¼Œå…¶å®žå‰é¢çš„Variableéƒ½å¯ä»¥æ¢æˆPublishSubject output let userNameUsable: Observable&lt;Result&gt;let passWordUsable: Observable&lt;Result&gt;let checkPassWordUsable: Observable&lt;Result&gt;let registerBtnEnabled: Observable&lt;Bool&gt; //æ³¨å†ŒæŒ‰é’®æ˜¯å¦å¯ç”¨çš„è¾“å‡ºï¼Œè¿™ä¸ªå…¶å®žå…³ç³»åˆ°usernameå’Œpasswordlet registerResult: Observable&lt;Result&gt; åˆå§‹åŒ–å¤„ç†- ç½‘ç»œå±‚ let service = ValidationService.instance è§‚å¯Ÿ â€“&gt; userNameVariableï¼ˆinputï¼‰ï¼ˆäº‹ä»¶æºï¼‰ userNameUsable è¢«è§‚å¯Ÿè€…ï¼ˆäº‹ä»¶æºï¼‰ï¼ˆå°±æ˜¯è¦è§‚å¯Ÿ userNameVariableï¼‰å¤„ç†ç»“æžœ ,ç„¶åŽå¯¹é‡Œé¢çš„å…ƒç´ è¿›è¡Œå¤„ç†ä¹‹åŽå‘å°„å¯¹åº”çš„äº‹ä»¶,è¦é€šè¿‡ é«˜é˜¶å‡½æ•°å‘å‡ºä¸€ä¸ªå¤„ç†åŽçš„ é˜Ÿåˆ—, flatMapLatest åªä¼šæŽ¥æ”¶æœ€æ–°çš„valueäº‹ä»¶ validateUsername ç›‘å¬username è¿”å›žä¸€ä¸ªObservableå¯¹è±¡ service.validateUsername ï¼ˆï¼‰ï¼Œå¤„ç†ä¸€ä¸ªé˜Ÿåˆ—ä¿¡å·ï¼Œå†è¿”å›žä¸€ä¸ªæ–°é˜Ÿåˆ—ä¿¡å· shareReplay(1)æ˜¯å› ä¸ºæˆ‘ä»¬è¦ä¿è¯æ— è®ºå¤šå°‘ä¸ªObserveræ¥ç›‘å¬æˆ‘ä»¬è¿™ä¸ªåºåˆ—ï¼Œusernameçš„å¤„ç†ä»£ç æˆ‘ä»¬åªæ‰§è¡Œä¸€æ¬¡ï¼Œè¿™ä¸€æ¬¡è¯·æ±‚ç»“æžœä¾›å¤šæœ‰çš„observeråŽ»ä½¿ç”¨ userNameUsable = userNameVariable.asObservable() .flatMapLatest&#123; userNameVariable in return service.validateUsername(userNameVariable) .observeOn(MainScheduler.instance) .catchErrorJustReturn(.failed(message: "usernameæ£€æµ‹å‡ºé”™")) &#125; .share(replay:1) å¯†ç passWordSträ½œä¸ºè§‚å¯Ÿè€…ï¼Œå¯†ç æ–‡æœ¬å˜åŒ–ï¼Œåˆ¤æ–­ï¼Œè¿”å›žä¸åŒçš„é˜Ÿåˆ—ä¿¡å· passWordUsable = passWordVariable.asObservable() .map&#123; passWordVariable in return service.validatePassWord(passWordVariable) &#125; .share(replay:1) å¯†ç +æ£€æµ‹å¯†ç  2ä¸ªé˜Ÿåˆ—ä¿¡å·combineLatesté‚»è¿‘äº‹ä»¶ä¸€èµ·å¤„ç† checkPassWordUsable = Observable.combineLatest(passWordVariable.asObservable(),checkPassWordVariable.asObservable())&#123; return service.validateCheckPassWord($0, checkPassWordStr: $1) &#125; .share(replay: 1) ç”¨æˆ·å+å¯†ç +æ£€è½¦å¯†ç  3æ¬¡é˜Ÿåˆ—åˆå¹¶â€“&gt;å‘å‡º æ˜¯å¦æ³¨å†ŒæˆåŠŸçš„é˜Ÿåˆ— registerBtnEnabled = Observable.combineLatest(userNameUsable, passWordUsable, checkPassWordUsable)&#123; (username,passWord,checkPassWord) in username.isValid &amp;&amp; passWord.isValid &amp;&amp; checkPassWord.isValid // è¦æ±‚3ä¸ªä¿¡å·é‡å‡ä¸ä¸ºnil &#125; .distinctUntilChanged() //å¦‚æžœé˜Ÿåˆ—ä¸­å‡ºçŽ°ç›¸åŒElementï¼Œå°†è¢«è¿‡æ»¤æŽ‰ .share(replay: 1) æ³¨å†Œç»“æžœé˜Ÿåˆ— combineLatest åˆå¹¶ userNameStr å’Œ passWordStr çš„å¤„ç†ç»“æžœç»‘å®šåˆ°ä¸€èµ·â€”&gt;å½¢æˆæ€»çš„ç»“æžœæµ registerTapsæ¥åˆ¤æ–­ å¦‚æžœæ»¡è¶³æ³¨å†Œæ¡ä»¶ï¼Œ withLatestFrom åº”è¯¥æ„æ€æ˜¯ èŽ·å–æœ€æ–°çš„é˜Ÿåˆ—ä¿¡å· registerResult = registerTaps.asObserver() .withLatestFrom( Observable.combineLatest(userNameVariable.asObservable(), passWordVariable.asObservable()) &#123; ($0, $1) &#125;) .flatMapLatest&#123; // flatMapLatest åªä¼šæŽ¥æ”¶æœ€æ–°çš„valueäº‹ä»¶ (username,password) in return service.register(username, passWordStr: password) .observeOn(MainScheduler.instance) .catchErrorJustReturn(.failed(message: "æ³¨å†Œå‡ºé”™")) &#125; .share(replay: 1) refer]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxSwift-Grammar-åŸºæœ¬æ¦‚å¿µå°ç»“]]></title>
    <url>%2F2018%2F03%2F27%2FRxSwift%2FGrammar%2F%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E5%B0%8F%E7%BB%93%2F</url>
    <content type="text"><![CDATA[æ¦‚å¿µç†è§£ â‘ Observable å’Œ Observer â‘¡subscribe å’Œ subscribe(onNext:) â‘¢Dispose å’Œ DisposeBag â‘£observeOn() å’Œ subscribeOn() â‘¤shareReplay â‘¥è‡ªå®šä¹‰operator â‘¦Driver â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨ â‘¨UIBindingObserver â‘ Observable å’Œ Observer â‘ Observable å’Œ Observerå®žè´¨ Observer (è§‚å¯Ÿè€…)è®¢é˜…ä¸€ä¸ªå¯è§‚å¯Ÿåºåˆ— Observable(äº‹ä»¶æº)æ¯ä¸€ä¸ªObservableçš„å®žä¾‹éƒ½æ˜¯ä¸€ä¸ªåºåˆ—è§‚å¯Ÿè€… å¯¹ Observable å‘å°„çš„æ•°æ®æˆ–æ•°æ®åºåˆ—ä½œå‡ºå“åº” ä¸¾ä¾‹ Button çš„ç‚¹å‡»è¿™ä¸ªæƒ…æ™¯ æŠŠç”¨æˆ·ä¸€æ¬¡åˆä¸€æ¬¡çš„ç‚¹å‡» Button çœ‹åšæ˜¯åºåˆ—(sequence) é€šè¿‡è°ƒç”¨ subscribe æ¥è®¢é˜…è¿™ä¸ªç‚¹å‡»äº‹ä»¶ æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šå‘å°„ä¸€ä¸ªæ•°æ® ä½œä¸ºè®¢é˜…è€…çš„ subscribe æ”¶åˆ°è¿™ä¸ªè¿™ä¸ªæ•°æ®è¿›è¡ŒæŸäº›å“åº” Rx çš„åŸºæœ¬æ¦‚å¿µï¼Œæœ‰Observerè§‚å¯Ÿè€…è§‚å¯Ÿä¸€ä¸ªåºåˆ—sequenceï¼Œæ¯å½“åºåˆ—å‘å°„å€¼çš„æ—¶å€™ï¼Œè§‚å¯Ÿè€…æ ¹æ®åºåˆ—åšä¸€äº›äº‹æƒ…Observableåºåˆ—ç›¸æ¯”äºŽSwiftåºåˆ—çš„å…³é”®ä¼˜åŠ¿ç‚¹åœ¨äºŽå®ƒèƒ½å¤Ÿå¼‚æ­¥åœ°æŽ¥æ”¶å…ƒç´  Observable(ObservableType)ç­‰æ•ˆäºŽSequence observableType.subscribe(_:)æ–¹æ³•ç­‰æ•ˆäºŽSequence.makeIterator() ObservableType.subscribe(_:)æŽ¥æ”¶ä¸€ä¸ªè§‚å¯Ÿè€…ObserverTypeå‚æ•°,å®ƒå°†è¢«è®¢é˜…è‡ªåŠ¨æŽ¥æ”¶ç”±å¯è§‚å¯Ÿåˆ°çš„åºåˆ—äº‹ä»¶å’Œå…ƒç´ ï¼Œè€Œä¸æ˜¯åœ¨è¿”å›žçš„ç”Ÿæˆå™¨ä¸Šæ‰‹åŠ¨è°ƒç”¨next() å¦‚æžœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªnextäº‹ä»¶(Event.next(Element)),å®ƒè¿˜èƒ½å¤Ÿç»§ç»­å‘å‡ºæ›´å¤šçš„äº‹ä»¶ä½†æ˜¯ï¼Œå¦‚æžœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªerroräº‹ä»¶(Event.error(ErrorType))æˆ–è€…ä¸€ä¸ªcompletedäº‹ä»¶(Event.completed)ï¼Œé‚£ä¹ˆè¿™ä¸ªObservableåºåˆ—å°±ä¸èƒ½ç»™è®¢é˜…è€…å‘é€å…¶ä»–çš„äº‹ä»¶ å¯è§‚å¯Ÿåºåˆ— (Observables aka Sequences) å¯è§‚å¯Ÿåºåˆ— å­˜åœ¨ä¸‰ç§æƒ…å†µ:â‘ å‘å°„æ•°æ®(Next)â‘¡é‡åˆ°é—®é¢˜(Error)â‘¢å‘å°„å®Œæˆ(Completed) æœ‰é™åºåˆ— æ¯”å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªåºåˆ— --1--2--3--4--5--6--| ï¼Œå®ƒå‘é€äº†æŒ‰é¡ºåºå‘é€äº† 1 2 3 4 5 6 è¿™äº›å€¼åŽï¼Œå°±ç»ˆæ­¢äº†ï¼Œå°±æ˜¯å‘å°„å®Œæˆã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰é™åºåˆ—ä¹Ÿæœ‰å¯èƒ½å› ä¸ºæŸäº›ç‰¹æ®Šçš„æƒ…å†µï¼Œé‡åˆ°æŸäº›é”™è¯¯ï¼ˆæ¯”å¦‚æ•°æ®è§£æžé”™è¯¯ï¼‰ï¼Œ--1--2--3--4--X ï¼Œå› ä¸ºè§£æžé”™è¯¯æ„å¤–ç»ˆæ­¢ æ— é™åºåˆ— æ¯”å¦‚ç”¨æˆ·ç‚¹å‡» Button ï¼Œè¿™ä¸ªå°±å±žäºŽæ— é™åºåˆ— ---tap-tap-------tap---&gt; å½“ç„¶è¿™é‡Œçš„æ— é™ä¸æ˜¯çœŸçš„æ— é™ï¼Œæ˜¯ä¸ç¡®å®šç”¨æˆ·ä»€ä¹ˆæ—¶å€™ä¼šç‚¹å‡»ï¼Œä¸ç¡®å®šæ˜¯å¦ä¼šç»§ç»­ç‚¹å‡»ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªæ— é™åºåˆ—ï¼Œæ¯å½“ç”¨æˆ·ç‚¹å‡»ï¼Œåºåˆ—å°±å‘å°„ä¸€ä¸ªå€¼ å°†ä»¥ä¸Šçš„ä¸‰ç§æƒ…å†µç»Ÿæ¦‚æ‹¬ä¸ºäº‹ä»¶ enum Event&lt;Element&gt; &#123; case Next(Element) // åºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´  case Error(ErrorType) // åºåˆ—å› ä¸ºæŸäº›é”™è¯¯ç»ˆæ­¢ case Completed // æ­£å¸¸çš„åºåˆ—æŠ€æœ¯&#125; è§‚å¯Ÿè€… (Observer) è§‚å¯Ÿè€…éœ€è¦ä¸€ä¸ªè®¢é˜…åºåˆ—çš„åŠŸèƒ½ class Observable&lt;Element&gt; &#123;func subscribe(observer: Observer&lt;Element&gt;) -&gt; Disposable&#125;protocol ObserverType &#123; func on(event: Event&lt;Element&gt;)&#125; é€šè¿‡åºåˆ—çš„è¿™ä¸ª subscribe æ¥è®¢é˜…åºåˆ—è¿™é‡Œå°±åº”è¯¥æåˆ°åºåˆ—çš„â€œå†·â€â€œçƒ­â€é—®é¢˜ å†·ï¼šåªæœ‰å½“æœ‰è§‚å¯Ÿè€…è®¢é˜…è¿™ä¸ªåºåˆ—æ—¶ï¼Œåºåˆ—æ‰å‘å°„å€¼ çƒ­ï¼šåºåˆ—åˆ›å»ºæ—¶å°±å¼€å§‹å‘å°„å€¼ æ•´ä½“ä¸Šå°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªå…³ç³»ï¼Œåºåˆ—å‘å°„å€¼ï¼Œè§‚å¯Ÿè€…è®¢é˜…åºåˆ—ï¼Œæ”¶åˆ°å€¼ï¼Œè¿›è¡Œå¤„ç† Obserable åˆ›å»ºè¢«è§‚å¯Ÿè€…å…¶å®žå°±æ˜¯åˆ›å»ºä¸€ä¸ªObserableçš„sequenceï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªæµï¼Œç„¶åŽå°±å¯ä»¥è¢«è®¢é˜…subscribeï¼Œè¿™æ ·è¢«è§‚å¯Ÿè€…å‘å‡ºæ—¶é—´æ¶ˆå¤±ï¼Œå°±èƒ½åšç›¸åº”çš„å¤„ç† â‘¡subscribe å’Œ subscribe(onNext:) Subscribe subscribeæ˜¯è®¢é˜…sequenceå‘å‡ºçš„äº‹ä»¶ï¼Œæ¯”å¦‚nextäº‹ä»¶ï¼Œerroräº‹ä»¶ç­‰ è€Œsubscribe(onNext:)æ˜¯ç›‘å¬sequenceå‘å‡ºçš„nextäº‹ä»¶ä¸­çš„elementè¿›è¡Œå¤„ç†ï¼Œä»–ä¼šå¿½ç•¥errorå’Œcompletedäº‹ä»¶ ç›¸å¯¹åº”çš„è¿˜æœ‰subscribe(onError:) å’Œ subscribe(onCompleted:) â‘¢Dispose å’Œ DisposeBagå½“ç›‘å¬ä¸€ä¸ªsequenceçš„æ—¶å€™ï¼Œæœ‰æ¶ˆæ¯äº‹ä»¶æ¥äº†ï¼ŒåšæŸäº›äº‹æƒ…ã€‚ä½†æ˜¯è¿™ä¸ªsequenceä¸å†å‘é€æ¶ˆæ¯äº‹ä»¶äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç›‘å¬ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆå­˜åœ¨çš„ä»·å€¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡Šæ”¾æˆ‘ä»¬è¿™äº›ç›‘å¬èµ„æºï¼Œå…¶å®žä¹Ÿå°±æ˜¯å†…å­˜èµ„æºé‡Šæ”¾ ##æ‰‹åŠ¨è°ƒç”¨é‡Šæ”¾æ–¹å¼(ä¸€èˆ¬ä¸é€‚ç”¨è¿™ç§æ–¹å¼) åˆ›å»ºä¸€ä¸ªsubscriptionç›‘å¬ï¼Œåœ¨ä¸¤ç§’ä»¥åŽæˆ‘ä»¬ä¸éœ€è¦äº†ï¼Œæ‰‹åŠ¨è°ƒç”¨dispose()æ–¹æ³•ï¼Œå°±èƒ½é‡Šæ”¾ç›‘å¬èµ„æºï¼Œä¸å†æ‰“å°ä¿¡æ¯ã€‚ä¸Šé¢çš„subscriptionä¸è®ºæ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ä¸­ç›‘å¬ï¼Œå°±ç®—åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨çš„dispose()æ–¹æ³•ä¸€æ ·ä¼šé”€æ¯èµ„æº let subscription = Observable&lt;Int&gt;.interval(0.3, scheduler:SerialDispatchQueueScheduler.init(internalSerialQueueName: "scott")) .observeOn(MainScheduler.instance) .subscribe &#123; event in print (event) &#125;Thread.sleep(forTimeInterval: 2.0)subscription.dispose() //æ‰“å°ç»“æžœï¼šnext(0)next(1)next(2)next(3)next(4)next(5) è‡ªåŠ¨æ–¹å¼ åˆ›å»ºä¸€ä¸ªdisposeBagæ¥ç››æ”¾æˆ‘ä»¬éœ€è¦ç®¡ç†çš„èµ„æºï¼Œç„¶åŽæŠŠæ–°å»ºçš„ç›‘å¬éƒ½æ”¾è¿›åŽ»ï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è¿™äº›èµ„æºå¦‚æžœéœ€è¦ç«‹å³é‡Šæ”¾èµ„æºåªéœ€è¦æ–°å»ºä¸€ä¸ªDisposeBag()ï¼Œé‚£ä¹ˆä¸Šä¸€ä¸ªDisposeBagå°±ä¼šè¢«é”€æ¯ let disposeBag = DisposeBag()Observable&lt;Int&gt;.empty() .subscribe&#123; event in print (event) &#125; .addDisponseableTo(disposeBag) DisposeBag DisposeBagå…¶å®žå°±ç›¸å½“äºŽiOSä¸­çš„ARCä¼¼å¾—ï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è§‚å¯Ÿè€…ï¼Œç›¸å½“äºŽå†…å­˜ç®¡ç†è€…å§ â‘£observeOn() å’Œ subscribeOn() subscribeOn() è®¾ç½®èµ·ç‚¹åœ¨å“ªä¸ªçº¿ç¨‹ observeOn() ç½®äº†åŽç»­å·¥ä½œåœ¨å“ªä¸ªçº¿ç¨‹ 1)æ‰€æœ‰åŠ¨ä½œéƒ½å‘ç”Ÿåœ¨å½“å‰çš„é»˜è®¤çº¿ç¨‹2)observeOn()è½¬æ¢çº¿ç¨‹åˆ°ä¸»çº¿ç¨‹ï¼Œä¸‹é¢æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ä¸»çº¿ç¨‹3)subscribeOn()è§„å®šåŠ¨ä½œä¸€å¼€å§‹ä¸æ˜¯å‘ç”Ÿåœ¨é»˜è®¤çº¿ç¨‹ï¼Œè€Œæ˜¯åœ¨OtherScheduleräº†)-å¦‚æžœä¹‹å‰æ²¡æœ‰è°ƒç”¨observeOn()ï¼Œé‚£ä¹ˆè¿™è¾¹ä¼šåœ¨OtherSchedulerå‘ç”Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å‰é¢è°ƒç”¨äº†observeOn()ï¼Œæ‰€ä»¥è¿™ä¸ªåŠ¨ä½œä¼šåœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨subscribeOn()åªæ˜¯å½±å“äº‹ä»¶é“¾å¼€å§‹é»˜è®¤çš„çº¿ç¨‹ï¼Œè€ŒobserveOn()è§„å®šäº†ä¸‹ä¸€æ­¥åŠ¨ä½œå‘ç”Ÿåœ¨å“ªä¸ªçº¿ç¨‹ä¸­ã€‚ someObservable .doOneThing() //1 .observeOn(MainRouteScheduler.instance) // 2 .subscribeOn(OtherScheduler.instance) // 3 .subscribeNext &#123; // 4 ...... &#125; .addDisposableTo(disposeBag) â‘¤shareReplaylet disposeBag = DisposeBag()let observable = Observable.just("ðŸ¤£") .map&#123; print($0) &#125;observable.subscribe&#123; print("Even:\($0)") &#125; .disposed(by: disposeBag)observable.subscribe&#123; print("Even:\($0)") &#125; .disposed(by: disposeBag)//æ‰“å°ç»“æžœï¼šðŸ¤£Even:next(())Even:completedðŸ¤£Even:next(())Even:completed map()å‡½æ•°æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³è®©map()å‡½æ•°é‡Œé¢çš„ä¸œè¥¿æ‰§è¡Œä¸¤æ¬¡ï¼Œæ¯”å¦‚map()å‡½æ•°é‡Œé¢æ‰§è¡Œçš„æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œæˆ‘åªéœ€è¦æ‰§è¡Œä¸€æ¬¡è¯·æ±‚ï¼Œç„¶åŽæŠŠç»“æžœæä¾›ç»™å¤§å®¶ä½¿ç”¨å°±è¡Œäº†ï¼Œå¤šä½™çš„è¯·æ±‚ä¼šå¢žåŠ è´Ÿæ‹…ã€‚æ‰€ä»¥è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨shareReplay(1)äº†ã€‚è¿™é‡Œé¢çš„æ•°å­—ä¸€èˆ¬æ˜¯1ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚(ps:æˆ‘æ”¹æˆ 2ï¼Œ3 ä¹Ÿåªæ‰“å°ä¸€æ¬¡) let disposeBag = DisposeBag() let observable = Observable.just("ðŸ¤£").map&#123;print($0)&#125;.shareReplay(1) observable.subscribe&#123;print("Even:\($0)")&#125;.disposed(by: disposeBag)observable.subscribe&#123;print("Even:\($0)")&#125;.disposed(by: disposeBag)//æ‰“å°ç»“æžœï¼šðŸ¤£Even:next(())Even:completedEven:next(())Even:completed â‘¥è‡ªå®šä¹‰operator è‡ªå®šä¹‰æ“ä½œç¬¦å¾ˆç®€å•ï¼Œå®˜æ–¹æŽ¨èå°½é‡ä½¿ç”¨æ ‡å‡†çš„æ“ä½œç¬¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„æ“ä½œç¬¦ï¼Œæ–‡æ¡£ä¸Šè¯´æœ‰ä¸¤ç§æ–¹æ³•ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•å§è‡ªå®šä¹‰ä¸€ä¸ªmapæ“ä½œç¬¦ extension ObserverType &#123; func myMap&lt;R&gt;(transform: E -&gt; R) -&gt; Observable&lt;R&gt; &#123; return Observable.create&#123; observer in let subscription = self.subscribe &#123;e in switch e&#123; case .next(let value): let result = transform(value) observer.on(.next(result)) case .error(let error): observer.on(.error(error)) case .completed: observer.on(.completed) &#125; &#125; return subscription &#125; &#125;&#125; å‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå…¶ä¸­é—­åŒ…å‚æ•°æ˜¯Eç±»åž‹è¿”å›žå€¼æ˜¯Rç±»åž‹ï¼Œmapå‡½æ•°çš„è¿”å›žå€¼æ˜¯ä¸€ä¸ªObservableç±»åž‹ã€‚ â‘¦Driver let results = query.rx .text .throttle(0.3,scheduler: MainScheduler.instance)//åœ¨ä¸»çº¿ç¨‹ä¸­æ“ä½œï¼Œå¦‚æžœ0.3ç§’å†…å€¼å‘ç”Ÿå¤šæ¬¡æ”¹å˜ï¼Œå–æœ€åŽä¸€æ¬¡çš„å€¼ .flatMapLatest &#123; query in //ç­›é€‰å‡ºç©ºå€¼, æ‹å¹³åºåˆ—ï¼Œå¹¶å–å¾—æœ€åŽä¸€ä¸ªæœ‰æ•ˆçš„å€¼ fetchAutoCompleteItems(query) &#125; results .map &#123; "\($0.count)" &#125; //å¾—å‡ºç»“æžœä¹‹åŽï¼Œå–å‡ºç»“æžœçš„æ•°é‡ .bindTo(resultCount.rx .text) //å–å‡ºç»“æžœçš„æ•°é‡ï¼Œç»‘å®šåˆ°resultCountä¸Šé¢æ˜¾ç¤ºå‡ºæ¥ .addDisposableTo(disposeBag) //é‡Šæ”¾èµ„æº results .bindTo(resultsTableView.rx .items(cellIdentifier: "Cell")) &#123; (_, result, cell) in cell.textLabel?.text = "\(result)" ////å–å‡ºç»“æžœï¼ŒTableViewçš„Cellä¸Šé¢æ˜¾ç¤ºå‡ºæ¥ &#125; .addDisposableTo(disposeBag) é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯ç›‘å¬åºåˆ—results; ç„¶åŽå°†resultsç»‘å®šåˆ°resultCount.rx.textä¸Š; å°†resultsç»‘å®šåˆ°resultsTableViewä¸Š. ä¸Šé¢ç¨‹åºä¼šå‡ºçŽ°ä¸‹é¢å‡ ä¸ªå¼‚å¸¸ï¼š å¦‚æžœfetchAutoCompleteItemså‡ºé”™ï¼Œé‚£ä¹ˆå®ƒç»‘å®šçš„UIå°†ä¸å†æ”¶åˆ°ä»»ä½•äº‹ä»¶æ¶ˆæ¯ï¼› å¦‚æžœfetchAutoCompleteItemså‘ç”Ÿåœ¨åŽå°çº¿ç¨‹ï¼Œé‚£ä¹ˆå®ƒç»‘å®šçš„äº‹ä»¶ä¹Ÿå°†åœ¨åŽå°çº¿ç¨‹æ‰§è¡Œï¼Œè¿™æ ·æ›´æ–°UIä¼šé€ æˆcrashï¼› æœ‰ä¸¤æ¬¡ç»‘å®šï¼ŒfetchAutoCompleteItemså°±ä¼šæ‰§è¡Œä¸¤æ¬¡ å½“ç„¶é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆï¼Œé’ˆå¯¹ç¬¬ä¸‰ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¥žå™¨shareReplay(1)ä¿è¯åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨observeOn()ä¿è¯åŽé¢æ‰€æœ‰æ“ä½œåœ¨ä¸»çº¿ç¨‹å®Œæˆ let results = query.rx.text .throttle(0.3, scheduler: MainScheduler.instance) .flatMapLatest &#123; query in fetchAutoCompleteItems(query).observeOn(MainScheduler.instance) // å°†è¿”å›žç»“æžœåˆ‡æ¢åˆ°åˆ°ä¸»çº¿ç¨‹ä¸Š .catchErrorJustReturn([]) // å¦‚æžœæœ‰é—®é¢˜ï¼Œé”™è¯¯ç»“æžœå°†ä¼šå¾—åˆ°å¤„ç† &#125; .shareReplay(1) // HTTPè¯·æ±‚å°†ä¼šå¾—åˆ°åˆ†äº«ï¼Œå³ä¸¤æ¬¡ç»‘å®šUIä½¿ç”¨åŒä¸€ç½‘ç»œè¯·æ±‚ results .map &#123; "\($0.count)" &#125; .bindTo(resultCount.rx.text) .addDisposableTo(disposeBag) results .bindTo(resultTableView.rx.items(cellIdentifier: "Cell")) &#123; (_, result, cell) in cell.textLabel?.text = "\(result)" &#125; .addDisposableTo(disposeBag) ç”¨Driveræ¥è§£å†³ let results = query.rx .text .asDriver() .throttle(0.3, scheduler: MainScheduler.instance) .flatMapLatest &#123; query in fetchAutoCompleteItems(query).asDriver(onErrorJustReturn: []) //å½“é‡è§é”™è¯¯éœ€è¦è¿”å›žä»€ä¹ˆ &#125; //ä¸éœ€è¦æ·»åŠ shareReplay(1) results .map &#123; "\($0.count)" &#125; .drive(resultCount.rx.text) //å’ŒbingTo()åŠŸèƒ½ä¸€æ · .addDisposableTo(disposeBag) results .drive(resultTableView.rx.items(cellIdentifier: "Cell")) &#123; (_, result, cell) in cell.textLabel?.text = "\(result)" &#125; .addDisposableTo(disposeBag) .asDriver å°†â€˜ControlPropertyâ€™ è½¬æ¢æˆäº† â€˜Driverâ€™ query.rx_text.asDriver() â€˜Driverâ€™æ‹¥æœ‰â€™ControlPropertyâ€™çš„æ‰€æœ‰å±žæ€§ï¼ŒåŒæ—¶åˆå¢žåŠ äº†å¾ˆå¤šå±žæ€§ ä»»ä½• â€˜Observableâ€™ åºåˆ—éƒ½å¯ä»¥è¢«è½¬æ¢ä¸ºâ€™Driverâ€™, åªè¦ä»–æ»¡è¶³ä¸€ä¸‹ä¸‰ç‚¹ï¼š 1.ä¸èƒ½å‡ºé”™ 2.è§‚å¯Ÿä¸»çº¿ç¨‹ 3.å…±äº«èµ„æº å¦‚ä½•ç¡®ä¿è¿™äº›å±žæ€§éƒ½æ»¡è¶³å‘¢ï¼Ÿåªéœ€è¦ä½¿ç”¨ â€˜asDriver(onErrorJustReturn: [])â€™ ,ç›¸å½“äºŽå¦‚ä¸‹ä»£ç : let safeSequence = xs .observeOn(MainScheduler.instance) // åˆ‡æ¢åˆ°ä¸»çº¿ç¨‹ .catchErrorJustReturn(onErrorJustReturn) // ä¸èƒ½å‡ºé”™ .shareReplayLatestWhileConnected // å…±äº«èµ„æº return Driver(raw: safeSequence) // è¿”å›ž æœ€åŽä¸€ç‚¹è¦è¯´æ˜Žçš„æ˜¯ â€˜driverâ€™ å¯ä»¥ä»£æ›¿â€™bindToâ€™,drive åªèƒ½åœ¨ Driver ä¸­ä½¿ç”¨ driveæ–¹æ³•åªèƒ½åœ¨Driveråºåˆ—ä¸­ä½¿ç”¨ï¼ŒDriveræœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š Driveråºåˆ—ä¸å…è®¸å‘å‡ºerrorï¼Œ Driveråºåˆ—çš„ç›‘å¬åªä¼šåœ¨ä¸»çº¿ç¨‹ä¸­ã€‚ æ‰€ä»¥Driveræ˜¯ä¸“ä¸ºUIç»‘å®šé‡èº«æ‰“é€ çš„ä¸œè¥¿ã€‚ä»¥ä¸‹æƒ…å†µä½ å¯ä»¥ä½¿ç”¨Driveræ›¿æ¢BindTo: ä¸èƒ½å‘å‡ºerror; åœ¨ä¸»çº¿ç¨‹ä¸­ç›‘å¬; å…±äº«äº‹ä»¶æµ; â‘§map å’Œ flatMap ä½•æ—¶ä½¿ç”¨ mapå‡½æ•°ï¼ŒæŽ¥æ”¶ä¸€ä¸ªRç±»åž‹çš„åºåˆ—ï¼Œè¿”å›žä¸€ä¸ªRç±»åž‹çš„åºåˆ—ï¼Œè¿˜æ˜¯åŽŸæ¥çš„åºåˆ—ã€‚ public func map&lt;R&gt;(_ transform: @escaping (Self.E) throws -&gt; R) -&gt; RxSwift.Observable&lt;R&gt; flatMapå‡½æ•°ï¼ŒæŽ¥æ”¶ä¸€ä¸ªOç±»åž‹çš„åºåˆ—ï¼Œè¿”å›žä¸€ä¸ªO.Eç±»åž‹çš„åºåˆ—ï¼Œä¹Ÿå°±æ˜¯æœ‰åŽŸæ¥åºåˆ—é‡Œå…ƒç´ ç»„æˆçš„æ–°åºåˆ—ã€‚ public func flatMap&lt;O: ObservableConvertibleType&gt;(_ selector: @escaping (E) throws -&gt; O) -&gt; Observable&lt;O.E&gt; å®žè¿™é‡Œçš„mapå’ŒflatMapåœ¨swiftä¸­çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚mapå‡½æ•°å¯ä»¥å¯¹åŽŸæœ‰åºåˆ—é‡Œé¢çš„äº‹ä»¶å…ƒç´ è¿›è¡Œæ”¹é€ ï¼Œè¿”å›žçš„è¿˜æ˜¯åŽŸæ¥çš„åºåˆ—ã€‚è€ŒflatMapå¯¹åŽŸæœ‰åºåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ”¹é€ å’Œå¤„ç†ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è¿”å›žä¸€ä¸ªæ–°çš„sequenceï¼Œç„¶åŽæŠŠæ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„sequenceåˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„sequenceåºåˆ— let disposeBag = DisposeBag() let observable = Observable.of("1","2","3","4","5").map&#123;$0 + "scott"&#125; observable.subscribe(onNext: &#123;print($0)&#125;).disposed(by: disposeBag)//æ‰“å°ç»“æžœï¼š1scott2scott3scott4scott5scott ä½¿ç”¨mapå¯¹åºåˆ—ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä½¿ç”¨flatMapéœ€è¦è¿”å›žçš„åºåˆ—ã€‚é‚£ä¹ˆä½¿ç”¨mapä¹Ÿè¿”å›žä¸€ä¸ªåºåˆ—çœ‹çœ‹ let test = Observable.of("1", "2", "3", "4", "5") .map &#123; Observable.just($0) &#125; test.subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) // è¿è¡Œç»“æžœ:RxSwift.(Just in _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;Swift.String&gt;RxSwift.(Just in _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;Swift.String&gt;RxSwift.(Just in _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;Swift.String&gt;RxSwift.(Just in _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;Swift.String&gt;RxSwift.(Just in _BD9B9D4356C4038796FB16D0D54A9F8E)&lt;Swift.String&gt; çœ‹åˆ°ç»“æžœä¼šæ‰“å°å‡ºæ¯ä¸€ä¸ªåºåˆ—ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨merge()æ–¹æ³•å°†è¿™å‡ ä¸ªåºåˆ—è¿›è¡Œåˆå¹¶: let test = Observable.of("1", "2", "3", "4", "5") .map &#123; Observable.just($0) &#125;.merge() test.subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)//è¿è¡Œç»“æžœ: 12345 å¹¶ä¸ºä¸€ä¸ªæ–°åºåˆ—åŽæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸æ‰“å°å…ƒç´ äº†ã€‚ä¸‹é¢çœ‹çœ‹ä½¿ç”¨faltMap()å‡½æ•°å¹²è¿™ä»¶äº‹ let test = Observable.of("1", "2", "3", "4", "5") .flatMap &#123; Observable.just($0) &#125; test.subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) //è¿è¡Œç»“æžœ: 12345 çœ‹ä¸‹å¯¹æ¯”æ˜¯ä¸æ˜¯ä¸€æ ·ï¼Œè¿™æ ·å­å¯¹æ¯”å°±æ¸…æ™°äº†å§ã€‚ mapå‡½æ•°åªèƒ½è¿”å›žåŽŸæ¥çš„é‚£ä¸€ä¸ªåºåˆ—ï¼Œé‡Œé¢çš„å‚æ•°çš„è¿”å›žå€¼è¢«å½“åšåŽŸæ¥åºåˆ—ä¸­æ‰€å¯¹åº”çš„å…ƒç´ ã€‚ flatMapå‡½æ•°è¿”å›žçš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—ï¼Œå°†åŽŸæ¥å…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›žè¿™äº›å¤„ç†åŽçš„å…ƒç´ ç»„æˆçš„æ–°åºåˆ— mapå‡½æ•° + åˆå¹¶å‡½æ•° = flatMapå‡½æ•° flatMapå‡½æ•°åœ¨å®žé™…åº”ç”¨ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ï¼Œç½‘ç»œè¯·æ±‚å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¯·æ±‚è¿‡ç¨‹è¿›è¡Œç›‘å¬ï¼Œç„¶åŽå¤„ç†é”™è¯¯ã€‚åªè¦ç»§ç»­ä»–è¿”å›žçš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ— â‘¨UIBindingObserver UIBindingObserverè¿™ä¸ªä¸œè¥¿å¾ˆæœ‰ç”¨çš„ï¼Œåˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ç›‘å¬è€…ï¼Œæœ‰æ—¶å€™RxCocoa(RxSwiftä¸­å¯¹UIKitçš„ä¸€ä¸ªæ‰©å±•åº“)ç»™çš„æ‰©å±•ä¸å¤Ÿæˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªUITextFieldæœ‰ä¸ªisEnabledå±žæ€§ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªisEnabledå˜ä¸ºä¸€ä¸ªobserverï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åš extension Reactive where Base: UITextField &#123; var inputEnabled: UIBindingObserver&lt;Base, Result&gt; &#123; return UIBindingObserver(UIElement: base) &#123; textFiled, result in textFiled.isEnabled = result.isValid &#125; &#125;&#125; UIBindingObserveræ˜¯ä¸€ä¸ªç±»ï¼Œä»–çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå…ƒç´ æœ¬èº«ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œé—­åŒ…å‚æ•°æ˜¯å…ƒç´ æœ¬èº«ï¼Œè¿˜æœ‰ä»–çš„ä¸€ä¸ªå±žæ€§ public init(UIElement: UIElementType, binding: @escaping (UIElementType, Value) -&gt; Swift.Void) è‡ªå®šä¹‰äº†ä¸€ä¸ªinputEnabledå…³è”äº†UITextFieldçš„isEnabledå±žæ€§ èµ„æ–™]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>RxSwift</tag>
        <tag>Grammar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-Editor-3Dåœºæ™¯ç¼–è¾‘å™¨]]></title>
    <url>%2F2018%2F03%2F22%2FSceneKit%2FGrammar%2FEditor-3D%E5%9C%BA%E6%99%AF%E7%BC%96%E8%BE%91%E5%99%A8%2FSceneKit-%20Base%2F</url>
    <content type="text"><![CDATA[SceneKit-Editor Xcodeè‡ªå¸¦äº†ä¸€ä¸ªç®€å•å¥½ç”¨çš„3Dåœºæ™¯ç¼–è¾‘å™¨,å½“é€‰ä¸­æˆ–åˆ›å»ºä¸€ä¸ªxxx.scnæ–‡ä»¶æ—¶å°±ä¼šå‡ºçŽ° 1.Scene graph(åœºæ™¯èŠ‚ç‚¹æ ‘) åœºæ™¯ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¾ç¤ºåœ¨è¿™é‡Œ,å¯ä»¥æ‹–æ‹½æ ‘çŠ¶ç»“æž„çš„å…ƒç´ æ¥æŽ§åˆ¶çˆ¶å­å…³ç³» 2.Design area(è®¾è®¡åŒº) æ•ˆæžœå‘ˆçŽ°åŒº,å¯ä»¥æ‹–æ‹½,æ—‹è½¬å’Œç¼©æ”¾,ä¹Ÿå¯ä»¥ä»Žå¯¹è±¡åº“ä¸­æ‹–æ”¾åŽŸå§‹èŠ‚ç‚¹åˆ°è¿™é‡Œ 3.Inspectors(æ£€æŸ¥å™¨) å’Œåœºæ™¯ç±»åž‹æœ‰å…³çš„æ£€æŸ¥å™¨,æ£€æŸ¥å™¨ä¸­çš„å†…å®¹å°†æ ¹æ®ä½ é€‰ä¸­çš„èŠ‚ç‚¹ä¸åŒè€Œæ”¹å˜,æœ€ä¸Šæ–¹æ¨ªæ”¾çš„æœ‰äº”ä¸ªæ–°çš„æ£€æŸ¥å™¨ æ£€æŸ¥å™¨ Node Inspector(èŠ‚ç‚¹æ£€æŸ¥å™¨) SCNNodeå¯¹è±¡æœ‰å…³çš„å±žæ€§ Attributes Inspector(å±žæ€§æ£€æŸ¥å™¨):å’Œé€‰ä¸­èŠ‚ç‚¹ç±»åž‹æœ‰å¤´çš„æ£€æŸ¥å™¨,å¦‚æžœé€‰ä¸­çš„æ˜¯Box,å¯ä»¥è®¾ç½®é•¿å®½é«˜,å¦‚æžœæ˜¯Sphere,å¯ä»¥è®¾ç½®åŠå¾„ Material Inspector(ææ–™æ£€æŸ¥å™¨):è®¾ç½®èŠ‚ç‚¹çš„é¢œè‰²å’Œçº¹ç† Physics Inspector(ç‰©ç†æ£€æŸ¥å™¨):è®¾ç½®ç‰©ç†è¡Œä¸ºçš„é…ç½® Scene Inspector(åœºæ™¯æ£€æŸ¥å™¨):åœºæ™¯ä¸­æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰çš„å…¨å±€æ£€æŸ¥å™¨,å¯ä»¥è®¾ç½®åœºæ™¯ä¸­çš„ä¸€äº›å±žæ€§ 4.Properties(å±žæ€§) æ£€æŸ¥å™¨çš„å†…éƒ¨å±žæ€§ 5.Object Library(å¯¹è±¡åº“) æ‰€æœ‰å¯ç”¨çš„SCNNodeå¯¹è±¡,ä»Žç³»ç»Ÿè‡ªå¸¦åˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„èŠ‚ç‚¹éƒ½æœ‰.SCNActionå¯¹è±¡ä¹Ÿåœ¨è¿™é‡Œ 6.Toolbar(å·¥å…·æ¡): åŒ…å«ä¸€äº›é‡è¦å…ƒç´ ,ä»Žå·¦åˆ°å³,æŒ‰é’®åŠŸèƒ½ æŒ‰é’®åŠŸèƒ½ Add/delete node(æ·»åŠ /åˆ é™¤èŠ‚ç‚¹) é€‰ä¸­èŠ‚ç‚¹æ ‘ä¸­çš„èŠ‚ç‚¹,æ·»åŠ ä¸€ä¸ªå­å…ƒç´ æˆ–è€…åˆ é™¤é€‰ä¸­èŠ‚ç‚¹ Search filter(æœç´¢è¿‡æ»¤å™¨) å¤æ‚åœºæ™¯ä¸‹ç”¨æ¥å¿«é€Ÿæœç´¢ Expand/collapse scene graph area(å¯æ”¶ç¼©åœºæ™¯å›¾è¡¨åŒº) æ‰“å¼€/å…³é—­å·¦ä¾§çš„åœºæ™¯å›¾è¡¨åŒº Coordinate system(åæ ‡ç³») é€‰æ‹©ä¸€ä¸ªæ´»è·ƒåæ ‡ç³»æ¥ç¼–è¾‘ä½ çš„èŠ‚ç‚¹,å¯é€‰local,parent,worldæˆ–è€…screen View/camera select(è§†ç‚¹/ç›¸æœºé€‰æ‹©) å½“æœ‰å¤šä¸ªç›¸æœºæ—¶,å¯ä»¥é€‰æ‹©ç›¸æœºåˆ—è¡¨ä¸­ä»»ä¸€ä¸ªæ´»è·ƒè§†ç‚¹ Play/stop scene(æ’­æ”¾/æš‚åœåœºæ™¯) æ’­æ”¾/æš‚åœç‰©ç†å’ŒåŠ¨ä½œæ¨¡æ‹Ÿ Expand/collapse actions(æ”¶ç¼©åŠ¨ä½œåŒº) æ‰“å¼€/å…³é—­ä¸‹é¢çš„åŠ¨ä½œåŒº 7.Actions area(åŠ¨ä½œåŒº) ç»™èŠ‚ç‚¹æ·»åŠ åŠ¨ä½œæ—¶,å¯ä»¥ä»Žå¯¹è±¡åº“ä¸­æ‹–æ”¾ä¸€ä¸ªactionåˆ°è¿™é‡Œ,å°±ä¼šå½±å“è¢«é€‰ä¸­çš„èŠ‚ç‚¹ Basic scene navigationåŸºç¡€åœºæ™¯å¯¼èˆª Pan(æ‹–åŠ¨) Magicé¼ æ ‡ç›´æŽ¥åœ¨æ»šè½®å¤„ä¸Šä¸‹å·¦å³ç§»åŠ¨,è§¦æ‘¸æ¿ç”¨åŒæŒ‡ç§»åŠ¨,æ™®é€šé¼ æ ‡æŒ‰ä½optioné”®æ‹–åŠ¨ Rotate(æ—‹è½¬) æŒ‰ä¸‹å·¦é”®å¹¶ç§»åŠ¨é¼ æ ‡ Zoom(ç¼©æ”¾) æŒ‰ä½optioné”®ä½¿ç”¨æ»šè½®ç¼©æ”¾,è§¦æ‘¸æ¿ç”¨æåˆæ‰‹åŠ¿ Multi-selection(å¤šé€‰) æŒ‰ä½Commandå•å‡»å¤šé€‰ Basic node manipulationåŸºç¡€èŠ‚ç‚¹æ“ä½œ ä»¥BoxèŠ‚ç‚¹ä¸ºä¾‹ Positioning(å®šä½):æ‹–åŠ¨é«˜äº®çš„åæ ‡è½´,å¯ä»¥åœ¨åæ ‡è½´æ–¹å‘ä¸Šç§»åŠ¨.æ‹–åŠ¨ç°è‰²æ‰‡å½¢åŒº,å¯ä»¥æ²¿æ‰€æœ‰å¹³é¢ç§»åŠ¨Rotatation(æ—‹è½¬):æ‹–åŠ¨é«˜äº®çš„åæ ‡è½´æ›²çº¿,å¯ä»¥æ—‹è½¬èŠ‚ç‚¹ é™„åŠ æ“ä½œ:ç§»åŠ¨èŠ‚ç‚¹æ—¶,æŒ‰ä½Commandé”®,å¯æ”¾å¤§å¹¶ä»”ç»†æ£€æŸ¥ä½ç½®. æ—‹è½¬èŠ‚ç‚¹æ—¶,æŒ‰ä½Commandé”®,å¯æ”¾å¤§å¹¶ä»”ç»†æ£€æŸ¥è§’åº¦. æŒ‰ä½Optioné”®å¹¶æ‹–åŠ¨,å¯å¤åˆ¶ä¸€ä¸ªå…±äº«å±žæ€§çš„å‰¯æœ¬,å°±æ˜¯è¯´å¯¹åŽŸæœ¬åšçš„å±žæ€§æ›´æ”¹æ“ä½œå°†å½±å“å‰¯æœ¬.å¦‚æžœæƒ³å–æ¶ˆå…±äº«å±žæ€§,å–æ¶ˆæŒ‰é’®åœ¨å±žæ€§æ£€æŸ¥å™¨ä¸­å‡ ä½•ä½“å…±äº«åˆ†ç±»ä¸‹é¢. xxx.scnæ–‡ä»¶çš„åŠ è½½ scnScene = SCNScene(named: "B.scnassets/Scenes/Game.scn")scnView.scene = scnScene]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Editor</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>Editor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Protocolåè®®-åŸºç¡€]]></title>
    <url>%2F2018%2F03%2F21%2FSwift%2FGrammar%2FProtocol%E5%8D%8F%E8%AE%AE-Base%2F</url>
    <content type="text"><![CDATA[ç›¸å…³èµ„æ–™1ç›¸å…³èµ„æ–™2ç›¸å…³èµ„æ–™3 1.Protocol 1.1Protocolè¯­æ³• 1.2æ ¼å¼ 1.3å¯¹å±žæ€§çš„ä½¿ç”¨ 1.4æ–¹æ³•è¦æ±‚ 1.5Mutatingæ–¹æ³•è¦æ±‚ 1.6ä½¿ç”¨åè®®è§„èŒƒæž„é€ å‡½æ•° 1.7åè®®ç±»åž‹2.å§”æ‰˜/ä»£ç†è®¾è®¡æ¨¡å¼3.åè®®çš„ä½¿ç”¨ 3.1åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜ 3.2é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜Ž 3.3é›†åˆä¸­çš„åè®®ç±»åž‹ 3.4ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®®4.åè®®çš„ç»§æ‰¿ 4.1protocolCompositionåè®®çš„åˆæˆ 4.2æ£€éªŒåè®®çš„ä¸€è‡´æ€§ 4.3å¯é€‰åè®®è¦æ±‚ Protocol åè®®ï¼šä»£ç†è®¾è®¡æ¨¡å¼ åè®®èƒ½å¤Ÿè¢« ç±»ã€æžšä¸¾ã€ç»“æž„ä½“ å®žçŽ°ï¼Œæ»¡è¶³åè®®è¦æ±‚çš„ç±»ã€æžšä¸¾ã€ç»“æž„ä½“è¢«ç§°ä¸ºåè®®çš„æ˜¯å®žçŽ°è€… å®˜æ–¹çš„å®šä¹‰ï¼šåè®®å®šä¹‰äº†ä¸€ä¸ªè“å›¾ ï¼Œ è§„å®šäº†ç”¨æ¥å®žçŽ°æŸä¸€ç‰¹å®šå·¥ä½œæˆ–è€…åŠŸèƒ½æ‰€å¿…é¡»çš„æ–¹æ³•å’Œå±žæ€§ï¼Œç±»ã€ç»“æž„ä½“ã€æˆ–è€…æžšä¸¾ç±»åž‹éƒ½å¯ä»¥éµå¾ªåè®®ï¼Œ å¹¶æä¾›å…·ä½“å®žçŽ°æ¥å®Œæˆåè®®å®šä¹‰çš„æ–¹æ³•å’ŒåŠŸèƒ½ ã€‚ ä»»æ„èƒ½å¤Ÿæ»¡è¶³åè®®è¦æ±‚çš„ç±»åž‹éƒ½è¢«æˆä¸ºéµå¾ªäº†è¿™ä¸ªåè®® Protocolè¯­æ³• æ ¼å¼ åœ¨ç±»ã€æžšä¸¾ã€ç»“æž„ä½“çš„åç§°åŽåŠ ä¸Šåè®®åç§°ï¼Œä¸­é—´ä»¥å†’å·(:)åˆ†éš”ï¼Œå³å¯å®žçŽ°åè®®ï¼Œå½“å®žçŽ°å¤šä¸ªåè®®æ—¶ï¼Œå¤šä¸ªåè®®é—´ç”¨é€—å·(,)éš”å¼€ ç±»å«æœ‰çˆ¶ç±»,åˆ™åº”å½“å°†çˆ¶ç±»æ”¾åœ¨æ‰€æœ‰çš„åè®®ä¹‹å‰ åè®®å®žçŽ°ä¹¦å†™æ ¼å¼ class ç±»å : åè®®1 , åè®®n&#123;&#125;class ç±»å:çˆ¶ç±»,åè®®1,åè®®n&#123;&#125; å¯¹å±žæ€§çš„ä½¿ç”¨ æ— è®ºå£°æ˜Žçš„å±žæ€§ä¸ºç±»å±žæ€§è¿˜æ˜¯å¯¹è±¡å±žæ€§ï¼Œå‡éœ€è¦åœ¨å±žæ€§å£°æ˜ŽåŽåŠ ä¸Š{get}æˆ–{get set}ï¼Œä»£è¡¨å±žæ€§åªè¯»æˆ–è¯»å†™ å±žæ€§è¢«å£°æ˜Žä¸º{get}ï¼Œä¸ºå¯è¯»çš„å±žæ€§å®žçŽ°{setter}æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ã€‚ åœ¨å£°æ˜Žç±»å±žæ€§æ—¶ï¼Œéœ€è¦åœ¨å£°æ˜Žçš„å±žæ€§å‰æ·»åŠ å…³é”®å­—staticã€‚ åœ¨å®žçŽ°è€…å†…ï¼Œå¿…é¡»å®žçŽ°åè®®çš„ç±»å±žæ€§çš„getteræ–¹æ³•ï¼Œå¦‚æžœåè®®å†…å®šä¹‰çš„ç±»å±žæ€§æ˜¯è¯»å†™çš„ï¼Œåˆ™è¿˜å¿…é¡»å®žçŽ°setteræ–¹æ³• åœ¨åè®®ä¸­ä½¿ç”¨ç±»åž‹å±žæ€§ æ€»æ˜¯ä½¿ç”¨static åè®®1 protocol oneProtocol&#123; // å®šä¹‰å˜é‡ï¼Œå¿…é¡»åœ¨å±žæ€§å£°æ˜ŽåŽæ·»åŠ &#123;get&#125;æˆ–è€…&#123;get set&#125; var argumentOne:Int&#123;get&#125; // åªè¯» var argumentTwo:Int&#123;get set&#125; // è¯»å†™ static var argumentClass:Int&#123;get&#125;&#125; ç±» class Person:oneProtocol&#123; var argumentOne: Int var argumentTwo: Int static var argumentClass: Int&#123; get&#123; return 30 &#125; &#125; init(argumentOne:Int,argumentTwo:Int) &#123; self.argumentOne = argumentOne self.argumentTwo = argumentTwo &#125;&#125;var per = Person(argumentOne: 90, argumentTwo: 1)print("\(per.argumentOne)") // 90print("\(Person.argumentClass)") // 30 åè®®2 protocol Pro1&#123; var name:String&#123;set get&#125; //å¯è¯»å¯å†™ var age:Int &#123; get &#125; //åªè¯»å±žæ€§ static var status:Int &#123;set get&#125; &#125; éµå¾ªåè®® struct Struct1 : Pro1 &#123; private var _name = "" var name:String &#123; set&#123; _name = newValue &#125; get&#123; return _name &#125; &#125; var age = 18 //å¯ä»¥å£°æ˜Žä¸ºå¯è¯»å¯å†™çš„ static var status = 1 //ç±»åž‹æ–¹æ³•ã€‚&#125;class Class1: Pro1 &#123; var name = "class" var age:Int&#123; return 19 &#125; //ä¹Ÿå¯ä»¥æ˜¯åªè¯» static var status = 0&#125; æ–¹æ³•è¦æ±‚ åè®®å†…å£°æ˜Žçš„æ–¹æ³•ä¸éœ€è¦åè®®è¿›è¡Œæ–¹æ³•çš„å®žçŽ°(OCå·®ä¸å¤š) ç±»æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨å…³é”®å­— static protocol funcProtocol&#123; func sayHello() static func sayBad()&#125;class Person:funcProtocol&#123; func sayHello() &#123; print("Hello") &#125; static func sayBad() &#123; print("Bad") &#125;&#125; Mutatingæ–¹æ³•è¦æ±‚ èƒ½åœ¨æ–¹æ³•æˆ–è€…å‡½æ•°å†…éƒ¨æ”¹å˜å­—æ®µçš„æ–¹æ³•ç§°ä¸ºMutatingæ–¹æ³•ã€‚ mutatingå…³é”®å­—è¡¨ç¤ºè¯¥å‡½æ•°å…è®¸æ”¹å˜è¯¥ç¤ºä¾‹å’Œå…¶å±žæ€§çš„ç±»åž‹ã€‚ ä¸€èˆ¬mutatingç”¨åœ¨å€¼æ‹·è´çš„åœ°æ–¹ï¼Œä¾‹å¦‚ï¼šç»“æž„ä½“ã€æžšä¸¾ã€‚å¯¹äºŽç±»æˆ–è€…ç±»ç»‘å®šåè®®ä¸­çš„æ–¹æ³•æ— æ•ˆ protocol Togglable&#123; mutating func toggle()&#125;enum OnOffSwitch:Togglable&#123; case On,Off mutating func toggle() &#123; switch self &#123; case .Off: self = .On case .On: self = .Off &#125; &#125;&#125;var light = OnOffSwitch.Off //Offlight.toggle() // Onstruct OnOFF:Togglable&#123; var one:Int var two:Int mutating func toggle() &#123; if self.one &gt; 10 &#123; self.two = 30 &#125;else&#123; self.two = 20 &#125; &#125;&#125;var LIGHT = OnOFF(one: 2, two: 3)print("\(LIGHT.two)") // 3LIGHT.toggle()print("\(LIGHT.two)") // 20 ä½¿ç”¨åè®®è§„èŒƒæž„é€ å‡½æ•° åè®®å¯ä»¥è§„å®šå¿…é¡»å®žçŽ°æŒ‡å®šçš„æž„é€ å‡½æ•°ï¼Œæ¯”å¦‚ä¸€äº›ç±»ä¸­å¿…é¡»è¦æ±‚å®žçŽ°initæž„é€ å‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥åˆ¶é€ ä¸€ä¸ªåè®®ï¼Œè®©å®žçŽ°åè®®çš„ç±»å¿…é¡»å®žçŽ°è¯¥æž„é€ å‡½æ•°ã€‚ å®žçŽ°æž„é€ åè®®çš„ç±»ï¼Œå¿…é¡»ä½¿ç”¨å…³é”®å­—required protocol TwoProtocol&#123; init(twoArgument:Int)&#125;class two:TwoProtocol&#123; required init(twoArgument: Int) &#123; &#125;&#125; çˆ¶ç±»ä¸­å­˜åœ¨ä¸Žåè®®å†…ç›¸åŒçš„æž„é€ æ–¹æ³•ï¼Œåˆ™å­ç±»åœ¨å®žçŽ°æž„é€ æ–¹æ³•æ—¶ï¼Œéœ€è¦åŒæ—¶ä½¿ç”¨å…³é”®å­—requiredå’Œoverride protocol TwoProtocol&#123; init()&#125;class TwoSuperClass&#123; init() &#123; &#125;&#125;class Two:TwoSuperClass,TwoProtocol&#123; required override init() &#123; &#125;&#125; ä¸èƒ½åœ¨finalç±»ä¸­å®žçŽ°æž„é€ å‡½æ•°åè®®ï¼Œå› ä¸ºfinalç±»æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ï¼Œå› æ­¤ä¸èƒ½å®žçŽ°æž„é€ å‡½æ•°åè®® çˆ¶ç±»å†…è¢«finalä¿®é¥°çš„æ–¹æ³•ä¸Žåè®®å†…ç›¸åŒï¼Œåˆ™è¯¥æ–¹æ³•ä¸èƒ½è¢«éµå¾ªåè®®çš„å­ç±»å®žçŽ° protocol TwoProtocol&#123; func say()&#125;class TwoSuperClass&#123; final func say()&#123; print("Super Say Hello") &#125;&#125;class Two:TwoSuperClass,TwoProtocol&#123; // æ— æ³•å®žçŽ°sayæ–¹æ³•&#125; åè®®ç±»åž‹ åè®®æœ¬èº«ä¸å®žçŽ°ä»»ä½•åŠŸèƒ½ï¼Œä½†æ˜¯å¯ä»¥å°†å®ƒå½“ä½œç±»åž‹æ¥ä½¿ç”¨ã€‚ åè®®ä½œä¸ºç±»åž‹ä½¿ç”¨çš„åœºæ™¯ï¼š â’ˆä½œä¸ºå‡½æ•°ã€æ–¹æ³•æˆ–æž„é€ å™¨ä¸­çš„å‚æ•°ç±»åž‹ï¼Œè¿”å›žå€¼ç±»åž‹ã€‚ â’‰ä½œä¸ºå¸¸é‡ã€å˜é‡ã€å±žæ€§çš„ç±»åž‹ã€‚ â’Šä½œä¸ºæ•°ç»„ã€å­—å…¸æˆ–å…¶å®ƒå®¹å™¨ä¸­çš„å…ƒç´ ç±»åž‹ å§”æ‰˜/ä»£ç†è®¾è®¡æ¨¡å¼ å§”æ‰˜/ä»£ç†æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ç±»æˆ–è€…ç»“æž„ä½“å°†ä¸€äº›éœ€è¦å®ƒä»¬è´Ÿè´£çš„åŠŸèƒ½äº¤ç”±ç»™å…¶ä»–ç±»åž‹ã€‚ å§”æ‰˜æ¨¡å¼çš„å®žçŽ°ï¼šå®šä¹‰åè®®æ¥å°è£…é‚£äº›éœ€è¦è¢«å§”æ‰˜çš„å‡½æ•°å’Œæ–¹æ³•ï¼Œä½¿å®žçŽ°è€…æ‹¥æœ‰æ•°æ®æºçš„ç±»åž‹ åè®®çš„ä½¿ç”¨ åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜ å½“æ— æ³•ä¿®æ”¹åŽŸä»£ç æ—¶ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•æ¥è¡¥å……å·²ç»å­˜åœ¨çš„ç±»åž‹ã€‚ æ‰©å±•å¯ä»¥ä¸ºå·²ç»å­˜åœ¨çš„ç±»åž‹æ·»åŠ å±žæ€§ã€æ–¹æ³•ã€ä¸‹æ ‡ã€åè®®ç­‰æˆå‘˜ã€‚ é€šè¿‡æ‰©å±•ä¸ºå·²å­˜åœ¨çš„ç±»åž‹å®žçŽ°åè®®æ—¶ï¼Œè¯¥ç±»åž‹çš„æ‰€æœ‰å®žä¾‹ä¹Ÿä¼šéšä¹‹æ·»åŠ åè®®ä¸­çš„æ–¹æ³• protocol TextProtocol&#123; func printSomeMessage(message:String)&#125;class Dice&#123;&#125;]extension Dice:TextProtocol&#123; func printSomeMessage(message: String) &#123; print("\(message)") &#125;&#125;let dic = Dice()dic.printSomeMessage(message: "hello"); é€šè¿‡æ‰©å±•è¡¥å……åè®®å£°æ˜Ž å½“ä¸€ä¸ªç±»åž‹å·²ç»å®žçŽ°äº†åè®®ä¸­çš„æ‰€æœ‰è¦æ±‚ï¼Œå´æ²¡æœ‰å£°æ˜Žæ—¶ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•è¡¥å……åè®®çš„å£°æ˜Žã€‚ protocol TextProtocol&#123; func printSomeMessage(message:String)&#125;struct Hamster&#123; func printSomeMessage(message: String) &#123; print("\(message)") &#125;&#125;extension Hamster:TextProtocol&#123; // æ­¤æ—¶ï¼ŒHamsterçš„å®žä¾‹ä¹Ÿå¯ä»¥ä½œä¸ºTextProtocolç±»åž‹ä½¿ç”¨&#125;let hamster = Hamster() é›†åˆä¸­çš„åè®®ç±»åž‹ åè®®ä¹Ÿå¯ä»¥ä½œä¸ºç±»åž‹åœ¨é›†åˆä¸­è¢«ä½¿ç”¨ï¼Œè¡¨ç¤ºé›†åˆä¸­çš„å…ƒç´ å‡ä¸ºåè®®ç±»åž‹ let things:[TextProtocol] = [dic,hamster]for thing in things &#123; thing.printSomeMessage(message: "Hello Word")&#125;// ç”±äºŽthingè¢«å½“ä½œæ˜¯TextProtocolç±»åž‹ï¼Œæ•…éƒ½èƒ½è°ƒç”¨printSomeMessageæ–¹æ³• ä»…åœ¨ç±»ä¸­ä½¿ç”¨åè®® é€šè¿‡åœ¨åè®®ä¸­å¢žåŠ classå…³é”®å­—ï¼Œå¯ä»¥å®žçŽ°åè®®åªè®©ç±»æ¥å®žçŽ°ã€‚ å¦‚æžœè¯¥åè®®åŒæ—¶ç»§æ‰¿å…¶å®ƒåè®®ï¼Œåˆ™éœ€è¦åœ¨classåŽæ·»åŠ ï¼Œå¹¶ä¸”ç”¨é€—å·éš”å¼€ protocol SomeOnlyClassProtocol:class&#123;&#125;// åè®®SomeOnlyClassProtocolå®žçŽ°è€…åªèƒ½æ˜¯ç±» åè®®çš„ç»§æ‰¿ åè®®å¯ä»¥ç»§æ‰¿ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…¶ä»–åè®®ï¼Œå¤šä¸ªåè®®é—´ç”¨é€—å·éš”å¼€ã€‚ å½“ç±»æˆ–è€…æžšä¸¾ç­‰éµå¾ªåè®®æ—¶ï¼Œä¸ä»…ä»…è¦å®žçŽ°å½“å‰åè®®çš„æ–¹æ³•ï¼Œä¹Ÿéœ€è¦å®žçŽ°æ‰€éµå¾ªåè®®ç»§æ‰¿çš„å…¶ä»–åè®® protocol OneProtocol&#123; func sayOne()&#125;// åè®®çš„ç»§æ‰¿protocol TwoProtocol:OneProtocol&#123; func sayTwo()&#125;class Person:TwoProtocol&#123; func sayOne() &#123; // åè®®OneProtocolçš„æ–¹æ³• &#125; func sayTwo() &#123; // åè®®TwoProtocolçš„æ–¹æ³• &#125;&#125; protocolCompositionåè®®çš„åˆæˆ ä¸€ä¸ªåè®®å¯ä»¥ç”±å¤šä¸ªåè®®é‡‡ç”¨protocolè¿™æ ·çš„æ ¼å¼è¿›è¡Œç»„åˆï¼Œç§°ä¹‹ä¸ºåè®®çš„åˆæˆ(protocol composition)ã€‚ åè®®åˆæˆå¹¶ä¸ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„åè®®ï¼Œè€Œæ˜¯å°†å¤šä¸ªåè®®åˆæˆä¸€ä¸ªä¸´æ—¶çš„åè®®ï¼Œè¶…å‡ºèŒƒå›´åŽç«‹å³å¤±æ•ˆ protocol NamedProtocol&#123; var name:String&#123;get set&#125;&#125;protocol GenderProtocol&#123; var gender:String&#123;get set&#125;&#125;protocol AgedProtocol&#123; var age:Int&#123;get&#125;&#125;struct Person:NamedProtocol,GenderProtocol,AgedProtocol&#123; var name: String var gender: String var age: Int&#125;func wishBirthday(celebrator:NamedProtocol &amp; GenderProtocol)&#123; print("å§“åï¼š\(celebrator.name)ï¼Œæ€§åˆ«ï¼š\(celebrator.gender)")&#125;var per = Person(name: "wang", gender: "man",age:20)wishBirthday(celebrator: per)// å½¢å‚celebratorçš„ç±»åž‹ä¸ºprotocol&lt;NamedProtocol,GenderProtocol&gt;ï¼Œå¯ä»¥ä¼ å…¥ä»»ä½•å®žçŽ°è¿™ä¸¤ä¸ªåè®®çš„å®žä¾‹ã€‚å³ä½¿æ­¤å®žä¾‹ä¸ä»…ä»…éµå¾ªè¿™ä¸¤ä¸ªåè®®ã€‚// swift3.0ä¹‹åŽï¼Œprotocol&lt;NamedProtocol,GenderProtocol&gt;è¢«NamedProtocol &amp; GenderProtocolæ›¿æ¢ã€‚ æ£€éªŒåè®®çš„ä¸€è‡´æ€§ ç”¨isæ£€éªŒåè®®çš„ä¸€è‡´æ€§ï¼Œä½¿ç”¨aså°†åè®®ç±»åž‹å‘ä¸‹è½¬æ¢ä¸ºå…¶ä»–åè®®ç±»åž‹ã€‚ isæ“ä½œç¬¦ç”¨æ¥æ£€æŸ¥å®žä¾‹æ˜¯å¦å®žçŽ°äº†æŸä¸ªåè®®ã€‚è¿”å›žå€¼true/falseã€‚ as?è¿”å›žä¸€ä¸ªå¯é€‰å€¼ï¼Œå½“å®žä¾‹å®žçŽ°åè®®æ—¶ï¼Œè¿”å›žè¯¥åè®®ç±»åž‹ï¼›å¦åˆ™è¿”å›žnilã€‚ asç”¨ä»¥å¼ºåˆ¶å‘ä¸‹è½¬åŒ–ç±»åž‹ã€‚ @objcç”¨æ¥è¡¨ç¤ºåè®®æ—¶å¯é€‰çš„ï¼Œè¿˜å¯ä»¥è¡¨ç¤ºæš´éœ²ç»™Objective-Cçš„ä»£ç ï¼Œã€‚ @objcåž‹åè®®åªå¯¹ç±»æœ‰æ•ˆï¼Œå› æ­¤åªèƒ½åœ¨ç±»ä¸­æ£€æŸ¥åè®®çš„ä¸€è‡´æ€§ã€‚ @objc protocol HasArea&#123; var area:Double&#123;get&#125;&#125;class Circle:HasArea&#123; let pi = 3.1415927 var radius:Double var area: Double&#123; return pi * radius * radius &#125; init(radius:Double) &#123; self.radius = radius &#125;&#125;class Country:HasArea&#123; var area: Double init(area:Double) &#123; self.area = area &#125;&#125;class Animal&#123; var legs:Int init(legs:Int) &#123; self.legs = legs &#125;&#125;let objects:[AnyObject] = [ Circle(radius: 20), Country(area: 200), Animal(legs: 10)]for object in objects &#123; var objectWithArea = object as? HasArea if objectWithArea != nil &#123; print("\(objectWithArea)") print("éµå¾ªäº†HasAreaåè®®ï¼Œ\(object.area)") &#125;else&#123; print("æ²¡æœ‰éµå¾ªHasAreaåè®®") &#125;&#125;print("--------------------")for object in objects &#123; // è¿”å›žå€¼ true/false var objectWithArea = object is HasArea if objectWithArea &#123; print("\(objectWithArea)") print("éµå¾ªäº†HasAreaåè®®ï¼Œ\(object.area)") &#125;else&#123; print("æ²¡æœ‰éµå¾ªHasAreaåè®®") &#125;&#125;/**æ‰“å°ç»“æžœï¼šOptional(__lldb_expr_386.Circle)éµå¾ªäº†HasAreaåè®®ï¼ŒOptional(1256.63708)Optional(__lldb_expr_386.Country)éµå¾ªäº†HasAreaåè®®ï¼ŒOptional(200.0)æ²¡æœ‰éµå¾ªHasAreaåè®®--------------------trueéµå¾ªäº†HasAreaåè®®ï¼ŒOptional(1256.63708)trueéµå¾ªäº†HasAreaåè®®ï¼ŒOptional(200.0)æ²¡æœ‰éµå¾ªHasAreaåè®®*/ ##å¯é€‰åè®®è¦æ±‚ å¯é€‰åè®®å«æœ‰å¯é€‰æˆå‘˜ï¼Œå…¶å®žçŽ°è€…å¯ä»¥é€‰æ‹©æ˜¯å¦å®žçŽ°è¿™äº›æˆå‘˜ã€‚ åœ¨åè®®ä¸­ä½¿ç”¨å…³é”®å­—optionalå…³é”®å­—ä½œä¸ºå‰ç¼€æ¥å®šä¹‰å¯é€‰æˆå‘˜ @objc protocol HasArea&#123; @objc optional var area:Double&#123;get&#125; var width:Double&#123;get&#125;&#125;class Circle:HasArea&#123; let pi = 3.1415927 var radius:Double = 10.0 var width: Double = 20.0&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>Protocol</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC-GCD-å¤šè¯·æ±‚å¹¶å‘]]></title>
    <url>%2F2018%2F03%2F20%2FOC%2FGCD%2FGCD-%E5%A4%9A%E8%AF%B7%E6%B1%82%E5%B9%B6%E5%8F%91%2F</url>
    <content type="text"><![CDATA[GCD æ–¹å¼// åˆ›å»ºä¿¡å·é‡ dispatch_semaphore_t semaphore = dispatch_semaphore_create(0); // åˆ›å»ºå…¨å±€å¹¶è¡Œ dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); dispatch_group_t group = dispatch_group_create(); dispatch_group_async(group, queue, ^&#123; // è¯·æ±‚ä¸€ [loginCode getUserInfoWithNick:nil andUserId:kUserId onSuc:^(id data) &#123; NSLog(@&quot;yue&quot;); dispatch_semaphore_signal(semaphore); &#125; andFail:^(NSError *error) &#123; &#125;]; &#125;); dispatch_group_async(group, queue, ^&#123; // è¯·æ±‚äºŒ [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123; NSLog(@&quot;duihuan11&quot;); dispatch_semaphore_signal(semaphore); &#125; onFailure:^(NSError *error) &#123; &#125;]; &#125;); dispatch_group_async(group, queue, ^&#123; // è¯·æ±‚ä¸‰ [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123; NSLog(@&quot;duihuan22&quot;); dispatch_semaphore_signal(semaphore); &#125; onFailure:^(NSError *error) &#123; &#125;]; &#125;); dispatch_group_notify(group, queue, ^&#123; // ä¸‰ä¸ªè¯·æ±‚å¯¹åº”ä¸‰æ¬¡ä¿¡å·ç­‰å¾… dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); //åœ¨è¿™é‡Œ è¿›è¡Œè¯·æ±‚åŽçš„æ–¹æ³•ï¼Œå›žåˆ°ä¸»çº¿ç¨‹ dispatch_async(dispatch_get_main_queue(), ^&#123; //æ›´æ–°UIæ“ä½œ &#125;); &#125;); é€šè¿‡è¯·æ±‚æ•°é‡è®¡æ•° å®šä¹‰ä¸€ä¸ªblock typedef void(^Complete)(); å°†blockä½œä¸ºç±»çš„å±žæ€§ @property (copy, nonatomic) Complete complete; å®žçŽ°æ–¹å¼ï¼š NSInteger requestCount = 0; //ç¬¬ä¸€ä¸ªç½‘ç»œè¯·æ±‚ [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123; NSLog(@&quot;duihuan11&quot;); requestCount++; if (self.complete) &#123; self.complete(); &#125; &#125; onFailure:^(NSError *error) &#123; &#125;]; //ç¬¬äºŒä¸ªç½‘ç»œè¯·æ±‚ [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123; NSLog(@&quot;duihuan22&quot;); requestCount++; if (self.complete) &#123; self.complete(); &#125; &#125; onFailure:^(NSError *error) &#123; &#125;]; //ç¬¬ä¸‰ä¸ªç½‘ç»œè¯·æ±‚ [CommodityViewModel getPriceTransformForIntegral:nil onSuccess:^(id data) &#123; NSLog(@&quot;duihuan33&quot;); requestCount++; if (self.complete) &#123; self.complete(); &#125; &#125; onFailure:^(NSError *error) &#123; &#125;]; self.complete = ^&#123; //è¯·æ±‚ç½‘ç»œçš„æ•°é‡ç­‰äºŽ3è¡¨ç¤ºä¸‰ä¸ªç½‘ç»œè¯·æ±‚å·²å®Œæˆ if (requestCount == 3) &#123; //åœ¨è¿™é‡Œ è¿›è¡Œè¯·æ±‚åŽçš„æ–¹æ³•ï¼Œå›žåˆ°ä¸»çº¿ç¨‹ dispatch_async(dispatch_get_main_queue(), ^&#123; //æ›´æ–°UIæ“ä½œ &#125;); &#125; &#125;;]]></content>
      <categories>
        <category>OC</category>
        <category>GCD</category>
      </categories>
      <tags>
        <tag>OC</tag>
        <tag>GCD</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-å…³é”®å­—-typealias/associatedtype]]></title>
    <url>%2F2018%2F03%2F07%2FSwift%2FGrammar%2F%E5%85%B3%E9%94%AE%E5%AD%97-typealias%3Aassociatedtype%2F</url>
    <content type="text"><![CDATA[wenz]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Lib-Moya-ç½‘ç»œå°è£…(RxSwift)]]></title>
    <url>%2F2018%2F03%2F07%2FRxSwift%2FLib%2FMoya%20-%E7%BD%91%E7%BB%9C%E5%B0%81%E8%A3%85(RxSwift)%2F</url>
    <content type="text"><![CDATA[å‚è€ƒ01å‚è€ƒ02 â‘ Moya Swiftæˆ‘ä»¬ç”¨Alamofireæ¥åšç½‘ç»œåº“.è€ŒMoyaåœ¨Alamofireçš„åŸºç¡€ä¸Šåˆå°è£…äº†ä¸€å±‚å®˜æ–¹è¯´moyaæœ‰ä»¥ä¸‹ç‰¹æ€§: ç¼–è¯‘æ—¶æ£€æŸ¥æ­£ç¡®çš„APIç«¯ç‚¹è®¿é—®. ä½¿ä½ å®šä¹‰ä¸åŒç«¯ç‚¹æžšä¸¾å€¼å¯¹åº”ç›¸åº”çš„ç”¨é€”æ›´åŠ æ˜Žæ™°. æé«˜æµ‹è¯•åœ°ä½ä»Žè€Œä½¿å•å…ƒæµ‹è¯•æ›´åŠ å®¹æ˜“. â‘¡å¼€å§‹â¶åˆ›å»ºæžšä¸¾API é¦–å…ˆåˆ›å»ºä¸€ä¸ª enum æ¥æžšä¸¾ä½ æ‰€æœ‰çš„ API targetså…³äºŽè¿™ä¸ªAPIçš„ä¿¡æ¯æ”¾åœ¨è¿™ä¸ªæžšä¸¾ç±»åž‹ä¸­ enum APIManager &#123; case getNewsLatest //èŽ·å–æœ€æ–°æ¶ˆæ¯ case getStartImage //å¯åŠ¨ç•Œé¢å›¾åƒèŽ·å– case getVersion(String) //è½¯ä»¶ç‰ˆæœ¬æŸ¥è¯¢ case getThemes //ä¸»é¢˜æ—¥æŠ¥åˆ—è¡¨æŸ¥çœ‹ case getNewsDetail(Int) //èŽ·å–æ–°é—»è¯¦æƒ… case create(title: String, body: String, userId: Int)&#125; â·å®žçŽ°TargetTypeåè®® åœ¨è¿™é‡Œ,å¯ä»¥è®¾ç½®è¯·æ±‚çš„å‚æ•°,ä¾‹å¦‚urlâ€¦â€¦methodâ€¦â€¦paraç­‰. extension APIManager: TargetType &#123;&#125; /// The target's base `URL`.var baseURL: URL &#123; return URL.init(string: "http://news-at.zhihu.com/api/")!&#125;/// The path to be appended to `baseURL` to form the full `URL`.var path: String &#123; switch self &#123; case .getNewsLatest: return "4/news/latest" case .getStartImage: //start-image åŽä¸ºå›¾åƒåˆ†è¾¨çŽ‡ï¼ŒæŽ¥å—ä»»æ„çš„ number*number æ ¼å¼ï¼Œ number ä¸ºä»»æ„éžè´Ÿæ•´æ•°ï¼Œè¿”å›žå€¼å‡ç›¸åŒã€‚ return "4/start-image/1080*1776" case .getVersion(let version): //URL æœ€åŽéƒ¨åˆ†çš„æ•°å­—ä»£è¡¨æ‰€å®‰è£…ã€ŽçŸ¥ä¹Žæ—¥æŠ¥ã€çš„ç‰ˆæœ¬ return "4/version/ios/" + version case .getThemes: return "4/themes" case .getNewsDetail(let id): return "4/news/\(id)" &#125;&#125;/// The HTTP method used in the request.// è®¾ç½®Getã€POSTvar method: Moya.Method &#123; return .get&#125;/// The parameters to be incoded in the request.var parameters: [String: Any]? &#123; return nil&#125;/// The method used for parameter encoding.var parameterEncoding: ParameterEncoding &#123; return URLEncoding.default&#125;/// Provides stub data for use in testing.var sampleData: Data &#123; return "".data(using: String.Encoding.utf8)!&#125;/// The type of HTTP task to be performed.var task: Task &#123; return .request&#125;/// Whether or not to perform Alamofire validation. Defaults to `false`.var validate: Bool &#123; return false&#125; â¸ä½¿ç”¨ Moyaçš„ä½¿ç”¨éžå¸¸ç®€å•ï¼Œé€šè¿‡TargetTypeåè®®å®šä¹‰å¥½æ¯ä¸ªtargetä¹‹åŽï¼Œå°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨Moyaå¼€å§‹å‘é€ç½‘ç»œè¯·æ±‚äº†ã€‚å°±åƒè¿™æ · let provider = MoyaProvider&lt;APIManager&gt;()provider.request(.getNewsLatest) &#123; result in// do something with result&#125; â¹âº â‘¢é…åˆRxSwift Moyaæä¾›äº†éžå¸¸æ–¹é¢çš„RxSwiftæ‰©å±• let provider = RxMoyaProvider&lt;APIManager&gt;()provider.request(.getNewsLatest) .filterSuccessfulStatusCodes() .mapJSON() .subscribe(onNext: &#123; (json) in //do something with posts print(json) &#125;) .addDisposableTo(disposeBag) RxMoyaProvider æ˜¯MoyaProviderçš„å­ç±»ï¼Œæ˜¯å¯¹RxSwiftçš„æ‰©å±• filterSuccessfulStatusCodes() æ˜¯Moyaä¸ºRxSwiftæä¾›çš„æ‰©å±•æ–¹æ³•ï¼Œå¯ä»¥å¾—åˆ°æˆåŠŸåœ°ç½‘ç»œè¯·æ±‚ï¼Œå¿½ç•¥å…¶ä»–çš„ mapJSON() æ˜¯Moya RxSwiftçš„æ‰©å±•æ–¹æ³•ï¼Œå¯ä»¥æŠŠè¿”å›žçš„æ•°æ®è§£æžæˆ JSON æ ¼å¼ subscribe æ˜¯ä¸€ä¸ªRxSwiftçš„æ–¹æ³•,å¯¹ç»è¿‡ä¸€å±‚ä¸€å±‚å¤„ç†çš„ Observable è®¢é˜…ä¸€ä¸ª onNext çš„ observerï¼Œä¸€æ—¦å¾—åˆ° JSON æ ¼å¼çš„æ•°æ®ï¼Œå°±ä¼šç»è¡Œç›¸åº”çš„å¤„ç† addDisposableTo(disposeBag) æ˜¯ RxSwift çš„ä¸€ä¸ªè‡ªåŠ¨å†…å­˜å¤„ç†æœºåˆ¶ï¼Œè·ŸARCæœ‰ç‚¹ç±»ä¼¼ï¼Œä¼šè‡ªåŠ¨æ¸…ç†ä¸éœ€è¦çš„å¯¹è±¡ â‘£é…åˆHandyJSON â¶ç½‘ç»œè¯·æ±‚ç´§å¯†è¿žæŽ¥ç€æ•°æ®å±‚ï¼ˆModelï¼‰ï¼Œå…·ä½“åœ°è¯´ï¼Œä¸€èˆ¬éœ€è¦å»ºç«‹ä¸€ä¸ªç±»ç”¨æ¥ç»Ÿä¸€ç®¡ç†æ•°æ®ï¼Œç„¶åŽæŠŠå¾—åˆ°çš„ JSON æ•°æ®æ˜ å°„åˆ°æ•°æ®å±‚ï¼ˆModelï¼‰ struct MenuModel: HandyJSON &#123; var others: [ThemeModel]?&#125;struct ThemeModel: HandyJSON &#123; var color: String? var thumnail: String? var id: Int? var description: String? var name: String? â·åˆ›å»ºViewModelç±»,åˆ›å»ºå…·ä½“è¯·æ±‚æ–¹æ³• class MenuViewModel &#123; private let provider = RxMoyaProvider&lt;APIManager&gt;() var dispose = DisposeBag() func getThemes(completed: @escaping (_ menuModel: MenuModel) -&gt;())&#123; provider.reuest(.getThemes) .mapModel(MenuModel.self) .subscribe( onNext: &#123; (model) in completed(model)&#125;, onError:&#123; (error) in &#125;, onCompleted:nil, onDisposed:nil, ) .addDisposableTo(dispose) &#125;&#125; è¿™é‡Œæ˜¯å°†è¯·æ±‚çš„æ•°æ®é€šè¿‡é—­åŒ…ä¼ äº†å‡ºåŽ»,å½“ç„¶ä¹Ÿå¯ä»¥ä¸é‚£ä¹ˆåš.ä¸ªäººå–œå¥½é—®é¢˜.è¿™é‡Œæ˜¯ä¸º RxSwift ä¸­çš„ ObservableTypeå’Œ Responseå†™ä¸€ä¸ªç®€å•çš„æ‰©å±•æ–¹æ³• mapModelï¼Œåˆ©ç”¨æˆ‘ä»¬å†™å¥½çš„Model ç±»ï¼Œä¸€æ­¥å°±æŠŠJSONæ•°æ®æ˜ å°„æˆ model extension ObservableType where E == Response &#123; public func mapModel &lt;T: HandyJSON&gt;(_ type: T.Type)-&gt; Observable&lt;T&gt; &#123; return flatMap &#123; response -&gt; Observable&lt;T&gt; in return Observable.just(response.mapModel(T.self)) &#125; &#125; &#125; extension Response &#123; func mapModel&lt;T: HandyJSON&gt;(_ type: T.Type) -&gt; T &#123; let jsonString = String.init(data: data,encoding: .utf8) return JSONDeserializer&lt;T&gt;.deserializeFrom(json: jsonString)! &#125; &#125; #â‘¤é…åˆObjectMapper ##â·â¶åˆ›å»ºmodelç±» class DetailModel: Mappable &#123; var body = String() var image_source: String? var title = String() var image: String? var share_url = String() var js = String() var recommenders = [[String: String]]() var ga_prefix = String() var section: DetailSectionModel? var type = Int() var id = Int() var css = [String]() func mapping(map: Map) &#123; body &lt;- map["body"] image_source &lt;- map["image_source"] title &lt;- map["title"] image &lt;- map["image"] share_url &lt;- map["share_url"] js &lt;- map["js"] recommenders &lt;- map["recommenders"] ga_prefix &lt;- map["ga_prefix"] section &lt;- map["section"] type &lt;- map["type"] id &lt;- map["id"] css &lt;- map["css"] &#125; reuired init?(map: Map) &#123; &#125;&#125; â·ä½¿ç”¨ ObjectMapper ï¼Œéœ€è¦è®©è‡ªå·±çš„ Model ç±»ä½¿ç”¨ Mappable åè®®ï¼Œè¿™ä¸ªåè®®åŒ…æ‹¬ä¸¤ä¸ªæ–¹æ³•ï¼š required init?(map: Map) &#123;&#125;func mapping(map: Map) &#123;&#125;//åœ¨ mapping æ–¹æ³•ä¸­ï¼Œç”¨ &lt;- æ“ä½œç¬¦æ¥å¤„ç†å’Œæ˜ å°„ä½ çš„ JSONæ•°æ® â¸æ•°æ®ç±»å»ºç«‹å¥½ä¹‹åŽï¼Œè¿˜éœ€è¦ä¸º RxSwift ä¸­çš„ Observable å†™ä¸€ä¸ªç®€å•çš„æ‰©å±•æ–¹æ³• mapObjectï¼Œåˆ©ç”¨å†™å¥½çš„model ç±»ï¼Œä¸€æ­¥å°±æŠŠJSON æ•°æ®æ˜ å°„æˆä¸€ä¸ªä¸ª model extension Observable &#123; func mapObject&lt;T: Mappable&gt;(type: T.Type) -&gt; Observale&lt;T&gt; &#123; return self.map &#123; response in //if response is a dictionary, then use ObjectMapper to map the dictionary //if not throw an error guard let dict = response an? [String: Any] else &#123; thow RxSwiftMoyaError.ParseJSONError &#125; return Mapper&lt;T&gt;().map(JSON: dict)! &#125; &#125; func mapArray&lt;T: Mappable&gt;(type: T.Type) -&gt; Observale&lt;[T]&gt; &#123; return self.map &#123; response in //if response is an array of dictionaries, then use ObjectMapper to map the dictionary //if not, throw an error guard let array = response as? [Any] else &#123; thow RxSwiftMoyaError.ParseJSONError &#125; guard let dicts = array as? [[String: Any]] else &#123; thow RxSwiftMoyaError.ParseJSONError &#125; guard let dicts = array as? [[String: Any]] else &#123; thow RxSwiftMoyaError.ParseJSONError &#125; return Mapper&lt;T&gt;().mapArray(JSONArray: dicts)! &#125; &#125; &#125; enum RXSwiftMoyaError: String &#123; case ParaseJSONError case OtherError &#125; extension RxSwiftMoyaError: Swift.Error &#123; &#125; mapObject æ–¹æ³•å¤„ç†å•ä¸ªå¯¹è±¡ï¼ŒmapArray æ–¹æ³•å¤„ç†å¯¹è±¡æ•°ç»„ æžœä¼ è¿›æ¥çš„æ•°æ® response æ˜¯ä¸€ä¸ª dictionaryï¼Œé‚£ä¹ˆå°±åˆ©ç”¨ ObjectMapper çš„ mapæ–¹æ³•æ˜ å°„è¿™äº›æ•°æ®ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè°ƒç”¨ä½ ä¹‹å‰åœ¨ mappingæ–¹æ³•é‡Œé¢å®šä¹‰çš„é€»è¾‘ å¦‚æžœ response ä¸æ˜¯ä¸€ä¸ª dictionaryï¼Œ é‚£ä¹ˆå°±æŠ›å‡ºä¸€ä¸ªé”™è¯¯ åœ¨åº•éƒ¨è‡ªå®šä¹‰äº†ç®€å•çš„Errorï¼Œç»§æ‰¿äº†Swift çš„ Errorç±»ï¼Œåœ¨å®žé™…åº”ç”¨è¿‡ç¨‹ä¸­å¯ä»¥æ ¹æ®éœ€è¦æä¾›è‡ªå·±æƒ³è¦çš„ Error â¹è¿è¡Œè¯·æ±‚æ–¹æ³• calss DetailViewModel &#123; private let provider = RxMoyaProvider&lt;APIManager&gt;() func getNewsDetail(id: Int) -&gt; Observable&lt;DetailModel&gt; &#123; return provider.request(.getNewDetail(id)) .filterSuccesssfulStatusCodes() .mapJSON() .mapObject(type: DetailModel.self) &#125;&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Lib</category>
        <category>Moya</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[RxSwift + ReactorKit æž„å»ºä¿¡æ¯æµæ¡†æž¶]]></title>
    <url>%2F2018%2F03%2F07%2FRxSwift%2FError%2FRxSwift-Error%2F</url>
    <content type="text"></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Error</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxSwift-Lib-Moya]]></title>
    <url>%2F2018%2F03%2F07%2FRxSwift%2FLib%2FRxSwift-Lib-Moya%2F</url>
    <content type="text"><![CDATA[å…³äºŽmoya Moyaåœ¨Alamofireçš„åŸºç¡€ä¸Šåˆå°è£…ä¸€å±‚ moyaæœ‰ä»¥ä¸‹ç‰¹æ€§ ç¼–è¯‘æ—¶æ£€æŸ¥æ­£ç¡®çš„APIç«¯ç‚¹è®¿é—®. ä½¿ä½ å®šä¹‰ä¸åŒç«¯ç‚¹æžšä¸¾å€¼å¯¹åº”ç›¸åº”çš„ç”¨é€”æ›´åŠ æ˜Žæ™°. æé«˜æµ‹è¯•åœ°ä½ä»Žè€Œä½¿å•å…ƒæµ‹è¯•æ›´åŠ å®¹æ˜“ æžšä¸¾APIenum APIManaager &#123; case getNewsLatest //èŽ·å–æœ€æ–°æ¶ˆæ¯ case getStartImage // å¯åŠ¨ç•Œé¢å›¾åƒèŽ·å– case getVersion(String)//è½¯ä»¶ç‰ˆæœ¬æŸ¥è¯¢ case getThemes //ä¸»é¢˜æ—¥æŠ¥åˆ—è¡¨æŸ¥çœ‹ case getNewsDetail(Int)//èŽ·å–æ–°é—»è¯¦æƒ…&#125; å®žçŽ°TargetTypeåè®®extension APIManager: TargetType &#123; // base URL var baseURL: URL &#123; return URL.init(string: "http://news-at.zhihu.com/api/")! &#125; // è¯·æ±‚è·¯å¾„ var path: String &#123; switch self &#123; case .getNewsLatest: return "4/news/latest" case .getStartImage: //start-image åŽä¸ºå›¾åƒåˆ†è¾¨çŽ‡ï¼ŒæŽ¥å—ä»»æ„çš„ number*number æ ¼å¼ï¼Œ number ä¸ºä»»æ„éžè´Ÿæ•´æ•°ï¼Œè¿”å›žå€¼å‡ç›¸åŒã€‚ return "4/start-image/1080*1776" case .getVersion(let version): //URL æœ€åŽéƒ¨åˆ†çš„æ•°å­—ä»£è¡¨æ‰€å®‰è£…ã€ŽçŸ¥ä¹Žæ—¥æŠ¥ã€çš„ç‰ˆæœ¬ return "4/version/ios/" + version case .getThemes: return "4/themes" case .getNewsDetail(let id): return "4/news/\(id)" &#125; &#125; // The HTTP method used in the request var method: Moya.Method &#123; return .get &#125; // The parameters to be incoded in the request. var parameters: [String: Any]? &#123; return nil &#125; // The method used for parameter encoding. var parameterEncoding: ParameterEncoding &#123; return URLEncoding.default &#125; // Provides stub data for use in testing. var sampleData: Data &#123; return "".data(using: String.Encoding.utf8)! &#125; // The type of HTTP task to be performed. var task: Task &#123; return .request &#125; // Whether or not to perform Alamofire validation. Defaults to `false`. var validate: Bool &#123; return false &#125; &#125; #ä½¿ç”¨ Moyaçš„ä½¿ç”¨éžå¸¸ç®€å•ï¼Œé€šè¿‡TargetTypeåè®®å®šä¹‰å¥½æ¯ä¸ªtargetä¹‹åŽï¼Œå°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨Moyaå¼€å§‹å‘é€ç½‘ç»œè¯·æ±‚äº† let provider = MoyaProvider&lt;APIManager&gt;() provider.request(.getNewsLatest) &#123; result in // do something with result &#125; é…åˆRxSwiftlet provider = RxMoyaProvider&lt;APIManager&gt;() provider.request(.getNewsLatest) .filterSuccessfulStatusCodes() .mapJSON() .subscribe(onNext: &#123; (json) in //do something with posts print(json) &#125;) .addDisposableTo(disposeBag) RxMoyaProvideræ˜¯MoyaProviderçš„å­ç±»ï¼Œæ˜¯å¯¹RxSwiftçš„æ‰©å±• filterSuccessfulStatusCodes()æ˜¯Moyaä¸ºRxSwiftæä¾›çš„æ‰©å±•æ–¹æ³•ï¼Œé¡¾åæ€ä¹‰ï¼Œå¯ä»¥å¾—åˆ°æˆåŠŸåœ°ç½‘ç»œè¯·æ±‚ï¼Œå¿½ç•¥å…¶ä»–çš„ mapJSON()ä¹Ÿæ˜¯Moya RxSwiftçš„æ‰©å±•æ–¹æ³•ï¼Œå¯ä»¥æŠŠè¿”å›žçš„æ•°æ®è§£æžæˆ JSON æ ¼å¼ subscribe æ˜¯ä¸€ä¸ªRxSwiftçš„æ–¹æ³•ï¼Œå¯¹ç»è¿‡ä¸€å±‚ä¸€å±‚å¤„ç†çš„ Observable è®¢é˜…ä¸€ä¸ª onNext çš„ observerï¼Œä¸€æ—¦å¾—åˆ° JSON æ ¼å¼çš„æ•°æ®ï¼Œå°±ä¼šç»è¡Œç›¸åº”çš„å¤„ç† addDisposableTo(disposeBag) æ˜¯ RxSwift çš„ä¸€ä¸ªè‡ªåŠ¨å†…å­˜å¤„ç†æœºåˆ¶ï¼Œè·ŸARCæœ‰ç‚¹ç±»ä¼¼ï¼Œä¼šè‡ªåŠ¨æ¸…ç†ä¸éœ€è¦çš„å¯¹è±¡ é…åˆHandyJSON åœ¨å®žé™…åº”ç”¨è¿‡ç¨‹ä¸­ç½‘ç»œè¯·æ±‚å¾€å¾€ç´§å¯†è¿žæŽ¥ç€æ•°æ®å±‚ï¼ˆModelï¼‰ï¼Œå…·ä½“åœ°è¯´ï¼Œåœ¨æˆ‘ä»¬çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸€èˆ¬æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªç±»ç”¨æ¥ç»Ÿä¸€ç®¡ç†æ•°æ®ï¼Œç„¶åŽæŠŠå¾—åˆ°çš„ JSON æ•°æ®æ˜ å°„åˆ°æ•°æ®å±‚ï¼ˆModelï¼‰ struct MenuModel: HandyJSON &#123;var others: [ThemeModel]? &#125; struct ThemeModel: HandyJSON &#123; var color: String? var thumbnail: String? var id: Int? var description: String? var name: String?&#125; åˆ›å»ºViewModelç±»,åˆ›å»ºå…·ä½“è¯·æ±‚æ–¹æ³•: class MenuViewModel &#123; private let provider = RxMoyaProvider&lt;APIManager&gt;()var dispose = DisposeBag() func getThemes(completed: @escaping (_ menuModel: MenuModel) -&gt; ())&#123; provider.request(.getThemes).mapModel(MenuModel.self).subscribe(onNext: &#123; (model) in completed(model)&#125;, onError: &#123; (error) in &#125;, onCompleted: nil, onDisposed: nil).addDisposableTo(dispose) &#125; &#125; å°†è¯·æ±‚çš„æ•°æ®é€šè¿‡é—­åŒ…ä¼ äº†å‡ºåŽ»,å½“ç„¶ä¹Ÿå¯ä»¥ä¸é‚£ä¹ˆåš.ä¸ªäººå–œå¥½é—®é¢˜..è¿™é‡Œæ˜¯ä¸º RxSwift ä¸­çš„ ObservableTypeå’Œ Responseå†™ä¸€ä¸ªç®€å•çš„æ‰©å±•æ–¹æ³• mapModelï¼Œåˆ©ç”¨æˆ‘ä»¬å†™å¥½çš„Model ç±»ï¼Œä¸€æ­¥å°±æŠŠJSONæ•°æ®æ˜ å°„æˆ model extension ObservableType where E == Response &#123;public func mapModel&lt;T: HandyJSON&gt;(_ type: T.Type) -&gt; Observable&lt;T&gt; &#123;return flatMap &#123; response -&gt; Observable&lt;T&gt; inreturn Observable.just(response.mapModel(T.self))&#125;&#125;&#125; extension Response &#123;func mapModel&lt;T: HandyJSON&gt;(_ type: T.Type) -&gt; T &#123;let jsonString = String.init(data: data, encoding: .utf8)return JSONDeserializer&lt;T&gt;.deserializeFrom(json: jsonString)!&#125;&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Error</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Lib-Reusable-ä¼˜é›…åœ°ä½¿ç”¨ReusableIdentifier]]></title>
    <url>%2F2018%2F03%2F02%2FSwift%2FLib%2FReusable%E4%BC%98%E9%9B%85%E5%9C%B0%E4%BD%BF%E7%94%A8ReusableIdentifier%2F</url>
    <content type="text"><![CDATA[cellçš„é‡ç”¨æœºåˆ¶ä¸Žæ ‡ç¤ºç¬¦ è‹¹æžœä¸ºäº†ä¿å‡†UITableViewè§†å›¾çš„æ€§èƒ½ï¼Œä½¿ç”¨äº†cellçš„é‡ç”¨æœºåˆ¶ï¼Œcellå¯ä»¥é€šè¿‡é‡ç”¨æ ‡ç¤ºç¬¦ï¼ˆreusableIdentifierï¼‰è¿›è¡Œå¤ç”¨ï¼Œé»˜è®¤çš„æ³¨å†Œcellå’ŒèŽ·å–cellçš„æ–¹æ³•ä¸­ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œé‡ç”¨æ ‡ç¤ºç¬¦ä½†è¿™ç§æ–¹å¼å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”ä½¿ç”¨èµ·æ¥ä¹Ÿç›¸å½“åˆ«æ‰­ï¼Œä¸€ç§æ™®éçš„è§£å†³æ–¹å¼ï¼Œå°±æ˜¯ç›´æŽ¥åªç”¨ç±»åä½œä¸ºé‡ç”¨æ ‡ç¤ºç¬¦: tableView.registerClass(UITableView.self,forCellReuseIdentifier:String(UITableViewCell.self))tableView.dequeueReusableCellWithIdentifier(String(UITableViewCell.self)) è¿™ç§å†™æ³•ä¾ç„¶ç¹çï¼Œæ¯æ¬¡ä¼ å…¥ä¸€ä¸ªç±»å¹¶æŠŠå®ƒè½¬åŒ–æˆå­—ç¬¦ä¸²so,å¯å€ŸåŠ©Swiftçš„æ³›åž‹ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰æ›´åŠ ä¼˜é›…çš„å®žçŽ°æ–¹å¼ ä½¿ç”¨åè®® ä½¿ç”¨æ³›åž‹æ¥ä¼˜åŒ– TableView Cells çš„ä½¿ç”¨ä½“éªŒè¯¦ç»†ä»‹ç»äº†å¦‚ä½•é€šè¿‡åè®®+æ³›åž‹çš„æ–¹å¼ï¼Œä¼˜åŒ–TableView Cells çš„ä½¿ç”¨ä½“éªŒ å…·ä½“çš„åšæ³•å¾ˆç®€å•: â¶åè®® //å£°æ˜Žäº†ä¸€ä¸ªåè®®protocol Reusable: class &#123; static var reuseIdentifier: String &#123; get &#125;&#125;//æä¾›å¹¶é»˜è®¤å®žçŽ°äº†ä¸€ä¸ªreuseIdentifieré™æ€å±žæ€§extension Reusable &#123; static var reuseIdentifier: String &#123; return String (Self) &#125;&#125; â·æä¾›ä¸€ä¸ªæ³¨å†Œå’ŒèŽ·å–é‡ç”¨cellçš„æ–¹æ³•è¿™æ ·åªè¦celléµå®ˆäº†Reusableåè®®ï¼Œå°±å¯ä»¥é€šè¿‡ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•æ³¨å†Œå¤ç”¨celläº†ã€‚å…·ä½“çš„ä»£ç å’Œä½¿ç”¨ä½¿ç”¨æ³›åž‹æ¥ä¼˜åŒ– TableView Cells çš„ä½¿ç”¨ä½“éªŒ func registerReusableCell&lt;T: UITableViewCell where T: Reusable&gt;(_: T.Type) &#123; self.registerClass(T.self, forCellReuseIdentifier: T.reuseIdentifier) &#125; func dequeueReusableCell&lt;T: UITableViewCell where T: Reusable&gt;(indexPath indexPath: NSIndexPath) -&gt; T &#123; return self.dequeueReusableCellWithIdentifier(T.reuseIdentifier, forIndexPath: indexPath) as! T &#125; cellå¿…é¡»éµå®ˆäº†Reusableåè®®ï¼Œè™½ç„¶é€šè¿‡è®©UITableViewCelléµå®ˆè¿™ä¸ªåè®®çš„æ–¹å¼ï¼Œé¿å…æ¯ä¸ªUITableViewCellå­celléƒ½å†™ä¸€éï¼Œä½†è¿™ä¾ç„¶è¿˜ä¸æ˜¯æœ€ç†æƒ³çš„è§£å†³æ–¹å¼ã€‚æœ€ç†æƒ³çš„è§£å†³æ–¹å¼ï¼Œåº”è¯¥æ˜¯åªéœ€è¦è°ƒç”¨æ–¹æ³•ï¼Œä¸éœ€è¦UITableViewCellåšä»»ä½•ä¿®æ”¹ï¼Œä¸ºæ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»“æž„ä½“ï¼Œè€Œéžåè®®æ¥å®žçŽ° ä½¿ç”¨ç»“æž„ä½“ ä½¿ç”¨æ³›åž‹å®šä¹‰ä¸€ä¸ªReusableIdentifierç»“æž„ä½“ï¼Œæœ‰ä¸€ä¸ªidentifierçš„ä¸å˜é‡ public struct ReusableIdentifier &lt;T: UIView&gt; &#123; let identifier: string init () &#123; identifier = String(T.Self) &#125;&#125; æ³¨å†Œçš„æ—¶å€™å°±éžå¸¸ç®€å• tableview.register(UITableViewCell.self) åŒæ ·çš„ï¼Œå¯ä»¥ä¸ºUITableViewå®žçŽ°ä¸€ä¸ªdequeueæ–¹æ³• @warn_unused_result func dequeue&lt;T: UICollectionViewCell&gt;(indexPath: NSIndexPath) -&gt; T &#123; let rid = ReusableIdentifier&lt;T&gt;() guard let cell = dequeueReusableCellWithReuseIdentifier(rid.identifier, forIndexPath: indexPath) as? T else &#123; assertionFailure("No identifier(\(rid.identifier)) found for \(T.self)") return T.init() &#125; return cell&#125; ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦æŒ‡å®šcellçš„ç±»åž‹ï¼Œä¼ å…¥indexPathå³å¯ let cell: UITableViewCell = tableview.dequeue(indexPath) é€šè¿‡å¼•å…¥ä¸€ä¸ªç»“æž„ä½“ï¼Œåˆ©ç”¨æ³›åž‹ç‰¹æ€§ï¼Œä¸éœ€è¦å¯¹å·²æœ‰çš„ç±»åž‹åšä»»ä½•ä¿®æ”¹ï¼Œåªéœ€è¦æ›¿æ¢æ³¨å†Œå’Œå¤ç”¨cellæ—¶è°ƒç”¨çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥éžå¸¸ä¼˜é›…çš„å¤ç”¨Tableview Cellã€‚ å‚è€ƒä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ReusableIdentifierç»“æž„ä½“ï¼Œä¸ºUICollectionViewå®žçŽ°ç›¸åº”çš„æ–¹æ³•]]></content>
      <categories>
        <category>Swift</category>
        <category>Lib</category>
        <category>Reusable</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Lib</tag>
        <tag>Reusable</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxSwift + ReactorKit æž„å»ºä¿¡æ¯æµæ¡†æž¶]]></title>
    <url>%2F2018%2F03%2F02%2FRxSwift%2FFunc%2FRxSwift%20%2B%20ReactorKit%20%E6%9E%84%E5%BB%BA%E4%BF%A1%E6%81%AF%E6%B5%81%E6%A1%86%E6%9E%B6%2F</url>
    <content type="text"><![CDATA[https://www.jianshu.com/p/dff7b0368d2b]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Func</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Lib-Thenåè®®åº“-åˆå§‹åŒ–æ–¹å¼]]></title>
    <url>%2F2018%2F03%2F02%2FSwift%2FLib%2FThen%E5%8D%8F%E8%AE%AE%E5%BA%93-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å†™æ³•å¯¹æ¯” æ™®é€šçš„å†™æ³•ï¼Œå…ˆçœ‹é€šè¿‡Blockåˆ›å»ºå¯¹è±¡çš„å†™æ³•ä¼˜ç‚¹ï¼šä»£ç æ•´åˆåœ¨ä¸€ä¸ªé—­åŒ…é‡Œé¢ï¼Œå¯è¯»æ€§å¼º let _ = &#123; () -&gt; UILabel in let label = UILab() view.addSubview(label) label.text = "myLabel" label.font = UIFont.systemFont(ofSize: 18) label.center = self.view.center label.bounds = CGRect.init(x : 0, y : 0, width : 100, height : 50) return label &#125;() åœ¨Blockå¤–åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œå†ä¼ è¿›é—­åŒ…è¿›è¡Œè®¾å€¼ï¼Œç»Ÿä¸€ç”¨$0å–å‚æ•°å¯¹è±¡ï¼Œä¸ç”¨å†åŽ»çƒ¦å¦‚ä½•å‘½åäº†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å‘½åï¼Œå‚è€ƒåŽæ–‡çš„å†™æ³• ä¸è¿‡æœ‰ä¸ªç¼ºç‚¹ï¼šé‡Œé¢çš„$0æ²¡æ³•è‡ªåŠ¨è”æƒ³å‡ºå±žæ€§ï¼Œæ‰‹æ•²å‡ è¡Œä»£ç ä½ å°±ä¼šè“ç˜¦é¦™è‡ let _ =:UILabel &#123; view.addSubview($0) $0.text = "æµ‹è¯•" $0.font = UIFont.systemFont(ofSize: 18) $0.center = self.view.center $0.bounds = CGRect.init(x: 0, y: 0, width: 100,height: 50) return $0&#125;(UILabel()) ç”¨Thenåè®®åº“çš„åˆå§‹åŒ–å†™æ³•æ¯”ä¸Šé¢çš„ä»£ç æ›´ç®€æ´ï¼Œä¸ç”¨å†™returnäº†ï¼Œè€Œä¸”é‡Œé¢çš„$0è¿˜èƒ½è‡ªåŠ¨è”æƒ³ã€‚ä¼˜ç‚¹ï¼šæš‚æ—¶æ²¡æœ‰åæ§½ç‚¹ å¸¦å‚æ•°ï¼Œå¯è‡ªè¡Œå‘½å let _ = UILabel().then_Any&#123; (label) in label.backgroundColor = .blue label.font = UIFont.systemFont(ofSize: 18) label.textAlinment = .center label.text = "Thenåè®®åº“å†™æ³•" label.frame = CGRect.init(x: 20, y:200, width: 150, height:40) // ä¸ä¼šå¾ªçŽ¯å¼•ç”¨(å·²æµ‹è¯•) self.view.addSubview(label) (æŽ¨è)æ— å‚æ•°ï¼Œæ— éœ€å‘½åï¼Œç”¨$0å–å‚æ•°ï¼Œå¯è‡ªåŠ¨è”æƒ³å±žæ€§(æŽ¨è) let _ = UILabel().then_Any&#123; $0.backgroundColor = .blue $0.font = UIFont.systemFont(ofSize: 18) $0.textAlignment = .center $0.text = "Thenåº“å†™æ³•1.1" $0.frame = CGRect.init(x: 200, y: 200, height: 50) self.view.adSubview($0)&#125; 2.0 å¸¦å‚æ•°ï¼Œå¯è‡ªè¡Œå‘½å let label_Any0 = UILabel().then&#123; (label) in label.backgroundColor = .blue label.font = UIFont.systemFont(ofSize: 18) label.textAlignment = .center label.text = "Thenåº“å†™æ³•_2.0" label.frame = CGRect.init(x: 200, y:240, width:150, height: 40)&#125;self.view.addSubview(label_Any0) 2.1 (æŽ¨è)æ— å‚æ•°ï¼Œæ— éœ€å‘½åï¼Œç”¨$0å–å‚æ•°ï¼Œå¯è‡ªåŠ¨è”æƒ³å±žæ€§ let _ = UILabel().then &#123; $0.backgroundColor = .blue $0.font = UIFont.systemFont(ofSize: 18) $0.textAlignment = .center $0.text = "Thenåº“å†™æ³•_2.1" $0.frame = CGRect.init(x: 200, y: 260,width: 150,height: 40) self.view.addSubview($0) æ —å­ï¼šæŸå·¥åŽ‚æ–¹æ³• class func label (withFrame frame: CGRect, text: String?, font: UIFont)-&gt;UILabel &#123; return UILabel.init(frame: frame).then(block: &#123; (label) in label.text = text label.textColor = UIColor.black label.backgroundColor = UIColor.white label.font = font &#125;) å…¶å®žThenåè®®åº“åªæœ‰åå‡ è¡Œä»£ç ï¼Œä½†æ˜¯èƒ½å¸¦æ¥éžå¸¸å¥½çš„ä½“éªŒæ„Ÿï¼Œç®€çº¦å®žç”¨ï¼Œä¸ä¼šå‡ºçŽ°å¾ªçŽ¯å¼•ç”¨ã€‚ä¸‹é¢çš„ä»£ç å¯ä»¥å¤åˆ¶åˆ°ä¸€ä¸ªswift fileä¸­ï¼Œç›´æŽ¥ç”¨ import Foundationpublic protocol Then &#123;&#125;extension Then where Self: Any &#123; public func then_Any( block: (inout Self) -&gt; Void) -&gt; Self &#123; var copy = self block(&amp;copy) return copy &#125;&#125;extension Then where Self: AnyObject &#123; public func then( block: (Self) -&gt; Void) -&gt; Self &#123; block(self) return self &#125;&#125;extension NSObject: Then &#123;&#125; å‚è€ƒåŽŸæ–‡]]></content>
      <categories>
        <category>Swift</category>
        <category>Lib</category>
        <category>Then</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[RxSwift+Moya+åˆ—è¡¨å±•ç¤º]]></title>
    <url>%2F2018%2F03%2F01%2FRxSwift%2FDemo%2FRxSwift%2BMoya%2B%E5%88%97%E8%A1%A8%E5%B1%95%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[é¡¹ç›® æ ¹æ®ç½‘ä¸Šdemoä»¿å†™åŽŸæ–‡ ç»“æž„ Controller LXFViewController.swift ä¸»è§†å›¾æŽ§åˆ¶å™¨ Extension Response+ObjectMapper.swift Responseåˆ†ç±»ï¼ŒMoyaè¯·æ±‚å®Œè¿›è¡ŒJsonè½¬æ¨¡åž‹æˆ–æ¨¡åž‹æ•°ç»„ Model LXFModel.swift æ¨¡åž‹ Protocol LXFViewModelType.swift å®šä¹‰äº†æ¨¡åž‹åè®® Tool LXFNetworkTool.swift å°è£…Moyaè¯·æ±‚ LXFProgressHUD.swift å°è£…çš„HUD View LXFViewCell.swift è‡ªå®šä¹‰cell LXFViewCell.xib cellçš„xibæ–‡ä»¶ ViewModel LXFViewModel.swift è§†å›¾æ¨¡åž‹ ç¬¬ä¸‰æ–¹åº“ RxSwift æƒ³çŽ©RxSwiftçš„å¿…å¤‡åº“ RxCocoa å¯¹ UIKit Foundation è¿›è¡Œ Rx åŒ– NSObject+Rx ä¸ºæˆ‘ä»¬æä¾› rx_disposeBag Moya/RxSwift ä¸ºRxSwiftä¸“ç”¨æä¾›ï¼Œå¯¹Alamofireè¿›è¡Œå°è£…çš„ä¸€ä¸ªç½‘ç»œè¯·æ±‚åº“ ObjectMapper Jsonè½¬æ¨¡åž‹ä¹‹å¿…å¤‡è‰¯å“ RxDataSources å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨tableViewçš„æ•°æ®æºæ–¹æ³• Then æä¾›å¿«é€Ÿåˆå§‹åŒ–çš„è¯­æ³•ç³– Kingfisher å›¾ç‰‡åŠ è½½åº“ SnapKit è§†å›¾çº¦æŸåº“ Reusable å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨è‡ªå®šä¹‰cellå’Œview,ä¸å†å‡ºçŽ°Optional MJRefresh ä¸Šæ‹‰åŠ è½½ã€ä¸‹æ‹‰åˆ·æ–°çš„åº“ SVProgressHUD ç®€å•æ˜“ç”¨çš„HUD Moya Moyaæ˜¯åŸºäºŽAlamofireçš„ç½‘ç»œè¯·æ±‚åº“ Moyaçš„åŸºç¡€ä¸Šæ·»åŠ äº†å¯¹RxSwiftçš„æŽ¥å£æ”¯æŒ â¶ åˆ›å»ºç½‘ç»œç±»åž‹æžšä¸¾ï¼Œç”¨æ¥å­˜æ”¾è¯·æ±‚ç±»åž‹ é¡ºä¾¿è®¾ç½®ç›¸åº”çš„è·¯å¾„ï¼Œç­‰ä¸‹ç»Ÿä¸€å–å‡ºæ¥ç›´æŽ¥èµ‹å€¼å³å¯ enum LXFNetworkCategory : String &#123; case all = "all" case android = "Android" case ios = "iOS" case welfare = "ç¦åˆ©"&#125; â·æžšä¸¾å†™ä¸€ä¸ªæ‰©å±•ï¼Œå¹¶éµå¾ªå¡„ TargetTypeï¼Œè¿™ä¸ªåè®®çš„Moyaè¿™ä¸ªåº“è§„å®šçš„åè®® extension LXFNetworkTool : TargetType &#123; //baseURL ç»Ÿä¸€åŸºæœ¬çš„URL var baseURL : URL &#123; return URL (string : "http://xxxx/xx/") &#125; //pathå­—æ®µä¼šè¿½åŠ è‡³baseURLåŽé¢ var path : String &#123; switch self &#123; case.data(let type, let size , let index): return "(type.rawValue)/(size)/(index)" &#125; &#125; // HTTPçš„è¯·æ±‚æ–¹å¼ var method : Moya.Method &#123; return .get &#125; //è¯·æ±‚å‚æ•°(ä¼šåœ¨è¯·æ±‚æ—¶è¿›è¡Œç¼–ç ) var parameters : [String : Any]?&#123; return nil &#125; //å‚æ•°ç¼–ç æ–¹å¼(è¿™é‡Œä½¿ç”¨URLçš„é»˜è®¤æ–¹å¼) var parameterEncoding : ParameterEncoding &#123; return URLEncoding.default &#125; //ç”¨äºŽå•å…ƒæµ‹è¯•ï¼Œä¸éœ€è¦çš„å°±åƒæˆ‘ä¸€æ ·éšä¾¿å†™å†™ var sampleData : Data &#123; return "AAAA".data(using : .utf8) &#125; //å°†è¦è¢«æ‰§è¡Œçš„ä»»åŠ¡(è¯·æ±‚ï¼šrequest ä¸‹è½½ï¼šupload ä¸Šä¼ ï¼šdownload) var task : Task &#123; return .reuqest &#125; //æ˜¯å¦æ‰§è¡ŒAlamofireéªŒè¯ï¼Œé»˜è®¤å€¼ä¸ºfalse var validate : Bool &#123; return false &#125;&#125; â¸ å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ç”¨äºŽæ•´ä¸ªé¡¹ç›®çš„ç½‘ç»œè¯·æ±‚ä»¥ä½¿ç”¨è¿™ä¸ªå…¨å±€å˜é‡æ¥è¯·æ±‚æ•°æ® let lxfNetTool = RxMoyaProvider&lt;LXFNetworkTool&gt; RxDataSources RxDataSourcesæ˜¯ä»¥sectionæ¥åšä¸ºæ•°æ®ç»“æž„æ¥ä¼ è¾“ è‡ªå®šä¹‰SectionModelä¸­åˆ›å»ºä¸€ä¸ªSectionçš„ç»“æž„ä½“ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ‰©å±•ï¼Œéµå¾ªSectionModelTypeåè®®ï¼Œå®žçŽ°ç›¸åº”çš„åè®®æ–¹æ³• LXFModel.swiftstruct LXFSection &#123; // itemså°±æ˜¯rows var items : [Item] //è¿™é‡ŒåŠ ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ headerView çš„ title extension LXFSection : SectionModelType &#123; // é‡å®šä¹‰ Item çš„ç±»åž‹ä¸º LXFModel typealias Item = LXFModel // å®žçŽ°åè®®ä¸­çš„æ–¹å¼ init(original: LXFSection, items: [LXFSection.Item]) &#123; self = original self.items = items &#125;&#125; â· æŽ§åˆ¶å™¨ä¸‹åˆ›å»ºæ•°æ®æºå±žæ€§LXFViewController.swift //åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±žæ€§ï¼Œç±»åž‹ä¸ºè‡ªå®šä¹‰çš„Sectionç±»åž‹ let dataSource = RxTableViewSectionedReloadDataSource&lt;LXFSection&gt;() //ä½¿ç”¨æ•°æ®æºå±žæ€§ç»‘å®šcell dataSource.configureCell = &#123; ds,tv,ip,iteam in // è¿™ä¸ªåœ°æ–¹ä½¿ç”¨äº†Reusableè¿™ä¸ªåº“ï¼Œåœ¨LXFViewCellä¸­éµå®ˆäº†ç›¸åº”çš„åè®® // ä½¿å…¶æ–¹ä¾¿è½¬æ¢cellä¸ºéžå¯é€‰åž‹çš„ç›¸åº”çš„cellç±»åž‹ let cell = tv.dequeueReusableCell(for : ip) as LXFViewCell cell.picView.kf.setImgage(with : URL(string: item.url)) cell.descLabel.text = "æè¿° : (item.desc)" cell.sourceLabel.text = "æ¥æº : (item.source)" return cell;&#125; â¸ sectionsåºåˆ—ç»‘å®šç»™æˆ‘ä»¬çš„rows output.sections .asDriver() .drive(tableView.rx .items(dataSource : dataSource)) .addDisposable(rx_disposeBag) ViewModelçš„è§„èŒƒ MVVMæ€æƒ³æ˜¯å°†åŽŸæœ¬åœ¨ViewControllerçš„è§†å›¾æ˜¾ç¤ºé€»è¾‘ã€éªŒè¯é€»è¾‘ã€ç½‘ç»œè¯·æ±‚ç­‰ä»£ç å­˜æ”¾äºŽViewModelä¸­ï¼Œè¾¾åˆ°ViewControllerç˜¦èº«- é€»è¾‘ç”±ViewModelè´Ÿè´£ï¼Œå¤–ç•Œä¸éœ€è¦å…³å¿ƒï¼Œå¤–ç•Œåªéœ€è¦ç»“æžœï¼ŒViewModelä¹Ÿåªéœ€è¦å°†ç»“æžœç»™åˆ°å¤–ç•Œ åŸºäºŽæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåè®®LXFViewModelType â¶åˆ›å»ºLXFViewModelType.swift LXFViewModelType.swift// associatedtype å…³é”®å­— ç”¨æ¥å£°æ˜Žä¸€ä¸ªç±»åž‹çš„å ä½ç¬¦ä½œä¸ºåè®®å®šä¹‰çš„ä¸€éƒ¨åˆ†protocol LXFViewModelType &#123; associatedtype Input associatedtype Output func transform(input : Input ) - &gt; Output â·viewModeléµå®ˆLXFViewModelTypeåè®® å¯ä»¥ä¸ºXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«åï¼Œä»¥ç¤ºåŒºåˆ†,å¦‚ï¼šè¿™ä¸ªviewModelçš„ç”¨äºŽè¯·æ±‚é¦–é¡µæ¨¡å—ç›¸å…³è”çš„ï¼Œåˆ™å¯ä»¥å‘½åä¸ºï¼šHomeInput å’Œ HomeOutput å¯ä»¥ä¸°å¯Œæˆ‘ä»¬çš„ Input å’Œ Output ã€‚å¯ä»¥çœ‹åˆ°ä¸ºOutputæ·»åŠ äº†ä¸€ä¸ªåºåˆ—ï¼Œç±»åž‹ä¸ºè‡ªå®šä¹‰çš„LXFSectionæ•°ç»„ï¼Œåœ¨Inputé‡Œé¢æ·»åŠ äº†ä¸€ä¸ªè¯·æ±‚ç±»åž‹(å³è¦è¯·æ±‚ä»€ä¹ˆæ•°æ®ï¼Œæ¯”å¦‚é¦–é¡µçš„æ•°æ®) é€šè¿‡ transform æ–¹æ³•å°†inputæºå¸¦çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆäº†ä¸€ä¸ªOutput LXFViewModel.swiftextension LXFViewModel :LXFViewModelType &#123; // å­˜æ”¾ç€è§£æžå®Œæˆçš„æ¨¡åž‹æ•°ç»„ let models = Variable &lt;[LXFModel]&gt;([]) // ä¸ºLXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«å typealias Input = LXFInput typealias Output = LXFOutput // ä¸°å¯ŒInputå’ŒOutput struct LXFInput &#123; //ç½‘ç»œè¯·æ±‚ç±»åž‹ let category : LXFNetworkTool.LXFNetworkCategory int(category : LXFNetworkTool.LXFNetworkCategory)&#123; self.category = category &#125; &#125; struct LXFOutput &#123; //tableViewçš„sectionsæ•°æ® let sections : Driver &lt;LXFsection&gt; init(sections : Driver &lt;[LXFSection]&gt;)&#123; self.sections = sections &#125; &#125; func transform(input : LXFViewModel.LXFInput) -&gt; LXFViewModel.LXFOutput&#123; let sections = models.asObservable() .map&#123; (models) -&gt; [LXFSection] in // å½“modelsçš„å€¼è¢«æ”¹å˜æ—¶ä¼šè°ƒç”¨ï¼Œè¿™æ˜¯Variableçš„ç‰¹æ€§ // è¿”å›žsectionæ•°ç»„ return [LXFSection(item : models)] &#125; .asDriver(onErrorJustReturn : []) let output = LXFOutput(sections : sections) // æŽ¥ä¸‹æ¥çš„ä»£ç æ˜¯ç½‘ç»œè¯·æ±‚ &#125;&#125; â¸åœ¨ViewControllerä¸­åˆå§‹åŒ–æˆ‘ä»¬çš„inputï¼Œé€šè¿‡transformå¾—åˆ°outputï¼Œç„¶åŽå°†outputä¸­çš„sectionsåºåˆ—ç»‘å®štableViewçš„items LXFViewController.swift// åˆå§‹åŒ–inputlet vmInput = LXFViewModel.LXFInput(category : welfare)// é€šè¿‡transformå¾—åˆ°outputlet vmOutput = viewModel.transform(input : vmInput)vmOutput.sections .asDriver() .drive(tableView.rx .items(dataSource : dataSource)) .addDisposableTo(rx_disposeBag) MJRefresh â¶å®šä¹‰æžšä¸¾LXFRefreshStatusï¼Œç”¨äºŽæ ‡å¿—å½“å‰åˆ·æ–°çŠ¶æ€ enum LXFRefreshStatus &#123; case none case beingHeaderRefresh case endHeaderRefresh case beingFooterRefresh case endFooterRefresh case noMoreData &#125; â·LXFOutputæ·»åŠ ä¸€ä¸ªrefreshStatusåºåˆ—ï¼Œç±»åž‹ä¸ºLXFRefreshStatusç»™å¤–ç•Œè®¢é˜…ï¼Œå‘Šè¯‰å¤–ç•Œçš„tableViewå½“å‰çš„åˆ·æ–°çŠ¶æ€ let refreshStatus = Variable&lt;LXFRefreshStatus&gt;(.none) è¿›è¡Œç½‘ç»œè¯·æ±‚å¹¶å¾—åˆ°ç»“æžœä¹‹åŽï¼Œä¿®æ”¹refreshStatusçš„valueä¸ºç›¸åº”çš„LXFRefreshStatusé¡¹ â¸å¤–ç•Œè®¢é˜…outputçš„refreshStatus,å¹¶ä¸”æ ¹æ®æŽ¥æ”¶åˆ°çš„å€¼è¿›è¡Œç›¸åº”çš„æ“ä½œ vmOutput.refreshStatus .asObservable() .subscribe(onNext : &#123;[weak self] status in switch status &#123; case .beingHeaderRefresh: self?.tableView.mj_header .beginRefreshing() case .endHeaderRefresh: self?.tableView .mj_header .endRefreshing() case .beingFooterRefresh: self?.tableView .mj_footer .beginRefreshing() case .endFooterRefresh: self?.tableView .mj_footer .endRefreshing case .noMoreData : self?.tableView .endRefreshingWithNoMoreData() default : break &#125; &#125;).addDisposable(rx_disposeBag) â¹outputæä¾›ä¸€ä¸ªrequestCommondç”¨äºŽè¯·æ±‚æ•°æ®PublishSubject çš„ç‰¹ç‚¹ï¼šå³å¯ä»¥ä½œä¸ºObservableï¼Œä¹Ÿå¯ä»¥ä½œä¸ºObserverï¼Œå°±æ˜¯å¯ä»¥å‘é€ä¿¡å·ï¼Œä¹Ÿå¯ä»¥è®¢é˜…ä¿¡å·å¤–ç•Œé€šè¿‡è¯¥å±žæ€§å‘Šè¯‰viewModelåŠ è½½æ•°æ®ï¼ˆä¼ å…¥çš„å€¼æ˜¯ä¸ºäº†æ ‡å¿—æ˜¯å¦é‡æ–°åŠ è½½ï¼‰ let requestCommond = PublishSubject&lt;Bool&gt;() åœ¨transformä¸­ï¼Œå¯¹ç”Ÿæˆçš„outputçš„requestCommondè¿›è¡Œè®¢é˜… output.requestCommond .subscribe(onNext : &#123; [unowned self] isReloadData in self.index = isReload ?1:self.index+1 lxfNetTool.request(.data(type:input.category, size:10, index:self.index ) ) .mapArray(LXFModel.self) .subscribe(&#123; [weak self] (event) in switch event &#123; case let.next(modelArr): self?.models.value = isReloadData?modelArr:(self?.models.value??[])+modelArr LXFProgressHUD.showSuccess("åŠ è½½æˆåŠŸ") case let.error(error): LXFProgressHUD.showError(error.localizedDescription) case .completed: output.refreshStatus.value = isReloadData?.endHeaderRefresh:.endFooterRefresh &#125; &#125;) .addDisposableTo(slf.rx_disposeBag) &#125;) .addDisposableTo(rx_disposeBag) âºåœ¨ViewControllerä¸­åˆå§‹åŒ–åˆ·æ–°æŽ§ä»¶ä¸ºtableViewè®¾ç½®åˆ·æ–°æŽ§ä»¶ï¼Œå¹¶ä¸”åœ¨åˆ›å»ºåˆ·æ–°æŽ§ä»¶çš„å›žè°ƒä¸­ä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡å· tableView.mj_header = MJRefreshNormalHeader(refreshingBlock:&#123; vmOutput.requestCommond .onNext(true) &#125;)tableView.mj_footer = MJRefreshAutoNormalFooter(refreshingBlock:&#123; vmOutput.requestCommond .onNext(false) æµç¨‹ ViewControllerå·²ç»æ‹¿åˆ°outputï¼Œå½“ä¸‹æ‹‰åŠ è½½æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡æ¯ï¼Œå‘Šè¯‰viewModelæˆ‘ä»¬è¦åŠ è½½æ•°æ® viewModelè¯·æ±‚æ•°æ®ï¼Œåœ¨å¤„ç†å®Œjsonè½¬æ¨¡åž‹æˆ–æ¨¡åž‹æ•°ç»„åŽä¿®æ”¹modelsï¼Œå½“modelsçš„å€¼è¢«ä¿®æ”¹çš„æ—¶å€™ä¼šå‘ä¿¡å·ç»™sectionsï¼Œsectionsåœ¨ViewControllerå·²ç»ç»‘å®šåˆ°tableViewçš„itemsäº†ï¼Œæ‰€ä»¥æ­¤æ—¶tableViewçš„æ•°æ®ä¼šè¢«æ›´æ–°ã€‚æŽ¥ç€æˆ‘ä»¬æ ¹æ®è¯·æ±‚ç»“æžœï¼Œä¿®æ”¹outputçš„refreshStatuså±žæ€§çš„å€¼ å½“outputçš„refreshStatuså±žæ€§çš„å€¼æ”¹å˜åŽï¼Œä¼šå‘å°„ä¿¡å·ï¼Œç”±äºŽå¤–ç•Œä¹‹å‰å·²ç»è®¢é˜…äº†outputçš„refreshStatusï¼Œæ­¤æ—¶å°±ä¼šæ ¹æ®refreshStatusçš„æ–°å€¼æ¥å¤„ç†åˆ·æ–°æŽ§ä»¶çš„çŠ¶æ€ åŽŸæ–‡Demo]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
        <category>Demo</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Demo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxSwift+Moya+ç™»å½•+æœç´¢]]></title>
    <url>%2F2018%2F03%2F01%2FRxSwift%2FDemo%2FRxSwift%2BMoya%2B%E7%99%BB%E5%BD%95%2B%E6%90%9C%E7%B4%A2%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®åŠŸèƒ½ ç™»å½•æ³¨å†ŒåŠŸèƒ½]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
        <category>Demo</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Demo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Closuresé—­åŒ…-ä½¿ç”¨åˆ†æž]]></title>
    <url>%2F2018%2F02%2F28%2FSwift%2FGrammar%2FClosures%E9%97%AD%E5%8C%85-%E4%BD%BF%E7%94%A8%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[OC-Block Blocké€šå¸¸ä¼šç”¨åœ¨ç½‘ç»œè¯·æ±‚ä¸­ï¼Œè¯·æ±‚åˆ°æ•°æ®åŽç„¶åŽå›žè°ƒ @implementation HttpTool-(void)loadData:(void(^)(NSString * json))callBack&#123; dispatch_async(dispatch_get_global_queue(0, 0), ^&#123; NSLog(@"%@",[NSThread currentThread]); dispatch_async(dispatch_get_main_queue(), ^&#123; NSLog(@"%@",[NSThread currentThread]); callBack(@"222"); &#125;); &#125;);&#125;@end è°ƒç”¨ @interface ViewController () @property(nonatomic,strong) HttpTool * tool; @end @implementation ViewController - (void)viewDidLoad &#123; [super viewDidLoad]; self.tool = [HttpTool new]; &#125;-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event&#123; [self.tool loadData:^(NSString *json) &#123; NSLog(@"%@",json); &#125;];&#125;@end ç”¨é—­åŒ…æ¥é‡å†™ä¸Šé¢çš„é€»è¾‘ 1ï¼Œé—­åŒ…çš„ç±»åž‹ï¼š(å‚æ•°åˆ—è¡¨) -&gt; (è¿”å›žå€¼åˆ—è¡¨) import UIKitclass HttpTool:NSObject&#123; func loadData(callBack:(json:String)-&gt;())&#123; dispatch_async(dispatch_get_global_queue(0, 0)) &#123; print("\(NSthread.currentThread)") dispatch_sync(dispatch_get_main_queue(), &#123; print("\((NSThread.currentThread())") callBack(json:"json") &#125;) &#125; &#125;&#125; 2.è°ƒç”¨ import UIKitclass ViewController: UIViewController &#123;var tool : HttpTool = HttpTool()override func viewDidLoad() &#123; super.viewDidLoad()&#125;override func touchesBegan(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?) &#123; tool.loadData&#123;(json) in print("\(json)") &#125; &#125;&#125; å¾ªçŽ¯å¼•ç”¨blackå¾ªçŽ¯å¼•ç”¨ weak self-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event&#123; __weak ViewController * weakSelf = self; [self.tool loadData:^(NSString *json) &#123; NSLog(@&quot;%@&quot;,json); weakSelf.view.backgroundColor = [UIColor redColor]; &#125;];&#125; é—­åŒ…çš„å¾ªçŽ¯å¼•ç”¨ é—­åŒ…å¼ºå¼•ç”¨ import UIKit class Httptool: NSObject&#123; //å£°æ˜Žæˆå¯é€‰ç±»åž‹çš„é—­åŒ… var callBack :((json : String)-&gt;())? func loadData(callBack : (json : String)-&gt;()) &#123; //å¼ºå¼•ç”¨ self.callBack = callBack dispatch_async(dispatch_get_global_queue(0, 0)) &#123; print("\(NSThread.currentThread())") dispatch_sync(dispatch_get_main_queue(), &#123; print("\(NSThread.currentThread())") callBack(json: "json") &#125;) &#125; &#125;&#125; è§£å†³é—­åŒ…å¾ªçŽ¯å¼•ç”¨çš„3ç§æ–¹å¼ import UIKitclass ViewController: UIViewController &#123; var tool : HttpTool = HttpTool() override func viewDidLoad() &#123; super.viewDidLoad()&#125; override func touchesBegan(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?) &#123; /* weak var weakSelf = self tool.loadData &#123; (json) in print("\(json)") //weakSelf?.view ï¼š å¦‚æžœå‰é¢çš„å¯é€‰ç±»åž‹ï¼Œæ²¡æœ‰å€¼ï¼ŒåŽé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ //å¦‚æžœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf weakSelf?.view.backgroundColor = UIColor.redColor() &#125; */ tool.loadData &#123; [weak self] (json) in print("\(json)") //weakSelf?.view ï¼š å¦‚æžœå‰é¢çš„å¯é€‰ç±»åž‹ï¼Œæ²¡æœ‰å€¼ï¼ŒåŽé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ //å¦‚æžœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf self?.view.backgroundColor = UIColor.redColor() &#125; /* //è¿™ç§å†™æ³•ä¸€æ—¦selfä¸ºç©ºï¼Œå°±ä¼šæŠ¥é”™ //unownedç›¸å½“äºŽocä¸­çš„__unsafe_unretainedï¼Œ__unsafe_unretained ä¿®é¥°çš„å¼±å¼•ç”¨ï¼Œå¦‚æžœæŒ‡å‘çš„å¯¹è±¡é”€æ¯ï¼Œé‚£ä¹ˆæŒ‡é’ˆæŒ‡å‘ä¹‹å‰çš„å†…å­˜åœ°å€ï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿåå†…å­˜è®¿é—®ï¼Œé‡ŽæŒ‡é’ˆã€‚åƒµå°¸å¯¹è±¡ tool.loadData &#123;[unowned self] (json) in print("\(json)") //weakSelf?.view ï¼š å¦‚æžœå‰é¢çš„å¯é€‰ç±»åž‹ï¼Œæ²¡æœ‰å€¼ï¼ŒåŽé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ //å¦‚æžœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf self.view.backgroundColor = UIColor.redColor() &#125; */ &#125; //ç›¸å½“äºŽocä¸­çš„deallocæ–¹æ³• deinit&#123; print("deinit") &#125; &#125; å°¾éšé—­åŒ… æ™®é€šå†™æ³• tool.loadData(&#123; [weak self] (json) in print("\(json)") //weakSelf?.view ï¼š å¦‚æžœå‰é¢çš„å¯é€‰ç±»åž‹ï¼Œæ²¡æœ‰å€¼ï¼ŒåŽé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ //å¦‚æžœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf self?.view.backgroundColor = UIColor.redColor()&#125;) å°¾éšé—­åŒ…ä¸€ tool.loadData () &#123; [weak self] (json) in print("\(json)") //weakSelf?.view ï¼š å¦‚æžœå‰é¢çš„å¯é€‰ç±»åž‹ï¼Œæ²¡æœ‰å€¼ï¼ŒåŽé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ //å¦‚æžœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf&#125; å°¾éšé—­åŒ…äºŒï¼Œå½“é—­åŒ…ä¸ºå‡½æ•°çš„æœ€åŽä¸€ä¸ªå‚æ•°æ—¶ï¼Œä¼šè‡ªåŠ¨çœç•¥() tool.loadData &#123; [weak self] (json) in print("\(json)") //weakSelf?.view ï¼š å¦‚æžœå‰é¢çš„å¯é€‰ç±»åž‹ï¼Œæ²¡æœ‰å€¼ï¼ŒåŽé¢çš„æ‰€æœ‰ä»£ç ä¸ä¼šæ‰§è¡Œ //å¦‚æžœæœ‰å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†weakSelfè¿›è¡Œè§£åŒ…ï¼Œå¹¶ä½¿ç”¨weakSelf&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-Func-è§‚å¯Ÿè€…ä¸Žé™€èžºä»ªä¼ æ„Ÿå™¨çš„åº”ç”¨ï¼ˆåŸºäºŽPanoramaImageViewï¼‰]]></title>
    <url>%2F2018%2F02%2F28%2FSceneKit%2FFunc%2FSceneKit-Func-%E8%A7%82%E5%AF%9F%E8%80%85%E4%B8%8E%E9%99%80%E8%9E%BA%E4%BB%AA%E4%BC%A0%E6%84%9F%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[èµ„æ–™æ¥æº]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Func</tag>
        <tag>SceneKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC-Grammar-åæ ‡åŒºåŸŸé›†åˆäº¤äº’æ£€æµ‹.md]]></title>
    <url>%2F2018%2F02%2F27%2FOC%2FGrammar%2FOC-%20%E5%9D%90%E6%A0%87%E5%8C%BA%E5%9F%9F%E9%9B%86%E5%90%88%E4%BA%A4%E4%BA%92%E6%A3%80%E6%B5%8B%2F</url>
    <content type="text"><![CDATA[åæ ‡åŒºåŸŸé›†åˆäº¤äº’æ£€æµ‹ç‚¹ä¸ŽåŒºåŸŸ åˆ¤æ–­ç»™å®šçš„ç‚¹æ˜¯å¦è¢«ä¸€ä¸ªCGRectåŒ…å« CGRectContainsPointå‡½æ•° BOOL contains = CGRectContainsPoint(CGRect rect, CGPoint point); ##åŒºåŸŸåŒ…å« åˆ¤æ–­ä¸€ä¸ªCGRectæ˜¯å¦åŒ…å«å†å¦ä¸€ä¸ªCGRecté‡Œé¢,å¸¸ç”¨ä¸Žæµ‹è¯•ç»™å®šçš„å¯¹è±¡ä¹‹é—´æ˜¯å¦åˆé‡å  BOOL contains = CGRectContainsRect(CGRect rect1, CGRect rect2); åŒºåŸŸäº¤é›† åˆ¤æ–­ä¸¤ä¸ªç»“æž„ä½“æ˜¯å¦æœ‰äº¤é”™.å¯ä»¥ç”¨CGRectIntersectsRect BOOL contains = CGRectIntersectsRect(CGRect rect1, CGRect rect2); è¾¹ç¼˜çš„åæ ‡float float_ = CGRectGetMaxX(CGRect rect);è¿”å›žçŸ©å½¢å³è¾¹ç¼˜çš„åæ ‡CGRectGetMinYè¿”å›žçŸ©å½¢é¡¶éƒ¨çš„åæ ‡CGRectGetMidXè¿”å›žçŸ©å½¢ä¸­å¿ƒXçš„åæ ‡CGRectGetMidY è¿”å›žçŸ©å½¢ä¸­å¿ƒYçš„åæ ‡CGRectGetMinX è¿”å›žçŸ©å½¢å·¦è¾¹ç¼˜çš„åæ ‡CGRectGetMaxY è¿”å›žçŸ©å½¢åº•éƒ¨çš„åæ ‡]]></content>
      <categories>
        <category>iOS</category>
        <category>UIKit</category>
        <category>NSSet</category>
      </categories>
      <tags>
        <tag>Grammar</tag>
        <tag>UIKit</tag>
        <tag>OC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNMaterial-æè´¨-Base]]></title>
    <url>%2F2018%2F02%2F15%2FSceneKit%2FGrammar%2FSCNMaterial-%E6%9D%90%E8%B4%A8%2FSCNMaterial-%E6%9D%90%E8%B4%A8-Base%2F</url>
    <content type="text"><![CDATA[SCNMaterial æè´¨:å‡ ä½•ä½“çš„å¤–è§‚,é¢œè‰²ï¼Œåå…‰å¼ºåº¦ç­‰ç­‰ â‘ å…‰ç…§æ¨¡åž‹ æåˆ°æè´¨å°±ä¸å¾—ä¸æåˆ°å…‰ç…§æ¨¡åž‹ã€‚åœ¨çŽ°å®žç”Ÿæ´»ä¸­æœ‰å¤ªé˜³ï¼Œæ—¥å…‰ç¯ç­‰å¯ä»¥äº§ç”Ÿå…‰çš„å…‰æºï¼Œå…‰ç…§å°„åœ¨ç‰©ä½“ä¸Šï¼Œä¸åŒçš„ç‰©ä½“å‘ˆçŽ°å‡ºä¸åŒçš„è´¨æ„Ÿï¼Œè¿™éƒ½æ˜¯å¾ˆå¹³å¸¸çš„åœ¨è®¡ç®—æœºé‡Œï¼Œä½¿ç”¨å…‰æºç…§å°„3Dæ¨¡åž‹ï¼Œäº§ç”Ÿå‡ºæƒ³è¦çš„è´¨æ„Ÿå°±ä¸æ˜¯é‚£ä¹ˆå¹³å¸¸ã€‚åœ¨OpenGLä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Shaderæ ¹æ®æä¾›çš„æè´¨å‚æ•°å’Œå…‰ç…§æ¥è®¡ç®—æ¯ä¸ªåƒç´ çš„é¢œè‰²ï¼Œä»Žè€Œäº§ç”Ÿç‰©ä½“è¢«å…‰ç…§å°„çš„æ„Ÿè§‰æƒ³è¦äº†è§£Shaderä¸­æ˜¯å¦‚ä½•å®žçŽ°å…‰ç…§æ¨¡åž‹çš„åŸºæœ¬å…‰ç…§å’Œé«˜çº§å…‰ç…§å…¶ä¸­æœ‰æ¶‰åŠåˆ°lambertå’Œblinnä¸¤ç§å…‰ç…§æ¨¡åž‹ â¶Lambert ä½¿ç”¨SCNMaterialæ¥è¡¨ç¤ºæè´¨ SCNMaterialçš„ä¸€ä¸ªå±žæ€§lightingModelè¡¨ç¤ºçš„å°±æ˜¯ä½¿ç”¨ä½•ç§å…‰ç…§æ¨¡åž‹ã€‚ é€‰æ‹©Lambertå…‰ç…§æ¨¡åž‹ï¼Œå¹¶ä¸”è®¾ç½®å¦‚ä¸‹å±žæ€§ï¼Œå¹¶ä¸”æŠŠmaterialèµ‹ç»™çƒå½¢å‡ ä½•ä½“geometry let material = SCNMaterial()material.lightingModel = .lambertmaterial.diffuse.contents = UIColor.redmaterial.ambient.contents = UIColor.init(white: 0.1, alpha: 1)material.locksAmbientWithDiffuse = falsegeometry.materials = [material] ä½¿ç”¨çš„ç¯å…‰åœ¨(0,6,3)å¤„ï¼Œæ‰€ä»¥çƒä½“ä¸Šé¢æ˜¯ç…§å°„åˆ°ç¯å…‰çš„ï¼Œä¸‹é¢æ˜¯ç°è‰²çš„ã€‚è¿™é‡Œæ¶‰åŠåˆ°äº†ä¸¤ä¸ªå…‰ç…§åˆ†é‡ï¼Œdiffuseå’Œambientdiffuseè¡¨ç¤ºå‡ ä½•ä½“çš„æœ¬è‰²ï¼Œæ‰€ä»¥ç¯å…‰ç…§å°„åˆ°çš„éƒ¨åˆ†å°±æ˜¯æœ¬è‰²çº¢è‰²ï¼Œæ³¨æ„ç”¨çš„ç¯å…‰æ˜¯ç™½è‰²çš„ï¼Œå¦‚æžœç¯å…‰æ˜¯å…¶ä»–é¢œè‰²ï¼Œåˆ™ä¼šå’Œå‡ ä½•ä½“çš„æœ¬è‰²æ··åˆï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªé¢œè‰²è¿›è¡Œ3ç»´å‘é‡ä¹˜æ³•ã€‚é‚£ç¯å…‰ç…§å°„ä¸åˆ°çš„åœ°æ–¹å‘¢ï¼Ÿå°±æ˜¯ambientçŽ¯å¢ƒå…‰çŽ¯å¢ƒå…‰çš„å‡ºçŽ°æ˜¯ä¸ºäº†è®©ç¯å…‰ç…§å°„ä¸åˆ°çš„åœ°æ–¹ä¸ä¼šæ˜¯å…¨é»‘ï¼Œä½ å¯ä»¥è¯•è¯•æŠŠçŽ¯å¢ƒå…‰æ”¹æˆå…¶ä»–é¢œè‰²ï¼Œçœ‹çœ‹æ¸²æŸ“ç»“æžœå¦‚ä½•ç”±äºŽPBRå…‰ç…§æ¨¡åž‹ä¸­ambientå’Œdiffuseæ˜¯é”å®šçš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠlocksAmbientWithDiffuseè®¾ç½®ä¸ºfalseï¼Œå¦åˆ™ambientåªèƒ½å’Œdiffuseå–ç›¸åŒçš„å€¼ã€‚å…³äºŽPBRå…‰ç…§æ¨¡åž‹æˆ‘ä¼šåœ¨åŽé¢çš„æ–‡ç« å•ç‹¬ä»‹ç»ã€‚æœ€åŽå°†materialèµ‹å€¼ç»™å‡ ä½•ä½“ï¼Œè¿™é‡Œmaterialæ˜¯è¢«æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œèµ‹å€¼çš„ï¼Œå¦‚æžœä½ çš„å‡ ä½•ä½“æœ‰å¤šä¸ªelementï¼Œç³»ç»Ÿä¼šæ ¹æ®é¡ºåºä¸ºæ¯ä¸ªelementæä¾›ä¸åŒçš„æè´¨ã€‚ç¬¬nä¸ªelementä¼šå¾—åˆ°ç¬¬n%æè´¨ä¸ªæ•°ä¸ªæè´¨ diffuseè¿˜å’Œæ³•çº¿ç›¸å…³ï¼Œæ³•çº¿å’Œå…‰çº¿çš„å¤¹è„šè¶Šå°ï¼Œåˆ™è¶Šäº®ã€‚æ³•çº¿å°±æ˜¯ä¸Šä¸€ç¯‡ä»£ç é‡Œçš„normalsæ€»çš„æ¥è¯´ï¼ŒLambertæ¨¡åž‹å°±æ˜¯æœ€ç»ˆé¢œè‰²=å…‰çº¿å’Œæ³•çº¿å¤¹è„šç³»æ•°å…‰ç…§é¢œè‰²æœ¬è‰²diffuse + çŽ¯å¢ƒè‰²ambient â·Blinn Blinnå…‰ç…§æ¨¡åž‹å…¶å®žå°±æ˜¯åœ¨lambertåŸºç¡€ä¸ŠåŠ ä¸Šé«˜å…‰ï¼Œæˆ‘ä»¬å°†å…‰ç…§æ¨¡åž‹ä¿®æ”¹ä¸º.blinnï¼Œå†è®¾ç½®é«˜å…‰çš„å±žæ€§ material.lightingModel = .blinnmaterial.specular.contents = UIColor.whitematerial.shininess = 1.0 å½“å…‰çº¿è¢«åå°„åŽå’Œæˆ‘ä»¬è§†çº¿çš„å¤¹è„šæ¯”è¾ƒå°çš„æ—¶å€™ï¼Œåœ¨é‡‘å±žæˆ–è€…çŽ»ç’ƒç­‰åå…‰æè´¨ä¸‹ï¼Œä¼šçœ‹åˆ°éžå¸¸äº®çš„åŒºåŸŸï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé«˜å…‰ã€‚è¶Šæ˜¯å…‰æ»‘çš„ç‰©ä½“ï¼Œé«˜å…‰åŒºåŸŸä¼šè¶Šå°ã€‚æˆ‘ä»¬ç”¨shininessæ¥è¡¨ç¤ºç‰©ä½“çš„è¡¨é¢æœ‰å¤šé—ªï¼ˆå…‰æ»‘ï¼‰ï¼Œå®ƒçš„å€¼ä»Ž0åˆ°1ã€‚å€¼è¶Šå¤§ï¼Œè¶Šå…‰æ»‘ã€‚ä¸‹é¢æ˜¯å€¼ä¸º0.2å’Œ1çš„æ•ˆæžœå›¾ã€‚material.specularè¡¨ç¤ºé«˜å…‰çš„é¢œè‰²ï¼Œä¸è¿‡æœ€ç»ˆå‘ˆçŽ°çš„é«˜å…‰é¢œè‰²å—material.specularå’Œç¯å…‰çš„é¢œè‰²å…±åŒå½±å“ï¼Œæ˜¯å®ƒä»¬é¢œè‰²å€¼çš„ä¸‰ç»´å‘é‡ç›¸ä¹˜ â‘¡æè´¨å‚æ•°çš„å–å€¼ ä¸Šé¢æˆ‘åªç»™æè´¨çš„å‚æ•°èµ‹äºˆäº†é¢œè‰²å€¼ï¼Œé™¤äº†é¢œè‰²ï¼Œè¿˜å¯ä»¥èµ‹äºˆè´´å›¾ï¼Œæˆ–è€…è¯´æ˜¯å›¾ç‰‡diffuseå’Œspecularéƒ½æ˜¯å¯ä»¥æŽ¥å—å›¾ç‰‡å¯¹è±¡çš„ã€‚æ¯”å¦‚ç»™diffuseèµ‹å€¼ä¸€å¼ åœ°çƒçš„è´´å›¾ã€‚ material.diffuse.contents = UIImage.init(named: "earth.jpg") æ•ˆæžœå¦‚ä¸‹ specularæŽ¥å—çš„è´´å›¾å°±æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯ä¸€å¼ é»‘ç™½ä¸¤è‰²çš„å›¾ã€‚å›¾ä¸­é»‘è‰²å¯¹åº”çš„åœ°æ–¹å°†æ²¡æœ‰é«˜å…‰ ä½¿ç”¨äº†specularè´´å›¾æ˜¾å¤§æµ·éƒ¨åˆ†é«˜å…‰ æ²¡æœ‰ä½¿ç”¨specularè´´å›¾ ä¸ç®¡æ˜¯ä»€ä¹ˆè´´å›¾ï¼Œéƒ½æ˜¯éœ€è¦å‡ ä½•ä½“æä¾›UVæ•°æ®çš„ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„è´´å›¾åæ ‡ï¼Œåœ¨ä¸Šä¸€ç¯‡çš„ä»£ç ä¸­æœ‰æ¶‰åŠåˆ° let uvs: [CGPoint] = [ CGPoint(x: 0, y: 1), CGPoint(x: 0, y: 0), CGPoint(x: 1, y: 0), CGPoint(x: 1, y: 1), ] let uvSource = SCNGeometrySource.init(textureCoordinates:uvs) ç³»ç»Ÿæä¾›çš„çƒå½¢å‡ ä½•ä½“å·²ç»æœ‰äº†UVæ•°æ®ï¼Œæ‰€ä»¥æ‰å¯ä»¥è½»æ¾çš„è¿›è¡Œè´´å›¾ï¼Œå…³äºŽè´´å›¾çš„æ›´å¤šä¿¡æ¯ï¼Œä¼šåœ¨åŽé¢çš„æ–‡ç« ä¸­ä»‹ç»ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥åŽ»çœ‹æˆ‘å†™çš„åŸºäºŽOpenGLçš„è´´å›¾æ–‡ç« ã€‚ â‘¢â‘£â‘¤https://www.jianshu.com/p/d71c1bfee6d3]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
        <category>SCNMaterial</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>SCNMaterial</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-Grammar-SCNCamera-ç›¸æœº-æ–‡æ¡£]]></title>
    <url>%2F2018%2F02%2F05%2FSceneKit%2FGrammar%2FSCNCamera-%E7%9B%B8%E6%9C%BA%2FSCNCamera-%E7%9B%B8%E6%9C%BA-%E6%96%87%E6%A1%A3%2F</url>
    <content type="text"><![CDATA[SCNCamera çˆ¶ç±»ä¸ºNSObject ```&gt;åˆå§‹åŒ–çš„æ–¹æ³•```swift + (instancetype)camera; ç…§ç›¸æœºå¯¹è±¡è®¾ç½®åå­— @property(nonatomic, copy, nullable) NSString *name; Xè½´æ–¹å‘çš„è§†è§’(é»˜è®¤ä¸º60åº¦) @property(nonatomic) double xFov; Yè½´æ–¹å‘çš„è§†è§’(é»˜è®¤ä¸º60åº¦) @property(nonatomic) double yFov; ç…§ç›¸æœºèƒ½ç…§åˆ°çš„æœ€è¿‘è·ç¦»(é»˜è®¤å€¼ä¸º1) @property(nonatomic) double zNear; ç…§ç›¸æœºèƒ½ç…§åˆ°çš„æœ€è¿œè·ç¦»(é»˜è®¤å€¼ä¸º100) @property(nonatomic) double zFar; è®©ç…§ç›¸æœºè‡ªåŠ¨è°ƒèŠ‚æœ€è¿‘å’Œæœ€è¿œè·ç¦»(é»˜è®¤ä¸ºå…³é—­,å¼€å¯åŽ,æ²¡æœ‰æœ€è¿‘å’Œæœ€è¿œçš„é™åˆ¶) @property(nonatomic) BOOL automaticallyAdjustsZRange NS_AVAILABLE(10_9, 8_0); æ˜¯å¦å¼€å¯æ­£æŠ•å½±æ¨¡å¼æ­£æŠ•å½±å°±æ˜¯è¯´ç‰©ä½“åœ¨è¿œç¦»æˆ–è€…é è¿‘ç…§ç›¸æœºæ˜¯,å¤§å°ä¿æŒä¸å˜ @property(nonatomic) BOOL usesOrthographicProjection; è®¾ç½®æ­£æŠ•å½±çš„æ¯”ä¾‹ (é»˜è®¤ä¸º1)è¿™é‡Œè®¾ç½®çš„æ¯”ä¾‹è¶Šå¤§,æ˜¾ç¤ºçš„å›¾åƒè¶Šå°,ä½ å¯ä»¥è¿™æ ·ç†è§£scale = å±å¹•çš„å¤§å°:å›¾ç‰‡çš„å¤§å° @property(nonatomic) double orthographicScale NS_AVAILABLE(10_9, 8_0); è®¾ç½®ç„¦è·(é»˜è®¤ä¸º10) @property(nonatomic) CGFloat focalDistance NS_AVAILABLE(10_9, 8_0); è®¾ç½®èšç„¦æ—¶ï¼Œæ¨¡ç³Šç‰©ä½“æ¨¡ç³Šåº¦(é»˜è®¤ä¸º0) @property(nonatomic) CGFloat focalBlurRadius NS_AVAILABLE(10_9, 8_0); å†³å®šè¿›å…¥ç„¦ç‚¹å’Œç¦»å¼€ç„¦ç‚¹çš„è¿‡æ¸¡é€Ÿåº¦ @property(nonatomic) CGFloat aperture NS_AVAILABLE(10_9, 8_0); ç”¨äºŽæ£€æµ‹èŠ‚ç‚¹ç¢°æ’žä½¿ç”¨ @property(nonatomic) NSUInteger categoryBitMask NS_AVAILABLE(10_10, 8_0); å‚è€ƒèµ„æ–™]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
        <category>SCNCamera</category>
      </categories>
      <tags>
        <tag>Grammar</tag>
        <tag>SceneKit</tag>
        <tag>SCNCamera</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-Reference-èµ„æ–™]]></title>
    <url>%2F2018%2F02%2F05%2FSceneKit%2FReference%2FReference-%E8%B5%84%E6%96%99%2F</url>
    <content type="text"><![CDATA[ç½‘é€Ÿå¡ã€‚é‡Œé¢æ–‡ç« å±•ä¸å¼€ ä¹Ÿå°±çœ‹çœ‹è€Œå·² å‚è€ƒå­¦ä¹ 2 åªèƒ½å­¦ä¹ è€Œå·²ï¼Œå¤ªéš¾ æ²¡æ‰¾åˆ°åšå®¢]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>Reference</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-Grammar-SCNCamera-ç›¸æœº-æ—‹è½¬SCNCameraèŠ‚ç‚¹]]></title>
    <url>%2F2018%2F02%2F05%2FSceneKit%2FGrammar%2FSCNCamera-%E7%9B%B8%E6%9C%BA%2FSCNCamera-%E7%9B%B8%E6%9C%BA-%E6%97%8B%E8%BD%ACSCNCamera%E8%8A%82%E7%82%B9%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
        <category>SCNCamera</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[RxSwift-Grammar-Observables-02]]></title>
    <url>%2F2018%2F02%2F01%2FRxSwift%2FGrammar%2F02-Observables%2F</url>
    <content type="text"><![CDATA[â¶â·â¸â¹âºâ¼â½â¾â‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨â‘©â‘ªâ‘« â‘ æ¦‚å¿µâ¶Observable Observable è¿™ä¸ªç±»å°±æ˜¯ Rx æ¡†æž¶çš„åŸºç¡€ï¼Œç§°ä¸ºå¯è§‚å¯Ÿåºåˆ—ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯å¯ä»¥å¼‚æ­¥åœ°äº§ç”Ÿä¸€ç³»åˆ—çš„ Eventï¼ˆäº‹ä»¶ï¼‰ï¼Œå³ä¸€ä¸ª Observable å¯¹è±¡ä¼šéšç€æ—¶é—´æŽ¨ç§»ä¸å®šæœŸåœ°å‘å‡º event(element : T) è¿™æ ·ä¸€ä¸ªä¸œè¥¿ Event è¿˜å¯ä»¥æºå¸¦æ•°æ®ï¼Œå®ƒçš„æ³›åž‹ å°±æ˜¯ç”¨æ¥æŒ‡å®šè¿™ä¸ª Event æºå¸¦çš„æ•°æ®çš„ç±»åž‹ æ¯ä¸€ä¸ªObservableçš„å®žä¾‹éƒ½æ˜¯ä¸€ä¸ªåºåˆ— Observableåºåˆ—ç›¸æ¯”äºŽSwiftåºåˆ—çš„å…³é”®ä¼˜åŠ¿ç‚¹åœ¨äºŽå®ƒèƒ½å¤Ÿå¼‚æ­¥åœ°æŽ¥æ”¶å…ƒç´  æœ‰äº†å¯è§‚å¯Ÿåºåˆ—ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æœ‰ä¸€ä¸ª Observerï¼ˆè®¢é˜…è€…ï¼‰æ¥è®¢é˜…å®ƒï¼Œè¿™æ ·è¿™ä¸ªè®¢é˜…è€…æ‰èƒ½æ”¶åˆ° Observable ä¸æ—¶å‘å‡ºçš„ Event Observable(ObservableType) ç­‰æ•ˆäºŽSequence observableType.subscribe(_:) æ–¹æ³•ç­‰æ•ˆäºŽSequence.makeIterator() ObservableType.subscribe(_:) æŽ¥æ”¶ä¸€ä¸ªè§‚å¯Ÿè€…ObserverTypeå‚æ•°,å®ƒå°†è¢«è®¢é˜…è‡ªåŠ¨æŽ¥æ”¶ç”±å¯è§‚å¯Ÿåˆ°çš„åºåˆ—äº‹ä»¶å’Œå…ƒç´ ï¼Œè€Œä¸æ˜¯åœ¨è¿”å›žçš„ç”Ÿæˆå™¨ä¸Šæ‰‹åŠ¨è°ƒç”¨next() å¦‚æžœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªnextäº‹ä»¶(Event.next(Element)),å®ƒè¿˜èƒ½å¤Ÿç»§ç»­å‘å‡ºæ›´å¤šçš„äº‹ä»¶ å¦‚æžœä¸€ä¸ªObservableå‘å‡ºä¸€ä¸ªerroräº‹ä»¶(Event.error(ErrorType))æˆ–è€…ä¸€ä¸ªcompletedäº‹ä»¶(Event.completed)ï¼Œé‚£ä¹ˆè¿™ä¸ªObservableåºåˆ—å°±ä¸èƒ½ç»™è®¢é˜…è€…å‘é€å…¶ä»–çš„äº‹ä»¶äº† ##â·Event äº‹ä»¶ Event çš„å®šä¹‰ public enum Event&lt;Element&gt; &#123; /// Next element is produced. case next(Element) /// Sequence terminated with an error. case error(Swift.Error) /// Sequence completed successfully. case completed&#125; Event å°±æ˜¯ä¸€ä¸ªæžšä¸¾ï¼Œä¹Ÿå°±æ˜¯è¯´ ä¸€ä¸ª Observable æ˜¯å¯ä»¥å‘å‡º 3 ç§ä¸åŒç±»åž‹çš„ Event äº‹ä»¶ next nextï¼šnext äº‹ä»¶å°±æ˜¯é‚£ä¸ªå¯ä»¥æºå¸¦æ•°æ® çš„äº‹ä»¶ï¼Œå¯ä»¥è¯´å®ƒå°±æ˜¯ä¸€ä¸ªâ€œæœ€æ­£å¸¸â€çš„äº‹ä»¶ 1--2--3---&gt; error errorï¼šerror äº‹ä»¶è¡¨ç¤ºä¸€ä¸ªé”™è¯¯ï¼Œå®ƒå¯ä»¥æºå¸¦å…·ä½“çš„é”™è¯¯å†…å®¹ï¼Œä¸€æ—¦ Observable å‘å‡ºäº† error eventï¼Œåˆ™è¿™ä¸ª Observable å°±ç­‰äºŽç»ˆæ­¢äº†ï¼Œä»¥åŽå®ƒå†ä¹Ÿä¸ä¼šå‘å‡º event äº‹ä»¶äº† -------1-----2------ x completed completedï¼šcompleted äº‹ä»¶è¡¨ç¤º Observable å‘å‡ºçš„äº‹ä»¶æ­£å¸¸åœ°ç»“æŸäº†ï¼Œè·Ÿ error ä¸€æ ·ï¼Œä¸€æ—¦ Observable å‘å‡ºäº† completed eventï¼Œåˆ™è¿™ä¸ª Observable å°±ç­‰äºŽç»ˆæ­¢äº†ï¼Œä»¥åŽå®ƒå†ä¹Ÿä¸ä¼šå‘å‡º event äº‹ä»¶äº† ------1 ------2--------3-------| â¸Observable ä¸Ž Sequenceæ¯”è¾ƒ å¯ä»¥æŠŠæ¯ä¸€ä¸ª Observable çš„å®žä¾‹æƒ³è±¡æˆäºŽä¸€ä¸ª Swift ä¸­çš„ Sequence å³ä¸€ä¸ª Observableï¼ˆObservableTypeï¼‰ç›¸å½“äºŽä¸€ä¸ªåºåˆ— Sequenceï¼ˆSequenceTypeï¼‰ ObservableType.subscribe(_:) æ–¹æ³•å…¶å®žå°±ç›¸å½“äºŽ SequenceType.generate() åŒºåˆ« Swift ä¸­çš„ SequenceType æ˜¯åŒæ­¥çš„å¾ªçŽ¯ï¼Œè€Œ Observable æ˜¯å¼‚æ­¥çš„ Observable å¯¹è±¡ä¼šåœ¨æœ‰ä»»ä½• Event æ—¶å€™ï¼Œè‡ªåŠ¨å°† Event ä½œä¸ºä¸€ä¸ªå‚æ•°é€šè¿‡ ObservableType.subscribe(_:) å‘å‡ºï¼Œå¹¶ä¸éœ€è¦ä½¿ç”¨ next æ–¹æ³•]]></content>
      <categories>
        <category>RxSwift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[RxSwift-Grammar-æ”¯æŒçš„æ“ä½œç¬¦]]></title>
    <url>%2F2018%2F01%2F31%2FRxSwift%2FGrammar%2F%E6%94%AF%E6%8C%81%E7%9A%84%E6%93%8D%E4%BD%9C%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[RxSwift æ”¯æŒçš„æ“ä½œç¬¦ åœ¨æŸäº›æƒ…å†µï¼Œç”±äºŽä¸åŒå¹³å°/å®žçŽ°æ–¹å¼ï¼Œç›¸åŒçš„æ“ä½œç¬¦æœ‰å¤šä¸ªåˆ«åï¼Œæœ‰æ—¶ç›¸åŒçš„æ“ä½œå‘½åä¹Ÿä¸ä¸€æ ·ï¼Œæœ‰äº›æ˜¯å› ä¸ºåŽ†å²çš„åŽŸå› ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›æ˜¯å› ä¸ºè¯­è¨€çš„é¢„ç•™å…³é”®å­—ã€‚ å½“ç¼ºå°‘ç¤¾åŒºå…±è¯†çš„æ—¶å€™ï¼ŒRxSwift é€šå¸¸ä¼šåŒ…å«å¤šä¸ªåˆ«åã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ“ä½œç¬¦æ˜¯æ²¡æœ‰çŠ¶æ€çš„ã€‚åˆ›å»º Observable asObservable create deferred empty error toObservable (array) interval never just of range repeatElement timer å˜æ¢ Observable buffer flatMap flatMapFirst flatMapLatest map scan window è¿‡æ»¤ Observable debounce / throttle distinctUntilChanged` elementAt filter sample skip take takeLast single è”åˆ Observable merge startWith switchLatest combineLatest zip é”™è¯¯å¤„ç†æ“ä½œç¬¦ catch retry retryWhen Observable Utility Operators delaySubscription do / doOnNext observeOn / observeSingleOn subscribe subscribeOn timeout using debug æ¡ä»¶å’Œ Bool æ“ä½œç¬¦ amb skipWhile skipUntil takeUntil takeWhile æ•°å­¦å’Œèšåˆæ“ä½œç¬¦ concat reduce / aggregate toArray è¿žæŽ¥ Observable æ“ä½œç¬¦ multicast publish refCount replay shareReplay åˆ›å»ºæ–°çš„æ“ä½œç¬¦ä¹Ÿæ˜¯ç›¸å½“ç®€å•çš„ã€‚]]></content>
      <categories>
        <category>520</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[RxSwift-Grammar-åˆ›å»ºObservableå¯¹è±¡çš„æ–¹æ³•]]></title>
    <url>%2F2018%2F01%2F31%2FRxSwift%2FGrammar%2F%E5%88%9B%E5%BB%BAObservable%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬ä½¿ç”¨â‘ never neverå°±æ˜¯åˆ›å»ºä¸€ä¸ªsequenceï¼Œä½†æ˜¯ä¸å‘å‡ºä»»ä½•äº‹ä»¶ä¿¡å· let disposeBag = DisposeBag()let neverSequence = Observable&lt;String&gt;.never() let neverSequenceSubscription = neverSequence .subscribe &#123; _ in print("This will never be printed") &#125;.addDisposableTo(disposeBag)// ç»“æžœæ˜¯ä»€ä¹ˆéƒ½ä¸æ‰“å°y â‘¡empty emptyå°±æ˜¯åˆ›å»ºä¸€ä¸ªç©ºçš„sequence,åªèƒ½å‘å‡ºä¸€ä¸ªcompletedäº‹ä»¶ let disposeBag = DisposeBag()Observable&lt;Int&gt;.empty() .subscribe &#123; event in print(event) &#125; .addDisposableTo(disposeBag) completed â‘¢just justæ˜¯åˆ›å»ºä¸€ä¸ªsequenceåªèƒ½å‘å‡ºä¸€ç§ç‰¹å®šçš„äº‹ä»¶ï¼Œèƒ½æ­£å¸¸ç»“æŸ let disposeBag = DisposeBag() Observable.just("ðŸ”´") .subscribe &#123; event in print(event) &#125; .addDisposableTo(disposeBag) next(ðŸ”´)completed â‘£of ofæ˜¯åˆ›å»ºä¸€ä¸ªsequenceèƒ½å‘å‡ºå¾ˆå¤šç§äº‹ä»¶ä¿¡å· let disposeBag = DisposeBag() Observable.of("ðŸ¶", "ðŸ±", "ðŸ­", "ðŸ¹") .subscribe(onNext: &#123; element in print(element) &#125;) .addDisposableTo(disposeBag) ðŸ¶ðŸ±ðŸ­ðŸ¹ æŠŠä¸Šé¢çš„onNext:åŽ»æŽ‰çš„è¯ï¼Œç»“æžœä¼šæ˜¯è¿™æ ·å­ï¼Œä¹Ÿæ­£å¥½å¯¹åº”äº†æˆ‘ä»¬subscribeä¸­ï¼Œsubscribeåªç›‘å¬äº‹ä»¶ next(ðŸ¶)next(ðŸ±)next(ðŸ­)next(ðŸ¹)completed â‘¤from fromå°±æ˜¯ä»Žé›†åˆä¸­åˆ›å»ºsequenceï¼Œä¾‹å¦‚æ•°ç»„ï¼Œå­—å…¸æˆ–è€…Set let disposeBag = DisposeBag() Observable.from(["ðŸ¶", "ðŸ±", "ðŸ­", "ðŸ¹"]) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) â‘¥create è‡ªå®šä¹‰å¯è§‚å¯Ÿçš„sequencecreateæ“ä½œç¬¦ä¼ å…¥ä¸€ä¸ªè§‚å¯Ÿè€…observerï¼Œç„¶åŽè°ƒç”¨observerçš„onNextï¼ŒonCompletedå’ŒonErroræ–¹æ³•ã€‚è¿”å›žä¸€ä¸ªå¯è§‚å¯Ÿçš„obserableåºåˆ— let disposeBag = DisposeBag() let myJust = &#123; (element: String) -&gt; Observable&lt;String&gt; in return Observable.create &#123; observer in observer.on(.next(element)) observer.on(.completed) return Disposables.create() &#125;&#125; myJust("ðŸ”´") .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) next(ðŸ”´)completed â‘¦range rangeå°±æ˜¯åˆ›å»ºä¸€ä¸ªsequenceï¼Œä»–ä¼šå‘å‡ºè¿™ä¸ªèŒƒå›´ä¸­çš„ä»Žå¼€å§‹åˆ°ç»“æŸçš„æ‰€æœ‰äº‹ä»¶ let disposeBag = DisposeBag()Observable.range(start: 1, count: 10) .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) next(1) next(2)next(3)next(4)next(5)next(6)next(7)next(8)next(9)next(10)completed â‘§repeatElement åˆ›å»ºä¸€ä¸ªsequenceï¼Œå‘å‡ºç‰¹å®šçš„äº‹ä»¶næ¬¡ let disposeBag = DisposeBag() Observable.repeatElement("ðŸ”´") .take(3) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) ðŸ”´ðŸ”´ðŸ”´ â‘¨generate generateæ˜¯åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿsequenceï¼Œå½“åˆå§‹åŒ–çš„æ¡ä»¶ä¸ºtrueçš„æ—¶å€™ï¼Œä»–å°±ä¼šå‘å‡ºæ‰€å¯¹åº”çš„äº‹ä»¶ let disposeBag = DisposeBag() Observable.generate( initialState: 0, condition: &#123; $0 &lt; 3 &#125;, iterate: &#123; $0 + 1 &#125; ) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) 012 â‘© deferred deferredä¼šä¸ºæ¯ä¸€ä¸ºè®¢é˜…è€…observeråˆ›å»ºä¸€ä¸ªæ–°çš„å¯è§‚å¯Ÿåºåˆ—ä¸‹é¢ä¾‹å­ä¸­æ¯æ¬¡è¿›è¡Œsubscribeçš„æ—¶å€™éƒ½ä¼šåŽ»åˆ›å»ºä¸€ä¸ªæ–°çš„deferredSequenceï¼Œæ‰€ä»¥Emittingä¼šæ‰“å°ä¸¤é let disposeBag = DisposeBag()var count = 1 let deferredSequence = Observable&lt;String&gt;.deferred &#123; print("Creating \(count)") count += 1 return Observable.create &#123; observer in print("Emitting...") observer.onNext("ðŸ¶") observer.onNext("ðŸ±") observer.onNext("ðŸµ") return Disposables.create() &#125;&#125; deferredSequence .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) deferredSequence .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) Creating 1Emitting...ðŸ¶ðŸ±ðŸµCreating 2Emitting...ðŸ¶ðŸ±ðŸµ â‘ªerror åˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿåºåˆ—ï¼Œä½†ä¸å‘å‡ºä»»ä½•æ­£å¸¸çš„äº‹ä»¶ï¼Œåªå‘å‡ºerroräº‹ä»¶å¹¶ç»“æŸ let disposeBag = DisposeBag() Observable&lt;Int&gt;.error(TestError.test) .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) error(test) â‘«doOn doOnæˆ‘æ„Ÿè§‰å°±æ˜¯åœ¨ç›´æŽ¥onNextå¤„ç†æ—¶å€™ï¼Œå…ˆæ‰§è¡ŒæŸä¸ªæ–¹æ³•ï¼ŒdoOnNext( :)æ–¹æ³•å°±æ˜¯åœ¨subscribe(onNext:)å‰è°ƒç”¨ï¼ŒdoOnCompleted(:)å°±æ˜¯åœ¨subscribe(onCompleted:)å‰é¢è°ƒç”¨çš„ let disposeBag = DisposeBag() Observable.of("ðŸŽ", "ðŸ", "ðŸŠ", "ðŸ‹") .do(onNext: &#123; print("Intercepted:", $0) &#125;, onError: &#123; print("Intercepted error:", $0) &#125;, onCompleted: &#123; print("Completed") &#125;) .subscribe(onNext: &#123; print($0) &#125;,onCompleted: &#123; print("ç»“æŸ") &#125;) .addDisposableTo(disposeBag) èµ„æ–™]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PPNetwork æ‰©å±•]]></title>
    <url>%2F2018%2F01%2F23%2FOC%2FLib%2FPPNetworkHelper%2FPPNetworkHelper%E6%89%A9%E5%B1%95%2F</url>
    <content type="text"><![CDATA[PPNetworkHelperæ‰©å±•Delete+ (void)httpDeleteWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic noLoginToken:(NSString *)noLoginToken finishedBlock:(void(^)(id responseObject))finishedBlock errorBlock:(void(^)(NSError *error))errorBlock&#123; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; //åŽå°éœ€è¦å¢žåŠ application/x-www-form-urlencoded manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@"text/html", @"application/json", @"text/javascript", @"text/json", @"text/plain", @"application/x-www-form-urlencoded",nil]; // è®¾ç½®è¯·æ±‚å¤´ [manager.requestSerializer setValue:@"application/json" forHTTPHeaderField:@"Accept"];// [manager.requestSerializer setValue:authorization forHTTPHeaderField:@"Authorization"]; [manager.requestSerializer setValue:noLoginToken forHTTPHeaderField:@"noLoginToken"]; [manager DELETE:urlStr parameters:paramDic success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; finishedBlock(responseObject); &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; finishedBlock(error); &#125;];&#125; Put+ (void)httpPutWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic noLoginToken:(NSString *)noLoginToken finishedBlock:(void(^)(id responseObject))finishedBlock errorBlock:(void(^)(NSError *error))errorBlock&#123; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;, @&quot;application/json&quot;, @&quot;text/javascript&quot;, @&quot;text/json&quot;, @&quot;text/plain&quot;, @&quot;application/x-www-form-urlencoded&quot;,nil]; // è®¾ç½®è¯·æ±‚å¤´ [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;]; //[manager.requestSerializer setValue:authorization forHTTPHeaderField:@&quot;Authorization&quot;]; [manager.requestSerializer setValue:noLoginToken forHTTPHeaderField:@&quot;noLoginToken&quot;]; [manager PUT:urlStr parameters:paramDic success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; finishedBlock(responseObject); &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; finishedBlock(error); &#125;];&#125; éœ€è¦ä¿®æ”¹AFNetworkingå¯æŽ¥æ”¶çš„Content-Type ä¿®æ”¹AFNetworkingå¯æŽ¥æ”¶çš„Content-Typeï¼Œå‰å¾€AFNetworkingæºä»£ç ç›®å½•æ‰¾åˆ°AFURLResponseSerialization.mæ–‡ä»¶å°†é‡Œé¢çš„ä»£ç ï¼šself.acceptableContentTypes =[NSSetsetWithObjects:@&quot;application/json&quot;,@&quot;text/json&quot;,@&quot;text/javascript&quot;,nil];ä¿®æ”¹ä¸ºï¼šself.acceptableContentTypes =[NSSetsetWithObjects:@&quot;application/json&quot;,@&quot;text/json&quot;,@&quot;text/javascript&quot;,@&quot;text/html&quot;,nil];PPNetworkHelperé‡Œä¹Ÿå¯ä»¥ä¿®æ”¹]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>PPNetwork</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Demo-TableViewåŒè”è¡¨]]></title>
    <url>%2F2018%2F01%2F20%2FSwift%2FDemo%2FSwift-Demo-TableView%E5%8F%8C%E8%81%94%E8%A1%A8%2F</url>
    <content type="text"></content>
      <categories>
        <category>Swift</category>
        <category>Demo</category>
        <category>TableView</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-å°„çº¿æ£€æµ‹]]></title>
    <url>%2F2018%2F01%2F19%2FSceneKit%2FGrammar%2FSceneKit-%E5%B0%84%E7%BA%BF%E6%A3%80%E6%B5%8B%2F</url>
    <content type="text"><![CDATA[#SceneKit-å°„çº¿æ£€æµ‹ touchesBeganæ–¹æ³•åœ¨3Dä¸­ä»ç„¶å¯ç”¨åœ¨3Dç©ºé—´å†…é‡‡ç”¨äº†å°„çº¿æ£€æµ‹æ–¹æ³•æ¥è¿”å›žè§¦æ‘¸åˆ°çš„ç‰©ä½“ å½“æœ‰è§¦æ‘¸äº‹ä»¶å‘ç”Ÿæ—¶ æ‹¿åˆ°ç”¨æˆ·è§¦æ‘¸åœ¨å±å¹•ä¸Šçš„ä½ç½® è½¬æ¢åˆ°SCNViewçš„åæ ‡ç³»ä¸­ å½“è§¦æ‘¸ç‚¹åœ¨SCNViewä¸Šæ—¶,å‘å°„ä¸€ä¸ªå°„çº¿,è¿”å›žä¸Žè¯¥å°„çº¿ç›¸äº¤çš„ä¸€ç³»åˆ—ç‰©ä½“ override func touchesBegan(touches: Set&lt;UITouch&gt;, withEvent event:UIEvent?) &#123;// 1 æ‹¿åˆ°è§¦æ‘¸å¯¹è±¡ let touch = touches.first! // 2 è½¬æ¢åæ ‡ç³» let location = touch.locationInView(scnView) // 3 æ‰§è¡ŒhitTest,å‘å°„å°„çº¿,è¿”å›žç›¸äº¤çš„ç‰©ä½“ let hitResults = scnView.hitTest(location, options: nil) // 4 if hitResults.count &gt; 0 &#123;// 5 å–å‡ºæœ€è¿‘çš„ç‰©ä½“ let result = hitResults.first! // 6 å¤„ç†è¯¥èŠ‚ç‚¹ handleTouchFor(result.node)&#125;&#125;]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNCamera-ç›¸æœº-Base]]></title>
    <url>%2F2018%2F01%2F19%2FSceneKit%2FGrammar%2FSCNCamera-%E7%9B%B8%E6%9C%BA%2FSCNCamera-%E7%9B%B8%E6%9C%BA-Base%2F</url>
    <content type="text"><![CDATA[SCNCamera-ç›¸æœº SCNCameraç›¸æœºæ˜¯ç”¨äºŽæ˜¾ç¤ºåœºæ™¯å†…å®¹å¿…é¡»çš„èŠ‚ç‚¹, éœ€è¦æŠŠç›¸æœºåŠ åˆ°èŠ‚ç‚¹ä¹‹ä¸Š, å†æŠŠèŠ‚ç‚¹åŠ åˆ°æ ¹èŠ‚ç‚¹ä¸Š SCNNodeåŒ…å«ç›¸æœºç‰©ä½“è§‚å¯Ÿè§†é‡Žçš„è§‚å¯Ÿç‚¹, å³ç›¸æœºçš„ ä½ç½® &amp; æ–¹å‘ ç›¸æœºçš„è§†è§’å§‹ç»ˆæ²¿ç€èŠ‚ç‚¹çš„å±€éƒ¨åæ ‡ç³»çš„è´ŸZè½´, è¦åœ¨ä¸åŒçš„åœºæ™¯æŒ‡å®šä¸åŒçš„ç›¸æœºçš„è§†é‡Ž, ä½¿ç”¨position, rotation, transfromæ¥è®¾ç½® ç›¸æœºç±»åž‹ é€è§†(perspective)æ­£äº¤(orthographic) é€è§†ç›¸æœº æ¸¸æˆä¸­ç»å¸¸ä½¿ç”¨ç¬¬ä¸€è§†è§’çš„ç›¸æœº, ä¼šæœ‰ä¸€ç§è¿‘å¤§è¿œå°çš„æ„Ÿè§‰ æ­£äº¤æŠ•å½± æŠ•å½±çº¿åž‚ç›´äºŽæŠ•å½±é¢çš„æŠ•å½±å±žäºŽæ­£äº¤æŠ•å½± ï¼Œå±žäºŽå¹³è¡ŒæŠ•å½±ä¸€ç§é è¿‘å’Œè¿œç¦», ç‰©ä½“å¤§å°éƒ½æ˜¯ç›¸åŒçš„ åŽŸç†åˆ†æžè§†è§’ åœºæ™¯: ç…§ç›¸æœºçš„ä½ç½®ä¸º(10,0,0) ç‰©ä½“Açš„ä½ç½®ä¸º(0,0,-6)ï¼ŒyFor è¡¨ç¤ºçš„æ˜¯Yè½´ä¸Šçš„è§†è§’ ,ç…§ç›¸æœºå¥½æ¯”çœ¼ç›,çœ¼ç›åœ¨Xè½´(å·¦å³çœ‹)å’ŒYè½´(ä¸Šä¸‹çœ‹)æœ‰ä¸ªæœ€å¤§è§’åº¦ï¼Œè¿™ä¸ªè§’åº¦å«åšxFovå’ŒyFovå¯¹äºŽåŒä¸€ä¸ªç‰©ä½“ï¼Œå½“ç„¶åœ¨è§†é‡Žå°çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„ä½“ç§¯å¤§ï¼Œåœ¨è§†é‡Žå¤§çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„ä½“ç§¯å° ç„¦è· è®¾å¤‡å±å¹•ä¸­çš„ç‰©ä½“éƒ½æ˜¯èƒ½è¢«ç…§ç›¸æœºçœ‹åˆ°çš„ç‰©ä½“]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
        <category>SCNCamera</category>
      </categories>
      <tags>
        <tag>Grammar</tag>
        <tag>SceneKit</tag>
        <tag>SCNCamera</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-RenderLoopæ¸²æŸ“å¾ªçŽ¯]]></title>
    <url>%2F2018%2F01%2F19%2FSceneKit%2FGrammar%2FRenderLoop%E6%B8%B2%E6%9F%93%E5%BE%AA%E7%8E%AF%2F</url>
    <content type="text"><![CDATA[SCNSceneRendererDelegateåè®® SCNViewæœ‰ä¸€ä¸ªdelegateå±žæ€§,éœ€è¦éµå®ˆSCNSceneRendererDelegateåè®®,å¯ä»¥åœ¨æ¯å¸§ç”»é¢çš„åŠ¨ç”»å’Œæ¸²æŸ“è¿‡ç¨‹ä¸­æ”¶åˆ°ä»£ç†æ–¹æ³•çš„è°ƒç”¨ ##Update ä¼šè°ƒç”¨renderer(_:updateAtTime:)ä»£ç†æ–¹æ³•,å¯ä»¥åœ¨è¿™é‡Œå†™ä¸€äº›åŸºç¡€é€»è¾‘,æ¯”å¦‚æ·»åŠ æˆ–ç§»é™¤nodeèŠ‚ç‚¹. Execute Actions&amp;Animations: æ‰§è¡Œactions(åŠ¨ä½œ)å’Œanimations(åŠ¨ç”»). Did Apply Animations: ä¼šè°ƒç”¨renderer(_: didApplyAnimationsAtTime:)æ–¹æ³•,æ­¤æ—¶åœºæ™¯ä¸­æ‰€æœ‰èŠ‚ç‚¹åœ¨è¿™ä¸€å¸§çš„actions(åŠ¨ä½œ)å’Œanimations(åŠ¨ç”»)éƒ½å·²ç»æ›´æ–°å®Œæˆ. Simulates Physics: ç‰©ç†æ•ˆæžœæ¨¡æ‹Ÿ. Did Simulate Physics: ä¼šè°ƒç”¨renderer(_:didSimulatePhysicsAtTime:)æ–¹æ³•,æ­¤æ—¶ç‰©ç†æ•ˆæžœæ¨¡æ‹Ÿå·²ç»å®Œæˆ,å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å’Œç‰©ç†æ•ˆæžœæœ‰å…³çš„ä»£ç ,æ¯”å¦‚nodeåœ¨å—åˆ°ä¸€ä¸ªåŠ›å½±å“åŽæ”¹å˜é¢œè‰². Evaluates Constraints: çº¦æŸæ›´æ–°. Will Render Scene: ä¼šè°ƒç”¨renderer(_:willRenderScene:atTime:)æ–¹æ³•,æ­¤æ—¶å³å°†è¦æ¸²æŸ“åœºæ™¯,å¯ä»¥åœ¨è¿™é‡Œå¯¹åœºæ™¯åšæœ€åŽçš„æ›´æ”¹. Renders Scene In View:SceneKit åœ¨viewä¸­æ¸²æŸ“åœºæ™¯. Did Render Scene: ä¼šè°ƒç”¨renderer(_: didRenderScene: atTime:)æ–¹æ³•,å®ƒæ ‡è¯†ç€ä¸€ä¸ªæ¸²æŸ“å¾ªçŽ¯çš„ç»“æŸ,å¯ä»¥å†™ä¸€äº›é€»è¾‘æ›´æ–°ä»£ç åœ¨è¿™é‡Œ,æ¯”å¦‚æ¸¸æˆä¸­è¡€é‡å¢žå‡ æ³¨æ„ é»˜è®¤æƒ…å†µä¸‹,å¦‚æžœä¸€ä¸ªåœºæ™¯ä¸­æ²¡æœ‰ä»»ä½•æ”¹å˜æ—¶,Scene Kitä¼šè¿›å…¥â€pausedâ€(æš‚åœ)çŠ¶æ€,æ¸²æŸ“å¾ªçŽ¯æš‚åœåŽä»£ç†æ–¹æ³•å°†ä¸ä¼šç»§ç»­è°ƒç”¨,ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µ,éœ€è¦åœ¨åˆ›å»ºSCNViewå®žä¾‹æ—¶è®¾ç½®playingå±žæ€§ä¸ºtrueå¦‚:æ¸²æŸ“å¾ªçŽ¯çš„ä»£ç†å°±ä¼šä¸€ç›´è°ƒç”¨ scnView.playing = true]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Grammar</tag>
        <tag>SceneKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-Grammar-Physicsç‰©ç†æ•ˆæžœ]]></title>
    <url>%2F2018%2F01%2F18%2FSceneKit%2FGrammar%2FSceneKit-Grammar-Physics%E7%89%A9%E7%90%86%E6%95%88%E6%9E%9C%2F</url>
    <content type="text"><![CDATA[ç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿå®žè´¨ ç‰©ç†ä»¿çœŸä¸­çš„typeå°±æ˜¯ä¸ºäº†å®šä¹‰å½“ä¸€ä¸ªç‰©ä½“å—åˆ°åŠ›çš„ä½œç”¨æ—¶è¯¥å¦‚ä½•åŽ»å“åº”. é¦–å…ˆ, åŠ›çš„ä½œç”¨çš„ç›¸äº’çš„, å½“ä¸¤ä¸ªç‰©ä½“ä¹‹é—´è¿›è¡ŒåŠ›çš„ä½œç”¨æ—¶æƒ…å†µæ˜¯å¤šæ ·çš„, å¯èƒ½ä¸¤è€…éƒ½æœ‰è¿åŠ¨, ä¹Ÿå¯èƒ½åªæœ‰å…¶ä¸­çš„ä¸€ä¸ªä¼šè¿åŠ¨, è¯•æƒ³, å¦‚æžœæ‹¿ä¸€ä¸ªé¸¡è›‹åŽ»ç¢°æ’žä¸€å—å¾ˆå¤§çš„çŸ³å¤´, å¾ˆæ˜¾ç„¶, é¸¡è›‹ç¢Žäº†, çŸ³å¤´ä¸ä¼šæœ‰ä»»ä½•å˜åŒ–(ä»¥æˆ‘ä»¬è‚‰çœ¼æ¥è§‚å¯Ÿ, çŸ³å¤´æ˜¯ä¸ä¼šæœ‰å˜åŒ–çš„, å®žè´¨ä¸ŠçŸ³å¤´æ˜¯æœ‰å˜åŒ–çš„), physics bodyç‰©ç†å½¢ä½“static é™æ€ç‰©ä½“ä¸ä¼šç§»åŠ¨ å½“å…¶ä»–ç‰©ä½“å¯èƒ½ä¸Žè¿™äº›ç‰©ä½“ç¢°æ’žæ—¶ï¼Œé™æ€ç‰©ä½“æœ¬èº«ä¸å—æ¨¡æ‹Ÿä¸­çš„ä»»ä½•åŠ›å’Œç¢°æ’žçš„å½±å“ã€‚ å¯ä»¥ä½¿ç”¨è¿™ç§ç±»åž‹çš„å¢™å£å’Œå¤§å—ä¸åŠ¨çš„å·¨çŸ³ dynamic åŠ¨åŠ›ä½“å—åŠ›é‡å’Œç¢°æ’žçš„å½±å“ å¯ä»¥ä½¿ç”¨è¿™ç§ç±»åž‹çš„ä¸œè¥¿ï¼Œå¦‚æ´»åŠ¨æ¤…å­ï¼Œæ¡Œå­å’Œæ¯å­ kinematic è¿åŠ¨ä½“ç±»ä¼¼äºŽé™æ€ä½“ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿä¸å—å½±å“ åŠ›é‡å’Œç¢°æ’ž ä½†æ˜¯å¯ä»¥ç§»åŠ¨è¿™äº›ç±»åž‹ï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿå¯èƒ½ä¸ŽåŠ¨æ€ä¸»ä½“ç›¸å†²çª å¯ä»¥ä½¿ç”¨è¿™ç§ç±»åž‹çš„èº«ä½“ï¼Œä¾‹å¦‚ç§»åŠ¨ç”µæ¢¯æˆ–å¯ä»¥æ‰“å¼€å’Œå…³é—­çš„é—¨ SCNPhysicsBody SceneKitä¸­æ‰€æœ‰çš„ç‰©ç†å¯¹è±¡éƒ½æ˜¯SCNPhysicsBodyç„¶åŽéœ€è¦æŠŠè¯¥å¯¹è±¡ç»‘å®šåˆ°SCNNodeçš„physicsBodyå®žä¾‹å±žæ€§,ç„¶åŽç‰©ç†å¼•æ“Žå°±å¯ä»¥è¿›è¡Œä»¿çœŸæ¨¡æ‹Ÿ ç‰©ç†å½¢çŠ¶å†³å®šäº†ç‰©ç†å¼•æ“Žåœ¨å¤„ç†ç¢°æ’žæ—¶çš„å½¢çŠ¶æ£€æµ‹.ä¸ºäº†è®©ç‰©ç†æ¨¡æ‹Ÿå™¨è¿è¡Œçš„æ›´å¿«,æœ€å¥½å°†ç‰©ç†å½¢çŠ¶è®¾å®šä¸ºç®€å•çš„æ–¹å½¢,çƒå½¢æˆ–å…¶ä»–ç³»ç»Ÿæä¾›çš„åŽŸå§‹å½¢çŠ¶,å¤§ç•¥åŒ¹é…èŠ‚ç‚¹å¤–è§‚å°±è¡Œäº† ç®¡ç†ç‰©ç†å¼•æ“Ž ä½¿ç”¨NodeåŽ»ç®¡ç†ä¸€ä¸ªå‡ ä½•ä½“, åŒæ ·, SCNPhysicsBodyå¯¹è±¡ä¹Ÿç®¡ç†ç‰©ç†å¼•æ“Žä¹Ÿå°±æ˜¯è¯´, æ­¤æ—¶æˆ‘ä»¬çš„nodeæ‹¥æœ‰ä¸€ä¸ªå¯ä»¥åšç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿçš„å‡ ä½•ä½“ æŒ‡å®šç‰©ä½“åº”å…·æœ‰çš„ç±»åž‹å’Œå½¢çŠ¶ åˆ›å»ºç‰©ç†ä½“æ—¶ï¼Œå¯ä»¥æŒ‡å®šç‰©ä½“åº”å…·æœ‰çš„ç±»åž‹å’Œå½¢çŠ¶å¦‚æžœä¸ºnilï¼ŒScene Kitå°†æ ¹æ®èŠ‚ç‚¹çš„å‡ ä½•å½¢çŠ¶è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå½¢çŠ¶ let geometryNode = SCNNode(geometry: geometry) //--- &gt;æ·»åŠ ä»£ç  geometryNode.physicsBody = SCNPhysicsBody(type: .dynamic, shape: nil) Scene Kitä¸­çš„sceneé»˜è®¤æ‰“å¼€äº†é‡åŠ›,å½“è®¾å®šè¿‡åŠ¨æ€å½¢ä½“åŽ,ç‰©ä½“å°±ä¼šå—åˆ°é‡åŠ›å½±å“ä¸‹è½æŽ¥ä¸‹æ¥è¿è¡Œå·¥ç¨‹, ä¼šå‘çŽ°ä¸€ä¸ªç«‹æ–¹ä½“å¾ˆå¿«çš„æŽ‰è½ä¸‹æ¥, ç„¶åŽæ¶ˆå¤±. ä¿®æ”¹ä¸‹è§†è§’ æŽ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸‹è§†è§’, è®©ç‰©ä½“å—é‡åŠ›ä½œç”¨æ›´æ˜Žæ˜¾ä¸€äº›.çœ‹åˆ°ä¸€ä¸ªç‰©ä½“ä»Žé¡¶éƒ¨æŽ‰ä¸‹æ¥ cameraNode.position = SCNVector3(x: 0, y: -5, z: 10) æŠ›ç‰©çº¿çš„è‡ªç”±è½ä½“è¿åŠ¨ è‡ªç”±è½ä½“å®žçŽ°äº†, æŽ¥ä¸‹æ¥æˆ‘ä»¬ç»™è¯¥ç‰©ä½“æ·»åŠ ä¸€ä¸ªå‘ä¸Šçš„æŽ¨åŠ›è®©ç‰©ä½“å®žçŽ°ä¸€ä¸ªæŠ›ç‰©çº¿çš„è‡ªç”±è½ä½“è¿åŠ¨åœ¨geometryNode.physicsBody = SCNPhysicsBody(type: .dynamic, shape: nil)ä¸‹é¢æ·»åŠ å¦‚ä¸‹ä»£ç  è¿™ä¸ªè®¾ç½®æˆ‘ä»¬çš„ç‰©ä½“è¦ç§»åŠ¨çš„é‡ç‚¹ä½ç½®,ä¸‹é¢ä¸‰ä¸ªå€¼å¾—æ„æ€æ˜¯, xä¸º0, ä»£è¡¨ä»Žä¸­å¿ƒå¸¦å¼€å§‹è¿åŠ¨, yå€¼ä¸ºæ­£æ•°, ä»£è¡¨å‘ä¸Š, zä¸º0ä»£è¡¨æˆ‘ä»¬çœ‹çš„è§†è§’çš„æ·±åº¦ä¸ä¼šå˜, å¦‚æžœæ˜¯è´Ÿæ•°, åˆ™ä¼šå‘çŽ°åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­, ç‰©ä½“è¶Šæ¥è¶Šå°, å¦‚æžœä¸ºæ­£, åˆ™å‘çŽ°åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­ç‰©ä½“åˆ™ä¼šè¿æ¥è¶Šå¤§ let force = SCNVector3(x: 0, y: 15 , z: 0) ä½œç”¨åŠ›çš„ä½ç½® let position = SCNVector3(x: 0.05, y: 0.05, z: 0.05) ç»™èŠ‚ç‚¹ä¸Šçš„å‡ ä½•ä½“æ·»åŠ ä¸€ä¸ªä½œç”¨åŠ›, å½“æ‚¨å‘ç‰©ç†æœºæž„æ–½åŠ åŠ›é‡æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨applyForceï¼ˆ_ï¼šatPositionï¼šimpluse :)ï¼Œå¹¶å°†SCNVector3çš„å®žä¾‹ä¼ é€’ç»™è¦æ–½åŠ è¯¥åŠ›çš„åŠ›å’Œä½ç½®ï¼Œä»¥åŠæ˜¯å¦å¼ºåˆ¶å°†è¢«ç”¨ä½œå†²åŠ¨ã€‚æ‚¨åº”ç”¨çš„åŠ›å°†å½±å“ç‰©ç†ä½“çš„çº¿æ€§å’Œè§’åŠ é€Ÿåº¦ geometryNode.physicsBody?.applyForce(force, at: position, asImpulse: true) æ³¨æ„ åˆšåˆšä¸ºäº†è§‚å¯Ÿè‡ªç”±è½ä½“æ•ˆæžœ, æˆ‘ä»¬æŠŠè§†è§’ä¿®æ”¹äº†, è®©ç‰©ä½“ä»Žé¡¶éƒ¨æŽ‰è½, çŽ°åœ¨éœ€è¦æŠŠå®ƒå†æ”¹å›žæ¥, è®©å…¶ä»Žåº•éƒ¨å‡ºçŽ° cameraNode.position = SCNVector3(x: 0, y: 5, z: 10) ç‰©ç†ä»¿çœŸä¸­çš„åŠ›ä½¿ç”¨çš„æ˜¯å‘é‡è¡¨ç¤ºçš„, å‘é‡æ˜¯æœ‰æ–¹å‘æœ‰è·ç¦»çš„ä¸€ä¸ªå€¼ forcesåŠ› åŠ›ä½¿ç”¨3ç»´å‘é‡SCNVector3è¡¨ç¤º,ä½¿ç”¨applyForce(_: atPosition: impluse:)æ–¹æ³•æ¥æ·»åŠ ä¸€ä¸ªåŠ›,å¹¶æŒ‡å®šä½ç½®.ä¸€ä¸ªåŠ›å¯ä»¥åŒæ—¶å½±å“çº¿é€Ÿåº¦å’Œè§’é€Ÿåº¦.impluseè„‰å†²çŠ¶åªä½œç”¨ä¸€æ¬¡,æ¯”å¦‚è¸¢ä¸€ä¸ªçƒ,éžè„‰å†²çŠ¶çš„åˆ™å¯ä»¥æŒç»­ä½œç”¨.Positionä½ç½®å¯ä»¥å½±å“åŠ›çš„ä½œç”¨æ•ˆæžœ torqueåŠ›çŸ© åŠ›çŸ©ä½¿ç”¨4ç»´å‘é‡SCNVector4è¡¨ç¤º,ä½¿ç”¨applyTorque(_: impulse:)æ¥æ·»åŠ ä¸€ä¸ªåŠ›çŸ©,åŠ›çŸ©åªå½±å“è§’åŠ¨é‡.x-,y-,z-æŒ‡å®šæ—‹è½¬è½´,w-æŒ‡å®šæ—‹è½¬è§’åº¦ä¹Ÿå°±æ˜¯å¤§å°å€¼Scene Kitä½¿ç”¨å›½é™…å•ä½åˆ¶,å› æ­¤è´¨é‡å•ä½æ˜¯kgåƒå…‹,åŠ›çš„å•ä½æ˜¯Nç‰›,è„‰å†²å•ä½æ˜¯N-sç‰›ç§’,åŠ›çŸ©å•ä½æ˜¯N-mç‰›ç±³.]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Grammar</tag>
        <tag>SceneKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-å‡ ä½•ç‰©ä½“-æ­£æ–¹ä½“]]></title>
    <url>%2F2018%2F01%2F18%2FSceneKit%2FGrammar%2FSceneKit-%E5%87%A0%E4%BD%95%E7%89%A9%E4%BD%93-%E6%AD%A3%E6%96%B9%E4%BD%93(Swift)%2F</url>
    <content type="text"><![CDATA[//// ViewController.swift// SceneKit-å‡ ä½•ç‰©ä½“-æ­£æ–¹ä½“(Swift)//// Created by RN on 2018/1/18.// Copyright Â© 2018å¹´ YKK. All rights reserved.// import UIKitimport SceneKitclass ViewController: UIViewController {//æ˜¾ç¤º3Dåœºæ™¯çš„è§†å›¾fileprivate lazy var scnView : SCNView = {let scnView = SCNView()scnView.showsStatistics = true// 2scnView.allowsCameraControl = true// 3scnView.autoenablesDefaultLighting = truereturn scnView}() //åœºæ™¯scenefileprivate lazy var scnScene : SCNScene = {let scnScene = SCNScene()//è®¾ç½®èƒŒæ™¯å›¾ç‰‡, GeometryFighter.scnassetsæ˜¯æˆ‘è®¾ç½®çš„ä¸€ä¸ªèµ„æºåº“, å­˜æ”¾3Dèµ„æºçš„// scnScene.background.contents = â€œGeometryFighter.scnassets/Textures/Background_Diffuse.pngâ€return scnScene}() //3. æ·»åŠ ä¸€ä¸ªSCNCamerafileprivate lazy var cameraNode : SCNNode = {// åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹let cameraNode = SCNNode()// ç»™ç›¸æœºèŠ‚ç‚¹èµ‹å€¼ç›¸æœºcameraNode.camera = SCNCamera()// è®¾ç½®è§†è§’çš„ä½ç½®, x:0,y:0å°±æ˜¯ä¸­å¿ƒç‚¹, zåªä»£è¡¨è§‚å¯Ÿçš„è·ç¦», zè¶Šå¤§, ç‰©ä½“è¶Šå°cameraNode.position = SCNVector3(x: 0, y: 0, z: 10)return cameraNode}() //4.å‡ ä½•ç‰©ä½“fileprivate lazy var geometryNode : SCNNode = {//ç”»ä¸€ä¸ªç«‹æ–¹ä½“let shape = SCNBox(width: 1.0,height: 1.0,length: 1.0,chamferRadius: 0.0)//æŠŠç«‹æ–¹ä½“ç»‘å®šåˆ°èŠ‚ç‚¹let geometryNode = SCNNode(geometry: shape)return geometryNode}() override func viewDidLoad() {super.viewDidLoad()//ç»™å½“å‰çš„SCNView èµ‹å€¼SCNScenescnView.scene = scnScene// æŠŠç›¸æœºçš„èŠ‚ç‚¹æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹é‡Œé¢scnScene.rootNode.addChildNode(cameraNode)//æŠŠèŠ‚ç‚¹æ·»åŠ åˆ°åœºæ™¯scnScene.rootNode.addChildNode(geometryNode)}//æŽ§åˆ¶å±å¹•æ—‹è½¬override var shouldAutorotate: Bool {return true}//éšè—çŠ¶æ€æ override var prefersStatusBarHidden: Bool {return true} }]]></content>
      <categories>
        <category>SceneKit</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>SceneKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-æž„å»ºç®€å•å‡ ä½•æ¨¡åž‹]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSceneKit-%E6%9E%84%E5%BB%BA%E7%AE%80%E5%8D%95%E5%87%A0%E4%BD%95%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[å±žæ€§æž„å»º3DèŠ‚ç‚¹@property (nonatomic,strong) SCNScene *scene; //åœºæ™¯ï¼Œå­˜æ”¾å…ƒç´ èŠ‚ç‚¹@property (nonatomic,strong) SCNView *sceneView; //ç”¨æ¥å±•ç¤º3Då›¾å½¢çš„æŽ§ä»¶@property (nonatomic,strong) SCNNode *lightNode; //çŽ¯å¢ƒå…‰Node@property (nonatomic,strong) SCNNode *assistLightNode; //å¢žåŠ ä¸€ä¸ªå‰¯å…‰@property (nonatomic,strong) SCNNode *caremaNode; //æ·»åŠ æ‘„åƒæœºèŠ‚ç‚¹ ##åˆ›å»ºå‡ ä½•æ¨¡åž‹ @property (nonatomic,strong) SCNGeometry *carbonAtom; // C åŽŸå­@property (nonatomic,strong) SCNGeometry *hydrogenAtom; // H åŽŸå­@property (nonatomic,strong) SCNGeometry *oxyGenAtom; // O åŽŸå­@property (nonatomic,strong) SCNGeometry *fluorAtom; // F åŽŸå­ æ·»åŠ åœºæ™¯åŠ è½½[self addScene]; æž„å»ºåœºæ™¯è®¾ç½®èŠ‚ç‚¹- (void)addScene&#123;// SCNBox *box = [SCNBox boxWithWidth:10 height:10 length:10 chamferRadius:1];// SCNNode *node = [SCNNode nodeWithGeometry:box]; //æ·»åŠ æ‘„åƒæœº //[self.scene.rootNode addChildNode:self.caremaNode]; //æ·»åŠ çŽ¯å¢ƒå‰¯å…‰ [self.scene.rootNode addChildNode:self.assistLightNode]; //æ·»åŠ çŽ¯å¢ƒå…‰//[self.scene.rootNode addChildNode:self.lightNode];//æ·»åŠ çŽ¯å¢ƒå…‰ //æ·»åŠ æ­£æ–¹ä½“ // [self.scene.rootNode addChildNode:node]; //å°†åˆ›å»ºçš„åŽŸå­èŠ‚ç‚¹æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹ [self.scene.rootNode addChildNode:[self addGeometryToSCNNode]]; self.sceneView.scene = self.scene;&#125; å‡ ä½•ä½“æ·»åŠ åˆ°èŠ‚ç‚¹- (SCNNode *)addGeometryToSCNNode&#123; //Creates and initializes a node instance with the specified geometry attached //æŒ‡å®šå‡ ä½•å›¾å½¢æ·»åŠ åˆ°èŠ‚ç‚¹ SCNNode *carbonNode = [SCNNode nodeWithGeometry:[self carbonAtom]]; SCNNode *hydrogenNode = [SCNNode nodeWithGeometry:[self hydrogenAtom]]; SCNNode *oxygenNode = [SCNNode nodeWithGeometry:[self oxyGenAtom]]; SCNNode *fluorNode = [SCNNode nodeWithGeometry:[self fluorAtom]]; //èŠ‚ç‚¹ä½ç½® carbonNode.position = SCNVector3Make(-6, 0, 0); hydrogenNode.position = SCNVector3Make(-2, 0, 0); oxygenNode.position = SCNVector3Make(2, 0, 0); fluorNode.position = SCNVector3Make(6, 0, 0); //å­èŠ‚ç‚¹æ·»åŠ åˆ°æŸä¸ªçˆ¶èŠ‚ç‚¹ SCNNode *tempNode = [SCNNode node]; [tempNode addChildNode:carbonNode]; [tempNode addChildNode:hydrogenNode]; [tempNode addChildNode:oxygenNode]; [tempNode addChildNode:fluorNode]; return tempNode;&#125; GetetrSCNView- (SCNView *)sceneView&#123; if (!_sceneView) &#123; _sceneView = [[SCNView alloc]initWithFrame:self.view.bounds]; _sceneView.center = self.view.center; _sceneView.backgroundColor = [UIColor grayColor]; _sceneView.allowsCameraControl = YES; _sceneView.autoenablesDefaultLighting = YES; [self.view addSubview:_sceneView]; &#125; return _sceneView;&#125; SCNScene- (SCNScene *)scene&#123; if (!_scene) &#123; _scene =[SCNScene scene]; &#125; return _scene;&#125; çŽ¯å¢ƒå…‰ æ·»åŠ ä¸€ä¸ªçŽ¯å¢ƒå…‰nodeå‰åŽéƒ½æ˜¯äº®æ»´ - (SCNNode *)lightNode&#123; if (!_lightNode) &#123; _lightNode = [SCNNode node]; _lightNode.light = [SCNLight light]; _lightNode.light.type = SCNLightTypeAmbient; _lightNode.light.color = [UIColor colorWithWhite:0.4 alpha:1.0]; //_lightNode.light.color = [UIColor redColor]; &#125; return _lightNode;&#125; å¢žåŠ ä¸€ä¸ªå‰¯å…‰ SCNLightTypeDirectional å¹³è¡Œå…‰ SCNLightTypeSpot èšç„¦å…‰å°çƒå‰è¡¨é¢äº®ã€‚åŽè¡¨é¢æš— - (SCNNode *)assistLightNode&#123; if (!_assistLightNode) &#123; _assistLightNode = [SCNNode node]; _assistLightNode.light = [SCNLight light]; _assistLightNode.light.type = SCNLightTypeOmni;//åƒå„æ–¹å‘å‘å‡ºçš„å…‰ç…§å¼ºåº¦ä¸€æ · _assistLightNode.light.color = [UIColor colorWithWhite:0.75 alpha:1]; _assistLightNode.light.color = [UIColor redColor]; _assistLightNode.position = SCNVector3Make(0, -50, 50);//è®¾ç½®å…‰æº &#125; return _assistLightNode;&#125; æ·»åŠ æ‘„åƒæœºèŠ‚ç‚¹- (SCNNode *)caremaNode&#123; if (!_caremaNode) &#123; _caremaNode = [SCNNode node]; _caremaNode.camera = [SCNCamera camera];//Creates and returns a camera instance. _caremaNode.position = SCNVector3Make(0, 0, 50); &#125; return _caremaNode;&#125; ##å‡ ä½•æ¨¡åž‹-C åŽŸå­ SCNSphere æœ‰åŠå¾„å±žæ€§ï¼Œç±»ä¼¼iOS å‰ªåˆ‡ - (SCNGeometry *)carbonAtom&#123; if(!_carbonAtom)&#123; SCNSphere *phere = [SCNSphere sphereWithRadius:1.7]; phere.firstMaterial.diffuse.contents = [UIColor darkGrayColor]; phere.firstMaterial.specular.contents = [UIColor whiteColor]; _carbonAtom = phere; &#125; return _carbonAtom;&#125; ##å‡ ä½•æ¨¡åž‹ - H åŽŸå­ contents æ‰©æ•£de å†…å®¹ é¢œè‰²(NSColor, UIColor, CGColorRef)ï¼Œä¸€ä¸ªå›¾åƒ(NSImage, UIImage, CGImageRef)ï¼Œä¸€ä¸ªå±‚(CALayer)ï¼Œä¸€ä¸ªè·¯å¾„(NSStringæˆ–NSURL)ï¼Œä¸€ä¸ªSpriteKitåœºæ™¯(SKScene)ï¼Œä¸€ä¸ªçº¹ç†(skçº¹ç†ï¼Œid&lt; mtlçº¹ç†&gt;æˆ–GLKTextureInfo)ï¼Œæˆ–ä¸€ä¸ªæµ®åŠ¨å€¼åœ¨0åˆ°1 (NSNumber)ä¹‹é—´çš„é‡‘å±žå’Œç²—ç³™åº¦å±žæ€§ - (SCNGeometry *)hydrogenAtom&#123; if (!_hydrogenAtom) &#123; SCNSphere *sphere = [SCNSphere sphereWithRadius:1.2]; sphere.firstMaterial.diffuse.contents = [UIColor lightGrayColor]; //specular - é•œé¢ sphere.firstMaterial.specular.contents = [UIColor whiteColor]; _hydrogenAtom = sphere; &#125; return _hydrogenAtom;&#125; å‡ ä½•æ¨¡åž‹ - O åŽŸå­- (SCNGeometry *)oxyGenAtom&#123; if (!_oxyGenAtom) &#123; SCNSphere *sphere = [SCNSphere sphereWithRadius:1.52]; sphere.firstMaterial.diffuse.contents = [UIColor redColor]; sphere.firstMaterial.specular.contents = [UIColor whiteColor]; _oxyGenAtom = sphere; &#125; return _oxyGenAtom;&#125; ##å‡ ä½•æ¨¡åž‹ - F åŽŸå­ - (SCNGeometry *)fluorAtom&#123; if (!_fluorAtom) &#123; SCNSphere *sphere = [SCNSphere sphereWithRadius:1.47]; sphere.firstMaterial.diffuse.contents = [UIColor yellowColor]; sphere.firstMaterial.specular.contents = [UIColor whiteColor]; _fluorAtom = sphere; &#125; return _fluorAtom;&#125;]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNNode]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSceneKit-SCNNode%2F</url>
    <content type="text"><![CDATA[SCNNode SCNNode : NSObjectabstract SCNNode is the model class for node-tree object å±žæ€§ name NSString light SCNLight camera SCNGeometry skinner SCNSkinner æŽ§åˆ¶çš®è‚¤å‡ ä½•å›¾å½¢çš„å˜å½¢ morpher SCNMorpher æŽ§åˆ¶å˜å½¢çš„å‡ ä½•å›¾å½¢ transform SCNMatrix4 å˜æ¢ worldTransform SCNMatrix4 ä¸–ç•Œè½¬æ¢ åœ¨ä¸–ç•Œç©ºé—´ä¸­çš„è½¬æ¢(ç›¸å¯¹äºŽåœºæ™¯çš„æ ¹èŠ‚ç‚¹) position SCNVector3 worldPosition SCNVector3 rotation SCNVector4 orientation SCNQuaternion worldOrientation SCNQuaternion eulerAngles SCNVector3 scale SCNVector3 pivot SCNMatrix4 hidden BOOL å¦æ˜¾ç¤º dedault NO opacity CGFloat ä¸é€æ˜Žåº¦ Default is 1 castsShadow BOOL æŠ•ä¸‹é˜´å½± Defaults to YES movabilityHint SCNMovabilityHint å¯åŠ¨æ€§æš—ç¤º ä¸ŽSceneKitçš„å‘ˆçŽ°ç³»ç»Ÿæ²Ÿé€šä½ æƒ³å¦‚ä½•åœ¨åœºæ™¯ä¸­ç§»åŠ¨å†…å®¹å®ƒä¸ä¼šå½±å“æ‚¨æ›´æ”¹èŠ‚ç‚¹ä½ç½®æˆ–å‘èŠ‚ç‚¹æ·»åŠ åŠ¨ç”»æˆ–ç‰©ç†çš„èƒ½åŠ›é»˜è®¤ä¸ºSCNMovabilityHintFixed parentNode SCNNode çˆ¶èŠ‚ç‚¹ childNodes NSArray å­èŠ‚ç‚¹æ•°ç»„ æ–¹æ³• åŠ è½½ + (instancetype)node; åŠ è½½geometryï¼š å‡ ä½•æ¨¡åž‹ + (SCNNode *)nodeWithGeometry:(nullable SCNGeometry *)geometry; å…‹éš† - (instancetype)clone; è¢«å…‹éš† - (instancetype)flattenedClone ä¸–ç•Œè½¬æ¢|åœ¨ä¸–ç•Œç©ºé—´ä¸­çš„è½¬æ¢(ç›¸å¯¹äºŽåœºæ™¯çš„æ ¹èŠ‚ç‚¹) - (void)setWorldTransform:(SCNMatrix4)worldTransform; åŠ å­èŠ‚ç‚¹ - (void)addChildNode:(SCNNode *)child; æ ¹æ®indexåŠ å­èŠ‚ç‚¹ - (void)insertChildNode:(SCNNode *)child atIndex:(NSUInteger)index; ä»Žçˆ¶èŠ‚ç‚¹ç§»é™¤ - (void)removeFromParentNode; æ–°çš„å­èŠ‚ç‚¹æ›¿æ¢æŸä¸ªèŠ‚ç‚¹ - (void)replaceChildNode:(SCNNode *)oldChild with:(SCNNode *)newChild; Returns the first node found in the node tree with the specified nameè¿”å›žåœ¨èŠ‚ç‚¹æ ‘ä¸­æ‰¾åˆ°å…·æœ‰æŒ‡å®šåç§°çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹recursively é€’å½’ - (nullable SCNNode *)childNodeWithName:(NSString *)name recursively:(BOOL)recursively; å­èŠ‚ç‚¹é€šè¿‡æµ‹è¯•Returns the child nodes of the receiver that passes a test in a given Block.è¿”å›žåœ¨ç»™å®šå—ä¸­é€šè¿‡æµ‹è¯•çš„æŽ¥æ”¶æ–¹çš„å­èŠ‚ç‚¹ predicate:è°“è¯ - (NSArray&lt;SCNNode *&gt; *)childNodesPassingTest:(NS_NOESCAPE BOOL (^)(SCNNode *child, BOOL *stop))predicate; &gt; ç³»ç»Ÿæ–‡æ¡£å¤ªå¤šäº†ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNMaterial- æè´¨]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSceneKit-SCNMaterial%2F</url>
    <content type="text"><![CDATA[SCNMaterial- æè´¨ SCNMaterial : NSObject åˆå§‹åŒ–+ (instancetype)material; å±žæ€§ Properties name NSString diffuse SCNMaterialProperty æ‰©æ•£ æ¼«å°„å±žæ€§æŒ‡å®šä»Žè¡¨é¢æ¼«åå°„çš„å…‰é‡æ¼«å°„å…‰åœ¨å„ä¸ªæ–¹å‘ä¸Šéƒ½æ˜¯å‡åŒ€åå°„çš„ï¼Œå› æ­¤ä¸Žè§†ç‚¹æ— å…³ ambient SCNMaterialProperty çŽ¯å¢ƒ çŽ¯å¢ƒå±žæ€§æŒ‡å®šè¦åå°„çš„çŽ¯å¢ƒå…‰çš„æ•°é‡è¿™ä¸ªå±žæ€§å¯¹æ²¡æœ‰çŽ¯å¢ƒå…‰çš„åœºæ™¯æ²¡æœ‰è§†è§‰æ•ˆæžœå¦‚æžœå°†locksambientwithæ‰©æ•£è®¾ç½®ä¸ºYESï¼Œåˆ™è®¾ç½®çŽ¯å¢ƒæ²¡æœ‰æ•ˆæžœ specular SCNMaterialProperty é•œé¢ é•œå­çš„å±žæ€§æŒ‡å®šå…‰çš„æ•°é‡ä»¥ç±»ä¼¼é•œå­çš„æ–¹å¼åå°„å½“è§†ç‚¹ä¸Žåå°„å…‰çš„æ–¹å‘ä¸€è‡´æ—¶ï¼Œé•œé¢å¼ºåº¦å¢žåŠ  emission SCNMaterialProperty å‘å°„ å‘å°„å±žæ€§æŒ‡å®šææ–™å‘å‡ºçš„å…‰é‡è¿™ç§å‘å°„ä¸ä¼šç…§äº®åœºæ™¯ä¸­çš„å…¶ä»–è¡¨é¢ transparent SCNMaterialProperty é€æ˜Ž é€æ˜Žå±žæ€§æŒ‡å®šææ–™çš„é€æ˜ŽåŒºåŸŸ reflective SCNMaterialProperty åå°„ åå°„ç‰¹æ€§æŒ‡å®šäº†è¡¨é¢çš„åå°„çŽ‡è¡¨é¢ä¸ä¼šçœŸå®žåœ°åæ˜ åœºæ™¯ä¸­çš„å…¶ä»–ç‰©ä½“è¿™ä¸ªå±žæ€§å¯ä»¥ä½œä¸ºä¸€ä¸ªçƒä½“æ˜ å°„æ¥åæ˜ ä¸€ä¸ªé¢„å…ˆè®¡ç®—çš„çŽ¯å¢ƒ multiply SCNMaterialProperty ä¹˜æ³• ä¹˜æ³•å±žæ€§æŒ‡å®šç”¨äºŽå°†è¾“å‡ºç‰‡æ®µç›¸ä¹˜çš„é¢œè‰²æˆ–å›¾åƒè®¡ç®—å‡ºçš„ç‰‡æ®µä¸Žç›¸ä¹˜å€¼ç›¸ä¹˜ä»¥äº§ç”Ÿæœ€åŽçš„ç‰‡æ®µæ­¤å±žæ€§å¯ç”¨äºŽé˜´å½±æ˜ å°„ã€æ·¡å‡ºæˆ–tint 3då¯¹è±¡ normal SCNMaterialProperty æ™®é€š æ™®é€šå±žæ€§æŒ‡å®šè¡¨é¢æ–¹å‘å½“ä¸€ä¸ªå›¾åƒè®¾ç½®åœ¨æ­£å¸¸çš„å±žæ€§ä¸Šæ—¶ï¼Œæ¯ä¸ªåƒç´ çš„ææ–™ä¼šè‡ªåŠ¨è¢«ç‚¹äº®è®¾ç½®é¢œè‰²æ²¡æœ‰æ•ˆæžœ displacement SCNMaterialProperty ä½ç§» ambientOcclusion SCNMaterialProperty çŽ¯å¢ƒé—­å¡ž æŒ‡å®šäº†è¡¨é¢çš„çŽ¯å¢ƒé®æŒ¡çŽ¯å¢ƒé®æŒ¡ä¸ŽçŽ¯å¢ƒå…‰ç›¸ä¹˜ï¼Œç»“æžœè¢«æ·»åŠ åˆ°ç…§æ˜Žè´¡çŒ®è¿™ä¸ªå±žæ€§å¯¹æ²¡æœ‰çŽ¯å¢ƒå…‰çš„åœºæ™¯æ²¡æœ‰è§†è§‰æ•ˆæžœå½“çŽ¯å¢ƒé®æŒ¡å›¾è¢«è®¾ç½®æ—¶ï¼ŒçŽ¯å¢ƒå±žæ€§è¢«å¿½ç•¥ã€‚ selfIllumination SCNMaterialProperty çº¹ç†æˆ–é¢œè‰² å±žæ€§æŒ‡å®šä¸€ä¸ªçº¹ç†æˆ–é¢œè‰²ï¼Œå®ƒè¢«æ·»åŠ åˆ°è¡¨é¢çš„ç…§æ˜Žè´¡çŒ®ä¸­å½“è®¾ç½®ä¸€ä¸ªè‡ªå¡«ä½“æ—¶ï¼Œä¼šå¿½ç•¥å‘å°„ç‰¹æ€§ metalness SCNMaterialProperty é‡‘å±žå±žæ€§ é‡‘å±žå±žæ€§æŒ‡å®šææ–™è¡¨é¢çš„é‡‘å±žæè´¨è¾ƒä½Žçš„å€¼(è¾ƒæ·±çš„é¢œè‰²)ä½¿ææ–™çœ‹èµ·æ¥æ›´åƒä»‹è´¨è¡¨é¢è¾ƒé«˜çš„å€¼(è¾ƒäº®çš„é¢œè‰²)ä¼šä½¿è¡¨é¢çœ‹èµ·æ¥æ›´æœ‰é‡‘å±žæ„Ÿæ­¤å±žæ€§æ—¶æ‰ä¼šè¢«â€œlightingModelNameâ€æ˜¯â€œSCNLightingModelPhysicallyBasedâ€ã€‚ roughness SCNMaterialProperty ç²—ç³™åº¦ ç²—ç³™åº¦å±žæ€§æŒ‡å®šè¡¨é¢å¹³æ»‘åº¦è¾ƒä½Žçš„é¢œè‰²(è¾ƒæ·±çš„é¢œè‰²)ä½¿ææ–™çœ‹èµ·æ¥é—ªé—ªå‘äº®ï¼Œæœ‰æ˜Žç¡®çš„é«˜å…‰è¾ƒé«˜çš„å€¼(è¾ƒäº®çš„é¢œè‰²)ä¼šå¯¼è‡´é«˜å…‰çš„é«˜å…‰ï¼Œä½¿ææ–™çš„å¼¥æ•£æ€§å˜å¾—æ›´å¼ºåå°„æ€§æ­¤å±žæ€§æ—¶æ‰ä¼šè¢«â€œlightingModelNameâ€æ˜¯â€œSCNLightingModelPhysicallyBasedâ€ shininess CGFloat äº®åº¦å€¼ é»˜è®¤ä¸º1.0 transparency CGFloat é€æ˜Žåº¦ é»˜è®¤ä¸º1.0 lightingModelName SCNLightingModel æ˜Žæ¨¡åž‹åç§° å†³å®šäº†æŽ¥æ”¶æœºçš„ç…§æ˜Žæ¨¡åž‹è¯·å‚é˜…ä¸Šé¢çš„ç…§æ˜Žæ¨¡åž‹åˆ—è¡¨é»˜è®¤ä¸ºSCNLightingModelBlinn litPerPixel BOOL å¦æŒ‰åƒç´ ç‚¹äº® é»˜è®¤YES doubleSided BOOL æ˜¯å¦ä¸ºåŒé¢ é»˜è®¤NO fillMode SCNFillMode æ …æ ¼åŒ– é»˜è®¤ä¸ºSCNFillModeFill cullMode SCNCullMode ç­›é€‰æ¨¡å¼ é»˜è®¤ä¸ºSCNCullBack transparencyMode SCNTransparencyMode é€æ˜Žæ¨¡å¼ é€æ˜Žæ¨¡å¼è§ä¸Šæ–‡é»˜è®¤ä¸ºSCNTransparencyModeDefault locksAmbientWithDiffuse BOOL çŽ¯å¢ƒå±žæ€§è‡ªåŠ¨åŒ¹é…æ‰©æ•£å±žæ€§ é»˜è®¤å€¼ä¸ºYES writesToDepthBuffer BOOL æ˜¯å¦å†™å…¥åˆ°æ·±åº¦ç¼“å†²åŒº é»˜è®¤å€¼ä¸ºYES colorBufferWriteMask SCNColorMask æ˜¯å¦å†™å…¥é¢œè‰²ç¼“å†²åŒº é»˜è®¤ä¸ºSCNColorMaskAll readsFromDepthBuffer BOOL æ˜¯å¦ä»Žæ·±åº¦ç¼“å†²åŒºè¯»å– é»˜è®¤å€¼ä¸ºYES fresnelExponent CGFloat yè²æ¶…è€³æŒ‡æ•° é»˜è®¤ä¸º0.0åå°„çŽ‡ç‰¹æ€§çš„å½±å“fresnelæŒ‡æ•°æ”¹å˜äº†åå°„çŽ‡çš„æŒ‡æ•°æŒ‡æ•°è¶Šå¤§ï¼Œåå°„å°±è¶Šé›†ä¸­åœ¨è¾¹ç¼˜ blendMode SCNBlendMode æ··åˆæ¨¡å¼ é»˜è®¤ä¸ºSCNBlendModeAlpha]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>SCNMaterial</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNGeometry-SCNSphere-å‡ ä½•-çƒ]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSCNGeometry%2FSCNGeometry-SCNSphere-%E5%87%A0%E4%BD%95-%E7%90%83%2F</url>
    <content type="text"><![CDATA[Sphere å‡ ä½•-çƒ SCNPlane : SCNGeometry åˆå§‹åŒ– radius:çƒçš„åŠå¾„ + (instancetype)sphereWithRadius:(CGFloat)radius; å±žæ€§ radius CGFloat çƒçš„åŠå¾„ é»˜è®¤å€¼æ˜¯0.5 geodesic BOOL æµ‹åœ°çº¿ è¡¨ç¤ºå‡ ä½•æ˜¯ä¸€ä¸ªå²©çŸ³åœˆé»˜è®¤å€¼ä¸ºNO segmentCount NSInteger æ®µæ•° åœ¨ä¸¤ä¸ªçƒåæ ‡ä¸‹çš„çº¿æ®µæ•°ã€‚å¯ä»¥åšæˆåŠ¨ç”»å¦‚æžœå€¼å°äºŽ3ï¼Œåˆ™è¯¥è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚é»˜è®¤å€¼æ˜¯24 ä½¿ç”¨ åˆ›å»º C åŽŸå­æ¨¡åž‹ - (SCNGeometry *) carbonAtom&#123; SCNSphere *phere = [SCNSphere sphereWithRadius:1.7]; phere.firstMaterial.diffuse.contents = [UIColor darkGrayColor]; phere.firstMaterial.specular.contents = [UIColor whiteColor]; return phere;&#125; åŽŸå­æ·»åŠ åˆ°èŠ‚ç‚¹ SCNNode *tempNode = [SCNNode node];SCNNode *carbonNode = [SCNNode nodeWithGeometry:[self carbonAtom]];[tempNode addChildNode:carbonNode]; å°†åˆ›å»ºçš„åŽŸå­èŠ‚ç‚¹æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹ [self.scene.rootNode addChildNode:[self AddFunction]];]]></content>
      <categories>
        <category>SceneKit</category>
        <category>SCNGeometry</category>
        <category>SCNSphere</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNGeometry]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSceneKit-SCNGeometry%2F</url>
    <content type="text"><![CDATA[SCNGeometry å‡ ä½•åˆ›å»º åˆ›å»ºå¹¶è¿”å›žä¸€ä¸ªç©ºçš„å‡ ä½•å¯¹è±¡ + (instancetype)geometry; å±žæ€§ name NSString materials NSArray ææ–™æ•°ç»„ firstMaterial SCNMaterial å†³å®šå‡ ä½•çš„ç¬¬ä¸€ä¸ªææ–™å¦‚æžœå‡ ä½•å›¾å½¢æ²¡æœ‰æè´¨ï¼Œè¿”å›žnilå®ƒç­‰ä»·äºŽä¸Šé¢çš„â€œææ–™â€æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå¯¹è±¡]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNScene-åœºæ™¯]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSCNScene-%E5%9C%BA%E6%99%AF%2FSCNScene%2F</url>
    <content type="text"><![CDATA[SCNScene-åœºæ™¯åˆå§‹åŒ– SCNScene : NSObject + (instancetype)scene; å±žæ€§ æ ¹èŠ‚ç‚¹ @property(nonatomic, readonly) SCNNode *rootNode; ç‰©ç†ä¸–ç•Œ æ¯ä¸ªåœºæ™¯è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç‰©ç†ä¸–ç•Œå¯¹è±¡æ¥æ¨¡æ‹Ÿåœºæ™¯ä¸­çš„èŠ‚ç‚¹ç‰©ç† ä½¿ç”¨æ­¤å±žæ€§å¯è®¿é—®åœºæ™¯çš„å…¨å±€ç‰©ç†å±žæ€§ï¼Œä¾‹å¦‚é‡åŠ› è¦å°†ç‰©ç†æ·»åŠ åˆ°ç‰¹å®šçš„èŠ‚ç‚¹ï¼Œè¯·å‚é˜…ç‰©ç†ä½“ @property(nonatomic, readonly) SCNPhysicsWorld *physicsWorld èƒŒæ™¯ï¼ˆææ–™å±žæ€§ï¼‰ @property(nonatomic, readonly) SCNMaterialProperty *background ç…§æ˜ŽçŽ¯å¢ƒ @property(nonatomic, readonly) SCNMaterialProperty *lightingEnvironment é›¾å¼€å§‹è·ç¦» @property(nonatomic) CGFloat fogStartDistance ; é›¾ç»“æŸè·ç¦» @property(nonatomic) CGFloat fogEndDistance ; é›¾å¯†åº¦æŒ‡æ•° @property(nonatomic) CGFloat fogDensityExponent API_AVAILABLE(macos(10.10)); é›¾çš„é¢œè‰² @property(nonatomic, retain) id fogColor ; åœé¡¿ @property(nonatomic, getter=isPaused) BOOL paused API å…³é”®å±žæ€§ abstract:æ£€ç´¢åœºæ™¯å±žæ€§ æŒ‡å®šè¦è¯»å–çš„å±žæ€§çš„NSStringå¯¹è±¡ - (nullable id)attributeForKey:(NSString *)key; attributeForKey - (void)setAttribute:(nullable id)attribute forKey:(NSString *)key; name + (nullable instancetype)sceneNamed:(NSString *)name name + (nullable instancetype)sceneNamed:(NSString *)name inDirectory:(nullable NSString *)directory options:(nullable NSDictionary&lt;SCNSceneSourceLoadingOption, id&gt; *)options ; url + (nullable instancetype)sceneWithURL:(NSURL *)url options:(nullable NSDictionary&lt;SCNSceneSourceLoadingOption, id&gt; *)options error:(NSError **)error; writeToURL - (BOOL)writeToURL:(NSURL *)url options:(nullable NSDictionary&lt;NSString *, id&gt; *)options delegate:(nullable id &lt;SCNSceneExportDelegate&gt;)delegate progressHandler:(nullable SCNSceneExportProgressHandler)progressHandler; ä»£ç†åè®® SCNSceneExportDelegate - (nullable NSURL *)writeImage:(UIImage *)image withSceneDocumentURL:(NSURL *)documentURL originalImageURL:(nullable NSURL *)originalImageURL;]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNLight]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSceneKit-SCNLight%2F</url>
    <content type="text"><![CDATA[SCNLight å…‰æº å…‰æºå¯ä»¥é™„åŠ åˆ°èŠ‚ç‚¹ä¸Šï¼Œåœ¨æ¸²æŸ“åœºæ™¯ä¸­æä¾›ç€è‰² åˆå§‹åŒ– åˆå§‹åŒ– + (instancetype)light; å±žæ€§ type @property(nonatomic, copy) SCNLightType type; SCNLightType SCNLightTypeAmbient çŽ¯å¢ƒå…‰ SCNLightTypeOmni å‘å„æ–¹å‘å‘å‡ºçš„å…‰ç…§å¼ºåº¦ä¸€æ · SCNLightTypeDirectional å¹³è¡Œå…‰ SCNLightTypeSpot èšç„¦å…‰ SCNLightTypeIES SCNLightTypeProbe clolor @property(nonatomic, retain) id color; temperature æ¸©åº¦å€¼ @property(nonatomic) CGFloat temperature; intensity äº®åº¦å€¼ @property(nonatomic) CGFloat intensity ç¡®å®šæŽ¥æ”¶æ–¹çš„åç§° @property(nonatomic, copy, nullable) NSString *name;]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>SCNLight</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNView]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSceneKit-SCNView%2F</url>
    <content type="text"><![CDATA[SCNViewSCNView : UIView &lt;SCNSceneRenderer, SCNTechniqueSupport&gt; åˆå§‹åŒ– options è§†å›¾åˆå§‹åŒ–é€‰é¡¹ - (instancetype)initWithFrame:(CGRect)frame options:(nullable NSDictionary&lt;NSString *, id&gt; *)options; å±žæ€§ èŠ‚ç‚¹ @property(nonatomic, retain, nullable) SCNScene *scene; æ˜¯å¦å¼€å¯è¿žç»­ç»˜åˆ¶ï¼ˆç±»ä¼¼å®šä½æ˜¯å¦æŒç»­å®šä½ï¼‰ å½“è®¾ç½®ä¸ºYESæ—¶ï¼Œè§†å›¾ä¼šè¿žç»­åœ°é‡ç»˜æ˜¾ç¤ºé“¾è·¯å¸§é€ŸçŽ‡ã€‚ å½“è®¾ç½®ä¸ºNOæ—¶ï¼Œè§†å›¾åªä¼šåœ¨æŽ¥æ”¶æ–¹åœºæ™¯å‘ç”Ÿå˜åŒ–æˆ–åŠ¨ç”»æ—¶é‡æ–°ç»˜åˆ¶ã€‚é»˜è®¤ä¸ºæ²¡æœ‰ã€‚ @property(nonatomic, assign) BOOL rendersContinuously; ç›¸æœºæŽ§åˆ¶ @property(nonatomic) BOOL allowsCameraControl; ç›¸æœºè®¾ç½® @property(nonatomic, readonly) id &lt;SCNCameraControlConfiguration&gt; cameraControlConfiguration é»˜è®¤ç›¸æœºæŽ§åˆ¶å™¨ è¿”å›žé»˜è®¤çš„SCNCameraControllerç”¨äºŽé©±åŠ¨å½“å‰çš„è§†è§’ï¼Œå½“å…è®¸cameracontrollerè®¾ç½®ä¸ºYES @property(nonnull, nonatomic, readonly) SCNCameraController* defaultCameraController å¸§çŽ‡ @property(nonatomic) NSInteger preferredFramesPerSecond æŒ‡å®šä¸ŽæŽ¥æ”¶æ–¹å…³è”çš„EAGLä¸Šä¸‹æ–‡ @property(nonatomic, retain, nullable) EAGLContext *eaglContext; æŠ—é”¯é½¿æ¨¡å¼ @property(nonatomic) SCNAntialiasingMode antialiasingMode ä¸»è¦API å¿«ç…§ ç»˜åˆ¶è§†å›¾çš„å†…å®¹å¹¶å°†å…¶ä½œä¸ºä¸€ä¸ªæ–°çš„å›¾åƒå¯¹è±¡è¿”å›ž æ–¹æ³•æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥éšæ—¶è°ƒç”¨ - (UIImage *)snapshot æ’­æ”¾æŽ§åˆ¶æ–¹æ³• play pause stop SCNViewåˆ‡æ¢ç›¸æœºè§†è§’]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>SCNView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-SCNAction]]></title>
    <url>%2F2018%2F01%2F17%2FSceneKit%2FGrammar%2FSceneKit-SCNAction%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ èŠ‚ç‚¹ï¼ˆNodeï¼‰ åŠ¨ç”»ç§»åŠ¨åˆ°(19,18,17)è¿™ä¸ªä½ç½®ï¼Œæ—¶é—´=5s SCNAction *action = [SCNAction moveTo:SCNVector3Make(19,18,17) duration:5];[oneNode runAction: action]; SCNAction ä¸»è¦çš„APISCNAction å±žæ€§ æ—¶é—´é—´éš”ï¼ŒçœŸå®žæ—¶é—´é—´éš”å—speedå½±å“ @property(nonatomic) NSTimeInterval duration é€Ÿåº¦ç³»æ•°ã€‚å‡è®¾duration ä¸º10ï¼Œä½†speed ä¸º2çš„è¯ï¼Œå°±æ˜¯é€Ÿåº¦æ˜¯ä»¥å‰çš„2å€ï¼Œå®žé™…duration å°±ä¸º5 @property(nonatomic) CGFloat speed å®šæ—¶æ¨¡å¼,æœ‰å››ä¸ªå¸¸é‡å€¼ï¼šConstantsSCNActionTimingModeLinear åŒ€é€ŸSCNActionTimingModeEaseIn ä¸€å¼€å§‹æ…¢ï¼Œæ…¢æ…¢åŠ å¿«SCNActionTimingModeEaseOut ä¸€å¼€å§‹å¿«ï¼Œé€æ¸å˜æ…¢SCNActionTimingModeEaseInEaseOut å¼€å§‹æ…¢æ…¢åœ°,é€šè¿‡ä¸­é—´çš„æ—¶å€™åŠ é€Ÿ,ç„¶åŽå†æ¬¡æ”¾ç¼“ @property(nonatomic) SCNActionTimingMode timingMode SCNActionä¸»è¦çš„API å°†nodeä»Žx,y,zä¸Šå„ç§»åŠ¨åˆ°æŒ‡å®šä½ç½® + (SCNAction *)moveByX:(CGFloat)deltaX y:(CGFloat)deltaY z:(CGFloat)deltaZ duration:(NSTimeInterval)duration å‘é‡æ–¹å¼è¾“å…¥å‚æ•°ï¼Œç§»åŠ¨åˆ°æŒ‡å®šä½ç½® + (SCNAction *)moveBy:(SCNVector3)delta duration:(NSTimeInterval)duration å°†nodeç§»åŠ¨åˆ°locationè¿™ä¸ªä½ç½® + (SCNAction *)moveTo:(SCNVector3)location duration:(NSTimeInterval)duration å°†nodeä»Žx,y,zä¸Šå„æ—‹è½¬å¤šå°‘åº¦ + (SCNAction *)rotateByX:(CGFloat)xAngle y:(CGFloat)yAngle z:(CGFloat)zAngle duration:(NSTimeInterval)duration /å°†nodeä»Žx,y,zä¸Šæ—‹è½¬åˆ°æŒ‡å®šè§’åº¦ + (SCNAction *)rotateToX:(CGFloat)xAngle y:(CGFloat)yAngle z:(CGFloat)zAngle duration:(NSTimeInterval)duration &gt; // åŒä¸Šï¼Œä¸Žä¸Šé¢çš„æ–¹æ³•åŒºåˆ«åœ¨äºŽå¤šäº†shortestUnitArc è¿™ä¸ªå‚æ•°ï¼ŒBOOLå€¼ã€‚//ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªnodeä»Ž 0åº¦æ—‹è½¬åˆ°270åº¦ï¼Œ//å¦‚æžœå°†shortestUnitArcè®¾ç½®ä¸ºNOï¼Œnodeä¼šé¡ºæ—¶é’ˆæ—‹è½¬åˆ°270åº¦ï¼›//å¦‚æžœå°†shortestUnitArcè®¾ç½®ä¸ºYESï¼Œnodeä¼šé€†æ—¶é’ˆæ—‹è½¬90åº¦åˆ°270åº¦ï¼Œ//å³é€‰æ‹©æœ€å°çš„æ—‹è½¬è§’åº¦æ—‹è½¬åˆ°ç‰¹å®šçš„åº¦æ•°ã€‚é»˜è®¤ä¸ºNO + (SCNAction *)rotateToX:(CGFloat)xAngle y:(CGFloat)yAngle z:(CGFloat)zAngle duration:(NSTimeInterval)duration shortestUnitArc:(BOOL)shortestUnitArc // æ²¿ç€ç‰¹å®šçš„è½´æ—‹è½¬angleåº¦ã€‚å‰é¢æ—‹è½¬éƒ½æ˜¯æ²¿x,y,zè½´æ—‹è½¬ï¼Œéƒ½æ˜¯äº’ç›¸åž‚ç›´çš„ï¼Œ//å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡å¦‚ä½•æ²¿ç€ä¸Žxè½´æˆ45åº¦å¤¹è§’çš„æ–¹å‘æ—‹è½¬nodeï¼Ÿ//è¿™ä¸ªAPIå¤§å®¶è¿™é‡Œç•™æ„ä¸€ä¸‹ï¼Œ//ä¸Šç¯‡æåˆ°çš„ä¸åœ¨X-Z è¿™ä¸ªå¹³é¢æ—‹è½¬ï¼Œä¼šç”¨è¿™ä¸ªæ–¹æ³•åœ¨åŽé¢çš„demoä¸­è§£å†³ã€‚ + (SCNAction *)rotateByAngle:(CGFloat)angle aroundAxis:(SCNVector3)axis duration:(NSTimeInterval)duration // SCNVector4(x,y,z,angle) æ²¿ç€ç‰¹å®šçš„è½´æ—‹è½¬åˆ°angleåº¦ã€‚//è¿™é‡Œè§£é‡Šä¸€ä¸‹angle ç±»ä¼¼Ï€ï¼Œå¦‚æžœangle=2,//æˆ‘ä»¬å¯ä¸èƒ½ç†è§£ä¸ºæ—‹è½¬åˆ°2åº¦ï¼Œè€Œæ˜¯æ—‹è½¬åˆ°2/Ï€*180 åº¦ + (SCNAction *)rotateToAxisAngle:(SCNVector4)axisAngle duration:(NSTimeInterval)duration ç¼©å°ï¼ˆæ”¾å¤§ï¼‰By å¤šå°‘ + (SCNAction *)scaleBy:(CGFloat)scale duration:(NSTimeInterval)sec ç¼©å°ï¼ˆæ”¾å¤§ï¼‰åˆ° Toå¤šå°‘ + (SCNAction *)scaleTo:(CGFloat)scale duration:(NSTimeInterval)sec æ·¡å…¥å°†node çš„opacity æ¸æ¸å˜æˆ1 + (SCNAction *)fadeInWithDuration:(NSTimeInterval)sec æ·¡å‡º + (SCNAction *)fadeOutWithDuration:(NSTimeInterval)sec å°†node çš„opacity æ¸æ¸å˜åŒ–ç‰¹å®šçš„æ•°å€¼ + (SCNAction *)fadeOpacityBy:(CGFloat)factor duration:(NSTimeInterval)sec å°†node çš„opacity æ¸æ¸å˜åŒ–åˆ°ç‰¹å®šçš„æ•°å€¼ + (SCNAction *)fadeOpacityTo:(CGFloat)opacity duration:(NSTimeInterval)sec éšè—node + (SCNAction *)hide æ˜¾ç¤ºnode + (SCNAction *)unhide ç§»é™¤node + (SCNAction *)removeFromParentNode æ’­æ”¾éŸ³é¢‘ waitForCompletionï¼ŒBOOLå€¼ å¦‚æžœä¸ºYES Actionçš„durationå°±æ˜¯éŸ³é¢‘çš„æ—¶é•¿ å¦‚æžœä¸ºNOï¼Œå¯ä»¥è®¤ä¸ºduration ä¸º0 å¯ä»¥åŽ»çœ‹SCNAudioPlayer çš„API + (SCNAction *)playAudioSource:(SCNAudioSource *)source waitForCompletion:(BOOL)wait roup è¢«ç”¨æ¥å¹¶å‘æ‰§è¡Œå¤šä¸ªSCNAction + (SCNAction *)group:(NSArray&lt;SCNAction *&gt; *)actions é¡ºåºæ‰§è¡Œå¤šä¸ªSCNActionï¼Œä¸Šä¸ªSCNActionæ‰§è¡Œç»“æŸåŽï¼Œæ‰æ‰§è¡Œä¸‹ä¸ªSCNAction + (SCNAction *)sequence:(NSArray&lt;SCNAction *&gt; *)actions å°†ä¸€ä¸ªSCNActionæ‰§è¡Œcount æ¬¡ + (SCNAction *)repeatAction:(SCNAction *)action count:(NSUInteger)count ä¸€ç›´æ‰§è¡ŒæŸä¸ªSCNAction + (SCNAction *)repeatActionForever:(SCNAction *)action å»¶è¿ŸSCNAction æ¯”å¦‚ç”¨sequence é¡ºåºæ‰§è¡Œå¤šä¸ªSCNActionæ—¶ï¼Œ å¯ä»¥ç»™SCNAction a,c ä¸­é—´æ·»åŠ ä¸€ä¸ªSCNAction b, ç­‰aæ‰§è¡Œç»“æŸåŽï¼Œå»¶è¿Ÿä¸€ä¼šï¼Œå†åŽ»æ‰§è¡Œc + (SCNAction *)waitForDuration:(NSTimeInterval)sec è‡ªå®šä¹‰SCNAction ï¼Œä½ å¯ä»¥åœ¨block åšä¸€äº›æ“ä½œ + (SCNAction *)runBlock:(void (^)(SCNNode *node))block åœ¨ä¸€ä¸ªç‰¹å®šçš„é˜Ÿåˆ—ä¸­ï¼Œæ‰§è¡Œblock + (SCNAction *)runBlock:(void (^)(SCNNode *node))block queue:(dispatch_queue_t)queue ä¸Šç¯‡æ•°å­¦æ—‹è½¬ç”¨åˆ°çš„æ–¹æ³•ï¼Œå½“è¿™ä¸ªSCNActionæ‰§è¡Œæ—¶ï¼ŒSceneKit åœ¨è¿™ä¸ªæ—¶é—´é—´éš”å†…ä¼šé‡å¤è°ƒç”¨actionBlockï¼Œå¹¶å°†å·²é€åŽ»çš„æ—¶é—´ä¼ ç»™actionBlock + (SCNAction *)customActionWithDuration:(NSTimeInterval)seconds actionBlock:(void (^)(SCNNode *node, CGFloat elapsedTime))block åœ¨æ—¶é—´é—´éš”å†…ï¼Œæ‰§è¡Œä¸€æ®µJavaScriptä»£ç  + (SCNAction *)javaScriptActionWithScript:(NSString *)script duration:(NSTimeInterval)seconds é€†è½¬ä¸€ä¸ªå·²ç»åˆ›å»ºçš„SCNAction ç›¸å½“äºŽCABasicAnimationçš„autoreverseså±žæ€§ å“ªé‡Œæ¥çš„ï¼Œå›žå“ªé‡ŒåŽ» - (SCNAction *)reversedAction]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>SCNAction</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scenekit-Roation-æ—‹è½¬]]></title>
    <url>%2F2018%2F01%2F16%2FSceneKit%2FGrammar%2FScenekit-Roation-%E6%97%8B%E8%BD%AC%2F</url>
    <content type="text"><![CDATA[æ—‹è½¬ æ¯ä¸ªSCNNode éƒ½æœ‰è‡ªèº«çš„ä¸‰ç»´åæ ‡ç³»ï¼Œç”¨CABasicAnimationè®©SCNNodeç»•è‡ªèº«çš„ä¸‰ç»´åæ ‡è½´æ—‹è½¬ï¼Œæ‰€ä»¥è¦ç‰¹åˆ«æ³¨æ„æ˜¯åæ ‡è½´ï¼Œä¸æ˜¯è¿™ä¸ªSCNNodeçš„å‡ ä½•ä¸­å¿ƒã€‚ä¸€èˆ¬SceneKit çš„è‡ªå¸¦çš„å‡ ä¸ªå‡ ä½•ä½“çš„åæ ‡ç³»åŽŸç‚¹(0,0,0)å°±æ˜¯è¿™ä¸ªå®ƒçš„å‡ ä½•ä¸­å¿ƒï¼Œæ¯”å¦‚è¯´SCNBoxï¼›SCNSphereç­‰ç­‰ å…ˆå®žçŽ°åœ°çƒï¼Œæœˆçƒè‡ªè½¬]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OC-Lib-WCDB -ç®€å•ä½¿ç”¨å‚è€ƒ]]></title>
    <url>%2F2018%2F01%2F12%2FOC%2FLib%2FWCDB%2FOC-Lib-WCDB%20-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E5%8F%82%E8%80%83%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºmodel Message.h @interface Message : NSObject@property int localID;@property(retain) NSString *content;@property(retain) NSDate *createTime;@property(retain) NSDate *modifiedTime;@end Message.mm ç»‘å®šåˆ°è¡¨çš„ç±» ç»‘å®šåˆ°è¡¨ä¸­çš„å­—æ®µ ä¸»é”® ç´¢å¼•å±žæ€§ @implementation Message // åˆ©ç”¨è¿™ä¸ªå®å®šä¹‰ç»‘å®šåˆ°è¡¨çš„ç±»WCDB_IMPLEMENTATION(Message) // ä¸‹é¢å››ä¸ªå®å®šä¹‰ç»‘å®šåˆ°è¡¨ä¸­çš„å­—æ®µWCDB_SYNTHESIZE(Message, localID)WCDB_SYNTHESIZE(Message, content)WCDB_SYNTHESIZE(Message, createTime)WCDB_SYNTHESIZE(Message, modifiedTime) // çº¦æŸå®å®šä¹‰æ•°æ®åº“çš„ä¸»é”®WCDB_PRIMARY(Message, localID) // å®šä¹‰æ•°æ®åº“çš„ç´¢å¼•å±žæ€§ï¼Œå®ƒç›´æŽ¥å®šä¹‰createTimeå­—æ®µä¸ºç´¢å¼•// åŒæ—¶ WCDB ä¼šå°†è¡¨å + "_index" ä½œä¸ºè¯¥ç´¢å¼•çš„åç§°WCDB_INDEX(Message, "_index", createTime) ç±»åˆ«æ‰©å±•ï¼ˆmodelï¼‰ Message+WCTTableCoding.h è¦å¯¼å…¥WCDB åè®® WCTTableCoding #import "Message.h"#import &lt;WCDB/WCDB.h&gt; @interface Message (WCTTableCoding) &lt;WCTTableCoding&gt;// å®žçŽ°WCTTableCodingä»£ç† // éœ€è¦ç»‘å®šåˆ°è¡¨ä¸­çš„å­—æ®µåœ¨è¿™é‡Œå£°æ˜Žï¼Œåœ¨.mmä¸­åŽ»ç»‘å®šWCDB_PROPERTY(localID)WCDB_PROPERTY(content)WCDB_PROPERTY(createTime)WCDB_PROPERTY(modifiedTime) åˆ›å»ºæ•°æ®åº“//èŽ·å–æ²™ç›’æ ¹ç›®å½• NSString *documentsPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject]; // æ–‡ä»¶è·¯å¾„ NSString *filePath = [documentsPath stringByAppendingPathComponent:@"model.sqlite"]; NSLog(@"path = %@",filePath); database = [[WCTDatabase alloc]initWithPath:filePath]; // æ•°æ®åº“åŠ å¯† NSData *password = [@"MyPassword" dataUsingEncoding:NSASCIIStringEncoding]; [database setCipherKey:password]; //æµ‹è¯•æ•°æ®åº“æ˜¯å¦èƒ½å¤Ÿæ‰“å¼€ if ([database canOpen]) &#123; // WCDBå¤§é‡ä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆLazy initializationï¼‰çš„æ–¹å¼ç®¡ç†å¯¹è±¡ï¼Œå› æ­¤SQLiteè¿žæŽ¥ä¼šåœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶è¢«æ‰“å¼€ã€‚å¼€å‘è€…ä¸éœ€è¦æ‰‹åŠ¨æ‰“å¼€æ•°æ®åº“ã€‚ // å…ˆåˆ¤æ–­è¡¨æ˜¯ä¸æ˜¯å·²ç»å­˜åœ¨ if ([database isOpened]) &#123; if ([database isTableExists:tableName]) &#123; NSLog(@"è¡¨å·²ç»å­˜åœ¨"); &#125;else &#123; [database createTableAndIndexesOfName:tableName withClass:Message.class]; &#125; &#125; æ’å…¥æ•°æ®Message *message = [[Message alloc] init];message.localID = 1;message.content = @"Hello, WCDB!";message.createTime = [NSDate date];message.modifiedTime = [NSDate date];/* INSERT INTO message(localID, content, createTime, modifiedTime) VALUES(1, "Hello, WCDB!", 1496396165, 1496396165); */ [database insertObject:message into:@"message"]; æ›´æ–°æ•°æ®//UPDATE message SET content="Hello, Wechat!";Message *message = [[Message alloc] init];message.content = @"Hello, Wechat!"; //ä¸‹é¢è¿™å¥åœ¨17å·çš„æ—¶å€™å’Œå¾®ä¿¡å›¢é˜Ÿçš„äººåœ¨å­¦ä¹ ç¾¤é‡Œé¢æ²Ÿé€šè¿‡ï¼Œè¿™ä¸ªæ–¹æ³•ç¡®å®žæ˜¯ä¸å­˜åœ¨çš„ï¼Œä½¿ç”¨æ•™ç¨‹åº”è¯¥ä¼šæ›´æ–°ï¼Œè¦æ˜¯æ²¡æ›´æ–°æ³¨æ„è¿™ä¸ªæ–¹æ³•//BOOL result = [database updateTable:@"message" onProperties:Message.content withObject:message];[database updateAllRowsInTable:@"message" onProperty:Message.content withObject:message]; æŸ¥è¯¢æ•°æ® //SELECT * FROM message ORDER BY localIDNSArray&lt;Message *&gt; * message = [database getObjectsOfClass:Message.class fromTable:@"message" orderBy:Message.localID.order()];NSLog(@"&gt;&gt;&gt;&gt; %@",message); åˆ é™¤æ•°æ®[database deleteObjectsFromTable:@"message" where:Message.localID &gt; 0]; WCTDatabase äº‹åŠ¡æ“ä½œï¼Œåˆ©ç”¨WCTTransactionBOOL ret = [database beginTransaction]; ret = [self insertMessage]; if (ret) &#123; [database commitTransaction]; &#125;else [database rollbackTransaction]; return ret; ä½¿ç”¨Blockå¤„ç†äº‹åŠ¡BOOL commit = [database runTransaction:^BOOL&#123; BOOL ret = [self insertMessage]; if (ret) &#123; return YES; &#125;else return NO; &#125; event:^(WCTTransactionEvent event) &#123; NSLog(@"Event %d", event); &#125;]; return commit; FMDBè¿ç§»åˆ°WCDBFMDBè¿ç§»åˆ°WCDB ORM èµ„æ–™1 å®˜æ–¹ç®€å•ä½¿ç”¨æ–‡æ¡£èµ„æ–™2]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>WCDB</category>
      </categories>
      <tags>
        <tag>Lib</tag>
        <tag>OC</tag>
        <tag>WCDB</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC-Lib-WCDB]]></title>
    <url>%2F2018%2F01%2F12%2FOC%2FLib%2FWCDB%2FOC-Lib-WCDB%2F</url>
    <content type="text"><![CDATA[WCDB æ–‡æ¡£ WCDB ä½¿ç”¨ å®˜æ–¹iOSæ–‡æ¡£ CocoaPods pod &apos;WCDB&apos; å¼•å…¥ #import &lt;WCDB/WCDB.h&gt; âš ï¸å¼•ç”¨æ³¨æ„ WCDBæ˜¯åŸºäºŽObjective-C++ï¼Œéœ€è¦å°†å¼•ç”¨WCDBçš„æºæ–‡ä»¶åŽç¼€.mæ”¹ä¸º.mmã€‚ iOS 11ä¸­Bug éœ€è¦åœ¨podä¸­æŒ‡å®šè¯¥åº“çš„åœ°å€ï¼Œå¹¶ä¸”æŒ‡å®šåˆ†æ”¯master target &apos;WCDBDemo&apos; doplatform:ios,&quot;8.0&quot;pod &apos;WCDB&apos;,git: &apos;https://github.com/Tencent/wcdb.git&apos; , branch: &apos;master&apos;pod &apos;YYModel&apos;end åŸºæœ¬ç®€ä»‹WCDB æ˜“ç”¨ WCDBæ”¯æŒä¸€å¥ä»£ç å³å¯å°†æ•°æ®å–å‡ºå¹¶ç»„åˆä¸ºobject WINQ(WCDBè¯­è¨€é›†æˆæŸ¥è¯¢) é€šè¿‡WINQï¼Œå¼€å‘è€…æ— é¡»ä¸ºäº†æ‹¼æŽ¥SQLçš„å­—ç¬¦ä¸²è€Œå†™ä¸€å¤§å¨èƒ¶æ°´ä»£ç  ORM(Object Relational Mapping) å°†ä¸€ä¸ªObjCçš„ç±»ï¼Œæ˜ å°„åˆ°æ•°æ®åº“çš„è¡¨å’Œç´¢å¼•ï¼› å°†ç±»çš„propertyï¼Œæ˜ å°„åˆ°æ•°æ®åº“è¡¨çš„å­—æ®µ é€šè¿‡ORMï¼Œå¯ä»¥è¾¾åˆ°ç›´æŽ¥é€šè¿‡Objectè¿›è¡Œæ•°æ®åº“æ“ä½œï¼ŒçœåŽ»æ‹¼è£…è¿‡ç¨‹çš„ç›®çš„ WCDBæ”¯æŒçµæ´»ã€æ˜“ç”¨çš„ORM å¼€å‘è€…å¯ä»¥å¾ˆä¾¿æ·åœ°å®šä¹‰è¡¨ã€ç´¢å¼•ã€çº¦æŸï¼Œå¹¶è¿›è¡Œå¢žåˆ æ”¹æŸ¥æ“ä½œ [database getObjectsOfClass:WCTSampleConvenient.class fromTable:tableName where:WCTSampleConvenient.intValue&gt;=10 limit:20]; é«˜æ•ˆ WCDBé€šè¿‡æ¡†æž¶å±‚å’Œsqlcipheræºç ä¼˜åŒ–ï¼Œä½¿å…¶æ›´é«˜æ•ˆçš„è¡¨çŽ° å¤šçº¿ç¨‹é«˜å¹¶å‘ WCDBæ”¯æŒå¤šçº¿ç¨‹è¯»ä¸Žè¯»ã€è¯»ä¸Žå†™å¹¶å‘æ‰§è¡Œï¼Œå†™ä¸Žå†™ä¸²è¡Œæ‰§è¡Œ æ‰¹é‡å†™æ“ä½œæ€§èƒ½æµ‹è¯• æ€§èƒ½æ•°æ®ï¼Œè¯·å‚è€ƒbenchmark å®Œæ•´(WCDBè¦†ç›–äº†æ•°æ®åº“ç›¸å…³å„ç§åœºæ™¯çš„æ‰€éœ€åŠŸèƒ½) åŠ å¯†ï¼šWCDBæä¾›åŸºäºŽSQLCipherçš„æ•°æ®åº“åŠ å¯† æŸåä¿®å¤ï¼šWCDBå†…å»ºäº†Repair Kitç”¨äºŽä¿®å¤æŸåçš„æ•°æ®åº“ åæ³¨å…¥ï¼šWCDBå†…å»ºäº†å¯¹SQLæ³¨å…¥çš„ä¿æŠ¤ å·²æœ‰çš„OCç±»QRMç»‘å®šçš„è¿‡ç¨‹â‘ åè®®ã€å®šä¹‰ å®šä¹‰è¯¥ç±»éµå®ˆWCTTableCodingåè®®å¯ä»¥åœ¨ç±»å£°æ˜Žä¸Šå®šä¹‰ä¹Ÿå¯ä»¥é€šè¿‡æ–‡ä»¶æ¨¡ç‰ˆåœ¨categoryå†…å®šä¹‰ æŽ¨èç”¨ç¬¬2ç§ï¼Œé€šè¿‡æ–‡ä»¶æ¨¡æ¿åœ¨categoryå†…å®šä¹‰ï¼Œä¸ºäº†éš”ç¦»Objective-C++ä»£ç  ä¸é€šè¿‡categoryå®šä¹‰ï¼Œè€Œæ˜¯é€‰æ‹©äº†åœ¨ç±»å£°æ˜Žä¸­å†™ï¼Œè¿™æ ·çš„è¯Message.h ä¸­å°±éœ€è¦æœ‰å®WCDB_PROPERTYï¼Œè¿™æ ·ä½ å°±åœ¨Message.hä½¿ç”¨äº†WCDBçš„ä»£ç ï¼Œå½“ä½ æŠŠMessage.håœ¨å…¶ä»–Controller/Viewä¸­å¼•ç”¨çš„æ—¶å€™ï¼Œé‚£ç›¸åº”çš„Controller/Viewçš„.må°±éœ€è¦ä¿®æ”¹æˆ.mm ã€‚é€ æˆä¸å¿…è¦çš„å·¥ä½œï¼Œä½†ä½ ç”¨ç¬¬äºŒç§æ–¹æ³•å†™çš„æ—¶å€™ï¼Œä½ å°±å‘çŽ°åœ¨Message.hä¸­æ˜¯æ²¡æœ‰ä»»ä½•çš„å…³äºŽWCDBçš„ä»£ç çš„ï¼ŒåŽé¢ä½ å¼•ç”¨ä¹Ÿä¸éœ€è¦å†åŽ»ä¿®æ”¹ â‘¡ä¿®æ”¹æ–‡ä»¶ WCDBåŸºäºŽWINQï¼Œå¼•å…¥äº†Objective-C++ä»£ç ï¼Œæ‰€ä»¥å¯¹äºŽå¼•å…¥äº†WCDBçš„æºæ–‡ä»¶ï¼Œéƒ½éœ€è¦æŠŠåŽç¼€.mæ”¹ä¸º.mmä¸ºå‡å°‘å½±å“èŒƒå›´ï¼Œå¯ä»¥é€šè¿‡Objective-Cçš„categoryç‰¹æ€§å°†å…¶éš”ç¦»ï¼Œè¾¾åˆ°åªåœ¨modelå±‚ä½¿ç”¨Objective-C++ç¼–è¯‘ï¼Œè€Œä¸å½±å“Controllerå’ŒViewè¿™ä¸€ç‚¹åœ¨Wikiä¸­æ˜¯æœ‰æåˆ°çš„ â‘¢ä½¿ç”¨WCDB_PROPERTYå® ä½¿ç”¨WCDB_PROPERTYå®åœ¨å¤´æ–‡ä»¶å£°æ˜Žéœ€è¦ç»‘å®šåˆ°æ•°æ®åº“è¡¨çš„å­—æ®µ(ä¹Ÿå°±æ˜¯æŠŠä½ çš„è¡¨é‡Œé¢éœ€è¦çš„å­—æ®µåœ¨è¿™é‡Œç”¨è¿™å®å£°æ˜Žä¸€æ¬¡)ä½¿ç”¨WCDB_IMPLEMENTATIOå®åœ¨ç±»æ–‡ä»¶å®šä¹‰ç»‘å®šåˆ°æ•°æ®åº“è¡¨çš„ç±»ï¼ˆæŠŠè¿™ä¸ªç±»ç»‘å®šåˆ°æ•°æ®åº“çš„è¡¨ï¼Œä½ ä¼šåœ¨ä¸‹é¢åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™åˆ›å»ºç›¸åº”çš„è¡¨ï¼Œè¡¨ä¼šå’Œç±»ç»‘å®šï¼‰ä½¿ç”¨WCDB_SYNTHESIZEå®åœ¨ç±»æ–‡ä»¶å®šä¹‰ç»‘å®šåˆ°æ•°æ®åº“è¡¨çš„ç±»ï¼ˆç¬¬äºŒæ­¥å£°æ˜Žäº†è¡¨éœ€è¦çš„å­—æ®µï¼Œç¬¬ä¸‰æ­¥ç»‘å®šäº†è¡¨ä¸­çš„ç±»ï¼Œç¬¬å››æ­¥å°±ç­‰äºŽæŠŠè¡¨å’Œå­—æ®µç»‘å®šï¼‰ å® å£°æ˜Ž ç»‘å®šåˆ°æ•°æ®åº“è¡¨ WCDB_PROPERTY å¤´æ–‡ä»¶å£°æ˜Ž å­—æ®µ WCDB_IMPLEMENTATIO ç±»ç±»æ–‡ä»¶å®šä¹‰ ç±» WCDB_SYNTHESIZE ç±»æ–‡ä»¶å®šä¹‰ å­—æ®µ WCDB_PRIMARY ä¸»é”® å¯é€‰çš„å® WCDB_INDEX ç´¢å¼• å¯é€‰çš„å® WCDB_UNIQUE å”¯ä¸€çº¦æŸ å¯é€‰çš„å® WCDB_NOT_NULL éžç©ºçº¦æŸ å¯é€‰çš„å®]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>WCDB</category>
      </categories>
      <tags>
        <tag>Lib</tag>
        <tag>WCDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC-QMUIKit]]></title>
    <url>%2F2018%2F01%2F12%2FOC%2FLib%2FQMUIKit%2FOC-QMUIKit%2F</url>
    <content type="text"><![CDATA[QMUIKitQMUIKit ä½¿ç”¨ å®˜æ–¹æ–‡æ¡£ CocoaPodspod &apos;QMUIKit&apos;#import &lt;QMUIKit/QMUIKit.h&gt; QMUI iOS ä¸»è¦ç”± 5 å¤§éƒ¨åˆ†ç»„æˆï¼šQMUICore é…ç½®è¡¨ã€å…¨å±€çš„å®ã€å·¥å…·æ–¹æ³•ç­‰ï¼Œæ˜¯æ‰€æœ‰ QMUI ç±»çš„åŸºç¡€ä»£ç  QMUIMainFrame å‡ ä¸ªå¸¸ç”¨çš„ UIViewController çš„åŸºç±»ï¼Œå»ºè®®å°†è¿™å‡ ä¸ªåŸºç±»ä½œä¸ºä½ é¡¹ç›®é‡Œçš„å¯¹åº” class çš„çˆ¶ç±»ï¼ŒQMUI iOS æœ‰å¤§é‡åŠŸèƒ½ä¹Ÿæ˜¯åŸºäºŽè¿™å‡ ä¸ªåŸºç±»å®žçŽ° UIKitExtensions å¯¹ç³»ç»Ÿ UIKit çš„æ‹“å±•ï¼Œæ‰€æœ‰ Category çš„æ–¹æ³•ã€å±žæ€§å‡ä¼šå¸¦ qmui_ å‰ç¼€ï¼Œä»¥é¿å…å†²çª QMUIComponents æä¾›å¤§é‡å¸¸ç”¨çš„æŽ§ä»¶ï¼Œå…·ä½“çš„æŽ§ä»¶åˆ—è¡¨ã€æ•ˆæžœå±•ç¤ºã€ä½¿ç”¨ä»£ç ç¤ºä¾‹è¯·æŸ¥çœ‹ QMUI Demoã€‚ QMUIResourceså­˜å‚¨ QMUI æŽ§ä»¶é‡Œå¯èƒ½ç”¨åˆ°çš„ä¸€äº›å›¾ï¼Œä¾‹å¦‚è¡¨æƒ…é¢æ¿çš„åˆ é™¤æŒ‰é’®ã€é€‰å›¾æŽ§ä»¶çš„ checkboxã€QMUITips é‚£äº›æˆåŠŸã€å¤±è´¥çš„ icon ç­‰ã€‚ åŠŸèƒ½åˆ—è¡¨ Otherè…¾è®¯å¼€æºiOSè‡ªåŠ¨å†…å­˜æ³„éœ²æ£€æµ‹å·¥å…·MLeaksFinder è…¾è®¯å¼€æºçš„æ•°æ®åº“æ¡†æž¶ QMUI iOSâ€”â€”è‡´åŠ›äºŽæé«˜é¡¹ç›® UI å¼€å‘æ•ˆçŽ‡çš„è§£å†³æ–¹æ¡ˆ ä¸“æ³¨äºŽæå‡H5é¦–å±é€Ÿåº¦ä¼˜åŒ–]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>QMUIKit</category>
      </categories>
      <tags>
        <tag>QMUIKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Lib-CYLTabBarCtl]]></title>
    <url>%2F2018%2F01%2F10%2FOC%2FLib%2FCYLTabBarCtl%2FOC-Lib-CYLTabBarCtl%2F</url>
    <content type="text"><![CDATA[Github Adress]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>CYLTabBarCtl</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SceneKit-Panorama-å…¨æ™¯å›¾]]></title>
    <url>%2F2018%2F01%2F10%2FSceneKit%2FGrammar%2FSceneKit-Panorama-%E5%85%A8%E6%99%AF%E5%9B%BE%2F</url>
    <content type="text"></content>
      <categories>
        <category>SceneKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Git-Gitlabä»£ç æ‰˜ç®¡é…ç½®]]></title>
    <url>%2F2018%2F01%2F09%2FGit%2FGit-Gitlab%E4%BB%A3%E7%A0%81%E6%89%98%E7%AE%A1%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[Gitlabå¹³å°è®¾ç½®ä¸ºProjectæ·»åŠ Gitcd â€œæœ¬åœ°é¡¹ç›®çš„è·¯å¾„â€ git init //åˆå§‹åŒ– git remote add origin git@gitlab.com:USERNAME/PROJECTNAME.git //å°†â€USERNAMEâ€å’Œâ€PROJECTNAMEâ€æ›¿æ¢ä¸ºè‡ªå·±çš„ç”¨æˆ·åå’Œé¡¹ç›®å git add . //æ³¨æ„addå’Œâ€.â€ä¹‹é—´çš„ç©ºæ ¼ git commit -m â€˜commit descriptionâ€™ //æäº¤æ”¹åŠ¨åˆ°æœ¬åœ°åº“git push -u origin master //pushåˆ°Gitlab é—®é¢˜1 éœ€è¦æ³¨æ„ï¼Œè¾“å…¥commitå‘½ä»¤åŽä¼šæç¤ºè¾“å…¥commit messageï¼Œå¦‚ä¸‹å›¾ï¼Œå¯¹ç»ˆç«¯ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯èƒ½è¦æŠ“ç‹‚äº†ï¼Œè¿™é‡Œéœ€è¦æŒ‰sé”®è¿›å…¥INSERTæ¨¡å¼,å¼€å§‹è¾“å…¥commit messageï¼Œæœ€åŽæŒ‰ESCï¼Œç„¶åŽè¾“å…¥:wqé€€å‡ºcommit messageè¾“å…¥æ¨¡å¼ æ³¨æ„ï¼šå»ºè®®commit messageç¬¬ä¸€è¡Œè¾“å…¥æ ‡é¢˜ï¼ˆæ¦‚è¦ï¼‰ï¼Œç©ºä¸€è¡Œå†è¾“å…¥è¯¦ç»†ä¿¡æ¯ã€‚å½“ç„¶ï¼Œè¿™æ˜¯å»ºè®®ï¼Œå¦‚æžœä½ è§‰å¾—æ— æ‰€è°“ï¼Œä¹Ÿå¯ä»¥éšæ„è¾“å…¥æˆ–ç›´æŽ¥:wqè·³è¿‡ è¾“å…¥commit message å‘No.2git push -u origin masterå‘½ä»¤åŽå¯ä»¥çœ‹åˆ°æç¤ºï¼šerror: src refspec master does not match any.error: failed to push some refs to â€˜git@gitlab.com:int1987/testProject.gitâ€™ è¿™æ˜¯å› ä¸ºæ²¡æœ‰é¡¹ç›®è¯´æ˜Žä¹¦ï¼Œæ‰€ä»¥pushå¤±è´¥ è§£å†³æ–¹æ¡ˆï¼štouch README //ç”Ÿæˆè¯´æ˜Žæ–‡ä»¶ git add README //æ·»åŠ è¯´æ˜Žæ–‡ä»¶åˆ° git commit -m â€˜commit readme fileâ€™ //æäº¤æ”¹åŠ¨ Pushåˆ°Gitlabæ·»åŠ READMEåŽå†é‡æ–°è¾“å…¥git push -u origin masterï¼Œpushé¡¹ç›®åˆ°Gitlabï¼Œ é¦–æ¬¡pushä¼šæç¤ºgitlab.comçš„çœŸå®žæ€§æ— æ³•ç¡®å®šï¼Œè¾“å…¥yesï¼Œç¡®å®šå³å¯ã€‚ä¹‹åŽgitlab.comå°±ä¼šè¢«æ·»åŠ åˆ°å·²çŸ¥æœåŠ¡å™¨ï¼ˆå¯ä»¥åœ¨~/.sshæ–‡ä»¶å¤¹ä¸­æŸ¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªknown_hostsæ–‡ä»¶ï¼Œå®ƒå°±æ˜¯å­˜å‚¨å·²çŸ¥æœåŠ¡å™¨çš„æ–‡ä»¶ï¼‰ Gitlab https://baijiahao.baidu.com/s?id=1560915146966961&amp;wfr=spider&amp;for=pc http://blog.csdn.net/lemonaha/article/details/69977098]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Gitlab</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-SceneKit-Reference]]></title>
    <url>%2F2018%2F01%2F09%2FSceneKit%2FGrammar%2FSceneKit-Reference%2F</url>
    <content type="text"><![CDATA[èµ„æ–™ å‚è€ƒå­¦ä¹ 1 å‚è€ƒå­¦ä¹ 2 åªèƒ½å­¦ä¹ è€Œå·²ï¼Œå¤ªéš¾ æ²¡æ‰¾åˆ°åšå®¢]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-SceneKit-å±•ç¤º3Dæ¨¡åž‹&æ–½åŠ åŠ¨ç”»]]></title>
    <url>%2F2018%2F01%2F08%2FSceneKit%2FGrammar%2FSceneKit-%E5%B1%95%E7%A4%BA3D%E6%A8%A1%E5%9E%8B%26%E6%96%BD%E5%8A%A0%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>iOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-SceneKit-åŠ è½½objæ–‡ä»¶]]></title>
    <url>%2F2018%2F01%2F08%2FSceneKit%2FGrammar%2FSceneKit-%E5%8A%A0%E8%BD%BDobj%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-SceneKit-Base]]></title>
    <url>%2F2018%2F01%2F08%2FSceneKit%2FGrammar%2FSceneKit-%20Base%2F</url>
    <content type="text"><![CDATA[SceneKitSceneKit çš„ä¸‰ç»´åæ ‡ç³» å³æ‰‹åæ ‡ç³»(ç¬›å¡å°”åæ ‡ç³»)ä¸Žå…¶ä»–3Dæ¡†æž¶å…±äº«æ•°æ®ï¼Œäº†è§£å…¶æ¡†æž¶æ˜¯å³ã€å·¦æ‰‹åæ ‡ç³»ï¼ˆå°±æ˜¯Z è½´çš„æ­£è´Ÿä¸ä¸€æ ·ï¼‰ ç›¸å…³ç±» SCNViewSCNSceneRenderer ç±»ä¼¼UIView ç”¨æ¥æ˜¾ç¤º SceneKit çš„å†…å®¹ï¼Œå®šä¹‰äº†ä¸€äº›ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥ç”¨ addSubView æ–¹æ³•æ·»åŠ åˆ°UiView ä¸­ SCNScene åœºæ™¯å›¾(SceneKitå†…å®¹çš„å®¹å™¨) ä»Ž3Då»ºæ¨¡å·¥å…·ç”Ÿæˆçš„.daeæ–‡ä»¶ä¸­åŠ è½½ä¸€ä¸ªåœºæ™¯ï¼Œæˆ–è€…ç”¨ä»£ç åˆ›å»ºä¸€ä¸ª ï¼Œç„¶åŽæŠŠå®ƒæ˜¾ç¤ºåœ¨è§†å›¾ä¸Š SCNNode èŠ‚ç‚¹æ ‘çš„æ¨¡åž‹ç±»å¯¹è±¡ å¯ä»¥æŠŠæ‘„åƒæœºï¼Œç¯å…‰ï¼Œå‡ ä½•ä½“é™„åŠ åˆ°èŠ‚ç‚¹ä¸Š SCNGeometry ä¸€ä¸ªå¯ä»¥è¿žæŽ¥åˆ°ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‰ç»´ç‰©ä½“ ä¸€ä¸ªå‡ ä½•ä½“ï¼ˆæœ‰æ—¶ç§°ä¸ºæ¨¡åž‹æˆ–ç½‘æ ¼ï¼‰åªå®šä¹‰äº†ä¸€ä¸ªå¯è§ç‰©ä½“çš„å½¢çŠ¶ã€‚è¦å®šä¹‰å¯¹è±¡çš„è¡¨é¢é¢œè‰²å›¾æ¡ˆï¼Œä½ å¿…éœ€è¦ç»™å‡ ä½•ä½“è¦é™„åŠ ææ–™ã€‚ç„¶åŽç»™ææ–™è´´å›¾ï¼Œæˆ–è€…ä¸Šè‰²ï¼Œè¿™ä¸ªå‡ ä½•ä½“è¡¨é¢æ‰ä¼šæœ‰é¢œè‰²ï¼Œæˆ–è€…å›¾æ¡ˆã€‚SceneKit æä¾›äº†å‡ ç§å¸¸è§å‡ ä½•ä½“ï¼Œæ˜¯SCNGeometryçš„å­ç±»ï¼Œæ¯”å¦‚é•¿æ–¹ä½“ï¼Œçƒï¼Œåœ†æŸ±çƒç­‰ç­‰ SCNMaterial æè´¨ ç”±äºŽåœ¨3Då»ºæ¨¡å·¥å…·ä¸­å‘ˆçŽ°çƒå½¢ï¼Œæ‰€ä»¥ä¹Ÿå«æè´¨çƒã€‚ä¸Šè‰²ï¼Œè´´å›¾å…¨é å®ƒ SCNLight å…‰æº å…‰æºå¯ä»¥é™„åŠ åˆ°èŠ‚ç‚¹ä¸Šï¼Œåœ¨æ¸²æŸ“åœºæ™¯ä¸­æä¾›ç€è‰² SCNCamera è™šæ‹Ÿæ‘„åƒæœº,è§‚å¯Ÿåœºæ™¯çš„è§†è§’ è™šæ‹Ÿæ‘„åƒæœºå¯ä»¥é™„åŠ åˆ°èŠ‚ç‚¹ä¸Šï¼Œæä¾›äº†ä¸€ä¸ªåœºæ™¯çš„è§†å›¾è¦æ˜¾ç¤ºåœºæ™¯ä¸­çš„å†…å®¹, å¿…é¡»ä¸ºèŠ‚ç‚¹æŒ‡å®šä¸€ä¸ªSCNCameraå¯¹è±¡ç›¸æœºçš„è§†è§’å§‹ç»ˆæ²¿ç€èŠ‚ç‚¹çš„å±€éƒ¨åæ ‡ç³»çš„è´Ÿzè½´]]></content>
      <categories>
        <category>SceneKit</category>
      </categories>
      <tags>
        <tag>SceneKit</tag>
        <tag>iOS</tag>
        <tag>3Då¼•æ“Ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Lib-ArcGIS-å¤§å›¾åŠ è½½]]></title>
    <url>%2F2018%2F01%2F08%2FOC%2FLib%2FArcGIS%2FOC-Lib-ArcGIS-%E5%A4%A7%E5%9B%BE%E5%8A%A0%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[èµ„æ–™ https://developers.arcgis.com http://blog.csdn.net/pzhtpf/article/details/51027047]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>ArcGIS</category>
      </categories>
      <tags>
        <tag>Lib</tag>
        <tag>OC</tag>
        <tag>ArcGIS</tag>
        <tag>å¤§å›¾åŠ è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git-å¸¸ç”¨çš„å‘½ä»¤]]></title>
    <url>%2F2018%2F01%2F08%2FGit%2FGit-%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[1. git statusï¼ˆæŸ¥çœ‹æœ¬åœ°åˆ†æ”¯æ–‡ä»¶ä¿¡æ¯ï¼Œç¡®ä¿æ›´æ–°æ—¶ä¸äº§ç”Ÿå†²çªï¼‰2. git checkout -- [file name] ï¼ˆè‹¥æ–‡ä»¶æœ‰ä¿®æ”¹ï¼Œå¯ä»¥è¿˜åŽŸåˆ°æœ€åˆçŠ¶æ€; è‹¥æ–‡ä»¶éœ€è¦æ›´æ–°åˆ°æœåŠ¡å™¨ä¸Šï¼Œåº”è¯¥å…ˆmergeåˆ°æœåŠ¡å™¨ï¼Œå†æ›´æ–°åˆ°æœ¬åœ°ï¼‰3. git branchï¼ˆæŸ¥çœ‹å½“å‰åˆ†æ”¯æƒ…å†µï¼‰4. git checkout [remote branch](è‹¥åˆ†æ”¯ä¸ºæœ¬åœ°åˆ†æ”¯ï¼Œåˆ™éœ€åˆ‡æ¢åˆ°æœåŠ¡å™¨çš„è¿œç¨‹åˆ†æ”¯)5. git pullè‹¥å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œåˆ™æ›´æ–°ä»£ç æˆåŠŸï¼ &lt;a&gt;githubçš„æäº¤æ–¹å¼ ï¼ˆ1ï¼‰git add .--------------------å­˜å‚¨åˆ°æœ¬åœ° git commit -m &apos;message&apos;-------å­˜å‚¨æ—¶çš„æ ‡è®°ï¼ˆä¿®æ”¹äº†å“ªäº›åœ°æ–¹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æŸ¥è¯¢ï¼‰ git pull------------------------ä¸‹è½½æœåŠ¡å™¨ä»£ç  git push------------------------ä¸Šä¼ ä»£ç è‡³æœåŠ¡å™¨ &lt;b&gt;svnæœåŠ¡å™¨çš„æäº¤æ–¹å¼ ï¼ˆ1ï¼‰git add . ------------------å­˜å‚¨åˆ°æœ¬åœ° git commit -m &apos;message&apos;--------å­˜å‚¨æ—¶çš„æ ‡è®°ï¼ˆä¿®æ”¹äº†å“ªäº›åœ°æ–¹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡æŸ¥è¯¢ï¼‰ git svn rebase------------------ä¸‹è½½æœåŠ¡å™¨ä»£ç  git svn dcommit-----------------ä¸Šä¼ ä»£ç è‡³æœåŠ¡å™¨ &lt;c&gt;å…¶ä»–ç›¸å…³çš„gitå‘½ä»¤ ï¼ˆ1ï¼‰git branch-------------------æŸ¥çœ‹å½“å‰å±žäºŽå“ªä¸ªåˆ†æ”¯ 1ã€åªæœ‰å†²çªå­˜åœ¨æ—¶æ‰ä¼šä¿®æ”¹åˆ†æ”¯â€”â€”æ”¹ä¸ºå†²çªå†git add . 2ã€git rebase â€“-continue-------------------è‡ªåŠ¨åˆå¹¶ 3ã€git checkout â€“b svn æ–°å»ºåˆ†æ”¯å----------æ–°å»ºåˆ†æ”¯å­˜å‚¨çŽ°æœ‰æ–‡ä»¶ 4ã€git branch-------------------------------æŸ¥çœ‹åœ¨å“ªä¸ªåˆ†æ”¯ä¸‹ 5ã€git checkout master----------------------å°†å…¶æ”¾åˆ°masteråˆ†æ”¯ä¸‹ 6ã€git merge-------------------------------æ•´åˆåˆ†æ”¯ 7ã€git branch -d åˆ†æ”¯å----------------------åˆ é™¤åˆ†æ”¯ ï¼ˆ2ï¼‰git checkout + ä¸Šä¼ çš„commitç¼–å·-----------å°†æœ¬åœ°ä»£ç æ¢å¤åˆ°æ­¤çŠ¶æ€ ï¼ˆ3ï¼‰git log------------------------------------æŸ¥çœ‹æœ¬åœ°gitä¸Šä¼ æ—¥å¿— ï¼ˆ4ï¼‰git log -p app/controllers/grids_controller.rb----æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹åŽ†å² ï¼ˆ5ï¼‰git checkout d0eb6ef3afe8a377943d3cf6f1e9c320c18f6f32 app/controllers/charts_controller.rb-----------è¿”å›žåˆ°è¿™ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ï¼ˆé‡çŽ°é”™è¯¯ï¼‰ ï¼ˆ6ï¼‰git diff ï¼‹ commitç¼–å·--------------------------æŸ¥è¯¢ä¸åŒä»£ç ]]></content>
      <categories>
        <category>Git</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIWKWebView]]></title>
    <url>%2F2017%2F12%2F21%2FSwift%2FUIKit%2FSwift-UIKit-UIWKWebView%2F</url>
    <content type="text"></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>WKWebView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>WKWebView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-è¿žæŽ¥æ€§æ“ä½œ]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FGrammar%2FOperators-%E8%BF%9E%E6%8E%A5%E6%80%A7%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[è¿žæŽ¥æ€§æ“ä½œ â‘ publish â‘¡replay â‘¢multicast Connectable Observableæœ‰è®¢é˜…æ—¶ä¸å¼€å§‹å‘å°„äº‹ä»¶æ¶ˆæ¯ï¼Œè€Œæ˜¯ä»…å½“è°ƒç”¨å®ƒä»¬çš„connectï¼ˆï¼‰æ–¹æ³•æ—¶ã€‚è¿™æ ·å°±å¯ä»¥ç­‰å¾…æ‰€æœ‰æˆ‘ä»¬æƒ³è¦çš„è®¢é˜…è€…éƒ½å·²ç»è®¢é˜…äº†ä»¥åŽï¼Œå†å¼€å§‹å‘å‡ºäº‹ä»¶æ¶ˆæ¯ï¼Œè¿™æ ·èƒ½ä¿è¯æˆ‘ä»¬æƒ³è¦çš„æ‰€æœ‰è®¢é˜…è€…éƒ½èƒ½æŽ¥æ”¶åˆ°äº‹ä»¶æ¶ˆæ¯ã€‚å…¶å®žä¹Ÿå°±æ˜¯ç­‰å¤§å®¶éƒ½å°±ä½ä»¥åŽï¼Œå¼€å§‹å‘å‡ºæ¶ˆæ¯ â‘ publish â‘ publish å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequence let intSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance) .publish() _ = intSequence .subscribe(onNext: &#123; print("Subscription 1:, Event: \($0)") &#125;) delay(2) &#123; _ = intSequence.connect() &#125; //ç›¸å½“äºŽæŠŠäº‹ä»¶æ¶ˆæ¯æŽ¨è¿Ÿäº†ä¸¤ç§’ delay(4) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 2:, Event: \($0)") &#125;)&#125; delay(6) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 3:, Event: \($0)") &#125;)&#125;//Subscription 1:, Event: 0Subscription 1:, Event: 1Subscription 2:, Event: 1Subscription 1:, Event: 2Subscription 2:, Event: 2Subscription 1:, Event: 3Subscription 3:, Event: 3Subscription 2:, Event: 3Subscription 1:, Event: 4Subscription 3:, Event: 4 â‘¡replay â‘¡replay å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œç„¶åŽå’ŒreplaySubjectç›¸ä¼¼ï¼Œèƒ½æŽ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„äº‹ä»¶æ¶ˆæ¯ let intSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance) .replay(5) //æŽ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„5æ¡äº‹ä»¶æ¶ˆæ¯ _ = intSequence .subscribe(onNext: &#123; print("Subscription 1:, Event: \($0)") &#125;) delay(2) &#123; _ = intSequence.connect() &#125; delay(4) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 2:, Event: \($0)") &#125;)&#125; delay(8) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 3:, Event: \($0)") &#125;)&#125; â‘¢multicast â‘¢multicast å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œå¹¶ä¸”é€šè¿‡ç‰¹æ€§çš„subjectå‘é€å‡ºåŽ»ï¼Œæ¯”å¦‚PublishSubjectï¼Œæˆ–è€…replaySubjectï¼ŒbehaviorSubjectç­‰ã€‚ä¸åŒçš„Subjectä¼šæœ‰ä¸åŒçš„ç»“æžœ let subject = PublishSubject&lt;Int&gt;() _ = subject .subscribe(onNext: &#123; print("Subject: \($0)") &#125;) let intSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance) .multicast(subject) _ = intSequence .subscribe(onNext: &#123; print("\tSubscription 1:, Event: \($0)") &#125;) delay(2) &#123; _ = intSequence.connect() &#125; delay(4) &#123; _ = intSequence .subscribe(onNext: &#123; print("\tSubscription 2:, Event: \($0)") &#125;)&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-é”™è¯¯å¤„ç†æ“ä½œ]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FGrammar%2FOperators-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[é”™è¯¯å¤„ç†æ“ä½œ â‘ catchErrorJustReturn â‘¡catchError â‘¢retry â‘£debug â‘ catchErrorJustReturn â‘ catchErrorJustReturn é‡åˆ°erroräº‹ä»¶çš„æ—¶å€™ï¼Œå°±returnä¸€ä¸ªå€¼ï¼Œç„¶åŽç»“æŸ let disposeBag = DisposeBag() let sequenceThatFails = PublishSubject&lt;String&gt;() sequenceThatFails .catchErrorJustReturn("ðŸ˜Š") .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) sequenceThatFails.onNext("ðŸ˜¬")sequenceThatFails.onNext("ðŸ˜¨")sequenceThatFails.onNext("ðŸ˜¡")sequenceThatFails.onNext("ðŸ”´")sequenceThatFails.onError(TestError.test)///next(ðŸ˜¬)next(ðŸ˜¨)next(ðŸ˜¡)next(ðŸ”´)next(ðŸ˜Š)completed â‘¡catchError â‘¡catchError æ•èŽ·errorè¿›è¡Œå¤„ç†ï¼Œå¯ä»¥è¿”å›žå¦ä¸€ä¸ªsequenceè¿›è¡Œè®¢é˜… let disposeBag = DisposeBag() let sequenceThatFails = PublishSubject&lt;String&gt;()let recoverySequence = PublishSubject&lt;String&gt;() sequenceThatFails .catchError &#123; print("Error:", $0) return recoverySequence &#125; .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) sequenceThatFails.onNext("ðŸ˜¬")sequenceThatFails.onNext("ðŸ˜¨")sequenceThatFails.onNext("ðŸ˜¡")sequenceThatFails.onNext("ðŸ”´")sequenceThatFails.onError(TestError.test) recoverySequence.onNext("ðŸ˜Š")//next(ðŸ˜¬)next(ðŸ˜¨)next(ðŸ˜¡)next(ðŸ”´)Error: testnext(ðŸ˜Š) â‘¢retry â‘¢retry é‡è§erroräº‹ä»¶å¯ä»¥è¿›è¡Œé‡è¯•ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œå¯ä»¥è¿›è¡Œé‡æ–°è¿žæŽ¥ let disposeBag = DisposeBag()var count = 1 let sequenceThatErrors = Observable&lt;String&gt;.create &#123; observer in observer.onNext("ðŸŽ") observer.onNext("ðŸ") observer.onNext("ðŸŠ") if count == 1 &#123; observer.onError(TestError.test) print("Error encountered") count += 1 &#125; observer.onNext("ðŸ¶") observer.onNext("ðŸ±") observer.onNext("ðŸ­") observer.onCompleted() return Disposables.create()&#125; sequenceThatErrors .retry(3) //ä¸ä¼ å…¥æ•°å­—çš„è¯ï¼Œåªä¼šé‡è¯•ä¸€æ¬¡ .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) â‘£debug â‘£debug æ‰“å°æ‰€æœ‰çš„è®¢é˜…, äº‹ä»¶å’Œdisposals sequenceThatErrors .retry(3) .debug() .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) RxSwift.Resources.total æŸ¥çœ‹RxSwiftæ‰€æœ‰èµ„æºçš„å ç”¨ print(RxSwift.Resources.total)]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-Mathematical & Aggregate Operators-æ•°å­¦å’Œé›†åˆæ“ä½œç¬¦]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FGrammar%2FOperators-%E6%95%B0%E5%AD%A6%E5%92%8C%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[æ•°å­¦å’Œé›†åˆæ“ä½œç¬¦ â‘ toArray â‘ â‘¡reduce â‘¢concat â‘ toArray â‘ toArray å°†sequenceè½¬æ¢æˆä¸€ä¸ªarrayï¼Œå¹¶è½¬æ¢æˆå•ä¸€äº‹ä»¶ä¿¡å·ï¼Œç„¶åŽç»“æŸ let disposeBag = DisposeBag()Observable.range(start: 1, count: 10) .toArray() .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag)//æ‰“å°next([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])completed â‘¡reduce â‘¡reduce ç”¨ä¸€ä¸ªåˆå§‹å€¼ï¼Œå¯¹äº‹ä»¶æ•°æ®è¿›è¡Œç´¯è®¡æ“ä½œreduceæŽ¥å—ä¸€ä¸ªåˆå§‹å€¼ï¼Œå’Œä¸€ä¸ªæ“ä½œç¬¦å·ä½¿ç”¨ä¸€ä¸ªåˆå§‹å€¼å’Œä¸€ä¸ªæ“ä½œç¬¦ï¼Œå¯¹Observableåºåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œç´¯è®¡æ“ä½œï¼Œå¹¶è½¬æ¢æˆå•ä¸€äº‹ä»¶ä¿¡å·ã€‚(PS:å’Œmapæœ‰çš„åŒºåˆ«å°±æ˜¯ï¼šmapé’ˆå¯¹å•ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œreduceé’ˆå¯¹æ‰€æœ‰å…ƒç´ ç´¯è®¡æ“ä½œ) let disposeBag = DisposeBag() Observable.of(10, 100, 1000) .reduce(1, accumulator: +) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)/// 1111 â‘¢concat â‘¢concat oncatä¼šæŠŠå¤šä¸ªsequenceå’Œå¹¶ä¸ºä¸€ä¸ªsequenceï¼Œå¹¶ä¸”å½“å‰é¢ä¸€ä¸ªsequenceå‘å‡ºäº†completedäº‹ä»¶ï¼Œæ‰ä¼šå¼€å§‹ä¸‹ä¸€ä¸ªsequenceçš„äº‹ä»¶åœ¨ç¬¬ä¸€sequenceå®Œæˆä¹‹å‰ï¼Œç¬¬äºŒä¸ªsequenceå‘å‡ºçš„äº‹ä»¶éƒ½ä¼šè¢«å¿½ç•¥ï¼Œä½†ä¼šæŽ¥æ”¶ä¸€å®Œæˆä¹‹å‰çš„äºŒå‘å‡ºçš„æœ€åŽä¸€ä¸ªäº‹ä»¶ã€‚ä¸å¥½è§£é‡Šï¼Œçœ‹ä¾‹å­è¯´æ˜Ž let disposeBag = DisposeBag() let subject1 = BehaviorSubject(value: "ðŸŽ")let subject2 = BehaviorSubject(value: "ðŸ¶") let variable = Variable(subject1) variable.asObservable() .concat() .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) subject1.onNext("ðŸ")subject1.onNext("ðŸŠ") variable.value = subject2 subject2.onNext("ðŸ±") //1å®Œæˆå‰ï¼Œä¼šè¢«å¿½ç•¥subject2.onNext("teng") //1å®Œæˆå‰ï¼Œä¼šè¢«å¿½ç•¥subject2.onNext("fei") //1å®Œæˆå‰çš„æœ€åŽä¸€ä¸ªï¼Œä¼šè¢«æŽ¥æ”¶ subject1.onCompleted() subject2.onNext("ðŸ­")next(ðŸŽ)next(ðŸ)next(ðŸŠ)next(fei)next(ðŸ­) è¿žæŽ¥æ€§æ“ä½œ Connectable Observableæœ‰è®¢é˜…æ—¶ä¸å¼€å§‹å‘å°„äº‹ä»¶æ¶ˆæ¯ï¼Œè€Œæ˜¯ä»…å½“è°ƒç”¨å®ƒä»¬çš„connectï¼ˆï¼‰æ–¹æ³•æ—¶ã€‚è¿™æ ·å°±å¯ä»¥ç­‰å¾…æ‰€æœ‰æˆ‘ä»¬æƒ³è¦çš„è®¢é˜…è€…éƒ½å·²ç»è®¢é˜…äº†ä»¥åŽï¼Œå†å¼€å§‹å‘å‡ºäº‹ä»¶æ¶ˆæ¯ï¼Œè¿™æ ·èƒ½ä¿è¯æˆ‘ä»¬æƒ³è¦çš„æ‰€æœ‰è®¢é˜…è€…éƒ½èƒ½æŽ¥æ”¶åˆ°äº‹ä»¶æ¶ˆæ¯ã€‚å…¶å®žä¹Ÿå°±æ˜¯ç­‰å¤§å®¶éƒ½å°±ä½ä»¥åŽï¼Œå¼€å§‹å‘å‡ºæ¶ˆæ¯ publish å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequence let intSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance) .publish() _ = intSequence .subscribe(onNext: &#123; print("Subscription 1:, Event: \($0)") &#125;) delay(2) &#123; _ = intSequence.connect() &#125; //ç›¸å½“äºŽæŠŠäº‹ä»¶æ¶ˆæ¯æŽ¨è¿Ÿäº†ä¸¤ç§’ delay(4) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 2:, Event: \($0)") &#125;)&#125; delay(6) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 3:, Event: \($0)") &#125;)&#125;//Subscription 1:, Event: 0Subscription 1:, Event: 1Subscription 2:, Event: 1Subscription 1:, Event: 2Subscription 2:, Event: 2Subscription 1:, Event: 3Subscription 3:, Event: 3Subscription 2:, Event: 3Subscription 1:, Event: 4Subscription 3:, Event: 4 replay å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œç„¶åŽå’ŒreplaySubjectç›¸ä¼¼ï¼Œèƒ½æŽ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„äº‹ä»¶æ¶ˆæ¯ let intSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance) .replay(5) //æŽ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„5æ¡äº‹ä»¶æ¶ˆæ¯ _ = intSequence .subscribe(onNext: &#123; print("Subscription 1:, Event: \($0)") &#125;) delay(2) &#123; _ = intSequence.connect() &#125; delay(4) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 2:, Event: \($0)") &#125;)&#125; delay(8) &#123; _ = intSequence .subscribe(onNext: &#123; print("Subscription 3:, Event: \($0)") &#125;)&#125; multicast å°†ä¸€ä¸ªæ­£å¸¸çš„sequenceè½¬æ¢æˆä¸€ä¸ªconnectable sequenceï¼Œå¹¶ä¸”é€šè¿‡ç‰¹æ€§çš„subjectå‘é€å‡ºåŽ»ï¼Œæ¯”å¦‚PublishSubjectï¼Œæˆ–è€…replaySubjectï¼ŒbehaviorSubjectç­‰ã€‚ä¸åŒçš„Subjectä¼šæœ‰ä¸åŒçš„ç»“æžœ let subject = PublishSubject&lt;Int&gt;() _ = subject .subscribe(onNext: &#123; print("Subject: \($0)") &#125;) let intSequence = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance) .multicast(subject) _ = intSequence .subscribe(onNext: &#123; print("\tSubscription 1:, Event: \($0)") &#125;) delay(2) &#123; _ = intSequence.connect() &#125; delay(4) &#123; _ = intSequence .subscribe(onNext: &#123; print("\tSubscription 2:, Event: \($0)") &#125;)&#125; é”™è¯¯å¤„ç†catchErrorJustReturn é‡åˆ°erroräº‹ä»¶çš„æ—¶å€™ï¼Œå°±returnä¸€ä¸ªå€¼ï¼Œç„¶åŽç»“æŸ let disposeBag = DisposeBag() let sequenceThatFails = PublishSubject&lt;String&gt;() sequenceThatFails .catchErrorJustReturn("ðŸ˜Š") .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) sequenceThatFails.onNext("ðŸ˜¬")sequenceThatFails.onNext("ðŸ˜¨")sequenceThatFails.onNext("ðŸ˜¡")sequenceThatFails.onNext("ðŸ”´")sequenceThatFails.onError(TestError.test)///next(ðŸ˜¬)next(ðŸ˜¨)next(ðŸ˜¡)next(ðŸ”´)next(ðŸ˜Š)completed catchError æ•èŽ·errorè¿›è¡Œå¤„ç†ï¼Œå¯ä»¥è¿”å›žå¦ä¸€ä¸ªsequenceè¿›è¡Œè®¢é˜… let disposeBag = DisposeBag() let sequenceThatFails = PublishSubject&lt;String&gt;()let recoverySequence = PublishSubject&lt;String&gt;() sequenceThatFails .catchError &#123; print("Error:", $0) return recoverySequence &#125; .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) sequenceThatFails.onNext("ðŸ˜¬")sequenceThatFails.onNext("ðŸ˜¨")sequenceThatFails.onNext("ðŸ˜¡")sequenceThatFails.onNext("ðŸ”´")sequenceThatFails.onError(TestError.test) recoverySequence.onNext("ðŸ˜Š")//next(ðŸ˜¬)next(ðŸ˜¨)next(ðŸ˜¡)next(ðŸ”´)Error: testnext(ðŸ˜Š) retry é‡è§erroräº‹ä»¶å¯ä»¥è¿›è¡Œé‡è¯•ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œå¯ä»¥è¿›è¡Œé‡æ–°è¿žæŽ¥ let disposeBag = DisposeBag()var count = 1 let sequenceThatErrors = Observable&lt;String&gt;.create &#123; observer in observer.onNext("ðŸŽ") observer.onNext("ðŸ") observer.onNext("ðŸŠ") if count == 1 &#123; observer.onError(TestError.test) print("Error encountered") count += 1 &#125; observer.onNext("ðŸ¶") observer.onNext("ðŸ±") observer.onNext("ðŸ­") observer.onCompleted() return Disposables.create()&#125; sequenceThatErrors .retry(3) //ä¸ä¼ å…¥æ•°å­—çš„è¯ï¼Œåªä¼šé‡è¯•ä¸€æ¬¡ .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) debug æ‰“å°æ‰€æœ‰çš„è®¢é˜…, äº‹ä»¶å’Œdisposals sequenceThatErrors .retry(3) .debug() .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) RxSwift.Resources.total æŸ¥çœ‹RxSwiftæ‰€æœ‰èµ„æºçš„å ç”¨ print(RxSwift.Resources.total)]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-è¿‡æ»¤å’Œæ¡ä»¶æ“ä½œç¬¦]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FGrammar%2FOperators-%E8%BF%87%E6%BB%A4%E5%92%8C%E6%9D%A1%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[è¿‡æ»¤å’Œæ¡ä»¶æ“ä½œç¬¦â‘ filterâ‘¡distinctUntilChangedâ‘¢elementAtâ‘£singleâ‘¤takeâ‘¥takeLastâ‘¦takeWhileâ‘§takeUntilâ‘¨skipâ‘© skipWhileâ‘ªskipWhileWithIndexâ‘«skipUntil â‘ filter â‘ filter è¿‡æ»¤æŽ‰æŸäº›ä¸ç¬¦åˆè¦æ±‚çš„äº‹ä»¶åœ¨Observableåºåˆ—ä¸­åªå‘å‡ºæ»¡è¶³è¿‡æ»¤æ¡ä»¶çš„äº‹ä»¶ let disposeBag = DisposeBag() Observable.of( "ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ±", "ðŸ°", "ðŸ¹", "ðŸ¸", "ðŸ±") .filter &#123; $0 == "ðŸ±" &#125; .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)///ðŸ±ðŸ±ðŸ± let disposeBag = DisposeBag() Observable.of(1,2,3,4,5) .filter( &#123;$0 &gt; 2&#125; ) .subscribe( onNext: &#123;print($0)&#125; ) .disposed(by: disposeBag)//æ‰“å°ç»“æžœ345 â‘¡distinctUntilChanged â‘¡distinctUntilChanged è¿‡æ»¤è¿žç»­å‘å‡ºçš„ç›¸åŒäº‹ä»¶distinctUntilChangedå°±æ˜¯å½“ä¸‹ä¸€ä¸ªäº‹ä»¶ä¸Žå‰ä¸€ä¸ªäº‹ä»¶æ˜¯ä¸åŒäº‹ä»¶çš„äº‹ä»¶æ‰è¿›è¡Œå¤„ç†æ“ä½œ let disposeBag = DisposeBag() Observable.of("ðŸ±", "ðŸ·", "ðŸ±", "ðŸ±", "ðŸ±", "ðŸµ", "ðŸ±") .distinctUntilChanged() .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)///ðŸ±ðŸ·ðŸ±ðŸµðŸ± â‘¢elementAt â‘¢elementAt åªå¤„ç†åœ¨æŒ‡å®šä½ç½®çš„äº‹ä»¶ let disposeBag = DisposeBag() Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .elementAt(3) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)//ðŸ¸ â‘£single â‘£single ç”¨æ³•ä¸€ï¼šæ£€æµ‹Observableåºåˆ—æ˜¯å¦å‘å°„ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æžœå‘å°„å¤šä¸ªï¼Œä¼šæŠ¥é”™ let disposeBag = DisposeBag()// error:Sequence contains more than one element// Observable.of(1,2,3).single().subscribe(onNext: &#123;print($0)&#125;).disposed(by: disposeBag)Observable.of(1) .single() .subscribe( onNext: &#123;print($0)&#125; ) .disposed(by: disposeBag) ç”¨æ³•äºŒ:æ£€æµ‹Observableåºåˆ—å‘å°„çš„å…ƒç´ é‡Œé¢æ˜¯å¦åŒ…å«å¤šä¸ªæŒ‡å®šçš„å…ƒç´ ï¼Œå¦‚æžœæœ‰å¤šä¸ªæˆ–è€…æ²¡æœ‰ï¼Œä¼šæŠ¥é”™ã€‚ let disposeBag = DisposeBag()Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .single &#123; $0 == "ðŸ¸" &#125; .subscribe &#123; print($0) &#125; .disposed(by: disposeBag) Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ±", "ðŸ°", "ðŸ¶") .single &#123; $0 == "ðŸ’" &#125; .subscribe &#123; print($0) &#125; .disposed(by: disposeBag) Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¶","ðŸ¸") .single &#123; $0 == "ðŸ¶" &#125; .subscribe &#123; print($0) &#125; .disposed(by: disposeBag //æ‰“å°ç»“æžœ next(ðŸ¸) completed error(Sequence doesn't contain any elements.) next(ðŸ¶) error(Sequence contains more than one element.) å‡ºåœ¨sequenceåªå‘å‡ºä¸€æ¬¡çš„äº‹ä»¶ï¼Œå¦‚æžœè¶…è¿‡ä¸€ä¸ªå°±ä¼šå‘å‡ºerroré”™è¯¯ Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .single() .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) ðŸ± //å•ä¸€ä¿¡å·è¶…è¿‡äº†ä¸€ä¸ªReceived unhandled error: /var/folders/hz/v15ld5mj0nqf83d21j13y0tw0000gn/T/./lldb/7229/playground107.swift:69:__lldb_expr_107 -&gt; Sequence contains more than one element. Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .single &#123; $0 == "ðŸ¸" &#125; //é’è›™åªæœ‰ä¸€ä¸ªï¼Œcompleted .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ±", "ðŸ°", "ðŸ¶") .single &#123; $0 == "ðŸ°" &#125; //å…”å­æœ‰ä¸¤ä¸ªï¼Œä¼šå‘å‡ºerror .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .single &#123; $0 == "ðŸ”µ" &#125; //æ²¡æœ‰è“è‰²çƒï¼Œä¼šå‘å‡ºerror .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) â‘¤take â‘¤take åªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶ä¿¡å· let disposeBag = DisposeBag() Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .take(3) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)//ðŸ±ðŸ°ðŸ¶ ä»ŽObservableåºåˆ—å¼€å§‹ç‚¹èµ·åªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶ let disposeBag = DisposeBag() Observable.of(1,2,3) .take(2) .subscribe( onNext: &#123;print($0)&#125; ) .disposed(by: disposeBag)//æ‰“å°ç»“æžœ: 1 2 â‘¥takeLast â‘¥takeLast åªå¤„ç†åŽå‡ ä¸ªäº‹ä»¶ä¿¡å·ä¸Žtakeç›¸åï¼Œä»ŽObservableåºåˆ—çš„ç»“æŸä½ç½®èµ·ï¼Œåªå¤„ç†å‰å‡ ä¸ªäº‹ä»¶ let disposeBag = DisposeBag() Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .takeLast(3) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)//æ‰“å°ç»“æžœðŸ¸ðŸ·ðŸµlet disposeBag = DisposeBag() Observable.of(1,2,3) .takeLast(2) .subscribe(onNext: &#123;print($0)&#125;) .disposed(by: disposeBag)//æ‰“å°ç»“æžœ23 â‘¦takeWhile â‘¦takeWhile åªå¤„ç†æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶ã€‚æ„Ÿè§‰å’Œfilteræ²¡ä»€ä¹ˆåŒºåˆ« let disposeBag = DisposeBag() Observable.of(1, 2, 3, 4, 5, 6) .takeWhile &#123; $0 &lt; 4 &#125; .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) //æ‰“å°ç»“æžœï¼š123let disposeBag = DisposeBag()Observable.of(1,2,3,4,5) .takeWhile&#123;$0 &lt; 3&#125; .subscribe(onNext: &#123;print($0)&#125;) .disposed(by: disposeBag)//æ‰“å°ç»“æžœï¼š12 â‘§takeUntil â‘§takeUntil æŽ¥æ”¶äº‹ä»¶æ¶ˆæ¯ï¼Œç›´åˆ°å¦ä¸€ä¸ªsequenceå‘å‡ºäº‹ä»¶æ¶ˆæ¯çš„æ—¶å€™ let disposeBag = DisposeBag() let sourceSequence = PublishSubject&lt;String&gt;()let referenceSequence = PublishSubject&lt;String&gt;() sourceSequence .takeUntil(referenceSequence) .subscribe &#123; print($0) &#125; .addDisposableTo(disposeBag) sourceSequence.onNext("ðŸ±")sourceSequence.onNext("ðŸ°")sourceSequence.onNext("ðŸ¶") referenceSequence.onNext("ðŸ”´") //åœæ­¢æŽ¥æ”¶æ¶ˆæ¯ sourceSequence.onNext("ðŸ¸")sourceSequence.onNext("ðŸ·")sourceSequence.onNext("ðŸµ")///next(ðŸ±)next(ðŸ°)next(ðŸ¶)completed ç›´åˆ°å¦ä¸€ä¸ªObservableåºåˆ—å‘å‡ºä¸€ä¸ªä¿¡å·ï¼Œåˆ™åŽŸåºåˆ—ç»ˆ let disposeBag = DisposeBag() let orinSubject = PublishSubject&lt;Int&gt;()let refreSubject = PublishSubject&lt;Int&gt;() orinSubject.takeUntil(refreSubject) .subscribe(onNext: &#123;print($0)&#125;) .disposed(by: disposeBag) orinSubject.onNext(1)orinSubject.onNext(2)refreSubject.onNext(10)orinSubject.onNext(3)//æ‰“å°ç»“æžœ12 â‘¨skip â‘¨skip å–æ¶ˆå‰å‡ ä¸ªäº‹ä»¶ let disposeBag = DisposeBag() Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .skip(2) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) // ðŸ¶ ðŸ¸ ðŸ· ðŸµ ä»ŽObservableåºåˆ—çš„å…ƒç´ è·³è¿‡æŒ‡å®šä¸ªæ•° let disposeBag = DisposeBag()Observable.of(1,2,3,4,5,6) .skip(2) .subscribe(onNext: &#123;print($0)&#125;) .disposed(by: disposeBag)//æ‰“å°ç»“æžœï¼š3456 â‘©skipWhile â‘© skipWhile æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶æ¶ˆæ¯éƒ½å–æ¶ˆ let disposeBag = DisposeBag() Observable.of(1, 2, 3, 4, 5, 6) .skipWhile &#123; $0 &lt; 4 &#125; .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) /// 4 5 6 è·³è¿‡æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶ï¼Œåªè¦é‡è§ä¸æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶ï¼Œåˆ™è¯¥äº‹ä»¶ä»¥åŠä¹‹åŽçš„äº‹ä»¶ï¼ˆä¸ç®¡æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼‰éƒ½ä¼šå‘å‡º let disposeBag = DisposeBag() Observable.of(1,2,3,4,5,6) .skipWhile&#123;$0 &lt; 3&#125; .subscribe(onNext: &#123;print($0)&#125;) .disposed(by: disposeBag)//æ‰“å°ç»“æžœ3456 â‘ªskipWhileWithIndex â‘ªskipWhileWithIndex æ»¡è¶³æ¡ä»¶çš„éƒ½è¢«å–æ¶ˆï¼Œä¼ å…¥çš„é—­åŒ…åŒskipWhileæœ‰ç‚¹åŒºåˆ«è€Œå·² let disposeBag = DisposeBag() Observable.of("ðŸ±", "ðŸ°", "ðŸ¶", "ðŸ¸", "ðŸ·", "ðŸµ") .skipWhileWithIndex &#123; element, index in index &lt; 3 &#125; .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) è·³è¿‡ç´¢å¼•æ»¡è¶³æ¡ä»¶çš„äº‹ä»¶ let disposeBag = DisposeBag()Observable.of(1,2,3,4,5,6).skipWhileWithIndex(&#123; (element, index) -&gt; Bool in index &lt; 3 &#125;).subscribe(onNext: &#123;print($0)&#125;).disposed(by: disposeBag) //æ‰“å°ç»“æžœ: 456 â‘«skipUntil â‘«skipUntil ç›´åˆ°æŸä¸ªsequenceå‘å‡ºäº†äº‹ä»¶æ¶ˆæ¯ï¼Œæ‰å¼€å§‹æŽ¥æ”¶å½“å‰sequenceå‘å‡ºçš„äº‹ä»¶æ¶ˆæ¯ let disposeBag = DisposeBag() let sourceSequence = PublishSubject&lt;String&gt;()let referenceSequence = PublishSubject&lt;String&gt;() sourceSequence .skipUntil(referenceSequence) .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) sourceSequence.onNext("ðŸ±")sourceSequence.onNext("ðŸ°")sourceSequence.onNext("ðŸ¶") referenceSequence.onNext("ðŸ”´") sourceSequence.onNext("ðŸ¸")sourceSequence.onNext("ðŸ·")sourceSequence.onNext("ðŸµ")&#125; è·³è¿‡å¦ä¸€ä¸ªObservableåºåˆ—å‘å‡ºäº‹ä»¶ä¹‹å‰çš„æ‰€æœ‰äº‹ä»¶ä¸ŽtakeUntilç›¸åã€‚ let disposeBag = DisposeBag() let oriSubject = PublishSubject&lt;Int&gt;() let refreSubject = PublishSubject&lt;Int&gt;() oriSubject.skipUntil(refreSubject) .subscribe(onNext: &#123;print($0)&#125;) .disposed(by: disposeBag) oriSubject.onNext(1)oriSubject.onNext(2) refreSubject.onNext(10)oriSubject.onNext(3)oriSubject.onNext(4)//æ‰“å°ç»“æžœ:34]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-è½¬æ¢æ“ä½œç¬¦]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FDemo%2FSwift-RxSwift-%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[è¿™æ˜¯javaBuffer():2.map() flatMap()3.concatMap()4.switchMap():5.cast():6.groupBy():7.scan():8.window():]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-çº¿ç¨‹]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FGrammar%2F%E7%BA%BF%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[#çº¿ç¨‹ çº¿ç¨‹åˆ‡æ¢ RxSwift ä¸­åˆ‡æ¢çº¿ç¨‹ sequence1.observeOn(backgroundScheduler) // åˆ‡æ¢åˆ°åŽå°çº¿ç¨‹.map &#123; n in print("åœ¨ background scheduler æ‰§è¡Œ")&#125;.observeOn(MainScheduler.instance) // åˆ‡æ¢åˆ°ä¸»çº¿ç¨‹.map &#123; n in print("åœ¨ main scheduler")&#125; è°ƒç”¨ä¸€ä¸‹ observeOn å°±åˆ‡æ¢åˆ°æˆ‘ä»¬æƒ³è¦çš„çº¿ç¨‹äº†å½“å‰çš„çº¿ç¨‹åˆ‡æ¢æ”¯æŒ GCD å’Œ NSOperationåœ¨çº¿ç¨‹è¿™éƒ¨åˆ†ä¸»è¦æœ‰ä¸¤ä¸ªæ“ä½œç¬¦ï¼šobserveOn å’Œ subscribeOn ï¼Œå¸¸ç”¨çš„è¿˜æ˜¯ observeOn è°ƒç”¨ observeOn æŒ‡å®šæŽ¥ä¸‹æ¥çš„æ“ä½œåœ¨å“ªä¸ªçº¿ç¨‹ è°ƒç”¨ subscribeOn å†³å®šè®¢é˜…è€…çš„æ“ä½œæ‰§è¡Œåœ¨å“ªä¸ªçº¿ç¨‹ å½“ç„¶ï¼Œå¦‚æžœæˆ‘ä»¬æ²¡æœ‰æ˜Žç¡®è°ƒç”¨è¿™ä¸¤ä¸ªæ“ä½œï¼ŒåŽé¢çš„æ“ä½œéƒ½æ˜¯åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œçš„ extension ObservableType &#123; public func observeOn(scheduler: ImmediateSchedulerType) -&gt; RxSwift.Observable&lt;Self.E&gt; public func subscribeOn(scheduler: ImmediateSchedulerType) -&gt; RxSwift.Observable&lt;Self.E&gt;&#125; ä¸¤ä¸ªæ–¹æ³•çš„å£°æ˜Žå‡ ä¹Žéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦ä¼ å…¥ä¸€ä¸ªæ»¡è¶³ ImmediateSchedulerType åè®®çš„ä¸œè¥¿ MainScheduler ä¸²è¡Œ åœ¨ Rx ä¸­æˆ‘ä»¬å·²ç»æœ‰ä¸»çº¿ç¨‹åˆ‡æ¢ .observeOn(MainScheduler.instance)//åˆ‡æ¢åˆ°äº†ä¸»çº¿ç¨‹ MainScheduler æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„åŠŸèƒ½ public class func ensureExecutingOnScheduler() å¯ä»¥åœ¨éœ€è¦ä¿è¯ä»£ç ä¸€å®šæ‰§è¡Œåœ¨ä¸»çº¿ç¨‹çš„åœ°æ–¹è°ƒç”¨ MainScheduler.ensureExecutingOnScheduler()ç‰¹åˆ«æ˜¯åœ¨çº¿ç¨‹åˆ‡æ¢æ¥åˆ‡æ¢åŽ»çš„æƒ…å†µä¸‹ï¼Œæˆ–è€…æ˜¯è°ƒç”¨å…¶ä»–çš„åº“ï¼Œæˆ‘ä»¬ä¸ç¡®å®šå½“å‰æ˜¯å¦åœ¨æ‰§è¡Œåœ¨ä¸»çº¿ç¨‹æ¯•ç«Ÿ UI çš„æ›´æ–°è¿˜æ˜¯è¦åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„ SerialDispatchQueueScheduler ä¸²è¡Œ SerialDispatchQueueScheduler ï¼Œè¿™ä¸ªå°±æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è°ƒåº¦å™¨ï¼Œä¸Šé¢çš„ MainScheduler å°±æ˜¯ç»§æ‰¿çš„è¿™ä¸ª DispatchQueueSchedulerQOSiOS 8 æ–°å¢žåŠ äº† QOS ï¼Œåˆ†åˆ«æœ‰ä»¥ä¸‹äº”ç§ç­‰çº§ï¼š QOS_CLASS_USER_INTERACTIVE QOS_CLASS_USER_INITIATED QOS_CLASS_DEFAULT QOS_CLASS_UTILITY QOS_CLASS_BACKGROUND åœ¨ Rx ä¸­ï¼Œæˆ‘ä»¬ç”¨ enum åˆ›å»ºäº† DispatchQueueSchedulerQOS ï¼š public enum DispatchQueueSchedulerQOS &#123; case UserInteractive case UserInitiated case Default case Utility case Background&#125; å’Œä¸Šé¢çš„ç­‰çº§æ˜¯ä¸€ä¸€å¯¹åº”çš„ç”¨ QOS åˆ›å»ºä¸€ä¸ª DispatchQueueSchedulerQOS éžå¸¸æ–¹ä¾¿ public convenience init(globalConcurrentQueueQOS: DispatchQueueSchedulerQOS, internalSerialQueueName: String = "rx.global_dispatch_queue.serial") ç”¨ä¸€ä¸ªåˆå§‹åŒ–å°± OK ï¼š SerialDispatchQueueScheduler(globalConcurrentQueueQOS: .Background) æ›´æŽ¨èä½ ä½¿ç”¨å·²æœ‰çš„ QOS ç®¡ç†å¤šçº¿ç¨‹é—®é¢˜ï¼Œæ¯•ç«Ÿè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹ç­‰çº§æ›´æ˜Žç¡®çš„æ–¹æ¡ˆã€‚å³ä¾¿æ˜¯åˆ›å»ºè‡ªå·±çš„ GCD æˆ‘ä¹Ÿå»ºè®®ç›´æŽ¥ä½¿ç”¨ SerialDispatchQueueScheduler ï¼Œæ¯•ç«Ÿè‡ªå·±å†åŽ»å®žçŽ°é‚£äº›åè®®å¾ˆéº»çƒ¦ä¸æ˜¯å— å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼åˆ›å»ºè‡ªå·±çš„ GCD ï¼š public convenience init(internalSerialQueueName: String, serialQueueConfiguration: ((dispatch_queue_t) -&gt; Void)? = nil)public convenience init(queue: dispatch_queue_t, internalSerialQueueName: String) MainScheduler æ˜¯ç»§æ‰¿ SerialDispatchQueueScheduler çš„ ConcurrentDispatchQueueScheduler å¹¶è¡Œ åŒæ ·æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªå¹¶è¡Œçš„ Scheduler ï¼šConcurrentDispatchQueueSchedulerAPI çš„ä½¿ç”¨å’Œ SerialDispatchQueueScheduler æ˜¯ä¸€æ ·çš„ OperationQueueScheduler å¹¶è¡Œ ä½¿ç”¨ NSOperationQueue æœ€å¤§çš„å¥½å¤„å°±æ˜¯æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®šåˆ¶æœ€å¤§å¹¶å‘çº¿ç¨‹æ•°é‡ï¼Œå³è®¾ç½® maxConcurrentOperationCountåˆ›å»ºæ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ª NSOperationQueue éš¾æ‡‚å•Š åŽŸæ–‡]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>çº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-æ“ä½œ]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FGrammar%2FOperators-%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[â‘ map â‘¡flatMap â‘¢flatMapLatest â‘£scan å˜æ¢æ“ä½œâ‘ map â‘ map é€šè¿‡ä½¿ç”¨ä¸€ä¸ªé—­åŒ…å‡½æ•°å°†åŽŸæ¥çš„Observableåºåˆ—sequenceè½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„Observableåºåˆ—sequence let disposeBag = DisposeBag()Observable.of(1,2,3) .map(&#123; return 10 * $0 &#125;) .subscribe(&#123;print($0)&#125;) .disposed(by: disposeBag)//æ‰“å°next(10)next(20)next(30)completed â‘¡flatMap â‘¡flatMap å°†ä¸€ä¸ªsequenceè½¬æ¢ä¸ºä¸€ä¸ªsequencesï¼Œå½“ä½ æŽ¥æ”¶ä¸€ä¸ªsequenceçš„äº‹ä»¶ï¼Œä½ è¿˜æƒ³æŽ¥æ”¶å…¶ä»–sequenceå‘å‡ºçš„äº‹ä»¶çš„è¯å¯ä»¥ä½¿ç”¨flatMapï¼Œå¥¹ä¼šå°†æ¯ä¸€ä¸ªsequenceäº‹ä»¶è¿›è¡Œå¤„ç†ä»¥åŽï¼Œç„¶åŽå†ä»¥ä¸€ä¸ªsequenceå½¢å¼å‘å‡ºäº‹ä»¶è€Œä¸”flatMapæœ‰ä¸€æ¬¡æ‹†åŒ…åŠ¨ä½œå°†ä¸€ä¸ªObservableåºåˆ—è½¬æ¢ä¸ºå¦ä¸€ä¸ªObservableåºåˆ—ï¼Œå¹¶ä¸”åˆå¹¶ä¸¤ä¸ªObservableåºåˆ—ã€‚ä¼šæŒ‰æ—¶é—´é¡ºåºæŽ¥æ”¶ä¸¤ä¸ªåºåˆ—å‘å‡ºçš„å…ƒç´  let disposeBag = DisposeBag()sttuct Player&#123; var score: Variable&lt;Int&gt; //é‡Œé¢æ˜¯ä¸€ä¸ªVariable&#125;let ðŸ‘¦ðŸ» = Player(score: Variable(80)) let ðŸ‘§ðŸ¼ = Player(score: Variable(90))let ðŸ˜‚ = Player(score: Variable(550))let player = Variable(ðŸ‘¦ðŸ») //å°†playerè½¬ä¸ºVariableplayer.asObservable() //æ‹†ç®±è½¬æˆå¯è¢«ç›‘å¬çš„sequence .flatMap &#123; $0.score.asObservable() &#125; // flatMapæœ‰ä¸€æ¬¡æ‹†åŒ…åŠ¨ä½œï¼Œ$0æœ¬æ¥åº”è¯¥æ˜¯ä¸€ä¸ªBehaviorSubjectç±»åž‹ï¼Œä½†æ˜¯ç›´æŽ¥è®¿é—®äº†scoreã€‚æ‰€ä»¥çŒœæƒ³flatMapå¯¹behaviorSubjectè¿›è¡Œäº†onNextæ‹†åŒ…å–æ•°æ® .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) ðŸ‘¦ðŸ».score.value = 85 player.value = ðŸ‘§ðŸ¼ //æ›´æ¢äº†valueï¼Œç›¸å½“äºŽåˆæ·»åŠ äº†ä¸€ä¸ªsequenceï¼Œä¸¤ä¸ªsequenceéƒ½å¯ä»¥æŽ¥æ”¶ ðŸ‘¦ðŸ».score.value = 95 ðŸ‘¦ðŸ».score.value = 222 player.value = ðŸ˜‚ ðŸ‘§ðŸ¼.score.value = 100// 80 85 90 95 222 550 100 â‘¢flatMapLatest â‘¢flatMapLatest flatMapLateståªä¼šæŽ¥æ”¶æœ€æ–°çš„valueäº‹ä»¶ï¼Œå°†ä¸Šä¾‹æ”¹ä¸ºflatMapLatestã€‚ç»“æžœä¸º 808590550 â‘£scan â‘£scan scanå°±æ˜¯ç»™ä¸€ä¸ªåˆå§‹åŒ–çš„æ•°ï¼Œç„¶åŽä¸æ–­çš„æ‹¿å‰ä¸€ä¸ªç»“æžœå’Œæœ€æ–°çš„å€¼è¿›è¡Œå¤„ç†æ“ä½œ let disposeBag = DisposeBag()Observable.of(10,100,1000) .scan(1)&#123;aggregateValue, newValue in aggregateValue + newValue&#125; .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)//111111111]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-Combination Operators-è”åˆæ“ä½œObservableæµ]]></title>
    <url>%2F2017%2F12%2F19%2FRxSwift%2FGrammar%2FOperators-%E8%81%94%E5%90%88%E6%93%8D%E4%BD%9CObservable%E6%B5%81%2F</url>
    <content type="text"><![CDATA[è”åˆæ“ä½œObservableæµ â‘ startWith â‘¡merge â‘¢zip â‘£combineLatest â‘¤switchLatest è”åˆæ“ä½œObservableæµ è”åˆæ“ä½œObservableæµ è”åˆæ“ä½œå°±æ˜¯æŠŠå¤šä¸ªObservableæµåˆæˆå•ä¸ªObservableæµ â‘ startWith (ä¼˜å…ˆæ’å…¥ç‰¹å®šçš„äº‹ä»¶æ¶ˆæ¯) â‘¡merge ï¼ˆç»„åˆæˆå•ä¸ªObservable,å¹¶ä¸”æŒ‰ç…§æ—¶é—´é¡ºåºå‘å°„å¯¹åº”äº‹ä»¶ï¼‰ â‘¢zip ï¼ˆä¸€ä¸ªäº‹ä»¶å¯¹åº”å¦ä¸€ä¸ªæµä¸€ä¸ªäº‹ä»¶ï¼‰ â‘£combineLatest ï¼ˆä¸€ä¸ªæµçš„äº‹ä»¶å¯¹åº”å¦ä¸€ä¸ªæµçš„æœ€æ–°çš„äº‹ä»¶ï¼‰ â‘¤switchLatest (äº‹ä»¶æµè¿›è¡Œè½¬æ¢) â‘ startWith â‘ startWith åœ¨å‘å‡ºäº‹ä»¶æ¶ˆæ¯ä¹‹å‰ï¼Œå…ˆå‘å‡ºæŸä¸ªç‰¹å®šçš„äº‹ä»¶æ¶ˆæ¯ã€‚æ¯”å¦‚å‘å‡ºäº‹ä»¶2 ï¼Œ3ç„¶åŽæˆ‘startWith(1)ï¼Œé‚£ä¹ˆå°±ä¼šå…ˆå‘å‡º1ï¼Œç„¶åŽ2 ï¼Œ3 let disposeBag = DisposeBag()Observable.of("2","3") .startWith("1") .subscribe(onNext:&#123; print($0) &#125;) .addDisposableTo(disposeBag)//123 åœ¨Observableé‡Šæ”¾å…ƒç´ ä¹‹å‰ï¼Œå‘å°„æŒ‡å®šçš„å…ƒç´ åºåˆ—startWithå’Œæ ˆç±»ä¼¼ï¼Œå…ˆè¿›åŽå‡ºåœ¨å‘é€ä¸€ä¸ªä¸œè¥¿å‰ï¼Œå…ˆå‘é€ä¸€ä¸ªæŒ‡å®šçš„ let disposeBag = DisposeBag()Observable.of([&quot;C&quot;,&quot;C++&quot;,&quot;OC&quot;]) .startWith([&quot;ä»Šæ™šåƒé¸¡ï¼Œå¤§å‰å¤§åˆ©&quot;]) .subscribe(&#123; (event) in print(event) &#125;) .disposed(by: disposeBag)//æ‰“å°next([&quot;ä»Šæ™šåƒé¸¡ï¼Œå¤§å‰å¤§åˆ©&quot;])next([&quot;C&quot;, &quot;C++&quot;, &quot;OC&quot;])completed â‘¡merge â‘¡merge å°†å¤šä¸ªObservableç»„åˆæˆå•ä¸ªObservable,å¹¶ä¸”æŒ‰ç…§æ—¶é—´é¡ºåºå‘å°„å¯¹åº”äº‹ä»¶ let disposeBag = DisposeBag()let sbj1 = PublishSubject&lt;String&gt;()let sbj2 = PublishSubject&lt;String&gt;()Observable.of(sbj1,sbj2) .merge() .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag)subject1.onNext("ðŸ…°ï¸")subject1.onNext("ðŸ…±ï¸")subject2.onNext("â‘ ")subject2.onNext("â‘¡")subject1.onNext("ðŸ†Ž")subject2.onNext("â‘¢") //ðŸ…°ï¸ðŸ…±ï¸â‘ â‘¡ðŸ†Žâ‘¢ â‘¢zip â‘¢zip ç»‘å®šè¶…è¿‡æœ€å¤šä¸è¶…è¿‡8ä¸ªçš„Observableæµï¼Œç»“åˆåœ¨ä¸€èµ·å¤„ç†æ³¨æ„Zipæ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹åº”å¦ä¸€ä¸ªæµä¸€ä¸ªäº‹ä»¶å°†å¤šä¸ªObservable(æ³¨æ„ï¼šå¿…é¡»æ˜¯è¦æˆå¯¹)ç»„åˆæˆå•ä¸ªObservableï¼Œå½“æœ‰äº‹ä»¶åˆ°è¾¾æ—¶ï¼Œä¼šåœ¨æ¯ä¸ªåºåˆ—ä¸­å¯¹åº”çš„ç´¢å¼•ä¸Šå¯¹åº”çš„å…ƒç´ å‘å‡ºã€‚(ps:ä¹‹å‰ç‰ˆæœ¬çš„RxSwiftå¥½åƒæœ€å¤šåªèƒ½ç»„åˆ8ä¸ªObservable) zip-æ–‡æ¡£ let disposeBag = DisposeBag() let strSbj = PublishSubject&lt;String&gt;()let intSbj = PublishSubject&lt;Int&gt;() Observable.zip(strSbj, intSbj)&#123; strElement,intElement in "\(strElement) \(intElement)" &#125; .subscribe(OnNext: &#123; pint($0) &#125;) .addDisposableTo(disposeBag) strSbj.onNext("ðŸ…°ï¸")strSbj.onNext("ðŸ…±ï¸") intSbj.onNext(1)intSbj.onNext(2) strSbj.onNext("ðŸ†Ž")intSbj.onNext(2) //ðŸ…°ï¸ 1 å°†stringSubjectå’ŒintSubjectåŽ‹ç¼©åˆ°ä¸€èµ·å…±åŒå¤„ç†ðŸ…±ï¸ 2ðŸ†Ž 3 â‘£combineLatest â‘£combineLatest ç»‘å®šè¶…è¿‡æœ€å¤šä¸è¶…è¿‡8ä¸ªçš„Observableæµï¼Œç»“åˆåœ¨ä¸€èµ·å¤„ç†å’ŒZipä¸åŒçš„æ˜¯combineLatestæ˜¯ä¸€ä¸ªæµçš„äº‹ä»¶å¯¹åº”å¦ä¸€ä¸ªæµçš„æœ€æ–°çš„äº‹ä»¶ï¼Œä¸¤ä¸ªäº‹ä»¶éƒ½ä¼šæ˜¯æœ€æ–°çš„äº‹ä»¶ï¼Œå¯å°†ä¸‹å›¾ä¸ŽZipçš„å›¾è¿›è¡Œå¯¹æ¯”é‚»è¿‘äº‹ä»¶ä¸€èµ·å¤„ç† let disposeBag = DisposeBag()let strSbj = PublishSubject&lt;String&gt;()let intSbj = PublishSubject&lt;Int&gt;() Observable.combineLatest(strSbj, intSbj)&#123; strElement,intElement in "\(strElement) \(intElement)" &#125; .addscribe(onNext: &#123;print( $0) &#125;) .addDisposableTo(disposeBag) strSbj.onNext("ðŸ…°ï¸")strSbj.onNext("ðŸ…±ï¸")intSbj.onNext(1)intSbj.onNext(2)strSbj.onNext("ðŸ†Ž")// è¾“å‡ºðŸ…±ï¸ 1ðŸ…±ï¸ 2ðŸ†Ž 2 å½“ä¸€ä¸ªé¡¹ç›®ç”±ä¸¤ä¸ªObservableså‘å°„æ—¶ï¼Œé€šè¿‡ä¸€ä¸ªæŒ‡å®šçš„åŠŸèƒ½å°†æ¯ä¸ªObservableè§‚å¯Ÿåˆ°çš„æœ€æ–°é¡¹ç›®ç»„åˆèµ·æ¥ï¼Œå¹¶æ ¹æ®è¯¥åŠŸèƒ½çš„ç»“æžœå‘å°„äº‹ä»¶ let disposeBag = DisposeBag()let subject1 = PublishSubject&lt;String&gt;()let subject2 = PublishSubject&lt;String&gt;() Observable.combineLatest(subject1, subject2) &#123; string1,string2 in "\(string1)--\(string2)" &#125; .subscribe(onNext: &#123; print($0) &#125;) .disposed(by: disposeBag) subject1.onNext("A") subject2.onNext("1")subject2.onNext("2") subject1.onNext("B")subject1.onNext("C") //è¾“å‡ºç»“æžœA--1A--2B--2C--2 â‘¤switchLatest â‘¤switchLatest åˆ‡æ¢Observableé˜Ÿåˆ—switchLatestå¯ä»¥å¯¹äº‹ä»¶æµè¿›è¡Œè½¬æ¢ï¼Œæœ¬æ¥ç›‘å¬çš„sbj1ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹variableé‡Œé¢çš„valueæ›´æ¢äº‹ä»¶æºâ€”&gt;å˜æˆç›‘å¬sbj2 let disposeBag = DisposeBag()let sbj1 = BehaviorSubject(value: "âš½ï¸")let sbj2 = BehaviorSubject(value: "ðŸŽ") let variable = Variable(sbj1)variable.asObservable() .switchLatest() .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) sbj1.onNext("ðŸˆ")sbj1.onNext("ðŸ€") variable.value = sbj1 subject1.onNext("âš¾ï¸") sbj2.onNext("ðŸ")variable.value = sbj1sbj2.onNext("54321")sbj1.onNext("12345") ///âš½ï¸ðŸˆðŸ€ðŸŽðŸâš¾ï¸12345 ä¾‹å­åˆ†æž et disposeBag = DisposeBag() let subject1 = BehaviorSubject(value: "1")let subject2 = BehaviorSubject(value: "A") let variable = Variable(subject1) variable.asObservable() .switchLatest() .subscribe(onNext: &#123; print($0) &#125;) .disposed(by: disposeBag) subject1.onNext("2")subject1.onNext("3") variable.value = subject2 subject1.onNext("4")subject2.onNext("B")//æ‰“å°ç»“æžœ123AB]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-è¿›é˜¶ç†è§£]]></title>
    <url>%2F2017%2F12%2F18%2FRxSwift%2FGrammar%2F%E8%BF%9B%E9%98%B6%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[Disposing å½“ç›‘å¬ä¸€ä¸ªäº‹ä»¶åºåˆ—çš„æ—¶å€™ï¼Œæœ‰æ¶ˆæ¯äº‹ä»¶æ¥äº†ï¼Œæˆ‘ä»¬åšæŸäº›äº‹æƒ… ä½†æ˜¯è¿™ä¸ªäº‹ä»¶åºåˆ—ä¸å†å‘å‡ºæ¶ˆæ¯äº†ï¼Œæˆ‘ä»¬çš„ç›‘å¬ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆå­˜åœ¨ä»·å€¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡Šæ”¾æˆ‘ä»¬è¿™äº›ç›‘å¬èµ„æºï¼Œå…¶å®žä¹Ÿå°±æ˜¯æ¯ç§ç¼–ç¨‹è¯­è¨€ä¸­çš„å†…å­˜èµ„æºé‡Šæ”¾ OCå’ŒSwiftä¸­ä¹Ÿä¸€æ ·ï¼Œåœ¨ä½ ä¸éœ€è¦ç”¨æŸäº›å˜é‡çš„æ—¶å€™ï¼Œä½ éœ€è¦æŠŠè¿™äº›å˜é‡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´é‡Šæ”¾æŽ‰ é‡Šæ”¾æŸä¸€ä¸ªç›‘å¬çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è°ƒç”¨é‡Šæ”¾æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªè²Œä¼¼ä¸€èˆ¬ä¸å¸¸ç”¨ï¼š // å…³äºŽschedulerï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹é¢è®²åˆ°let subscription = Observable&lt;Int&gt;.interval(0.3, scheduler: SerialDispatchQueueScheduler.init(internalSerialQueueName: "test")) .observeOn(MainScheduler.instance) //observeOnä¹Ÿä¼šåœ¨ä¸‹é¢è®²åˆ° .subscribe &#123; event in print(event)&#125; Thread.sleep(forTimeInterval: 2.0) subscription.dispose() // next(0) next(1) next(2) next(3) next(4) next(5) æ¯”å¦‚ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªsubscriptionç›‘å¬ï¼Œåœ¨ä¸¤ç§’ä»¥åŽæˆ‘ä»¬ä¸éœ€è¦äº†ï¼Œæ‰‹åŠ¨è°ƒç”¨dispose()æ–¹æ³•ï¼Œå°±èƒ½é‡Šæ”¾ç›‘å¬èµ„æºï¼Œä¸å†æ‰“å°ä¿¡æ¯ã€‚ä¸Šé¢çš„subscriptionä¸ä¼¦æ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ä¸­ç›‘å¬ï¼Œå°±ç®—åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨çš„dispose()æ–¹æ³•ä¸€æ ·ä¼šé”€æ¯èµ„æº Dispose Bagè¿˜æœ‰ä¸€ç§æ˜¯è‡ªåŠ¨çš„æ–¹å¼ï¼ŒæŽ¨èå¤§å®¶ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å°±å¥½åƒiOSä¸­çš„ARCæ–¹å¼ä¼¼å¾—ï¼Œä¼šè‡ªåŠ¨åŽ»é‡Šæ”¾èµ„æº let disposeBag = DisposeBag() Observable&lt;Int&gt;.empty() .subscribe &#123; event in print(event) &#125; .addDisposableTo(disposeBag) å¦‚ä¸Šä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªdisposeBagæ¥ç››æ”¾æˆ‘ä»¬éœ€è¦ç®¡ç†çš„èµ„æºï¼Œç„¶åŽæŠŠæ–°å»ºçš„ç›‘å¬éƒ½æ”¾è¿›åŽ»ï¼Œä¼šåœ¨é€‚å½“çš„æ—¶å€™é”€æ¯è¿™äº›èµ„æºã€‚å¦‚æžœä½ éœ€è¦ç«‹å³é‡Šæ”¾èµ„æºåªéœ€è¦æ–°å»ºä¸€ä¸ªDisposeBag()ï¼Œé‚£ä¹ˆä¸Šä¸€ä¸ªDisposeBagå°±ä¼šè¢«é”€æ¯ observeOn()å’ŒsubscribeOn()åŒºåˆ«å…¶å®žæˆ‘æ„Ÿè§‰å…¶å®žå°±ä¸€å¥è¯ï¼ŒsubscribeOn()è®¾ç½®èµ·ç‚¹åœ¨å“ªä¸ªçº¿ç¨‹ï¼ŒobserveOn()è®¾ç½®äº†åŽç»­å·¥ä½œåœ¨å“ªä¸ªçº¿ç¨‹ someObservable .doOneThing() â‘  .observeOn(MainRouteScheduler.instance) â‘¡ .subscribeOn(OtherScheduler.instance) â‘¢ .subscribeNext &#123; â‘£ ...... &#125; .addDisposableTo(disposeBag) â‘  æ‰€æœ‰åŠ¨ä½œéƒ½å‘ç”Ÿåœ¨å½“å‰çš„é»˜è®¤çº¿ç¨‹ â‘¡ observeOnè½¬æ¢çº¿ç¨‹åˆ°ä¸»çº¿ç¨‹ï¼Œä¸‹é¢æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­ â‘¢ subscribeOnè§„å®šåŠ¨ä½œä¸€å¼€å§‹ä¸æ˜¯å‘ç”Ÿåœ¨é»˜è®¤çº¿ç¨‹äº†ï¼Œè€Œæ˜¯åœ¨OtherScheduleräº† â‘£ å¦‚æžœæˆ‘ä»¬ä¹‹å‰æ²¡æœ‰è°ƒç”¨observeOnï¼Œé‚£ä¹ˆè¿™è¾¹ä¼šåœ¨OtherSchedulerå‘ç”Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å‰é¢è°ƒç”¨äº†observeOnï¼Œæ‰€ä»¥è¿™ä¸ªåŠ¨ä½œä¼šåœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨ subscribeOnåªæ˜¯å½±å“äº‹ä»¶é“¾å¼€å§‹é»˜è®¤çš„çº¿ç¨‹ï¼Œè€ŒobserveOnè§„å®šäº†ä¸‹ä¸€æ­¥åŠ¨ä½œå‘ç”Ÿåœ¨å“ªä¸ªçº¿ç¨‹ä¸­ shareReplay let testReplay = Observable.just("ðŸ˜‚") .map &#123; print($0) &#125; testReplay .subscribe &#123; event in print(event)&#125;.addDisposableTo(disposeBag) testReplay .subscribe &#123; event in print(event)&#125;.addDisposableTo(disposeBag)/// ðŸ˜‚ next(()) completed ðŸ˜‚ next(()) completed å¤§å®¶å‘çŽ°æ²¡ï¼Œmapå‡½æ•°æ‰§è¡Œäº†ä¸¤éï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™æˆ‘ä¸éœ€è¦mapå‡½æ•°é‡Œçš„ä¸œè¥¿æ‰§è¡Œä¸¤éï¼Œæ¯”å¦‚mapå‡½æ•°é‡Œé¢å¦‚æžœæ‰§è¡Œçš„æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œæˆ‘åªéœ€è¦ä¸€æ¬¡è¯·æ±‚ç»“æžœä¾›å¤§å®¶ä½¿ç”¨å°±è¡Œäº†ï¼Œå¤šä½™çš„è¯·æ±‚æ²¡å•¥ç”¨ï¼Œæµªè´¹æ—¶é—´ã€‚æ‰€ä»¥è¿™æ—¶å€™å°±éœ€è¦shareReplay(1)äº†ã€‚è¿™é‡Œé¢çš„æ•°å­—ä¸€èˆ¬éƒ½æ˜¯1ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚ä½ å¯ä»¥æ”¹ä¸º2ï¼Œ3çœ‹çœ‹ç»“æžœæœ‰å•¥ä¸åŒå“¦ã€‚ let testReplay = Observable.just("ðŸ˜‚") .map &#123; print($0) &#125; .shareReplay(1) testReplay .subscribe &#123; event in print(event)&#125;.addDisposableTo(disposeBag) testReplay .subscribe &#123; event in print(event)&#125;.addDisposableTo(disposeBag)/// ðŸ˜‚ //åªæ‰§è¡Œäº†ä¸€æ¬¡ next(()) completed next(()) completed è‡ªå®šä¹‰operator è‡ªå®šä¹‰æ“ä½œç¬¦å¾ˆç®€å•ï¼Œå®˜æ–¹æŽ¨èå°½é‡ç”¨æ ‡å‡†çš„æ“ä½œç¬¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è‡ªå·±çš„æ“ä½œç¬¦ï¼Œæ–‡æ¡£ä¸Šè¯´æœ‰ä¸¤ç§æ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬åªè¯´ä¸€ä¸‹æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹æ³• è‡ªå®šä¹‰ä¸€ä¸ªmapæ“ä½œç¬¦ extension ObservableType &#123; func myMap&lt;R&gt;(transform: E -&gt; R) -&gt; Observable&lt;R&gt; &#123; return Observable.create &#123; observer in let subscription = self.subscribe &#123; e in switch e &#123; case .next(let value): let result = transform(value) observer.on(.next(result)) case .error(let error): observer.on(.error(error)) case .completed: observer.on(.completed) &#125; &#125; return subscription &#125; &#125;&#125; å‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå…¶ä¸­é—­åŒ…å‚æ•°æ˜¯Eç±»åž‹è¿”å›žå€¼æ˜¯Rç±»åž‹ï¼Œmapå‡½æ•°çš„è¿”å›žå€¼æ˜¯ä¸€ä¸ªObservableç±»åž‹ Driver let results = query.rx.text .throttle(0.3, scheduler: MainScheduler.instance) .flatMapLatest &#123; query in fetchAutoCompleteItems(query) &#125;results .map &#123; "\($0.count)" &#125; .bindTo(resultCount.rx.text) .addDisposableTo(disposeBag)results .bindTo(resultsTableView.rx.items(cellIdentifier: "Cell")) &#123; (_, result, cell) in cell.textLabel?.text = "\(result)" &#125; .addDisposableTo(disposeBag) é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯ç›‘å¬åºåˆ—resultsï¼Œå…¶ä¸­flatMapLatestæ€Žä¹ˆç”¨æˆ‘ä»¬ä¸‹é¢è®² ç„¶åŽå°†resultsç»‘å®šåˆ°resultCount.rx.textä¸Š å°†resultsç»‘å®šåˆ°resultsTableViewä¸Š ä¸Šé¢ç¨‹åºä¼šæœ‰ä¸‹é¢å‡ ä¸ªå¼‚å¸¸æƒ…å†µ å¦‚æžœä¸Šé¢fetchAutoCompleteItemså‡ºé”™äº†ï¼Œé‚£ä¹ˆä»–ç»‘å®šçš„UIå°†ä¸å†æ”¶åˆ°ä»»ä½•äº‹ä»¶æ¶ˆæ¯ å¦‚æžœä¸Šé¢fetchAutoCompleteItemsæ˜¯åœ¨åŽå°æŸä¸ªçº¿ç¨‹ä¸­è¿è¡Œçš„ï¼Œé‚£ä¹ˆäº‹ä»¶ç»‘å®šä¹Ÿæ˜¯å‘ç”Ÿåœ¨åŽå°æŸä¸ªçº¿ç¨‹ï¼Œè¿™æ ·æ›´æ–°UIçš„æ—¶å€™ä¼šé€ æˆcrash æœ‰ä¸¤æ¬¡ç»‘å®šfetchAutoCompleteItemsä¼šæ‰§è¡Œä¸¤æ¬¡ å½“ç„¶é’ˆå¯¹ä¸Šé¢é—®é¢˜æˆ‘ä»¬ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¥žå™¨shareReplay(1)ä¿è¯ä¸ä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨observeOn()ä¿è¯åŽé¢æ‰€æœ‰æ“ä½œåœ¨ä¸»çº¿ç¨‹å®Œæˆ let results = query.rx.text .throttle(0.3, scheduler: MainScheduler.instance) .flatMapLatest &#123; query in fetchAutoCompleteItems(query) .observeOn(MainScheduler.instance) .catchErrorJustReturn([]) &#125; .shareReplay(1) results .map &#123; "\($0.count)" &#125; .bindTo(resultCount.rx.text) .addDisposableTo(disposeBag)results .bindTo(resultTableView.rx.items(cellIdentifier: "Cell")) &#123; (_, result, cell) in cell.textLabel?.text = "\(result)" &#125; .addDisposableTo(disposeBag) ä½†æ˜¯,ä¹Ÿå¯ä»¥ä½¿ç”¨Driver let results = query.rx.text.asDriver() //è½¬æ¢æˆä¸€ä¸ªDriveråºåˆ— .throttle(0.3, scheduler: MainScheduler.instance) .flatMapLatest &#123; query in fetchAutoCompleteItems(query) .asDriver(onErrorJustReturn: []) //å½“é‡è§é”™è¯¯éœ€è¦è¿”å›žä»€ä¹ˆ &#125; //ä¸éœ€è¦æ·»åŠ shareReplay(1)results .map &#123; "\($0.count)" &#125; .drive(resultCount.rx.text) //å’ŒbingTo()åŠŸèƒ½ä¸€æ · .addDisposableTo(disposeBag) results .drive(resultTableView.rx.items(cellIdentifier: "Cell")) &#123; (_, result, cell) in cell.textLabel?.text = "\(result)" &#125; .addDisposableTo(disposeBag) driveæ–¹æ³•åªèƒ½åœ¨Driveråºåˆ—ä¸­ä½¿ç”¨ï¼ŒDriveræœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šâ‘  Driveråºåˆ—ä¸å…è®¸å‘å‡ºerrorâ‘¡ Driveråºåˆ—çš„ç›‘å¬åªä¼šåœ¨ä¸»çº¿ç¨‹ä¸­æ‰€ä»¥Driveræ˜¯è½¬ä¸ºUIç»‘å®šé‡èº«æ‰“é€ çš„ä¸œè¥¿ã€‚ä»¥ä¸‹æƒ…å†µä½ å¯ä»¥ä½¿ç”¨Driveræ›¿æ¢BindTo: ä¸èƒ½å‘å‡ºerror åœ¨ä¸»çº¿ç¨‹ä¸­ç›‘å¬ å…±äº«äº‹ä»¶æµ mapå’ŒflatMapä½•æ—¶ä½¿ç”¨å®˜æ–¹Demoçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šè¿·æƒ‘ä¸ºå•¥æœ‰çš„åœ°æ–¹ä½¿ç”¨flatMapLatestä¸ºå•¥æœ‰äº›åœ°æ–¹ä½¿ç”¨mapå‘¢ï¼Ÿæ¯”å¦‚ä¸Šé¢é‚£ä¸ªDriveræ‰€ç”¨çš„ä¾‹å­ mapå‡½æ•°ï¼ŒæŽ¥å—ä¸€ä¸ªRç±»åž‹çš„åºåˆ—ï¼Œè¿”å›žä¸€ä¸ªRç±»åž‹çš„åºåˆ—ï¼Œè¿˜æ˜¯åŽŸæ¥çš„åºåˆ— public func map&lt;R&gt;(_ transform: @escaping (Self.E) throws -&gt; R) -&gt; RxSwift.Observable&lt;R&gt; flatMapå‡½æ•°ï¼ŒæŽ¥æ”¶ä¸€ä¸ªOç±»åž‹çš„åºåˆ—ï¼Œè¿”å›žä¸€ä¸ªO.Eç±»åž‹çš„åºåˆ—ï¼Œä¹Ÿå°±æ˜¯æœ‰åŽŸæ¥åºåˆ—é‡Œå…ƒç´ ç»„æˆçš„æ–°åºåˆ— public func flatMap&lt;O : ObservableConvertibleType&gt;(_ selector: @escaping (Self.E) throws -&gt; O) -&gt; RxSwift.Observable&lt;O.E&gt; å…¶å®žè¿™é‡Œçš„mapå’ŒflatMapåœ¨swiftä¸­çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚mapå‡½æ•°å¯ä»¥å¯¹åŽŸæœ‰åºåˆ—é‡Œé¢çš„äº‹ä»¶å…ƒç´ è¿›è¡Œæ”¹é€ ï¼Œè¿”å›žçš„è¿˜æ˜¯åŽŸæ¥çš„åºåˆ—ã€‚è€ŒflatMapå¯¹åŽŸæœ‰åºåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ”¹é€ å’Œå¤„ç†ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è¿”å›žä¸€ä¸ªæ–°çš„sequenceï¼Œç„¶åŽæŠŠæ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„sequenceåˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„sequenceåºåˆ— let test = Observable.of("1", "2", "3", "4", "5") .map &#123; $0 + "TTF" &#125; test .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) 1TTF2TTF3TTF4TTF5TTF ä½¿ç”¨mapå¯¹åºåˆ—ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œä½¿ç”¨flatMapéœ€è¦è¿”å›žçš„åºåˆ—ã€‚é‚£ä¹ˆä½¿ç”¨mapä¹Ÿè¿”å›žä¸€ä¸ªåºåˆ—çœ‹çœ‹ let test = Observable.of("1", "2", "3", "4", "5") .map &#123; Observable.just($0) &#125;test .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) RxSwift.Just&lt;Swift.String&gt;RxSwift.Just&lt;Swift.String&gt;RxSwift.Just&lt;Swift.String&gt;RxSwift.Just&lt;Swift.String&gt;RxSwift.Just&lt;Swift.String&gt; çœ‹åˆ°ç»“æžœä¼šæ‰“å°å‡ºæ¯ä¸€ä¸ªåºåˆ—ï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨merge()æ–¹æ³•å°†è¿™å‡ ä¸ªåºåˆ—è¿›è¡Œåˆå¹¶ let test = Observable.of("1", "2", "3", "4", "5") .map &#123; Observable.just($0) &#125; .merge() test .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) /// 1 2 3 4 5 åˆå¹¶ä¸ºä¸€ä¸ªæ–°åºåˆ—åŽæˆ‘ä»¬å°±å¯ä»¥æ­£å¸¸æ‰“å°å…ƒç´ äº†ã€‚ä¸‹é¢çœ‹çœ‹ä½¿ç”¨faltMap()å‡½æ•°å¹²è¿™ä»¶äº‹ let test = Observable.of("1", "2", "3", "4", "5") .flatMap &#123; Observable.just($0) &#125; test .subscribe(onNext: &#123; print($0) &#125;) .addDisposableTo(disposeBag) 12345 çœ‹ä¸‹å¯¹æ¯”æ˜¯ä¸æ˜¯ä¸€æ ·ï¼Œè¿™æ ·å­å¯¹æ¯”å°±æ¸…æ™°äº†å§ mapå‡½æ•°åªèƒ½è¿”å›žåŽŸæ¥çš„é‚£ä¸€ä¸ªåºåˆ—ï¼Œé‡Œé¢çš„å‚æ•°çš„è¿”å›žå€¼è¢«å½“åšåŽŸæ¥åºåˆ—ä¸­æ‰€å¯¹åº”çš„å…ƒç´ ã€‚ flatMapå‡½æ•°è¿”å›žçš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ—ï¼Œå°†åŽŸæ¥å…ƒç´ è¿›è¡Œäº†å¤„ç†ï¼Œè¿”å›žè¿™äº›å¤„ç†åŽçš„å…ƒç´ ç»„æˆçš„æ–°åºåˆ— mapå‡½æ•° + åˆå¹¶å‡½æ•° = flatMapå‡½æ•° flatMapå‡½æ•°åœ¨å®žé™…åº”ç”¨ä¸­æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ç”¨åˆ°ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ï¼Œç½‘ç»œè¯·æ±‚å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¯·æ±‚è¿‡ç¨‹è¿›è¡Œç›‘å¬ï¼Œç„¶åŽå¤„ç†é”™è¯¯ã€‚åªè¦ç»§ç»­ä»–è¿”å›žçš„æ˜¯ä¸€ä¸ªæ–°çš„åºåˆ— validatedUsername = input.username .flatMapLatest &#123; username in return validationService.validateUsername(username) .observeOn(MainScheduler.instance) .catchErrorJustReturn(.failed(message: "Error contacting server")) &#125; .shareReplay(1) flatMapLatestå…¶å®žå°±æ˜¯flatMapçš„å¦ä¸€ä¸ªæ–¹å¼ï¼Œåªå‘é€æœ€åŽä¸€ä¸ªåˆè¿›æ¥çš„åºåˆ—äº‹ä»¶ã€‚ä¸Šé¢è®¤è¯usernameæ˜¯ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸ªè¿‡ç¨‹è¿›è¡Œå¤„ç†è¿™ä¸ªpasswordä¸éœ€è¦åŽå°è”ç½‘è®¤è¯ï¼Œåªéœ€è¦è¿”å›žpasswordç¬¦åˆä¸ç¬¦åˆè¦æ±‚å°±è¡Œäº†ï¼Œè¿˜æ˜¯åŽŸæ¥çš„åºåˆ—å°±è¡Œäº† validatedPassword = input.password .map &#123; password in return validationService.validatePassword(password) &#125; .shareReplay(1) flatMapä¹Ÿè§£å†³äº†å†…åµŒå¤šä¸ªsubscribeçš„é—®é¢˜ï¼Œå®˜æ–¹ä¸å»ºè®®å†…åµŒå¤šä¸ªsubscribeã€‚æ¯”å¦‚ï¼š textField.rx_text.subscribe(onNext: &#123; text in performURLRequest(text).subscribe(onNext: &#123; result in ... &#125;) .addDisposableTo(disposeBag)&#125;).addDisposableTo(disposeBag) æ”¹å†™ä¸ºflatMap textField.rx_text .flatMapLatest &#123; text in return performURLRequest(text) //å› ä¸ºflatMapè¿”å›žä¸€ä¸ªæ–°çš„sequence &#125; ... .addDisposableTo(disposeBag) å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå½“æˆ‘ä»¬ç½‘ç»œè¯·æ±‚å¾—åˆ°jsonæ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨flatmapè¿›è¡Œåºåˆ—è½¬æ¢ï¼Œè§£æžæˆModelåºåˆ—ï¼Œç„¶åŽæˆ‘ä»¬è®¢é˜…è¿™ä¸ªå¸¦æœ‰Modelçš„åºåˆ—ï¼Œä»£ç å°±ä¼šå˜å¾—å¾ˆä¼˜é›… UIBindingObserver UIBindingObserverè¿™ä¸ªä¸œè¥¿å¾ˆæœ‰ç”¨çš„ï¼Œåˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ç›‘å¬è€…ï¼Œæœ‰æ—¶å€™RxCocoa(RxSwiftzä¸­å¯¹UIKitçš„ä¸€ä¸ªæ‰©å±•åº“)ç»™çš„æ‰©å±•ä¸å¤Ÿæˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªUITextFieldæœ‰ä¸ªisEnabledå±žæ€§ï¼Œæˆ‘æƒ³æŠŠè¿™ä¸ªisEnabledå˜ä¸ºä¸€ä¸ªobserverï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š extension Reactive where Base: UITextField &#123; var inputEnabled: UIBindingObserver&lt;Base, Result&gt; &#123; return UIBindingObserver(UIElement: base) &#123; textFiled, result in textFiled.isEnabled = result.isValid &#125; &#125;&#125; UIBindingObserveræ˜¯ä¸€ä¸ªç±»ï¼Œä»–çš„åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå…ƒç´ æœ¬èº«ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œé—­åŒ…å‚æ•°æ˜¯å…ƒç´ æœ¬èº«ï¼Œè¿˜æœ‰ä»–çš„ä¸€ä¸ªæ€§ public init(UIElement: UIElementType, binding: @escaping (UIElementType, Value) -&gt; Swift.Void) è‡ªå®šä¹‰äº†ä¸€ä¸ªinputEnabled Observeré‡Œé¢å…³è”çš„UITextFieldçš„isEnabledå±žæ€§]]></content>
  </entry>
  <entry>
    <title><![CDATA[RxSwift-å“åº”å¼ç¼–ç¨‹å¯¹æ¯”]]></title>
    <url>%2F2017%2F12%2F16%2FRxSwift%2FGrammar%2F%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B%E5%AF%B9%E6%AF%94%2F</url>
    <content type="text"><![CDATA[#Rx ä»‹ç» Rx Rx æ˜¯ ReactiveX çš„ç¼©å†™ï¼Œç®€å•æ¥è¯´å°±æ˜¯åŸºäºŽå¼‚æ­¥ Eventï¼ˆäº‹ä»¶ï¼‰åºåˆ—çš„å“åº”å¼ç¼–ç¨‹ Rx å¯ä»¥ç®€åŒ–å¼‚æ­¥ç¼–ç¨‹æ–¹æ³•ï¼Œå¹¶æä¾›æ›´ä¼˜é›…çš„æ•°æ®ç»‘å®šã€‚è®©æˆ‘ä»¬å¯ä»¥æ—¶åˆ»å“åº”æ–°çš„æ•°æ®åŒæ—¶é¡ºåºåœ°å¤„ç†å®ƒä»¬ Rx åº“ Rx æœ¬èº«å¯ä»¥è¯´æ˜¯ä¸€ç§è·¨å¹³å°çš„æ ‡å‡†ï¼Œå®ƒæœ‰è‡ªå·±çš„ç¤¾åŒºè®ºå›ï¼Œä¸ç®¡æ˜¯ web è¿˜æ˜¯ç§»åŠ¨å¼€å‘ï¼Œéƒ½èƒ½ç”¨ Rx çš„æ€ç»´å’Œæ–¹æ³•æ¥å®Œæˆä½ çš„å·¥ä½œ ä½œä¸ºä¸€ç§è·¨å¹³å°æ ‡å‡†ï¼Œç›®å‰å·²ç»æœ‰è®¸å¤šåŸºäºŽä¸åŒå¼€å‘è¯­è¨€çš„ Rx çš„åº“ã€‚é™¤äº†æˆ‘åŽé¢ä¼šç€é‡ä»‹ç»çš„ RxSwift ä¹‹å¤–ï¼Œè¿˜æœ‰ RxJava, RxJS, RxKotlin, Rx.NETâ€¦ç­‰ç­‰ è¿™äº› Rx åº“è™½ç„¶ç”¨çš„è¯­è¨€ä¸åŒï¼Œä½†å®ƒä»¬ä¹‹é—´å…¶å®žéƒ½æ˜¯ç›¸é€šçš„ï¼Œéƒ½æœ‰ç›¸åŒçš„ APIã€‚æ‰€ä»¥è¯´å¦‚æžœä»¥åŽä½ ä½¿ç”¨åˆ«çš„è¯­è¨€åšå…¶ä»–çš„æ–¹é¢çš„å¼€å‘ï¼ŒåŒæ ·æ˜¯å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ€ç»´ç”šè‡³ç›¸åŒçš„æ–¹æ³•æŽ¥å£ï¼ˆé™¤äº†è¯­è¨€ä¸åŒï¼‰æ¥ç¼–ç¨‹ ##Rx ä¸»é¡µ å¦‚æžœæƒ³äº†è§£æ•´ä¸ª Rx å¤§å®¶åº­çš„æˆå‘˜ï¼Œå¯ä»¥è®¿é—®å®ƒçš„ä¸»é¡µ RxSwift ä»‹ç»RxSwift çš„ä½œç”¨ ç»å¸¸éœ€è¦æ£€æµ‹æŸäº›å€¼çš„å˜åŒ–ï¼ˆæ¯”å¦‚ï¼štextFiled è¾“å…¥å€¼çš„å˜åŒ–ã€æ•°æ®è¯·æ±‚å®Œæˆæˆ–å¤±è´¥çš„å˜åŒ–ï¼‰ï¼Œç„¶åŽè¿›è¡Œç›¸åº”çš„å¤„ç† è¿‡åŽ»é’ˆå¯¹ä¸åŒçš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨ä¸åŒçš„äº‹ä»¶ä¼ é€’æ–¹æ³•åŽ»å¤„ç†ï¼Œæ¯”å¦‚ï¼šdelegateã€notifinotionã€target-actionã€KVO ç­‰ç­‰ è€Œ RectiveX æœºåˆ¶ï¼ˆç”± RxSwift å®žçŽ°ï¼‰çš„å‡ºçŽ°ï¼Œè®©ç¨‹åºé‡Œçš„äº‹ä»¶ä¼ é€’å“åº”æ–¹æ³•åšåˆ°ç»Ÿä¸€ã€‚å°†ä¹‹å‰é‚£äº›å¸¸ç”¨çš„äº‹ä»¶ä¼ é€’æ–¹æ³•ï¼ˆæ¯”å¦‚ï¼šdelegateã€notificationã€target-action ç­‰ç­‰ï¼‰ï¼Œå…¨éƒ¨æ›¿æ¢æˆ Rx çš„â€œä¿¡å·é“¾â€æ–¹å¼ å¦‚æžœä½¿ç”¨çš„æ˜¯ MVVM å¼€å‘æ¨¡å¼çš„è¯ï¼Œé€šè¿‡ RxSwift å¯ä»¥èŽ·å¾—æ›´åŠ æ–¹ä¾¿çš„æ•°æ®ç»‘å®šçš„æ–¹æ³•ï¼Œä½¿å¾— MVVM å¼€å‘æ›´åŠ å¦‚è™Žæ·»ç¿¼ RxSwift çš„å®‰è£…ä¸Žé…ç½® GitHub ä¸Šä¸‹è½½æˆ– cocopods å¯¼å…¥ 2 import RxSwiftimport RxCocoa RxSwift ä¸Ž RxCocoa RxSwiftï¼šå®ƒåªæ˜¯åŸºäºŽ Swift è¯­è¨€çš„ Rx æ ‡å‡†å®žçŽ°æŽ¥å£åº“ï¼Œæ‰€ä»¥ RxSwift é‡Œä¸åŒ…å«ä»»ä½• Cocoa æˆ–è€… UI æ–¹é¢çš„ç±» RxCocoaï¼šæ˜¯åŸºäºŽ RxSwift é’ˆå¯¹äºŽ iOS å¼€å‘çš„ä¸€ä¸ªåº“ï¼Œå®ƒé€šè¿‡ Extension çš„æ–¹æ³•ç»™åŽŸç”Ÿçš„æ¯”å¦‚ UI æŽ§ä»¶æ·»åŠ äº† Rx çš„ç‰¹æ€§ï¼Œä½¿å¾—æˆ‘ä»¬æ›´å®¹æ˜“è®¢é˜…å’Œå“åº”è¿™äº›æŽ§ä»¶çš„äº‹ä»¶]]></content>
      <categories>
        <category>RxSwift</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Grammar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-ç®€å•åŸºç¡€é¡¹ç›®]]></title>
    <url>%2F2017%2F12%2F15%2FRxSwift%2FGrammar%2F%E7%AE%80%E5%8D%95%E5%9F%BA%E7%A1%80%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[ç»“æž„â”œâ”€â”€ Controllerâ”‚ â””â”€â”€ LXFViewController.swift // ä¸»è§†å›¾æŽ§åˆ¶å™¨â”‚â”œâ”€â”€ Extensionâ”‚ â””â”€â”€ Response+ObjectMapper.swift // Responseåˆ†ç±»ï¼ŒMoyaè¯·æ±‚å®Œè¿›è¡ŒJsonè½¬æ¨¡åž‹æˆ–æ¨¡åž‹æ•°ç»„â”‚â”œâ”€â”€ Modelâ”‚ â””â”€â”€ LXFModel.swift // æ¨¡åž‹â”‚â”œâ”€â”€ Protocolâ”‚ â””â”€â”€ LXFViewModelType.swift // å®šä¹‰äº†æ¨¡åž‹åè®®â”‚â”œâ”€â”€ Toolâ”‚ â”œâ”€â”€ LXFNetworkTool.swift // å°è£…Moyaè¯·æ±‚â”‚ â”‚â”‚ â””â”€â”€ LXFProgressHUD.swift // å°è£…çš„HUDâ”‚â”œâ”€â”€ Viewâ”‚ â”œâ”€â”€ LXFViewCell.swift // è‡ªå®šä¹‰cellâ”‚ â”‚â”‚ â””â”€â”€ LXFViewCell.xib // cellçš„xibæ–‡ä»¶â”‚â””â”€â”€ ViewModel â”‚ â””â”€â”€ LXFViewModel.swift // è§†å›¾æ¨¡åž‹ Lib RxSwift // æƒ³çŽ©RxSwiftçš„å¿…å¤‡åº“RxCocoa // å¯¹ UIKit Foundation è¿›è¡Œ Rx åŒ–NSObject+Rx // ä¸ºæˆ‘ä»¬æä¾› rx_disposeBag Moya/RxSwift // ä¸ºRxSwiftä¸“ç”¨æä¾›ï¼Œå¯¹Alamofireè¿›è¡Œå°è£…çš„ä¸€ä¸ªç½‘ç»œè¯·æ±‚åº“ObjectMapper // Jsonè½¬æ¨¡åž‹ä¹‹å¿…å¤‡è‰¯å“RxDataSources // å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨tableViewçš„æ•°æ®æºæ–¹æ³•Then // æä¾›å¿«é€Ÿåˆå§‹åŒ–çš„è¯­æ³•ç³–Kingfisher // å›¾ç‰‡åŠ è½½åº“SnapKit // è§†å›¾çº¦æŸåº“Reusable // å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„ä½¿ç”¨è‡ªå®šä¹‰cellå’Œview,ä¸å†å‡ºçŽ°OptionalMJRefresh // ä¸Šæ‹‰åŠ è½½ã€ä¸‹æ‹‰åˆ·æ–°çš„åº“SVProgressHUD // ç®€å•æ˜“ç”¨çš„HUD Moyaçš„ä½¿ç”¨ Moyaæ˜¯åŸºäºŽAlamofireçš„ç½‘ç»œè¯·æ±‚åº“ ä½¿ç”¨äº†Moya/Swiftï¼Œå®ƒåœ¨Moyaçš„åŸºç¡€ä¸Šæ·»åŠ äº†å¯¹RxSwiftçš„æŽ¥å£æ”¯æŒã€‚æŽ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯´ä¸‹Moyaçš„ä½¿ç”¨ åˆ›å»ºä¸€ä¸ªæžšä¸¾ï¼Œç”¨æ¥å­˜æ”¾è¯·æ±‚ç±»åž‹ï¼Œè¿™é‡Œæˆ‘é¡ºä¾¿è®¾ç½®ç›¸åº”çš„è·¯å¾„ï¼Œç­‰ä¸‹ç»Ÿä¸€å–å‡ºæ¥ç›´æŽ¥èµ‹å€¼å³å¯ enum LXFNetworkTool &#123; enum LXFNetworkCategory: String &#123; case all = "all" case android = "Android" case ios = "iOS" case welfare = "ç¦åˆ©" &#125; case data(type: LXFNetworkCategory, size:Int, index:Int)&#125; ä¸ºè¿™ä¸ªæžšä¸¾å†™ä¸€ä¸ªæ‰©å±•ï¼Œå¹¶éµå¾ªå¡„ TargetTypeï¼Œè¿™ä¸ªåè®®çš„Moyaè¿™ä¸ªåº“è§„å®šçš„åè®®ï¼Œå¯ä»¥æŒ‰ä½Commondé”®+å•å‡»å·¦é”®è¿›å…¥ç›¸åº”çš„æ–‡ä»¶è¿›è¡ŒæŸ¥çœ‹ extension LXFNetworkTool: TargetType &#123; /// baseURL ç»Ÿä¸€åŸºæœ¬çš„URL var baseURL: URL &#123; return URL(string: "http://gank.io/api/data/")! &#125; /// pathå­—æ®µä¼šè¿½åŠ è‡³baseURLåŽé¢ var path: String &#123; switch self &#123; case .data(let type, let size, let index): return "\(type.rawValue)/\(size)/\(index)" &#125; &#125; /// HTTPçš„è¯·æ±‚æ–¹å¼ var method: Moya.Method &#123; return .get &#125; /// è¯·æ±‚å‚æ•°(ä¼šåœ¨è¯·æ±‚æ—¶è¿›è¡Œç¼–ç ) var parameters: [String: Any]? &#123; return nil &#125; /// å‚æ•°ç¼–ç æ–¹å¼(è¿™é‡Œä½¿ç”¨URLçš„é»˜è®¤æ–¹å¼) var parameterEncoding: ParameterEncoding &#123; return URLEncoding.default &#125; /// è¿™é‡Œç”¨äºŽå•å…ƒæµ‹è¯•ï¼Œä¸éœ€è¦çš„å°±åƒæˆ‘ä¸€æ ·éšä¾¿å†™å†™ var sampleData: Data &#123; return "LinXunFeng".data(using: .utf8)! &#125; /// å°†è¦è¢«æ‰§è¡Œçš„ä»»åŠ¡(è¯·æ±‚ï¼šrequest ä¸‹è½½ï¼šupload ä¸Šä¼ ï¼šdownload) var task: Task &#123; return .request &#125; /// æ˜¯å¦æ‰§è¡ŒAlamofireéªŒè¯ï¼Œé»˜è®¤å€¼ä¸ºfalse var validate: Bool &#123; return false &#125;&#125; å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ç”¨äºŽæ•´ä¸ªé¡¹ç›®çš„ç½‘ç»œè¯·æ±‚ let lxfNetTool = RxMoyaProvider&lt;LXFNetworkTool&gt;() RxDataSources å¦‚ä½•ä¼˜é›…çš„æ¥å®žçŽ°tableViewçš„æ•°æ®æºã€‚å…¶å®žRxDataSourceså®˜ç½‘ä¸Šå·²ç»æœ‰å¾ˆæ˜Žç¡®çš„ä½¿ç”¨è¯´æ˜Žï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯æ€»ç»“ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹å§æ¦‚å¿µç‚¹ :RxDataSourcesæ˜¯ä»¥sectionæ¥åšä¸ºæ•°æ®ç»“æž„æ¥ä¼ è¾“ï¼Œè¿™ç‚¹å¾ˆé‡è¦ï¼Œå¯èƒ½å¾ˆå¤šåŒå­¦ä¼šæ¯”è¾ƒç–‘æƒ‘è¿™å¥è¯å§ï¼Œæˆ‘åœ¨æ­¤ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¼ ç»Ÿçš„æ•°æ®æºå®žçŽ°çš„æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªnumberOfSectionï¼Œæˆ‘ä»¬åœ¨å¾ˆå¤šæƒ…å†µä¸‹åªéœ€è¦ä¸€ä¸ªsectionï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•å¯å®žçŽ°ï¼Œä¹Ÿå¯ä»¥ä¸å®žçŽ°ï¼Œé»˜è®¤è¿”å›žçš„å°±æ˜¯1ï¼Œè¿™ç»™æˆ‘ä»¬å¸¦æ¥çš„ä¸€ä¸ªè¿·æƒ‘ç‚¹ï¼šã€tableViewæ˜¯ç”±rowæ¥ç»„æˆçš„ã€‘ï¼Œä¸çŸ¥é“åœ¨åçš„å„ä½ä¸­æœ‰æ²¡æœ‰æ˜¯è¿™ä¹ˆæƒ³çš„å‘¢ï¼Ÿï¼Ÿæœ‰çš„è¯é‚£ä»Žä»Šå¤©å¼€å§‹å°±è¦è®¤æ¸…æ¥šè¿™ä¸€ç‚¹ï¼Œã€tableViewå…¶å®žæ˜¯ç”±sectionç»„æˆçš„ã€‘ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨RxDataSourcesçš„è¿‡ç¨‹ä¸­ï¼Œå³ä½¿ä½ çš„setionåªæœ‰ä¸€ä¸ªï¼Œé‚£ä½ ä¹Ÿå¾—è¿”å›žä¸€ä¸ªsectionçš„æ•°ç»„å‡ºåŽ» è‡ªå®šä¹‰Section åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„Modelä¸­åˆ›å»ºä¸€ä¸ªSectionçš„ç»“æž„ä½“ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ‰©å±•ï¼Œéµå¾ªSectionModelTypeåè®®ï¼Œå®žçŽ°ç›¸åº”çš„åè®®æ–¹æ³•ã€‚çº¦å®šä¿—æˆçš„å†™æ³•å‘¢è¯·å‚è€ƒå¦‚ä¸‹æ–¹å¼ LXFModel.swiftstruct LXFSection &#123; // itemså°±æ˜¯rows var items: [Item] // ä½ ä¹Ÿå¯ä»¥è¿™é‡ŒåŠ ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ headerView çš„ title&#125;extension LXFSection: SectionModelType &#123; // é‡å®šä¹‰ Item çš„ç±»åž‹ä¸º LXFModel typealias Item = LXFModel // å®žçŽ°åè®®ä¸­çš„æ–¹å¼ init(original: LXFSection, items: [LXFSection.Item]) &#123; self = original self.items = items &#125;&#125; åœ¨æŽ§åˆ¶å™¨ä¸‹åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±žæ€§ ä»¥ä¸‹ä»£ç å‡åœ¨ LXFViewController.swift æ–‡ä»¶ä¸­ // åˆ›å»ºä¸€ä¸ªæ•°æ®æºå±žæ€§ï¼Œç±»åž‹ä¸ºè‡ªå®šä¹‰çš„Sectionç±»åž‹let dataSource = RxTableViewSectionedReloadDataSource&lt;LXFSection&gt;() ä½¿ç”¨æ•°æ®æºå±žæ€§ç»‘å®šæˆ‘ä»¬çš„cell // ç»‘å®šcelldataSource.configureCell = &#123; ds, tv, ip, item in // è¿™ä¸ªåœ°æ–¹ä½¿ç”¨äº†Reusableè¿™ä¸ªåº“ï¼Œåœ¨LXFViewCellä¸­éµå®ˆäº†ç›¸åº”çš„åè®® // ä½¿å…¶æ–¹ä¾¿è½¬æ¢cellä¸ºéžå¯é€‰åž‹çš„ç›¸åº”çš„cellç±»åž‹ let cell = tv.dequeueReusableCell(for: ip) as LXFViewCell cell.picView.kf.setImage(with: URL(string: item.url)) cell.descLabel.text = "æè¿°: \(item.desc)" cell.sourceLabel.text = "æ¥æº: \(item.source)" return cell&#125; å°†sectionsåºåˆ—ç»‘å®šç»™æˆ‘ä»¬çš„rowsoutput.sections.asDriver().drive(tableView.rx.items(dataSource:dataSource)).addDisposableTo(rx_disposeBag) ViewModelçš„è§„èŒƒ MVVMæ€æƒ³å°±æ˜¯å°†åŽŸæœ¬åœ¨ViewControllerçš„è§†å›¾æ˜¾ç¤ºé€»è¾‘ã€éªŒè¯é€»è¾‘ã€ç½‘ç»œè¯·æ±‚ç­‰ä»£ç å­˜æ”¾äºŽViewModelä¸­ï¼Œè®©æˆ‘ä»¬æ‰‹ä¸­çš„ViewControllerç˜¦èº«ã€‚è¿™äº›é€»è¾‘ç”±ViewModelè´Ÿè´£ï¼Œå¤–ç•Œä¸éœ€è¦å…³å¿ƒï¼Œå¤–ç•Œåªéœ€è¦ç»“æžœï¼ŒViewModelä¹Ÿåªéœ€è¦å°†ç»“æžœç»™åˆ°å¤–ç•Œï¼ŒåŸºäºŽæ­¤ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåè®®LXFViewModelType åˆ›å»ºä¸€ä¸ªLXFViewModelType.swift LXFViewModelType.swift// associatedtype å…³é”®å­— ç”¨æ¥å£°æ˜Žä¸€ä¸ªç±»åž‹çš„å ä½ç¬¦ä½œä¸ºåè®®å®šä¹‰çš„ä¸€éƒ¨åˆ†protocol LXFViewModelType &#123; associatedtype Input associatedtype Output func transform(input: Input) -&gt; Output&#125; viewModeléµå®ˆLXFViewModelTypeåè®® å¯ä»¥ä¸ºXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«åï¼Œä»¥ç¤ºåŒºåˆ†ï¼Œå¦‚ï¼šä½ è¿™ä¸ªviewModelçš„ç”¨äºŽè¯·æ±‚é¦–é¡µæ¨¡å—ç›¸å…³è”çš„ï¼Œåˆ™å¯ä»¥å‘½åä¸ºï¼šHomeInput å’Œ HomeOutput å¯ä»¥ä¸°å¯Œæˆ‘ä»¬çš„ Input å’Œ Output ã€‚å¯ä»¥çœ‹åˆ°æˆ‘ä¸ºOutputæ·»åŠ äº†ä¸€ä¸ªåºåˆ—ï¼Œç±»åž‹ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„LXFSectionæ•°ç»„ï¼Œåœ¨Inputé‡Œé¢æ·»åŠ äº†ä¸€ä¸ªè¯·æ±‚ç±»åž‹(å³è¦è¯·æ±‚ä»€ä¹ˆæ•°æ®ï¼Œæ¯”å¦‚é¦–é¡µçš„æ•°æ®) é€šè¿‡ transform æ–¹æ³•å°†inputæºå¸¦çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆäº†ä¸€ä¸ªOutput ä»¥ä¸‹ä»£ç ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œè¿›è¡Œäº†éƒ¨åˆ†åˆ å‡ LXFViewModel.swiftextension LXFViewModel: LXFViewModelType &#123; // å­˜æ”¾ç€è§£æžå®Œæˆçš„æ¨¡åž‹æ•°ç»„ let models = Variable&lt;[LXFModel]&gt;([]) // ä¸ºLXFViewModelTypeçš„Inputå’ŒOutputå®šä¹‰åˆ«å typealias Input = LXFInput typealias Output = LXFOutput // ä¸°å¯Œæˆ‘ä»¬çš„Inputå’ŒOutput struct LXFInput &#123; // ç½‘ç»œè¯·æ±‚ç±»åž‹ let category: LXFNetworkTool.LXFNetworkCategory init(category: LXFNetworkTool.LXFNetworkCategory) &#123; self.category = category &#125; &#125; struct LXFOutput &#123; // tableViewçš„sectionsæ•°æ® let sections: Driver&lt;[LXFSection]&gt; init(sections: Driver&lt;[LXFSection]&gt;) &#123; self.sections = sections &#125; &#125; func transform(input: LXFViewModel.LXFInput) -&gt; LXFViewModel.LXFOutput &#123; let sections = models.asObservable().map &#123; (models) -&gt; [LXFSection] in // å½“modelsçš„å€¼è¢«æ”¹å˜æ—¶ä¼šè°ƒç”¨ï¼Œè¿™æ˜¯Variableçš„ç‰¹æ€§ return [LXFSection(items: models)] // è¿”å›žsectionæ•°ç»„ &#125;.asDriver(onErrorJustReturn: []) let output = LXFOutput(sections: sections) // æŽ¥ä¸‹æ¥çš„ä»£ç æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œè¯·ç»“åˆé¡¹ç›®æŸ¥çœ‹ï¼Œä¸ç„¶ä¼šä¸æ–¹ä¾¿é˜…è¯»å’Œç†è§£ &#125;&#125; åœ¨ViewControllerä¸­åˆå§‹åŒ–æˆ‘ä»¬çš„inputï¼Œé€šè¿‡transformå¾—åˆ°outputï¼Œç„¶åŽå°†æˆ‘ä»¬outputä¸­çš„sectionsåºåˆ—ç»‘å®štableViewçš„items LXFViewController.swift// åˆå§‹åŒ–inputlet vmInput = LXFViewModel.LXFInput(category: .welfare)// é€šè¿‡transformå¾—åˆ°outputlet vmOutput = viewModel.transform(input: vmInput)vmOutput.sections.asDriver().drive(tableView.rx.items(dataSource: dataSource)).addDisposableTo(rx_disposeBag) RxSwiftä¸­ä½¿ç”¨MJRefreshå®šä¹‰ä¸€ä¸ªæžšä¸¾LXFRefreshStatusï¼Œç”¨äºŽæ ‡å¿—å½“å‰åˆ·æ–°çŠ¶æ€ enum LXFRefreshStatus &#123; case none case beingHeaderRefresh case endHeaderRefresh case beingFooterRefresh case endFooterRefresh case noMoreData&#125; åœ¨LXFOutputæ·»åŠ ä¸€ä¸ªrefreshStatusåºåˆ—ï¼Œç±»åž‹ä¸ºLXFRefreshStatus // ç»™å¤–ç•Œè®¢é˜…ï¼Œå‘Šè¯‰å¤–ç•Œçš„tableViewå½“å‰çš„åˆ·æ–°çŠ¶æ€let refreshStatus = Variable&lt;LXFRefreshStatus&gt;(.none) åœ¨è¿›è¡Œç½‘ç»œè¯·æ±‚å¹¶å¾—åˆ°ç»“æžœä¹‹åŽï¼Œä¿®æ”¹refreshStatusçš„valueä¸ºç›¸åº”çš„LXFRefreshStatusé¡¹ å¤–ç•Œè®¢é˜…outputçš„refreshStatus å¤–ç•Œè®¢é˜…outputçš„refreshStatusï¼Œå¹¶ä¸”æ ¹æ®æŽ¥æ”¶åˆ°çš„å€¼è¿›è¡Œç›¸åº”çš„æ“ä½œ vmOutput.refreshStatus.asObservable().subscribe(onNext: &#123;[weak self] status in switch status &#123; case .beingHeaderRefresh: self?.tableView.mj_header.beginRefreshing() case .endHeaderRefresh: self?.tableView.mj_header.endRefreshing() case .beingFooterRefresh: self?.tableView.mj_footer.beginRefreshing() case .endFooterRefresh: self?.tableView.mj_footer.endRefreshing() case .noMoreData: self?.tableView.mj_footer.endRefreshingWithNoMoreData() default: break &#125;&#125;).addDisposableTo(rx_disposeBag) outputæä¾›ä¸€ä¸ªrequestCommondç”¨äºŽè¯·æ±‚æ•°æ® PublishSubject çš„ç‰¹ç‚¹ï¼šå³å¯ä»¥ä½œä¸ºObservableï¼Œä¹Ÿå¯ä»¥ä½œä¸ºObserverï¼Œè¯´ç™½äº†å°±æ˜¯å¯ä»¥å‘é€ä¿¡å·ï¼Œä¹Ÿå¯ä»¥è®¢é˜…ä¿¡å· // å¤–ç•Œé€šè¿‡è¯¥å±žæ€§å‘Šè¯‰viewModelåŠ è½½æ•°æ®ï¼ˆä¼ å…¥çš„å€¼æ˜¯ä¸ºäº†æ ‡å¿—æ˜¯å¦é‡æ–°åŠ è½½ï¼‰let requestCommond = PublishSubject&lt;Bool&gt;() åœ¨transformä¸­ï¼Œæˆ‘ä»¬å¯¹ç”Ÿæˆçš„outputçš„requestCommondè¿›è¡Œè®¢é˜… output.requestCommond.subscribe(onNext: &#123;[unowned self] isReloadData in self.index = isReloadData ? 1 : self.index+1 lxfNetTool.request(.data(type: input.category, size: 10, index: self.index)).mapArray(LXFModel.self).subscribe(&#123; [weak self] (event) in switch event &#123; case let .next(modelArr): self?.models.value = isReloadData ? modelArr : (self?.models.value ?? []) + modelArr LXFProgressHUD.showSuccess("åŠ è½½æˆåŠŸ") case let .error(error): LXFProgressHUD.showError(error.localizedDescription) case .completed: output.refreshStatus.value = isReloadData ? .endHeaderRefresh : .endFooterRefresh &#125; &#125;).addDisposableTo(self.rx_disposeBag)&#125;).addDisposableTo(rx_disposeBag) åœ¨ViewControllerä¸­åˆå§‹åŒ–åˆ·æ–°æŽ§ä»¶ ä¸ºtableViewè®¾ç½®åˆ·æ–°æŽ§ä»¶ï¼Œå¹¶ä¸”åœ¨åˆ›å»ºåˆ·æ–°æŽ§ä»¶çš„å›žè°ƒä¸­ä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡å· tableView.mj_header = MJRefreshNormalHeader(refreshingBlock: &#123; vmOutput.requestCommond.onNext(true)&#125;)tableView.mj_footer = MJRefreshAutoNormalFooter(refreshingBlock: &#123; vmOutput.requestCommond.onNext(false)&#125;) æ€»ç»“æµç¨‹ ViewControllerå·²ç»æ‹¿åˆ°outputï¼Œå½“ä¸‹æ‹‰åŠ è½½æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨outputçš„requestCommondå‘å°„ä¿¡æ¯ï¼Œå‘Šè¯‰viewModelæˆ‘ä»¬è¦åŠ è½½æ•°æ® viewModelè¯·æ±‚æ•°æ®ï¼Œåœ¨å¤„ç†å®Œjsonè½¬æ¨¡åž‹æˆ–æ¨¡åž‹æ•°ç»„åŽä¿®æ”¹modelsï¼Œå½“modelsçš„å€¼è¢«ä¿®æ”¹çš„æ—¶å€™ä¼šå‘ä¿¡å·ç»™sectionsï¼Œsectionsåœ¨ViewControllerå·²ç»ç»‘å®šåˆ°tableViewçš„itemsäº†ï¼Œæ‰€ä»¥æ­¤æ—¶tableViewçš„æ•°æ®ä¼šè¢«æ›´æ–°ã€‚æŽ¥ç€æˆ‘ä»¬æ ¹æ®è¯·æ±‚ç»“æžœï¼Œä¿®æ”¹outputçš„refreshStatuså±žæ€§çš„å€¼ å½“outputçš„refreshStatuså±žæ€§çš„å€¼æ”¹å˜åŽï¼Œä¼šå‘å°„ä¿¡å·ï¼Œç”±äºŽå¤–ç•Œä¹‹å‰å·²ç»è®¢é˜…äº†outputçš„refreshStatusï¼Œæ­¤æ—¶å°±ä¼šæ ¹æ®refreshStatusçš„æ–°å€¼æ¥å¤„ç†åˆ·æ–°æŽ§ä»¶çš„çŠ¶æ€ yuan wen demo]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RxSwift-åŸºæœ¬ä»‹ç»&å®‰è£…é…ç½®-01]]></title>
    <url>%2F2017%2F12%2F15%2FRxSwift%2FGrammar%2F01%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D%26%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[#Rx ä»‹ç» Rx Rx æ˜¯ ReactiveX çš„ç¼©å†™ï¼Œç®€å•æ¥è¯´å°±æ˜¯åŸºäºŽå¼‚æ­¥ Eventï¼ˆäº‹ä»¶ï¼‰åºåˆ—çš„å“åº”å¼ç¼–ç¨‹ Rx å¯ä»¥ç®€åŒ–å¼‚æ­¥ç¼–ç¨‹æ–¹æ³•ï¼Œå¹¶æä¾›æ›´ä¼˜é›…çš„æ•°æ®ç»‘å®šã€‚è®©æˆ‘ä»¬å¯ä»¥æ—¶åˆ»å“åº”æ–°çš„æ•°æ®åŒæ—¶é¡ºåºåœ°å¤„ç†å®ƒä»¬ Rx åº“ Rx æœ¬èº«å¯ä»¥è¯´æ˜¯ä¸€ç§è·¨å¹³å°çš„æ ‡å‡†ï¼Œå®ƒæœ‰è‡ªå·±çš„ç¤¾åŒºè®ºå›ï¼Œä¸ç®¡æ˜¯ web è¿˜æ˜¯ç§»åŠ¨å¼€å‘ï¼Œéƒ½èƒ½ç”¨ Rx çš„æ€ç»´å’Œæ–¹æ³•æ¥å®Œæˆä½ çš„å·¥ä½œ ä½œä¸ºä¸€ç§è·¨å¹³å°æ ‡å‡†ï¼Œç›®å‰å·²ç»æœ‰è®¸å¤šåŸºäºŽä¸åŒå¼€å‘è¯­è¨€çš„ Rx çš„åº“ã€‚é™¤äº†æˆ‘åŽé¢ä¼šç€é‡ä»‹ç»çš„ RxSwift ä¹‹å¤–ï¼Œè¿˜æœ‰ RxJava, RxJS, RxKotlin, Rx.NETâ€¦ç­‰ç­‰ è¿™äº› Rx åº“è™½ç„¶ç”¨çš„è¯­è¨€ä¸åŒï¼Œä½†å®ƒä»¬ä¹‹é—´å…¶å®žéƒ½æ˜¯ç›¸é€šçš„ï¼Œéƒ½æœ‰ç›¸åŒçš„ APIã€‚æ‰€ä»¥è¯´å¦‚æžœä»¥åŽä½ ä½¿ç”¨åˆ«çš„è¯­è¨€åšå…¶ä»–çš„æ–¹é¢çš„å¼€å‘ï¼ŒåŒæ ·æ˜¯å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ€ç»´ç”šè‡³ç›¸åŒçš„æ–¹æ³•æŽ¥å£ï¼ˆé™¤äº†è¯­è¨€ä¸åŒï¼‰æ¥ç¼–ç¨‹ ##Rx ä¸»é¡µ å¦‚æžœæƒ³äº†è§£æ•´ä¸ª Rx å¤§å®¶åº­çš„æˆå‘˜ï¼Œå¯ä»¥è®¿é—®å®ƒçš„ä¸»é¡µ RxSwift ä»‹ç»RxSwift çš„ä½œç”¨ ç»å¸¸éœ€è¦æ£€æµ‹æŸäº›å€¼çš„å˜åŒ–ï¼ˆæ¯”å¦‚ï¼štextFiled è¾“å…¥å€¼çš„å˜åŒ–ã€æ•°æ®è¯·æ±‚å®Œæˆæˆ–å¤±è´¥çš„å˜åŒ–ï¼‰ï¼Œç„¶åŽè¿›è¡Œç›¸åº”çš„å¤„ç† è¿‡åŽ»é’ˆå¯¹ä¸åŒçš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨ä¸åŒçš„äº‹ä»¶ä¼ é€’æ–¹æ³•åŽ»å¤„ç†ï¼Œæ¯”å¦‚ï¼šdelegateã€notifinotionã€target-actionã€KVO ç­‰ç­‰ è€Œ RectiveX æœºåˆ¶ï¼ˆç”± RxSwift å®žçŽ°ï¼‰çš„å‡ºçŽ°ï¼Œè®©ç¨‹åºé‡Œçš„äº‹ä»¶ä¼ é€’å“åº”æ–¹æ³•åšåˆ°ç»Ÿä¸€ã€‚å°†ä¹‹å‰é‚£äº›å¸¸ç”¨çš„äº‹ä»¶ä¼ é€’æ–¹æ³•ï¼ˆæ¯”å¦‚ï¼šdelegateã€notificationã€target-action ç­‰ç­‰ï¼‰ï¼Œå…¨éƒ¨æ›¿æ¢æˆ Rx çš„â€œä¿¡å·é“¾â€æ–¹å¼ å¦‚æžœä½¿ç”¨çš„æ˜¯ MVVM å¼€å‘æ¨¡å¼çš„è¯ï¼Œé€šè¿‡ RxSwift å¯ä»¥èŽ·å¾—æ›´åŠ æ–¹ä¾¿çš„æ•°æ®ç»‘å®šçš„æ–¹æ³•ï¼Œä½¿å¾— MVVM å¼€å‘æ›´åŠ å¦‚è™Žæ·»ç¿¼ RxSwift çš„å®‰è£…ä¸Žé…ç½® GitHub ä¸Šä¸‹è½½æˆ– cocopods å¯¼å…¥ 2 import RxSwiftimport RxCocoa RxSwift ä¸Ž RxCocoa RxSwiftï¼šå®ƒåªæ˜¯åŸºäºŽ Swift è¯­è¨€çš„ Rx æ ‡å‡†å®žçŽ°æŽ¥å£åº“ï¼Œæ‰€ä»¥ RxSwift é‡Œä¸åŒ…å«ä»»ä½• Cocoa æˆ–è€… UI æ–¹é¢çš„ç±» RxCocoaï¼šæ˜¯åŸºäºŽ RxSwift é’ˆå¯¹äºŽ iOS å¼€å‘çš„ä¸€ä¸ªåº“ï¼Œå®ƒé€šè¿‡ Extension çš„æ–¹æ³•ç»™åŽŸç”Ÿçš„æ¯”å¦‚ UI æŽ§ä»¶æ·»åŠ äº† Rx çš„ç‰¹æ€§ï¼Œä½¿å¾—æˆ‘ä»¬æ›´å®¹æ˜“è®¢é˜…å’Œå“åº”è¿™äº›æŽ§ä»¶çš„äº‹ä»¶ ä¸¤ç§ç¼–ç¨‹æ–¹å¼çš„æ¯”è¾ƒæ ·ä¾‹éœ€æ±‚ ä»¥æœ€å¸¸è§çš„ tableView æ•°æ®å±•ç¤ºåŠŸèƒ½ä¸ºä¾‹ä½œä¸ºæ¼”ç¤ºã€‚åŽé¢åˆ†åˆ«ä½¿ç”¨ä¼ ç»Ÿå†™æ³•ï¼Œä»¥åŠä½¿ç”¨ RxSwift å“åº”å¼å†™æ³•æ¥å®žçŽ° è¡¨æ ¼ä¸­æ˜¾ç¤ºçš„æ˜¯æ­Œæ›²ä¿¡æ¯ï¼ˆæ­Œåï¼Œä»¥åŠæ­Œæ‰‹ï¼‰ ç‚¹å‡»é€‰ä¸­ä»»æ„ä¸€ä¸ªå•å…ƒæ ¼ï¼Œåœ¨æŽ§åˆ¶å°ä¸­æ‰“å°å‡ºå¯¹åº”çš„æ­Œæ›²ä¿¡æ¯ å®žçŽ° é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª Music çš„ç»“æž„ä½“ï¼Œç”¨æ¥ä¿å­˜æ­Œæ›²åç§°ã€æ­Œæ‰‹åå­—ã€‚æ­¤å¤–å®ƒè¿˜éµå¾ª CustomStringConvertible åè®®ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¾“å‡ºè°ƒè¯• //æ­Œæ›²ç»“æž„ä½“struct Music &#123; let name: String //æ­Œå let singer: String //æ¼”å”±è€… init(name: String, singer: String)&#123; self.name = name self.singer = singer &#125; &#125;extension Music: CustomStringConvertible &#123; var description: String &#123; return "name:\(name) singer:\(singer)" &#125;&#125; ä¼ ç»Ÿå¼ç¼–ç¨‹ ViewModel import Foundation //æ­Œæ›²åˆ—è¡¨æ•°æ®æºstruct MusicListViewModel &#123; let data = [ Music(name: "æ— æ¡ä»¶", singer: "é™ˆå¥•è¿…"), Music(name: "ä½ æ›¾æ˜¯å°‘å¹´", singer: "S.H.E"), Music(name: "ä»Žå‰çš„æˆ‘", singer: "é™ˆæ´ä»ª"), Music(name: "åœ¨æœ¨æ˜Ÿ", singer: "æœ´æ ‘"), ]&#125; è§†å›¾æŽ§åˆ¶å™¨ä»£ç ï¼ˆViewController.swift è®¾ç½® UITableView çš„å§”æ‰˜ï¼Œå¹¶è®©è§†å›¾æŽ§åˆ¶å™¨å®žçŽ° UITableViewDataSource å’Œ UITableViewDelegate åè®®ï¼ŒåŠç›¸å…³çš„åè®®æ–¹æ³• import UIKitimport RxSwift class ViewController: UIViewController &#123; //tableViewå¯¹è±¡ @IBOutlet weak var tableView: UITableView! //æ­Œæ›²åˆ—è¡¨æ•°æ®æº let musicListViewModel = MusicListViewModel() override func viewDidLoad() &#123; super.viewDidLoad() //è®¾ç½®ä»£ç† tableView.dataSource = self tableView.delegate = self &#125;&#125; extension ViewController: UITableViewDataSource &#123; //è¿”å›žå•å…ƒæ ¼æ•°é‡ func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return musicListViewModel.data.count &#125; //è¿”å›žå¯¹åº”çš„å•å…ƒæ ¼ func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; let cell = tableView.dequeueReusableCell(withIdentifier: "musicCell")! let music = musicListViewModel.data[indexPath.row] cell.textLabel?.text = music.name cell.detailTextLabel?.text = music.singer return cell &#125;&#125; extension ViewController: UITableViewDelegate &#123; //å•å…ƒæ ¼ç‚¹å‡» func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; print("ä½ é€‰ä¸­çš„æ­Œæ›²ä¿¡æ¯ã€\(musicListViewModel.data[indexPath.row])ã€‘") &#125;&#125; RxSwift è¿›è¡Œæ”¹é€ ï¼ˆå“åº”å¼ç¼–ç¨‹ï¼‰ ViewModel data å±žæ€§å˜æˆä¸€ä¸ªå¯è§‚å¯Ÿåºåˆ—å¯¹è±¡ï¼ˆObservable Squenceï¼‰ï¼Œè€Œå¯¹è±¡å½“ä¸­çš„å†…å®¹å’Œæˆ‘ä»¬ä¹‹å‰åœ¨æ•°ç»„å½“ä¸­æ‰€åŒ…å«çš„å†…å®¹æ˜¯å®Œå…¨ä¸€æ ·çš„ import RxSwift //æ­Œæ›²åˆ—è¡¨æ•°æ®æºstruct MusicListViewModel &#123; let data = Observable.just([ Music(name: "æ— æ¡ä»¶", singer: "é™ˆå¥•è¿…"), Music(name: "ä½ æ›¾æ˜¯å°‘å¹´", singer: "S.H.E"), Music(name: "ä»Žå‰çš„æˆ‘", singer: "é™ˆæ´ä»ª"), Music(name: "åœ¨æœ¨æ˜Ÿ", singer: "æœ´æ ‘"), ])&#125; è§†å›¾æŽ§åˆ¶å™¨ä»£ç ï¼ˆViewController.swiftï¼‰ DisposeBagï¼šä½œç”¨æ˜¯ Rx åœ¨è§†å›¾æŽ§åˆ¶å™¨æˆ–è€…å…¶æŒæœ‰è€…å°†è¦é”€æ¯çš„æ—¶å€™ï¼Œè‡ªåŠ¨é‡Šæ³•æŽ‰ç»‘å®šåœ¨å®ƒä¸Šé¢çš„èµ„æºã€‚å®ƒæ˜¯é€šè¿‡ç±»ä¼¼â€œè®¢é˜…å¤„ç½®æœºåˆ¶â€æ–¹å¼å®žçŽ°ï¼ˆç±»ä¼¼äºŽ NotificationCenter çš„ removeObserverï¼‰ã€‚ rx.items(cellIdentifier:ï¼‰:è¿™æ˜¯ Rx åŸºäºŽ cellForRowAt æ•°æ®æºæ–¹æ³•çš„ä¸€ä¸ªå°è£…ã€‚ä¼ ç»Ÿæ–¹å¼ä¸­æˆ‘ä»¬è¿˜è¦æœ‰ä¸ª numberOfRowsInSection æ–¹æ³•ï¼Œä½¿ç”¨ Rx åŽå°±ä¸å†éœ€è¦äº†ï¼ˆRx å·²ç»å¸®æˆ‘ä»¬å®Œæˆäº†ç›¸å…³å·¥ä½œï¼‰ã€‚ rx.modelSelectedï¼š è¿™æ˜¯ Rx åŸºäºŽ UITableView å§”æ‰˜å›žè°ƒæ–¹æ³• didSelectRowAt çš„ä¸€ä¸ªå°è£…ã€‚ import UIKitimport RxSwiftimport RxCocoa class ViewController: UIViewController &#123; //tableViewå¯¹è±¡ @IBOutlet weak var tableView: UITableView! //æ­Œæ›²åˆ—è¡¨æ•°æ®æº let musicListViewModel = MusicListViewModel() //è´Ÿè´£å¯¹è±¡é”€æ¯ let disposeBag = DisposeBag() override func viewDidLoad() &#123; super.viewDidLoad() //å°†æ•°æ®æºæ•°æ®ç»‘å®šåˆ°tableViewä¸Š musicListViewModel.data .bind(to: tableView.rx.items(cellIdentifier:"musicCell")) &#123; _, music, cell in cell.textLabel?.text = music.name cell.detailTextLabel?.text = music.singer &#125;.disposed(by: disposeBag) //tableViewç‚¹å‡»å“åº” tableView.rx.modelSelected(Music.self).subscribe(onNext: &#123; music in print("ä½ é€‰ä¸­çš„æ­Œæ›²ä¿¡æ¯ã€\(music)ã€‘") &#125;).disposed(by: disposeBag) &#125;&#125;]]></content>
      <categories>
        <category>RxSwift</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Grammar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-Grammar- èµ„æ–™]]></title>
    <url>%2F2017%2F12%2F15%2FRxSwift%2FGrammar%2FRxSwift-%E8%B5%84%E6%96%99%2F</url>
    <content type="text"><![CDATA[Driver RxSwiftåœ¨UITableViewCellæˆ–è€…UICollectionViewCellä¸­ç»‘å®šæ•°æ®é‡åˆ°çš„UIæ··ä¹±çš„é—®é¢˜ ã€RxSwiftç³»åˆ—ã€‘ç”¨RxSwiftå®žçŽ°ä¸€ä¸ªUITableViewï¼ˆä¸€ï¼‰ MVVMæ¨¡å¼ä»¿å†™æ–—é±¼APPé¦–é¡µ RxSwiftè¿›é˜¶ä¸Žå®žæˆ˜]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
        <tag>Grammar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-UIæŽ§ä»¶çš„æ‰©å±•]]></title>
    <url>%2F2017%2F12%2F15%2FRxSwift%2FGrammar%2F%E5%9F%BA%E6%9C%ACUI%E6%8E%A7%E4%BB%B6%E7%9A%84%E6%89%A9%E5%B1%95%2F</url>
    <content type="text"><![CDATA[UITextField / UITextViewç›‘å¬å¤šä¸ªUITextField ç›‘å¬ä¸‰ä¸ªUITextFieldéšä¾¿å“ªä¸ªçš„textå˜åŒ–äº†ï¼Œéƒ½ä¼šå¼•èµ·ä»£ç æ‰§è¡Œï¼Œå¹¶ä¸”ç»“æžœèµ‹å€¼åˆ°resultçš„text @IBOutlet weak var number1: UITextField!@IBOutlet weak var number2: UITextField!@IBOutlet weak var number3: UITextField!@IBOutlet weak var result: UILabel!var disposeBag = DisposeBag()override func viewDidLoad() &#123; super.viewDidLoad() Observable.combineLatest(number1.rx.text.orEmpty, number2.rx.text.orEmpty, number3.rx.text.orEmpty) &#123; textValue1, textValue2, textValue3 -&gt; Int in return (Int(textValue1) ?? 0) + (Int(textValue2) ?? 0) + (Int(textValue3) ?? 0) &#125; .map &#123; $0.description &#125; .bindTo(result.rx.text) .disposed(by: disposeBag)&#125; å•ä¸ªUITextFieldå˜åŒ–ç›‘å¬ å®˜æ–¹ï¼š // also test two way bindinglet textValue = Variable("")_ = textField.rx.textInput &lt;-&gt; textValuetextValue.asObservable() .subscribe(onNext: &#123; [weak self] x in self?.debug("UITextField text \(x)") &#125;) .disposed(by: disposeBag) ä¾‹å­ï¼šå•ä¸ªUITextFieldäº‹ä»¶ç›‘å¬ usernameTF.rx.controlEvent([.editingDidBegin]) //çŠ¶æ€å¯ä»¥ç»„åˆ .asObservable() .subscribe(onNext: &#123; _ in print("begin edit") &#125;).disposed(by: disposeBag) UITextFieldé‡åˆ°é”®ç›˜Next/GoæŒ‰é’®æ—¶ï¼Œç„¦ç‚¹çš„åˆ‡æ¢ è¿™é‡Œæœ‰ä¸ªå°å‘ï¼Œå¦‚æžœusernameTFå’ŒpasswordTFç”¨äº†Observable.combineLatestç„¶åŽè®¢é˜…çš„è¯ï¼Œä½ ä¼šå‘çŽ°ä¸‹é¢çš„delegateä»£ç æ²¡ç”¨äº†ï¼Œåœ¨usernameTFç‚¹å‡»Next/Goä¸èƒ½åˆ‡æ¢åˆ°passwordTFäº† func textFieldShouldReturn(_ textField: UITextField) -&gt; Bool &#123; if textField == usernameTF &#123; passwordTF.becomeFirstResponder() &#125; else &#123; passwordTF.resignFirstResponder() Log("view become") &#125; return true&#125; ç”¨äº‹ä»¶ç›‘å¬å³å¯ï¼Œç›‘å¬return keyç»“æŸç¼–è¾‘çš„äº‹ä»¶(editingDidEndOnExit)ï¼š /* editingDidEndOnExit: UIControlEvents // 'return key' ending editing */usernameTF.rx.controlEvent(.editingDidEndOnExit).subscribe(onNext: &#123; [weak self] (_) in self?.passwordTF.becomeFirstResponder()&#125;).disposed(by: disposeBag)passwordTF.rx.controlEvent(.editingDidEndOnExit).subscribe(onNext: &#123; [weak self] (_) in self?.passwordTF.resignFirstResponder()&#125;).disposed(by: disposeBag) UITextViewå˜åŒ–ç›‘å¬ / also test two way bindinglet textViewValue = Variable("")_ = textView.rx.textInput &lt;-&gt; textViewValuetextViewValue.asObservable() .subscribe(onNext: &#123; [weak self] x in self?.debug("UITextView text \(x)") &#125;) .disposed(by: disposeBag) UIButton / UIBarButtonItemç›‘å¬æŒ‰é’®çš„ç‚¹å‡»ï¼ˆtouchUpInsideï¼‰ @IBOutlet weak var doSomethingOutlet: UIButton! doSomethingOutlet.rx.tap .subscribe(onNext: &#123; [weak self] in self?.showAlert() //è¿™é‡ŒselfæŒ‡vc &#125;) .disposed(by: disposeBag) ä¹Ÿå¯ä»¥è¿™æ ·ï¼š button.rx.tap .bindNext &#123; [weak self] in self?.openAppPreferences() &#125; .disposed(by: disposeBag) UISegmentedControl / UISwitch ç›‘å¬çŠ¶æ€åˆ‡æ¢ // also test two way bindinglet segmentedValue = Variable(0)_ = segmentedControl.rx.value &lt;-&gt; segmentedValuesegmentedValue.asObservable() .subscribe(onNext: &#123; [weak self] x in self?.debug("UISegmentedControl value \(x)") &#125;) .disposed(by: disposeBag) // also test two way bindinglet switchValue = Variable(true)_ = switcher.rx.value &lt;-&gt; switchValueswitchValue.asObservable() .subscribe(onNext: &#123; [weak self] x in self?.debug("UISwitch value \(x)") &#125;) .disposed(by: disposeBag) UIActivityIndicatorView çŠ¶æ€æŒ‡ç¤ºå™¨æ ¹æ®UISwitchçš„çŠ¶æ€æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºæ—‹è½¬ switcher.rx.value .bindTo(activityIndicator.rx.isAnimating) .disposed(by: disposeBag) UISlider // also test two way bindinglet sliderValue = Variable&lt;Float&gt;(1.0)_ = slider.rx.value &lt;-&gt; sliderValuesliderValue.asObservable() .subscribe(onNext: &#123; [weak self] x in self?.debug("UISlider value \(x)") &#125;) .disposed(by: disposeBag) UIDatePicker // also test two way bindinglet dateValue = Variable(Date(timeIntervalSince1970: 0))_ = datePicker.rx.date &lt;-&gt; dateValuedateValue.asObservable() .subscribe(onNext: &#123; [weak self] x in self?.debug("UIDatePicker date \(x)") &#125;) .disposed(by: disposeBag) UIGestureRecognizer æ‰‹åŠ¿å›žè°ƒï¼Œxæ˜¯UIPanGestureRecognizerå¯¹è±¡ mypan.rx.event.subscribe(onNext: &#123; [weak self] x in self?.debug("UIGestureRecognizer event \(x.state)") let p = x.location(in: x.view) self?.debug("pan ges point: \(p)")&#125;).disposed(by: disposeBag) CLLocationManager è¿˜æœ‰ä¸€å †didxxxæ–¹æ³•ï¼Œè‡ªå·±Commandç‚¹è¿›åŽ»çœ‹ manager.requestWhenInUseAuthorization()manager.rx.didUpdateLocations .subscribe(onNext: &#123; x in print("rx.didUpdateLocations \(x)") &#125;) .disposed(by: disposeBag)_ = manager.rx.didFailWithError .subscribe(onNext: &#123; x in print("rx.didFailWithError \(x)") &#125;) manager.rx.didChangeAuthorizationStatus .subscribe(onNext: &#123; status in print("Authorization status \(status)") &#125;) .disposed(by: disposeBag) manager.startUpdatingLocation() UITableViewçš„æ‰©å±•å•ä¸ªsectionçš„æƒ…å†µ é™¤äº†ä¸‹é¢å‡ ä¸ªæœ€å¸¸ç”¨çš„ï¼Œè¿˜æœ‰itemDeselectedã€itemInsertedã€itemDeletedç­‰ç­‰è¡Œä¸ºå¯ä»¥è®¢é˜…ï¼Œè‡ªå·±Commandç‚¹è¿›åŽ»çœ‹ class SimpleTableViewExampleViewController : ViewController, UITableViewDelegate &#123; @IBOutlet weak var tableView: UITableView! override func viewDidLoad() &#123; super.viewDidLoad() let items = Observable.just( (0..&lt;20).map &#123; "\($0)" &#125; ) //å¤§æ¦‚æ˜¯å¯¹cellForRowAtIndexPathçš„å°è£… items .bindTo(tableView.rx.items(cellIdentifier: "Cell", cellType: UITableViewCell.self)) &#123; (row, element, cell) in //element æ˜¯ items[row]å…ƒç´  cell.textLabel?.text = "\(element) @ row \(row)" &#125; .disposed(by: disposeBag) //ç‚¹å‡»æŸä¸ªcellè§¦å‘, value æ˜¯ items[row]ï¼Œç±»ä¼¼çš„æ˜¯tableView.rx.itemSelectedï¼Œéƒ½æ˜¯å¯¹didSelectRowAtIndexPathçš„å°è£… tableView.rx .modelSelected(String.self) .subscribe(onNext: &#123; value in DefaultWireframe.presentAlert("Tapped `\(value)`") &#125;) .disposed(by: disposeBag) //accessoryButtonTappedForRowWithIndexPath tableView.rx .itemAccessoryButtonTapped .subscribe(onNext: &#123; indexPath in DefaultWireframe.presentAlert("Tapped Detail @ \(indexPath.section),\(indexPath.row)") &#125;) .disposed(by: disposeBag) &#125; &#125; å¤šsectionçš„æƒ…å†µ class SimpleTableViewExampleSectionedViewController : ViewController, UITableViewDelegate &#123; @IBOutlet weak var tableView: UITableView! let dataSource = RxTableViewSectionedReloadDataSource&lt;SectionModel&lt;String, Double&gt;&gt;() override func viewDidLoad() &#123; super.viewDidLoad() let dataSource = self.dataSource let items = Observable.just([ SectionModel(model: "First section", items: [ 11.0, 12.0, 13.0 ]), SectionModel(model: "Second section", items: [ 21.0, 22.0, 23.0 ]), SectionModel(model: "Third section", items: [ 31.0, 32.0, 33.0 ]), ]) dataSource.configureCell = &#123; (_, tv, indexPath, element) in let cell = tv.dequeueReusableCell(withIdentifier: "Cell")! cell.textLabel?.text = "\(element) @ row \(indexPath.row)" return cell &#125; items .bindTo(tableView.rx.items(dataSource: dataSource)) .disposed(by: disposeBag) tableView.rx .itemSelected .map &#123; indexPath in return (indexPath, dataSource[indexPath]) &#125; .subscribe(onNext: &#123; indexPath, model in DefaultWireframe.presentAlert("Tapped `\(model)` @ \(indexPath)") &#125;) .disposed(by: disposeBag) tableView.rx .setDelegate(self) .disposed(by: disposeBag) &#125; func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -&gt; UIView? &#123; let label = UILabel(frame: CGRect.zero) label.text = dataSource[section].model return label &#125; func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat &#123; return 30 &#125; // to prevent swipe to delete behavior func tableView(_ tableView: UITableView, editingStyleForRowAt indexPath: IndexPath) -&gt; UITableViewCellEditingStyle &#123; return .none &#125;&#125; åŽŸæ–‡]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-Subject]]></title>
    <url>%2F2017%2F12%2F15%2FRxSwift%2FGrammar%2FSubject%2F</url>
    <content type="text"><![CDATA[Subject Subjectæ˜¯observableå’ŒObserverä¹‹é—´çš„æ¡¥æ¢ä¸€ä¸ªSubjectæ—¢æ˜¯ä¸€ä¸ªObserableä¹Ÿæ˜¯ä¸€ä¸ªObserveræ—¢å¯ä»¥å‘å‡ºäº‹ä»¶ï¼Œä¹Ÿå¯ä»¥ç›‘å¬äº‹ä»¶Subjectæ˜¯ä¸€ä¸ªä»£ç†ï¼Œå®ƒæ—¢æ˜¯Observerï¼Œä¹Ÿæ˜¯Observableã€‚å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªObserverï¼Œå®ƒå¯ä»¥è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªObservable;å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªObservableï¼Œå®ƒåˆå¯ä»¥è¢«å…¶ä»–çš„Observerè®¢é˜…å¯ä»¥ä¼ é€’/è½¬å‘ä½œä¸ºObserveræ”¶åˆ°çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä¸»åŠ¨å‘å°„å€¼ã€‚ ä½œä¸ºä¸€ä¸ª Observer ï¼Œå®ƒå¯ä»¥è®¢é˜…åºåˆ— åŒæ—¶ä½œä¸ºä¸€ä¸ª Observable ï¼Œå®ƒå¯ä»¥è½¬å‘æˆ–è€…å‘å°„æ•°æ® Subject æœ‰ä»¥ä¸‹å‡ ç§ â‘ PublishSubject åªå‘å°„ç»™è§‚å¯Ÿè€…è®¢é˜…åŽçš„æ•°æ® â‘¡ReplaySubject â‘¢BehaviorSubject â‘£Variable PublishSubject, ReplaySubjectå’ŒBehaviorSubjectæ˜¯ä¸ä¼šè‡ªåŠ¨å‘å‡ºcompletedäº‹ä»¶çš„ â‘ PublishSubject å½“æœ‰è§‚å¯Ÿè€…è®¢é˜… PublishSubject æ—¶ï¼ŒPublishSubject ä¼šå‘å°„è®¢é˜…ä¹‹åŽçš„æ•°æ®ç»™è¿™ä¸ªè§‚å¯Ÿè€…,åªèƒ½æŽ¥æ”¶åˆ°è®¢é˜…ä»–ä¹‹åŽå‘ç”Ÿçš„äº‹ä»¶äºŽæ˜¯è¿™é‡Œå­˜åœ¨ä¸¢å¤±æ•°æ®çš„é—®é¢˜ï¼Œå¦‚éœ€å…¨éƒ¨æ•°æ®ï¼ŒæŽ¨èæ”¹ç”¨ ReplaySubjectsubject.onNext()å‘å‡ºonNextäº‹ä»¶å¯¹åº”çš„è¿˜æœ‰onError()å’ŒonCompleted()äº‹ä»¶ å¦‚æžœåºåˆ—å› ä¸ºé”™è¯¯ç»ˆæ­¢å‘å°„åºåˆ—ï¼Œæ­¤æ—¶ PublishSubject å°±ä¸ä¼šå‘å°„æ•°æ®ï¼Œåªæ˜¯ä¼ é€’è¿™æ¬¡é”™è¯¯äº‹ä»¶ let publishSubject = PublishSubject&lt;String&gt;()publishSubject.subscribe &#123; e in print("Subscription: 1, event: \(e)") &#125;.addDisposableTo(disposeBag)publishSubject.on(.Next("a"))publishSubject.on(.Next("b"))publishSubject.subscribe &#123; e in /// æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œè¿™ä¸ªè®¢é˜…åªæ”¶åˆ°äº†ä¸¤ä¸ªæ•°æ®ï¼Œåªæœ‰ "c" å’Œ "d" print("Subscription: 2, event: \(e)") &#125;.addDisposableTo(disposeBag)publishSubject.on(.Next("c"))publishSubject.on(.Next("d")) let disposeBag = DisposeBag()let subject = PublishSubject&lt;String&gt;() subject.addObserver("1").addDisposableTo(disposeBag)subject.onNext("ðŸ¶")subject.onNext("ðŸ±") subject.addObserver("2").addDisposableTo(disposeBag)subject.onNext("ðŸ…°ï¸")subject.onNext("ðŸ…±ï¸")Subscription: 1 Event: next(ðŸ¶)Subscription: 1 Event: next(ðŸ±)Subscription: 1 Event: next(ðŸ…°ï¸)Subscription: 2 Event: next(ðŸ…°ï¸)Subscription: 1 Event: next(ðŸ…±ï¸)Subscription: 2 Event: next(ðŸ…±ï¸) å…ˆä»¥PublishSubjectä¸ºä¾‹æ¥è§£é‡ŠSubjectæ˜¯ä¸€ä¸ªä»£ç†çš„å«ä¹‰ let subject = PublishSubject&lt;Int&gt;() subject.subscribe(&#123;(event) in print ("Event:\(event)") &#125;) //æ‰“å°ç»“æžœEvent:next(1)Event:next(2)Event:completed Subjectä½œä¸ºä¸€ä¸ªObservableæä¾›äº†subscribeç­‰æ–¹æ³• åœ¨è®¢é˜…ä¹‹åŽï¼Œè°ƒç”¨onNext()ï¼Œå‘Observerå‘å°„äº†1ã€2ï¼Œä»¥åŠonCompleted() è°ƒç”¨Subjectçš„onç³»åˆ—æ–¹æ³•ä¸»åŠ¨ç»™Observerå‘é€å€¼Subjectå¯ä»¥ä½œä¸ºä»£ç†è½¬å‘è®¢é˜…åˆ°çš„ç»“æžœ let subject = PublishSubject&lt;Int&gt;()subject.subscribe(&#123; (event) in print("Event:\(event)")&#125;) let reveseSubject = Observable&lt;Int&gt;.create(&#123; (observer) -&gt; Disposable in observer.onNext(1) observer.onNext(2) observer.onCompleted() return Disposables.create()&#125;) reveseSubject.subscribe(subject) subjectè®¢é˜…äº†reveseSubjectï¼Œå¹¶å°†ç»“æžœè½¬å‘ç»™äº†Observer Observerè®¢é˜…subjectæ—¶,ä¸ä¼šæ”¶åˆ°è®¢é˜…ä¹‹å‰subjectçš„å€¼ let subject = PublishSubject&lt;Int&gt;() subject.onNext(0) subject.subscribe(&#123; (event) in print("Event:\(event)")&#125;) subject.onNext(1)subject.onNext(2)subject.onCompleted()// æ‰“å°ç»“æžœEvent:next(1)Event:next(2)Event:completedobserveræ— æ³•æŽ¥æ”¶åˆ°0è¿™ä¸ªå€¼ â‘¡ReplaySubject å’Œ PushblishSubject ä¸åŒï¼Œä¸è®ºè§‚å¯Ÿè€…ä»€ä¹ˆæ—¶å€™è®¢é˜…ï¼Œ ReplaySubject éƒ½ä¼šå‘å°„å®Œæ•´çš„æ•°æ®ç»™è§‚å¯Ÿè€…ReplaySubjectå’ŒPublishSubjectä¸åŒçš„æ˜¯ï¼ŒObserveræœ‰å¯èƒ½æŽ¥æ”¶åˆ°è®¢é˜…ä¹‹å‰çš„å€¼ let replaySubject = ReplaySubject&lt;String&gt;.create(bufferSize: 2)replaySubject.subscribe &#123; e in print("Subscription: 1, event: \(e)") &#125;.addDisposableTo(disposeBag)replaySubject.on(.Next("a"))replaySubject.on(.Next("b"))replaySubject.subscribe &#123; e in /// æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œè¿™ä¸ªè®¢é˜…æ”¶åˆ°äº†å››ä¸ªæ•°æ® print("Subscription: 2, event: \(e)") &#125;.addDisposableTo(disposeBag)replaySubject.on(.Next("c"))replaySubject.on(.Next("d")) ReplaySubjectä¸¾ä¾‹åˆ†æž let subject = ReplaySubject.create(bufferSize: 1) subject.onNext(0) subject.subscribe(&#123; (event) in print("Event:\(event)") &#125;) subject.onNext(1) subject.onNext(2) subject.onCompleted() //æ‰“å°ç»“æžœ Event:next(0)Event:next(1)Event:next(2)Event:completed ReplaySubjectå…·æœ‰é‡æ”¾(replay)çš„åŠŸèƒ½ï¼Œreplayçš„ä¸ªæ•°å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šã€‚ å¯ä»¥å°†å…¶ç†è§£ä¸ºç¼“å­˜çš„æ•ˆæžœã€‚ ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨ReplaySubjectçš„æ—¶å€™ï¼Œéƒ½æ˜¯å…ˆå‘å°„ï¼ŒåŽè®¢é˜…ï¼Œç„¶åŽé€šè¿‡æŒ‡å®šç¼“å­˜çš„å¤§å°ï¼Œå¯ä»¥èŽ·å–å¯¹åº”çš„å€¼ã€‚(æ³¨æ„ï¼šä¸è€ƒè™‘Errorå’ŒCompleted) let subject = ReplaySubject&lt;Int&gt;.create(bufferSize: 1)subject.onNext(0)subject.onNext(1)subject.onNext(2)subject.subscribe(&#123; (event) in print ("Event:\(event)")&#125;)//æŒ‡å®šäº†bufferSizeç­‰äºŽ1ï¼Œæ‰€ä»¥åªç¼“å­˜äº†æœ€æ–°çš„å€¼ï¼Œæ‰“å°ç»“æžœEvent:next(2)Event:completed éœ€è¦ç¼“å­˜æ‰€æœ‰å€¼çš„æ—¶å€™,å¯ä»¥è°ƒç”¨createUnbounded()æ–¹æ³• â‘¢BehaviorSubject å½“ä¸€ä¸ªè§‚å¯Ÿè€…è®¢é˜…ä¸€ä¸ª BehaviorSubject ï¼Œå®ƒä¼šå‘é€åŽŸåºåˆ—æœ€è¿‘çš„é‚£ä¸ªå€¼ï¼ˆå¦‚æžœåŽŸåºåˆ—è¿˜æœ‰æ²¡å‘å°„å€¼é‚£å°±ç”¨ä¸€ä¸ªé»˜è®¤å€¼ä»£æ›¿ï¼‰ï¼Œä¹‹åŽç»§ç»­å‘å°„åŽŸåºåˆ—çš„å€¼ let behaviorSubject = BehaviorSubject(value: "z")behaviorSubject.subscribe &#123; e in print("Subscription: 1, event: \(e)") &#125;.addDisposableTo(disposeBag)behaviorSubject.on(.Next("a"))behaviorSubject.on(.Next("b"))behaviorSubject.subscribe &#123; e in /// æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œè¿™ä¸ªè®¢é˜…æ”¶åˆ°äº†å››ä¸ªæ•°æ® print("Subscription: 2, event: \(e)") &#125;.addDisposableTo(disposeBag)behaviorSubject.on(.Next("c"))behaviorSubject.on(.Next("d"))behaviorSubject.on(.Completed) PublishSubject, ReplaySubjectå’ŒBehaviorSubjectæ˜¯ä¸ä¼šè‡ªåŠ¨å‘å‡ºcompletedäº‹ä»¶çš„ let disposeBag = DisposeBag()let subject = BehaviorSubject(value: "ðŸ”´") subject.addObserver("1").addDisposableTo(disposeBag)subject.onNext("ðŸ¶")subject.onNext("ðŸ±") subject.addObserver("2").addDisposableTo(disposeBag)subject.onNext("ðŸ…°ï¸")subject.onNext("ðŸ…±ï¸") subject.addObserver("3").addDisposableTo(disposeBag)subject.onNext("ðŸ")subject.onNext("ðŸŠ")Subscription: 1 Event: next(ðŸ”´)Subscription: 1 Event: next(ðŸ¶)Subscription: 1 Event: next(ðŸ±)Subscription: 2 Event: next(ðŸ±) //è®¢é˜…ä¹‹å‰çš„æœ€åŽä¸€ä¸ªäº‹ä»¶Subscription: 1 Event: next(ðŸ…°ï¸)Subscription: 2 Event: next(ðŸ…°ï¸)Subscription: 1 Event: next(ðŸ…±ï¸)Subscription: 2 Event: next(ðŸ…±ï¸)Subscription: 3 Event: next(ðŸ…±ï¸) //è®¢é˜…ä¹‹å‰çš„æœ€åŽä¸€ä¸ªäº‹ä»¶Subscription: 1 Event: next(ðŸ)Subscription: 3 Event: next(ðŸ)Subscription: 2 Event: next(ðŸ)Subscription: 1 Event: next(ðŸŠ)Subscription: 3 Event: next(ðŸŠ)Subscription: 2 Event: next(ðŸŠ) BehaviorSubjectç±»ä¼¼äºŽReplaySubjectå…·æœ‰ç¼“å­˜èƒ½åŠ›ï¼Œä½†æ˜¯ç•¥æœ‰ä¸åŒåªç¼“å­˜ä¸€ä¸ªæœ€æ–°å€¼ï¼Œç±»ä¼¼ReplaySubject.create(bufferSize: 1)éœ€è¦æä¾›é»˜è®¤å€¼ let behaviorSubject = BehaviorSubject&lt;Int&gt;(value: 1)behaviorSubject.subscribe(&#123; (event) in print("Event:\(event)")&#125;)//æ‰“å°ç»“æžœEvent:next(1) ä½¿ç”¨BehaviorSubjectæœ‰ä¸€ç‚¹å¥½å¤„ï¼Œå¯ä»¥ç¡®å®šå½“Observerè®¢é˜…æ—¶ï¼Œè‡³å°‘å¯ä»¥æ”¶åˆ°æœ€æ–°çš„ä¸€ä¸ªå€¼ â‘£Variable Variable æ˜¯ BehaviorSubject çš„ä¸€ä¸ªå°è£…ç›¸æ¯” BehaviorSubject ï¼Œå®ƒä¸ä¼šå› ä¸ºé”™è¯¯ç»ˆæ­¢ä¹Ÿä¸ä¼šæ­£å¸¸ç»ˆæ­¢ï¼Œæ˜¯ä¸€ä¸ªæ— é™åºåˆ—Variableæ˜¯BehaviorSubjectä¸€ä¸ªåŒ…è£…ç®±ï¼Œå°±åƒæ˜¯ä¸€ä¸ªç®±å­ä¸€æ ·ï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦è°ƒç”¨asObservable()æ‹†ç®±ï¼Œé‡Œé¢çš„valueæ˜¯ä¸€ä¸ªBehaviorSubjectï¼Œä»–ä¸ä¼šå‘å‡ºerroräº‹ä»¶ï¼Œä½†æ˜¯ä¼šè‡ªåŠ¨å‘å‡ºcompletedäº‹ä»¶ let variable = Variable("z")variable.asObservable().subscribe &#123; e in print("Subscription: 1, event: \(e)") &#125;.addDisposableTo(disposeBag)variable.value = "a"variable.value = "b"variable.asObservable().subscribe &#123; e in print("Subscription: 1, event: \(e)") &#125;.addDisposableTo(disposeBag)variable.value = "c"variable.value = "d" æœ€å¸¸ç”¨çš„ Subject åº”è¯¥å°±æ˜¯ VariableVariable å¾ˆé€‚åˆåšæ•°æ®æºï¼Œæ¯”å¦‚ä½œä¸ºä¸€ä¸ª UITableView çš„æ•°æ®æºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œä¿ç•™ä¸€ä¸ªå®Œæ•´çš„ Array æ•°æ®ï¼Œæ¯ä¸€ä¸ªè®¢é˜…è€…éƒ½å¯ä»¥èŽ·å¾—è¿™ä¸ª Array let elements = Variable&lt;[String]&gt;([]) Variableå’ŒBehaviorSubjectåˆå¾ˆç›¸ä¼¼ï¼ŒVariableæ˜¯BehaviorSubjectçš„ä¸€ä¸ªå°è£…ï¼ŒåŒæ ·å…·å¤‡äº†ç¼“å­˜æœ€æ–°å€¼å’Œæä¾›é»˜è®¤å€¼çš„èƒ½åŠ›ä½†æ˜¯Variableæ²¡æœ‰onç³»åˆ—æ–¹æ³•ï¼Œåªæä¾›äº†valueå±žæ€§ã€‚ç›´æŽ¥å¯¹valueè¿›è¡Œsetç­‰åŒäºŽè°ƒç”¨äº†onNext()æ–¹æ³•ã€‚è¿™è¡¨æ˜Žäº†Variableä¸ä¼šå‘å°„errorä¹Ÿä¸ä¼šå‘å°„completedåœ¨Variableè¢«é”€æ¯çš„æ—¶å€™ä¼šè°ƒç”¨å‘å°„completedç»™Observer åœ¨è®¢é˜…Variableçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ— æ³•ç›´æŽ¥è°ƒç”¨subscribeæ–¹æ³•ï¼Œéœ€è¦å…ˆè°ƒç”¨asObservable()æ–¹æ³• let variable = Variable&lt;Int&gt;(1)variable.asObservable().subscribe(&#123; (event) in print("Event:\(event)")&#125;)variable.value = 2//ç»“æžœEvent:next(1)Event:next(2)Event:completed Variableå¯ä»¥ç”¨æ¥å‚¨å­˜æ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æ‹¥æœ‰valueçš„getå’Œsetæ–¹æ³•ã€‚æ¯”å¦‚ let variable = Variable(1)print("Value: \(variable.value)")variable.value = 2print("Value: \(variable.value)")//æ‰“å°//è¿™æ˜¯BehaviorSubjectä¸å…·å¤‡çš„ Value: 1 Value: 2]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-åˆ›å»ºåºåˆ—Observable-03]]></title>
    <url>%2F2017%2F12%2F15%2FRxSwift%2FGrammar%2F03-%E5%88%9B%E5%BB%BA%E5%BA%8F%E5%88%97Observable%2F</url>
    <content type="text"><![CDATA[â¶â·â¸â¹âºâ¼â½â¾â‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨â‘©â‘ªâ‘« â‘ just â‘¡of â‘¢from â‘£empty â‘¤never â‘¥error â‘¦range â‘§repeatElement â‘¨generate â‘©create â‘ªdeferred â‘«interval â‘¬timer â‘ just â‘ just just() æ–¹æ³•è¯¥æ–¹æ³•é€šè¿‡ä¼ å…¥ä¸€ä¸ªé»˜è®¤å€¼æ¥åˆå§‹åŒ–åªåˆ›å»ºåŒ…å«ä¸€ä¸ªå…ƒç´ çš„åºåˆ—ã€‚æ¢è¨€ä¹‹ï¼Œåªå‘é€ä¸€ä¸ªå€¼å’Œ .Completedï¼š let observable = Observable&lt;Int&gt;.just(5) â‘¡of â‘¡of é€šè¿‡ä¸€ç»„å…ƒç´ åˆ›å»ºä¸€ä¸ªåºåˆ—è¯¥æ–¹æ³•å¯ä»¥æŽ¥å—å¯å˜æ•°é‡çš„å‚æ•°ï¼ˆå¿…éœ€è¦æ˜¯åŒç±»åž‹çš„ï¼‰ let observable = Observable.of("A", "B", "C") â‘¢from â‘¢from éœ€è¦ä¸€ä¸ªæ•°ç»„å‚æ•°æ•°æ®é‡Œçš„å…ƒç´ å°±ä¼šè¢«å½“åšè¿™ä¸ª Observable æ‰€å‘å‡º event æºå¸¦çš„æ•°æ®å†…å®¹ï¼Œæœ€ç»ˆæ•ˆæžœåŒä¸Šé¢ of æ ·ä¾‹æ˜¯ä¸€æ ·çš„ let observable = Observable.from(["A", "B", "C"]) â‘£empty â‘£empty åˆ›å»ºä¸€ä¸ªç©ºå†…å®¹çš„ Observable åºåˆ— let observable = Observable&lt;Int&gt;.empty() â‘¤never â‘¤never åˆ›å»ºä¸€ä¸ªæ°¸è¿œä¸ä¼šå‘å‡º Eventï¼ˆä¹Ÿä¸ä¼šç»ˆæ­¢ï¼‰çš„ Observable åºåˆ— let observable = Observable&lt;Int&gt;.never() â‘¥error â‘¥error åˆ›å»ºä¸€ä¸ªä¸åšä»»ä½•æ“ä½œï¼Œè€Œæ˜¯ç›´æŽ¥å‘é€ä¸€ä¸ªé”™è¯¯çš„ Observable åºåˆ— enum MyError: Error &#123; case A case B&#125; let observable = Observable&lt;Int&gt;.error(MyError.A) â‘¦range â‘¦range é€šè¿‡æŒ‡å®šèµ·å§‹å’Œç»“æŸæ•°å€¼ï¼Œåˆ›å»ºä¸€ä¸ªä»¥è¿™ä¸ªèŒƒå›´å†…æ‰€æœ‰å€¼ä½œä¸ºåˆå§‹å€¼çš„ Observable åºåˆ—ã€‚ä¸‹é¢æ ·ä¾‹ä¸­ï¼Œä¸¤ç§æ–¹æ³•åˆ›å»ºçš„ Observable åºåˆ—éƒ½æ˜¯ä¸€æ ·çš„ //ä½¿ç”¨range()let observable = Observable.range(start: 1, count: 5) //ä½¿ç”¨of()let observable = Observable.of(1, 2, 3 ,4 ,5) â‘§repeatElement â‘§repeatElement æ³•åˆ›å»ºä¸€ä¸ªå¯ä»¥æ— é™å‘å‡ºç»™å®šå…ƒç´ çš„ Event çš„ Observable åºåˆ—ï¼ˆæ°¸ä¸ç»ˆæ­¢ï¼‰ let observable = Observable.repeatElement(1) â‘¨generate #â‘¨generate è¯¥æ–¹æ³•åˆ›å»ºä¸€ä¸ªåªæœ‰å½“æä¾›çš„æ‰€æœ‰çš„åˆ¤æ–­æ¡ä»¶éƒ½ä¸º true çš„æ—¶å€™ï¼Œæ‰ä¼šç»™å‡ºåŠ¨ä½œçš„ Observable åºåˆ—ä¸¤ç§æ–¹æ³•åˆ›å»ºçš„ Observable åºåˆ—éƒ½æ˜¯ä¸€æ ·çš„ //ä½¿ç”¨generate()æ–¹æ³•let observable = Observable.generate( initialState: 0, condition: &#123; $0 &lt;= 10 &#125;, iterate: &#123; $0 + 2 &#125;) //ä½¿ç”¨of()æ–¹æ³•let observable = Observable.of(0 , 2 ,4 ,6 ,8 ,10) â‘©create #â‘©create æŽ¥å—ä¸€ä¸ª block å½¢å¼çš„å‚æ•°ï¼Œä»»åŠ¡æ˜¯å¯¹æ¯ä¸€ä¸ªè¿‡æ¥çš„è®¢é˜…è¿›è¡Œå¤„ç†æ–¹ä¾¿æ¼”ç¤ºï¼Œè¿™é‡Œå¢žåŠ äº†è®¢é˜…ç›¸å…³ä»£ç  //è¿™ä¸ªblockæœ‰ä¸€ä¸ªå›žè°ƒå‚æ•°observerå°±æ˜¯è®¢é˜…è¿™ä¸ªObservableå¯¹è±¡çš„è®¢é˜…è€…//å½“ä¸€ä¸ªè®¢é˜…è€…è®¢é˜…è¿™ä¸ªObservableå¯¹è±¡çš„æ—¶å€™ï¼Œå°±ä¼šå°†è®¢é˜…è€…ä½œä¸ºå‚æ•°ä¼ å…¥è¿™ä¸ªblockæ¥æ‰§è¡Œä¸€äº›å†…å®¹let observable = Observable&lt;String&gt;.create&#123;observer in //å¯¹è®¢é˜…è€…å‘å‡ºäº†.nextäº‹ä»¶ï¼Œä¸”æºå¸¦äº†ä¸€ä¸ªæ•°æ®&quot;hangge.com&quot; observer.onNext(&quot;hangge.com&quot;) //å¯¹è®¢é˜…è€…å‘å‡ºäº†.completedäº‹ä»¶ observer.onCompleted() //å› ä¸ºä¸€ä¸ªè®¢é˜…è¡Œä¸ºä¼šæœ‰ä¸€ä¸ªDisposableç±»åž‹çš„è¿”å›žå€¼ï¼Œæ‰€ä»¥åœ¨ç»“å°¾ä¸€å®šè¦returenä¸€ä¸ªDisposable return Disposables.create()&#125; //è®¢é˜…æµ‹è¯•observable.subscribe &#123; print($0)&#125;//æ‰“å° next(hangge.com) completed â‘ªdeferred #â‘ªdeferred è¯¥ä¸ªæ–¹æ³•ç›¸å½“äºŽæ˜¯åˆ›å»ºä¸€ä¸ª Observable å·¥åŽ‚ï¼Œé€šè¿‡ä¼ å…¥ä¸€ä¸ª block æ¥æ‰§è¡Œå»¶è¿Ÿ Observable åºåˆ—åˆ›å»ºçš„è¡Œä¸ºï¼Œè€Œè¿™ä¸ª block é‡Œå°±æ˜¯çœŸæ­£çš„å®žä¾‹åŒ–åºåˆ—å¯¹è±¡çš„åœ°æ–¹ //ç”¨äºŽæ ‡è®°æ˜¯å¥‡æ•°ã€è¿˜æ˜¯å¶æ•°var isOdd = true //ä½¿ç”¨deferred()æ–¹æ³•å»¶è¿ŸObservableåºåˆ—çš„åˆå§‹åŒ–ï¼Œé€šè¿‡ä¼ å…¥çš„blockæ¥å®žçŽ°Observableåºåˆ—çš„åˆå§‹åŒ–å¹¶ä¸”è¿”å›žã€‚let factory : Observable&lt;Int&gt; = Observable.deferred &#123; //è®©æ¯æ¬¡æ‰§è¡Œè¿™ä¸ªblockæ—¶å€™éƒ½ä¼šè®©å¥‡ã€å¶æ•°è¿›è¡Œäº¤æ›¿ isOdd = !isOdd //æ ¹æ®isOddå‚æ•°ï¼Œå†³å®šåˆ›å»ºå¹¶è¿”å›žçš„æ˜¯å¥‡æ•°Observableã€è¿˜æ˜¯å¶æ•°Observable if isOdd &#123; return Observable.of(1, 3, 5 ,7) &#125;else &#123; return Observable.of(2, 4, 6, 8) &#125;&#125; //ç¬¬1æ¬¡è®¢é˜…æµ‹è¯•factory.subscribe &#123; event in print("\(isOdd)", event)&#125; //ç¬¬2æ¬¡è®¢é˜…æµ‹è¯•factory.subscribe &#123; event in print("\(isOdd)", event)&#125;// printfalse next(2)false next(4)false next(6)false next(8)false completedtrue next(1)true next(3)true next(5)true next(7)true completed â‘«interval #â‘«interval åˆ›å»ºçš„ Observable åºåˆ—æ¯éš”ä¸€æ®µè®¾å®šçš„æ—¶é—´ï¼Œä¼šå‘å‡ºä¸€ä¸ªç´¢å¼•æ•°çš„å…ƒç´ ã€‚è€Œä¸”å®ƒä¼šä¸€ç›´å‘é€ä¸‹åŽ»åˆ›å»ºçš„ Observable åºåˆ—æ¯éš”ä¸€æ®µè®¾å®šçš„æ—¶é—´ï¼Œä¼šå‘å‡ºä¸€ä¸ªç´¢å¼•æ•°çš„å…ƒç´ ã€‚è€Œä¸”å®ƒä¼šä¸€ç›´å‘é€ä¸‹åŽ» let observable = Observable&lt;Int&gt;.interval(1, scheduler: MainScheduler.instance)observable.subscribe &#123; event in print(event)&#125;//printnext(0)next(1)next(2)next(3) â‘¬timer â‘¬timer è¿™ä¸ªæ–¹æ³•æœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€ç§æ˜¯åˆ›å»ºçš„ Observable åºåˆ—åœ¨ç»è¿‡è®¾å®šçš„ä¸€æ®µæ—¶é—´åŽï¼Œäº§ç”Ÿå”¯ä¸€çš„ä¸€ä¸ªå…ƒç´  //5ç§’ç§åŽå‘å‡ºå”¯ä¸€çš„ä¸€ä¸ªå…ƒç´ 0let observable = Observable&lt;Int&gt;.timer(5, scheduler: MainScheduler.instance)observable.subscribe &#123; event in print(event)&#125;//printnext(0)competed å¦ä¸€ç§æ˜¯åˆ›å»ºçš„ Observable åºåˆ—åœ¨ç»è¿‡è®¾å®šçš„ä¸€æ®µæ—¶é—´åŽï¼Œæ¯éš”ä¸€æ®µæ—¶é—´äº§ç”Ÿä¸€ä¸ªå…ƒç´  //å»¶æ—¶5ç§’ç§åŽï¼Œæ¯éš”1ç§’é’Ÿå‘å‡ºä¸€ä¸ªå…ƒç´ let observable = Observable&lt;Int&gt;.timer(5, period: 1, scheduler: MainScheduler.instance)observable.subscribe &#123; event in print(event)&#125;//printnext(0)next(1)next(2)next(3)]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-RxSwift-ç®€ä»‹ä»¥åŠç®€å•å­¦ä¹ ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F15%2FRxSwift%2FGrammar%2F%E7%AE%80%E4%BB%8B%E4%BB%A5%E5%8F%8A%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Swift-RxSwift-ç®€ä»‹ä»¥åŠç®€å•å­¦ä¹ ä½¿ç”¨ RxSwift é¡¹ç›®æ–‡æ¡£ä¸­ Why å·²æœ‰è¯¦ç»†ä»‹ç» Bindings [RxWhy] -&gt; [Bindings] -&gt; [BindingsViewController.swift] Observable.combineLatest(firstName.rx_text, lastName.rx_text) &#123; $0 + " " + $1 &#125; // â‘  .map &#123; "Greeting \($0)" &#125; // â‘¡ .bindTo(greetingLabel.rx_text) // â‘¢ å°† firstName å’Œ lastName çš„ text å±žæ€§ç»“åˆèµ·æ¥ï¼Œå¹¶è¿›è¡Œåˆå¹¶å¤„ç†ï¼Œä¹Ÿå°±æ˜¯ $0 + â€œ â€œ + $1 è¿™éƒ¨åˆ†ï¼Œç”¨ç©ºæ ¼å°†ä¸¤ä¸ªå€¼åˆå¹¶èµ·æ¥ä½œä¸ºç»“æžœä¼ é€’ç»™åŽé¢ä½¿ç”¨ ä½¿ç”¨ map çš„æ–¹æ³•ï¼Œå°†ä¸Šä¸€æ­¥å¾—åˆ°å€¼å‰é¢åŠ ä¸Šä¸€ä¸ª Greeting ï¼Œå¹¶å°†è¯¥å€¼ä¼ é€’ç»™åŽé¢ä½¿ç”¨ bindTo å°±æ˜¯ç»‘å®šï¼Œå°†ä¸Šä¸€æ­¥çš„å€¼ç»‘å®šåˆ° greetingLabel çš„ text ä»£ç å°±æ˜¯å®žæ—¶çš„æ‰§è¡Œ greetingLabel.text = "Greeting " + firstName.text + " " + lastName.text è¦æ±‚æ˜¯å®žæ—¶ æ¯å½“ fisrtName.text æˆ–è€… lastName.text æ”¹å˜æ—¶ï¼Œ greetingLabel.text éƒ½è¦éšä¹‹æ”¹å˜ ContentOffset ç»å¸¸é€šè¿‡ delegate å¤„ç† scrollView çš„ contentOffset å˜åŒ–é—®é¢˜ public func scrollViewDidScroll(scrollView: UIScrollView) &#123; self.title = "contentOffset.x = \(scrollView.contentOffset.y)"&#125; å¯èƒ½å°±å’Œå…³è”çš„é€»è¾‘åˆ†å®¶äº†ï¼Œå†…èšæ€§å•Šâ€¦è€Œä¸”å¤šä¸ª scrollView ï¼Œè¿˜è¦åšé¢å¤–çš„åˆ¤æ–­å¤„ç†ï¼Œå¤æ‚æ€§å¯æƒ³è€ŒçŸ¥ä¹Ÿæœ‰å†™è¿‡é€šè¿‡ closure æ¥è§£å†³çš„ï¼Œå…¶å®žå¯ä»¥è®¤ä¸º Rx è‡ªå¸¦äº†è¿™äº›åŠŸèƒ½ï¼ˆè€Œä¸”æ›´å¼ºå¤§[RxWhy] -&gt; [ContentOffset] -&gt; [ContentOffsetViewController.swift]Note: åœ¨ä½¿ç”¨äº† rx_contentOffset åŽï¼Œæœ€å¥½ä¸è¦åŽ»æ›´æ”¹ delegateåŒæ · button ä¹Ÿæœ‰ç±»ä¼¼çš„åŠŸèƒ½ tableView.rx_contentOffset .map &#123; $0.y &#125; .subscribeNext &#123; [unowned self] in self.title = "contentOffset.x = \($0)" &#125;.addDisposableTo(disposeBag) Tap button çš„ç‚¹å‡»äº‹ä»¶æ˜¯ä¸€ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜äº†ï¼Œå»ºç«‹ä¸€ä¸ª target ï¼ŒåŒæ—¶è¿˜ä½¿ç”¨çš„å¸¦å­—ç¬¦ä¸²çš„ Selectï¼Œbutton çš„ç‚¹å‡»ä¹Ÿå’Œå“åº”é€»è¾‘åˆ†å®¶äº†å¤„ç†æ–¹å¼ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ ä½¿ç”¨äº†å¸¦ String çš„ Target ç‚¹å‡»çš„å…³è”äº‹ä»¶ä»£ç å’Œå¤„ç†çš„é€»è¾‘åˆ†å¼€äº† button.addTarget(self, action: "tapButton", forControlEvents: .TouchDragInside) Rx å·²ç»æä¾›äº† closure çš„åŠŸèƒ½ button.rx_tap .subscribeNext &#123; print("Tap") &#125;.addDisposableTo(disposeBag) èµ„æ–™æ¥æº]]></content>
      <categories>
        <category>Swift</category>
        <category>RxSwift</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>RxSwift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIImagePickerController]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUIImagePickerController%2F</url>
    <content type="text"><![CDATA[http://blog.csdn.net/qq_14920635/article/details/51472057]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIImagePickerController</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIImagePickerController</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-NSAttributedString]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FNSAttributedString%2F</url>
    <content type="text"><![CDATA[http://blog.csdn.net/qq_14920635/article/details/76318309]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>NSAttributedString</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>NSAttributedString</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Func-Mirror-åå°„]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FFunc%2FSwift-Func-Mirror-%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[http://blog.csdn.net/qq_14920635/article/details/77676231]]></content>
      <categories>
        <category>Swift</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Func</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Func-æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FFunc%2FSwift-Func-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[#å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹å¼ åœ¨NSpredicateä¸­ä½¿ç”¨ let email = "lifusc464@qq.com" let regex = "[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,4&#125;" let predicate = NSPredicate(format: "SELF MATCHES %@", regex) let isValid = predicate.evaluate(with: email) print(isValid ? "æ­£ç¡®çš„é‚®ç®±åœ°å€" : "é”™è¯¯çš„é‚®ç®±åœ°å€") åˆ©ç”¨Stringçš„RangeOfString: option: ç›´æŽ¥æŸ¥æ‰¾ æ­£åˆ™è¡¨è¾¾åˆ¤æ–­æ˜¯å¦å«æœ‰ç»“æžœå€¼ /** æ­£åˆ™è¡¨è¾¾åˆ¤æ–­æ˜¯å¦å«æœ‰ç»“æžœå€¼ - parameter pattern: ä¸€ä¸ªå­—ç¬¦ä¸²ç±»åž‹çš„æ­£åˆ™è¡¨è¾¾å¼ - parameter str: éœ€è¦æ¯”è¾ƒåˆ¤æ–­çš„å¯¹è±¡ - returns: è¿”å›žå¸ƒå°”å€¼åˆ¤æ–­ç»“æžœ - warning: æ³¨æ„åŒ¹é…åˆ°ç»“æžœçš„è¯å°±ä¼šè¿”å›žtrueï¼Œæ²¡æœ‰åŒ¹é…åˆ°ç»“æžœå°±ä¼šè¿”å›žfalse */ class func regex(pattern:String, str:String) -&gt; Bool &#123; let regex = try! NSRegularExpression(pattern: pattern, options:[NSRegularExpression.Options.caseInsensitive]) let resultNum = regex.numberOfMatches(in: str, options: NSRegularExpression.MatchingOptions(rawValue: 0) , range: NSMakeRange(0, str.characters.count)) if resultNum&gt;=1 &#123; return true &#125; return false &#125; æ­£åˆ™è¡¨è¾¾å¼èŽ·å–ç›®çš„å€¼ /** æ­£åˆ™è¡¨è¾¾å¼èŽ·å–ç›®çš„å€¼ - parameter pattern: ä¸€ä¸ªå­—ç¬¦ä¸²ç±»åž‹çš„æ­£åˆ™è¡¨è¾¾å¼ - parameter str: éœ€è¦æ¯”è¾ƒåˆ¤æ–­çš„å¯¹è±¡ - imports: è¿™é‡Œå­ä¸²çš„èŽ·å–å…ˆè½¬è¯ä¸ºNSStringçš„[ä»¥åŽå¤„ç†ç»“æžœå«NSçš„è¿˜æ˜¯å¯ä»¥è½¬æ¢ä¸ºNSå‰ç¼€çš„æ–¹ä¾¿] - returns: è¿”å›žç›®çš„å­—ç¬¦ä¸²ç»“æžœå€¼æ•°ç»„(ç›®å‰å°†Stringè½¬æ¢ä¸ºNSStringèŽ·å¾—å­ä¸²æ–¹æ³•è¾ƒä¸ºå®¹æ˜“) - warning: æ³¨æ„åŒ¹é…åˆ°ç»“æžœçš„è¯å°±ä¼šè¿”å›žtrueï¼Œæ²¡æœ‰åŒ¹é…åˆ°ç»“æžœå°±ä¼šè¿”å›žfalse */ class func regexGetSub(pattern:String, str:String) -&gt; [String] &#123; var subStr = [String]() let regex = try! NSRegularExpression(pattern: pattern, options:[NSRegularExpression.Options.caseInsensitive]) let results = regex.matches(in: str, options: NSRegularExpression.MatchingOptions.init(rawValue: 0), range: NSMakeRange(0, str.characters.count)) //è§£æžå‡ºå­ä¸² for rst in results &#123; let nsStr = str as NSString //å¯ä»¥æ–¹ä¾¿é€šè¿‡rangeèŽ·å–å­ä¸² subStr.append(nsStr.substring(with: rst.range)) //str.substring(with: Range&lt;String.Index&gt;) //æœ¬åº”è¯¥ç”¨è¿™ä¸ªçš„ï¼Œå¯ä»¥æ— æ³•ç›´æŽ¥èŽ·å¾—å‚æ•°ï¼Œå¿…é¡»è‡ªå·±æ‰‹åŠ¨èŽ·å–starIndex å’Œ endIndexä½œä¸ºåŒºé—´ &#125; return subStr &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Func</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Func-ä½¿ç”¨iconfontå›¾æ ‡]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FFunc%2FSwift-Func-%E4%BD%BF%E7%94%A8iconfont%E5%9B%BE%E6%A0%87%2F</url>
    <content type="text"><![CDATA[http://blog.csdn.net/qq_14920635/article/details/78408761]]></content>
      <categories>
        <category>Swift</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Func</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-NSNotificationCenter-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FNSNotificationCenter-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[NSNotificationCenter å¦‚æžœè¢«é€šçŸ¥å¯¹è±¡åˆ›å»ºäº†ï¼Œé‚£ä¹ˆæ‰§è¡Œå®Œå‘é€é€šçŸ¥ä¹‹åŽå°±ä¼šæ‰§è¡Œè¢«é€šçŸ¥çš„selectorçš„æ–¹æ³•ï¼Œä¹‹åŽå†å›žæ¥æ‰§è¡ŒåŽä¸€è¡Œä»£ç é€šçŸ¥ä¸€èˆ¬åœ¨modeä¸ŽViewéœ€è¦äº¤æµï¼ˆä¼ é€’æ•°æ®ï¼‰æ—¶ä½¿ç”¨ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç”¨äºŽå¤šçº¿ç¨‹çš„æ¶ˆæ¯ä¼ é€’ï¼Œä¹Ÿå¯æ˜¯å…¶ä»–çš„ä¿¡æ¯ä¼ é€’,æœ€å¸¸ç”¨çš„åœºæ™¯æ˜¯é¡µé¢å€¼çš„å›žä¼  æ³¨å†Œé€šçŸ¥ å‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯å“åº”è¢«é€šçŸ¥çš„å¯¹è±¡ï¼Œä¸€èˆ¬æ˜¯selfï¼Œ selector:ä¸€ä¸ªè‡ªå®šä¹‰æ–¹æ³•ï¼Œå®žçŽ°å¾—åˆ°é€šçŸ¥åŽçš„æ“ä½œï¼ˆå¦‚æžœä½¿ç”¨é—­åŒ…çš„æ–¹æ³•ï¼Œå°±åœ¨å›žè°ƒä¸­å®žçŽ°ï¼‰ï¼Œname:é€šçŸ¥çš„åå­—ï¼ˆæ³¨æ„æ³¨å†Œé€šçŸ¥å’Œå‘é€é€šçŸ¥å¿…é¡»ä¸€è‡´æ‰èƒ½å¤Ÿå“åº”é€šçŸ¥ï¼‰ï¼Œobject:å‘é€šçŸ¥çš„å¯¹è±¡ï¼Œå¦‚æžœå¡«nilåˆ™è¡¨ç¤ºæŽ¥å—æ‰€æœ‰é€šçŸ¥ï¼Œå¦‚æžœå¡«ä¸Šå…·ä½“çš„å¯¹è±¡ï¼Œåˆ™æ˜¯1å¯¹1çš„é€šçŸ¥ã€‚å»ºè®®ï¼šå¦‚æžœé€šçŸ¥å¤šå¯ä»¥å•ç‹¬å†™ä¸€ä¸ªæ–¹æ³•æ”¾é€šçŸ¥ï¼ˆè°ƒç”¨ç¬¬äºŒä¸ªæ–¹æ³•ï¼‰ï¼Œå¦‚æžœé€šçŸ¥æ¯”è¾ƒå°‘å»ºè®®ä½¿ç”¨ç¬¬ä¸€ç§ï¼Œå†å®žçŽ°å…¶selectoræ–¹æ³•ï¼Œæ³¨å†Œé€šçŸ¥æ˜¯åœ¨éœ€è¦è¢«é€šçŸ¥çš„ç±»é‡Œå†™ NSNotificationCenter.defaultCenter().addObserver(self, selector: #selector(TiltleNotification), name: "TiltleNotification", object: nil)//æ³¨å†Œäº†ä¸€ä¸ªåå­—å«åšTiltleNotification å‘é€é€šçŸ¥post åœ¨éœ€è¦é€šçŸ¥çš„ç±»ï¼ˆå³éœ€è¦ä¼ ä¿¡æ¯å‡ºåŽ»çš„ç±»ï¼‰ä¸­ä½¿ç”¨é€šçŸ¥ä¼ é€’æ¶ˆæ¯nameä¹Ÿå¯ä»¥è¿™æ ·å†™:NSNotification.Name.init(â€œTiltleNotificationâ€) NSNotificationCenter.defaultCenter().postNotificationName(NSNotification.Name("TiltleNotification"), object: self, userInfo: ["success":true,"img":UIImage(named:"image"]) åœ¨å®Œæˆé€šçŸ¥ä¸­çš„é€‰æ‹©å™¨æ–¹æ³•func pushBookTiltleNotification(notification:NSNotification)&#123; //è®°å¾—å‚æ•°åŠ ä¸Šï¼Œæ‰èƒ½å¾—åˆ°ä¿¡æ¯ let dict = notification.userInfo if (dict["success"] as! Bool) &#123;//èŽ·å–ä¼ é€’è¿‡æ¥çš„å€¼,è€Œä¸”éœ€è¦è½¬æ¢ä¸‹ ProgressHUD.showSuccess("é€šçŸ¥æˆåŠŸ") &#125;else&#123; ProgressHUD.showError("é€šçŸ¥å¤±è´¥") &#125; &#125; ç§»é™¤é€šçŸ¥ ç”±äºŽé€šçŸ¥æ˜¯å•åˆ—çš„ï¼Œæ‰€ä»¥ä½¿ç”¨å®ŒåŽå¿…é¡»åœ¨æžæž„deinitä¸­ç§»é™¤é€šçŸ¥ï¼Œå¦åˆ™åŽæœŸå°†å¼•å‘éš¾ä»¥æŸ¥è¯¢çš„èŽ«åé”™è¯¯ deinit&#123; //æ³¨æ„ç”±äºŽé€šçŸ¥æ˜¯å•ä¾‹çš„ï¼Œæ‰€ä»¥ç”¨äº†ä¹‹åŽéœ€è¦æžæž„ï¼Œ NSNotificationCenter.defaultCenter().removeObserver(self, name: "TiltleNotification", object: nil) &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>NSNotificationCenter</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>NSNotificationCenter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-é«˜æ•ˆåˆ‡åœ†è§’]]></title>
    <url>%2F2017%2F12%2F14%2FOC%2FFunc%2FiOS-Func-%E9%AB%98%E6%95%88%E5%88%87%E5%9C%86%E8%A7%92%2F</url>
    <content type="text"><![CDATA[UIViewï¼ˆä¸åŒ…æ‹¬å…¶å­ç±»ï¼‰ UIView åªè¦è®¾ç½®å›¾å±‚çš„ cornerRadius å±žæ€§å³å¯ï¼ˆä¸æ˜Žç™½çš„è¯ï¼Œå¯ä»¥çœ‹çœ‹å®˜æ–¹æ–‡æ¡£é‡Œå¯¹ cornerRadius çš„æè¿°ï¼‰è®¾ç½® layer.masksToBounds = YESï¼Œä¼šé€ æˆä¸å¿…è¦çš„ç¦»å±æ¸²æŸ“ UIView *view = [[UIView alloc] init];view.backgroundColor = [UIColor blackColor];view.layer.cornerRadius = 3.f;// ä»¥ä¸‹ä¸¤è¡Œï¼Œä»»å†™ä¸€è¡Œview.layer.masksToBounds = NO;view.clipToBounds = NO; ä»¥ä¸‹ä¸¤è¡Œï¼Œåƒä¸‡ä¸è¦åŠ ï¼ view.layer.masksToBounds = YES;view.clipToBounds = YES; æ–‡æœ¬ç±»è§†å›¾UITextField UITextFieldæœ‰ä¸¤ç§å®žçŽ°æ–¹æ³• // æ”¯æŒè®¾ç½®åœ†è§’è¾¹æ¡†UITextField *textField = [[UITextField alloc] init];textField.borderStyle = UITextBorderStyleRoundedRect;// ä¸Ž UIView ç±»ä¼¼UITextField *textField = [[UITextField alloc] init];textField.layer.cornerRadius = cornerRadius; UITextView// ä¸Ž UIView ç±»ä¼¼UITextView *textView = [[UITextView alloc] init];textView.layer.cornerRadius = cornerRadius; UILabelUILabel *label = [[UILabel alloc] init];// é‡ç‚¹åœ¨æ­¤ï¼ï¼è®¾ç½®è§†å›¾çš„å›¾å±‚èƒŒæ™¯è‰²ï¼Œåƒä¸‡ä¸è¦ç›´æŽ¥è®¾ç½® label.backgroundColorlabel.layer.backgroundColor = [UIColor grayColor].CGColor;label.layer.cornerRadius = cornerRadius; UIButton UIButton çš„èƒŒæ™¯å›¾ç‰‡ï¼Œå¦‚æžœæ˜¯å¤æ‚çš„å›¾ç‰‡ï¼Œå¯ä»¥ä¾é  UI åˆ‡å›¾æ¥å®žçŽ°å¦‚æžœæ˜¯ç®€å•çš„çº¯è‰²èƒŒæ™¯å›¾ç‰‡ï¼Œå¯ä»¥åˆ©ç”¨ä»£ç ç»˜åˆ¶å¸¦åœ†è§’çš„å›¾ç‰‡ UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];// è®¾ç½® UIButton çš„èƒŒæ™¯å›¾ç‰‡ã€‚[button setBackgroundImage:image forState:UIControlStateNormal]; èƒŒæ™¯å›¾ç‰‡ç»˜åˆ¶æ–¹æ³• + (UIImage *)pureColorImageWithSize:(CGSize)size color:(UIColor *)color cornRadius:(CGFloat)cornRadius &#123; UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0.0f, 0.0f, size.width, size.height)]; view.backgroundColor = color; view.layer.cornerRadius = cornerRadius; // ä¸‹é¢æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºåŒºåŸŸå¤§å°ã€‚ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ˜¯å¦æ˜¯éžé€æ˜Žçš„ã€‚å¦‚æžœéœ€è¦æ˜¾ç¤ºåŠé€æ˜Žæ•ˆæžœï¼Œéœ€è¦ä¼ NOï¼Œå¦åˆ™ä¼ YESã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å±å¹•å¯†åº¦UIGraphicsBeginImageContextWithOptions(view.bounds.size, NO, [UIScreen mainScreen].scale); [view.layer renderInContext:UIGraphicsGetCurrentContext()]; UIImage *image = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); return image; &#125; UIImageView æ–¹å¼ä¸€ï¼šè´å¡žå°”æ›²çº¿åˆ‡å‰²åœ†è§’ - (UIImageView *)roundedRectImageViewWithCornerRadius:(CGFloat)cornerRadius &#123; UIBezierPath *bezierPath = [UIBezierPath bezierPathWithRoundedRect:self.bounds cornerRadius:cornerRadius]; CAShapeLayer *layer = [CAShapeLayer layer]; layer.path = bezierPath.CGPath; self.layer.mask = layer; return self;&#125; ç»˜åˆ¶å››ä¸ªè§’çš„é®ç½©ï¼ˆä½¿ç”¨åœºæ™¯å—é™ï¼‰ åœ¨ UIImageView ä¸Šæ·»åŠ ä¸€ä¸ªå››ä¸ªè§’æœ‰å†…å®¹ï¼Œå…¶å®ƒéƒ¨åˆ†æ˜¯é€æ˜Žçš„è§†å›¾ï¼Œåªå¯¹ UIImageView åœ†è§’éƒ¨åˆ†è¿›è¡Œé®æŒ¡ã€‚ä½†è¦ä¿è¯è¢«é®æŒ¡çš„éƒ¨åˆ†èƒŒæ™¯è‰²è¦ä¸Žå‘¨å›´èƒŒæ™¯ç›¸åŒï¼Œé¿å…ç©¿å¸®ã€‚æ‰€ä»¥å½“ UIImageView å¤„äºŽä¸€ä¸ªå¤æ‚çš„èƒŒæ™¯æ—¶ï¼Œæ˜¯ä¸é€‚åˆä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„ æœ€ä¸æŽ¨èåšæ³•ï¼ˆå½“ä¸€ä¸ªé¡µé¢åªæœ‰å°‘é‡åœ†è§’å›¾ç‰‡æ—¶æ‰æŽ¨èä½¿ç”¨ï¼‰ UIImageView *imageView = [[UIImageView alloc] init];imageView.layer.cornerRadius = 5.f;imageView.layer.masksToBounds = YES;]]></content>
      <categories>
        <category>iOS</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Func</tag>
        <tag>OC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UISearchController-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUISearchController-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISearchController</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITableView-åŒè¡¨è”åŠ¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUITableView-%E5%8F%8C%E8%A1%A8%E8%81%94%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[FFTableViewCtl.swiftåè®®class FFTableViewCtl: UIViewController, UITableViewDataSource, UITableViewDelegate&#123;&#125; å£°æ˜Žå˜é‡ å·¦ä¾§ èœå•åˆ†ç±»æ•°æ®æº fileprivate lazy var categoryData = [FFCategoryModel]() å³ä¾§ï¼ŒæŸç±»åž‹å…·ä½“èœå•è¯¦æƒ… fileprivate lazy var foodData = [[FFFoodModel]]() è®°å½•å½“å‰é€‰æ‹©åˆ†ç±»ï¼ˆèœç±»åž‹ï¼‰ fileprivate var selectIndex = 0 //é»˜è®¤é€‰æ‹© 0 è®°å½•æ˜¯å¦å‘ä¸‹æ»šåŠ¨ fileprivate var isScrollDown = true è®°å½•æœ€åŽYæ–¹å‘åç§»é‡ fileprivate var lastOffsetY : CGFloat = 0.0 å·¦ä¾§TableViewè¡¨ fileprivate lazy var leftTableView : UITableView = &#123; let leftTableView = UITableView() leftTableView.delegate = self leftTableView.dataSource = self leftTableView.frame = CGRect(x: 0, y: 0, width: 80, height: UIScreen.main.bounds.height) leftTableView.rowHeight = 55 leftTableView.showsVerticalScrollIndicator = false leftTableView.separatorColor = UIColor.clear leftTableView.register(FFLeftTableViewCell.self, forCellReuseIdentifier: "FFLeftTableViewCell") return leftTableView&#125;() å³ä¾§TableViewè¡¨ fileprivate lazy var rightTableView : UITableView = &#123; let rightTableView = UITableView() rightTableView.delegate = self rightTableView.dataSource = self rightTableView.frame = CGRect(x: 80, y: 64, width: UIScreen.main.bounds.width - 80, height: UIScreen.main.bounds.height - 64) rightTableView.rowHeight = 80 rightTableView.showsVerticalScrollIndicator = false rightTableView.register(FFRightTableViewCell.self, forCellReuseIdentifier: "FFRightTableViewCell") return rightTableView&#125;() API extension FFTableViewCtl &#123; fileprivate func configureData () &#123; guard let path = Bundle.main.path(forResource: "meituan", ofType: "json") else &#123; return &#125; guard let data = NSData(contentsOfFile: path) as Data? else &#123; return &#125; guard let anyObject = try? JSONSerialization.jsonObject(with: data, options: .mutableContainers) else &#123; return &#125; guard let dict = anyObject as? [String : Any] else &#123; return &#125; guard let datas = dict["data"] as? [String : Any] else &#123; return &#125; guard let foods = datas["food_spu_tags"] as? [[String : Any]] else &#123; return &#125; print("\(foods)") for food in foods &#123; let model = FFCategoryModel(dict: food) categoryData.append(model) guard let spus = model.spus else &#123; continue &#125; var datas = [FFFoodModel]() for fModel in spus &#123; datas.append(fModel) &#125; foodData.append(datas) &#125; &#125;&#125; TableView 2ä¸ªåè®® å®žçŽ°extension FFTableViewCtl &#123;//DataSource //Delegate &#125; è¡Œ func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; if leftTableView == tableView&#123; return categoryData.count &#125;else&#123; return foodData[section].count &#125;&#125; cell func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; if leftTableView == tableView &#123; let cell = tableView.dequeueReusableCell(withIdentifier: "FFLeftTableViewCell", for: indexPath)as! FFLeftTableViewCell let model = categoryData[indexPath.row] cell.nameLab.text = model.name return cell &#125;else&#123; let cell = tableView.dequeueReusableCell(withIdentifier: "FFRightTableViewCell", for: indexPath) as! FFRightTableViewCell let model = foodData[indexPath.section][indexPath.row] cell.setDatas(model: model) return cell &#125;&#125; åŒº æ•° func numberOfSections(in tableView: UITableView) -&gt; Int &#123; if leftTableView == tableView &#123; return 1 &#125; else &#123; return categoryData.count &#125;&#125; åŒº view- è®¾ç½® func tableView(_ tableView: UITableView, viewForHeaderInSection section: Int) -&gt; UIView? &#123; if leftTableView == tableView &#123; return nil &#125;else&#123; let headerView = FFTableViewHeaderView(frame: CGRect(x: 0, y: 0, width: UIScreen.main.bounds.width, height: 20)) let model = categoryData[section] headerView.nameLab.text = model.name return headerView &#125;&#125; åŒºå¤´view - åŒºé«˜ func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat &#123; if leftTableView == tableView &#123; return 0 &#125; return 20&#125; åŒºå¤´view - å³å°†å±•ç¤º func tableView(_ tableView: UITableView, willDisplayHeaderView view: UIView, forSection section: Int) &#123; // å½“å‰çš„ tableView æ˜¯ FFRightTableViewï¼ŒFFRightTableView æ»šåŠ¨çš„æ–¹å‘å‘ä¸Šï¼ŒFFRightTableView æ˜¯ç”¨æˆ·æ‹–æ‹½è€Œäº§ç”Ÿæ»šåŠ¨çš„ï¼ˆï¼ˆä¸»è¦åˆ¤æ–­ RightTableView ç”¨æˆ·æ‹–æ‹½è€Œæ»šåŠ¨çš„ï¼Œè¿˜æ˜¯ç‚¹å‡» FFLeftTableView è€Œæ»šåŠ¨çš„ï¼‰ if(rightTableView == tableView) &amp;&amp; !isScrollDown &amp;&amp; (rightTableView.isDragging || rightTableView.isDecelerating)&#123; selectRow(index: section) &#125;&#125; åŒºå¤´view - å±•ç¤ºç»“æŸ func tableView(_ tableView: UITableView, didEndDisplayingHeaderView view: UIView, forSection section: Int) &#123; // å½“å‰çš„ tableView æ˜¯ FFRightTableViewï¼ŒFFRightTableView æ»šåŠ¨çš„æ–¹å‘å‘ä¸‹ï¼ŒFFRightTableView æ˜¯ç”¨æˆ·æ‹–æ‹½è€Œäº§ç”Ÿæ»šåŠ¨çš„ï¼ˆï¼ˆä¸»è¦åˆ¤æ–­ RightTableView ç”¨æˆ·æ‹–æ‹½è€Œæ»šåŠ¨çš„ï¼Œè¿˜æ˜¯ç‚¹å‡» FFLeftTableView è€Œæ»šåŠ¨çš„ï¼‰ if (rightTableView == tableView) &amp;&amp; isScrollDown &amp;&amp; (rightTableView.isDragging || rightTableView.isDecelerating) &#123; selectRow(index: section + 1) &#125;&#125; didSelct - é€‰æ‹©cell func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) &#123; if leftTableView == tableView &#123; selectIndex = indexPath.row self.scrollToTop(section: selectIndex, animated: true) leftTableView.scrollToRow(at: IndexPath(row: selectIndex, section: 0), at: .top, animated: true) &#125;&#125; scrollViewDidScrollæ ‡è®°ä¸€ä¸‹ RightTableView çš„æ»šåŠ¨æ–¹å‘ï¼Œæ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹ func scrollViewDidScroll(_ scrollView: UIScrollView) &#123; let tableView = scrollView as! UITableView if rightTableView == tableView &#123; isScrollDown = lastOffsetY &lt; scrollView.contentOffset.y lastOffsetY = scrollView.contentOffset.y &#125;&#125; private ç§æœ‰æ–¹æ³• selectRow å½“æ‹–åŠ¨å³è¾¹TableViewï¼Œå¤„ç†å·¦è¾¹ TableView private func selectRow(index:Int)&#123; leftTableView.selectRow(at: IndexPath(row: index, section: 0), animated: true, scrollPosition: .top)&#125; scrollToTop fileprivate func scrollToTop(section:Int,animated: Bool) &#123; let headerRect = rightTableView.rect(forSection: section) let topHeader = CGPoint(x: 0, y: headerRect.origin.y - rightTableView.contentInset.top) rightTableView.setContentOffset(topHeader, animated: animated)&#125; FFLeftTableViewCell.swift import UIKitclass FFLeftTableViewCell: UITableViewCell &#123; override func awakeFromNib() &#123; super.awakeFromNib() // Initialization code &#125; lazy var nameLab = UILabel() private lazy var yellowView = UIView() override init (style:UITableViewCellStyle,reuseIdentifier:String?)&#123; super.init(style: style, reuseIdentifier: reuseIdentifier) selectionStyle = .none initUI() &#125; required init?(coder aDecoder: NSCoder) &#123; fatalError("init(coder:) has not been implemented") &#125; func initUI() &#123; nameLab.frame = CGRect(x: 10, y: 10, width: 60, height: 40) nameLab.numberOfLines = 0 nameLab.font = UIFont.systemFont(ofSize: 15) nameLab.textColor = UIColor(130, 130, 130) nameLab.highlightedTextColor = UIColor(253, 212, 49) contentView.addSubview(nameLab) yellowView.frame = CGRect(x:0,y:5,width:5,height:45) yellowView.backgroundColor = UIColor(253, 212, 49) contentView.addSubview(yellowView) &#125; override func setSelected(_ selected: Bool, animated: Bool) &#123; super.setSelected(selected, animated: animated) // Configure the view for the selected state contentView.backgroundColor = selected ? UIColor.white : UIColor(white: 0, alpha: 0.1) isHighlighted = selected nameLab.isHighlighted = selected yellowView.isHidden = !selected &#125;&#125; FFRightTableViewCell.swift class FFRightTableViewCell: UITableViewCell &#123; override func awakeFromNib() &#123; super.awakeFromNib() // Initialization code &#125; override func setSelected(_ selected: Bool, animated: Bool) &#123; super.setSelected(selected, animated: animated) // Configure the view for the selected state &#125; private lazy var nameLab = UILabel() //åç§° private lazy var imgView = UIImageView() // private lazy var priceLab = UILabel() // ä»·æ ¼ override init(style: UITableViewCellStyle, reuseIdentifier: String?)&#123; super.init(style: style, reuseIdentifier: reuseIdentifier) initUI() &#125; required init?(coder aDecoder: NSCoder) &#123; fatalError("init(coder:) has not been implemented") &#125; //#MARK:è®¾ç½®UI func initUI()&#123; nameLab.frame = CGRect(x: 15, y: 15, width: 50, height: 50) contentView.addSubview(nameLab) imgView.frame = CGRect(x: 15, y: 15, width: 50, height: 50) contentView.addSubview(imgView) priceLab.frame = CGRect(x: 80, y: 45, width: 200, height: 30) priceLab.font = UIFont.systemFont(ofSize: 14) priceLab.textColor = UIColor.red contentView.addSubview(priceLab) &#125; //#MARK: åŠ è½½æ•°æ® func setDatas( model:FFFoodModel)&#123; guard let minPrice = model.minPrice, let picture = model.picture, let name = model.name else &#123; return &#125; priceLab.text = "ï¿¥\(minPrice)" nameLab.text = name guard let url = URL.init(string: picture) else &#123; return &#125; imgView.kf.setImage(with: url) &#125;&#125; FFCategoryModel.swift class FFCategoryModel: NSObject &#123; var name: String? var icon: String? var spus: [FFFoodModel]? init(dict :[String:Any]) &#123; super.init() setValuesForKeys(dict) &#125; override func setValue(_ value: Any?, forKey key: String) &#123; if key == "spus" &#123; spus = Array() guard let datas = value as? [[String:Any]] else &#123; return &#125; for dict in datas&#123; let foodModel = FFFoodModel(dict:dict) spus?.append(foodModel) &#125; &#125;else&#123; super.setValue(value, forKey: key) &#125; &#125; override func setValue(_ value: Any?, forUndefinedKey key: String) &#123; &#125;&#125; FFFoodModel.swift class FFFoodModel: NSObject &#123; var name : String? var picture : String? var minPrice : Float? init(dict : [String : Any]) &#123; super.init() setValuesForKeys(dict) &#125; override func setValue(_ value: Any?, forKey key: String) &#123; if key == "min_price" &#123; guard let price = value as? Float else &#123;return&#125; minPrice = price &#125; else &#123; super.setValue(value, forKey: key) &#125; &#125; override func setValue(_ value: Any?, forUndefinedKey key: String) &#123; &#125;&#125; FFTableViewHeaderView.swift class FFTableViewHeaderView: UIView &#123; lazy var nameLab = UILabel() override init (frame:CGRect)&#123; super.init(frame: frame) backgroundColor = UIColor(240, 240, 240, 0.8) nameLab.frame = CGRect(x: 15, y: 0, width: 200, height: 20) nameLab.font = UIFont.systemFont(ofSize: 13) addSubview(nameLab) &#125; required init?(coder aDecoder: NSCoder) &#123; fatalError("init(coder:) has not been implemented") &#125;&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITableView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITableView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Error-ç½‘ç»œé”™è¯¯é”¦é›†]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FError%2FSwift-Error-%E7%BD%91%E7%BB%9C%E9%94%99%E8%AF%AF%E9%94%A6%E9%9B%86%2F</url>
    <content type="text"><![CDATA[HTTP é”™è¯¯ä¿¡æ¯ App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app&apos;s Info.plist file ä¿®æ”¹info.plist App Transport Security Settings Allow Arbitrary Loads YES]]></content>
      <categories>
        <category>Swift</category>
        <category>Error</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Error</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Error-å¼€å‘é”™è¯¯é”¦é›†]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FError%2FSwift-Error-%E5%BC%80%E5%8F%91%E9%94%99%E8%AF%AF%E9%94%A6%E9%9B%86%2F</url>
    <content type="text"><![CDATA[Modelèµ‹å€¼ æŸä¸ªkeyï¼ˆæ¯”å¦‚has_next_pageï¼‰æ²¡varï¼Œä½†æ•°æ®é‡Œæœ‰(forUndefinedKey) reason:this class is not key value coding-compliant for the key has_next_page.' forKey/forUndefinedKey //forKeyoverride func setValue(_ value: Any?, forKey key: String) &#123;&#125;//forUndefinedKey override func setValue(_ value: Any?, forUndefinedKey key: String) &#123;&#125; æ·»åŠ çŽ¯å¢ƒå˜é‡ OS_ACTIVITY_MODE Xcode 8å¤šä½™æ—¥å¿—è¾“å‡º nw_socket_set_common_sockopts setsockopt SO_NOAPNFALLBK failed: [42] Protocol not available, dumping backtrace: æ·»åŠ çŽ¯å¢ƒå˜é‡ ã€productã€‘-ã€schemeã€‘-ã€Edit Schemeã€‘-ã€Runã€‘-ã€Argumentã€‘-ã€Environment Variableã€‘æ·»åŠ key Valueã€OS_ACTIVITY_MODE disableã€‘ #æ£€æŸ¥å­—å…¸æˆ–è€…æ•°ç»„çš„å½¢å¼æ˜¯å¦æ­£ç¡® Swiftç¼–è¯‘æ—¶æŠ¥é”™ï¼šCommand failed due to signal: Segmentation fault: 11åœ¨ç½‘ç»œè¯·æ±‚å®Œï¼Œè§£æžçš„æ—¶å€™é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼š Alamofire.request(.GET, "http://api.budejie.com/api/api_open.php", parameters: ["a":"newlist", "c":"data", "type":1]).responseJSON() &#123; response in let json = JSON(response.result.value!) arr = json["list"].arrayObject! DRLog(arr) self.tableView.reloadData() &#125; åœ¨æŽ§åˆ¶å°ä¸Šçœ‹åˆ°çš„ç¡®å®žæ˜¯arræ˜¯ä¸€ä¸ªæ•°ç»„å½¢å¼ï¼Œé‡Œé¢æœ‰å¤šä¸ªNSDictionaryå½¢å¼ï¼Œä½†æ˜¯å¦‚æžœæˆ‘ä»¬ç›´æŽ¥è¿™ä¸ªç”¨ï¼šarr[index][â€œtextâ€]æ˜¯é”™è¯¯çš„ã€‚å¿…é¡»å…ˆå°†arrä¸­çš„æ¯ä¸ªç±»ä¼¼NSDictionaryå½¢å¼è½¬æ¢æˆNSDictionaryï¼š let dic = arr[index] as! NSDictionarylet text = dic["text"] as? String]]></content>
      <categories>
        <category>Swift</category>
        <category>Error</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Error</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIWebView-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FSwift-UIKit-UIWebView-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UIWebViewçš„å¸¸ç”¨å±žæ€§ 1.è®¾ç½® UIWebView çš„ä»£ç†å¯¹è±¡ var delegate: UIWebViewDelegate? 2.èŽ·å– UIWebView çš„ UIScrollView å±žæ€§ var scrollView: UIScrollView &#123; get &#125; 3.èŽ·å– UIWebView çš„ç½‘ç»œè¯·æ±‚ var request: NSURLRequest? &#123; get &#125; 4.èŽ·å– UIWebView æ˜¯å¦åœ¨æŽ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥é€€åŽä¸€æ­¥ var canGoBack: Bool &#123; get &#125; 5.èŽ·å– UIWebView æ˜¯å¦åœ¨æŽ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥å‰è¿›ä¸€æ­¥ var canGoForward: Bool &#123; get &#125;``` &gt; 6.èŽ·å– UIWebView æ˜¯å¦æŽ¥å—å®Œæ•°æ®```swift var loading: Bool &#123; get &#125; 7.è®¾ç½® UIWebView æŽ¥æ”¶çš„æ•°æ®æ˜¯å¦å¯ä»¥é€šè¿‡æ‰‹åŠ¿æ¥è°ƒæ•´é¡µé¢å†…å®¹å¤§å° var scalesPageToFit: Bool 8.è®¾ç½® UIWebView æŽ¥æ”¶çš„æ•°æ®æ˜¯ä»€ä¹ˆç±»åž‹ var dataDetectorTypes: UIDataDetectorTypes 9.è®¾ç½® UIWebView å†…æ˜¯å¦å¯ä»¥å›žæ”¾åª’ä½“ var allowsInlineMediaPlayback: Bool 10.è®¾ç½® UIWebView ä¸­çš„ HTML5 è§†é¢‘æ˜¯å¦è‡ªåŠ¨æ’­æ”¾(é»˜è®¤æ˜¯True) var mediaPlaybackRequiresUserAction: Bool 11.è®¾ç½® UIWebView æ˜¯å¦å¯ä»¥ä½¿ç”¨ Air æ’­æ”¾(é»˜è®¤æ˜¯True) var mediaPlaybackAllowsAirPlay: Bool 12.è®¾ç½® UIWebView æ˜¯å¦ä½¿ç”¨åŒæ­¥åŠ è½½(é»˜è®¤æ˜¯False) var suppressesIncrementalRendering: Bool 13.è®¾ç½® UIWebView åœ¨ç‚¹å‡»è§†å›¾æˆ–è€…å…ƒç´ æ—¶æ˜¯å¦æ˜¾ç¤ºé”®ç›˜(é»˜è®¤æ˜¯True) var keyboardDisplayRequiresUserAction: Bool 14.è®¾ç½® UIWebView çš„åˆ†é¡µæ¨¡å¼ var paginationMode: UIWebPaginationMode 15.è®¾ç½® UIWebView çš„åˆ†é¡µæ‰“ç ´æ¨¡å¼ var paginationBreakingMode: UIWebPaginationBreakingMode 16.è®¾ç½® UIWebView çš„åˆ†é¡µé•¿åº¦ var pageLength: CGFloat 17.è®¾ç½® UIWebView ä¹‹é—´çš„é¡µé¢å®½åº¦ var gapBetweenPages: CGFloat 18.èŽ·å– UIWebView çš„é¡µé¢æ•°é‡ var pageCount: Int &#123; get &#125; å¸¸ç”¨ç±»åž‹ 1.èŽ·å– UIWebView çš„æ•°æ®ç±»åž‹ struct UIDataDetectorTypes : RawOptionSetType &#123; init(_ rawValue: UInt) init(rawValue: UInt) static var PhoneNumber: UIDataDetectorTypes &#123; get &#125; static var Link: UIDataDetectorTypes &#123; get &#125; static var Address: UIDataDetectorTypes &#123; get &#125; static var CalendarEvent: UIDataDetectorTypes &#123; get &#125; static var None: UIDataDetectorTypes &#123; get &#125; static var All: UIDataDetectorTypes &#123; get &#125;&#125; 2.è®¾ç½® UIWebView çš„ Navigation ç±»åž‹ enum UIWebViewNavigationType : Int &#123; case LinkClicked case FormSubmitted case BackForward case Reload case FormResubmitted case Other&#125; 3.è®¾ç½® UIWebView çš„åˆ†é¡µæ ·å¼ enum UIWebPaginationMode : Int &#123; case Unpaginated case LeftToRight case TopToBottom case BottomToTop case RightToLeft&#125; 4.è®¾ç½® UIWebView æ‰“ç ´åˆ†é¡µæ ·å¼çš„æ ·å¼ enum UIWebPaginationBreakingMode : Int &#123; case Page case Column&#125; UIWebViewçš„ä»£ç†æ–¹æ³• 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ˜¯å¦åœ¨ UIWebView åŠ è½½ä¹‹å‰å‘é€ä¸€ä¸ªè¯·æ±‚ optional func webView(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType) -&gt; Bool 2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åœ¨å¼€å‘åŠ è½½æ—¶è°ƒç”¨ optional func webViewDidStartLoad(webView: UIWebView) 3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åŠ è½½å®Œä¹‹åŽæ‰è°ƒç”¨ optional func webViewDidFinishLoad(webView: UIWebView) 4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView è¯·æ±‚å¤±è´¥çš„æ—¶å€™è°ƒç”¨ optional func webView(webView: UIWebView, didFailLoadWithError error: NSError)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIWebView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIWebView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIWebView-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FSwift-UIKit-UIWebView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[UIWebView UIWebView ç»§æ‰¿ä¸Ž UIView, å¹¶ä¸”éµå®ˆäº† UIScrollViewDelegate åè®®, æ‰€ä»¥å®ƒå¯ä»¥ä½¿ç”¨é‡Œé¢çš„æ–¹æ³•å’Œå±žæ€§ éµå®ˆä»£ç†åè®® class ViewController: UIViewController, UIWebViewDelegate &#123;&#125; è‡ªå®šä¹‰UIWebVIewfunc myWebView() &#123; // 1.èŽ·å– UIWebView çš„ UIScrollView å±žæ€§ let webScroll = webView.scrollView println("webScroll = \(webScroll)") // 2.èŽ·å– UIWebView çš„ request å±žæ€§ let webRequest = webView.request println("webRequest = \(webRequest)") // 3.èŽ·å– UIWebView æ˜¯å¦åœ¨æŽ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥é€€åŽä¸€æ­¥ let webCanBack = webView.canGoBack println("webCanBack = \(webCanBack)") // 4.èŽ·å– UIWebView æ˜¯å¦åœ¨æŽ¥æ”¶æ•°æ®çš„æ—¶å€™å¯ä»¥å‰è¿›ä¸€æ­¥ let webCanGo = webView.canGoForward println("webCanGo = \(webCanGo)") // 5.èŽ·å– UIWebVIew æ˜¯å¦æŽ¥å—å®Œæ•°æ® let webLoading = webView.loading println("webLoading = \(webLoading)") // 6.è®¾ç½® UIWebView æŽ¥æ”¶çš„æ•°æ®æ˜¯å¦å¯ä»¥é€šè¿‡æ‰‹åŠ¿æ¥è°ƒæ•´é¡µé¢å†…å®¹å¤§å° webView.scalesPageToFit = true // 7.è®¾ç½® UIWebView æŽ¥æ”¶åˆ°å¾—æ•°æ®æ˜¯ä»€ä¹ˆç±»åž‹çš„ webView.dataDetectorTypes = UIDataDetectorTypes.All // 8.è®¾ç½® UIWebView å†…æ˜¯å¦å¯ä»¥å›žæ”¾åª’ä½“ webView.allowsInlineMediaPlayback = true // 9.è®¾ç½® UIWebView ä¸­çš„ HTML5 è§†é¢‘æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ webView.mediaPlaybackRequiresUserAction = true // 10.è®¾ç½® UIWebView æ˜¯å¦å¯ä»¥ä½¿ç”¨ Air æ’­æ”¾ webView.mediaPlaybackAllowsAirPlay = true // 11.è®¾ç½® UIWebView æ˜¯å¦ä½¿ç”¨åŒæ­¥åŠ è½½(é»˜è®¤æ˜¯False) webView.suppressesIncrementalRendering = false // 12.è®¾ç½® UIWebView åœ¨ç‚¹å‡»è§†å›¾æˆ–è€…å…ƒç´ æ—¶æ˜¯å¦æ˜¾ç¤ºé”®ç›˜(é»˜è®¤æ˜¯True) webView.keyboardDisplayRequiresUserAction = true // 13.è®¾ç½® UIWebView çš„åˆ†é¡µæ¨¡å¼ webView.paginationMode = UIWebPaginationMode.RightToLeft // 14.è®¾ç½® UIWebView çš„åˆ†é¡µæ‰“ç ´æ¨¡å¼ webView.paginationBreakingMode = UIWebPaginationBreakingMode.Column // 15.è®¾ç½® UIWebView çš„åˆ†é¡µé•¿åº¦ webView.pageLength = 400 // 16.è®¾ç½® UIWebView æ¯ä¸ªåˆ†é¡µä¹‹é—´çš„å®½åº¦ webView.gapBetweenPages = 100 // 17.èŽ·å– UIWebView çš„åˆ†é¡µæ•°é‡ let webViewPageCount = webView.pageCount println(webViewPageCount) // 18.è®¾ç½® UIWebView çš„ä»£ç†å¯¹è±¡ webView.delegate = self // 19.å‘é€ç½‘ç»œè¯·æ±‚ var url:NSURL = NSURL(string:"http://www.baidu.com")! var request:NSURLRequest = NSURLRequest(URL:url) webView.loadRequest(request) &#125; å®žçŽ°ä»£ç†æ–¹æ³•// 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ˜¯å¦åœ¨ UIWebView åŠ è½½ä¹‹å‰å‘é€ä¸€ä¸ªè¯·æ±‚ func webView(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType) -&gt; Bool &#123; return true &#125; // 2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åœ¨å¼€å‘åŠ è½½æ—¶è°ƒç”¨ func webViewDidStartLoad(webView: UIWebView) &#123; println("å¼€å§‹åŠ è½½") &#125; // 3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView åŠ è½½å®Œä¹‹åŽæ‰è°ƒç”¨ func webViewDidFinishLoad(webView: UIWebView) &#123; println("åŠ è½½å®Œæˆ") &#125; // 4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIWebView è¯·æ±‚å¤±è´¥çš„æ—¶å€™è°ƒç”¨ func webView(webView: UIWebView, didFailLoadWithError error: NSError) &#123; println("åŠ è½½å¤±è´¥") &#125; åœ¨ ViewDidLoad æ–¹æ³•ä¸­å®žçŽ°override func viewDidLoad() &#123; super.viewDidLoad() self.myWebView() &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIWebView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIWebView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UINavigationController-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUINavigationController-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[UINavigationController UINavigationController æ˜¯ç»§æ‰¿ä¸Ž UIViewController çš„, æ‰€ä»¥é‡Œé¢çš„æ–¹æ³•ä»¥åŠå±žæ€§éƒ½æ˜¯å¯ä»¥ä½¿ç”¨çš„. é¦–å…ˆæˆ‘ä»¬è¦å†AppDelegate.swiftæ–‡ä»¶ä¸­å®žçŽ°func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Bool &#123; // Override point for customization after application launch. self.window = UIWindow(frame: UIScreen.mainScreen().bounds) self.window!.backgroundColor = UIColor.grayColor() self.window!.makeKeyAndVisible() let viewController = ViewController() let navigationController = UINavigationController(rootViewController: viewController) self.window!.rootViewController = navigationController return true &#125; éµå®ˆä»£ç†åè®®class ViewController: UIViewController, UINavigationControllerDelegate &#123; &#125; è‡ªå®šä¹‰UINavigationControllerfunc myNavigationContronller() &#123; // 1.è®¾ç½® UINavigationController çš„ Title self.title = "UINavigationContronller" // 2.è®¾ç½® UIVavigationController çš„æŒ‰é’® Title, Style, Target, Action ç­‰æ–¹æ³•å±žæ€§ let backBarButtonItem = UIBarButtonItem(title: "è¿”å›ž", style: UIBarButtonItemStyle.Plain, target: self, action: "backAction") let nextBarButtonItem = UIBarButtonItem(title: "ä¸‹ä¸€é¡µ", style: UIBarButtonItemStyle.Plain, target: self, action: "nextAction") // 3.è®¾ç½® UINavigationItem self.navigationItem.leftBarButtonItem = backBarButtonItem self.navigationItem.rightBarButtonItem = nextBarButtonItem // 4.èŽ·å– UINavigationController çš„é¡¶éƒ¨çš„è§†å›¾æŽ§åˆ¶å™¨ let topView = self.navigationController?.topViewController println(topView) // 5.èŽ·å– UINavigationController å¯è§çš„è§†å›¾æŽ§åˆ¶å™¨ let visibleView = self.navigationController?.visibleViewController println(visibleView) // 6.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æŽ§åˆ¶å™¨ self.navigationController?.viewControllers // 7.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æŽ§åˆ¶å™¨æ˜¯å¦éšè—(é»˜è®¤æ˜¯ false) self.navigationController?.navigationBarHidden = false // 8.èŽ·å– UINavigationController çš„å¯¼èˆªæ æŽ§åˆ¶å™¨ let navigationBar = self.navigationController?.navigationBar println(navigationBar) // 9.è®¾ç½® UINavigationController çš„å†…ç½®å·¥å…·æ æ˜¯å¦å¯è§(é»˜è®¤æ˜¯ ture) self.navigationController?.toolbarHidden = false // 10.èŽ·å– UINavigationController çš„ toolbar let toolbar = self.navigationController?.toolbar println(toolbar) // 11.è®¾ç½® UINavigationController çš„ä»£ç†å¯¹è±¡ self.navigationController?.delegate = self // 12.èŽ·å– UINavigationController çš„æ‰‹åŠ¿è¯†åˆ«é¡¶éƒ¨è§†å›¾æŽ§åˆ¶å™¨ let pop = self.navigationController?.interactivePopGestureRecognizer println(pop) // 13.è®¾ç½® UINavigationController å½“é”®ç›˜å‡ºçŽ°æ—¶æ˜¯å¦éšè—å¯¼èˆªæ å’Œå·¥å…·æ  self.navigationController!.hidesBarsWhenKeyboardAppears = true // 14.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨å‘ä¸Šæ»‘åŠ¨çš„æ‰‹åŠ¿éšè—å¯¼èˆªæ å’Œå·¥å…·æ  self.navigationController?.hidesBarsOnSwipe = true // 15.èŽ·å– UINavigationController ç”¨æ‰‹åŠ¿è¯†åˆ«éšè—å¯¼èˆªæ å’Œå·¥å…·æ  let barHide = self.navigationController!.barHideOnSwipeGestureRecognizer println(barHide) // 16.è®¾ç½® UINavigationController æ˜¯å¦åœ¨åž‚ç›´æ˜¾ç¤ºæ—¶éšè— self.navigationController!.hidesBarsWhenVerticallyCompact = true // 17.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨ç‚¹å‡»æ‰‹åŠ¿æ¥éšè— self.navigationController?.hidesBarsOnTap = true // 18.èŽ·å– UINavigationController éšè—æ—¶æ‰€ä½¿ç”¨çš„æ‰‹åŠ¿ let barHideOnTap = self.navigationController!.barHideOnTapGestureRecognizer println(barHideOnTap) // 19.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”» self.navigationController?.setNavigationBarHidden(true, animated: true) // 20.è®¾ç½® UINavigationController çš„å·¥å…·æ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”» self.navigationController?.setToolbarHidden(true, animated: true) &#125; è‡ªå®šä¹‰ä»£ç†æ–¹æ³•ä»¥åŠç›‘å¬æ–¹æ³•// 1.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å°†è¦æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³• func navigationController(navigationController: UINavigationController, willShowViewController viewController: UIViewController, animated: Bool) &#123; println("UINavigationController å°†è¦æ˜¾ç¤º") &#125; // 2.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å®Œå…¨æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³• func navigationController(navigationController: UINavigationController, didShowViewController viewController: UIViewController, animated: Bool) &#123; println("UINavigationController å®Œå…¨æ˜¾ç¤º") &#125; // 3.è¿”å›žæŒ‰é’®çš„ç›‘å¬æ–¹æ³• func backAction() &#123; println("ç‚¹å‡»äº†è¿”å›ž") &#125; // 4.ä¸‹ä¸€é¡µæŒ‰é’®çš„ç›‘å¬æ–¹æ³• func nextAction() &#123; println("ç‚¹å‡»äº†ä¸‹ä¸€é¡µ") &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UINavigationController</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UINavigationController</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UINavigationController-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUINavigationController-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UINavigationControllerå¸¸ç”¨å±žæ€§ 1.èŽ·å– UINavigationController çš„é¡¶éƒ¨çš„è§†å›¾æŽ§åˆ¶å™¨ var topViewController: UIViewController! &#123; get &#125; 2.èŽ·å– UINavigationController å¯è§çš„è§†å›¾æŽ§åˆ¶å™¨ var visibleViewController: UIViewController! &#123; get &#125; 3.è®¾ç½® UINavigationController çš„ viewControllers å¯¹è±¡ var viewControllers: [AnyObject]! 4.è®¾ç½® UINavigationController çš„å¯¼èˆªæ æŽ§åˆ¶å™¨æ˜¯å¦éšè—, é»˜è®¤æ˜¯ false var navigationBarHidden: Bool 5.èŽ·å– UINavigationController çš„å¯¼èˆªæ æŽ§åˆ¶å™¨ var navigationBar: UINavigationBar &#123; get &#125; 6.è®¾ç½® UINavigationController çš„å†…ç½®å·¥å…·æ æ˜¯å¦å¯è§(é»˜è®¤æ˜¯ ture) var toolbarHidden: Bool 7.èŽ·å– UINavigationController çš„ toolbar var toolbar: UIToolbar! &#123; get &#125; 8.è®¾ç½® UINavigationController çš„ä»£ç†å¯¹è±¡ var delegate: UINavigationControllerDelegate? 9.èŽ·å– UINavigationController çš„æ‰‹åŠ¿è¯†åˆ«é¡¶éƒ¨è§†å›¾æŽ§åˆ¶å™¨ var interactivePopGestureRecognizer: UIGestureRecognizer! &#123; get &#125; 10.è®¾ç½® UINavigationController å½“é”®ç›˜å‡ºçŽ°æ—¶æ˜¯å¦éšè—å¯¼èˆªæ å’Œå·¥å…·æ  var hidesBarsWhenKeyboardAppears: Bool 11.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨å‘ä¸Šæ»‘åŠ¨çš„æ‰‹åŠ¿éšè—å¯¼èˆªæ å’Œå·¥å…·æ  var hidesBarsOnSwipe: Bool 12.èŽ·å– UINavigationController ç”¨æ‰‹åŠ¿è¯†åˆ«éšè—å¯¼èˆªæ å’Œå·¥å…·æ  var barHideOnSwipeGestureRecognizer: UIPanGestureRecognizer &#123; get &#125; 13.è®¾ç½® UINavigationController æ˜¯å¦åœ¨åž‚ç›´æ˜¾ç¤ºæ—¶éšè— var hidesBarsWhenVerticallyCompact: Bool 14.è®¾ç½® UINavigationController æ˜¯å¦ä½¿ç”¨ç‚¹å‡»æ‰‹åŠ¿æ¥éšè— var hidesBarsOnTap: Bool 15.èŽ·å– UINavigationController éšè—æ—¶æ‰€ä½¿ç”¨çš„æ‰‹åŠ¿ var barHideOnTapGestureRecognizer: UITapGestureRecognizer &#123; get &#125; UINavigationControllerå¸¸ç”¨çš„æ–¹æ³• 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController è·³è½¬åˆ°æŒ‡å®šçš„è§†å›¾æŽ§åˆ¶å™¨, æ˜¯å¦ä½¿ç”¨åŠ¨ç”» func pushViewController(viewController: UIViewController, animated: Bool) 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController Popåˆ°å…¶ä»–è§†å›¾æŽ§åˆ¶å™¨æ—¶æ˜¯å¦ä½¿ç”¨åŠ¨ç”», å¹¶ä¸”è¿”å›žçš„ç±»åž‹å¿…é¡»æ˜¯ UIViewController func popViewControllerAnimated(animated: Bool) -&gt; UIViewController? 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController Popåˆ°æŒ‡å®šçš„è§†å›¾æŽ§åˆ¶å™¨, æ˜¯å¦ä½¿ç”¨åŠ¨ç”», è¿”å›žçš„ç±»åž‹æ˜¯ä»»æ„ç±»åž‹ func popToViewController(viewController: UIViewController, animated: Bool) -&gt; [AnyObject]? 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController Popåˆ°æ ¹è§†å›¾æ—¶æ˜¯å¦ä½¿ç”¨åŠ¨ç”», å¹¶ä¸”è¿”å›žçš„ç±»åž‹å¿…é¡»æ˜¯ä»»æ„ç±»åž‹ func popToRootViewControllerAnimated(animated: Bool) -&gt; [AnyObject]? 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥æ›¿æ¢ä¹‹å‰äºŽ UINavigationController ç»‘å®šçš„è§†å›¾æŽ§åˆ¶å™¨, å¹¶ä¸”æ˜¯å¦ä½¿ç”¨åŠ¨ç”» func setViewControllers(viewControllers: [AnyObject]!, animated: Bool) 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController çš„å¯¼èˆªæ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”» func setNavigationBarHidden(hidden: Bool, animated: Bool) 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController çš„å·¥å…·æ æ˜¯å¦éšè—, æ˜¯å¦ä½¿ç”¨åŠ¨ç”» func setToolbarHidden(hidden: Bool, animated: Bool) 8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UINavigationController æ˜¾ç¤ºæŒ‡å®šçš„ ViewController func showViewController(vc: UIViewController, sender: AnyObject!) UINavigationControllerä»£ç†æ–¹æ³• 1.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å°†è¦æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³• optional func navigationController(navigationController: UINavigationController, willShowViewController viewController: UIViewController, animated: Bool) 2.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® UINavigationController å®Œå…¨æ˜¾ç¤ºæ—¶æ‰€è°ƒç”¨çš„æ–¹æ³• optional func navigationController(navigationController: UINavigationController, didShowViewController viewController: UIViewController, animated: Bool)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UINavigationController</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UINavigationController</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UISegmentedControl-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUISegmentedControl-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰UISegmentedControfunc mySegmentedControl() &#123; // 1.è‡ªå®šä¹‰ UISegemtedControl å¹¶ä¸”è®¾ç½®å®ƒçš„ Item æ•°ç»„å¯¹è±¡ var segmented = UISegmentedControl(items: ["åˆ†æ®µä¸€", "åˆ†æ®µäºŒ"]) // 2.è®¾ç½® UISegemtedControl çš„ä¸­å¿ƒç‚¹ segmented.center = CGPointMake(self.view.frame.width / 2, self.view.frame.height / 2) // 3.è®¾ç½® UISegemtedControl çš„å°ºå¯¸ segmented.bounds = CGRectMake(0, 0, 300, 30) // 4.è®¾ç½® UISegemtedControl ç‚¹å‡»ä¹‹åŽæ˜¯å¦çž¬é—´å¼¹èµ·, (é»˜è®¤æ˜¯ false) segmented.momentary = true // 5.èŽ·å– UISegemtedControl çš„åˆ†æ®µæŒ‰é’®ä¸ªæ•° var number: Int = segmented.numberOfSegments // 6.è®¾ç½® UISegemtedControl æ˜¯å¦åŸºäºŽå†…å®¹è‡ªåŠ¨è°ƒæ•´å°ºå¯¸, é»˜è®¤æ˜¯ false, å‰ææ˜¯è¦ä¸è®¾ç½® UISegemtedControl çš„å°ºå¯¸ segmented.apportionsSegmentWidthsByContent = false // 7.æ’å…¥ä¸€ä¸ª UISegemtedControl çš„åˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®æ ‡é¢˜å’Œç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» segmented.insertSegmentWithTitle("åˆ†æ®µä¸‰", atIndex: 2, animated: true) // 8.æ’å…¥ä¸€ä¸ª UISegemtedControl ä½œä¸ºåˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®ç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» segmented.insertSegmentWithImage(UIImage(named: "image_black.jpg")!, atIndex: 3, animated: true) // 9.åˆ é™¤æŒ‡å®šç´¢å¼•çš„ UISegemtedControl åˆ†æ®µæŒ‰é’®, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» segmented.removeSegmentAtIndex(1, animated: true) // 10.åˆ é™¤æ‰€æœ‰ UISegemtedControl çš„åˆ†æ®µæŒ‰é’® //segmented.removeAllSegments() // 11.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®æ ‡é¢˜ segmented.setTitle("åˆ†æ®µå››", forSegmentAtIndex: 0) // 12.èŽ·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„æ ‡é¢˜ var title: String = segmented.titleForSegmentAtIndex(0)! println(title) // 13.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®å›¾ç‰‡ segmented.setImage(UIImage(named: "image_black.jpg")!, forSegmentAtIndex: 2) // 14.èŽ·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å›¾ç‰‡ var image: UIImage = segmented.imageForSegmentAtIndex(2)! println(image) // 15.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å®½åº¦ segmented.setWidth(70, forSegmentAtIndex: 0) // 16.èŽ·å–æŒ‡å®š UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å®½åº¦ var width: CGFloat = segmented.widthForSegmentAtIndex(0) println(width) // 17.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡ segmented.setContentOffset(CGSizeMake(5, 5), forSegmentAtIndex: 0) // 18.èŽ·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡ var size: CGSize = segmented.contentOffsetForSegmentAtIndex(0) println(size) // 19.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡» segmented.setEnabled(true, forSegmentAtIndex: 0) // 20.èŽ·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡» var bool: Bool = segmented.isEnabledForSegmentAtIndex(0) println(bool) // 21.èŽ·å– UISegemtedControl å¯ç‚¹å‡»çš„ Item æ•°é‡ var selected: Int = segmented.selectedSegmentIndex println(selected) // 22.è®¾ç½® UISegemtedControl çš„æ ·å¼é¢œè‰² segmented.tintColor = UIColor.redColor() // 23.è®¾ç½® UISegemtedControl çš„èƒŒæ™¯å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼ segmented.setBackgroundImage(UIImage(named: "image_black.jpg"), forState: UIControlState.Normal, barMetrics: UIBarMetrics.Default) // 24.èŽ·å– UISegemtedControl åœ¨æŒ‡å®šçš„çŠ¶æ€, å›¾ç‰‡æ˜¾ç¤ºä¸‹çš„å›¾ç‰‡ var backgroundImage: UIImage = segmented.backgroundImageForState(UIControlState.Normal, barMetrics: UIBarMetrics.Default)! println(backgroundImage) // 25.è®¾ç½® UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼ segmented.setDividerImage(UIImage(named: "image_divider"), forLeftSegmentState: UIControlState.Normal, rightSegmentState: UIControlState.Normal, barMetrics: UIBarMetrics.Default) // 26.èŽ·å– UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼ var divider: UIImage = segmented.dividerImageForLeftSegmentState(UIControlState.Normal, rightSegmentState: UIControlState.Normal, barMetrics: UIBarMetrics.Default)! println(divider) // 27.æ·»åŠ  UISegemtedControl çš„ç›‘å¬æ–¹æ³• segmented.addTarget(self, action: "didClicksegmentedControlAction:", forControlEvents: UIControlEvents.ValueChanged) // æ·»åŠ åˆ° self.view self.view.addSubview(segmented) &#125; UISegemtedControlçš„ç›‘å¬æ–¹æ³•func didClicksegmentedControlAction(segmented: UISegmentedControl!) &#123; var index = segmented.selectedSegmentIndex if index == 0 &#123; println("åˆ†æ®µæŒ‰é’®ä¸€") &#125; else if index == 1 &#123; println("åˆ†æ®µæŒ‰é’®äºŒ") &#125; else if index == 2 &#123; println("åˆ†æ®µæŒ‰é’®ä¸‰") &#125; &#125; åœ¨ viewDidLoad ä¸­å®žçŽ° override func viewDidLoad() &#123; super.viewDidLoad() self.mySegmentedControl()&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISegmentedControl</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UISegmentedControl</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UISegmentedControl-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUISegmentedControl-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UISegemtedControlçš„å¸¸ç”¨å±žæ€§ 1.åˆå§‹åŒ–æ—¶è®¾ç½® UISegemtedControl çš„ Item æ•°ç»„ init(items: [AnyObject]) 2.è®¾ç½® UISegemtedControl ç‚¹å‡»ä¹‹åŽæ˜¯å¦çž¬é—´å¼¹èµ·, (é»˜è®¤æ˜¯ false) var momentary: Bool 3.èŽ·å– UISegemtedControl é‡Œæœ‰çš„åˆ†æ®µæŒ‰é’®ä¸ªæ•° var numberOfSegments: Int &#123; get &#125; 4.è®¾ç½® UISegemtedControl æ˜¯å¦åŸºäºŽå†…å®¹è‡ªåŠ¨è°ƒæ•´å°ºå¯¸, é»˜è®¤æ˜¯ false, å‰ææ˜¯è¦ä¸è®¾ç½® UISegemtedControl çš„å°ºå¯¸ var apportionsSegmentWidthsByContent: Bool 5.èŽ·å– UISegemtedControl å¯ç‚¹å‡»çš„ Item æ•°é‡ var selectedSegmentIndex: Int 6.è®¾ç½® UISegemtedControl çš„æ ·å¼é¢œè‰² var tintColor: UIColor! UISegemtedControlçš„å¸¸ç”¨æ–¹æ³• 1.æ’å…¥ä¸€ä¸ª UISegemtedControl çš„åˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®æ ‡é¢˜å’Œç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» func insertSegmentWithTitle(title: String!, atIndex segment: Int, animated: Bool) 2.æ’å…¥ä¸€ä¸ª UISegemtedControl ä½œä¸ºåˆ†æ®µæŒ‰é’®, å¹¶ä¸”è®¾ç½®ç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» func insertSegmentWithImage(image: UIImage, atIndex segment: Int, animated: Bool) 3.åˆ é™¤æŒ‡å®šç´¢å¼•çš„ UISegemtedControl åˆ†æ®µæŒ‰é’®, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» func removeSegmentAtIndex(segment: Int, animated: Bool) 4.åˆ é™¤æ‰€æœ‰ UISegemtedControl çš„åˆ†æ®µæŒ‰é’® func removeAllSegments() 3.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®æ ‡é¢˜ func setTitle(title: String?, forSegmentAtIndex segment: Int) 4.èŽ·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„æ ‡é¢˜ func titleForSegmentAtIndex(segment: Int) -&gt; String? 5.ä¿®æ”¹ UISegemtedControl æŒ‡å®šçš„ Item åˆ†æ®µæŒ‰é’®å›¾ç‰‡ func setImage(image: UIImage?, forSegmentAtIndex segment: Int) 6.èŽ·å–æŒ‡å®šçš„ UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å›¾ç‰‡ func imageForSegmentAtIndex(segment: Int) -&gt; UIImage? 7.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å®½åº¦ func setWidth(width: CGFloat, forSegmentAtIndex segment: Int) 8.èŽ·å–æŒ‡å®š UISegemtedControl åˆ†æ®µæŒ‰é’®çš„å®½åº¦ func widthForSegmentAtIndex(segment: Int) -&gt; CGFloat 9.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡ func setContentOffset(offset: CGSize, forSegmentAtIndex segment: Int) 10.èŽ·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item å†…å®¹åç§»é‡ func contentOffsetForSegmentAtIndex(segment: Int) -&gt; CGSize 11.è®¾ç½® UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡» func setEnabled(enabled: Bool, forSegmentAtIndex segment: Int) 12.èŽ·å–æŒ‡å®š UISegemtedControl æŒ‡å®šçš„ Item æ˜¯å¦å¯ä»¥ç‚¹å‡» func isEnabledForSegmentAtIndex(segment: Int) -&gt; Bool 13.è®¾ç½® UISegemtedControl çš„èƒŒæ™¯å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼ func setBackgroundImage(backgroundImage: UIImage?, forState state: UIControlState, barMetrics: UIBarMetrics) 14.èŽ·å– UISegemtedControl åœ¨æŒ‡å®šçš„çŠ¶æ€, å›¾ç‰‡æ˜¾ç¤ºä¸‹çš„å›¾ç‰‡ func backgroundImageForState(state: UIControlState, barMetrics: UIBarMetrics) -&gt; UIImage? 15.è®¾ç½® UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼ func setDividerImage(dividerImage: UIImage?, forLeftSegmentState leftState: UIControlState, rightSegmentState rightState: UIControlState, barMetrics: UIBarMetrics) 16.èŽ·å– UISegemtedControl çš„å·¦å³çš„åˆ†éš”ç¬¦å›¾ç‰‡, å¹¶ä¸”åœ¨ UISegemtedControl æŒ‡å®šçš„æ ·å¼ä¸‹æ‰ä¼šæ˜¾ç¤º, ä»¥åŠå›¾ç‰‡æ˜¾ç¤ºçš„æ ·å¼ func dividerImageForLeftSegmentState(leftState: UIControlState, rightSegmentState rightState: UIControlState, barMetrics: UIBarMetrics) -&gt; UIImage?]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISegmentedControl</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UISegmentedControl</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UISwitch-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUISwitch-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰UISwitch UISwitch æ˜¯ç»§æ‰¿äºŽ UIControl, æ‰€ä»¥ UIControl é‡Œé¢çš„å±žæ€§å’Œæ–¹æ³• UISwitch éƒ½æ˜¯å¯ä»¥ç”¨çš„ func mySwitch() &#123; // 1.è‡ªå®šä¹‰ UISwitch var switchButton = UISwitch() // 2.è®¾ç½® UISwitch çš„ä½ç½® switchButton.center = CGPointMake(self.view.frame.width / 2, self.view.frame.height / 2) // 3.è®¾ç½® UISwitch æ‰“å¼€æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»Žç™½å˜ç»¿ switchButton.onTintColor = UIColor.redColor() // 4.è®¾ç½® UISwitch å…³é—­æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»Žç»¿å˜ç™½ switchButton.tintColor = UIColor.blackColor() // 5.è®¾ç½® UISwitch çš„å°åœ†ç‚¹é¢œè‰², é»˜è®¤æ˜¯ç™½è‰² switchButton.thumbTintColor = UIColor.blueColor() // 6.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€ switchButton.on = true // 7.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€, å¹¶ä¸”æ˜¯å¦æ‰“å¼€åŠ¨ç”»æ•ˆæžœ switchButton.setOn(true, animated: true) // 8.æ·»åŠ åˆ° UISwitch åˆ° self.view self.view.addSubview(switchButton) &#125; åœ¨ viewDidLoadä¸­å®žçŽ° override func viewDidLoad() &#123; super.viewDidLoad() self.mySwitch()&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISwitch</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UISwitch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UISwitch-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUISwitch-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UISwitchçš„å¸¸ç”¨å±žæ€§ 1.è®¾ç½® UISwitch æ‰“å¼€æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»Žç™½å˜ç»¿ var onTintColor: UIColor! 2.è®¾ç½® UISwitch å…³é—­æ—¶åº•å›¾æ¸å˜é¢œè‰², é»˜è®¤æ˜¯ä»Žç™½å˜ç»¿ var tintColor: UIColor? 3.è®¾ç½® UISwitch çš„å°åœ†ç‚¹é¢œè‰², é»˜è®¤æ˜¯ç™½è‰² var thumbTintColor: UIColor? 4.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€ var on: Bool 5.è®¾ç½® UISwitch çš„ä½ç½® init(frame: CGRect) 6.è®¾ç½® UISwitch æ˜¯å¦æ‰“å¼€, å¹¶ä¸”æ˜¯å¦æ‰“å¼€åŠ¨ç”»æ•ˆæžœ func setOn(on: Bool, animated: Bool)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISwitch</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UISwitch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITextField-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUITextField-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[éµå®ˆä»£ç†åè®®class ViewController: UIViewController, UITextFieldDelegate &#123;&#125; æ·»åŠ UITextFieldfunc myTextField() &#123; // 1.åˆ›å»ºUITextField, å¹¶ä¸”è®¾ç½®å®ƒçš„Frame textField.frame = CGRectMake(100, 200, 200, 100) // 2.è®¾ç½®UITextFieldçš„èƒŒæ™¯é¢œè‰² textField.backgroundColor = UIColor.greenColor() // 3.è®¾ç½®UITextFieldçš„æ˜¾ç¤ºæ ·å¼ textField.borderStyle = UITextBorderStyle.RoundedRect // 4.è®¾ç½®UITextFieldçš„ç¼–è¾‘çŠ¶æ€, é»˜è®¤æ˜¯æ°¸è¿œä¸æ‰“å¼€, è¿™é‡Œè®¾ç½®çš„æ˜¯åœ¨ç¼–è¾‘æ—¶æ‰æ‰“å¼€ textField.clearButtonMode = UITextFieldViewMode.WhileEditing // 5.è®¾ç½®UITextFieldçš„é”®ç›˜æ ·å¼ textField.keyboardType = UIKeyboardType.ASCIICapable // 6.è®¾ç½®UITextFieldçš„é¦–å­—æ¯æ˜¯å¦å¤§å†™ textField.autocapitalizationType = UITextAutocapitalizationType.Sentences // 7.è®¾ç½®UITextFieldçš„é”®ç›˜å¤–è§‚é¢œè‰² textField.keyboardAppearance = UIKeyboardAppearance.Dark // 8.è®¾ç½®UITextFieldçš„returnæ ·å¼ textField.returnKeyType = UIReturnKeyType.Default // 9.è®¾ç½®UITextFieldé¢„è¾“å…¥çš„æ–‡å­— textField.attributedText = NSAttributedString(string: "ABCDEFG") // 10.è®¾ç½®UITextFieldçš„æç¤ºæ–‡å­— textField.placeholder = "è¯·è¾“å…¥æ‚¨çš„åå­—" // 11.è®¾ç½®UITextFieldçš„ä»£ç†å¯¹è±¡ textField.delegate = self // 12.è®¾ç½®UITextFieldå†…å®¹çš„åž‚ç›´å¯¹é½æ–¹å¼, é»˜è®¤æ˜¯center textField.contentVerticalAlignment = UIControlContentVerticalAlignment.Top // 13.å†æ¬¡ç¼–è¾‘æ—¶å¯¹æ—§å†…å®¹è¿›è¡Œè‡ªåŠ¨æ¸…é™¤, é»˜è®¤æ˜¯false textField.clearsOnBeginEditing = true // 14.æ ¹æ®TextFieldçš„å¤§å°è‡ªåŠ¨ç¼©æ”¾å­—ä½“å¤§å°, é»˜è®¤æ˜¯false textField.adjustsFontSizeToFitWidth = true // 15.æ·»åŠ åˆ°çˆ¶è§†å›¾ self.view.addSubview(textField) &#125; å®žçŽ°ä»£ç†æ–¹æ³•func textFieldShouldReturn(textField: UITextField) -&gt; Bool &#123; // å–æ¶ˆç¬¬ä¸€å“åº”è€… textField.resignFirstResponder() // è¿”å›žtrue return true &#125; åœ¨ViewDidloadå®žçŽ° UITExtFieldä¸ä¼šè‡ªåŠ¨æ¢è¡Œçš„, æ‰€ä»¥æˆ‘ä»¬åªå¯èƒ½é™åˆ¶ç”¨æˆ·æ‰€è¾“å…¥å¤šå°‘ä¸ªå­—ç¬¦, å¦‚æžœéœ€è¦è‡ªåŠ¨æ¢è¡Œ, é‚£å°±éœ€è¦åŽ»äº†è§£UITextVIew override func viewDidLoad() &#123; super.viewDidLoad() self.myTextField() &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITextField</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITextField</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITxtxField-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FSwift-UIKit-UITxtxField-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UITxtxFieldçš„å¸¸ç”¨çŠ¶æ€TextFieldè¾¹æ¡†çš„æ ·å¼ enum UITextBorderStyle : Int &#123; case None // TextFieldè¾¹æ¡†ä»€ä¹ˆéƒ½æ²¡æœ‰, é»˜è®¤æ˜¯æ–¹è§’ case Line // TextFieldè¾¹æ¡†æœ‰ä¸€æ¡é»‘è‰²çš„å®žçŽ°å›´ç€, é»˜è®¤ä¹Ÿæ˜¯æ–¹è§’çš„ case Bezel // TextFieldè¾¹æ¡†æœ‰ä¸¤æ¡çº¿å›´ç€, å½¢æˆä¸€å®šçš„å±‚æ¬¡æ„Ÿ, é»˜è®¤ä¹Ÿæ˜¯æ–¹è§’çš„ case RoundedRect // TextFieldè¾¹æ¡†ä»€ä¹ˆéƒ½æ²¡æœ‰, é»˜è®¤æ˜¯åœ†è§’&#125; TextFieldçš„å¿«é€Ÿåˆ é™¤çŠ¶æ€ enum UITextFieldViewMode : Int &#123; case Never // æ°¸è¿œéƒ½ä¸æ‰“å¼€ case WhileEditing // åœ¨ç¼–è¾‘çš„çŠ¶æ€æ‰æ‰“å¼€ case UnlessEditing // åœ¨éžç¼–è¾‘çš„çŠ¶æ€æ‰æ‰“å¼€ case Always // ä¸€ç›´æ‰“å¼€&#125; TextFieldçš„é”®ç›˜æ ·å¼ enum UIKeyboardType : Int &#123; case Default // æ˜¾ç¤ºé»˜è®¤çš„é”®ç›˜ case ASCIICapable // æ˜¾ç¤ºæ‰€æœ‰ASCIIè¡¨çš„æ‰€æœ‰å­—ç¬¦ case NumbersAndPunctuation // æ•°å­—å’Œæ ‡ç‚¹ç¬¦å·çš„é”®ç›˜ case URL // è¾“å…¥ç½‘ç«™æ‰€ä½¿ç”¨çš„é”®ç›˜ case NumberPad // çº¯æ•°å­—é”®ç›˜ case PhonePad // ä¸ºäº†æ–¹ä¾¿è¾“å…¥æ‰‹æœºå·ç æ‰€ä½¿ç”¨çš„é”®ç›˜ case NamePhonePad // ä¸ºäº†æ–¹ä¾¿è¾“å…¥åå­—å’Œç”µè¯å·ç æ‰€ä½¿ç”¨çš„é”®ç›˜ case EmailAddress // é¢å‘é‚®ç®±æ‰€ä½¿ç”¨çš„é”®ç›˜ case DecimalPad // é¢å‘å¸¦å°æ•°ç‚¹çš„æ•°å­—é”®ç›˜ case Twitter // é¢å‘Twitterç­‰ç¤¾äº¤æ‰€ä½¿ç”¨çš„é”®ç›˜, ä¸ºäº†æ–¹ä¾¿@å’Œ# case WebSearch // é¢å‘ç½‘ç«™æ‰€ä½¿ç”¨çš„é”®ç›˜&#125; TextFieldçš„å¤§å†™æ ·å¼ enum UITextAutocapitalizationType : Int &#123; case None // ä¸è‡ªåŠ¨å¤§å†™ case Words // å•ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ case Sentences // å¥å­é¦–å­—æ¯å¤§å†™ case AllCharacters // å…¨éƒ¨å¤§å†™&#125; TextFieldçš„é”®ç›˜å¤–è§‚é¢œè‰² enum UIKeyboardAppearance : Int &#123; case Default // é»˜è®¤æ˜¯å…‰äº®çš„ case Dark // è®¾ç½®ä¸ºé»‘æš—é¢œè‰² case Light // è®¾ç½®ä¸ºå…‰äº®çš„é¢œè‰²&#125; TextFieldçš„Returnæ ·å¼ enum UIReturnKeyType : Int &#123; case Default // æ¨¡æ ·çš„æ ·å¼ case Go // æ ‡ç€æœ‰Goçš„è“è‰²æ ·å¼ case Google // æ ‡ç€Googleçš„è“è‰²æ ·å¼, ç”¨äºŽè¯­éŸ³æœç´¢, æ˜¾ç¤ºçš„æ ·å¼æ˜¯Search case Join // æ ‡æœ‰Joinçš„è“è‰²æŒ‰é’® case Next // æ ‡ç€æœ‰Nextçš„è“è‰²æŒ‰é’® case Route // æ ‡ç€æœ‰Routeçš„è“è‰²æŒ‰é’® case Search // æ ‡ç€æœ‰Searchçš„è“è‰²æŒ‰é’® case Send // æ ‡ç€æœ‰Sendçš„è“è‰²æŒ‰é’® case Yahoo // æ ‡ç€æœ‰Yahooçš„è“è‰²æŒ‰é’®, æ˜¾ç¤ºçš„æ ·å¼æ˜¯Search case Done // æ ‡ç€æœ‰Doneçš„è“è‰²æŒ‰é’® case EmergencyCall // æ ‡ç€æœ‰EmergencyCallçš„è“è‰²æŒ‰é’®, ç´§æ€¥å‘¼æ•‘çš„æŒ‰é’®&#125; TextFieldçš„å³è¾¹æ˜¾ç¤ºå›¾æ ·å¼ enum UITextFieldViewMode : Int &#123; case Never // æ°¸è¿œä¸æ˜¾ç¤º case WhileEditing // åœ¨ç¼–è¾‘çš„æƒ…å†µä¸‹æ˜¾ç¤º case UnlessEditing // åœ¨éžç¼–è¾‘çš„æƒ…å†µä¸‹æ˜¾ç¤º case Always // æ°¸è¿œæ˜¾ç¤º&#125; UITextFieldçš„åž‚ç›´æŽ’åˆ—æ–¹å¼ enum UIControlContentVerticalAlignment : Int &#123; case Center // å±…ä¸­å¯¹é½, é»˜è®¤ case Top // é¡¶éƒ¨å¯¹é½ case Bottom // åº•éƒ¨å¯¹é½ case Fill // å¹³é“ºæ•´ä¸ªTextFieldçš„é«˜åº¦&#125; UITextFieldçš„æ°´å¹³æŽ’åˆ—æ–¹å¼ enum UIControlContentHorizontalAlignment : Int &#123; case Center // å±…ä¸­å¯¹é½ case Left // å·¦å¯¹é½, é»˜è®¤ case Right // å³å¯¹é½ case Fill // å¹³é“ºæ•´ä¸ªTextFieldçš„å®½åº¦&#125; UITextFieldçš„å¸¸ç”¨å±žæ€§ å­—ä½“é¢œè‰², é»˜è®¤çš„å­—ä½“é¢œè‰²æ˜¯é»‘è‰² var textColor: UIColor! å­—ä½“å¤§å°, é»˜è®¤çš„å­—ä½“å¤§å°æ˜¯12 var font: UIFont!``` &gt;å­—ä½“å¯¹é½æ–¹å¼, é»˜è®¤æ˜¯å‘å·¦å¯¹é½```swift var textAlignment: NSTextAlignment è¾¹æ¡†çš„æ ·å¼, é»˜è®¤æ˜¯None. var borderStyle: UITextBorderStyle å¿«æ·æ¸…æ¥šçš„æŒ‰é’®, é»˜è®¤æ˜¯ä¸æ‰“å¼€çš„ var clearButtonMode: UITextFieldViewMode æç¤ºæ–‡æœ¬, é»˜è®¤æ˜¯nil, å­—ä½“é¢œè‰²æ˜¯70%çš„ç° var placeholder: String? å†æ¬¡ç¼–è¾‘æ—¶å¯¹æ—§å†…å®¹è¿›è¡Œè‡ªåŠ¨æ¸…é™¤, é»˜è®¤æ˜¯false var clearsOnBeginEditing: Bool æ ¹æ®TextFieldçš„å¤§å°è‡ªåŠ¨ç¼©æ”¾å­—ä½“å¤§å°, é»˜è®¤æ˜¯false var adjustsFontSizeToFitWidth: Bool å¸¸ç”¨ä»£ç†æ–¹æ³• ç‚¹å‡»returnä¼šç»“æŸç¼–è¾‘, ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®å–æ¶ˆTextFieldçš„ç¬¬ä¸€å“åº”è€…, ä½¿é”®ç›˜éšè— optional func textFieldShouldReturn(textField: UITextField) -&gt; Bool å¯é™åˆ¶æ–‡å­—è¾“å…¥çš„é•¿åº¦ä»¥åŠç‰¹å®šçš„å­—ç¬¦, å¦‚æžœè¿”å›žtrue, é‚£ä¹ˆå°±æ˜¯å¯ä»¥ä¿®æ”¹, å¦‚æžœè¿”å›žfalseå°±ä¸å¯ä¿®æ”¹ optional func textField(textField: UITextField, shouldChangeCharactersInRange range: NSRange, replacementString string: String) -&gt; Bool]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITxtxField</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITxtxField</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIImage-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUIImage-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºfunc myImage() &#123; // 1.åˆ›å»ºä¸€ä¸ªUIImageView, å¹¶ä¸”è®¾ç½®å®ƒçš„frame var myImageView = UIImageView(frame: CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)) // 2.è®¾ç½®UIImageçš„å›¾ç‰‡å, ä»¥åŠå±•ç¤ºçš„æ ·å¼ var myImage = UIImage(named: "image_bate.jpg")?.imageWithRenderingMode(UIImageRenderingMode.Automatic) // 3.æŠŠUIImageæ·»åŠ åˆ°ImageViewé‡Œé¢åŽ» myImageView.image = myImage self.view.addSubview(myImageView) &#125; åœ¨viewDidloadä¸­å®žçŽ°: override func viewDidLoad() &#123; super.viewDidLoad() self.myImage() &#125; æ³¨æ„ ç”±äºŽUIImageä¸èƒ½å•ç‹¬çš„æ‹¿å‡ºæ¥å±•ç¤º, å®ƒå¿…é¡»ä¾èµ–äºŽæŸä¸ªä¸€ä¸ªç»§æ‰¿äºŽUIViewçš„ä¸€ä¸ªView, æ¯”å¦‚UIImageViewæˆ–è€…UIButton, è¿™äº›éƒ½æ˜¯å¯ä»¥çš„]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIImage</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIImage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIImage-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUIImage-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UIImageçš„çŠ¶æ€ UIImageOrientation enum UIImageOrientation : Int &#123; case Up //é»˜è®¤æ–¹å‘ case Down //180Â°æ—‹è½¬ case Left //é€†æ—¶é’ˆæ—‹è½¬90Â° case Right //é¡ºæ—¶é’ˆæ—‹è½¬90Â° case UpMirrored //æ°´å¹³å‘ä¸Šç¿»è½¬ case DownMirrored //æ°´å¹³å‘ä¸‹ç¿»è½¬ case LeftMirrored //é€†æ—¶é’ˆæ—‹è½¬90Â°åŽå†åž‚ç›´ç¿»è½¬ case RightMirrored //é¡ºæ—¶é’ˆæ—‹è½¬90Â°åŽå†åž‚ç›´ç¿»è½¬&#125; UIImageResizingMode enum UIImageResizingMode : Int &#123; case Tile //å¹³é“ºåˆ°è°ƒæ•´å®Œä½ç½®çš„å›¾åƒ case Stretch //æ‹‰ä¼¸åˆ°è°ƒæ•´å®Œä½ç½®çš„å›¾åƒ&#125; UIImageRenderingMode enum UIImageRenderingMode : Int &#123; case Automatic //é»˜è®¤ä¸Šä¸‹æ–‡æ˜¾ç¤ºçš„å›¾åƒä½ç½® case AlwaysOriginal //æ€»æ˜¯ä»¥å›¾ç‰‡ä¸ºæ¨¡æ¿ case AlwaysTemplate //ä¼šæŠŠå›¾åƒä½œä¸ºç»˜ç”»çš„æ¨¡æ¿, å¿½ç•¥å…¶ä»–é¢œè‰²&#125; å¸¸ç”¨çš„å±žæ€§ UIImageé‡Œé¢è™½ç„¶æœ‰å¾ˆå¤šå±žæ€§, ä½†å”¯ä¸€å¸¸ç”¨çš„å±žæ€§å°±åªæœ‰è®¾ç½®èŽ·å–imageåå­—çš„å±žæ€§. init?(named name: String) -&gt; UIImage]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIImage</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIImage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITableViewCell-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUITableViewCell-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[UITableViewCell-ç®€å•ä½¿ç”¨ ç”±äºŽ TableViewCell æ˜¯ä¸å¯ä»¥å•ç‹¬å­˜åœ¨çš„, æ‰€ä»¥å¿…é¡»å¾—ä¾èµ–äºŽ UITableView éµå®ˆ TableView ä»£ç†åè®®ä»¥åŠæ•°æ®æºåè®® class ViewController: UIViewController, UITableViewDataSource, UITableViewDelegate &#123;&#125; è‡ªå®šä¹‰ TableVIewfunc myTableView() &#123; var tableView = UITableView(frame: self.view.frame, style: UITableViewStyle.Plain) tableView.dataSource = self tableView.delegate = self self.view.addSubview(tableView) &#125; å®žçŽ°æ•°æ®æºæ–¹æ³•func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int &#123; return 1 &#125; func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return 5 &#125; è‡ªå®šä¹‰ UITableViewCellfunc tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell &#123; // 1.è‡ªå®šä¹‰ UITableViewCell çš„æ ·å¼ä»¥åŠæ ‡ç­¾, reuseIdentifier æ˜¯ Cell å¾—æ ‡ç­¾, ä½œç”¨å’Œ Tag ç±»ä¼¼ var cell = UITableViewCell(style: UITableViewCellStyle.Value1, reuseIdentifier: "cell") // 2.è®¾ç½® UITableViewCell çš„æ ‡é¢˜Label cell.textLabel!.text = "æˆ‘æ˜¯ Cell" // 3.è®¾ç½® UITableViewCell çš„ç®€ä»‹Label cell.detailTextLabel?.text = "Cell" // 4.è®¾ç½® UITableViewCell çš„ imageView å›¾ç‰‡ cell.imageView?.image = UIImage(named: "image_black.jpg") // 5.è®¾ç½® UITableViewCell çš„ç¼–è¾‘æ¨¡å¼æ˜¯å¦å¼€å¯, ä»¥åŠæ˜¯å¦æ‰§è¡ŒåŠ¨ç”»æ•ˆæžœ cell.setEditing(true, animated: true) // 6.è®¾ç½® UITableViewCell çš„èƒŒæ™¯è‰² cell.backgroundColor = UIColor.greenColor() // 7.è®¾ç½® UITableViewCell çš„ç¼–è¾‘æ¨¡å¼è¾…åŠ©æŒ‰é’® cell.editingAccessoryType = UITableViewCellAccessoryType.DisclosureIndicator // 8.è®¾ç½® UITableViewCell è¢«é€‰ä¸­çš„æ ·å¼ cell.selectionStyle = UITableViewCellSelectionStyle.Default // 9.è®¾ç½® UITableViewCell åˆ†å‰²çº¿çš„ä½ç½® cell.separatorInset = UIEdgeInsetsMake(0, 0, 0, 20) // 10.è®¾ç½® UITableViewCell è¢«é€‰ä¸­æ—¶çš„èƒŒæ™¯View cell.selectedBackgroundView = nil // 11.è®¾ç½® UITableViewCell çš„è¾…åŠ©æŒ‰é’®æ ·å¼ cell.accessoryType = UITableViewCellAccessoryType.DisclosureIndicator // è¿”å›žè‡ªå®šçš„ Cell return cell &#125; å¼€å¯ TableViewCell çš„ç¼–è¾‘æ¨¡å¼ func tableView(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath) &#123; &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITableViewCell</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITableViewCell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITableViewCell]]></title>
    <url>%2F2017%2F12%2F14%2FSwift%2FUIKit%2FUITableViewCell-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[å¸¸ç”¨å±žæ€§UITableViewCell æ˜¾ç¤ºçš„æ ·å¼ enum UITableViewCellStyle : Int &#123; case Default // é»˜è®¤æ˜¾ç¤ºæ ·å¼ case Value1 // æ ·å¼ä¸€ case Value2 // æ ·å¼äºŒ case Subtitle // å‰¯æ ‡é¢˜æ ·å¼&#125; UITableViewCell é€‰ä¸­çš„æ ·å¼ enum UITableViewCellEditingStyle : Int &#123; case None // æ²¡æœ‰ case Delete // åˆ é™¤ case Insert // æ·»åŠ &#125; UITableViewCell è¾…åŠ©æŒ‰é’®çš„æ ·å¼ enum UITableViewCellAccessoryType : Int &#123; case None // æ²¡æœ‰æŒ‰é’® case DisclosureIndicator // è“è‰²å‘å³çš„ç®­å¤´ case DetailDisclosureButton // è“è‰²å‘å³çš„ç®­å¤´ä»¥åŠä¿¡æ¯æŒ‰é’® case Checkmark // å¤é€‰æ¡† @availability(iOS, introduced=7.0) case DetailButton // ä¿¡æ¯æŒ‰é’®&#125; UITableViewCell å¸¸ç”¨å±žæ€§ 1.åˆå§‹åŒ– Cell çš„ Style ä»¥åŠæ ‡ç­¾å init(style: UITableViewCellStyle, reuseIdentifier: String?) 2.è®¾ç½® Cell çš„ ImageView å†…å®¹ var imageView: UIImageView? &#123; get &#125; 3.è®¾ç½® Cell çš„ textLabel çš„å†…å®¹ var textLabel: UILabel? &#123; get &#125; 4.è®¾ç½® Cell çš„ å‰¯æ ‡é¢˜å†…å®¹ var detailTextLabel: UILabel? &#123; get &#125; 5.è®¾ç½® Cell çš„å†…å®¹ View var contentView: UIView &#123; get &#125; 6.è®¾ç½® Cell çš„èƒŒæ™¯ View var backgroundView: UIView? 7.è®¾ç½® Cell è¢«é€‰ä¸­æ—¶çš„èƒŒæ™¯ View var selectedBackgroundView: UIView! 8.è®¾ç½® Cell å¤šé€‰ä¸­å¾—èƒŒæ™¯ View var multipleSelectionBackgroundView: UIView? 9.è®¾ç½® Cell è¢«é€‰ä¸­æ—¶çš„ Style var selectionStyle: UITableViewCellSelectionStyle 10.è®¾ç½® Cell ç¼–è¾‘çš„ Style var editingStyle: UITableViewCellEditingStyle &#123; get &#125; 11.è®¾ç½® Cell æ˜¯å¦å¼€å¯ç¼–è¾‘çŠ¶æ€ var editing: Bool 12.è®¾ç½® Cell çš„è¾…åŠ©æŒ‰é’®æ ·å¼ var accessoryType: UITableViewCellAccessoryType]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITableViewCell</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITableViewCell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITableView-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUITableView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[éµå®ˆä»£ç†åè®®å’Œæ•°æ®æºåè®®class ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource &#123;&#125; è‡ªå®šä¹‰ UITableViewfunc myTableView() &#123; // 1.è®¾ç½® TableView çš„ frame å’Œ style var tableView: UITableView = UITableView(frame: self.view.frame, style: UITableViewStyle.Plain) // 2.è®¾ç½® TableView çš„èƒŒæ™¯è‰² tableView.backgroundColor = UIColor(red: 0.0, green: 127.0, blue: 127.0, alpha: 1.0) // 3.è®¾ç½® TableView çš„ä»£ç†å¯¹è±¡ tableView.delegate = self // 4.è®¾ç½® TableView çš„æ•°æ®æºå¯¹è±¡ tableView.dataSource = self // 5.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é«˜åº¦ tableView.rowHeight = 44 // 6.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell é¡µå¤´çš„è¡Œé«˜ tableView.sectionHeaderHeight = 50 // 7.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell é¡µå°¾çš„è¡Œé«˜ tableView.sectionFooterHeight = 50 // 8.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„ä¼°è®¡è¡Œé«˜ tableView.estimatedRowHeight = 100 // 9.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é¡µå¤´ä¼°è®¡è¡Œé«˜ tableView.estimatedSectionHeaderHeight = 50 // 10.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é¡µå°¾ä¼°è®¡è¡Œé«˜ tableView.estimatedSectionFooterHeight = 50 // 11.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´åˆ†å‰²çº¿ä½ç½®(åˆ†åˆ«æ˜¯: ä¸Š, å·¦, ä¸‹, å³) tableView.separatorInset = UIEdgeInsetsMake(0, 50, 0, 50) // 12.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´åˆ†å‰²çº¿çš„é¢œè‰² tableView.separatorColor = UIColor.redColor() // 13.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´çš„åˆ†å‰²æ•ˆæžœ(æš‚æ— æ–¹æ³•, ç›®å‰åªæ˜¯ç”¨æ¥å®žä¾‹åŒ–) tableView.separatorEffect = UIVisualEffect() // 14.è®¾ç½® TableView æ¯ä¸€è¡Œ Cell ä¹‹é—´çš„åˆ†å‰²çº¿æ ·å¼(é»˜è®¤æ˜¯ SingleLine æ ·å¼) tableView.separatorStyle = UITableViewCellSeparatorStyle.SingleLine // 15.è®¾ç½® TableView çš„èƒŒæ™¯ View å¯¹è±¡ tableView.backgroundView = UIView() // 16.è®¾ç½® TableView çš„ç¼–è¾‘æ¨¡å¼æ˜¯å¦å¼€å¯, å¹¶ä¸”æ˜¯å¦ä½¿ç”¨åŠ¨ç”»æ•ˆæžœ tableView.setEditing(true, animated: true) // 17.æ·»åŠ åˆ° self.view ä¸Š self.view.addSubview(tableView) &#125; å®žçŽ°ä»£ç†æ–¹æ³•å’Œæ•°æ®æºæ–¹æ³•// 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘ç»„ Cell func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int &#123; return 2 &#125; // 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘è¡Œ Cell func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return 2 &#125; // 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„è¯¦ç»†å†…å®¹ func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell &#123; let cell = UITableViewCell() cell.backgroundColor = UIColor.blueColor() return cell &#125; // 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„æ ‡é¢˜å†…å®¹ func tableView(tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? &#123; return "æˆ‘æ˜¯é¡µå¤´" &#125; // 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é¡µå°¾å†…å®¹ func tableView(tableView: UITableView, titleForFooterInSection section: Int) -&gt; String? &#123; return "æˆ‘æ˜¯é¡µå°¾" &#125; // 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„é«˜åº¦, ä¸€æ—¦è¿™é‡Œè®¾ç½®äº†, é‚£ä¹ˆåœ¨è‡ªå®šä¹‰é‡Œçš„ rowHeight å±žæ€§å°±ä¼šè¢«è¦†ç›– func tableView(tableView: UITableView, heightForRowAtIndexPath indexPath: NSIndexPath) -&gt; CGFloat &#123; return 100 &#125; // 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥å“åº” TableVIewCell è¢«ç‚¹å‡»çš„äº‹ä»¶ func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) &#123; println("æˆ‘è¢«ç‚¹å‡»äº†") &#125; // 8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„ç¼–è¾‘æ¨¡å¼, å¦‚æžœä¸è®¾ç½®, é»˜è®¤éƒ½æ˜¯åˆ é™¤ func tableView(tableView: UITableView, editingStyleForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCellEditingStyle &#123; return UITableViewCellEditingStyle.Insert &#125; // 9.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® Tabelview çš„å·¦æ»‘å¿«æ·æŒ‰é’®, åªè¦å†™äº†è¯¥æ–¹æ³•, é»˜è®¤æ‰“å¼€ func tableView(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath) &#123; &#125; // 10.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TabelView å·¦æ»‘å¿«æ·æŒ‰é’®çš„è¯¦ç»†å†…å®¹ä»¥åŠæ“ä½œ func tableView(tableView: UITableView, titleForDeleteConfirmationButtonForRowAtIndexPath indexPath: NSIndexPath) -&gt; String! &#123; return "åˆ é™¤" &#125; // 11.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ˜¯å¦å¯ä»¥æ‹–æ‹½åˆ°å…¶ä»–è¡Œæ•°, åªè¦å†™äº†è¯¥æ–¹æ³•, é»˜è®¤æ‰“å¼€ func tableView(tableView: UITableView, moveRowAtIndexPath sourceIndexPath: NSIndexPath, toIndexPath destinationIndexPath: NSIndexPath) &#123; &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITableView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITableView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITableView-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUITableView-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UITableviewå¸¸ç”¨å±žæ€§UITableView çš„æ ·å¼ enum UITableViewStyle : Int &#123; case Plain // å¹³é“ºæ ·å¼ case Grouped // åˆ†ç»„æ ·å¼&#125; UITableView æ·»åŠ æˆ–è€…åˆ é™¤ Cell æ—¶çš„åŠ¨ç”» enum UITableViewRowAnimation : Int &#123; case Fade // æ·¡å…¥æ·¡å‡º case Right // ä»Žå³æ·»åŠ  case Left // ä»Žå·¦æ·»åŠ  case Top // ä»Žä¸Šæ·»åŠ  case Bottom // ä»Žåº•éƒ¨æ·»åŠ  case None // æ²¡æœ‰åŠ¨ç”» case Middle // ä»Žä¸­é—´æ·»åŠ  case Automatic // éšæœºæ·»åŠ &#125; UITableView æ»šåŠ¨æ—¶æŒ‡å®šçš„ä½ç½® enum UITableViewScrollPosition : Int &#123; case None // ä¸æŒ‡å®š case Top // æŒ‡å®šä¸Šé¢ case Middle // æŒ‡å®šä¸­é—´ case Bottom // æŒ‡å®šåº•éƒ¨&#125; UITableView åˆ†å‰²çº¿çš„æ ·å¼ enum UITableViewCellSeparatorStyle : Int &#123; case None // æ²¡æœ‰åˆ†å‰²çº¿ case SingleLine // å•è¡Œåˆ†å‰²çº¿ case SingleLineEtched // å¤šè¡Œåˆ†å‰²çº¿èžåˆ&#125; UITableView å±žæ€§ 1.è®¾ç½® UITableView çš„ä½ç½®ä»¥åŠStyle init(frame: CGRect, style: UITableViewStyle) var style: UITableViewStyle &#123; get &#125; 2.è®¾ç½®æ•°æ®æºå¯¹è±¡ unowned(unsafe) var dataSource: UITableViewDataSource? 3.è®¾ç½®ä»£ç†å¯¹è±¡ unowned(unsafe) var delegate: UITableViewDelegate? 4.è®¾ç½® Cell çš„è¡Œé«˜ var rowHeight: CGFloat 5.è®¾ç½® Cell çš„æ ‡é¢˜é«˜åº¦ var sectionHeaderHeight: CGFloat``` &gt; 6.è®¾ç½® Cell çš„é¡µå°¾é«˜åº¦```swiftvar sectionFooterHeight: CGFloat 7.è®¾ç½®ä¼°è®¡çš„ Cell çš„è¡Œé«˜ var estimatedRowHeight: CGFloat 8.è®¾ç½®ä¼°è®¡çš„ Cell çš„æ ‡é¢˜è¡Œé«˜ var estimatedSectionHeaderHeight: CGFloat 9.è®¾ç½®ä¼°è®¡çš„ Cell çš„é¡µå°¾è¡Œé«˜ var estimatedSectionFooterHeight: CGFloat 10.è®¾ç½® Cell ä¸Ž Cell ä¹‹é—´çš„åˆ†å‰²çº¿ä½ç½® var separatorInset: UIEdgeInsets 11.è®¾ç½® UITableView çš„èƒŒæ™¯ View å¯¹è±¡ var backgroundView: UIView? å¸¸ç”¨æ•°æ®æºæ–¹æ³• è¦ä½¿ç”¨æ•°æ®æºæ–¹æ³•(DataSoucreæ–¹æ³•), é¦–å…ˆæˆ‘ä»¬éœ€è¦éµå®ˆ UITableView çš„æ•°æ®æºæ–¹æ³•(UITableViewDataSoucre)åè®® 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘è¡Œ Cell func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„è¯¦ç»†å†…å®¹ func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æœ‰å¤šå°‘ç»„ Cell optional func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¯ä¸€ç»„ Cell çš„æ ‡é¢˜å†…å®¹ optional func tableView(tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¯ä¸€ç»„ Cell çš„é¡µå°¾å†…å®¹ optional func tableView(tableView: UITableView, titleForFooterInSection section: Int) -&gt; String? 6.è¯¥æ–¹æ³•ä½¿ç”¨æ¥è®¾ç½® TableView å·¦æ»‘å¿«æ· optional func tableView(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath) 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ˜¯å¦å¯ä»¥æ‹–æ‹½åˆ°å…¶ä»–è¡Œæ•°, åªè¦å†™äº†è¯¥æ–¹æ³•, é»˜è®¤æ‰“å¼€ optional func tableView(tableView: UITableView, moveRowAtIndexPath sourceIndexPath: NSIndexPath, toIndexPath destinationIndexPath: NSIndexPath) å¸¸ç”¨ä»£ç†æ–¹æ³• 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¯ä¸€è¡Œ Cell çš„é«˜åº¦ optional func tableView(tableView: UITableView, heightForRowAtIndexPath indexPath: NSIndexPath) -&gt; CGFloat 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® Cell æ ‡é¢˜å†…å®¹çš„é«˜åº¦(å¦‚æžœè¯¥æ–¹æ³•ä½¿ç”¨äº†, é‚£ä¹ˆåœ¨è‡ªå®šä¹‰ TableView çš„sectionHeaderHeightå±žæ€§å°±ä¼šè¢«è¦†ç›–) optional func tableView(tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® Cell é¡µå°¾å†…å®¹çš„é«˜åº¦(å¦‚æžœè¯¥æ–¹æ³•ä½¿ç”¨äº†, é‚£ä¹ˆåœ¨è‡ªå®šä¹‰ TableView çš„sectionFooterHeightå±žæ€§å°±ä¼šè¢«è¦†ç›–) optional func tableView(tableView: UITableView, heightForFooterInSection section: Int) -&gt; CGFloat 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView å·¦æ»‘å¿«æ·æŒ‰é’®çš„å†…å®¹ä»¥åŠè¯¦ç»†æ“ä½œ optional func tableView(tableView: UITableView, titleForDeleteConfirmationButtonForRowAtIndexPath indexPath: NSIndexPath) -&gt; String! 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® TableView æ¯ä¸€è¡Œ Cell çš„ç¼–è¾‘æ¨¡å¼, å¦‚æžœä¸è®¾ç½®, é»˜è®¤éƒ½æ˜¯åˆ é™¤ optional func tableView(tableView: UITableView, editingStyleForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCellEditingStyle]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITableView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITableView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIScrollView-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUIScrollView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å®žä¾‹åŒ–UIScrollView, UIImageView, UIImage class ViewController: UIViewController, UIScrollViewDelegate &#123; var scrollView = UIScrollView() var imageView = UIImageView() var imageURL = UIImage()&#125; è®¾ç½®UIScrollViewfunc myScrollView() &#123; // 1.1è®¾ç½®ScrollViewçš„Frame scrollView.frame = CGRectMake(0, 0, self.view.frame.width, self.view.frame.height) // 1.2è®¾ç½®ScrollViewçš„è¾¹è· scrollView.contentInset = UIEdgeInsetsMake(10, 10, 10, 10) // 1.3è®¾ç½®ScrollViewçš„ä»£ç† scrollView.delegate = self // 1.4è®¾ç½®ScrollViewçš„æœ€å°ç¼©æ”¾æ¯”ä¾‹ scrollView.minimumZoomScale = 0.1 // 1.5è®¾ç½®ScrollViewçš„æœ€å¤§ç¼©æ”¾æ¯”ä¾‹ scrollView.maximumZoomScale = 1.5 // 1.6æ·»åŠ åˆ°çˆ¶è§†å›¾ self.view.addSubview(scrollView) &#125; è®¾ç½®UIImageViewfunc myImageView() &#123; // 2.1è®¾ç½®ImageViewçš„å›¾ç‰‡ imageURL = UIImage(named: "image_landscape3.jpg")! // 2.2è®¾ç½®æ·»åŠ å›¾ç‰‡çš„æ–¹æ³•ä»¥åŠå¯¹è±¡ self.setImage(imageURL) // 2.3æ·»åŠ åˆ°ScrollViewä¸Š scrollView.addSubview(imageView) &#125; è®¾ç½®UIImagefunc setImage (image: UIImage) &#123; // 3.1è®¾ç½®imageå¯¹è±¡ imageURL = image // 3.2è®¾ç½®imageViewçš„imageå†…å®¹ imageView.image = image // 3.3è®¾ç½®imageViewæ ¹æ®imageè‡ªåŠ¨è°ƒæ•´å¤§å° imageView.sizeToFit() // 3.4è®¾ç½®ScrollViewçš„å†…å®¹å¤§å°ä¸ºimageçš„å¤§å° scrollView.contentSize = image.size &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIScrollView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIScrollView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIScrollView-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUIScrollView-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UIScrollViewçš„å¸¸ç”¨å±žæ€§ è®¾ç½®å†…å®¹çš„ä¸­å¿ƒç‚¹, é»˜è®¤æ˜¯0 var contentOffset: CGPoint è®¾ç½®å†…å®¹çš„å®½é«˜, é»˜è®¤æ˜¯0 var contentSize: CGSize è®¾ç½®UIScrollViewçš„è¾¹è·, é»˜è®¤æ˜¯0 var contentInset: UIEdgeInsets è®¾ç½®UIScrollViewæ˜¯å¦å¯ä»¥ç¿»é¡µ, é»˜è®¤æ˜¯false var pagingEnabled: Bool è®¾ç½®UIScrollViewæ˜¯å¦å¯ç”¨, é»˜è®¤æ˜¯true var scrollEnabled: Bool è®¾ç½®UIScrollViewçš„æ°´å¹³æ»šåŠ¨, é»˜è®¤æ˜¯true var showsHorizontalScrollIndicator: Bool è®¾ç½®UIScrollViewçš„åž‚ç›´æ»šåŠ¨, é»˜è®¤æ˜¯true var showsVerticalScrollIndicator: Bool è®¾ç½®UIScrollViewæ»šåŠ¨æ¡æ˜¾ç¤ºçš„ä½ç½®, é»˜è®¤æ˜¯0 var scrollIndicatorInsets: UIEdgeInsets è®¾ç½®æœ€å°çš„ç¼©æ”¾æ¯”ä¾‹, é»˜è®¤æ˜¯1.0 var minimumZoomScale: CGFloat è®¾ç½®æœ€å¤§çš„ç¼©æ”¾æ¯”ä¾‹, é»˜è®¤æ˜¯1.0 var maximumZoomScale: CGFloat è®¾ç½®ç‚¹å‡»çŠ¶æ€æ å°±å›žåˆ°ScrollViewçš„æœ€é¡¶éƒ¨, é»˜è®¤æ˜¯true var scrollsToTop: Bool è®¾ç½®ç¼©æ”¾è§†å›¾æ—¶æ˜¯å¦æœ‰å¼¹ç°§æ•ˆæžœ, é»˜è®¤æ˜¯true var bouncesZoom: Bool è®¾ç½®ScrollViewæ˜¯å¦æ»šåŠ¨æ—¶æ˜¯å¦æœ‰å¼¹ç°§æ•ˆæžœ, é»˜è®¤æ˜¯true var bounces: Bool UIScrollViewçš„å¸¸ç”¨æ–¹æ³• æ‹–æ‹½è§†å›¾æ—¶è°ƒç”¨ optional func scrollViewDidScroll(scrollView: UIScrollView) åˆšå¼€å§‹æ‹–æ‹½è§†å›¾çš„æ—¶å€™è°ƒç”¨ optional func scrollViewWillBeginDragging(scrollView: UIScrollView) æ‹–æ‹½åœæ­¢çš„æ—¶å€™è°ƒç”¨ optional func scrollViewDidEndDragging(scrollView: UIScrollView, willDecelerate decelerate: Bool) å½“è§†å›¾æ»šåŠ¨é€Ÿåº¦å¼€å§‹å‡æ…¢çš„æ—¶å€™è°ƒç”¨ optional func scrollViewWillBeginDecelerating(scrollView: UIScrollView) å½“æ‹–æ‹½çš„è§†å›¾å®Œå…¨åœä¸‹æ¥åŽæ‰è°ƒç”¨ optional func scrollViewDidEndDecelerating(scrollView: UIScrollView) å½“ScrollViewçš„åŠ¨ç”»æ‰§è¡Œå®Œä¹‹åŽæ‰è°ƒç”¨ optional func scrollViewDidEndScrollingAnimation(scrollView: UIScrollView) è®¾ç½®è§†å›¾çš„æ¯”ä¾‹æ”¾å¤§æˆ–è€…ç¼©å° optional func viewForZoomingInScrollView(scrollView: UIScrollView) -&gt; UIView? å½“å®Œæˆæ¯”ä¾‹æ”¾å¤§æˆ–è€…ç¼©å°çš„æ—¶å€™è°ƒç”¨ optional func scrollViewDidEndZooming(scrollView: UIScrollView, withView view: UIView!, atScale scale: CGFloat) æ˜¯å¦å¯ä»¥ç‚¹å‡»çŠ¶æ€æ å›žåˆ°æœ€é¡¶éƒ¨, é»˜è®¤æ˜¯true optional func scrollViewShouldScrollToTop(scrollView: UIScrollView) -&gt; Bool å½“ç‚¹å‡»çŠ¶æ€æ å›žåˆ°é¡¶éƒ¨çš„æ—¶å€™æ‰è°ƒç”¨ optional func scrollViewDidScrollToTop(scrollView: UIScrollView)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIScrollView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIScrollView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITextView-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FSwift-UIKit-UITextView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[éµå®ˆä»£ç†åè®® class ViewController: UIViewController, UITextViewDelegate &#123;&#125; è‡ªå®šä¹‰UITextViewfunc myTextView() &#123; // 1.è‡ªå®šä¹‰ UITextView ä»¥åŠæ–‡æœ¬å®¹å™¨çš„å¤§å° var textView = UITextView(frame: CGRectMake(0, 200, self.view.frame.width, 200)) // 2.è®¾ç½® UITextView çš„æ–‡æœ¬å†…å®¹ textView.text = "http://www.baidu.com\nabcdefghijk" // 3.è®¾ç½® UITextView çš„æ–‡æœ¬é¢œè‰² textView.textColor = UIColor.redColor() // 4.è®¾ç½® UITextView çš„æ–‡å­—å¤§å° textView.font = UIFont.systemFontOfSize(30) // 5.è®¾ç½® UITextView çš„æ–‡å­—å¯¹é½æ–¹å¼ textView.textAlignment = NSTextAlignment.Center // 6.è®¾ç½® UITextView æ˜¯å¦å¯ç¼–è¾‘ textView.editable = true // 7.è®¾ç½® UITextView æ˜¯å¦å¯ä»¥é€‰ä¸­ textView.selectable = true // 8.è®¾ç½® UITextView çš„èƒŒæ™¯é¢œè‰² textView.backgroundColor = UIColor.greenColor() // 9.è®¾ç½® UITextView çš„è¶…æ–‡æœ¬æ ·å¼ textView.dataDetectorTypes = UIDataDetectorTypes.All // 10.è®¾ç½® UITextView çš„æ–‡æœ¬é•¿æŒ‰æ—¶æ˜¯å¦å¯ä»¥æ›´æ”¹ä¸ºç²—ä½“, æ–œä½“æˆ–è€…æ–œä½“ä¸‹åˆ’çº¿æ ·å¼ textView.allowsEditingTextAttributes = true // 11.è®¾ç½® UITextView çš„æ–‡æœ¬å®¹å™¨è¾¹ç•Œ textView.textContainerInset = UIEdgeInsetsMake(10, 10, 10, 10) // 12.è®¾ç½® UITextView æ˜¯å¦ç‚¹å‡»ç¼–è¾‘æ—¶æŠŠæ—§å†…å®¹å…¨é€‰ textView.clearsOnInsertion = true // 13.è®¾ç½® UITextView çš„ä»£ç†å¯¹è±¡ textView.delegate = self // 14.æ·»åŠ åˆ° self.view self.view.addSubview(textView) &#125; å®žçŽ°ä»£ç†æ–¹æ³•// 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç¼–è¾‘ func textViewShouldBeginEditing(textView: UITextView) -&gt; Bool &#123; println("æ­£åœ¨å¼€å§‹ç¼–è¾‘") return true &#125; // 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç»“æŸç¼–è¾‘ func textViewShouldEndEditing(textView: UITextView) -&gt; Bool &#123; println("æ­£åœ¨ç»“æŸç¼–è¾‘") return true &#125; // 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨å¼€å§‹ç¼–è¾‘æ—¶è°ƒç”¨ func textViewDidBeginEditing(textView: UITextView) &#123; println("å¼€å§‹ç¼–è¾‘") &#125; // 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨ç»“æŸç¼–è¾‘æ—¶è°ƒç”¨ func textViewDidEndEditing(textView: UITextView) &#123; println("ç»“æŸç¼–è¾‘") &#125; // 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ˜¯å¦å¯æ›´æ”¹ func textView(textView: UITextView, shouldChangeTextInRange range: NSRange, replacementText text: String) -&gt; Bool &#123; println("æ­£åœ¨æ›´æ”¹å†…å®¹") return true &#125; // 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ›´æ”¹åŽæ—¶è°ƒç”¨ func textViewDidChange(textView: UITextView) &#123; println("å†…å®¹å·²ç»æ”¹å˜") &#125; // 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥é€‰æ‹©éœ€è¦æ›´æ”¹å†…å®¹çš„ UITextView func textViewDidChangeSelection(textView: UITextView) &#123; println("å·²ç»é€‰æ‹©è¦æ›´æ”¹å†…å®¹çš„æ–‡æœ¬æ¡†") &#125; åœ¨ viewDidLoad è°ƒç”¨override func viewDidLoad() &#123; super.viewDidLoad() self.myTextView() &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITextView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITextView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITextView-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FSwift-UIKit-UITextView-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UITextViewå¸¸ç”¨å±žæ€§ 1.è®¾ç½® UITextView çš„æ–‡å­— var text: String! 2.è®¾ç½® UITextView çš„å­—ä½“å¤§å° var font: UIFont! 3.è®¾ç½® UITextView çš„å­—ä½“é¢œè‰² var textColor: UIColor! 4.è®¾ç½® UITextView çš„å­—ä½“æŽ’åº, é»˜è®¤æ˜¯ä»Žå·¦å¾€å³ var textAlignment: NSTextAlignment 5.è®¾ç½® UITextView æ˜¯å¦å¯ç¼–è¾‘ var editable: Bool 6.è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç‚¹å‡» var selectable: Bool 7.è®¾ç½® UITextView çš„è¶…æ–‡æœ¬æ ·å¼ var dataDetectorTypes: UIDataDetectorTypes 8.è®¾ç½® UITextView åœ¨é•¿æŒ‰ä¸‹æ˜¯å¦å¯ä»¥é€‰æ‹©ä¸åŒçš„æ–‡å­—æ ·å¼ var allowsEditingTextAttributes: Bool``` &gt; 9.è®¾ç½® UITextView çš„æ–‡æœ¬å®¹å™¨è¾¹ç•Œ```swiftvar textContainerInset: UIEdgeInsets 10.è®¾ç½® UITextView æ˜¯å¦ç‚¹å‡»ç¼–è¾‘æ—¶æŠŠæ—§å†…å®¹å…¨é€‰ var clearsOnInsertion: Bool UITextView çš„ä»£ç†æ–¹æ³• 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç¼–è¾‘ optional func textViewShouldBeginEditing(textView: UITextView) -&gt; Bool 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView æ˜¯å¦å¯ä»¥ç»“æŸç¼–è¾‘ optional func textViewShouldEndEditing(textView: UITextView) -&gt; Bool 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨å¼€å§‹ç¼–è¾‘æ—¶è°ƒç”¨ optional func textViewDidBeginEditing(textView: UITextView) 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView åœ¨ç»“æŸç¼–è¾‘æ—¶è°ƒç”¨ optional func textViewDidEndEditing(textView: UITextView) 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ˜¯å¦å¯æ›´æ”¹ optional func textView(textView: UITextView, shouldChangeTextInRange range: NSRange, replacementText text: String) -&gt; Bool 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UITextView å†…å®¹æ›´æ”¹åŽæ—¶è°ƒç”¨ optional func textViewDidChange(textView: UITextView) 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥é€‰æ‹©éœ€è¦æ›´æ”¹å†…å®¹çš„ UITextView optional func textViewDidChangeSelection(textView: UITextView)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITextView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITextView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIActionSheet-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUIActionSheet-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[éµå®ˆä»£ç†åè®®class ViewController: UIViewController, UIActionSheetDelegate &#123;&#125; è‡ªå®šä¹‰UIButtonå¹¶ä¸”ç›‘å¬ ActionSheet æ–¹æ³•func myButton() &#123; var button: UIButton = UIButton.buttonWithType(UIButtonType.System) as! UIButton button.frame = CGRectMake(100, 200, 50, 20) button.setTitle("å¼¹çª—", forState: UIControlState.Normal) button.backgroundColor = UIColor.redColor() button.addTarget(self, action: "myActionSheet", forControlEvents: UIControlEvents.TouchUpInside) self.view.addSubview(button) &#125; è‡ªå®šä¹‰UIActionSheetfunc myActionSheet() &#123; // 1.è‡ªå®šä¹‰ UIActionSheet, å¹¶ä¸”è®¾ç½®æ ‡é¢˜, ä»£ç†å¯¹è±¡, ä»¥åŠæŒ‰é’®çš„æ ‡é¢˜ var actionSheet = UIActionSheet(title: "UIActionSheet", delegate: self, cancelButtonTitle: "å–æ¶ˆ", destructiveButtonTitle: "æŒ‰é’®ä¸€") // 2.è®¾ç½® UIActionSheet çš„æ ·å¼ actionSheet.actionSheetStyle = UIActionSheetStyle.Default // 3.è®¾ç½®å–æ¶ˆæŒ‰é’®çš„ç´¢å¼• actionSheet.cancelButtonIndex = 1 // 4.è®¾ç½®destructiveçš„ç´¢å¼•å€¼ actionSheet.destructiveButtonIndex = 0 // 5.æ·»åŠ å…¶ä»–æŒ‰é’®çš„æ ‡é¢˜ actionSheet.addButtonWithTitle("æŒ‰é’®äºŒ") // 6.è®¾ç½®æŒ‰é’®æ ‡é¢˜çš„ç´¢å¼• actionSheet.buttonTitleAtIndex(1) // 7.æ˜¾ç¤ºåˆ° self.view ä¸Š actionSheet.showInView(self.view) &#125; å®žçŽ°UIActionSheetä»£ç†æ–¹æ³•// 1.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨çš„ func actionSheet(actionSheet: UIActionSheet, clickedButtonAtIndex buttonIndex: Int) &#123; println("è¢«ç‚¹å‡»äº†") &#125; // 2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®æ—¶è°ƒç”¨çš„ func actionSheetCancel(actionSheet: UIActionSheet) &#123; println("ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®") &#125; // 3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„ func willPresentActionSheet(actionSheet: UIActionSheet) &#123; println("UIActionSheetå³å°†æ˜¾ç¤º") &#125; // 4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„ func didPresentActionSheet(actionSheet: UIActionSheet) &#123; println("UIActionSheetå®Œå…¨æ˜¾ç¤º") &#125; // 5.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„ func actionSheet(actionSheet: UIActionSheet, willDismissWithButtonIndex buttonIndex: Int) &#123; println("UIActionSheetå³å°†æ¶ˆå¤±") &#125; // 6.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„ func actionSheet(actionSheet: UIActionSheet, didDismissWithButtonIndex buttonIndex: Int) &#123; println("UIActionSheetå®Œå…¨æ¶ˆå¤±") &#125; åœ¨viewDidLoadå®žçŽ°override func viewDidLoad() &#123; super.viewDidLoad() self.myButton() &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIActionSheet</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIActionSheet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIActionSheet-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUIActionSheet-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UIActionSheetå¸¸ç”¨å±žæ€§ 1.è®¾ç½® UIActionSheet çš„ä»£ç†å¯¹è±¡ var delegate: UIActionSheetDelegate? 2.è®¾ç½® UIActionSheet çš„æ ‡é¢˜ var title: String 3.è®¾ç½® UIActionSheet çš„æ ·å¼ var actionSheetStyle: UIActionSheetStyle 4.è¯»å– UIActionSheet é‡Œæœ‰å¤šå°‘ä¸ªæŒ‰é’® var numberOfButtons: Int &#123; get &#125; 5.è®¾ç½® UIActionSheet å–æ¶ˆæŒ‰é’®çš„ç´¢å¼• var cancelButtonIndex: Int 6.è®¾ç½®å…¶ä»–æŒ‰é’®çš„ç´¢å¼• var destructiveButtonIndex: Int 7.è¯»å– UIActionSheet å…¶ä»–æŒ‰é’®çš„ç´¢å¼•å€¼ var firstOtherButtonIndex: Int &#123; get &#125; 8.è¯»å– UIActionSheet æ˜¯å¦å¯è§ var visible: Bool &#123; get &#125; UIActionSheetçš„å¸¸ç”¨æ–¹æ³• 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥æ·»åŠ  UIActionSheet çš„æŒ‰é’®æ ‡é¢˜ func addButtonWithTitle(title: String) -&gt; Int 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet çš„æŒ‰é’®ç´¢å¼• func buttonTitleAtIndex(buttonIndex: Int) -&gt; String 3.è¯¥æ–¹æ³•æ˜¯æ¥ç”¨è®¾ç½® UIActionSheet æ˜¾ç¤ºåˆ° ToolBar func showFromToolbar(view: UIToolbar!) 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet æ˜¾ç¤ºåˆ° TabBar func showFromTabBar(view: UITabBar!) 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®æ¥è‡ª UIBarButtonItem çš„ UIActionSheet, å¹¶ä¸”æ˜¯å¦å¼€å¯åŠ¨ç”»æ•ˆæžœ func showFromBarButtonItem(item: UIBarButtonItem!, animated: Bool) 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet çš„æ˜¾ç¤ºçš„è§†å›¾å¤§å°, ä»¥åŠæŒ‡å®šè§†å›¾å’Œæ˜¯å¦å¼€å¯åŠ¨ç”»æ•ˆæžœ func showFromRect(rect: CGRect, inView view: UIView!, animated: Bool) 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet æ˜¾ç¤ºåˆ°å“ªä¸€ä¸ªè§†å›¾ func showInView(view: UIView!) 8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIActionSheet æ¶ˆå¤±çš„æŒ‰é’®ç´¢å¼•, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» func dismissWithClickedButtonIndex(buttonIndex: Int, animated: Bool) UIActionSheetçš„ä»£ç†æ–¹æ³• 1.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨çš„ optional func actionSheet(actionSheet: UIActionSheet, clickedButtonAtIndex buttonIndex: Int) 2.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet ä¸Šçš„ç‚¹å‡»äº†å–æ¶ˆæŒ‰é’®æ—¶è°ƒç”¨çš„ optional func actionSheetCancel(actionSheet: UIActionSheet) 3.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„ optional func willPresentActionSheet(actionSheet: UIActionSheet) 4.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ˜¾ç¤ºçš„æ—¶å€™è°ƒç”¨çš„ optional func didPresentActionSheet(actionSheet: UIActionSheet) 5.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨å³å°†æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„ optional func actionSheet(actionSheet: UIActionSheet, willDismissWithButtonIndex buttonIndex: Int) 6.è¯¥æ–¹æ³•æ˜¯åœ¨ UIActionSheet å®Œå…¨æ¶ˆå¤±çš„æ—¶å€™è°ƒç”¨çš„ optional func actionSheet(actionSheet: UIActionSheet, didDismissWithButtonIndex buttonIndex: Int)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIActionSheet</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIActionSheet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Func-å­—å…¸æ¨¡åž‹äº’è½¬]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FFunc%2FSwift-Func-%E5%AD%97%E5%85%B8%E6%A8%A1%E5%9E%8B%E4%BA%92%E8%BD%AC%2F</url>
    <content type="text"><![CDATA[å­—å…¸â€“&gt;æ¨¡åž‹ class User: NSObject &#123; //æ¨¡åž‹ç±» var name:String? var icon:String? // printæ—¶ä¼šè°ƒç”¨ã€‚ç›¸å½“äºŽjavaä¸­çš„ toString()ã€‚ä¸ºäº†ä»£ç æ•´æ´ä¸‹é¢çš„æ¨¡åž‹åŽ»äº†è¿™ä¸ªè®¡ç®—å±žæ€§ã€‚æµ‹è¯•æ—¶è¯·ä¸‹è½½demo override internal var description: String &#123; return "name: \(name) \n icon:\(icon) \n" &#125;&#125; func func1()&#123; let dict = ["name":"Jack","icon":"lufy.png"] if let user = User.objectWithKeyValues(dict) as? User&#123; print("\(user)") &#125; &#125; è¾“å‡ºï¼š name: Optional("Jack") icon: Optional("lufy.png") å­—å…¸â€“&gt;æ¨¡åž‹ ï¼šæ¨¡åž‹ä¸­åŒ…è£¹æ¨¡åž‹ //æ¨¡åž‹ç±»class Status :NSObject &#123; var text:String? var user:User? //ä¸Ž 1 ä¸­çš„æ¨¡åž‹ç›¸åŒ var retweetedStatus:Status?&#125; func func2()&#123; let dict = ["text":"Agree!Nice weather!", "user":["name":"Jack","icon":"lufy.png"], "retweetedStatus":["text":"Nice weather!", "user":["name":"Rose","icon":"nami.png"]] ] if let status = Status.objectWithKeyValues(dict) as? Status&#123; print("\(status)") &#125; &#125;è¾“å‡ºï¼š text:Optional("Agree!Nice weather!") user:Optional(name: Optional("Jack") icon:Optional("lufy.png")) retweetedStatus:Optional(text:Optional("Nice weather!") user:Optional(name: Optional("Rose")icon:Optional("nami.png")) retweetedStatus:nil) å­—å…¸â€“&gt;æ¨¡åž‹ï¼š å­—å…¸ä¸­åŒ…è£¹æ•°ç»„ï¼Œ æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯ ä¸€ä¸ªæ¨¡åž‹å¯¹åº”çš„å­—å…¸ //æ¨¡åž‹ç±»ï¼Œ å¿…é¡»éµå®ˆDictModelProtocolåè®®ï¼Œ å¹¶å®žçŽ°customClassMappingæ–¹æ³•ã€‚class UserGroup: NSObject,DictModelProtocol &#123; var groupName:String?; //å›¢é˜Ÿåç§° var numbers:NSArray? //æˆå‘˜ï¼Œä¿å­˜Userå®žä¾‹ static func customClassMapping() -&gt; [String: String]?&#123; return ["numbers":"User"]; //æŒ‡å®šnumbersæ•°ç»„ä¸­çš„å…ƒç´ ç±»åž‹æ˜¯User &#125;&#125;func func3()&#123; let dict = ["groupName":"Dream Team", "numbers":[["name":"Jack","icon":"lufy.png"], ["name":"Rose","icon":"nami.png"]] ] if let group = UserGroup.objectWithKeyValues(dict)&#123; print("\(group)") &#125;&#125;è¾“å‡ºï¼š groupName:Optional("Dream Team") numbers:Optional(( "name: Optional(\"Jack\") \n icon:Optional(\"lufy.png\") \n", "name: Optional(\"Rose\") \n icon:Optional(\"nami.png\") \n" )) å­—å…¸â€“&gt;æ¨¡åž‹ï¼š å°†ä¸€ä¸ªå­—å…¸æ•°ç»„è½¬æˆæ¨¡åž‹æ•°ç»„ func func4()&#123; let arrayOfStatus = [["text":"Agree!Nice weather!", "user":["name":"Jack", "icon":"lufy.png" ], "retweetedStatus":["text":"Nice weather!", "user":["name":"Rose", "icon":"nami.png" ] ] ], ["text":"2___Agree!Nice weather!", "user":["name":"2___Jack", "icon":"2___lufy.png" ], "retweetedStatus":["text":"2___Nice weather!", "user":["name":"2___Rose", "icon":"2___nami.png" ] ] ]] if let status = Status.objectArrayWithKeyValuesArray(arrayOfStatus)&#123; for item in status&#123; //æ‰“å°å‡ºæ•°ç»„çš„å…ƒç´  print(item) &#125; &#125; &#125;è¾“å‡ºï¼š text:Optional("Agree!Nice weather!") user:Optional(name: Optional("Jack")icon:Optional("lufy.png")) retweetedStatus:Optional(text:Optional("Nice weather!") user:Optional(name: Optional("Rose") icon:Optional("nami.png")) retweetedStatus:nil ) text:Optional("2___Agree!Nice weather!") user:Optional(name: Optional("2___Jack")icon:Optional("2___lufy.png")) retweetedStatus:Optional(text:Optional("2___Nice weather!") user:Optional(name: Optional("2___Rose")icon:Optional("2___nami.png")) retweetedStatus:nil ) æ¨¡åž‹â€“&gt;å­—å…¸ func func5()&#123; let user = User() user.name = "hejunm" user.icon = "my.png" if let dict = user.keyValues&#123; do&#123; //è½¬åŒ–ä¸ºJSON å­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºæ¥æ›´ç›´è§‚ let data = try NSJSONSerialization.dataWithJSONObject(dict, options: .PrettyPrinted) print(NSString(data: data, encoding: NSUTF8StringEncoding)) &#125;catch&#123;&#125; &#125; &#125;è¾“å‡ºï¼š Optional(&#123; "icon" : "my.png", "name" : "hejunm"&#125;) æ¨¡åž‹â€“&gt;å­—å…¸ï¼š æ¨¡åž‹ä¸­è¿˜æœ‰æ¨¡åž‹ func func6()&#123; let user = User() user.name = "retweeted user hejunm" user.icon = "my.png" let retweetedStatus = Status(); //è½¬å‘å¾®åš retweetedStatus.text = "this is retweeted status"; retweetedStatus.user = user let oriUser = User() oriUser.name = "original user" oriUser.icon = "my.png" let oriStatus = Status(); //åŽŸå¾®åš oriStatus.text = "this is original status" oriStatus.user = oriUser oriStatus.retweetedStatus = retweetedStatus let dict = oriStatus.keyValues do&#123; //è½¬åŒ–ä¸ºJSON å­—ç¬¦ä¸² var data = try NSJSONSerialization.dataWithJSONObject(dict!, options: .PrettyPrinted) print(NSString(data: data, encoding: NSUTF8StringEncoding)) &#125;catch&#123; &#125;&#125;è¾“å‡ºï¼š Optional(&#123; "text" : "this is original status", "user" : &#123; "icon" : "my.png", "name" : "original user" &#125;, "retweetedStatus" : &#123; "text" : "this is retweeted status", "user" : &#123; "icon" : "my.png", "name" : "retweeted user hejunm" &#125; &#125;&#125;) æ¨¡åž‹â€“&gt;å­—å…¸ ï¼š æ¨¡åž‹æ•°ç»„è½¬å­—å…¸æ•°ç»„ func func7()&#123; let user1 = User() user1.name = "hejunm_1" user1.icon = "my.png_1" let user2 = User() user2.name = "hejunm_2" user2.icon = "my.png_2" let userArray = [user1,user2] as NSArray if let dicts = userArray.keyValuesArray&#123; do&#123; let data = try NSJSONSerialization.dataWithJSONObject(dicts, options: .PrettyPrinted) //è½¬æˆjsonå­—ç¬¦ä¸² print(NSString(data: data, encoding: NSUTF8StringEncoding)) &#125;catch&#123; &#125; &#125; &#125;è¾“å‡ºï¼š Optional([ &#123; "icon" : "my.png_1", "name" : "hejunm_1" &#125;, &#123; "icon" : "my.png_2", "name" : "hejunm_2" &#125;]) æºç  - å­—å…¸â€“&gt;æ¨¡åž‹ import Foundation/** å½“å­—å…¸ä¸­å­˜åœ¨æ•°ç»„ï¼Œ å¹¶ä¸”æ•°ç»„ä¸­ä¿å­˜çš„å€¼å¾—ç±»åž‹æ˜¯å­—å…¸ï¼Œ é‚£ä¹ˆå°±éœ€è¦æŒ‡å®šæ•°ç»„ä¸­çš„å­—å…¸å¯¹åº”çš„ç±»ç±»åž‹ã€‚ è¿™é‡Œä»¥é”®å€¼å¯¹çš„å½¢å¼ä¿å­˜ eg å­—å…¸å¦‚ä¸‹ï¼š key: [[key1:value1, key2:value2],[key1:value3, key2:value4],[key1:value5, key2:value6]] keyï¼š keyå€¼ value: å­—å…¸[key1:value1, key2:value2] å¯¹åº”çš„æ¨¡åž‹*/@objc public protocol DictModelProtocol&#123; static func customClassMapping() -&gt; [String: String]?&#125;extension NSObject&#123; //dict: è¦è¿›è¡Œè½¬æ¢çš„å­—å…¸ class func objectWithKeyValues(dict: NSDictionary)-&gt;AnyObject?&#123; if HEFoundation.isClassFromFoundation(self) &#123; print("åªæœ‰è‡ªå®šä¹‰æ¨¡åž‹ç±»æ‰å¯ä»¥å­—å…¸è½¬æ¨¡åž‹") assert(true) return nil &#125; let obj:AnyObject = self.init() var cls:AnyClass = self.classForCoder() //å½“å‰ç±»çš„ç±»åž‹ while("NSObject" != "\(cls)")&#123; var count:UInt32 = 0 let properties = class_copyPropertyList(cls, &amp;count) //èŽ·å–å±žæ€§åˆ—è¡¨ for i in 0..&lt;count&#123; let property = properties[Int(i)] //èŽ·å–æ¨¡åž‹ä¸­çš„æŸä¸€ä¸ªå±žæ€§ let propertyType = String.fromCString(property_getAttributes(property))! //å±žæ€§ç±»åž‹ let propertyKey = String.fromCString(property_getName(property))! //å±žæ€§åç§° if propertyKey == "description"&#123; continue &#125; //descriptionæ˜¯Foundationä¸­çš„è®¡ç®—åž‹å±žæ€§ï¼Œæ˜¯å®žä¾‹çš„æè¿°ä¿¡æ¯ var value:AnyObject! = dict[propertyKey] //å–å¾—å­—å…¸ä¸­çš„å€¼ if value == nil &#123;continue&#125; let valueType = "\(value.classForCoder)" //å­—å…¸ä¸­ä¿å­˜çš„å€¼å¾—ç±»åž‹ if valueType == "NSDictionary"&#123; //1ï¼Œå€¼æ˜¯å­—å…¸ã€‚ è¿™ä¸ªå­—å…¸è¦å¯¹åº”ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¨¡åž‹ç±»å¹¶ä¸”è¿™ä¸ªç±»ä¸æ˜¯Foundationä¸­å®šä¹‰çš„ç±»åž‹ã€‚ let subModelStr:String! = HEFoundation.getType(propertyType) if subModelStr == nil&#123; print("ä½ å®šä¹‰çš„æ¨¡åž‹ä¸Žå­—å…¸ä¸åŒ¹é…ã€‚ å­—å…¸ä¸­çš„é”®\(propertyKey) å¯¹åº”ä¸€ä¸ªè‡ªå®šä¹‰çš„ æ¨¡åž‹") assert(true) &#125; if let subModelClass = NSClassFromString(subModelStr)&#123; value = subModelClass.objectWithKeyValues(value as! NSDictionary) //é€’å½’ &#125; &#125;else if valueType == "NSArray"&#123; //å€¼æ˜¯æ•°ç»„ã€‚ æ•°ç»„ä¸­å­˜æ”¾å­—å…¸ã€‚ å°†å­—å…¸è½¬æ¢æˆæ¨¡åž‹ã€‚ å¦‚æžœåè®®ä¸­æ²¡æœ‰å®šä¹‰æ˜ å°„å…³ç³»ï¼Œå°±ä¸åšå¤„ç† if self.respondsToSelector("customClassMapping") &#123; if var subModelClassName = cls.customClassMapping()?[propertyKey]&#123; //å­æ¨¡åž‹çš„ç±»åç§° subModelClassName = HEFoundation.bundlePath+"."+subModelClassName if let subModelClass = NSClassFromString(subModelClassName)&#123; value = subModelClass.objectArrayWithKeyValuesArray(value as! NSArray); &#125; &#125; &#125; &#125; obj.setValue(value, forKey: propertyKey) &#125; free(properties) //é‡Šæ”¾å†…å­˜ cls = cls.superclass()! //å¤„ç†çˆ¶ç±» &#125; return obj &#125; /** å°†å­—å…¸æ•°ç»„è½¬æ¢æˆæ¨¡åž‹æ•°ç»„ array: è¦è½¬æ¢çš„æ•°ç»„, æ•°ç»„ä¸­åŒ…å«çš„å­—å…¸æ‰€å¯¹åº”çš„æ¨¡åž‹ç±»å°±æ˜¯ è°ƒç”¨è¿™ä¸ªç±»æ–¹æ³•çš„ç±» å½“æ•°ç»„ä¸­åµŒå¥—æ•°ç»„ï¼Œ å†…éƒ¨çš„æ•°ç»„åŒ…å«å­—å…¸ï¼Œclså°±æ˜¯å†…éƒ¨æ•°ç»„ä¸­çš„å­—å…¸å¯¹åº”çš„æ¨¡åž‹ */ class func objectArrayWithKeyValuesArray(array: NSArray)-&gt;NSArray?&#123; if array.count == 0&#123; return nil &#125; var result = [AnyObject]() for item in array&#123; let type = "\(item.classForCoder)" if type == "NSDictionary"&#123; if let model = objectWithKeyValues(item as! NSDictionary)&#123; result.append(model) &#125; &#125;else if type == "NSArray"&#123; if let model = objectArrayWithKeyValuesArray(item as! NSArray)&#123; result.append(model) &#125; &#125;else&#123; result.append(item) &#125; &#125; if result.count==0&#123; return nil &#125;else&#123; return result &#125; &#125;&#125; æºç  - æ¨¡åž‹â€“&gt;å­—å…¸ import Foundationextension NSObject&#123; var keyValues:[String:AnyObject]?&#123; //èŽ·å–ä¸€ä¸ªæ¨¡åž‹å¯¹åº”çš„å­—å…¸ get&#123; var result = [String: AnyObject]() //ä¿å­˜ç»“æžœ var classType:AnyClass = self.classForCoder while("NSObject" != "\(classType)" )&#123; var count:UInt32 = 0 let properties = class_copyPropertyList(classType, &amp;count) for i in 0..&lt;count&#123; let property = properties[Int(i)] let propertyKey = String.fromCString(property_getName(property))! //æ¨¡åž‹ä¸­å±žæ€§åç§° let propertyType = String.fromCString(property_getAttributes(property))! //æ¨¡åž‹ä¸­å±žæ€§ç±»åž‹ if "description" == propertyKey&#123; continue &#125; //æè¿°ï¼Œä¸æ˜¯å±žæ€§ let tempValue:AnyObject! = self.valueForKey(propertyKey) if tempValue == nil &#123; continue &#125; if let _ = HEFoundation.getType(propertyType) &#123; //1,è‡ªå®šä¹‰çš„ç±» result[propertyKey] = tempValue.keyValues &#125;else if (propertyType.containsString("NSArray"))&#123; //2, æ•°ç»„, å°†æ•°ç»„ä¸­çš„æ¨¡åž‹è½¬æˆå­—å…¸ result[propertyKey] = tempValue.keyValuesArray //3ï¼Œ åŸºæœ¬æ•°æ® &#125;else&#123; result[propertyKey] = tempValue &#125; &#125; free(properties) classType = classType.superclass()! &#125; if result.count == 0&#123; return nil &#125;else&#123; return result &#125; &#125; &#125;&#125;extension NSArray&#123; //æ•°ç»„çš„æ‹“å±• var keyValuesArray:[AnyObject]?&#123; get&#123; var result = [AnyObject]() for item in self&#123; if !HEFoundation.isClassFromFoundation(item.classForCoder)&#123; //1,è‡ªå®šä¹‰çš„ç±» let subKeyValues:[String:AnyObject]! = item.keyValues if subKeyValues == nil &#123;continue&#125; result.append(subKeyValues) &#125;else if item.classForCoder == NSArray.classForCoder()&#123; //2, å¦‚æžœitem æ˜¯æ•°ç»„ let subKeyValues:[AnyObject]! = item.keyValuesArray if subKeyValues == nil &#123;continue&#125; result.append(subKeyValues) &#125;else&#123; //3, åŸºæœ¬æ•°æ®ç±»åž‹ result.append(item) &#125; &#125; if result.count == 0&#123; return nil &#125;else&#123; return result &#125; &#125; &#125;&#125; è¾…åŠ©ç±» import Foundationclass HEFoundation &#123; static let set = NSSet(array: [ NSURL.classForCoder(), NSDate.classForCoder(), NSValue.classForCoder(), NSData.classForCoder(), NSError.classForCoder(), NSArray.classForCoder(), NSDictionary.classForCoder(), NSString.classForCoder(), NSAttributedString.classForCoder() ]) static let bundlePath = NSBundle.mainBundle().infoDictionary!["CFBundleExecutable"] as! String /*** åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦æ˜¯ Foundationä¸­è‡ªå¸¦çš„ç±» */ class func isClassFromFoundation(c:AnyClass)-&gt;Bool &#123; var result = false if c == NSObject.classForCoder()&#123; result = true &#125;else&#123; set.enumerateObjectsUsingBlock(&#123; (foundation, stop) -&gt; Void in if c.isSubclassOfClass(foundation as! AnyClass) &#123; result = true stop.initialize(true) &#125; &#125;) &#125; return result &#125; /** å¾ˆæ®å±žæ€§ä¿¡æ¯ï¼Œ èŽ·å¾—è‡ªå®šä¹‰ç±»çš„ ç±»å*/ /** let propertyType = String.fromCString(property_getAttributes(property))! èŽ·å–å±žæ€§ç±»åž‹ åˆ°è¿™ä¸ªå±žæ€§çš„ç±»åž‹æ˜¯è‡ªå®šä¹‰çš„ç±»æ—¶ï¼Œ ä¼šå¾—åˆ°ä¸‹é¢çš„æ ¼å¼ï¼š T+@+"+..+å·¥ç¨‹çš„åå­—+æ•°å­—+ç±»å+"+,+å…¶ä»–, è€Œæˆ‘ä»¬æƒ³è¦çš„åªæ˜¯ç±»åï¼Œæ‰€ä»¥è¦ä¿®æ”¹è¿™ä¸ªå­—ç¬¦ä¸² */ class func getType(var code:String)-&gt;String?&#123; if !code.containsString(bundlePath)&#123; //ä¸æ˜¯è‡ªå®šä¹‰ç±» return nil &#125; code = code.componentsSeparatedByString("\"")[1] if let range = code.rangeOfString(bundlePath)&#123; code = code.substringFromIndex(range.endIndex) var numStr = "" //ç±»åå‰é¢çš„æ•°å­— for c:Character in code.characters&#123; if c &lt;= "9" &amp;&amp; c &gt;= "0"&#123; numStr+=String(c) &#125; &#125; if let numRange = code.rangeOfString(numStr)&#123; code = code.substringFromIndex(numRange.endIndex) &#125; return bundlePath+"."+code &#125; return nil &#125;&#125; åŽŸæ–‡]]></content>
      <categories>
        <category>Swift</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Func</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-AppKit-NSTimer-å®šæ—¶å™¨]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FNSTimer-%E5%AE%9A%E6%97%B6%E5%99%A8%2F</url>
    <content type="text"><![CDATA[NSTimerpublic class NSTimer : NSObject å®šæ—¶å™¨çš„ä½œç”¨ åœ¨æŒ‡å®šçš„æ—¶é—´æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡ é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡ŒæŒ‡å®šä»»åŠ¡ å®šæ—¶å™¨çš„åˆ›å»ºscheduledæ–¹å¼ åˆ›å»ºå¹¶å¯åŠ¨å®šæ—¶å™¨ é»˜è®¤å°†æ—¶é’Ÿä»¥NSDefaultRunLoopModeæ¨¡å¼æ·»åŠ åˆ°è¿è¡Œå¾ªçŽ¯ ç”¨æˆ·å‘ç”Ÿäº¤äº’çš„æ—¶å€™æ—¶é’Ÿå°†æš‚åœ /* public class func scheduledTimerWithTimeInterval(ti: NSTimeInterval, target aTarget: AnyObject, selector aSelector: Selector, userInfo: AnyObject?, repeats yesOrNo: Bool) -&gt; NSTimer å‚æ•°ï¼š TimeIntervalï¼šè§¦å‘æ—¶é—´ï¼Œå•ä½ç§’ targetï¼šå®šæ—¶èµ·è§¦å‘å¯¹è±¡ selectorï¼šå®šæ—¶å™¨å“åº”æ–¹æ³• userInfoï¼šç”¨æˆ·ä¿¡æ¯ repeatsï¼šæ˜¯å¦é‡å¤æ‰§è¡Œï¼ŒYES æ¯ä¸ªæŒ‡å®šçš„æ—¶é—´é‡å¤æ‰§è¡Œï¼ŒNO åªæ‰§è¡Œä¸€æ¬¡ */ // åˆ›å»ºå¹¶å¯åŠ¨å®šæ—¶å™¨ let timer:NSTimer = NSTimer.scheduledTimerWithTimeInterval(2.0, target: self, selector: #selector(YPScrollView.timerChange),2 userInfo: nil, repeats: true) timeræ–¹å¼ åˆ›å»ºå®šæ—¶å™¨æ·»åŠ åˆ°è¿è¡Œå¾ªçŽ¯ å°†æ—¶é’Ÿä»¥æŒ‡å®šæ¨¡å¼æ·»åŠ åˆ°è¿è¡Œå¾ªçŽ¯ /* modeï¼š NSDefaultRunLoopMode: æ—¶é’Ÿï¼Œç½‘ç»œã€‚ å‘ç”Ÿç”¨æˆ·äº¤äº’çš„æ—¶å€™ï¼Œæ—¶é’Ÿä¼šè¢«æš‚åœ NSRunLoopCommonModes: ç”¨æˆ·äº¤äº’ï¼Œå“åº”çº§åˆ«é«˜ã€‚ å‘ç”Ÿç”¨æˆ·äº¤äº’çš„æ—¶å€™ï¼Œæ—¶é’Ÿä»ç„¶ä¼šè§¦å‘ï¼Œå¦‚æžœæ—¶é’Ÿè§¦å‘æ–¹æ³•éžå¸¸ è€—æ—¶ï¼Œä½¿ç”¨æ­¤æ–¹å¼æ—¶ç”¨æˆ·æ“ä½œä¼šé€ æˆéžå¸¸ä¸¥é‡çš„å¡é¡¿ã€‚ */ // åˆ›å»ºå®šæ—¶å™¨ let timer:NSTimer = NSTimer(timeInterval: 2.0, target: self, selector: #selector(ViewController.updateTimer(_:)), userInfo: nil, repeats: true) // å°†å®šæ—¶å™¨æ·»åŠ åˆ°è¿è¡Œå¾ªçŽ¯ NSRunLoop.currentRunLoop().addTimer(timer, forMode: NSRunLoopCommonModes) å®šæ—¶å™¨çš„å¯åŠ¨ä¸Žå…³é—­ // å¯åŠ¨å®šæ—¶å™¨ timer.fireDate = NSDate.distantFuture() // æš‚åœå®šæ—¶å™¨ timer.fireDate = NSDate.distantPast() // å…³é—­å®šæ—¶å™¨ï¼Œæ°¸ä¹…å…³é—­å®šæ—¶å™¨ timer.invalidate() å­çº¿ç¨‹å®šæ—¶å™¨çš„åˆ›å»º åœ¨å­çº¿ç¨‹åˆ›å»ºå®šæ—¶å™¨æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯å­çº¿ç¨‹çš„è¿è¡Œå¾ªçŽ¯ dispatch_async(dispatch_get_global_queue(0, 0)) &#123; // åœ¨å­çº¿ç¨‹åˆ›å»ºå®šæ—¶å™¨ /* scheduled æˆ– timer æ–¹å¼åˆ›å»º */ let timer:NSTimer = NSTimer(timeInterval: 2.0, target: self, selector: #selector(ViewController.updateTimer(_:)), userInfo: nil, repeats: true) NSRunLoop.currentRunLoop().addTimer(timer, forMode: NSRunLoopCommonModes) // å¯åŠ¨å­çº¿ç¨‹çš„è¿è¡Œå¾ªçŽ¯ /* è¿™å¥ä»£ç å°±æ˜¯ä¸€ä¸ªæ­»å¾ªçŽ¯ï¼å¦‚æžœä¸åœæ­¢è¿è¡Œå¾ªçŽ¯ï¼Œä¸ä¼šæ‰§è¡Œæ·»åŠ åˆ°æ­¤å¥ä¹‹åŽçš„ä»»ä½•ä»£ç  */ CFRunLoopRun() // åœæ­¢å­çº¿ç¨‹è¿è¡Œå¾ªçŽ¯ä¹‹å‰ï¼Œä¸ä¼šæ‰§è¡Œæ·»åŠ åˆ°æ­¤å¤„çš„ä»»ä½•ä»£ç  &#125; var num:Int = 0 func updateTimer(timer:NSTimer) &#123; num = num + 1 // æ»¡è¶³æ¡ä»¶åŽï¼Œåœæ­¢å½“å‰çš„è¿è¡Œå¾ªçŽ¯ if (num == 8) &#123; // åœæ­¢å½“å‰çš„è¿è¡Œå¾ªçŽ¯ /* ä¸€æ—¦åœæ­¢äº†è¿è¡Œå¾ªçŽ¯ï¼ŒåŽç»­ä»£ç èƒ½å¤Ÿæ‰§è¡Œï¼Œæ‰§è¡Œå®Œæ¯•åŽï¼Œçº¿ç¨‹è¢«è‡ªåŠ¨é”€æ¯ */ CFRunLoopStop(CFRunLoopGetCurrent()) &#125; &#125; å®šæ—¶ä»»åŠ¡/ å»¶æ—¶è°ƒç”¨ /* 1.5 ç§’åŽè‡ªåŠ¨è°ƒç”¨ self çš„ hideHUD æ–¹æ³• */ self.performSelector(#selector(NsTimer.hideHUD), withObject: nil, afterDelay: 1.5) // å–æ¶ˆå»¶æ—¶è°ƒç”¨ NSObject.cancelPreviousPerformRequestsWithTarget(self, selector: #selector(NsTimer.hideHUD), object: nil) / å»¶æ—¶è°ƒç”¨ /* 1.5 ç§’åŽè‡ªåŠ¨è°ƒç”¨ self çš„ hideHUD æ–¹æ³• */ self.performSelector(#selector(NsTimer.hideHUD), withObject: nil, afterDelay: 1.5) // å–æ¶ˆå»¶æ—¶è°ƒç”¨ NSObject.cancelPreviousPerformRequestsWithTarget(self, selector: #selector(NsTimer.hideHUD), object: nil) / å»¶æ—¶è°ƒç”¨ /* 1.5 ç§’åŽè‡ªåŠ¨è°ƒç”¨ self çš„ hideHUD æ–¹æ³• */ self.performSelector(#selector(NsTimer.hideHUD), withObject: nil, afterDelay: 1.5) // å–æ¶ˆå»¶æ—¶è°ƒç”¨ NSObject.cancelPreviousPerformRequestsWithTarget(self, selector: #selector(NsTimer.hideHUD), object: nil)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>NSTimer</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>NSTimer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UICollectionView-ç®€å•ä½¿ç”¨]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUICollectionView-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[éµå®ˆåè®® class ViewController: UIViewController, UICollectionViewDataSource, UICollectionViewDelegate, UICollectionViewDelegateFlowLayout &#123; &#125; è‡ªå®šä¹‰UICollectionView func myCollectionView() &#123; // 1.è‡ªå®šä¹‰ Item çš„FlowLayout let flowLayout = UICollectionViewFlowLayout() // 2.è®¾ç½® Item çš„ Size flowLayout.itemSize = CGSizeMake(90, 120) // 3.è®¾ç½® Item çš„æŽ’åˆ—æ–¹å¼ flowLayout.scrollDirection = UICollectionViewScrollDirection.Vertical // 4.è®¾ç½® Item çš„å››å‘¨è¾¹è· flowLayout.sectionInset = UIEdgeInsetsMake(20, 20, 20, 20) // 5.è®¾ç½®åŒä¸€ç«–ä¸­ä¸Šä¸‹ç›¸é‚»çš„ä¸¤ä¸ª Item ä¹‹é—´çš„é—´è· flowLayout.minimumLineSpacing = 20 // 6.è®¾ç½®åŒä¸€è¡Œä¸­ç›¸é‚»çš„ä¸¤ä¸ª Item ä¹‹é—´çš„é—´è· flowLayout.minimumInteritemSpacing = 20 // 7.è®¾ç½®UICollectionView çš„é¡µå¤´å°ºå¯¸ flowLayout.headerReferenceSize = CGSizeMake(100, 50) // 8.è®¾ç½® UICollectionView çš„é¡µå°¾å°ºå¯¸ flowLayout.footerReferenceSize = CGSizeMake(100, 50) // 1.è‡ªå®šä¹‰ UICollectionView çš„ä½ç½®å¤§å°, ä»¥åŠ Item çš„æ˜¾ç¤ºæ ·å¼ä¸º flowLayout var collection = UICollectionView(frame: CGRectMake(0, 64, self.view.frame.width, self.view.frame.height - 64), collectionViewLayout: flowLayout) // 2.è®¾ç½® UICollectionView çš„èƒŒæ™¯é¢œè‰² collection.backgroundColor = UIColor.whiteColor() // 3.è®¾ç½® UICollectionView åž‚ç›´æ»šåŠ¨æ˜¯å¦æ»šåˆ° Item çš„æœ€åº•éƒ¨å†…å®¹ collection.alwaysBounceVertical = true // 4.è®¾ç½® UICollectionView åž‚ç›´æ»šåŠ¨æ˜¯å¦æ»šåˆ° Item çš„æœ€å³è¾¹å†…å®¹ collection.alwaysBounceHorizontal = true // 5.è®¾ç½® UICollectionView çš„æ•°æ®æºå¯¹è±¡ collection.dataSource = self // 6.è®¾ç½® UICollectionView çš„ä»£ç†å¯¹è±¡ collection.delegate = self // 7.è®¾ç½® UICollectionView çš„å•å…ƒæ ¼ç‚¹å‡»(é»˜è®¤æ˜¯ true) collection.allowsSelection = true // 8.è®¾ç½® UICollectionView çš„å•å…ƒæ ¼å¤šé€‰(é»˜è®¤æ˜¯ false) collection.allowsMultipleSelection = false // 9.å¼€å¯ UICollectionView çš„åˆ†é¡µæ˜¾ç¤ºæ•ˆæžœ collection.pagingEnabled = true // 10.æ³¨å†Œ UICollectionViewCell collection.registerClass(UICollectionViewCell.self, forCellWithReuseIdentifier: "cell") // 11.æ·»åŠ åˆ° self.view ä¸Š self.view.addSubview(collection) &#125; è‡ªå®šä¹‰UINavigationBar func myNavigationBar() &#123; // 1.è‡ªå®šä¹‰ NavigationBar, è®¾ç½®å®ƒçš„ä½ç½®å¤§å° var navigationBar = UINavigationBar(frame: CGRectMake(0, 0, self.view.frame.width, 64)) // 2.è®¾ç½® NavigationBar çš„èƒŒæ™¯è‰² navigationBar.backgroundColor = UIColor.redColor() // 3.è‡ªå®šä¹‰ NavigationItem è®¾å®šå®ƒçš„ Title let navigationItem = UINavigationItem(title: "UICollectionViewæ¼”ç¤º") // 4.è‡ªå®šä¹‰ UIBarButtonItem çš„Title, Style, Target çš„å¯¹è±¡, å·²ç»ç›‘å¬çš„æ–¹æ³• let leftButton = UIBarButtonItem(title: "è¿”å›ž", style: UIBarButtonItemStyle.Plain, target: self, action: "back") // 5.è®¾ç½® Navigation å·¦è¾¹çš„æŒ‰é’®ä¸º leftButton navigationItem.leftBarButtonItem = leftButton // 6.æŠŠ NavigationItem æ·»åŠ åˆ° NavigationBar navigationBar.pushNavigationItem(navigationItem, animated: true) // 7.æ·»åŠ åˆ°åˆ° self.view ä¸Š self.view.addSubview(navigationBar) &#125; // 8.NavigationBarç›‘å¬æ–¹æ³• func back() &#123; println("ç‚¹å‡»äº†è¿”å›ž") &#125; UICollectionViewçš„ä»£ç†æ–¹æ³•, æ•°æ®æºæ–¹æ³•, FlowLayout æ–¹æ³• // 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®è¿”å›ž CollectionViewCell çš„ç»„æ•° func numberOfSectionsInCollectionView(collectionView: UICollectionView) -&gt; Int &#123; return 1 &#125; // 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®è¿”å›ž CollectionViewCell çš„ä¸ªæ•° func collectionView(collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int &#123; return 15 &#125; // 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionViewCell çš„å†…å®¹ func collectionView(collectionView: UICollectionView, cellForItemAtIndexPath indexPath: NSIndexPath) -&gt; UICollectionViewCell &#123; var collectionCell = collectionView.dequeueReusableCellWithReuseIdentifier("cell", forIndexPath: indexPath) as! UICollectionViewCell collectionCell.backgroundColor = UIColor.redColor() return collectionCell &#125; // 4.è¯¥æ–¹æ³•æ˜¯ç‚¹å‡»äº† CollectionViewCell æ—¶è°ƒç”¨çš„ç›‘å¬æ–¹æ³• func collectionView(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath) &#123; println("aaa") &#125; // 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionViewCell çš„å¤§å° func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAtIndexPath indexPath: NSIndexPath) -&gt; CGSize &#123; return CGSizeMake(90, 120) &#125; // 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionViewCell å››å‘¨çš„è¾¹è· func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, insetForSectionAtIndex section: Int) -&gt; UIEdgeInsets &#123; return UIEdgeInsetsMake(20, 20, 20, 20) &#125; // 7.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®åŒä¸€è¡Œ CollectionViewCell ä¹‹é—´çš„é—´è· func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, minimumInteritemSpacingForSectionAtIndex section: Int) -&gt; CGFloat &#123; return 20 &#125; // 8.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®åŒä¸€åˆ— CollectionViewCell ä¹‹é—´çš„é—´è· func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, minimumLineSpacingForSectionAtIndex section: Int) -&gt; CGFloat &#123; return 20 &#125; // 9.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionView çš„é¡µå¤´å°ºå¯¸ func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, referenceSizeForHeaderInSection section: Int) -&gt; CGSize &#123; return CGSizeMake(100, 50) &#125; // 10.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® CollectionView çš„é¡µå°¾å°ºå¯¸ func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, referenceSizeForFooterInSection section: Int) -&gt; CGSize &#123; return CGSizeMake(100, 50) &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UICollectionView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UICollectionView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UICollectionView-ç®€ä»‹]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FUIKit%2FUICollectionView-%E7%AE%80%E4%BB%8B%2F</url>
    <content type="text"><![CDATA[UICollectionViewçš„å¸¸ç”¨å±žæ€§ 1.è®¾ç½®ä½ç½®å’Œå¤§å° init(frame: CGRect, collectionViewLayout layout: UICollectionViewLayout) 2.è®¾ç½®å­è§†å›¾çš„å¸ƒå±€æ–¹å¼ var collectionViewLayout: UICollectionViewLayout 3.è®¾ç½®UICollectionViewçš„ä»£ç†å¯¹è±¡ unowned(unsafe) var delegate: UICollectionViewDelegate? 4.è®¾ç½®UICollectionViewçš„æ•°æ®æºå¯¹è±¡ unowned(unsafe) var dataSource: UICollectionViewDataSource? 5.è®¾ç½®UICollectionViewçš„èƒŒæ™¯è§†å›¾ var backgroundView: UIView? 6.è®¾ç½® UICollectionView çš„ Cell æ˜¯å¦å¯ä»¥ç‚¹å‡» var allowsSelection: Bool 7.è®¾ç½® UICollectionView çš„ Cell æ˜¯å¦å¯ä»¥å¤šé€‰ var allowsMultipleSelection: Bool UICollectionViewCellæ˜¾ç¤ºçš„æ ·å¼ struct UICollectionViewScrollPosition : RawOptionSetType &#123; init(_ rawValue: UInt) init(rawValue: UInt) // 1.æ²¡æœ‰æ ·å¼ static var None: UICollectionViewScrollPosition &#123; get &#125; // 2.åž‚ç›´å±…ä¸­æ˜¾ç¤º static var CenteredVertically: UICollectionViewScrollPosition &#123; get &#125; // 3.å‘ä¸‹æ˜¾ç¤º static var Bottom: UICollectionViewScrollPosition &#123; get &#125; // 4.å‘å·¦æ˜¾ç¤º static var Left: UICollectionViewScrollPosition &#123; get &#125; // 5.æ°´å¹³å±…ä¸­æ˜¾ç¤º static var CenteredHorizontally: UICollectionViewScrollPosition &#123; get &#125; // 6.å‘å³æ˜¾ç¤º static var Right: UICollectionViewScrollPosition &#123; get &#125; &#125; UICollectionViewå¸¸ç”¨çš„æ–¹æ³• 1.è®¾ç½®UICollectionViewçš„æ³¨å†Œç±», ä»¥åŠæ ‡ç¤ºç¬¦ func registerClass(cellClass: AnyClass?, forCellWithReuseIdentifier identifier: String) 2.è®¾ç½® UICollectionViewçš„æ³¨å†ŒNib, ä»¥åŠæ ‡ç¤ºç¬¦ func registerNib(nib: UINib?, forCellWithReuseIdentifier identifier: String) 3.è®¾ç½® UICollectionView çš„æ³¨å†Œç±», ä»¥åŠè¾…åŠ©è§†å›¾åç§°, æ ‡ç¤ºç¬¦ func registerClass(viewClass: AnyClass?, forSupplementaryViewOfKind elementKind: String, withReuseIdentifier identifier: String) 4.è®¾ç½® UICollectionViewçš„æ³¨å†ŒNib, ä»¥åŠè¾…åŠ©è§†å›¾åç§°, æ ‡ç¤ºç¬¦ func registerNib(nib: UINib?, forSupplementaryViewOfKind kind: String, withReuseIdentifier identifier: String) 5.è®¾ç½® UICollectionView å¯é‡ç”¨çš„ Cell ä»¥åŠæ‰€ä»¥è·¯å¾„ func dequeueReusableCellWithReuseIdentifier(identifier: String, forIndexPath indexPath: NSIndexPath!) -&gt; AnyObject 6.è®¾ç½® UICollectionView å¯é‡ç”¨çš„çš„è¾…è§†å›¾, æ ‡ç¤ºç¬¦, ä»¥åŠç´¢å¼•è·¯å¾„ func dequeueReusableSupplementaryViewOfKind(elementKind: String, withReuseIdentifier identifier: String, forIndexPath indexPath: NSIndexPath!) -&gt; AnyObject 7.é€‰æ‹© Item çš„ç´¢å¼•è·¯å¾„ func indexPathsForSelectedItems() -&gt; [AnyObject] 8.é€‰æ‹© Item çš„ç´¢å¼•è·¯å¾„, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”», æ˜¾ç¤ºæ ·å¼ func selectItemAtIndexPath(indexPath: NSIndexPath?, animated: Bool, scrollPosition: UICollectionViewScrollPosition) 9.å–æ¶ˆé€‰æ‹© Item çš„ç´¢å¼•è·¯å¾„, ä»¥åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» func deselectItemAtIndexPath(indexPath: NSIndexPath?, animated: Bool) 10.åˆ·æ–°æ•°æ® func reloadData() 11.è®¾ç½® UICollectionView çš„é›†åˆè§†å›¾å¸ƒå±€, åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”» func setCollectionViewLayout(layout: UICollectionViewLayout, animated: Bool) 12.è®¾ç½® UICollectionView çš„é›†åˆè§†å›¾å¸ƒå±€, åŠæ˜¯å¦ä½¿ç”¨åŠ¨ç”», ä»¥åŠå®Œæˆä¹‹åŽçš„é—­åŒ…æ–¹æ³• func setCollectionViewLayout(layout: UICollectionViewLayout, animated: Bool, completion: ((Bool) -&gt; Void)!) 13.è®¾ç½® UICollectionView æ˜¾ç¤ºå¤šå°‘ä¸ª Item func numberOfSections() -&gt; Int 14.è®¾ç½® UICollectionView æ˜¾ç¤ºå¤šå°‘ç»„ Item func numberOfItemsInSection(section: Int) -&gt; Int 15.è®¾ç½® UICollectionView æ»šåŠ¨åˆ°ç¬¬å‡ ä¸ª Item çš„ç´¢å¼•è·¯å¾„, ä»¥åŠæ˜¾ç¤ºæ ·å¼å’Œæ˜¯å¦å¯ç”¨åŠ¨ç”» func scrollToItemAtIndexPath(indexPath: NSIndexPath, atScrollPosition scrollPosition: UICollectionViewScrollPosition, animated: Bool) 16.åœ¨ UICollectionView ä¸­æ’å…¥æŸä¸ª Item func insertSections(sections: NSIndexSet) 17.åœ¨ UICollectionView ä¸­åˆ é™¤æŸä¸ª Item func deleteSections(sections: NSIndexSet) 18.åœ¨ UICollectionView ä¸­åˆ·æ–°æŸä¸ª Item func reloadSections(sections: NSIndexSet) 19.ç§»åŠ¨ UICollectionView ä¸­æŸä¸ª Item åˆ°æŸä¸ªä½ç½® func moveSection(section: Int, toSection newSection: Int) UICollectionViewä»£ç†æ–¹æ³• 1.ç‚¹å‡» Item æ—¶è°ƒç”¨çš„æ–¹æ³• optional func collectionView(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath) 2.å–æ¶ˆé€‰ä¸­ Item æ—¶è°ƒç”¨çš„æ–¹æ³• optional func collectionView(collectionView: UICollectionView, didDeselectItemAtIndexPath indexPath: NSIndexPath) UICollectionViewæ•°æ®æºæ–¹æ³• 1.è®¾ç½®UICollectionViewæœ‰å¤šå°‘ä¸ªItem func collectionView(collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int 2.è®¾ç½® UICollectionViewCell æ‰€æ˜¾ç¤ºçš„å†…å®¹, ä»¥åŠç´¢å¼•è·¯å¾„ func collectionView(collectionView: UICollectionView, cellForItemAtIndexPath indexPath: NSIndexPath) -&gt; UICollectionViewCell 3.è®¾ç½® UICollectionView æœ‰å¤šå°‘ç»„ Cell optional func numberOfSectionsInCollectionView(collectionView: UICollectionView) -&gt; Int UICollectionViewçš„é›†è§†å›¾å¸ƒå±€æ–¹æ³• 1.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item å°ºå¯¸å¤§å° optional func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAtIndexPath indexPath: NSIndexPath) -&gt; CGSize 2.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item å››å‘¨çš„è¾¹ç•Œ optional func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, insetForSectionAtIndex section: Int) -&gt; UIEdgeInsets 3.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item ä¸Šä¸‹ä¹‹é—´çš„æœ€å°é—´è·å¦‚æžœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®žçŽ°äº†è¯¥å±žæ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æŽ‰åŽŸæ¥çš„å±žæ€§ optional func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, minimumLineSpacingForSectionAtIndex section: Int) -&gt; CGFloat 4.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„ Item å·¦å³ä¹‹é—´çš„æœ€å°é—´è·(å¦‚æžœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®žçŽ°äº†è¯¥å±žæ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æŽ‰åŽŸæ¥çš„å±žæ€§) optional func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, minimumInteritemSpacingForSectionAtIndex section: Int) -&gt; CGFloat 5.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UICollectionView çš„é¡µå¤´å°ºå¯¸å¦‚æžœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®žçŽ°äº†è¯¥å±žæ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æŽ‰åŽŸæ¥çš„å±žæ€§) optional func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, referenceSizeForHeaderInSection section: Int) -&gt; CGSize 6.è¯¥æ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½® UIcollectionView çš„é¡µå°¾å°ºå¯¸(å¦‚æžœåœ¨è‡ªå®šä¹‰UICollectionViewä¸­å®žçŽ°äº†è¯¥å±žæ€§, é‚£ä¹ˆè¯¥æ–¹æ³•å°±ä¼šè¦†ç›–æŽ‰åŽŸæ¥çš„å±žæ€§) optional func collectionView(collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, referenceSizeForFooterInSection section: Int) -&gt; CGSize]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UICollectionView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UICollectionView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Network-AFNetworking-ç½‘ç»œè¯·æ±‚]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FNetwork%2FSwift-Network-AFNetworking-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºæ•°æ®è¯·æ±‚ç±» import UIKit import AFNetworking //è¯·æ±‚æ–¹æ³• /// - GET: get /// - POST: post enum RequsetMethod:String &#123; case GET = "GET" case POST = "POST" &#125; class SPFNetWorkManager: AFHTTPSessionManager &#123; //å•ä¾‹ static let sharedTools:SPFNetWorkManager = &#123; let instance = SPFNetWorkManager() instance.responseSerializer.acceptableContentTypes?.insert("text/html") instance.responseSerializer.acceptableContentTypes?.insert("text/plain") return instance &#125;() // å®šä¹‰è¯·æ±‚å®Œæˆçš„å›žè°ƒçš„åˆ«å typealias httptoolBack = (response:AnyObject?,error:NSError?)-&gt;() /// è¯·æ±‚æ•°æ® /// /// - parameter urlString: è¯·æ±‚åœ°å€ /// - parameter parameters: è¯·æ±‚å‚æ•° /// - parameter finished: è¯·æ±‚æˆåŠŸæˆ–è€…å¤±è´¥çš„å›žè°ƒ func request(method: RequsetMethod = .GET, urlString: String, parameters: AnyObject?, finished:httptoolBack)&#123; // å®šä¹‰è¯·æ±‚æˆåŠŸçš„é—­åŒ… let success = &#123; (dataTask: NSURLSessionDataTask, responseObject: AnyObject?) -&gt; Void in finished(response: responseObject, error: nil) &#125; // å®šä¹‰è¯·æ±‚å¤±è´¥çš„é—­åŒ… let failure = &#123; (dataTask: NSURLSessionDataTask?, error: NSError) -&gt; Void in finished(response: nil, error: error) &#125; if method == .GET &#123; GET(urlString, parameters: parameters, progress: nil, success: success, failure: failure) &#125;else&#123; POST(urlString, parameters: parameters, progress: nil, success: success, failure: failure) &#125; &#125; /// å‘é€è¯·æ±‚(ä¸Šä¼ æ–‡ä»¶) func requestWithData(data: NSData, name: String, urlString: String, parameters: AnyObject?, finished:httptoolBack) &#123; // å®šä¹‰è¯·æ±‚æˆåŠŸçš„é—­åŒ… let success = &#123; (dataTask: NSURLSessionDataTask, responseObject: AnyObject?) -&gt; Void in finished(response: responseObject, error: nil) &#125; // å®šä¹‰è¯·æ±‚å¤±è´¥çš„é—­åŒ… let failure = &#123; (dataTask: NSURLSessionDataTask?, error: NSError) -&gt; Void in finished(response: nil, error: error) &#125; POST(urlString, parameters: parameters, constructingBodyWithBlock: &#123; (formData) -&gt; Void in formData.appendPartWithFileData(data, name: name, fileName: "aa", mimeType: "application/octet-stream") &#125;, progress: nil, success: success, failure: failure) &#125; &#125; è°ƒç”¨æ–¹æ³•let urlString = "http://192.168.3.7:8080/FreshFun/homepage.do" //åˆ›å»ºhttpTool å®žä¾‹ let HttpRequest = SPFNetWorkManager.sharedTools //å‘é€GETè¯·æ±‚ HttpRequest.request(RequsetMethod.GET, urlString: urlString, parameters:nil ) &#123; (response, error) in print(response) &#125; æ•°æ®Optional(&#123; goodsMoney = "22.00"; "goods_des" = "\U9999\U8549\U8089333"; "goods_img" = "/image/2016/9/8/1473340021432.png"; "goods_name" = BananaMeat; id = 4; marketMoney = "31.43"; &#125;ï¼‰]]></content>
      <categories>
        <category>Swift</category>
        <category>Network</category>
        <category>AFNetworking</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Lib-SnapKit-è‡ªåŠ¨å¸ƒå±€]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FLib%2FSnapKit-%E8%87%AA%E5%8A%A8%E5%B8%83%E5%B1%80%2F</url>
    <content type="text"><![CDATA[https://www.jianshu.com/p/2bad53a2a180]]></content>
      <categories>
        <category>Swift</category>
        <category>Lib</category>
        <category>SnapKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Lib-Kingfisher-å›¾ç‰‡åŠ è½½åº“]]></title>
    <url>%2F2017%2F12%2F13%2FSwift%2FLib%2FKingfisher-%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E5%BA%93%2F</url>
    <content type="text"><![CDATA[http://blog.csdn.net/djh996064549/article/details/71085679]]></content>
      <categories>
        <category>Swift</category>
        <category>Lib</category>
        <category>Kingfisher</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Lib-SSKeychain-æ•°æ®æœ¬åœ°åŒ–æ–¹å¼ä¹‹ä¸€]]></title>
    <url>%2F2017%2F12%2F13%2FOC%2FLib%2FOC-Lib-SSKeychain-%E6%95%B0%E6%8D%AE%E6%9C%AC%E5%9C%B0%E5%8C%96%E6%96%B9%E5%BC%8F%E4%B9%8B%E4%B8%80%2F</url>
    <content type="text"><![CDATA[keychainä¸Žuserdefaults keychain å°†æ•°æ®åŠ å¯†åŽå­˜å‚¨åœ¨æœ¬åœ°,æ›´å®‰å…¨.è·¯å¾„:Library/Application Support/iPhone Simulator/æ¨¡æ‹Ÿå™¨ç‰ˆæœ¬/Library/Keychains/ å½“ä½ åˆ é™¤APPåŽ,keychainå­˜å‚¨çš„æ•°æ®ä¸ä¼šåˆ é™¤ userdefaults æ•°æ®ä»¥æ˜Žæ–‡çš„å½¢å¼ä¿å­˜åœ¨.plistæ–‡ä»¶ä¸­.è·¯å¾„:Library/Application Support/iPhone Simulator/æ¨¡æ‹Ÿå™¨ç‰ˆæœ¬/Applications/åº”ç”¨å¯¹åº”çš„æ•°å­—/Library/Preference/.plistæ–‡ä»¶ å½“ä½ åˆ é™¤APPåŽ,user defaultså­˜å‚¨çš„æ•°æ®ä¼šéšç€APPè€Œåˆ æŽ‰ æµç¨‹ å¯¼å…¥ pod &apos;SSKeychain&apos; å®žçŽ° #import &quot;ViewController.h&quot;#import &lt;SSKeychain.h&gt;#import &lt;SSKeychainQuery.h&gt;//åº”ç”¨åç§°(ä¿è¯å”¯ä¸€æ€§)#define ServiceName @&quot;com.zx.tec.SSKeychainTest&quot;//è´¦å·#define Account @&quot;test2&quot;@interface ViewController ()@end@implementation ViewController- (void)viewDidLoad &#123; [superviewDidLoad]; /** * SSKeychain æ˜¯ä¸€ç§æœ¬åœ°å­˜å‚¨æ–¹å¼ä¸ä¼šå› ä¸ºç¨‹åºå¸è½½è€Œæ¸…é™¤ ç”¨äºŽå­˜å‚¨ç§å¯† åŠå”¯ä¸€ çš„æ ‡ç¤º * * äº”ä¸ªæ–¹æ³•:(ç”¨åˆ°ä¸¤ä¸ª) * + (NSArray *)allAccounts; * + (NSArray *)accountsForService:(NSString *)serviceName; * + (NSString *)passwordForService:(NSString *)serviceName account:(NSString *)account; * + (BOOL)deletePasswordForService:(NSString *)serviceName account:(NSString *)account; * + (BOOL)setPassword:(NSString *)password forService:(NSString *)serviceName account:(NSString *)account; */ #pragma mark - å¼€å§‹ä½¿ç”¨ SSKeychain //èŽ·å–uuid(å¦‚æžœæƒ³èŽ·å–å”¯ä¸€æ ‡ç¤º,å­˜å‚¨ä»¥ uuidä¸ºå¯†ç å­˜å‚¨ ä¸‹æ¬¡ç™»é™†ç›´æŽ¥è¯»å–æ£€æµ‹æ˜¯å¦å®‰è£…) //CFUUIDRef uuid = CFUUIDCreate(NULL); //assert(uuid != NULL); //CFStringRef uuidStr = CFUUIDCreateString(NULL, uuid); // NSLog(@&quot;%@~~%@&quot;, uuidStr, [NSString stringWithFormat:@&quot;%@&quot;, uuidStr]); /** * + (NSString *)passwordForService:(NSString *)serviceName account:(NSString *)account;//èŽ·å–æŒ‡å®š serviceNameå’Œ account çš„å¯†ç  * * + (BOOL)setPassword:(NSString *)password forService:(NSString *)serviceName account:(NSString *)account;//å­˜å‚¨æŒ‡å®š serviceNameå’Œ account çš„å¯†ç  * */ NSString *passWord = @&quot;123456&quot;; if (![SSKeychainpasswordForService:ServiceNameaccount:Account]) &#123;//æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å­˜å‚¨æŒ‡å®š serviceNameå’Œ account çš„å¯†ç  //å¦‚æžœæ²¡è®¾ç½®å¯†ç åˆ™è®¾å®šå¯†ç  å¹¶å­˜å‚¨ [SSKeychainsetPassword:passWord forService:ServiceNameaccount:Account]; //æ‰“å°å¯†ç ä¿¡æ¯ NSString *retrieveuuid = [SSKeychainpasswordForService:ServiceNameaccount:Account]; NSLog(@&quot;SSKeychainå­˜å‚¨æ˜¾ç¤º:æœªå®‰è£…è¿‡:%@&quot;, retrieveuuid); &#125;else&#123; //æ›¾ç»å®‰è£…è¿‡åˆ™ç›´æŽ¥èƒ½æ‰“å°å‡ºå¯†ç ä¿¡æ¯(å³ä½¿åˆ é™¤äº†ç¨‹åºå†æ¬¡å®‰è£…ä¹Ÿä¼šæ‰“å°å¯†ç ä¿¡æ¯) åŒºåˆ«äºŽ NSUSerDefault NSString *retrieveuuid = [SSKeychainpasswordForService:ServiceNameaccount:Account]; NSLog(@&quot;SSKeychainå­˜å‚¨æ˜¾ç¤º :å·²å®‰è£…è¿‡:%@&quot;, retrieveuuid); &#125;#warning åŒºåˆ«äºŽ NSUSerDefault (åˆ é™¤åº”ç”¨ç¨‹åºåŽå­˜å‚¨çš„æ•°æ®å°±ä¼šæ¶ˆå¤±) if (![[NSUserDefaultsstandardUserDefaults]boolForKey:@&quot;TestOne&quot;]) &#123; [[NSUserDefaultsstandardUserDefaults]setBool:YESforKey:@&quot;TestOne&quot;]; NSLog(@&quot;NSUSerDefaultå­˜å‚¨æ˜¾ç¤º:æœªå®‰è£…&quot;); &#125;else&#123; NSLog(@&quot;NSUSerDefaultå­˜å‚¨æ˜¾ç¤º:å®‰è£…è¿‡&quot;); &#125;&#125;]]></content>
      <categories>
        <category>iOS</category>
        <category>Lib</category>
        <category>SSKeychain</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-Symbolicatecrashåˆ†æžCrashæ–‡ä»¶]]></title>
    <url>%2F2017%2F12%2F12%2FOC%2FFunc%2FiOS-Func-Symbolicatecrash%E5%88%86%E6%9E%90crash%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[æ²¡æœ‰é›†æˆå‘é€å´©æºƒæŠ¥å‘ŠåŠŸèƒ½å¯¼å‡º æ‰€æœ‰å´©æºƒè®°å½•éƒ½ä¼šè®°å½•åœ¨è®¾å¤‡ä¸Šï¼Œæ²¡æœ‰é›†æˆè®©ç”¨æˆ·å‘é€å´©æºƒæŠ¥å‘ŠåŠŸèƒ½çš„iï¼Œè¦èŽ·å¾—crashæ–‡ä»¶å°±å¿…é¡»å…ˆè¿žä¸Šå´©æºƒè¿‡çš„æœºå™¨ æ‰“å¼€Xcode---&gt;é€‰æ‹©Window -&gt; Devicesï¼Œé€‰æ‹©ä½ è‡ªå·±çš„æœºå™¨ï¼Œç„¶åŽç‚¹å‡»View Device Logsï¼Œæ‰“å¼€å°çª—å£ï¼Œè¿™æ˜¯æœºå™¨ä¸Šè‡³ç›®å‰ä¸ºæ­¢å­˜çš„æ‰€æœ‰appçš„å´©æºƒä¿¡æ¯äº†å¦‚æžœæ˜¯å¥½ä¹…æ²¡çœ‹è¿‡è¿™ä¸ªä¿¡æ¯ï¼Œæ‰“å¼€åŽè¿˜è¦è¯»å–å¥½ä¹…æ‰èƒ½å®Œå…¨è¯»å®Œï¼Œæ€»ä¹‹ï¼Œæ‰¾åˆ°ä½ çš„appæœ€åŽä¸€æ¬¡å´©æºƒè®°å½•ï¼Œå³é”®å¯¼å‡º å¯¼å‡ºæ¥çš„.crashæ–‡ä»¶ï¼Œä¸ŠåŠéƒ¨åˆ†éƒ½æ˜¯ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ˆåŸºæœ¬æ²¡ç”¨ï¼‰ï¼Œé‡ç‚¹çœ‹ä¸‹å´©æºƒéƒ¨åˆ†çš„è®°å½• æ‰¾åˆ°ä½ ä¸Šæ¬¡å‘å¸ƒçš„ipaï¼ˆå¦‚æžœå®žåœ¨æ²¡æœ‰äº†å°±å†ä»ŽArchivesé‡Œå¯¼å‡ºæ¥ä¸€ä¸ªï¼Œä½†ä¸€å®šè¦ä¿è¯æ˜¯ä½ ä¸Šæ¬¡å‘å¸ƒç”¨çš„é‚£ä¸ªï¼‰ï¼Œå³é”® -&gt; æ‰“å¼€æ–¹å¼ -&gt; å½’æ¡£å®žç”¨å·¥å…·(å°±æ˜¯è§£åŽ‹ç¼©)ï¼Œç„¶åŽæŠŠPayloadæ–‡ä»¶å¤¹ä¸‹çš„.appæ–‡ä»¶ä¹Ÿæ‰”åˆ°åˆšåˆšçš„crashæ–‡ä»¶å¤¹é‡ŒæŽ¥ä¸‹æ¥è¿˜éœ€è¦dSYMæ–‡ä»¶ï¼Œè¿˜æ˜¯åœ¨Archivesé‡Œï¼Œæ‰¾åˆ°å‘å¸ƒç”¨çš„é‚£ä¸ªï¼Œå³é”®Show in Finder ç„¶åŽå¯¹æ–‡ä»¶å¤¹ä¸­çš„è¿™ä¸ª.xcarchiveæ–‡ä»¶å³é”®ï¼Œæ˜¾ç¤ºåŒ…å†…å®¹ï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸ºdSYMsçš„æ–‡ä»¶å¤¹ï¼ŒæŠŠé‡Œé¢çš„.dSYMæ–‡ä»¶æ‹·å‡ºæ¥ï¼Œè¿˜æ˜¯æ”¾åˆ°æ¡Œé¢çš„crashæ–‡ä»¶å¤¹é‡Œ symbolicatecrashæ˜¯ä¸€ä¸ªéšè—å·¥å…· /Applications/Xcode8.1.app/Contents/SharedFrameworks/DTDeviceKitBase.framework/Versions/A/Resources/symbolicatecrash ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤æœç´¢ï¼š $ find /Applications/Xcode8.1.app -name symbolicatecrash -type f è¿™ä¸ªè·¯å¾„æ‹·è´ä¸€ä¸‹ï¼Œç„¶åŽç²˜åˆ°Finderçš„â€œå‰å¾€æ–‡ä»¶å¤¹â€ä¸‹ï¼Œå‰å¾€ï¼Œå°±å¯ä»¥çœ‹åˆ°symbolicatecrashå·¥å…·äº†ï¼ŒçŽ°åœ¨æŠŠå®ƒä¹Ÿæ‹·åˆ°æ¡Œé¢çš„crashæ–‡ä»¶å¤¹é‡Œã€‚è‡³æ­¤ï¼Œcrashæ–‡ä»¶å¤¹é‡ŒçŽ°åœ¨æœ‰4ä¸ªæ–‡ä»¶äº†ï¼Œåˆ†åˆ«æ˜¯.app, .crash, .dSYM, symbolicatecrashã€‚æŽ¥ä¸‹æ¥å°±æ˜¯ç”¨ç»ˆç«¯æ•²å‘½ä»¤ï¼Œç”Ÿæˆæ›´æ˜“åˆ†æžçš„crash é¦–å…ˆç”¨cdå‘½ä»¤è¿›å…¥åˆ°crashæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åŽè¾“å…¥ä»¥ä¸‹å‘½ä»¤ $ ./symbolicatecrash /Users/xxxx/Desktop/crash/InOrder.crash /Users/xxxx/Desktop/crash/InOrder.app.dSYM &gt; Control_symbol.crash ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œâ€xxxxâ€å’Œâ€InOrderâ€è¯·è‡ªè¡Œæ›¿æ¢æˆå¯¹åº”çš„åç§°ã€‚è¿è¡Œï¼Œè¿™æ—¶å€™ç»ˆç«¯å¯èƒ½ä¼šæŠ¥é”™Error: â€œDEVELOPER_DIRâ€ is not defined at /usr/local/bin/symbolicatecrash line 53. è¿™æ—¶å€™åœ¨ç»ˆç«¯ä¸­å†è¾“å…¥å¦‚ä¸‹ï¼ˆXcode6.1.appä¾ç„¶æ˜¯è¦æ›¿æ¢æˆå®žé™…åç§°ï¼‰ $ export DEVELOPER_DIR=&quot;/Applications/Xcode8.1.app/Contents/Developer&quot; ç„¶åŽå†è·‘ä¸€ä¸‹åˆšåˆšçš„é‚£ä¸ªå‘½ä»¤ï¼Œè¿™æ—¶å€™çœ‹ä¸€ä¸‹æ¡Œé¢çš„crashæ–‡ä»¶å¤¹ä¸‹å°±ä¼šå¤šå‡ºä¸€ä¸ªåä¸ºâ€œControl_symbol.crashâ€çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯å¯å®šä½é—®é¢˜çš„crashæ–‡ä»¶äº†ï¼Œæˆ‘ä»¬æ‰“å¼€çœ‹ä¸€ä¸‹ çŽ°åœ¨çº¢æ¡†é‡ŒåŽŸæ¥çš„é‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿å·²ç»â€œç¿»è¯‘â€æˆäº†å´©æºƒåœ¨å…·ä½“çš„å“ªä¸€ä¸ª.mæ–‡ä»¶çš„å“ªä¸€è¡Œã€‚ä¸‹é¢å°±æ˜¯è¿›è¡Œåˆç†çš„çŒœæƒ³å’Œè°ƒè¯•äº†ï¼Œæ¯”å¦‚æˆ‘çš„å´©æºƒå°±æ˜¯å› ä¸ºè¿™ä¸ªç¬¬ä¸‰æ–¹æ—¶é—´é€‰æ‹©æŽ§ä»¶ä½¿ç”¨æˆªå–å­—ç¬¦ä¸²çš„å½¢å¼æ¥èŽ·å¾—æ—¶é—´ï¼Œåƒ09:23 PMå°±è¢«å›ºå®šçš„æ‹†æˆäº†æ—¶ã€åˆ†ã€ä¸Šä¸‹åˆæ ‡è¯†3æ®µï¼Œç»“æžœç”¨æˆ·ä½¿ç”¨24å°æ—¶åˆ¶çš„æ—¶å€™ï¼Œæ—¶é—´å°±æˆäº†21:23ï¼Œæ²¡äº†ä¸Šä¸‹åˆæ ‡è¯†ï¼Œarray[2]è¶…å‡ºä¸‹æ ‡å¦¥å¦¥çš„é—ªé€€ã€‚æƒ³æƒ³æˆ‘è„‘æ´žä¹Ÿæ˜¯è›®å¤§çš„ï¼Œè¿™ç§é—®é¢˜åŽŸå› éƒ½è¢«çŒœåˆ°äº†]]></content>
      <categories>
        <category>iOS</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Func</tag>
        <tag>OC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-AccessControl-open]]></title>
    <url>%2F2017%2F12%2F11%2FSwift%2FGrammar%2FAccessControl-open%2F</url>
    <content type="text"><![CDATA[open openå¼¥è¡¥publicè¯­ä¹‰ä¸Šçš„ä¸è¶³ pubic çŽ°åœ¨çš„pubicæœ‰ä¸¤å±‚å«ä¹‰ï¼š â‘ è¿™ä¸ªå…ƒç´ å¯ä»¥åœ¨å…¶ä»–ä½œç”¨åŸŸè¢«è®¿é—® â‘¡è¿™ä¸ªå…ƒç´ å¯ä»¥åœ¨å…¶ä»–ä½œç”¨åŸŸè¢«ç»§æ‰¿æˆ–è€…override ç»§æ‰¿é—®é¢˜ç»§æ‰¿ ç»§æ‰¿æ˜¯ä¸€ä»¶å±é™©çš„äº‹æƒ…å°¤å…¶å¯¹äºŽä¸€ä¸ªframeworkæˆ–è€…moduleçš„è®¾è®¡è€…è€Œè¨€åœ¨è‡ªèº«çš„moduleå†…ï¼Œç±»æˆ–è€…å±žæ€§å¯¹äºŽä½œè€…è€Œè¨€æ˜¯æ¸…æ™°çš„ï¼Œèƒ½å¦è¢«ç»§æ‰¿æˆ–è€…overrideéƒ½æ˜¯å¯æŽ§çš„,ä½†æ˜¯å¯¹äºŽä½¿ç”¨å®ƒçš„äººï¼Œæœ‰æ—¶ä¼šå¸Œæœ›ä¼ è¾¾å‡ºè¿™ä¸ªç±»æˆ–è€…å±žæ€§ä¸åº”è¯¥è¢«ç»§æ‰¿æˆ–è€…ä¿®æ”¹,è¿™ä¸ªå¯¹åº”çš„å°±æ˜¯ final final é—®é¢˜åœ¨äºŽåœ¨æ ‡è®°ä¹‹åŽï¼Œåœ¨ä»»ä½•åœ°æ–¹éƒ½ä¸èƒ½overrideè€Œå¯¹äºŽlibçš„è®¾è®¡è€…è€Œè¨€ï¼Œå¸Œæœ›å¾—åˆ°çš„æ˜¯åœ¨moduleå†…å¯ä»¥è¢«overrideåœ¨è¢«importåˆ°å…¶ä»–åœ°æ–¹åŽå…¶ä»–ç”¨æˆ·ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½è¢«override è¿™å°±æ˜¯openäº§ç”Ÿçš„åˆè¡·é€šè¿‡openå’Œpublicæ ‡è®°åŒºåˆ«ä¸€ä¸ªå…ƒç´ åœ¨å…¶ä»–moduleä¸­æ˜¯åªèƒ½è¢«è®¿é—®è¿˜æ˜¯å¯ä»¥è¢«override ##ä¸¾ä¾‹åˆ†æž ModuleA è¿™ä¸ªç±»åœ¨ModuleAçš„èŒƒå›´å¤–æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ï¼Œåªèƒ½è¢«è®¿é—® public class NonSubclassableParentClass &#123; public func foo() &#123;&#125; // è¿™æ˜¯é”™è¯¯çš„å†™æ³•ï¼Œå› ä¸ºclasså·²ç»ä¸èƒ½è¢«ç»§æ‰¿ // æ‰€ä»¥ä»–çš„æ–¹æ³•çš„è®¿é—®æƒé™ä¸èƒ½å¤§äºŽç±»çš„è®¿é—®æƒé™ open func bar() &#123;&#125; // finalçš„å«ä¹‰ä¿æŒä¸å˜ public final func baz() &#123;&#125;&#125; // åœ¨ModuleAçš„èŒƒå›´å¤–å¯ä»¥è¢«ç»§æ‰¿open class SubclassableParentClass &#123; // è¿™ä¸ªå±žæ€§åœ¨ModuleAçš„èŒƒå›´å¤–ä¸èƒ½è¢«override public var size : Int // è¿™ä¸ªæ–¹æ³•åœ¨ModuleAçš„èŒƒå›´å¤–ä¸èƒ½è¢«override public func foo() &#123;&#125; // è¿™ä¸ªæ–¹æ³•åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è¢«override open func bar() &#123;&#125; ///finalçš„å«ä¹‰ä¿æŒä¸å˜ public final func baz() &#123;&#125;&#125;/// finalçš„å«ä¹‰ä¿æŒä¸å˜public final class FinalClass &#123; &#125;/// ModuleB:import ModuleA// è¿™ä¸ªå†™æ³•æ˜¯é”™è¯¯çš„ï¼Œç¼–è¯‘ä¼šå¤±è´¥// å› ä¸ºNonSubclassableParentClassç±»è®¿é—®æƒé™æ ‡è®°çš„æ˜¯publicï¼Œåªèƒ½è¢«è®¿é—®ä¸èƒ½è¢«ç»§æ‰¿class SubclassA : NonSubclassableParentClass &#123; &#125;// è¿™æ ·å†™æ³•å¯ä»¥é€šè¿‡ï¼Œå› ä¸ºSubclassableParentClassè®¿é—®æƒé™ä¸º `open`.class SubclassB : SubclassableParentClass &#123; // è¿™æ ·å†™ä¹Ÿä¼šç¼–è¯‘å¤±è´¥ // å› ä¸ºè¿™ä¸ªæ–¹æ³•åœ¨SubclassableParentClass ä¸­çš„æƒé™ä¸ºpublicï¼Œä¸æ˜¯`open'. override func foo() &#123; &#125; // è¿™ä¸ªæ–¹æ³•å› ä¸ºåœ¨SubclassableParentClassä¸­æ ‡è®°ä¸ºopenï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·å†™ // è¿™é‡Œä¸éœ€è¦å†å£°æ˜Žä¸ºopenï¼Œå› ä¸ºè¿™ä¸ªç±»æ˜¯internalçš„ override func bar() &#123; &#125;&#125;open class SubclassC : SubclassableParentClass &#123; // è¿™ç§å†™æ³•ä¼šç¼–è¯‘å¤±è´¥ï¼Œå› ä¸ºè¿™ä¸ªç±»å·²ç»æ ‡è®°ä¸ºopen // è¿™ä¸ªæ–¹æ³•overrideæ˜¯ä¸€ä¸ªopençš„æ–¹æ³•ï¼Œåˆ™ä¹Ÿéœ€è¦è¡¨æ˜Žè®¿é—®æƒé™ override func bar() &#123; &#125; &#125;open class SubclassD : SubclassableParentClass &#123; // æ­£ç¡®çš„å†™æ³•ï¼Œæ–¹æ³•ä¹Ÿéœ€è¦æ ‡è®°ä¸ºopen open override func bar() &#123; &#125; &#125;open class SubclassE : SubclassableParentClass &#123; // ä¹Ÿå¯ä»¥æ˜¾å¼çš„æŒ‡å‡ºè¿™ä¸ªæ–¹æ³•ä¸èƒ½åœ¨è¢«override public final override func bar() &#123; &#125; &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>AccessControl</tag>
        <tag>open</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-AccessControl-private/filePrivateè®¿é—®æŽ§åˆ¶-ç§æœ‰]]></title>
    <url>%2F2017%2F12%2F11%2FSwift%2FGrammar%2FAccessControl-private%3AfilePrivate%2F</url>
    <content type="text"><![CDATA[private åœ¨åŽŸæœ‰çš„swiftä¸­çš„private å¹¶éžçœŸæ­£çš„ç§æœ‰ä¸€ä¸ªå˜é‡å®šä¹‰ä¸ºprivateï¼Œåœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­çš„å…¶ä»–ç±»ä¾ç„¶æ˜¯å¯ä»¥è®¿é—®åˆ°çš„åœ¨ä½¿ç”¨extensionçš„æ—¶å€™å¾ˆæ˜Žæ˜¾ class User &#123; private var name = "private"&#125;extension User&#123; var accessPrivate: String &#123; return name &#125;&#125; å¸¦æ¥äº†ä¸¤ä¸ªé—®é¢˜ï¼š æ ‡è®°ä¸ºprivateæ—¶ï¼Œæ„ä¸ºçœŸçš„ç§æœ‰è¿˜æ˜¯æ–‡ä»¶å†…å¯å…±äº« å¦‚æžœæ„å›¾ä¸ºçœŸæ­£çš„ç§æœ‰æ—¶ï¼Œå¿…é¡»ä¿è¯è¿™ä¸ªç±»æˆ–è€…ç»“æž„ä½“åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶é‡Œã€‚å¦åˆ™å¯èƒ½åŒæ–‡ä»¶é‡Œå…¶ä»–çš„ä»£ç è®¿é—®åˆ° fileprivate åœ¨swift 3ä¸­ï¼Œæ–°å¢žåŠ  fileprivate æ¥æ˜¾å¼çš„è¡¨æ˜Žï¼Œè¿™ä¸ªå…ƒç´ çš„è®¿é—®æƒé™ä¸º æ–‡ä»¶å†…ç§æœ‰ è¿‡åŽ»çš„privateå¯¹åº”çŽ°åœ¨çš„fileprivate çŽ°åœ¨çš„privateåˆ™æ˜¯çœŸæ­£çš„ç§æœ‰ï¼Œç¦»å¼€äº†è¿™ä¸ªç±»æˆ–è€…ç»“æž„ä½“çš„ä½œç”¨åŸŸå¤–é¢å°±æ— æ³•è®¿é—®]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>AccessControl</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>AccessControl</tag>
        <tag>fileprivate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-RequiredInitå¿…è¦åˆå§‹åŒ–å™¨]]></title>
    <url>%2F2017%2F12%2F11%2FSwift%2FGrammar%2FRequiredInit%E5%BF%85%E8%A6%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%99%A8%2F</url>
    <content type="text"><![CDATA[å¿…è¦åˆå§‹åŒ–å™¨ é‡å†™ç±»çš„æ—¶å€™ç»å¸¸æç¤ºè¦æ·»åŠ ä»£ç  required init?(coder aDecoder: NSCoder) &#123; fatalError("init(coder:) has not been implemented") &#125; å¿…è¦åˆå§‹åŒ–å™¨ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬ä¼šå‡ºçŽ°åœ¨ç»§æ‰¿äº†éµå®ˆNSCoding protocolçš„ç±»ï¼Œæ¯”å¦‚UIViewç³»åˆ—çš„ç±»ã€UIViewControllerç³»åˆ—çš„ç±» ä¸ºä»€ä¹ˆä¸€å®šè¦æ·»åŠ  è¿™æ˜¯NSCoding protocolå®šä¹‰çš„ï¼Œéµå®ˆäº†NSCoding protoaolçš„æ‰€æœ‰ç±»å¿…é¡»ç»§æ‰¿åªæ˜¯æœ‰çš„æƒ…å†µä¼šéšå¼ç»§æ‰¿ï¼Œè€Œæœ‰çš„æƒ…å†µä¸‹éœ€è¦æ˜¾ç¤ºå®žçŽ° ä»€ä¹ˆæƒ…å†µä¸‹è¦æ˜¾ç¤ºæ·»åŠ ï¼š å½“æˆ‘ä»¬åœ¨å­ç±»å®šä¹‰äº†æŒ‡å®šåˆå§‹åŒ–å™¨(åŒ…æ‹¬è‡ªå®šä¹‰å’Œé‡å†™çˆ¶ç±»æŒ‡å®šåˆå§‹åŒ–å™¨)ï¼Œé‚£ä¹ˆå¿…é¡»æ˜¾ç¤ºå®žçŽ°required init?(coder aDecoder: NSCoder)ï¼Œè€Œå…¶ä»–æƒ…å†µä¸‹åˆ™ä¼šéšå¼ç»§æ‰¿ï¼Œå¯ä¸ç”¨ç†ä¼šã€‚ ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè°ƒç”¨ï¼š å½“ä½¿ç”¨storyboardå®žçŽ°ç•Œé¢çš„æ—¶å€™ï¼Œç¨‹åºä¼šè°ƒç”¨è¿™ä¸ªåˆå§‹åŒ–å™¨ã€‚æ³¨æ„è¦åŽ»æŽ‰fatalErrorï¼ŒfatalErrorçš„æ„æ€æ˜¯æ— æ¡ä»¶åœæ­¢æ‰§è¡Œå¹¶æ‰“å°ã€‚åœ¨obj-cä¸­å¯ä»¥é€šè¿‡ä¸‹é¢ä»£ç å®žçŽ° NSException *exception = [NSException exceptionWithName:@"HotTeaException" reason:@"The tea is too hot" userInfo:nil]; @throw exception; ä¸¾ä¾‹åˆ†æžæ™®é€šå­ç±» é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€è¯´åˆ°requiredä¿®é¥°ç¬¦ï¼Œæœ€å…ˆæƒ³åˆ°çš„åº”è¯¥å°±æ˜¯æ™®é€šç±»ï¼ˆclassï¼‰çš„init()æ–¹æ³• class MyClass &#123; var str:String init(str:String) &#123; self.str = str &#125;&#125; å®šä¹‰ä¸€ä¸ªMyClassçš„å­ç±»ï¼ˆsubclassï¼‰å¹¶å®žä¾‹åŒ–è¿™ä¸ªå­ç±» åœ¨å®žä¾‹åŒ–MySubClassæ—¶ï¼Œå…¶å®žæ˜¯ç»§æ‰¿äº†å®ƒçˆ¶ç±»MyClassçš„init()æ–¹æ³•class MySubClass:MyClass &#123; &#125;var MySubClass(str:"Hello Swift") å­ç±»çš„åˆå§‹åŒ–æ–¹æ³• å­ç±»ä¸­æ·»åŠ ä¸€ä¸ªinit()æ–¹æ³•åœ¨init()æ–¹æ³•å‰åŠ ä¸Šoverrideä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºMySubClassé‡å†™äº†å…¶çˆ¶ç±»çš„init()æ–¹æ³•ï¼Œç„¶åŽè¿˜è¦è°ƒç”¨çˆ¶ç±»çš„init()æ–¹æ³•ï¼Œå¹¶å°†å‚æ•°ä¸€å¹¶ä¼ ç»™çˆ¶ç±»çš„æ–¹æ³• class MySubClass:MyClass &#123; override init(str:String) &#123; super.init(str:str) &#125; &#125;var MySubClass(str:"Hello Swift" å½“å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•å‚æ•°ç±»åž‹ä¸Žçˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•å‚æ•°ç±»åž‹ä¸åŒæ—¶ï¼Œæˆ‘ä»¬å°±ä¸å¿…åœ¨å­ç±»çš„åˆå§‹åŒ–æ–¹æ³•å‰åŠ overrideä¿®é¥°ç¬¦äº†ï¼Œä½†æ˜¯è¦æŠŠå­ç±»åˆå§‹åŒ–æ–¹æ³•çš„å‚æ•°ç±»åž‹è½¬æ¢ä¸ºç¬¦åˆçˆ¶ç±»åˆå§‹åŒ–æ–¹æ³•çš„å‚æ•°ç±»åž‹ï¼Œç„¶åŽä¼ ç»™çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³• lass MyClass &#123; var str:String init(str:String) &#123; self.str = str &#125;&#125;class MySubClass:MyClass&#123; init(i:Int) &#123; super.init(str:String(i)) &#125;&#125;MySubClass(i: 10) ç»™çˆ¶ç±»çš„init()æ–¹æ³•åŠ ä¸Šrequiredä¿®é¥°ç¬¦class MyClass &#123; var str:String required init(str:String) &#123; self.str = str &#125;&#125;class MySubClass:MyClass&#123; init(i:Int) &#123; super.init(str:String(i)) &#125; // ç¼–è¯‘é”™è¯¯&#125;MySubClass(i: 10) å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å®žçŽ°çˆ¶ç±»ä¸­è¦åŽ»å¿…é¡»è¦å®žçŽ°çš„æ–¹æ³• class MyClass &#123; var str:String required init(str:String) &#123; self.str = str &#125;&#125;class MySubClass:MyClass&#123; required init(str:String) &#123; super.init(str: str) &#125; init(i:Int) &#123; super.init(str:String(i)) &#125; &#125;MySubClass(i: 10) å­ç±»éœ€è¦æ·»åŠ å¼‚äºŽçˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼Œå¿…é¡»å…ˆè¦å®žçŽ°çˆ¶ç±»ä¸­ä½¿ç”¨requiredä¿®é¥°ç¬¦ä¿®é¥°è¿‡çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¹¶ä¸”ä¹Ÿè¦ä½¿ç”¨requiredä¿®é¥°ç¬¦è€Œä¸æ˜¯overrideå¦‚æžœå­ç±»ä¸­ä¸éœ€è¦æ·»åŠ ä»»ä½•åˆå§‹åŒ–æ–¹æ³•ï¼Œæˆ‘ä»¬åˆ™å¯ä»¥å¿½ç•¥çˆ¶ç±»çš„requiredåˆå§‹åŒ–æ–¹æ³•ï¼š class MyClass &#123; var str:String required init(str:String) &#123; self.str = str &#125;&#125;class MySubClass:MyClass&#123; //ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºå¦‚æžœå­ç±»æ²¡æœ‰ä»»ä½•åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼ŒSwiftä¼šé»˜è®¤ä½¿ç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•You do not have to provide an explicit implementation of a required initializer if you can satisfy the requirement with an inherited initialiser.&#125;MySubClass(str: "hello swift") requiredä¿®é¥°ç¬¦çš„ä½¿ç”¨è§„åˆ™ requiredä¿®é¥°ç¬¦åªèƒ½ç”¨äºŽä¿®é¥°ç±»åˆå§‹åŒ–æ–¹æ³• å½“å­ç±»å«æœ‰å¼‚äºŽçˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼ˆåˆå§‹åŒ–æ–¹æ³•å‚æ•°ç±»åž‹å’Œæ•°é‡å¼‚äºŽçˆ¶ç±»ï¼‰ï¼Œå­ç±»å¿…é¡»è¦å®žçŽ°çˆ¶ç±»çš„requiredåˆå§‹åŒ–æ–¹æ³•ï¼Œå¹¶ä¸”ä¹Ÿè¦ä½¿ç”¨requiredä¿®é¥°ç¬¦è€Œä¸æ˜¯override å½“å­ç±»æ²¡æœ‰åˆå§‹åŒ–æ–¹æ³•æ—¶ï¼Œå¯ä»¥ä¸ç”¨å®žçŽ°çˆ¶ç±»çš„requiredåˆå§‹åŒ–æ–¹æ³• æ€»ç»“ï¼š å¦‚æžœä»£ç å®žçŽ°ç•Œé¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦æ ¹æ®ç¼–è¯‘å™¨æç¤ºæ·»åŠ å¿…è¦åˆå§‹åŒ–å™¨åŽï¼Œå°±ä¸ç”¨ç†ä¼šï¼Œæˆ‘ä»¬åˆ›å»ºç•Œé¢çš„å·¥ä½œå¯ä»¥åœ¨è‡ªå®šä¹‰çš„åˆå§‹åŒ–å™¨é‡Œå®žçŽ°ã€‚ è¡¥å……ï¼šlet vc = UIViewController()æ–¹å¼åˆå§‹åŒ–ç±»UIViewControllerç±»è§†ä¹Žåªæœ‰ä¸¤ä¸ªåˆå§‹åŒ–å™¨ï¼Œä¸€ä¸ªæ˜¯å¿…è¦åˆå§‹åŒ–å™¨init?(coder aDecoder: NSCoder)ï¼Œä¸€ä¸ªæ˜¯æŒ‡å®šåˆå§‹åŒ–å™¨init(nibName nibNameOrNil: String?, bundle nibBundleOrNil: NSBundle?)ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨let vc = UIViewController()è¿™ç§æ–¹å¼åˆå§‹åŒ–ç±»å‘¢ï¼ŸåŽŸå› å¯èƒ½æ˜¯è¿™ä¸ªåˆå§‹åŒ–æ–¹å¼æ˜¯æ¥è‡ªuikit,ä¹Ÿå°±æ˜¯è°ƒç”¨äº†Object-cä¸‹çš„UIViewControlleråˆå§‹åŒ–æ–¹æ³•ï¼Œæ˜¯object-c bridgeè¿‡æ¥çš„]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>RequiredInit</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>RequiredInit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-4.0æ›´æ–°]]></title>
    <url>%2F2017%2F12%2F11%2FSwift%2FGrammar%2F4-0%E6%9B%B4%E6%96%B0%2F</url>
    <content type="text"><![CDATA[ç”¨ç³»ç»Ÿæ–¹æ³•setValuesForKeys()èµ‹å€¼é—®é¢˜ (swift4) åœ¨swift3ä¸­ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨æŽ¨æ–­@objcï¼Œæ¢å¥è¯è¯´ï¼Œå®ƒè‡ªåŠ¨æ·»åŠ @objcåœ¨swift4ä¸­ï¼Œç¼–è¯‘å™¨ä¸å†è‡ªåŠ¨æŽ¨æ–­ï¼Œä½ å¿…é¡»æ˜¾å¼æ·»åŠ @objc @objc var content = ""swift 4.0 ç‰ˆæœ¬è¦åœ¨å‰é¢åŠ @objc è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œä¸å¿…ä¸€ä¸ªä¸€ä¸ªå±žæ€§çš„æ·»åŠ ,ä¸‹é¢è¿™ç§å†™æ³• @objcMembersclass Test &#123;&#125; setValuesForKeys()å¥”æºƒ(swift4) @objcè§£å†³äº†å•ä¸ªå±žæ€§çš„é—®é¢˜ï¼Œä¸€ä¸ªå±žæ€§çš„å€¼æ˜¯æ•°ç»„å­—å…¸ï¼Œç”¨setValuesForKeys() ç¨‹åºå¥”æºƒï¼Œxcode9.0.1æç¤ºå¦‚ä¸‹ [__NSCFConstantString count]: unrecognized selector sent to instance 0x102cb3290 é€ æˆå´©æºƒæ˜¯å› ä¸ºè¯¥å­—æ®µå¦‚æžœä¸ºç©º ç”¨äº†ç©ºä¸²æ¥å ä½ï¼Œé€ æˆæ•°æ®ç±»åž‹ä¸ä¸€è‡´è€Œå´©æºƒã€‚è¿™ä¸ªåœ¨swift3ä¸­æ²¡æœ‰é—®é¢˜]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>Swift4.0</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>Swift4.0</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Guard-å…³é”®å­—/å®ˆæŠ¤]]></title>
    <url>%2F2017%2F12%2F11%2FSwift%2FGrammar%2F%E5%85%B3%E9%94%AE%E5%AD%97-Guard-%E5%AE%88%E6%8A%A4%2F</url>
    <content type="text"><![CDATA[guardè¯­å¥ guardè¯­å¥åˆ¤æ–­å…¶åŽçš„è¡¨è¾¾å¼å¸ƒå°”å€¼ä¸ºfalseæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œä¹‹åŽä»£ç å—é‡Œçš„ä»£ç ï¼Œå¦‚æžœä¸ºtrueï¼Œåˆ™è·³è¿‡æ•´ä¸ªguardè¯­å¥guardè¯­å¥åªä¼šæœ‰ä¸€ä¸ªä»£ç å—ï¼Œifè¯­å¥å¯ä»¥if elseå¤šä¸ªä»£ç å—ç±»ä¼¼ OCé‡Œçš„Continue func checkup(person: [String: String!]) &#123; // æ£€æŸ¥èº«ä»½è¯ï¼Œå¦‚æžœèº«ä»½è¯æ²¡å¸¦ï¼Œåˆ™ä¸èƒ½è¿›å…¥è€ƒåœº guard let id = person["id"] else &#123; print("æ²¡æœ‰èº«ä»½è¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!") return &#125; // æ£€æŸ¥å‡†è€ƒè¯ï¼Œå¦‚æžœå‡†è€ƒè¯æ²¡å¸¦ï¼Œåˆ™ä¸èƒ½è¿›å…¥è€ƒåœº guard let examNumber = person["examNumber"] else &#123; print("æ²¡æœ‰å‡†è€ƒè¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!") return &#125; // èº«ä»½è¯å’Œå‡†è€ƒè¯é½å…¨ï¼Œæ–¹å¯è¿›å…¥è€ƒåœº print("æ‚¨çš„èº«ä»½è¯å·ä¸º:\(id)ï¼Œå‡†è€ƒè¯å·ä¸º:\(examNumber)ã€‚è¯·è¿›å…¥è€ƒåœº!") &#125; checkup(["id": "123456"]) // æ²¡æœ‰å‡†è€ƒè¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!checkup(["examNumber": "654321"]) // æ²¡æœ‰èº«ä»½è¯ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!checkup(["id": "123456", "examNumber": "654321"]) // æ‚¨çš„èº«ä»½è¯å·ä¸º:123456ï¼Œå‡†è€ƒè¯å·ä¸º:654321ã€‚è¯·è¿›å…¥è€ƒåœº! ä¸Šè¿°ä»£ç ä¸­çš„ç¬¬ä¸€ä¸ªguardè¯­å¥ç”¨äºŽæ£€æŸ¥èº«ä»½è¯ï¼Œå¦‚æžœæ£€æŸ¥åˆ°èº«ä»½è¯æ²¡å¸¦ï¼Œä¹Ÿå°±æ˜¯è¡¨è¾¾å¼ä¸ºfalseæ—¶ï¼Œæ‰§è¡Œå¤§æ‹¬å·é‡Œçš„ä»£ç ï¼Œå¹¶è¿”å›žã€‚ç¬¬äºŒä¸ªguardè¯­å¥åˆ™æ£€æŸ¥å‡†è€ƒè¯ã€‚å¦‚æžœä¸¤è¯é½å…¨ï¼Œåˆ™æ‰§è¡Œæœ€åŽä¸€ä¸ªæ‰“å°è¯­å¥ï¼Œä¸Šé¢çš„ä¸¤ä¸ªguardè¯­å¥å¤§æ‹¬å·å†…çš„ä»£ç éƒ½ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºä»–ä»¬è¡¨è¾¾å¼çš„å¸ƒå°”å€¼éƒ½æ˜¯trueã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œidå’ŒexamNumberå¯ä»¥åœ¨guardè¯­å¥ä¹‹å¤–ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´å½“guardå¯¹å…¶è¡¨è¾¾å¼è¿›è¡ŒéªŒè¯åŽï¼Œidå’ŒexamNumberå¯åœ¨æ•´ä¸ªæ–¹æ³•çš„ä½œç”¨åŸŸä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”æ˜¯è§£åŒ…åŽçš„ if elseè¯­å¥ ç”¨if elseå®žçŽ°çš„æ–¹æ³•æ˜¾ç„¶ä¸å¦‚guardå®žçŽ°çš„é‚£ä¹ˆç²¾å‡†ã€‚è€Œä¸”idå’ŒexamNumberçš„ä½œç”¨åŸŸåªé™åœ¨ifçš„ç¬¬ä¸€ä¸ªå¤§æ‹¬å·å†…ï¼Œè¶…å‡ºè¿™ä¸ªä½œç”¨åŸŸç¼–è¯‘å°±ä¼šæŠ¥é”™ func checkupUseIf(person: [String: String!]) &#123; if let id = person["id"], let examNumber = person["examNumber"] &#123; print("æ‚¨çš„èº«ä»½è¯å·ä¸º:\(id)ï¼Œå‡†è€ƒè¯å·ä¸º:\(examNumber)ã€‚è¯·è¿›å…¥è€ƒåœºï¼") &#125; else &#123; print("è¯ä»¶ä¸é½å…¨ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!") &#125; print("æ‚¨çš„èº«ä»½è¯å·ä¸º:\(id)ï¼Œå‡†è€ƒè¯å·ä¸º:\(examNumber)") // æŠ¥å¼‚å¸¸ &#125; checkupUseIf(["id": "123456"]) // è¯ä»¶ä¸é½å…¨ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!checkupUseIf(["examNumber": "654321"]) // è¯ä»¶ä¸é½å…¨ï¼Œä¸èƒ½è¿›å…¥è€ƒåœº!checkupUseIf(["id": "123456", "examNumber": "654321"]) // æ‚¨çš„èº«ä»½è¯å·ä¸º:123456ï¼Œå‡†è€ƒè¯å·ä¸º:654321ã€‚è¯·è¿›å…¥è€ƒåœº!]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>Guard</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>Guard</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Inheritance-ç±»ç»§æ‰¿]]></title>
    <url>%2F2017%2F12%2F10%2FSwift%2FGrammar%2FInheritance-%E7%B1%BB%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[Inheritance-ç±»ç»§æ‰¿-ç®€ä»‹ ç»§æ‰¿æ€§æ˜¯é¢å‘è¯­è¨€ç‰¹å¾ä¹‹ä¸€swiftçš„ç±»ç»§æ‰¿åªèƒ½å‘ç”Ÿç”Ÿåœ¨ç±»ä¸Šï¼Œä¸èƒ½å‘ç”Ÿåœ¨æžšä¸¾å’Œç»“æž„ä½“ä¸Šswiftä¸­ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„æ–¹æ³•ã€å±žæ€§ã€ä¸‹æ ‡ç­‰ç‰¹å¾å­ç±» çˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰å­ç±»ç»§æ‰¿çˆ¶ç±»åŽï¼Œå¯é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€å±žæ€§ã€ä¸‹æ ‡ç­‰å•ç»§æ‰¿ï¼Œä½†å¯éµä»Žå¤šä¸ªåè®®ï¼Œå¤šé‡ç»§æ‰¿å¯ä»¥é€šè¿‡éµä»Žå¤šä¸ªåè®®å®žçŽ° æ¡ˆä¾‹ åœºæ™¯ï¼šé¢å‘å¯¹è±¡çš„ç¨‹åºå‘˜å²³å…‹å¥Žï¼Œåœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­éœ€è¦æè¿°å’Œå¤„ç†ä¸ªäººä¿¡æ¯å®šä¹‰ç±»Person class Person&#123; var name:String var age :Int func desription()-&gt;String&#123; return "\(name)å¹´é¾„æ˜¯ï¼š\(age)å²" &#125; init() &#123; name = "" age = 1 &#125; &#125; åœºæ™¯ï¼š1å¤©åŽå²³å…‹å¥Žé‡åˆ°æ–°éœ€æ±‚ï¼Œéœ€æè¿°å’Œå¤„ç†å­¦ç”Ÿçš„ä¿¡æ¯ï¼ŒäºŽæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±»Student class Student&#123; var name:String var age :Int var school: String func desription() -&gt; String &#123; return "\(name)å¹´é¾„æ˜¯ï¼š\(age)å²" &#125; init() &#123; name = "" age = 1 school = "" &#125;&#125; ç»§æ‰¿æ–¹å¼å†™ class Student:Person&#123; var school: String //å­ç±»æ–°å¢ž override init() &#123; //é‡å†™çˆ¶ç±» æž„é€ å‡½æ•° school = "" // æ³¨æ„ school å’Œ super.init() é¡ºåº super.init() name = "" age = 6 &#125; &#125; æž„é€ å‡½æ•°çš„è°ƒç”¨è§„åˆ™ä¿®æ”¹ä¸Šé¢æ¡ˆä¾‹//Person class Person&#123; var name:String var age :Int func desription()-&gt;String&#123; return "\(name)å¹´é¾„æ˜¯ï¼š\(age)å²" &#125; convenience init () &#123; // â‘  ä¾¿åˆ©æž„é€ å‡½æ•° self.init (name: "å²³å…‹å¥Ž") self.age = 99 &#125; convenience init (name: String) &#123; // â‘¡ ä¾¿åˆ©æž„é€ å‡½æ•° self.init(name:name,age:18) &#125; init(name: String,age: Int) &#123; // â‘¢ æŒ‡å®šæž„é€ å‡½æ•° self.name = name self.age = age &#125; &#125; class Student:Person&#123; var school: String init(name: String, age: Int,school: String ) &#123; // â‘£ æŒ‡å®šæž„é€ å‡½æ•° self.school = school super.init(name: name, age: age) &#125; convenience override init(name: String, age: Int) &#123; // â‘¤ ä¾¿åˆ©æž„é€ å‡½æ•° self.init (name: name, age: age, school: "è®¸æ˜Œå­¦é™¢") &#125; &#125; let oneStudent = Student() print("å­¦ç”Ÿï¼š \(oneStudent.desription())")//å­¦ç”Ÿï¼š å²³å…‹å¥Žå¹´é¾„æ˜¯ï¼š99å² æž„é€ å‡½æ•°ä¹‹é—´çš„è°ƒç”¨å½¢æˆæž„é€ å‡½æ•°é“¾ swifté™åˆ¶æž„é€ å‡½æ•°ä¹‹é—´ä»£ç†è°ƒç”¨è§„åˆ™3æ¡ï¼š 1.æŒ‡å®šæž„é€ å‡½æ•°å¿…é¡»è°ƒç”¨å…¶ç›´æŽ¥çˆ¶ç±»çš„æŒ‡å®šæž„é€ å‡½æ•° Studentä¸­çš„ â‘£ æŒ‡å®šå‡½æ•°è°ƒç”¨Personä¸­â‘¢ æŒ‡å®šæž„é€ å‡½æ•° 2.ä¾¿åˆ©æž„é€ å‡½æ•°å¿…é¡»è°ƒç”¨åŒä¸€ç±»ä¸­å®šä¹‰çš„å…¶ä»–æž„é€ å‡½æ•° Student ä¸­çš„ â‘¤ ä¾¿åˆ©æž„é€ å‡½æ•° è°ƒç”¨ åŒä¸€ç±»ä¸­ â‘£å·æž„é€ å‡½æ•°ï¼ŒPersonä¸­çš„ â‘  ä¾¿åˆ©æž„é€ å‡½æ•°è°ƒç”¨åŒä¸€ç±»ä¸­çš„ â‘¡ ä¾¿åˆ©æž„é€ å‡½æ•°ï¼ŒPersonä¸­çš„ â‘¡ ä¾¿åˆ©æž„é€ å‡½æ•° è°ƒç”¨åŒä¸€ç±»ä¸­çš„ â‘¢ æŒ‡å®šæž„é€ å‡½æ•° 3.ä¾¿åˆ©æž„é€ å‡½æ•°å¿…é¡»æœ€ç»ˆä»¥è°ƒç”¨ä¸€ä¸ªæŒ‡å®šæž„é€ å‡½æ•°ç»“æŸ Student ä¸­çš„ â‘¤ ä¾¿åˆ©æž„é€ å‡½æ•° è°ƒç”¨ åŒä¸€ç±»ä¸­ â‘£å·æž„é€ å‡½æ•°ï¼Œ Personä¸­çš„ â‘¡ ä¾¿åˆ©æž„é€ å‡½æ•° è°ƒç”¨åŒä¸€ç±»ä¸­çš„ â‘¢ æŒ‡å®šæž„é€ å‡½æ•° æž„é€ è¿‡ç¨‹å®‰å…¨æ£€æŸ¥ç±»çš„æž„é€ çš„ä¸¤ä¸ªé˜¶æ®µ åˆ†æžå›¾ï¼šä¹¦Page 200é¡µ 1.åˆ†é…å†…å­˜ ---&gt;åˆå§‹åŒ–å­ç±»å­˜å‚¨å±žæ€§---&gt;æ²¿æž„é€ å‡½æ•°é“¾å‘ä¸Šåˆå§‹çˆ¶ç±»å­˜å‚¨å±žæ€§ åˆ°è¾¾æž„é€ å‡½æ•°é“¾é¡¶éƒ¨ï¼Œå‡ºä¹¦ç”»å…¨éƒ¨çš„çˆ¶ç±»å­˜å‚¨å±žæ€§2.ä¿®æ”¹å±žæ€§ ---&gt; è°ƒç”¨æ–¹æ³•]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>Inheritance</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>Inheritance</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Characterå­—ç¬¦]]></title>
    <url>%2F2017%2F12%2F08%2FSwift%2FGrammar%2FCharacter%E5%AD%97%E7%AC%A6%2F</url>
    <content type="text"><![CDATA[å­—ç¬¦ swift é‡‡ç”¨Unicodeç¼–ç  ä¸€ä¸ªå­—ç¬¦å¯ä»¥ç”¨å­—ç¬¦æœ¬èº«ï¼Œä¹Ÿå¯ä»¥ç”¨Unicodeç¼–ç  Unicodeç¼–ç  C å’Œ OCç­‰ï¼Œå­—ç¬¦æ”¾åœ¨(â€˜)ä¹‹é—´çš„ Swift ï¼ˆâ€â€ï¼‰åŒå¼•å· Unicodeç¼–ç å¯ä»¥æœ‰ å•ã€åŒã€å››å­—èŠ‚ç¼–ç è¡¨çŽ°å½¢å¼ \u{} nä¸º1-8ä¸ª16å°½èŒæ•° let andSign1:Character = "&amp;" //ç”¨å­—ç¬¦æœ¬print(andSign1) // &amp;let andSign2:Character = "\u&#123;26&#125;" //ç”¨Unicodeç¼–ç print(andSign2) // &amp; Swiftå­—ç¬¦ç±»åž‹æ˜¯Characterã€‚å£°æ˜Žlet/varå¦‚æžœçœç•¥Characterç±»åž‹å£°æ˜Ž,è‡ªåŠ¨æŽ¨æ®µæ˜¯å­—ç¬¦ä¸²ï¼Œâ€&amp;â€é»˜è®¤æ˜¯å­—ç¬¦ä¸²ç±»åž‹ è½¬ä¹‰ç¬¦ å­—ç¬¦è¡¨ç¤º Uicodeç¼–ç  è¯´æ˜Ž \t \u{0009} æ°´å¹³åˆ¶è¡¨ç¬¦tab \n \u{000a} æ¢è¡Œ \r \u{000d} å›žè½¦ \â€ \u{0022} åŒå¼•å· \â€™ \u{0027} å•å¼•å· \ \u{005c} åæ–œçº¿ //è½¬ä¹‰ç¬¦ let specialCharTab1 = "Yue\tKekui" print("specialCharTab1:\(specialCharTab1)")]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>String</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Lazy-æ‡’åŠ è½½]]></title>
    <url>%2F2017%2F12%2F08%2FSwift%2FGrammar%2FLazy-%E6%87%92%E5%8A%A0%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[æƒ°æ€§åˆå§‹åŒ– æ‡’åŠ è½½æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª é—­åŒ…æ‡’åŠ è½½ä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™æ‰§è¡Œ, é—­åŒ…æ‰§è¡Œç»“æŸåŽ, ä¼šæŠŠç»“æžœä¿å­˜åœ¨ å±žæ€§ ä¸­åŽç»­è°ƒç”¨, ç›´æŽ¥è¿”å›ž å±žæ€§ çš„å†…å®¹æ‡’åŠ è½½çš„å±žæ€§ä¼šåˆ†é…ç©ºé—´, å­˜å‚¨å€¼åªè¦è°ƒç”¨è¿‡ä¸€æ¬¡, æ‡’åŠ è½½åŽé¢çš„é—­åŒ…å†ä¹Ÿä¸ä¼šæ‰§è¡Œäº†å»¶è¿ŸåŠ è½½, å‡å°‘å†…å­˜çš„æ¶ˆè€—,åˆå§‹åŒ–å¹¶ä¸”åˆ†é…ç©ºé—´, ä¼šæå‰åˆ›å»ºå¯ä»¥è§£é™¤è§£åŒ…çš„çƒ¦æ¼è¢«è®¾ç½®ä¸º nil, æ‡’åŠ è½½ä¹Ÿä¸ä¼šå†æ¬¡æ‰§è¡Œæ‡’åŠ è½½çš„ä»£ç åªä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™, æ‰§è¡Œé—­åŒ…, ç„¶åŽå°†é—­åŒ…çš„ç»“æžœä¿å­˜åœ¨ çš„å±žæ€§ä¸­Swiftä¸­ï¼Œæœ‰ä¸¤ç§æ–¹å¼æ¥æƒ°æ€§åˆå§‹åŒ– class DemoLabel: UILabel &#123; //æ¨¡åž‹ ---&gt; ç»™è§†å›¾è®¾ç½®æ¨¡åž‹, ç”±è§†å›¾è‡ªå·±æ ¹æ®æ¨¡åž‹çš„æ•°æ®æ˜¾ç¤ºå†…å®¹ var person: Student? &#123; // å°±æ˜¯æ›¿ä»£ OC ä¸­é‡å†™ setter æ–¹æ³• , åŒºåˆ«: å†ä¹Ÿä¸éœ€è¦è€ƒè™‘ _æˆå‘˜å˜é‡ = å€¼, OC ä¸­å¦‚æžœæ˜¯ copy å±žæ€§, åº”è¯¥ _æˆå‘˜å˜é‡ = [å€¼ copy] didSet&#123; // æ­¤æ—¶ name å±žæ€§å·²ç»æœ‰å€¼, å¯ä»¥ç›´æŽ¥ä½¿ç”¨è®¾ç½® UI å†…å®¹ text = person?.name &#125; &#125;&#125;class ViewController: UIViewController &#123; var label: DemoLabel? /* &#123;&#125; åŒ…è£…ä»£ç  () æ‰§è¡Œä»£ç  æ—¥å¸¸å¼€å‘: 1. é—­åŒ…ä¸­çš„æ™ºèƒ½æç¤ºä¸å¥½ 2. é—­åŒ…ä¸­å¦‚æžœå‡ºçŽ° self. è¿˜éœ€è¦æ³¨æ„å¾ªçŽ¯å¼•ç”¨ */ lazy var label2 = &#123; () -&gt; DemoLabel in let l = DemoLabel() // è®¾ç½® Label çš„å±žæ€§... return l &#125;() // æ³¨æ„: ä¸€æ—¦ label è¢«è®¾ç½®ä¸º nil, æ‡’åŠ è½½ä¹Ÿä¸ä¼šå†æ¬¡æ‰§è¡Œ // æ‡’åŠ è½½çš„ä»£ç åªä¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™, æ‰§è¡Œé—­åŒ…, ç„¶åŽå°†é—­åŒ…çš„ç»“æžœä¿å­˜åœ¨ label çš„å±žæ€§ä¸­ private lazy var label3: UILabel? = UILabel() override func viewDidLoad() &#123; super.viewDidLoad() // è®¾ç½® UI setupUI() label3?.text = "hello" label3?.sizeToFit() print(label3 as Any) label3 = nil print(label3 as Any) &#125; private func setupUI() &#123; // 1. swvfæŽ§ä»¶ label = DemoLabel() // ! è§£åŒ…, ä¸ºäº†å‚ä¸Žè®¡ç®—, addSubView ç”¨ subViews æ•°ç»„è®°å½•æŽ§ä»¶, æ•°ç»„ä¸­ä¸å…è®¸åŠ å…¥ nil // ? å¯é€‰è§£åŒ…, è°ƒç”¨æ–¹æ³•, å¦‚æžœä¸º nil, ä¸è°ƒç”¨æ–¹æ³•, ä½†æ˜¯ä¸èƒ½å‚ä¸Žè®¡ç®— view.addSubview(label!) label?.text = "hello" label?.sizeToFit() label?.center = view.center &#125; override func didReceiveMemoryWarning() &#123; // Swift ä¸­ä¸€å®šæ³¨æ„ä¸è¦ä¸»åŠ¨æ¸…ç†è§†å›¾æˆ–è€…æŽ§ä»¶// å› ä¸ºæ‡’åŠ è½½ä¸ä¼šå†æ¬¡åˆ›å»º &#125;&#125; ç®€å•è¡¨è¾¾å¼lazy var first = NSArray(objects: "1","2") ##é—­åŒ… ä¸è¦å¿˜è®°æœ€åŽçš„å°æ‹¬å·ï¼Œåªæœ‰åŠ äº†å°æ‹¬å·ï¼Œå¿…åŒ…æ‰ä¼šåœ¨æŽ‰ç”¨çš„æ—¶å€™ç«‹åˆ»æ‰§è¡Œè¦ç±»åž‹å£°æ˜Žlazy var second:Stringï¼Œè¿™æ ·Xcodeä¼šè¿›è¡Œç±»åž‹æ£€ lazy var second:String = &#123; return "second" &#125;() //&#123;&#125; åŒ…è£…ä»£ç  () æ‰§è¡Œä»£ç  æƒ°æ€§åˆå§‹åŒ–çš„ä½¿ç”¨åœºæ™¯â‘ å±žæ€§æœ¬èº«ä¾èµ–äºŽå¤–éƒ¨å› ç´ æ‰èƒ½åˆå§‹åŒ– completeURLè¡¨ç¤ºå®Œæ•´çš„URLï¼Œè¿™ä¸ªå˜é‡ä¾èµ–äºŽè‡ªèº«çš„urlæ˜¯å¦å«æœ‰http://å‰ç¼€ class Demo&#123; var url:NSString lazy var completeURL:NSString = &#123; [unowned self] in if self.url.hasPrefix("http://")&#123; return self.url &#125;else&#123; return "http://".stringByAppendingString(self.url) &#125; &#125;() init(url:NSString)&#123; self.url = url &#125;&#125; â‘¡å±žæ€§éœ€è¦å¤æ‚è®¡ç®—ï¼Œæ¶ˆè€—å¤§é‡CPUlazy var second:Int = &#123; var sum = 0 for i in 1...100000&#123; sum += i &#125; return sum &#125;() â‘¢å±žæ€§ä¸ç¡®å®šæ˜¯å¦ä¼šä½¿ç”¨åˆ° å®˜ç½‘çš„ä¾‹å­ï¼Œæ³¨æ„ï¼Œå¯¹äºŽManageræ¥è¯´ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œå¯èƒ½å¯¼å…¥ï¼Œä¹Ÿå¯èƒ½ä¸å€’å…¥æ•°æ®ã€‚ä»Žç¡¬ç›˜è¯»å–æ•°æ®çš„ä»£ä»·æ˜¯å¾ˆå¤§çš„ï¼Œä¸å¯¼å…¥æ•°æ®çš„æ—¶å€™ï¼Œä¸è¦åˆå§‹åŒ– class DataImporter &#123; /* DataImporter is a class to import data from an external file. The class is assumed to take a non-trivial amount of time to initialize. */ var fileName = "data.txt" // the DataImporter class would provide data importing functionality here&#125;class DataManager &#123; lazy var importer = DataImporter() var data = [String]() // the DataManager class would provide data management functionality here&#125;let manager = DataManager()manager.data.append("Some data")manager.data.append("Some more data") â‘£å®šåˆ¶åŒ–çš„åˆå§‹åŒ– æœ‰äº›åˆå§‹åŒ–åªéœ€è¦åˆå§‹åŒ–ä¸€æ¬¡ï¼Œåœ¨å˜é‡å®šä¹‰çš„åœ°æ–¹åˆå§‹åŒ–ï¼Œæœ‰åŠ©äºŽä»£ç ç»´æŠ¤ lazy var dataArray:NSMutableArray = &#123; var array = NSMutableArray() for i in 1...100&#123; array.addObject(NSNumber(integer: i)) &#125; return array &#125;()]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>Lazy</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>Lazy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Overrideé‡å†™]]></title>
    <url>%2F2017%2F12%2F08%2FSwift%2FGrammar%2FOverride-%E9%87%8D%E5%86%99%2F</url>
    <content type="text"><![CDATA[å®šä¹‰ä¸€ä¸ªç±» å®šä¹‰å¯ç»§æ‰¿çš„åŸºç¡€ç±»nameStrï¼š äººåabilityInt ï¼š èƒ½åŠ›å€¼ class People&#123; var nameStr: String var abilityInt: Int func des() -&gt; String &#123; return "\(nameStr)çš„èƒ½åŠ›å€¼\(abilityInt)" &#125; init() &#123; nameStr = "YueKekui" abilityInt = 0 &#125;&#125; é‡å†™çˆ¶ç±»æ–¹æ³•é‡å†™init initnationalityStr:æ–°åŠ å›½ç± class ChinesePeople:People&#123; var nationalityStr = "ä¸­å›½ðŸ‡¨ðŸ‡³" override init() &#123; super.init() nameStr = "ChenJian" abilityInt = 666 //self.nameStr = "LuGaygay" //self.abilityInt = 8888 //ç»§æ‰¿äº†çˆ¶ç±»çš„å±žæ€§ï¼Œå› æ­¤nameStrã€ self.nameStrçš„å±žæ€§ &#125; override func des()-&gt;String&#123; return super.des() + "ä»–æ˜¯\(nationalityStr)äºº" &#125;&#125; æ‰“å°let onePeople = ChinesePeople.init()print( onePeople.des()) // ChenJiançš„èƒ½åŠ›å€¼666ä»–æ˜¯ä¸­å›½ðŸ‡¨ðŸ‡³äºº é‡å†™å±žæ€§ å­ç±»å¹¶ä¸çŸ¥é“ç»§æ‰¿æ¥çš„å±žæ€§æ˜¯å‚¨å€¼åž‹è¿˜æ˜¯ç®—å€¼åž‹ï¼Œå®ƒåªçŸ¥é“ç»§æ‰¿æ¥çš„å±žæ€§æœ‰ä¸€ä¸ªåå­—å’Œç±»åž‹ï¼Œæ‰€ä»¥åœ¨é‡å†™å±žæ€§æ—¶å¿…é¡»æŠŠå®ƒçš„åå­—å’Œç±»åž‹éƒ½å†™å‡ºæ¥å‚¨å€¼å±žæ€§å¯ä»¥é‡å†™ä¸ºç®—å€¼å±žæ€§åªè¯»å¯ä»¥é‡å†™ä¸ºè¯»å†™ï¼›è¯»å†™ä¸èƒ½é‡å†™ä¸ºåªè¯»ä¸æƒ³é‡å†™getterï¼Œå¯ä»¥ç›´æŽ¥è¿”å›žsuper.Someproperty Get/Setclass AmericanPeople: ChinesePeople &#123; // override var nationalityStr = "ç¾Žå›½ðŸ‡ºðŸ‡¸"////é‡å†™äº†çˆ¶ç±»çš„å±žæ€§nationalityStrï¼Œå› æ­¤selfå’Œsuperçš„nationalityStræ˜¯ä¸¤ä¸ªä¸åŒçš„å±žæ€§ override var nationalityStr:String &#123; get &#123; return super.nationalityStr &#125; set &#123; super.nationalityStr = "ç¾Žå›½ðŸ‡ºðŸ‡¸" &#125; &#125;&#125; æ‰“å°let secondPeople = AmericanPeople.init() secondPeople.nationalityStr = "æ³¨æ„é‡å†™set getçš„è¿”å›ž" print(secondPeople.des()) // ChenJiançš„èƒ½åŠ›å€¼666ä»–æ˜¯ç¾Žå›½ðŸ‡ºðŸ‡¸äºº é‡å†™å±žæ€§è§‚å¯Ÿå™¨ å¯ä»¥ä¸ºç»§æ‰¿æ¥çš„å˜é‡å‚¨å€¼å±žæ€§æ·»åŠ å±žæ€§è§‚å¯Ÿå™¨å¯ä»¥å€¼é‡å†™didSetæˆ–willSet didSetclass AustraliansPeople: People &#123; var richInt = 1 override var abilityInt: Int&#123; didSet&#123; richInt = Int(abilityInt*2)+2; &#125; &#125; //é‡å†™æ‰“å°æ–¹æ³• override func des() -&gt; String &#123; return super.des()+"è´¢å¯ŒæŒ‡æ ‡\(richInt)" &#125;&#125; æ‰“å°let thirdPeople = AustraliansPeople.init() thirdPeople.abilityInt = 5 print(thirdPeople.des()) //YueKekuiçš„èƒ½åŠ›å€¼5è´¢å¯ŒæŒ‡æ ‡12 é˜²æ­¢é‡å†™ é€šè¿‡æŠŠæ–¹æ³•ã€å±žæ€§æˆ–ä¸‹æ ‡æ ‡è®°ä¸ºfinalæ¥é˜²æ­¢å®ƒä»¬è¢«é‡å†™åœ¨æ‰©å±•ä¸­ï¼Œæ·»åŠ åˆ°ç±»é‡Œçš„æ–¹æ³•ã€å±žæ€§æˆ–ä¸‹æ ‡ä¹Ÿå¯ä»¥åœ¨æ‰©å±•çš„å®šä¹‰é‡Œæ ‡è®°ä¸ºfinalå¯ä»¥åœ¨classå‰æ·»åŠ finalæ¥å°†æ•´ä¸ªå®šä¹‰ä¸ºä¸èƒ½é‡å†™ï¼Œè¿™æ ·çš„ç±»æ˜¯ä¸å¯ç»§æ‰¿çš„]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITableView]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FUITableView%2F</url>
    <content type="text"><![CDATA[UITableViewå£°æ˜ŽtableView:UITableViewå˜é‡var kSize=UIScreen.main.bounds;var _tableView:UITableView! //tableViewvar data :[(String,String)] = [("å¯¥å¯¥","æœ‰ç‚¹ç»¿"),("å¢Gaygay","æœ‰ç‚¹Gay"),("222","2---2"),("333","3--3")] //æ•°æ®æº å£°æ˜ŽtableViewçš„æ•°æ®æºçš„ä»£ç†åè®®class ViewController: UIViewController,UITableViewDataSource,UITableViewDelegate &#123; MARK: è®¾ç½®tableViewfunc makeTableView() &#123; _tableView = UITableView.init(frame: CGRect(x: 0.0, y: 64, width: kSize.width, height: kSize.height-64), style:.plain) self.view.addSubview(_tableView); // æ·»åŠ tableView _tableView.dataSource = self; _tableView.delegate = self; _tableView.showsVerticalScrollIndicator = false _tableView.showsHorizontalScrollIndicator = false _tableView.tableFooterView = UIView() //tableFooter&#125; MARK: å®žçŽ°tableView.dataSourceåè®®ä¸­æ–¹æ³•MARK: è¡Œfunc tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int &#123; return data.count;&#125; MARK: Cellfunc tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell &#123; var cell = tableView.dequeueReusableCell(withIdentifier: "é™ˆå»º") if cell == nil &#123; cell = UITableViewCell(style:UITableViewCellStyle.default,reuseIdentifier:"é™ˆå»º") &#125; let btn:UIButton = UIButton.init(type:UIButtonType.custom) btn.frame = CGRect(x:UIScreen.main.bounds.width - 100, y:10, width:80, height:50) btn.backgroundColor = UIColor.red; btn.setTitle("btnæ ‡é¢˜", for: UIControlState.normal) btn.setTitleColor(UIColor.blue, for: UIControlState.normal) btn.tag = indexPath.row btn.addTarget(self, action:#selector(clickBtnAction), for: .touchUpInside) cell?.textLabel?.text = data[indexPath.row].0; cell?.contentView.addSubview(btn); cell?.accessoryType=UITableViewCellAccessoryType.disclosureIndicator return cell!&#125; MARK: cell- é«˜åº¦func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -&gt; CGFloat &#123; return 66;&#125; å¤´éƒ¨é«˜åº¦func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat &#123; return 0.01&#125; åº•éƒ¨é«˜åº¦func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -&gt; CGFloat &#123; return 0.01&#125; é€‰ä¸­cellæ—¶è§¦å‘public func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath)&#123; print("indexPath.row = SelectRow ç¬¬\(indexPath.row)è¡Œ")&#125; å–æ¶ˆé€‰ä¸­cellæ—¶public func tableView(_ tableView: UITableView, didDeselectRowAt indexPath: IndexPath)&#123; print("indexPath.row = DeselectRow ç¬¬\(indexPath.row)è¡Œ")&#125; å…è®¸ç¼–è¾‘cellfunc tableView(_ tableView: UITableView, canEditRowAt indexPath: IndexPath) -&gt; Bool &#123; return true&#125; å³æ»‘è§¦å‘åˆ é™¤æŒ‰é’®func tableView(_ tableView: UITableView, editingStyleForRowAt indexPath: IndexPath) -&gt; UITableViewCellEditingStyle &#123; return UITableViewCellEditingStyle.init(rawValue: 1)!&#125; ç‚¹å‡»åˆ é™¤cellæ—¶è§¦å‘func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCellEditingStyle, forRowAt indexPath: IndexPath) &#123; print("indexPath.row = editingStyleç¬¬\(indexPath.row)è¡Œ")&#125; ç‚¹å‡»btnçš„æ–¹æ³• func clickBtnAction (sender:UIButton)&#123; print("ç‚¹å‡»äº† btn") &#125;&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITableView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITableView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC-Error-AFN]]></title>
    <url>%2F2017%2F12%2F07%2FOC%2FCode%2FOC-Code-Error-AFN%2F</url>
    <content type="text"><![CDATA[ä¸æŽ¥å—è¿”å›žç±»åž‹ è§£å†³æ–¹æ¡ˆï¼š AFURLResponseSerialization.mä¸­ï¼Œ228è¡Œå·¦å³æŠŠ è¿™å¥ï¼š self.acceptableContentTypes = [NSSet setWithObjects:@&quot;application/json&quot;, @&quot;text/json&quot;, @&quot;text/javascript&quot;, nil];ä¿®æ”¹ä¸ºï¼šself.acceptableContentTypes = [NSSet setWithObjects:@&quot;application/json&quot;, @&quot;text/json&quot;, @&quot;text/javascript&quot;,@&quot;text/html&quot;, nil];åœ¨è¿›è¡Œç½‘ç»œè¯·æ±‚æ—¶å‡ºçŽ°-1016 æ˜¯å› ä¸ºåªæ”¯æŒtext/jsonï¼Œapplication/jsonï¼Œtext/javascript 3840é”™è¯¯ Error Domain=NSCocoaErrorDomain Code=3840 &quot;Invalid value around character 64.&quot; UserInfo=&#123;NSDebugDescription=Invalid value around character 64.&#125;æœåŠ¡å™¨æ²¡æœ‰è¿”å›žjsonæ•°æ®]]></content>
      <categories>
        <category>OC</category>
        <category>Error</category>
        <category>AFN</category>
      </categories>
      <tags>
        <tag>Error</tag>
        <tag>OC</tag>
        <tag>AFN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-ç½‘ç»œçŠ¶å†µä¾¦æµ‹]]></title>
    <url>%2F2017%2F12%2F07%2FOC%2FFunc%2FiOS-Func-%E7%BD%91%E7%BB%9C%E7%8A%B6%E5%86%B5%E4%BE%A6%E6%B5%8B%2F</url>
    <content type="text"><![CDATA[å®˜æ–¹ç¤ºä¾‹ç¨‹åº å°†Reachability.h å’Œ Reachability.m åŠ åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­å¹¶å¼•ç”¨ SystemConfiguration.framework ç½‘ç»œçš„å‡ ç§çŠ¶æ€// the network state of the device for Reachability 2.0.typedef enum &#123; NotReachable = 0, //æ— è¿žæŽ¥ ReachableViaWiFi, //ä½¿ç”¨3G/GPRSç½‘ç»œ ReachableViaWWAN //ä½¿ç”¨WiFiç½‘ç»œ&#125; NetworkStatus; è¿ç”¨ #import "ViewController.h"#import "Reachability.h"@interface ViewController ()@property (nonatomic, strong) UIAlertController *alertVC;@end@implementation ViewController- (void)viewDidLoad &#123; [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. // åˆ›å»ºç½‘ç»œæŽ¢æµ‹å¯¹è±¡ Reachability *reach = [Reachability reachabilityWithHostName:@"www.baidu.com"]; // æƒ³é€šçŸ¥ä¸­å¿ƒæ³¨å†Œé€šçŸ¥ [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(networkChange:) name:kReachabilityChangedNotification object:nil]; // å¼€å¯é€šçŸ¥ç›‘æŽ§ [reach startNotifier]; &#125;// ç½‘ç»œçŠ¶å†µå‘ç”Ÿæ”¹å˜åŽï¼Œæ‰§è¡Œè¯¥æ–¹æ³•- (void)networkChange:(NSNotification *)noti &#123; self.alertVC = [UIAlertController alertControllerWithTitle:@"ç½‘ç»œæç¤º" message:@"å½“å‰ç½‘ç»œçŠ¶å†µæœ‰å˜æ›´" preferredStyle:UIAlertControllerStyleAlert]; UIAlertAction *action1 = [UIAlertAction actionWithTitle:@"ç¡®å®š" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) &#123; [_alertVC dismissViewControllerAnimated:YES completion:nil]; &#125;]; [_alertVC addAction:action1]; Reachability * reach = [noti object]; // åˆ¤æ–­å½“å‰ç½‘ç»œæ˜¯å¦å¯è¾¾ï¼Œå¯è¾¾åˆ™ç»§ç»­åŽè¾¹çš„åˆ¤æ–­ï¼šé€šè¿‡å“ªç§é€”å¾„åˆ°è¾¾ï¼Œä¸å¯è¾¾ï¼Œç›´æŽ¥è¿”å›žï¼Œä¸å†æ‰§è¡ŒåŽè¾¹çš„ä»£ç  if ([reach isReachable]) &#123; NSLog(@"ç½‘ç»œå¯è¾¾"); &#125; else &#123; NSLog(@"ç½‘ç»œæœ‰æ•…éšœ"); _alertVC.message = @"å½“å‰ç½‘ç»œæœ‰æ•…éšœ"; [self presentViewController:_alertVC animated:YES completion:nil]; return; &#125; if ([reach isReachableViaWiFi]) &#123; NSLog(@"é€šè¿‡WIFIåˆ°è¾¾"); _alertVC.message = @"å½“å‰ç½‘ç»œæ˜¯æ— çº¿ç½‘,ä¸ºæ‚¨åŠ è½½é«˜æ¸…èµ„æº"; [self presentViewController:_alertVC animated:YES completion:nil]; &#125; else if ([reach isReachableViaWWAN]) &#123; NSLog(@"é€šè¿‡åŸºç«™åˆ°è¾¾"); _alertVC.message = @"å½“å‰ç½‘ç»œæ˜¯æµé‡ï¼Œæ­£åœ¨ä¸ºæ‚¨èŠ‚çœæµé‡"; [self presentViewController:_alertVC animated:YES completion:nil]; &#125; else &#123; NSLog(@"é€šè¿‡å…¶ä»–åˆ°è¾¾"); _alertVC.message = @"å½“å‰ä½¿ç”¨æœªçŸ¥ç½‘ç»œ"; [self presentViewController:_alertVC animated:YES completion:nil]; &#125;&#125;- (void)didReceiveMemoryWarning &#123; [super didReceiveMemoryWarning]; // Dispose of any resources that can be recreated.&#125;@end]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIWebView/WKWebView]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FSwift-UIKit-UIWebView-WKWebView%2F</url>
    <content type="text"><![CDATA[UIWebView UIWebViewåŠŸèƒ½å¼ºå¤§ï¼Œé™¤äº†èƒ½å¤Ÿæ˜¾ç¤ºé¡µé¢ä¹‹å¤–ï¼Œè¿˜èƒ½æ˜¾ç¤ºHTMLè¯­è¨€ï¼ŒCSSï¼ŒPPTï¼ŒWordç­‰ç­‰ï¼Œå…¶ç”¨æ³•ä¹Ÿç®€å• åˆ›å»ºlet webView = UIWebView.init(frame:self.view.frame) ##æ·»åŠ self.view.addSubview(webView) åŠ è½½ç½‘é¡µwebView.loadRequest(NSURLRequest(url:NSURL.init(string:"http://www.jianshu.com/u/1acf2b5a2f69") as! URL) as URLRequest) è„šæœ¬æ³¨å…¥let jsPath = NSBundle.mainBundle().pathForResource("app", ofType: "js") èŽ·å–åˆ°è„šæœ¬ä¸­çš„å†…å®¹var jsString :String = try! String(contentsOfFile: jsPath!, encoding: 4)//å°†èŽ·å¾—çš„æ–‡æœ¬å†…å®¹åŽé¢çš„\næ›¿æ¢ä¸ºç©ºçš„å­—ç¬¦ä¸²jsString = jsString.stringByReplacingOccurrencesOfString("\n", withString: "") è§¦å‘è„šæœ¬webView.stringByEvaluatingJavaScriptFromString(jsString as String) webView.scalesPageToFit æœ‰ç‚¹æ—¶å€™æˆ‘ä»¬åŠ è½½çš„ç½‘é¡µé¡µé¢æ¯”è¾ƒå¤§çš„è¯ æ˜¯æ— æ³•çš„å®Œå…¨æ˜¾ç¤ºåœ¨webViewä¸Šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦è°ƒèŠ‚webViewçš„scalesPageToFitå±žæ€§æ¥å®žçŽ°é¡µé¢é€‚åº”webViewåŒºåŸŸçš„æ•ˆæžœ webView.scalesPageToFit = true dataDetectorTypes æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®webViewçš„dataDetectorTypeså±žæ€§æ¥è¯†åˆ«å‡ºç½‘é¡µä¸Šçš„ç”µè¯å·ç ï¼Œè¶…é“¾æŽ¥ï¼Œé‚®ç®±ç­‰ä¸€äº›ç‰¹æ®Šä¿¡æ¯ï¼Œåœ¨æˆ‘ä»¬å¯¹å…¶è¿›è¡Œç›¸å…³æ“ä½œçš„æ—¶å€™å¯ä»¥å‡ºå‘å…³è”äº‹ä»¶ webView.dataDetectorTypes = .address//dataDetectorTypesåŒ…å«ä»¥ä¸‹ç±»åž‹ï¼špublic struct UIDataDetectorTypes : OptionSet &#123; public init(rawValue: UInt) public static var phoneNumber: UIDataDetectorTypes &#123; get &#125; // Phone number detection public static var link: UIDataDetectorTypes &#123; get &#125; // URL detection @available(iOS 4.0, *) public static var address: UIDataDetectorTypes &#123; get &#125; // Street address detection @available(iOS 4.0, *) public static var calendarEvent: UIDataDetectorTypes &#123; get &#125; // Event detection @available(iOS 10.0, *) public static var shipmentTrackingNumber: UIDataDetectorTypes &#123; get &#125; // Shipment tracking number detection @available(iOS 10.0, *) public static var flightNumber: UIDataDetectorTypes &#123; get &#125; // Flight number detection @available(iOS 10.0, *) public static var lookupSuggestion: UIDataDetectorTypes &#123; get &#125; // Information users may want to look up public static var all: UIDataDetectorTypes &#123; get &#125; // Enable all types, including types that may be added later&#125; UIWebViewåœ¨åŠ è½½ç½‘é¡µçš„æ—¶å€™æœ‰ä¸€äº›å¯¹åº”çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œæ£€æµ‹ï¼šé¦–å…ˆå®žçŽ°å…¶ä»£ç†ï¼šUIWebViewDelegateç„¶åŽè®¾ç½®å…¶ä»£ç†å¯¹è±¡ï¼š webView.delegate = self; å®žçŽ°ä»£ç†æ–¹æ³•ï¼š public protocol UIWebViewDelegate : NSObjectProtocol &#123;//é“¾æŽ¥åœ°å€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™è°ƒç”¨ @available(iOS 2.0, *) optional public func webView(_ webView: UIWebView, shouldStartLoadWith request: URLRequest, navigationType: UIWebViewNavigationType) -&gt; Bool//å¼€å§‹åŠ è½½ @available(iOS 2.0, *) optional public func webViewDidStartLoad(_ webView: UIWebView)//å®ŒæˆåŠ è½½ @available(iOS 2.0, *) optional public func webViewDidFinishLoad(_ webView: UIWebView)//åŠ è½½å¤±è´¥ @available(iOS 2.0, *) optional public func webView(_ webView: UIWebView, didFailLoadWithError error: Error)&#125; å¯ä»¥å¯¹webViewåŠ è½½çŠ¶æ€è¿›è¡ŒæŽ§åˆ¶ï¼Œæ¯”å¦‚ï¼šåœæ­¢åŠ è½½ï¼Œç»§ç»­åŠ è½½ç­‰ï¼Œå…¶è®¾ç½®æ–¹æ³•ä¸ºï¼š //é‡æ–°åŠ è½½- (void)reload;//åœæ­¢åŠ è½½- (void)stopLoading;//è¿”å›ž- (void)goBack;//å‰å¾€- (void)goForward; ä»¥ä¸‹æ˜¯UIWebViewå¯¹äºŽHTMLè¯­è¨€ï¼Œæœ¬åœ°æ–‡ä»¶ç­‰ä¿¡æ¯çš„åŠ è½½ï¼š //åŠ è½½HTMLæ–‡æœ¬- (void)loadHTMLString:(NSString *)string baseURL:(nullable NSURL *)baseURL;//åŠ è½½Dataç±»åž‹- (void)loadData:(NSData *)data MIMEType:(NSString *)MIMEType textEncodingName:(NSString *)textEncodingName baseURL:(NSURL *)baseURL;//å®žçŽ°ä¸ŽJSçš„äº¤äº’- (nullable NSString *)stringByEvaluatingJavaScriptFromString:(NSString *)script; WKWebView ä½¿ç”¨æ–¹æ³• //åˆ›å»ºlet wkWebView = WKWebView()//è®¾ç½®ä½ç½®å’Œå¤§å°wkWebView.frame = self.view.frame;//åˆ›å»ºçš„æ—¶å€™å°±è®¾ç½®ä½ç½®å’Œå¤§å°/* public init(frame: CGRect, configuration: WKWebViewConfiguration)*/let webview = WKWebView(frame: CGRectMake(0, 0, self.view.frame.width, self.view.frame.height))//æ·»åŠ self.view.addSubview(wkWebView)//è¯·æ±‚/* open func load(_ request: URLRequest) -&gt; WKNavigation?*/wkWebView.load(NSURLRequest(url: NSURL(string:"http://www.baidu.com") as! URL) as URLRequest) WKWebViewçš„ä»£ç†æ–¹æ³•ï¼šWKNavigationDelegateé€šè¿‡WKNavigationDelegateæä¾›çš„ä»£ç†æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è¿½è¸ªWKWebViewåŠ è½½çš„è¿‡ç¨‹ /é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, didStartProvisionalNavigation navigation: WKNavigation!)// é¡µé¢åŠ è½½å¤±è´¥æ—¶è°ƒç”¨ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, didFailProvisionalNavigation navigation: WKNavigation!, withError error: Error)// å½“å†…å®¹å¼€å§‹è¿”å›žæ—¶è°ƒç”¨ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, didCommit navigation: WKNavigation!)// é¡µé¢åŠ è½½å®Œæˆä¹‹åŽè°ƒç”¨ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) é¡µé¢è·³è½¬çš„ä»£ç†æ–¹æ³•æœ‰ä¸‰ç§ï¼Œåˆ†ä¸ºï¼ˆæ”¶åˆ°è·³è½¬ä¸Žå†³å®šæ˜¯å¦è·³è½¬ä¸¤ç§ï¼‰ // æŽ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åŽè°ƒç”¨ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, didReceiveServerRedirectForProvisionalNavigation navigation: WKNavigation!)// åœ¨å‘é€è¯·æ±‚ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, decidePolicyFor navigationAction: WKNavigationAction, decisionHandler: @escaping (WKNavigationActionPolicy) -&gt; Swift.Void)// åœ¨æ”¶åˆ°å“åº”åŽï¼Œå†³å®šæ˜¯å¦è·³è½¬ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, decidePolicyFor navigationResponse: WKNavigationResponse, decisionHandler: @escaping (WKNavigationResponsePolicy) -&gt; Swift.Void)//webå†…å®¹è§†å›¾è¢«ç»ˆæ­¢çš„æ—¶å€™è§¦å‘ @available(iOS 9.0, *) optional public func webViewWebContentProcessDidTerminate(_ webView: WKWebView) WKUIDelegate / åˆ›å»ºä¸€ä¸ªæ–°çš„WebView @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, createWebViewWith configuration: WKWebViewConfiguration, for navigationAction: WKNavigationAction, windowFeatures: WKWindowFeatures) -&gt; WKWebView? webç•Œé¢çš„ä¸‰ç§æç¤ºæ¡†ï¼ˆè­¦å‘Šæ¡†ã€ç¡®è®¤æ¡†ã€è¾“å…¥æ¡†ï¼‰åˆ†åˆ«å¯¹åº”ä¸‰ç§ä»£ç†æ–¹æ³• /** * webç•Œé¢ä¸­æœ‰å¼¹å‡ºè­¦å‘Šæ¡†æ—¶è°ƒç”¨ * @param webView å®žçŽ°è¯¥ä»£ç†çš„webview * @param message è­¦å‘Šæ¡†ä¸­çš„å†…å®¹ * @param frame ä¸»çª—å£ * @param completionHandler è­¦å‘Šæ¡†æ¶ˆå¤±è°ƒç”¨ */ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, runJavaScriptAlertPanelWithMessage message: String, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping () -&gt; Swift.Void)/** * webç•Œé¢ä¸­æœ‰å¼¹å‡ºç¡®è®¤æ¡†æ—¶è°ƒç”¨ * @param webView å®žçŽ°è¯¥ä»£ç†çš„webview * @param message ç¡®è®¤æ¡†ä¸­çš„å†…å®¹ * @param frame ä¸»çª—å£ * @param completionHandler ç¡®è®¤æ¡†æ¶ˆå¤±è°ƒç”¨ */ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, runJavaScriptConfirmPanelWithMessage message: String, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping (Bool) -&gt; Swift.Void)/** * webç•Œé¢ä¸­æœ‰å¼¹å‡ºè¾“å…¥æ¡†æ—¶è°ƒç”¨ * @param webView å®žçŽ°è¯¥ä»£ç†çš„webview * @param message è¾“å…¥æ¡†ä¸­çš„å†…å®¹ * @param frame ä¸»çª—å£ * @param completionHandler è¾“å…¥æ¡†æ¶ˆå¤±è°ƒç”¨ */ @available(iOS 8.0, *) optional public func webView(_ webView: WKWebView, runJavaScriptTextInputPanelWithPrompt prompt: String, defaultText: String?, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping (String?) -&gt; Swift.Void) WKScriptMessageHandler @available(iOS 8.0, *) public func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) è¿™ä¸ªæ–¹æ³•æ˜¯WKscriptMessageHandleråè®®ä¸­å¿…é¡»å®žçŽ°çš„æ–¹æ³•ï¼Œæ˜¯æé«˜Appä¸Žwebç«¯äº¤äº’çš„å…³é”®ï¼Œå®ƒå¯ä»¥ç›´æŽ¥å°†æŽ¥æ”¶åˆ°çš„JSè„šæœ¬è½¬ä¸ºOCæˆ–Swiftå¯¹è±¡èŽ·å–ç½‘é¡µæ ‡é¢˜éœ€è¦éµå®ˆWKNavigationDelegateåè®®å¹¶è®¾ç½®ï¼šwebview.navigationDelegate = selfç½‘é¡µåŠ è½½å®Œçš„æ—¶å€™æˆ‘ä»¬èƒ½èŽ·å–ç½‘é¡µçš„æ ‡é¢˜ï¼Œæ‰€ä»¥è¿™ä¸ªæ­¥éª¤åº”è¯¥å†™åœ¨ç½‘é¡µçŠ¶æ€åŠ è½½å®Œæˆçš„æ–¹æ³•é‡Œé¢ï¼š func webView(webView: WKWebView, didFinishNavigation navigation: WKNavigation!) &#123; //print(self.webview.title) &#125; èŽ·å–å½“å‰ç½‘é¡µçš„url func webView(webView: WKWebView, decidePolicyForNavigationAction navigationAction:WKNavigationAction, decisionHandler: (WKNavigationActionPolicy) -&gt;Void) &#123; var urlString:NSString! = navigationAction.request.URL?.absoluteStringdecisionHandler(WKNavigationActionPolicy.Allow)//ä¸€å®šè¦åŠ ä¸Šè¿™ä¸€å¥ä»£ç ä¸ç„¶ä¼šå‡ºå¼‚å¸¸ &#125; å‰è¿›ï¼ŒåŽé€€ï¼Œåœæ­¢ã€‚ã€‚ã€‚WKWebViewæƒ³UIWebViewä¸€æ ·ï¼Œå¯ä»¥èŽ·å–ä¸€äº›çŠ¶æ€ï¼Œä»¥åŠè¿›è¡Œå¯¹åº”æ“ä½œ open func reload()//é‡æ–°åŠ è½½open func stopLoading()//åœæ­¢åŠ è½½ open func goBack()//è¿”å›žopen func goForward()//å‰è¿› //èƒ½ä¸èƒ½åŽé€€ å‰å¾€ åŠ è½½open var canGoBack: Bool &#123; get &#125;open var canGoForward: Bool &#123; get &#125;open var isLoading: Bool &#123; get &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIWebView/WKWebView</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIImageView]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FUIImageView%2F</url>
    <content type="text"><![CDATA[UIImageViewåˆ›å»ºçš„æ—¶å€™ç›´æŽ¥è®¾ç½®å›¾ç‰‡let imageView = UIImageView(image:UIImage(named:"girl")) å…ˆåˆ›å»ºå‡ºå¯¹è±¡å†è®¾ç½®å›¾ç‰‡let imageView1 = UIImageView()imageView1.image = UIImage(named:"girl") å›¾ç‰‡èŽ·å– ä»Žæ–‡ä»¶ç›®å½•ä¸­èŽ·å–å›¾ç‰‡ let path = Bundle.main.path(forResource:"girl", ofType: "png")let newImage = UIImage(contentsOfFile: path!) ç½‘ç»œåœ°å€èŽ·å–å›¾ç‰‡ let url = URL(string:"http://image.cnpp.cn/upload/images/20160905/09380421552_400x300.jpg")let data = try! Data(contentsOf: url!)let smallImage = UIImage(data: data)//imageView1.image = smallImagelet imageView1 = UIImageView(image:smallImage) å›¾ç‰‡æ˜¾ç¤ºå¡«å……æ ·å¼imageView1.contentMode = UIViewContentMode.scaleAspectFit å¯¹äºŽUIImageViewçš„å›¾ç‰‡å¡«å……æ ·å¼æœ‰å¤šç§public enum UIViewContentMode : Int &#123;case scaleToFillcase scaleAspectFit // contents scaled to fit with fixed aspect. remainder is transparentcase scaleAspectFill // contents scaled to fill with fixed aspect. some portion of content may be clipped.case redraw // redraw on bounds change (calls -setNeedsDisplay)case center // contents remain same size. positioned adjusted.case topcase bottomcase leftcase rightcase topLeftcase topRightcase bottomLeftcase bottomRight&#125; åˆ†ç»„å›¾ç‰‡è½®å±• UIImageViewä¸­æœ‰è®¾ç½®å¤šå¼ å›¾ç‰‡ä¸€å—å±•ç¤ºçš„åŠŸèƒ½ï¼Œç±»ä¼¼äºŽå¹»ç¯ç‰‡çš„è‡ªåŠ¨æ’­æ”¾ã€‚å…¶å®žçŽ°è¿‡ç¨‹å¦‚ä¸‹ï¼š //è®¾ç½®å›¾ç‰‡æ•°ç»„imageView1.animationImages = [UIImage(named:"2")!,UIImage(named:"3")!]//æ‰€æœ‰å›¾ç‰‡å±•ç¤ºå®Œä¸€éçš„æ€»æ—¶é•¿imageView1.animationDuration = 2//å¼€å§‹imageView1.startAnimating()//ç»“æŸimageView1.stopAnimating() æ·»åŠ ç‚¹å‡»äº‹ä»¶ UIImageViewå’ŒUILabelç±»ä¼¼ï¼Œå…¶ç”¨æˆ·äº¤äº’é»˜è®¤å…³é—­ï¼Œæˆ‘ä»¬è¦ç»™å…¶æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦æ‰“å¼€å…¶ç”¨æˆ·äº¤äº’ imageView1.isUserInteractionEnabled = truelet tapGestureRecognizer = UITapGestureRecognizer(target: self, action:#selector(ViewController.tapGestureRecognizer(sender:)))imageView1.addGestureRecognizer(tapGestureRecognizer)func tapGestureRecognizer(sender:UITapGestureRecognizer) &#123; //code&#125; å±žæ€§è®¾ç½® //è¾¹æ¡†è®¾ç½®imageView.layer.borderColor = UIColor.redColor().CGColorimageView.layer.borderWidth = 2//åœ†è§’çš„è®¾ç½®imageView.layer.cornerRadius = 150imageView.layer.masksToBounds = trueUIImageViewç»§æ‰¿UIViewï¼Œå¾ˆå¤šå¸¸è§çš„å±žæ€§åœ¨æ­¤å°±ä¸åˆ—ä¸¾ã€‚ã€‚]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIImageView</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIImageView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UISegmentedControl-åˆ†æ®µé€‰æ‹©æŽ§ä»¶]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FUISegmentedControl-%E5%88%86%E6%AE%B5%E9%80%89%E6%8B%A9%E6%8E%A7%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[UISegmentedControl ç»§æ‰¿è‡ªUIControl åˆ†æ®µé€‰é¡¹æ˜¾ç¤º###åˆå§‹åŒ–æ•°æ®æº let items = ["è§å“¥1","è§å“¥2",UIImage(named:"1")!] as [Any] åˆå§‹åŒ–å¯¹è±¡let segmentedControl = UISegmentedControl(items:items) è®¾ç½®ä½ç½®segmentedControl.center = self.view.center å½“å‰é€‰ä¸­ä¸‹æ ‡segmentedControl.selectedSegmentIndex = 1 ##æ·»åŠ äº‹ä»¶ segmentedControl.addTarget(self, action: #selector(segmentedControlChanged), for: UIControlEvents.valueChanged) æ·»åŠ self.view.addSubview(segmentedControl) é€‰æ‹©ç‚¹å‡»åŽçš„äº‹ä»¶func segmentedControlChanged(sender:UISegmentedControl) &#123; print(sender.selectedSegmentIndex) print(sender.titleForSegment(at: sender.selectedSegmentIndex))&#125; æ·»åŠ åˆ é™¤é€‰é¡¹ UISegmentedControlæ¯ä¸ªé€‰é¡¹çš„å®½åº¦åœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šæ ¹æ®é€‰é¡¹çš„ä¸ªæ•°è‡ªåŠ¨åˆ†é…ï¼Œè€Œä¸ªæ•°åœ¨åˆå§‹åŒ–æŽ§ä»¶ä¹‹åŽå¯ä»¥æ·»åŠ å’Œåˆ é™¤ æ·»åŠ å›¾ç‰‡é€‰é¡¹segmentedControl.insertSegment(with: UIImage(named:"2"), at: 0, animated: true) æ·»åŠ æ–‡å­—é€‰é¡¹segmentedControl.insertSegment(withTitle: "è§å“¥0", at: 1, animated: true) ç§»é™¤åˆ¶å®šä¸‹æ ‡çš„é€‰é¡¹segmentedControl.removeSegment(at: 1, animated: true) ç§»å‡ºæ‰€æœ‰segmentsegment.removeAllSegments() é¢œè‰²è®¾å®šsegmentedControl.tintColor = UIColor.red èŽ·å–é¢œè‰²var segmentColor = segment.tintColor æ˜¾ç¤ºæ–‡å­—ä¿®æ”¹segmented.setTitle("swfit", forSegmentAt:1) èŽ·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹çš„æ ‡é¢˜var title = segment.titleForSegmentAtIndex(1) ä¿®æ”¹é€‰é¡¹å›¾ç‰‡segmented.setImage(UIImage(named:"icon"), forSegmentAt:2) èŽ·å–æŸä¸€ä¸ªä¸‹æ ‡ä¸‹å¾—å›¾ç‰‡var image = segment.imageForSegmentAtIndex(2) ä¿®æ”¹é€‰é¡¹å†…å®¹åç§»ä½ç½®segmented.setContentOffset(CGSize(width:10, height:7), forSegmentAt:1) å®½åº¦ UISegmentedControlæ¯ä¸ªé€‰é¡¹çš„å®½åº¦åœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šæ ¹æ®é€‰é¡¹çš„ä¸ªæ•°è‡ªåŠ¨åˆ†é…ï¼Œä½†æ˜¯æœ‰æ—¶å€™æ ¹æ®é¡¹ç›®æƒ…å†µçš„éœ€è¦ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥æ‰‹åŠ¨æ¥è¿›è¡Œè®¾ç½®/èŽ·å–çš„ã€‚ è®¾ç½®æŒ‡å®šä¸‹æ ‡é€‰é¡¹çš„å®½åº¦segmentedControl.setWidth(10, forSegmentAt: 1) èŽ·å–æŸä¸€ä¸ªä¸‹æ ‡segmentçš„å®½åº¦var width = segment.widthForSegmentAtIndex(2) æ˜¯å¦æ ¹æ®segmentçš„å†…å®¹æ”¹å˜segmentçš„å®½åº¦segment.apportionsSegmentWidthsByContent = true ###momentaryå±žæ€§ åˆ†æ®µé€‰æ‹©æŽ§ä»¶åœ¨ç‚¹å‡»ä¹‹åŽä¸€ç›´å¤„äºŽé€‰ä¸­çŠ¶æ€ï¼Œé™¤éžç‚¹å‡»å…¶ä»–åˆ†æ®µï¼Œæ‰æ¢å¤ã€‚ momentaryå±žæ€§ç”¨æ¥è®¾ç½®æ˜¯å¦ä¸€ç›´ä¿æŒé€‰ä¸­çŠ¶æ€ï¼Œå½“è®¾ç½®ä¸ºYESæ—¶ï¼Œç‚¹å‡»é€‰ä¸­ï¼Œä½†ä¸€ä¼šå°±æ˜¯æ¢å¤åˆ°æ­£å¸¸çŠ¶æ€segment.momentary = true]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISegmentedControl</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UISegmentedControl</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UISwitch]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FUISwitch%2F</url>
    <content type="text"><![CDATA[UISwitch ç»§æ‰¿è‡ªUIControl UISwitchçš„å¤§å°æ˜¯ç¡®å®šçš„ä¸èƒ½è¿›è¡Œä¿®æ”¹ 51*31let switchOne = UISwitch(frame:CGRect(x:10.0, y:100.0, width:0.0,height: 0.0))self.view.addSubview(switchOne)switchOne.backgroundColor = UIColor .yellow; è®¾ç½®æ‰“å¼€çŠ¶æ€èƒŒæ™¯é¢œè‰²switchOne.onTintColor = UIColor.brown è®¾ç½®å…³é—­çŠ¶æ€çš„èƒŒæ™¯é¢œè‰²switchOne.tintColor = UIColor.orange å¼€å…³å¿«çš„é¢œè‰²switchOne.thumbTintColor = UIColor.red è®¾ç½®å¼€å…³çŠ¶æ€switchOne.setOn(true, animated: true) æ·»åŠ æŒ‰é’®äº‹ä»¶switchOne.addTarget(self, action: #selector(ViewController.switchOneValueChanged(sender:)), for: UIControlEvents.valueChanged) çŠ¶æ€æ”¹å˜ä¹‹åŽçš„æ‰§è¡Œæ–¹æ³•func switchOneValueChanged(sender:UISwitch) &#123; print("æˆ‘æ˜¯ä¸€ä¸ªå¸…å“¥ï¼Œä½ ä¿¡ä¸ï¼Ÿvalue=%d",sender.isOn)&#125;switchOne.onImage = UIImage(named:"1")switchOne.offImage = UIImage(named:"2")]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISwitch</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UISwitch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIStepper]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FUIStepper%2F</url>
    <content type="text"><![CDATA[UIStepperåˆ›å»º+framelet stepper = UIStepper()stepper.center = self.view.center è®¾ç½®æœ€å¤§å’Œæœ€å°å€¼stepper.maximumValue = 10stepper.minimumValue = 1 å½“å‰å€¼stepper.value = 1 æ¯æ¬¡å˜åŒ–çš„å•ä½stepper.stepValue = 1 æŒ‰ä½çš„æ—¶å€™è¿žç»­å˜åŒ–stepper.isContinuous = true æ˜¯å¦å¾ªçŽ¯ å½“å¢žé•¿åˆ°æœ€å¤§å€¼çš„æ—¶å€™å†ä»Žæ–°å¼€å§‹stepper.wraps = true æ”¹å˜äº‹ä»¶æ·»åŠ stepper.addTarget(self, action:#selector(ViewController.stepperChanged(stepper:)), for: UIControlEvents.valueChanged)func stepperChanged(stepper:UIStepper) &#123; print("æˆ‘æ˜¯ä¸€ä¸ªå¸…å“¥ï¼Œä½ ä¿¡ä¸ï¼Ÿvalue=%d",stepper.value)&#125;self.view.addSubview(stepper) è®¾ç½®é¢œè‰²stepper.tintColor = UIColor.green è®¾ç½®imgstepper.setDecrementImage(UIImage(named:"1"), for: .normal)stepper.setIncrementImage(UIImage(named:"1"), for: .normal)]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIStepper</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UIStepper</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swiftâ€”UIKit-UISlider]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FUISlider%2F</url>
    <content type="text"><![CDATA[UISlideråˆ›å»º+framelet slider = UISlider()slider.frame = CGRect(x: 50, y: 100, width: 200, height: 50) ##æœ€å°/å¤§å€¼ slider.minimumValue = 0slider.maximumValue = 1 å½“å‰å€¼ï¼ˆåœ¨å–å€¼èŒƒå›´ä¹‹å†…çš„ä½ç½®ï¼‰slider.value = 0.5 ##æŒ‰é’®æœ€å°/å¤§ç«¯å›¾ç‰‡slider.minimumValueImage = UIImage(named:"SSS")slider.maximumValueImage = UIImage(named:"DDD") ä¸åŒçŠ¶æ€ä¹‹ä¸‹ï¼Œåœ†ç‚¹æ˜¾ç¤ºå›¾ç‰‡slider.setThumbImage(UIImage(named:""), for: .normal)slider.setThumbImage(UIImage(named:""), for: .highlighted)slider.setThumbImage(UIImage(named:""), for: .disabled)slider.setThumbImage(UIImage(named:""), for: .selected) ##è®¾ç½®åœ†ç‚¹çš„é¢œè‰² slider.thumbTintColor = UIColor.red è®¾ç½®åˆ’è¿‡å’Œæ²¡æœ‰åˆ’è¿‡é¢œè‰²ï¼ˆåœ†ç‚¹å·¦/å³ï¼‰slider.minimumTrackTintColor = UIColor.yellowslider.maximumTrackTintColor = UIColor.brown æ”¹å˜äº‹ä»¶ æ»‘å—æ»‘åŠ¨åœæ­¢åŽæ‰è§¦å‘ValueChangedäº‹ä»¶ slider.isContinuous = falseslider.addTarget(self, action: #selector(ViewController.change(slider:)), for: UIControlEvents.valueChanged)slider.addTarget(self, action: #selector(ViewController.sliderDragUp(sender:)), for: UIControlEvents.touchUpInside)func change(slider:UISlider) &#123; print("slider.value = %d",slider.value)&#125;func sliderDragUp(sender: UISlider) &#123; print("value:(sender.value)")&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UISlider</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UISlider</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UITextField]]></title>
    <url>%2F2017%2F12%2F07%2FSwift%2FUIKit%2FSwift-UIKit-UITextField%2F</url>
    <content type="text"><![CDATA[æ–‡æœ¬è¾“å…¥æ¡† åˆ›å»º+frame let textField = UITextField(frame: CGRect(x:10, y:60, width:200, height:30))// let textField = UITextField()// textField.frame = CGRect(x:20,y:30,width:100,height:30) è®¾ç½®è¾¹æ¡†æ ·å¼ä¸ºåœ†è§’çŸ©å½¢ textField.borderStyle = UITextBorderStyle.roundedRectself.view.addSubview(textField) æ–‡æœ¬è¾“å…¥æ¡†çš„è¾¹æ¡†æ ·å¼ public enum UITextBorderStyle : Int &#123; case none æ— è¾¹æ¡† case line ç›´çº¿è¾¹æ¡† case bezel åœ†è§’çŸ©å½¢è¾¹æ¡† case roundedRect è¾¹çº¿+é˜´å½±&#125; æ–‡æœ¬è¾“å…¥æ¡†çš„æç¤ºæ–‡å­— textField.placeholder = "è¯·è¾“å…¥ç›¸å…³ä¿¡æ¯" æ–‡å­—å¤§å°è¶…è¿‡æ–‡æœ¬æ¡†é•¿åº¦æ—¶è‡ªåŠ¨ç¼©å°å­—å·ï¼Œè€Œä¸æ˜¯éšè—æ˜¾ç¤ºçœç•¥å· textField.adjustsFontSizeToFitWidth=true //å½“æ–‡å­—è¶…å‡ºæ–‡æœ¬æ¡†å®½åº¦æ—¶ï¼Œè‡ªåŠ¨è°ƒæ•´æ–‡å­—å¤§å°textField.minimumFontSize=14 //æœ€å°å¯ç¼©å°çš„å­—å· æ°´å¹³/åž‚ç›´å¯¹é½æ–¹å¼ /** æ°´å¹³å¯¹é½ **/textField.textAlignment = .right //æ°´å¹³å³å¯¹é½textField.textAlignment = .center //æ°´å¹³å±…ä¸­å¯¹é½textField.textAlignment = .left //æ°´å¹³å·¦å¯¹é½ /** åž‚ç›´å¯¹é½ **/textField.contentVerticalAlignment = .top //åž‚ç›´å‘ä¸Šå¯¹é½textField.contentVerticalAlignment = .center //åž‚ç›´å±…ä¸­å¯¹é½textField.contentVerticalAlignment = .bottom //åž‚ç›´å‘ä¸‹å¯¹é½ èƒŒæ™¯å›¾ç‰‡è®¾ç½® textField.borderStyle = .none //å…ˆè¦åŽ»é™¤è¾¹æ¡†æ ·å¼textField.background = UIImage(named:"background1") æ¸…é™¤æŒ‰é’®ï¼ˆè¾“å…¥æ¡†å†…å³ä¾§å°å‰ï¼‰ textField.clearButtonMode = .whileEditing //ç¼–è¾‘æ—¶å‡ºçŽ°æ¸…é™¤æŒ‰é’®textField.clearButtonMode = .unlessEditing //ç¼–è¾‘æ—¶ä¸å‡ºçŽ°ï¼Œç¼–è¾‘åŽæ‰å‡ºçŽ°æ¸…é™¤æŒ‰é’®textField.clearButtonMode = .always //ä¸€ç›´æ˜¾ç¤ºæ¸…é™¤æŒ‰é’® é”®ç›˜ç±»åž‹ Defaultï¼š ç³»ç»Ÿé»˜è®¤çš„è™šæ‹Ÿé”®ç›˜ASCII Capableï¼š æ˜¾ç¤ºè‹±æ–‡å­—æ¯çš„è™šæ‹Ÿé”®ç›˜Numbers and Punctuationï¼šæ˜¾ç¤ºæ•°å­—å’Œæ ‡ç‚¹çš„è™šæ‹Ÿé”®ç›˜URLï¼š æ˜¾ç¤ºä¾¿äºŽè¾“å…¥urlç½‘å€çš„è™šæ‹Ÿé”®ç›˜Number Padï¼š æ˜¾ç¤ºä¾¿äºŽè¾“å…¥æ•°å­—çš„è™šæ‹Ÿé”®ç›˜Phone Padï¼š æ˜¾ç¤ºä¾¿äºŽæ‹¨å·å‘¼å«çš„è™šæ‹Ÿé”®ç›˜Name Phone Padï¼š æ˜¾ç¤ºä¾¿äºŽèŠå¤©æ‹¨å·çš„è™šæ‹Ÿé”®ç›˜Email Addressï¼š æ˜¾ç¤ºä¾¿äºŽè¾“å…¥Emailçš„è™šæ‹Ÿé”®ç›˜Decimal Padï¼š æ˜¾ç¤ºç”¨äºŽè¾“å…¥æ•°å­—å’Œå°æ•°ç‚¹çš„è™šæ‹Ÿé”®ç›˜Twitterï¼š æ˜¾ç¤ºæ–¹ä¾¿äº›Twitterçš„è™šæ‹Ÿé”®ç›˜Web Searchï¼š æ˜¾ç¤ºä¾¿äºŽåœ¨ç½‘é¡µä¸Šä¹¦å†™çš„è™šæ‹Ÿé”®ç›˜ è®¾ç½®æ–‡æœ¬æ¡†å…³è”çš„é”®ç›˜ textField.keyboardType = UIKeyboardType.numberPad ä½¿æ–‡æœ¬æ¡†å¤±åŽ»ç„¦ç‚¹ï¼Œå¹¶æ”¶å›žé”®ç›˜ textField.resignFirstResponder() è®¾ç½®é”®ç›˜returné”®çš„æ ·å¼ extField.returnKeyType = UIReturnKeyType.done //è¡¨ç¤ºå®Œæˆè¾“å…¥textField.returnKeyType = UIReturnKeyType.go //è¡¨ç¤ºå®Œæˆè¾“å…¥ï¼ŒåŒæ—¶ä¼šè·³åˆ°å¦ä¸€é¡µtextField.returnKeyType = UIReturnKeyType.search //è¡¨ç¤ºæœç´¢textField.returnKeyType = UIReturnKeyType.join //è¡¨ç¤ºæ³¨å†Œç”¨æˆ·æˆ–æ·»åŠ æ•°æ®textField.returnKeyType = UIReturnKeyType.next //è¡¨ç¤ºç»§ç»­ä¸‹ä¸€æ­¥textField.returnKeyType = UIReturnKeyType.send //è¡¨ç¤ºå‘é€ é”®ç›˜returné”®çš„å“åº” import UIKitclass ViewController: UIViewController,UITextFieldDelegate &#123; override func viewDidLoad() &#123; super.viewDidLoad() let textField = UITextField(frame: CGRect(x:10,y:160,width:200,height:30)) //è®¾ç½®è¾¹æ¡†æ ·å¼ä¸ºåœ†è§’çŸ©å½¢ textField.borderStyle = UITextBorderStyle.roundedRect textField.returnKeyType = UIReturnKeyType.done textField.delegate=self self.view.addSubview(textField) &#125; func textFieldShouldReturn(_ textField: UITextField) -&gt; Bool &#123; //æ”¶èµ·é”®ç›˜ textField.resignFirstResponder() //æ‰“å°å‡ºæ–‡æœ¬æ¡†ä¸­çš„å€¼ print(textField.text) return true; &#125;&#125; è¾“å…¥/æ˜¾ç¤ºæ–‡æœ¬å­—ä½“çš„é¢œè‰² textField.textColor = UIColor.cyan æ–‡æœ¬æ¡†çš„å­—ä½“å¤§å°è®¾ç½® //text.font = [UIFont fontWithName:@"Arial" size:20.0f]; //è®¾ç½®è¾“å…¥æ¡†å†…å®¹çš„å­—ä½“æ ·å¼å’Œå¤§å°textField.font = UIFont.systemFont(ofSize: 14) æ–‡æœ¬è¾“å…¥æ¡†çš„ä»£ç†è®¾ç½®ï¼ˆéµå®ˆUITextFieldDelegateåè®®ï¼‰ class ViewController: UIViewController,UITextFieldDelegate &#123;textField.delegate = self è¾“å…¥æ¡†çš„èƒŒæ™¯é¢œè‰² text.backgroundColor = [UIColor whiteColor]//è®¾ç½®è¾“å…¥æ¡†çš„èƒŒæ™¯é¢œè‰²ï¼Œæ­¤æ—¶è®¾ç½®ä¸ºç™½è‰² å¦‚æžœä½¿ç”¨äº†è‡ªå®šä¹‰çš„èƒŒæ™¯å›¾ç‰‡è¾¹æ¡†ä¼šè¢«å¿½ç•¥æŽ‰ ~~~ è¾“å…¥æ¡†ä¸­ä¸€å¼€å§‹å°±æœ‰çš„æ–‡å­— text.text = @"æ–‡å­—"; æ˜¯å¦è‡ªåŠ¨çº é”™ text.autocorrectionType = UITextAutocorrectionTypeNo å‡ ç§é€‰æ‹©æ ·å¼typedef enum &#123; UITextAutocorrectionTypeDefault, é»˜è®¤ UITextAutocorrectionTypeNo, ä¸è‡ªåŠ¨çº é”™ UITextAutocorrectionTypeYes, è‡ªåŠ¨çº é”™&#125; UITextAutocorrectionType; å†æ¬¡ç¼–è¾‘å°±æ¸…ç©º text.clearsOnBeginEditing = YES é¦–å­—æ¯æ˜¯å¦è‡ªåŠ¨å¤§ text.autocapitalizationType = UITextAutocapitalizationTypeNone;typedef enum &#123; UITextAutocapitalizationTypeNone, ä¸è‡ªåŠ¨å¤§å†™ UITextAutocapitalizationTypeWords, å•è¯é¦–å­—æ¯å¤§å†™ UITextAutocapitalizationTypeSentences, å¥å­çš„é¦–å­—æ¯å¤§å†™ UITextAutocapitalizationTypeAllCharacters, æ‰€æœ‰å­—æ¯éƒ½å¤§å†™&#125; UITextAutocapitalizationType; é”®ç›˜å¤–è§‚ textView.keyboardAppearance=UIKeyboardAppearanceDefault typedef enum &#123; UIKeyboardAppearanceDefaultï¼Œ é»˜è®¤å¤–è§‚ï¼Œæµ…ç°è‰² UIKeyboardAppearanceAlertï¼Œ æ·±ç° çŸ³å¢¨è‰²&#125; UIReturnKeyType; æœ€å³ä¾§åŠ å›¾ç‰‡æ˜¯ä»¥ä¸‹ä»£ç ï¼ˆå·¦ä¾§ç±»ä¼¼ï¼‰ UIImageView *image=[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"right.png"]] //text.rightView=image;text.rightViewMode = UITextFieldViewModeAlwaystypedef enum &#123; UITextFieldViewModeNever, UITextFieldViewModeWhileEditing, UITextFieldViewModeUnlessEditing, UITextFieldViewModeAlways&#125; UITextFieldViewMode; é‡å†™ç»˜åˆ¶è¡Œä¸ºé™¤äº†UITextFieldå¯¹è±¡çš„é£Žæ ¼é€‰é¡¹ï¼Œä½ è¿˜å¯ä»¥å®šåˆ¶åŒ–UITextFieldå¯¹è±¡ï¼Œä¸ºä»–æ·»åŠ è®¸å¤šä¸åŒçš„é‡å†™æ–¹æ³•ï¼Œæ¥æ”¹å˜æ–‡æœ¬å­—æ®µçš„æ˜¾ç¤ºè¡Œä¸ºã€‚è¿™äº›æ–¹æ³•éƒ½ä¼šè¿”å›žä¸€ä¸ªCGRectç»“æž„ï¼Œåˆ¶å®šäº†æ–‡æœ¬å­—æ®µæ¯ä¸ªéƒ¨ä»¶çš„è¾¹ç•ŒèŒƒå›´ã€‚ä»¥ä¸‹æ–¹æ³•éƒ½å¯ä»¥é‡å†™ â€“ textRectForBounds: //é‡å†™æ¥é‡ç½®æ–‡å­—åŒºåŸŸâ€“ drawTextInRect: //æ”¹å˜ç»˜æ–‡å­—å±žæ€§.é‡å†™æ—¶è°ƒç”¨superå¯ä»¥æŒ‰é»˜è®¤å›¾å½¢å±žæ€§ç»˜åˆ¶,è‹¥è‡ªå·±å®Œå…¨é‡å†™ç»˜åˆ¶å‡½æ•°ï¼Œå°±ä¸ç”¨è°ƒç”¨superäº†.â€“ placeholderRectForBounds: //é‡å†™æ¥é‡ç½®å ä½ç¬¦åŒºåŸŸâ€“ drawPlaceholderInRect: //é‡å†™æ”¹å˜ç»˜åˆ¶å ä½ç¬¦å±žæ€§.é‡å†™æ—¶è°ƒç”¨superå¯ä»¥æŒ‰é»˜è®¤å›¾å½¢å±žæ€§ç»˜åˆ¶,è‹¥è‡ªå·±å®Œå…¨é‡å†™ç»˜åˆ¶å‡½æ•°ï¼Œå°±ä¸ç”¨è°ƒç”¨superäº†.â€“ borderRectForBounds: //é‡å†™æ¥é‡ç½®è¾¹ç¼˜åŒºåŸŸâ€“ editingRectForBounds: //é‡å†™æ¥é‡ç½®ç¼–è¾‘åŒºåŸŸâ€“ clearButtonRectForBounds: //é‡å†™æ¥é‡ç½®clearButtonä½ç½®,æ”¹å˜sizeå¯èƒ½å¯¼è‡´buttonçš„å›¾ç‰‡å¤±çœŸâ€“ leftViewRectForBounds:â€“ rightViewRectForBounds: å§”æ‰˜æ–¹æ³• (BOOL)textFieldShouldBeginEditing:(UITextField *)textField&#123;//è¿”å›žä¸€ä¸ªBOOLå€¼ï¼ŒæŒ‡å®šæ˜¯å¦å¾ªåºæ–‡æœ¬å­—æ®µå¼€å§‹ç¼–è¾‘return YES;&#125;(void)textFieldDidBeginEditing:(UITextField *)textField&#123;//å¼€å§‹ç¼–è¾‘æ—¶è§¦å‘ï¼Œæ–‡æœ¬å­—æ®µå°†æˆä¸ºfirst responder&#125;(BOOL)textFieldShouldEndEditing:(UITextField *)textField&#123;//è¿”å›žBOOLå€¼ï¼ŒæŒ‡å®šæ˜¯å¦å…è®¸æ–‡æœ¬å­—æ®µç»“æŸç¼–è¾‘ï¼Œå½“ç¼–è¾‘ç»“æŸï¼Œæ–‡æœ¬å­—æ®µä¼šè®©å‡ºfirst responder//è¦æƒ³åœ¨ç”¨æˆ·ç»“æŸç¼–è¾‘æ—¶é˜»æ­¢æ–‡æœ¬å­—æ®µæ¶ˆå¤±ï¼Œå¯ä»¥è¿”å›žNO//è¿™å¯¹ä¸€äº›æ–‡æœ¬å­—æ®µå¿…é¡»å§‹ç»ˆä¿æŒæ´»è·ƒçŠ¶æ€çš„ç¨‹åºå¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚å³æ—¶æ¶ˆæ¯return NO;&#125;(BOOL)textField:(UITextField*)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string&#123;//å½“ç”¨æˆ·ä½¿ç”¨è‡ªåŠ¨æ›´æ­£åŠŸèƒ½ï¼ŒæŠŠè¾“å…¥çš„æ–‡å­—ä¿®æ”¹ä¸ºæŽ¨èçš„æ–‡å­—æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚//è¿™å¯¹äºŽæƒ³è¦åŠ å…¥æ’¤é”€é€‰é¡¹çš„åº”ç”¨ç¨‹åºç‰¹åˆ«æœ‰ç”¨//å¯ä»¥è·Ÿè¸ªå­—æ®µå†…æ‰€åšçš„æœ€åŽä¸€æ¬¡ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥å¯¹æ‰€æœ‰ç¼–è¾‘åšæ—¥å¿—è®°å½•,ç”¨ä½œå®¡è®¡ç”¨é€”ã€‚//è¦é˜²æ­¢æ–‡å­—è¢«æ”¹å˜å¯ä»¥è¿”å›žNO//è¿™ä¸ªæ–¹æ³•çš„å‚æ•°ä¸­æœ‰ä¸€ä¸ªNSRangeå¯¹è±¡ï¼ŒæŒ‡æ˜Žäº†è¢«æ”¹å˜æ–‡å­—çš„ä½ç½®ï¼Œå»ºè®®ä¿®æ”¹çš„æ–‡æœ¬ä¹Ÿåœ¨å…¶ä¸­return YES;&#125;(BOOL)textFieldShouldClear:(UITextField *)textField&#123;//è¿”å›žä¸€ä¸ªBOOLå€¼æŒ‡æ˜Žæ˜¯å¦å…è®¸æ ¹æ®ç”¨æˆ·è¯·æ±‚æ¸…é™¤å†…å®¹//å¯ä»¥è®¾ç½®åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰å…è®¸æ¸…é™¤å†…å®¹return YES;&#125;-(BOOL)textFieldShouldReturn:(UITextField *)textField&#123;//è¿”å›žä¸€ä¸ªBOOLå€¼ï¼ŒæŒ‡æ˜Žæ˜¯å¦å…è®¸åœ¨æŒ‰ä¸‹å›žè½¦é”®æ—¶ç»“æŸç¼–è¾‘//å¦‚æžœå…è®¸è¦è°ƒç”¨resignFirstResponder æ–¹æ³•ï¼Œè¿™å›žå¯¼è‡´ç»“æŸç¼–è¾‘ï¼Œè€Œé”®ç›˜ä¼šè¢«æ”¶èµ·[textField resignFirstResponder];//æŸ¥ä¸€ä¸‹resignè¿™ä¸ªå•è¯çš„æ„æ€å°±æ˜Žç™½è¿™ä¸ªæ–¹æ³•äº†return YES;&#125; é€šçŸ¥ UITextFieldæ´¾ç”Ÿè‡ªUIControlï¼Œæ‰€ä»¥UIControlç±»ä¸­çš„é€šçŸ¥ç³»ç»Ÿåœ¨æ–‡æœ¬å­—æ®µä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚é™¤äº†UIControlç±»çš„æ ‡å‡†äº‹ä»¶ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ä¸‹åˆ—UITextFieldç±»ç‰¹æœ‰çš„äº‹ä»¶UITextFieldTextDidBeginEditingNotificationUITextFieldTextDidChangeNotificationUITextFieldTextDidEndEditingNotificationå½“æ–‡æœ¬å­—æ®µé€€å‡ºç¼–è¾‘æ¨¡å¼æ—¶è§¦å‘ã€‚é€šçŸ¥çš„objectå±žæ€§å­˜å‚¨äº†æœ€ç»ˆæ–‡æœ¬ã€‚å› ä¸ºæ–‡æœ¬å­—æ®µè¦ä½¿ç”¨é”®ç›˜è¾“å…¥æ–‡å­—ï¼Œæ‰€ä»¥ä¸‹é¢è¿™äº›äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä¹Ÿä¼šå‘é€åŠ¨ä½œé€šçŸ¥UIKeyboardWillShowNotification //é”®ç›˜æ˜¾ç¤ºä¹‹å‰å‘é€UIKeyboardDidShowNotification //é”®ç›˜æ˜¾ç¤ºä¹‹åŽå‘é€UIKeyboardWillHideNotification //é”®ç›˜éšè—ä¹‹å‰å‘é€UIKeyboardDidHideNotification //é”®ç›˜éšè—ä¹‹åŽå‘é€//æ·»åŠ é€šçŸ¥æ–¹æ³•NSNotificationCenter.defaultCenter().addObserver(self, selector: Selector("textFiledEditChanged:"), name: UITextFieldTextDidChangeNotification, object: textfield) é™åˆ¶åªèƒ½è¾“å…¥ç‰¹å®šçš„å­—ç¬¦ -(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string&#123;NSCharacterSet *cs;cs = [[NSCharacterSet characterSetWithCharactersInString:NUMBERS]invertedSet];NSString *filtered = [[string componentsSeparatedByCharactersInSet:cs]componentsJoinedByString:@""];//æŒ‰csåˆ†ç¦»å‡ºæ•°ç»„,æ•°ç»„æŒ‰@""åˆ†ç¦»å‡ºå­—ç¬¦ä¸²BOOL canChange = [string isEqualToString:filtered];return canChange;&#125;ä¸Šé¢è¿™ä¸ªNUMBERSæ˜¯ä¸€ä¸ªå®ï¼Œå¯ä»¥åœ¨æ–‡ä»¶é¡¶éƒ¨å®šä¹‰ï¼šdefine NUMBERS @â€0123456789\nâ€å¦‚æžœä½ è¦é™åˆ¶è¾“å…¥è‹±æ–‡å’Œæ•°å­—çš„è¯ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªå®šä¹‰ä¸ºï¼šdefine kAlphaNum @â€ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789â€³ é™åˆ¶åªèƒ½è¾“å…¥ä¸€å®šé•¿åº¦çš„å­—ç¬¦ (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string;&#123; //stringå°±æ˜¯æ­¤æ—¶è¾“å…¥çš„é‚£ä¸ªå­—ç¬¦ textFieldå°±æ˜¯æ­¤æ—¶æ­£åœ¨è¾“å…¥çš„é‚£ä¸ªè¾“å…¥æ¡† è¿”å›žYESå°±æ˜¯å¯ä»¥æ”¹å˜è¾“å…¥æ¡†çš„å€¼ NOç›¸åif ([string isEqualToString:@"\n"]) //æŒ‰ä¼šè½¦å¯ä»¥æ”¹å˜&#123;return YES;&#125;NSString * toBeString = [textField.text stringByReplacingCharactersInRange:range withString:string];//å¾—åˆ°è¾“å…¥æ¡†çš„å†…å®¹if (self.myTextField == textField) //åˆ¤æ–­æ˜¯å¦æ—¶æˆ‘ä»¬æƒ³è¦é™å®šçš„é‚£ä¸ªè¾“å…¥æ¡†&#123;if ([toBeString length] &gt; 20) &#123; //å¦‚æžœè¾“å…¥æ¡†å†…å®¹å¤§äºŽ20åˆ™å¼¹å‡ºè­¦å‘ŠtextField.text = [toBeString substringToIndex:20];UIAlertView *alert = [[[UIAlertView alloc] initWithTitle:nil message:@"è¶…è¿‡æœ€å¤§å­—æ•°ä¸èƒ½è¾“å…¥äº†" delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil] autorelease];[alert show];return NO;&#125;&#125;return YES;&#125;//è®¾ç½®èƒ½ä¸èƒ½è¿›è¡Œç¼–è¾‘/ç”¨æˆ·äº¤äº’çš„å¼€å…³textfield.enabled = truetextfield.userInteractionEnabled = true//è®¾ç½®åœ†è§’å±žæ€§textField.layer.cornerRadius = 10.0textField.layer.masksToBounds = true//è‡ªå®šä¹‰è¾“å…¥æºæŽ§ä»¶let inputview = UIButton(frame: CGRectMake(0.0, 0.0, CGRectGetWidth(self.view.bounds), 100.0))inputview.setImage(UIImage(named: "normalImage"), forState: UIControlState.Normal)inputview.backgroundColor = UIColor.lightGrayColor()inputview.addTarget(self, action: Selector("click:"), forControlEvents: UIControlEvents.TouchUpInside)textfield.inputView = inputview// è‡ªå®šä¹‰è¾“å…¥æºæŽ§ä»¶å‰¯è§†å›¾let accessoryview = UIView(frame: CGRectMake(0.0, 0.0, CGRectGetWidth(self.view.bounds), 40.0))accessoryview.backgroundColor = UIColor.greenColor()let accessoryLeft = UIButton(frame: CGRectMake(10.0, 10.0, 60.0, 20.0))accessoryview.addSubview(accessoryLeft)accessoryLeft.setTitle("å–æ¶ˆ", forState: UIControlState.Normal)accessoryLeft.backgroundColor = UIColor.orangeColor()accessoryLeft.addTarget(self, action: Selector("leftClick:"), forControlEvents: UIControlEvents.TouchUpInside)let accessoryRight = UIButton(frame: CGRectMake((CGRectGetWidth(accessoryview.bounds) - 10.0 - 60.0), 10.0, 60.0, 20.0))accessoryview.addSubview(accessoryRight)accessoryRight.setTitle("ç¡®å®š", forState: UIControlState.Normal)accessoryRight.backgroundColor = UIColor.orangeColor()accessoryRight.addTarget(self, action: Selector("rightClick:"), forControlEvents: UIControlEvents.TouchUpInside)textfield.inputAccessoryView = accessoryview// è‡ªå®šä¹‰è¾“å…¥æºæŽ§ä»¶æ—¶å“åº”äº‹ä»¶// MARK: - clickfunc click(button:UIButton)&#123;self.view.endEditing(true)&#125;//MARK: - left/right clickfunc leftClick(button:UIButton)&#123;print("å–æ¶ˆ")&#125;func rightClick(button:UIButton)&#123;self.view.endEditing(true)print("ç¡®å®š")&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UITextField</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UITextField</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UIButton]]></title>
    <url>%2F2017%2F12%2F06%2FSwift%2FUIKit%2FUIButton%2F</url>
    <content type="text"><![CDATA[UIButton UIButtonç»§æ‰¿è‡ªUIControl åˆ›å»ºbtnlet btn: UIButton = UIButton() //æ²¡æœ‰æ ·å¼//let btns:UIButton =UIButton(type: UIButtonType)//æœ‰æ ·å¼//let button = UIButton(frame:CGRect(x:10, y:150, width:100, height:30))//ç®€åŒ–åˆ›å»ºæ–¹å¼self.view.addSubview(button) UIButtonTypeæœ‰ä»¥ä¸‹ç±»åž‹public enum UIButtonType : Int &#123; case custom // no button type @available(iOS 7.0, *) case system // standard system button case detailDisclosure case infoLight case infoDark case contactAdd public static var roundedRect: UIButtonType &#123; get &#125; // Deprecated, use UIButtonTypeSystem instead&#125;//ä½¿ç”¨let btn: UIButton = UIButton(type: .Custom) UIButtonè®¾ç½®å­—å†…å®¹å’Œé¢œè‰² UIButtonæ‰€å¯¹åº”çš„çŠ¶æ€æœ‰å‡ ç§ /** Normal (é»˜è®¤çŠ¶æ€) Highlighted ï¼ˆé«˜äº®çŠ¶æ€ï¼‰ç‚¹å‡»æŒ‰é’®ä¸æ”¾ Disabled ï¼ˆä½¿èƒ½çŠ¶æ€ï¼‰å°±æ˜¯æ˜¯å¦å¯ç”¨çŠ¶æ€--&gt;ç¦ç”¨çš„çŠ¶æ€æ‰ä¼šæ˜¾çŽ° Selected ï¼ˆé€‰ä¸­çŠ¶æ€ï¼‰é€šè¿‡selectedå±žæ€§è®¾ç½® */ /æ˜¾ç¤ºæ–‡å­—button1.setTitle("æ™®é€šçŠ¶æ€", for: .normal)button1.setTitle("é«˜ç²±çŠ¶æ€", for: .highlighted)button1.setTitle("ç¦ç”¨çŠ¶æ€", for: .disabled)//æ˜¾ç¤ºæ–‡å­—é¢œè‰²button1.setTitleColor(UIColor.red, for: .normal)button1.setTitleColor(UIColor.blue, for: .highlighted)button1.setTitleColor(UIColor.cyan, for: .selected)button1.setTitleColor(UIColor.cyan, for: .disabled)//é˜´å½±æ–‡å­—é¢œè‰²è®¾ç½®button1.setTitleShadowColor(UIColor.cyan, for: .normal)button1.setTitleShadowColor(UIColor.green, for: .highlighted)button1.setTitleShadowColor(UIColor.brown, for: .disabled)button1.setTitleShadowColor(UIColor.darkGray, for: .selected) UIButtonè®¾ç½®èƒŒæ™¯é¢œè‰²å’ŒèƒŒæ™¯å›¾ç‰‡ //èƒŒæ™¯é¢œè‰²button2.backgroundColor = UIColor.orange//èƒŒæ™¯å›¾ç‰‡ button4.setBackgroundImage(UIImage(named:"XXX"), for: .normal) UIButtonè®¾ç½®å­—ä½“å¤§å°button.titleLabel?.font = UIFont.systemFont(ofSize: 12) ç¦ç”¨UIButton button.isEnabled = falsebutton.isEnabled = true è®¾ç½®åœ†è§’ button.layer.cornerRadius = 5button.layer.masksToBounds = true è®¾ç½®è¾¹æ¡†å®½åº¦/é¢œè‰² button.layer.borderWidth = 2button.layer.borderColor = UIColor.red.cgColor è®¾ç½®èƒŒæ™¯å›¾ç‰‡ä¸ºåœ†è§’ buttonImage.setImage(UIImage(named:"1") , forState: UIControlState.Normal)//è®¾ç½®èƒŒæ™¯å›¾ç‰‡ä¸ºåœ†è§’buttonImage.imageView?.layer.cornerRadius = 50é»˜è®¤æƒ…å†µä¸‹æŒ‰é’®ä¼šè¢«æ¸²æŸ“æˆå•ä¸€é¢œè‰²ï¼›ç³»ç»Ÿè“button.setImage(UIImage(named:"icon1"),forState:.Normal) //è®¾ç½®å›¾æ ‡button.adjustsImageWhenHighlighted=false //ä½¿è§¦æ‘¸æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜Žï¼‰button.adjustsImageWhenDisabled=false //ä½¿ç¦ç”¨æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜Žï¼‰ä¹Ÿå¯ä»¥è®¾ç½®æˆä¿ç•™å›¾æ ‡åŽŸæ¥çš„é¢œè‰²let iconImage = UIImage(named:"icon2")?.withRenderingMode(.alwaysOriginal)button.setImage(iconImage, for:.normal) //è®¾ç½®å›¾æ ‡button.adjustsImageWhenHighlighted = false //ä½¿è§¦æ‘¸æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜Žï¼‰button.adjustsImageWhenDisabled = false //ä½¿ç¦ç”¨æ¨¡å¼ä¸‹æŒ‰é’®ä¹Ÿä¸ä¼šå˜æš—ï¼ˆåŠé€æ˜Žï¼‰ UIButtonä¸Šå›¾ç‰‡å’Œæ–‡å­—è°ƒæ•´ UIButtonä¸Šæ·»åŠ å›¾ç‰‡å’Œæ–‡å­—ï¼Œæœ‰æ—¶éœ€è¦æˆ‘ä»¬è°ƒæ•´,æ–¹å‘ä¸ºé€†æ—¶é’ˆæ–¹å‘ï¼Œä¸Šã€å·¦ã€ä¸‹ã€å³ä¾æ¬¡åŽ»è®¾ç½®çš„ btn.imageEdgeInsets =UIEdgeInsetsMake(top: CGFloat, left: CGFloat, bottom: CGFloat, right: CGFloat)btn.titleEdgeInsets =UIEdgeInsetsMake(top: CGFloat, left: CGFloat, bottom: CGFloat, right: CGFloat) //åˆ›å»ºä¸€ä¸ªå›¾ç‰‡ä¸€ä¸ªæ–‡å­—çš„æŒ‰é’® let btn2: UIButton = UIButton(type: .Custom) btn2.frame = CGRectMake(50, 100, 120, 35) btn2.setImage(UIImage(named: "1"), forState: .Normal) btn2.backgroundColor = UIColor.blackColor() btn2.titleLabel?.font = UIFont.systemFontOfSize(20) btn2.imageView?.contentMode = UIViewContentMode.ScaleAspectFit btn2.setTitle("å›¾ç‰‡æŒ‰é’®", forState: .Normal) //åç§»é‡ï¼Œåˆ†åˆ«ä¸ºä¸Šä¸‹å·¦å³ btn2.imageEdgeInsets = UIEdgeInsetsMake(0, -50, 0, 0) btn2.titleEdgeInsets = UIEdgeInsetsMake(0, -80, 0, 5) btn2.setTitleColor(UIColor.whiteColor(), forState: .Normal) btn2.adjustsImageWhenHighlighted = false self.view.addSubview(btn2) æ·»åŠ æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ æŒ‰é’®çš„è§¦æ‘¸æ—¶é—´æœ‰ä»¥ä¸‹ç±»åž‹ touchDownï¼šå•ç‚¹è§¦æ‘¸æŒ‰ä¸‹äº‹ä»¶ï¼Œç‚¹è§¦å±å¹•touchDownRepeatï¼šå¤šç‚¹è§¦æ‘¸æŒ‰ä¸‹äº‹ä»¶ï¼Œç‚¹è§¦è®¡æ•°å¤§äºŽ1ï¼ŒæŒ‰ä¸‹ç¬¬2ã€3æˆ–ç¬¬4æ ¹æ‰‹æŒ‡çš„æ—¶å€™touchDragInsideï¼šè§¦æ‘¸åœ¨æŽ§ä»¶å†…æ‹–åŠ¨æ—¶touchDragOutsideï¼šè§¦æ‘¸åœ¨æŽ§ä»¶å¤–æ‹–åŠ¨æ—¶touchDragEnterï¼šè§¦æ‘¸ä»ŽæŽ§ä»¶ä¹‹å¤–æ‹–åŠ¨åˆ°å†…éƒ¨æ—¶touchDragExitï¼šè§¦æ‘¸ä»ŽæŽ§ä»¶å†…éƒ¨æ‹–åŠ¨åˆ°å¤–éƒ¨æ—¶touchUpInsideï¼šåœ¨æŽ§ä»¶ä¹‹å†…è§¦æ‘¸å¹¶æŠ¬èµ·äº‹ä»¶touchUpOutsideï¼šåœ¨æŽ§ä»¶ä¹‹å¤–è§¦æ‘¸æŠ¬èµ·äº‹ä»¶touchCancelï¼šè§¦æ‘¸å–æ¶ˆäº‹ä»¶ï¼Œå³ä¸€æ¬¡è§¦æ‘¸å› ä¸ºæ”¾ä¸Šå¤ªå¤šæ‰‹æŒ‡è€Œè¢«å–æ¶ˆï¼Œæˆ–è€…ç”µè¯æ‰“æ–­ button1.addTarget(self,action:#selector(methodName), for: .touchUpInside)button1.addTarget(self, action:#selector(someMethod(button:)), for:.touchUpInside)//ä¸Š func methodName() &#123; print("tapped") &#125;//ä¸‹ func someMethod(button:UIButton) &#123; print("ä½ æ˜¯è°å•Šï¼Œå…¶å®žå°±æ˜¯ä¸€ä¸ªæŒ‰é’®") &#125; æŒ‰é’®æ–‡å­—è¿‡é•¿æ—¶å€™çš„æ˜¾ç¤ºå¤„ç† ä¿®æ”¹ button æŒ‰é’®ä¸­ titleLabel çš„ lineBreakMode å±žæ€§ï¼Œä¾¿å¯ä»¥è°ƒæ•´æŒ‰é’®åœ¨æ–‡å­—è¶…é•¿çš„æƒ…å†µä¸‹å¦‚ä½•æ˜¾ç¤ºï¼Œä»¥åŠæ˜¯å¦æ¢è¡Œ let button = UIButton(frame:CGRect(x:20, y:50, width:130, height:50))button.setTitle("è¿™ä¸ªæ˜¯ä¸€é•¿é•¿é•¿é•¿é•¿é•¿é•¿é•¿é•¿é•¿çš„æ–‡å­—", for:.normal) //æ™®é€šçŠ¶æ€ä¸‹çš„æ–‡å­—button.setTitleColor(UIColor.white, for: .normal) //æ™®é€šçŠ¶æ€ä¸‹æ–‡å­—çš„é¢œè‰²button.titleLabel?.lineBreakMode = .byTruncatingTailbutton.backgroundColor = UIColor.orangeself.view.addSubview(button) NSLineBreakModeæ ·å¼å¯ä¾›é€‰æ‹©ï¼ŒAPIçš„ä»‹ç»ä¹Ÿæ˜¯ç®€å•æ˜Ž public enum NSLineBreakMode : Int &#123; case byWordWrapping // Wrap at word boundaries, default case byCharWrapping // Wrap at character boundaries case byClipping // Simply clip case byTruncatingHead // Truncate at head of line: "...wxyz" case byTruncatingTail // Truncate at tail of line: "abcd..." case byTruncatingMiddle // Truncate middle of line: "ab...yz"&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UIButton</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIButton</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-UILabel]]></title>
    <url>%2F2017%2F12%2F06%2FSwift%2FUIKit%2FUILabel%2F</url>
    <content type="text"><![CDATA[lab åˆ›å»º&amp;&amp; è®¾ç½®frame let lab = UILabel(frame:CGRect(x:10,y:100,width:self.view.frame.size.width - 40,height:200)) æˆ– let lab = UILabel()lab.frame = CGRect(x:10,y:100,width:self.view.frame.size.width - 40,height:200) æ·»åŠ çˆ¶å±‚ self.view.addSubview(lab); æ˜¾ç¤ºæ–‡æœ¬å†…å®¹ lab.text = "chen jian !" è®¾ç½®bgé¢œè‰² lab.backgroundColor = UIColor.green æ–‡å­—é¢œè‰² lab.textColor = UIColor.white æ–‡å­—å¯¹é½æ–¹å¼ lab.textAlignment = NSTextAlignment.left é«˜äº®æ–‡å­—é¢œè‰² lab.highlightedTextColor = UIColor.cyan é˜´å½±é¢œè‰² lab.shadowColor = UIColor.black é˜´å½±åç§»ä½ç½® lab.shadowOffset = CGSize(width:-5,height:5) è®¾ç½®åœ†è§’ lab.layer.cornerRadius = 20lab.layer.masksToBounds = true è¾¹æ¡†çš„å®½åº¦å’Œé¢œè‰² lab.layer.borderColor = UIColor.green.cgColorlab.layer.borderWidth = 2 æ–‡å­—ç±»åž‹/å¤§å° lab.font = UIFont.boldSystemFont(ofSize: 20) //åŠ ç²—ç±»åž‹lab.font = UIFont.systemFont(ofSize: 20) //æ–‡å­—å¤§å°lab.font = UIFont.italicSystemFont(ofSize: 20)//æ–œä½“ç±»åž‹lab.font = UIFont(name:"æ‚¨å¥½",size:50) //å¤§å°å’Œæ–‡å­—ä¸€èµ·è®¾ç½® æ˜¾ç¤ºdeæ ·å¼ lab.lineBreakMode = NSLineBreakMode.byCharWrapping // NSParagraphStyle@available(iOS 6.0, *)public enum NSLineBreakMode : Int &#123;case byWordWrapping // Wrap at word boundaries, defaultcase byCharWrapping // Wrap at character boundariescase byClipping // Simply clipcase byTruncatingHead // Truncate at head of line: "...wxyz"case byTruncatingTail // Truncate at tail of line: "abcd..."case byTruncatingMiddle // Truncate middle of line: "ab...yz"&#125; å¤šè¡Œdeæ˜¾ç¤º lab.numberOfLines = 2 //æœ€å¤šæ˜¾ç¤º2è¡Œlab.numberOfLines = 0 // é»˜è®¤æ²¡æœ‰è¡Œæ•°æ˜¾ç¤ºlab.numberOfLines = 1 //åªèƒ½æ˜¾ç¤ºä¸€è¡Œ è‡ªåŠ¨è°ƒæ•´æ–‡å­—deå¤§å° lab.adjustsFontSizeToFitWidth = true å¯Œæ–‡æœ¬è®¾ç½® //åˆ›å»ºå¯¹è±¡let attributeString = NSMutableAttributedString(string:"Welcome to Swift! Welcome to Swift! Welcome to Swift! Welcome to Swift!")//è®¾ç½®å­—ä½“å¤§å°/å­—ä½“ç±»åž‹attributeString.addAttribute(NSFontAttributeName, value: UIFont(name: "HelveticaNeue-Bold", size: 16)!, range: NSMakeRange(0, 6))//è®¾ç½®èƒŒæ™¯é¢œè‰² attributeString.addAttribute(NSForegroundColorAttributeName, value: UIColor.red, range: NSMakeRange(0, 3)) //è®¾ç½®æ–‡æ¡£èƒŒæ™¯è‰² attributeString.addAttribute(NSBackgroundColorDocumentAttribute, value: UIColor.lightGray, range: NSMakeRange(10, 10))//è®¾ç½®ä¸‹åˆ’çº¿attributeString.addAttribute(NSUnderlineStyleAttributeName, value:NSUnderlineStyle.StyleSingle.rawValue, range: NSMakeRange(5,12)) testLable.attributedText = attributeString; æ–‡æœ¬é«˜åº¦è®¡ç®— extension NSString &#123; func textSizeWithFont(font: UIFont, constrainedToSize size:CGSize) -&gt; CGSize &#123; var textSize:CGSize! if CGSizeEqualToSize(size, CGSizeZero) &#123; let attributes = NSDictionary(object: font, forKey: NSFontAttributeName) textSize = self.sizeWithAttributes(attributes) &#125; else &#123; let option = NSStringDrawingOptions.UsesLineFragmentOrigin let attributes = NSDictionary(object: font, forKey: NSFontAttributeName) let stringRect = self.boundingRectWithSize(size, options: option, attributes: attributes, context: nil) textSize = stringRect.size &#125; return textSize &#125;&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>UILabel</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>UILabel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-UIKit-AppDelegateé¡¹ç›®å…¥å£]]></title>
    <url>%2F2017%2F12%2F06%2FSwift%2FUIKit%2FAppDelegate%E9%A1%B9%E7%9B%AE%E5%85%A5%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[AppDelegate.swift //importæ˜¯å¯¼å…¥æ–‡ä»¶çš„/åº“çš„å…³é”®å­—//UIKitæ˜¯iOSä¸­æ‰€æœ‰çš„æŽ§ä»¶çš„æ‰€åœ¨åº“æ–‡ä»¶import UIKit@UIApplicationMain //è°ƒç”¨äº†OCä¸­çš„UIApplicationMainå‡½æ•°;//UIApplicationMainæ˜¯IOSåº”ç”¨ç¨‹åºçš„å…¥å£//UIApplacationMain:1.åˆ›å»ºäº†ä¸€ä¸ªUIApplicationå¯¹è±¡,ä»£è¡¨å½“å‰åº”ç”¨ç¨‹åº.ä½œç”¨æ˜¯ç”¨æ¥æ£€æµ‹å½“å‰åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ”¹å˜// 2.åˆ›å»ºä¸€ä¸ªéµå®ˆUIApplicationDelegateçš„åè®®çš„å­ç±»å¯¹è±¡ä½œä¸ºUIApplicationçš„ä»£ç†,ä½œç”¨æ˜¯å¤„ç†åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ”¹å˜(åˆ›å»ºAppDelegateå¯¹è±¡å¹¶ä¸”è®¾ç½®ä¸ºUIApplicationå¯¹è±¡çš„ä»£ç†)class AppDelegate: UIResponder, UIApplicationDelegate &#123; //å±žæ€§: var window: UIWindow? //æ–¹æ³•: //ä¸€.å½“åº”ç”¨ç¨‹åºå·²ç»å¯åŠ¨æˆåŠŸåŽ,ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³• func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Bool &#123; // Override point for customization after application launch. //1.åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ¥æ­å»ºåº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰çš„ç•Œé¢ //2.èŽ·å–åº”ç”¨ç¨‹åºéœ€è¦å±•ç¤ºçš„æ•°æ® //3.ä½¿ç”¨ç•Œé¢å±•ç¤ºæ•°æ® //æ³¨æ„:å¦‚æžœä¸å†åšè¿™ä¸ªæ–¹æ³•ä¸­åŽ»åˆ›å»ºwindow,é‚£ä¹ˆç¨‹åºä¼šé€šè¿‡Main.stroyboardåŽ»åˆ›å»ºåº”ç”¨ç¨‹åºçš„ç•Œé¢ print("ç¨‹åºå¯åŠ¨æˆåŠŸ") return true &#125; //äºŒ.å½“åº”ç”¨ç¨‹åºå°†è¦æˆä¸ºéžæ´»è·ƒçŠ¶æ€çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•. //æ´»è·ƒçŠ¶æ€:ç¨‹åºåœ¨å±å¹•ä¸Šå¯è§ //éžæ´»è·ƒçŠ¶æ€:ç¨‹åºæ²¡æœ‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Š(æŒ‰homeé”®è¿›å…¥åŽå°,æ¥ç”µæ‰“æ–­,åœ¨å½“å‰åº”ç”¨ç¨‹åºä¸­æ‰“å¼€å…¶ä»–çš„åº”ç”¨ç¨‹åº) func applicationWillResignActive(application: UIApplication) &#123; //æŒ‰ä¸‹homeé”®:command + shift + h //åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä¸€èˆ¬åŽ»æš‚åœè§†é¢‘/éŸ³é¢‘æ’­æ”¾;æ¸¸æˆéœ€è¦æš‚åœ;ä¿å­˜æ•°æ® print("å°†è¦æˆä¸ºéžæ´»è·ƒçŠ¶æ€") &#125; //ä¸‰.åº”ç”¨ç¨‹åºå·²ç»è¿›å…¥åŽå°çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨ //è¿›å…¥åŽå°:æŒ‰homeé”® func applicationDidEnterBackground(application: UIApplication) &#123; print("è¿›å…¥åŽå°") &#125; //å››.åº”ç”¨ç¨‹åºå°†è¦è¿›å…¥å‰å°çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨ //è¿›å…¥å‰å°: func applicationWillEnterForeground(application: UIApplication) &#123; print("å°†è¦è¿›å…¥å‰å°") &#125; //äº”.åº”ç”¨ç¨‹åºå·²ç»å˜æˆæ´»è·ƒçŠ¶æ€çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨ //1.ç¨‹åºå¯åŠ¨æˆåŠŸåŽ //2.ç¨‹åºä»ŽåŽå°é‡æ–°è¿›å…¥å‰å° //3.æ¥ç”µæ‰“æ–­ç»“æŸ... func applicationDidBecomeActive(application: UIApplication) &#123; print("å·²ç»å˜æˆæ´»è·ƒçŠ¶æ€") &#125; //å…­.åº”ç”¨ç¨‹åºå°†è¦ç»ˆæ­¢çš„æ—¶å€™ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³• func applicationWillTerminate(application: UIApplication) &#123; print("åº”ç”¨ç¨‹åºå°†è¦ç»ˆæ­¢") &#125;&#125; ViewController.swift class ViewController: UIViewController &#123; override func viewDidLoad() &#123; super.viewDidLoad() //UIView:æ˜¯IOSä¸­æ‰€æœ‰è§†å›¾(æŽ§ä»¶)ç›´æŽ¥/é—´æŽ¥çš„çˆ¶ç±»;æ‰€ä»¥UIViewçš„å±žæ€§å’Œæ–¹æ³•,å¯¹äºŽå…¶ä»–ç±»åž‹çš„è§†å›¾éƒ½æœ‰æ•ˆ //è§†å›¾:åœ¨å±å¹•ä¸Šèƒ½çœ‹åˆ°çš„æ‰€æœ‰çš„ä¸œè¥¿éƒ½å±žäºŽè§†å›¾ //ä¸€.åˆ›å»ºUIViewçš„å¯¹è±¡ let redView = UIView.init() //æƒ³è¦å°†è§†å›¾å±•ç¤ºåœ¨å±å¹•ä¸Šçš„ä¸¤ä¸ªå¿…è¦æ¡ä»¶ //1.å¿…é¡»è®¾ç½®åæ ‡çš„å¤§å°(é»˜è®¤åæ ‡æ˜¯(0,0),å¤§å°(0,0,)) //2.å°†è§†å›¾æ·»åŠ åˆ°å·²ç»å±•ç¤ºåœ¨å±å¹•ä¸Šçš„è§†å›¾ä¸Š //äºŒ.è®¾ç½®frameå±žæ€§(ç”±åæ ‡(x,y)å’Œå¤§å°(width,height)ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆ) redView.frame = CGRect(x: 10, y: 10, width: 100, height: 100) //IOSä¸­æ‰€æœ‰çš„ç»“æž„ä½“éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„Makeæ–¹æ³•ç”¨æ¥å¿«é€Ÿçš„åˆ›å»ºä¸€ä¸ªç»“æž„ä½“å˜é‡ redView.frame = CGRectMake(10, 10, 100, 100) //ä¸‰.å°†è§†å›¾æ·»åŠ åˆ°ç•Œé¢ä¸Š self.view.addSubview(redView) //å››.è®¾ç½®èƒŒæ™¯é¢œè‰² //è§†å›¾çš„èƒŒæ™¯é¢œè‰²é»˜è®¤æ˜¯é€æ˜Žè‰² //é¢œè‰²çš„åˆ›å»ºæ–¹å¼: //1.é€šè¿‡ç±»åž‹æ–¹æ³•åˆ›å»ºæŒ‡å®šé¢œè‰² // redView.backgroundColor = UIColor.redColor() //é€šè¿‡ä¸‰åŽŸè‰²æ¥åˆ›å»ºé¢œè‰² //CGFloatå°±æ˜¯UIä¸­çš„æµ®ç‚¹åž‹ //å‚æ•°1,2,3:çº¢,ç»¿,è“çš„å€¼(0~1)-(0/255~255/255) //å‚æ•°4:é€æ˜Žåº¦ //redView.backgroundColor = UIColor(red: 149/255.0, green: 106/255.0, blue: 55/255.0, alpha: 1) //è®¾ç½®ä¸åŒç¨‹åº¦çš„ç°è‰² //redView.backgroundColor = UIColor(white: 0.2, alpha: 1) //ç»ƒä¹ :åˆ›å»ºä¸€ä¸ªé»„è‰²çš„çŸ©å½¢,æ˜¾ç¤ºåœ¨çº¢è‰²è§†å›¾çš„ä¸­å¿ƒä½ç½®,å¤§å°(50,50) //æ–¹å¼1: //åˆ›å»ºè§†å›¾å¯¹è±¡å¹¶ä¸”è®¾ç½®frameå±žæ€§ /* let yellowView = UIView.init() yellowView.frame = CGRectMake(35, 35, 50, 50) //æ·»åŠ åˆ°ç•Œé¢ä¸Š self.view.addSubview(yellowView) //è®¾ç½®èƒŒæ™¯é¢œè‰² yellowView.backgroundColor = UIColor.yellowColor() */ //æ–¹å¼2: let yellowView = UIView(frame: CGRectMake(25,25,50,50)) redView.addSubview(yellowView) yellowView.backgroundColor = UIColor.yellowColor() //GET:è®¡ç®—è§†å›¾çš„åæ ‡çš„æ—¶å€™,æ³¨æ„ç›¸å¯¹æ€§.å½“å‰è§†å›¾è¢«æ·»åŠ åˆ°é‚£ä¸ªè§†å›¾ä¸Š,é‚£ä¹ˆå½“å‰è§†å›¾çš„åæ ‡å°±æ˜¯ç›¸å¯¹äºŽè°æ¥ç®—çš„ &#125;&#125; è§†å›¾å¯¹è±¡çš„åŸºæœ¬å±žæ€§ mport UIKitclass ViewController: UIViewController &#123; override func viewDidLoad() &#123; super.viewDidLoad() //åˆ›å»ºä¸€ä¸ªè§†å›¾å¯¹è±¡ let redView = UIView.init() //æ·»åŠ åˆ°ç•Œé¢ä¸Š self.view.addSubview(redView) //è®¾ç½®èƒŒæ™¯é¢œè‰² redView.backgroundColor = UIColor.redColor() //1.frame(åæ ‡å’Œå¤§å°) redView.frame = CGRectMake(100, 100, 100, 100) //2.center(ä¸­å¿ƒç‚¹åæ ‡) //é€šè¿‡frameå’Œç¡®å®šè§†å›¾çš„ä¸­å¿ƒç‚¹åæ ‡ print(redView.center) print(redView.frame) redView.center = CGPointMake(200, 200) print(redView.frame) //3.bounds(åæ ‡å’Œå¤§å°) //é»˜è®¤æƒ…å†µä¸‹boundsçš„åæ ‡(0,0),å¤§å°å’Œè§†å›¾çš„frameå¤§å°ä¸€æ · print(redView.bounds) //äº†è§£: //å¦‚æžœæ”¹å˜boundsçš„å¤§å°,ä¸æ”¹å˜centerçš„åæ ‡,æ”¹å˜frameçš„åæ ‡å’Œå¤§å° /* redView.bounds = CGRectMake(0, 0, 200, 200) print(redView.frame) print("center\(redView.center)") */ //å¦‚æžœæ”¹å˜boundsçš„åæ ‡,ä¸å½±å“å½“å‰è§†å›¾çš„ä½ç½®.ä½†æ˜¯å½±å“æ·»åŠ åˆ°å½“å‰è§†å›¾ä¸Šçš„å­è§†å›¾çš„åæ ‡,ä¸å»ºè®®ä¿®æ”¹bounds redView.bounds = CGRectMake(0, 0, 100, 100) let yellowView = UIView.init(frame:CGRectMake(10, 10, 40, 40)) yellowView.backgroundColor = UIColor.yellowColor() redView.addSubview(yellowView) //4.transform(å½¢å˜) // å½“å‰è§†å›¾å‘ç”Ÿå½¢å˜,é‚£ä¹ˆæ·»åŠ åˆ°å½“å‰è§†å›¾ä¸Šçš„æ‰€æœ‰çš„è§†å›¾ä¼šè·Ÿç€ä¸€èµ·å½¢å˜ //1). ç¼©æ”¾ //å‚æ•°1:xæ–¹å‘ä¸Šçš„ç¼©æ”¾æ¯”ä¾‹ //å‚æ•°2:yæ–¹å‘ä¸Šçš„ç¼©æ”¾æ¯”ä¾‹ redView.transform = CGAffineTransformMakeScale(0.5, 0.5) //2).æ—‹è½¬ //å‚æ•°:æ—‹è½¬è§’åº¦(åœ†å‘¨çŽ‡å¯¹åº”çš„è§’åº¦) redView.transform = CGAffineTransformMakeRotation(CGFloat(M_PI_4)) //3).å¹³ç§» //å‚æ•°1:åœ¨xæ–¹å‘ä¸Šå¹³ç§»çš„è·ç¦» //å‚æ•°2:åœ¨yæ–¹å‘ä¸Šå¹³ç§»çš„è·ç¦» redView.transform = CGAffineTransformMakeTranslation(0, 300) //4).å¤šä¸ªå½¢å˜åŒæ—¶è¿›è¡Œ //åœ¨å¦å¤–ä¸€ä¸ªå½¢å˜çš„å‰æä¸‹æ—‹è½¬ //å‚æ•°1:å¦å¤–ä¸€ä¸ªå½¢å˜ //åœ¨æ‹¥æœ‰ç¼©æ”¾è¿™ä¸ªå½¢å˜çš„å‰æä¸‹æ—‹è½¬(æ—¢å¯ä»¥ç¼©æ”¾åˆå¯ä»¥æ—‹è½¬) redView.transform = CGAffineTransformRotate(CGAffineTransformMakeScale(0.5, 0.5), CGFloat(M_PI_4 / 2)) //åœ¨å¦å¤–ä¸€ä¸ªå½¢å˜çš„å‰æä¸‹å¹³ç§»(æ—¢å¯ä»¥ç¼©æ”¾å’Œæ—‹è½¬åˆå¯ä»¥å¹³ç§») redView.transform = CGAffineTransformTranslate(redView.transform, 0, 100) //æ—¢å¯ä»¥å¹³ç§»åˆå¯ä»¥ç¼©æ”¾ redView.transform = CGAffineTransformScale(CGAffineTransformMakeTranslation(100, 0), 0.5, 2) //ç»„åˆä¸¤ä¸ªå½¢å˜ //æ—‹è½¬å½¢å˜ let rotate = CGAffineTransformMakeRotation(0.2) //å¹³ç§»å½¢å˜ let transLation = CGAffineTransformMakeTranslation(100, 100) //å°†æ—‹è½¬å½¢å˜å’Œå¹³ç§»å½¢å˜ç»„åˆ redView.transform = CGAffineTransformConcat(rotate, transLation) &#125;&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>UIKit</category>
        <category>AppDelegate</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>UIKit</tag>
        <tag>AppDelegate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-åŸºç¡€]]></title>
    <url>%2F2017%2F12%2F06%2FSwift%2FGrammar%2F%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[è¯­æ³•æ‰“å°print("Hello,Word!") å®šä¹‰å˜é‡å’Œå¸¸é‡ let/varåœ¨åŒä¸€è¡Œä»£ç ä¸­ ä¸ç”¨ä¹¦å†™åˆ†å· let myCount = 11 //å®šä¹‰ä¸€ä¸ªå¸¸é‡ä¸ºmyCount = 11 å¸¸é‡æ˜¯ä¸å¯æ”¹å˜çš„é‡var myVariable = 22myVariable = 33 //å®šä¹‰ä¸€ä¸ªå˜é‡ä¸ºmyVariable = 22 ç„¶åŽæ”¹å˜å®ƒçš„å€¼,å°†33èµ‹ç»™myVariableã€‚çŽ°åœ¨myVariableçš„å€¼ä¸º33ã€‚ å­—ç¬¦ä¸²æ’å€¼æ‰“å° ç¬¦ä¸²æ’å€¼çš„æ˜¯åœ¨printçš„è¿‡ç¨‹ä¸­ï¼Œå°†ä½ å®šä¹‰çš„å¸¸é‡æˆ–å˜é‡æ’å…¥ä½ è¦è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­ print("ChenJian,\(myCount)!")print("YueKekui!\(myVariable)") ç±»åž‹æŽ¨æ–­ åœ¨swiftä¸­ å¦‚æžœå¯ä»¥çš„è¯ å°½å¯èƒ½çœç•¥ç±»åž‹æ ‡è®°ï¼Œè®©swiftè‡ªå·±æŽ¨æ–­ç±»åž‹ å…³äºŽSwiftä¸­ç±»åž‹intï¼Œfloatï¼Œdoubleç›¸å…³çš„ Double(three) å’ŒCè¯­è¨€çš„å¼ºåˆ¶è½¬æ¢æœ‰å¾ˆå¤§åŒºåˆ«Double(three) swift ä¸­æ˜¯å°†threeè¿™ä¸ªæ•°æ®çš„å€¼å–å‡ºæ¥ï¼Œä»Žæ–°å®šä¹‰ä¸€ä¸ªDoubleç±»åž‹çš„å˜é‡ï¼Œå¹¶å°†Threeçš„å€¼èµ‹è¿™ä¸ªå˜é‡ let three = 3let pointOneFourOneFiveNine = 0.14159let pi = Double(three) + pointOneFourOneFiveNine å…ƒç»„ å…ƒç»„æ˜¯ç”¨ä¸€ä¸ªå˜é‡æˆ–å¸¸é‡ï¼Œä¿å­˜å¤šé¡¹æ•°æ® let http404Error = (404, "Not Found")// http404Error is of type (Int, String), and equals (404, "Not Found") ä¸‹åˆ’çº¿çš„æ„æ€ å¿½ç•¥è¿™ä¸€é¡¹ let (justTheStatusCode, _) = http404Errorprint("The status code is \(justTheStatusCode)")// Prints "The status code is 404 è¿ç®—ç¬¦ è¿ç®—ç¬¦ å¯ä»¥åˆ†ä¸ºä¸€å…ƒè¿ç®—ç¬¦ï¼ŒäºŒå…ƒè¿ç®—ç¬¦ï¼Œä¸‰å…ƒè¿ç®—ç¬¦ ä¸€å…ƒè¿ç®—ç¬¦ æ•°å­—å‰é¢ä»£è¡¨æ•°å­—æ­£è´Ÿçš„æ­£è´Ÿå·æ˜¯å”¯ä¸€çš„ä¸€å…ƒè¿ç®—ç¬¦ -8,-14,+8(æ­£æ•°æˆ‘ä»¬ä¸€èˆ¬çœç•¥å‰é¢çš„æ­£å·å†™ä¸ºï¼š8) äºŒå…ƒè¿ç®—ç¬¦ èµ‹å€¼è¿ç®—ç¬¦ let b = 10var a = 5a = b// a is now equal to 10 å…³ç³»è¿ç®—ç¬¦ 1 == 1 2 != 1 2 &gt; 1 1 &lt; 2 1 &gt;= 1 2 &lt;= 1 ç®—æœ¯è¿ç®—ç¬¦ï¼šåŠ å‡ä¹˜é™¤å–ä½™ 1 + 2 // equals 35 - 3 // equals 22 * 3 // equals 610.0 / 2.5 // equals 4.0 9 % 2 // equals 1 ä¸‰å…ƒè¿ç®—ç¬¦ //è®©c å–a å’Œbä¸­è¾ƒå°çš„å€¼let a =5 , b=10let c = a &lt; b ? a : b//é—®å·å‰é¢æ˜¯ä¸€ä¸ªäº§ç”ŸBoolç±»åž‹çš„å˜é‡ï¼Œå¸¸é‡æˆ–è¡¨è¾¾å¼ Parentheses åœ†æ‹¬å·çš„ä½œç”¨ å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·æ”¹å˜è¿ç®—é¡ºåº ï¼Œå¦‚æžœä¸æ¸…æ¥šè¿ç®—çš„æ‰§è¡Œç¨‹åºä¹Ÿå¯ä»¥ç›´æŽ¥ä½¿ç”¨åœ†æ‹¬å·æ¥æ”¹å˜è¿ç®—é¡ºåº å®¹å™¨ç±»åž‹-æ•°ç»„ æ•°ç»„æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡æ˜¯ä»Ž0å¼€å§‹çš„ è€Œä¸æ˜¯1 var threeDoubles = [Double](count: 3, repeatedValue: 0.0)var array1 = [Int]()var array2: [Int] = []var array3 = [99,12,34,156,7]var array4 = [Int](count: 100, repeatedValue: 1)var arrayString1 = [String]()var arrayString2: [String] = []var arrayString3 = ["abc","def","ghi","apple","orange"]var arrayString4 = [String](count: 100, repeatedValue: "") ä¸¤ä¸ªæ•°ç»„å¯ä»¥ç›¸åŠ  var anotherThreeDoubles = [Double](count: 3, repeatedValue: 2.5)// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5] var sixDoubles = threeDoubles + anotherThreeDoubles// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2. å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´ çš„æ–¹æ³• shoppingList.append("Flour")//å¯ä»¥ä½¿ç”¨appendè¿™ä¸ªå‡½æ•°shoppingList += ["Baking Powder"]// shoppingList now contains 4 itemsshoppingList += ["Chocolate Spread", "Cheese", "Butter"]//ä¹Ÿå¯ä»¥ç”¨+=å‘æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´  å¯¹æ•°ç»„è¿›è¡ŒéåŽ†ï¼ˆè¿­ä»£ï¼‰ let shoppingList = ["Six egg","Milk","Flour","Baking Powder","Bananas"]for item in shoppingList &#123; print(item)&#125;for (index, value) in shoppingList.enumerate() &#123; print("Item \(index + 1): \(value)")&#125;// Item 1: Six eggs// Item 2: Milk// Item 3: Flour// Item 4: Baking Powder// Item 5: Bananasâ€ä½œè€…ï¼šèŠ’æžœå¾®ç¬‘é“¾æŽ¥ï¼šhttp://www.jianshu.com/p/8e8ff60121c4ä¾†æºï¼šç®€ä¹¦è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚ æŽ§åˆ¶æµç¨‹##é¡ºåºç»“æž„ ,ç¨‹åºæŒ‰æ­£å¸¸é¡ºåºæ‰§è¡Œã€‚ ##åˆ†æ”¯ç»“æž„ ##å¾ªçŽ¯ç»“æž„ //å¾ªçŽ¯ //ç¬¬ä¸€ç§å¾ªçŽ¯import Foundationvar i = 1while i &lt;= 10 &#123; print("\(i)") print("Hello, World!") i += 1//i++&#125; //ç¬¬äºŒç§å¾ªçŽ¯ è¿™ç§å¾ªçŽ¯å’Œä¸Šä¸€ç§å¾ªçŽ¯ä¸»è¦çš„åŒºåˆ«æ˜¯ --repeatå¾ªçŽ¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡var i = 1repeat&#123; print("\(i).Hello,Word") i += 1&#125;while i &lt;= 100 //ç¬¬ä¸‰ç§å¾ªçŽ¯for i in 1...10&#123; print("\(i).Hello,World!")&#125;// ä¸æƒ³ç”¨å¾ªçŽ¯å˜é‡ iå¯ä»¥ä½¿ç”¨ _ æ¥çœç•¥i çŒœæ•°å­— é¢˜ç›®è¦æ±‚ï¼šä¹¦å†™ä¸€æ®µSwiftä»£ç å®žçŽ°ï¼Œéšæœºå‡ºçŽ°ä¸€ä¸ª1-100çš„æ•°å­—ï¼Œè®©ç”¨æˆ·çŒœè¿™ä¸ªæ•°å­—æ˜¯å‡ ï¼Œæ¯æ¬¡æç¤ºç”¨æˆ·çŒœçš„æ•°å­—æ˜¯æ¯”å®žé™…æ•°å­—å¤§è¿˜æ˜¯å°ï¼Œç›´åˆ°ç”¨æˆ·çŒœä¸­ä¸ºæ­¢ let answer = Int(arc4random_uniform(100)) + 1var thyAnswer:Intvar counter = 0repeat&#123; counter += 1 print("è¯·è¾“å…¥ä½ çŒœçš„æ•°å­—ï¼š",terminator:"") thyAnswer = inputInt() if thyAnswer &gt; answer&#123; print("çŒœå°ä¸€ç‚¹") &#125; else if thyAnswer &lt; answer&#123; print("çŒœå¤§ä¸€ç‚¹") &#125; else&#123; print("æ­å–œä½ çŒœå¯¹äº†ï¼æ‚¨ä¸€å…±çŒœäº†\(counter)æ¬¡") &#125;&#125;while thyAnswer != answerif counter &gt; 7&#123; print("ä½ çš„æ™ºå•†è¯¥å……å€¼äº†ï¼ï¼ï¼")&#125; å¾—å‡º1-100çš„ç´ æ•° //å¾—å‡º1-100çš„ç´ æ•°func isPrime(n: Int) -&gt; Bool&#123; var i = 2 while i &lt;= Int(sqrt(Double(n)))&#123; if n % i == 0&#123; return false &#125; i += 1 &#125; //å¦‚æžœä¸Šé¢çš„å¾ªçŽ¯æ²¡æœ‰è¿”å›žfalse å°±è¯´æ˜Žåœ¨2åˆ°nå¼€æ ¹å·ä¹‹é—´æ²¡æœ‰nçš„å› å­ å› æ­¤è¿”å›žtrue è¡¨ç¤ºnæ˜¯ç´ æ•° return true&#125;for n in 1...100&#123; if isPrime(n)&#123; print(n) &#125;&#125; ç™¾é’±ç™½é¸¡ é¢˜ç›®è¦æ±‚ï¼šçŽ°åœ¨æœ‰100å—é’±ï¼Œå…¬é¸¡5å—ä¸€åªï¼Œæ¯é¸¡3å—ä¸€åªï¼Œå°é¸¡1å—ä¸‰åªï¼ŒçŽ°åœ¨è¦ç”¨è¿™100å—ä¹°100åªé¸¡ï¼Œé—®å…¬é¸¡ï¼Œæ¯é¸¡ï¼Œå°é¸¡å„æœ‰å¤šå°‘åªï¼Ÿ for x in 0...20&#123; for y in 0...33&#123; let z = 100 - x - y if 5 * x + 3 * y + z / 3 == 100 &amp;&amp; z % 3 == 0 &#123; print("å…¬é¸¡ï¼š\(x),æ¯é¸¡:\(y),å°é¸¡\(z)") &#125; &#125;&#125;// GET:ç©·ä¸¾æ³•ï¼ˆç©·å°½æ‰€æœ‰çš„å¯èƒ½æ€§ç›´åˆ°æ­£ç¡®ç­”æ¡ˆ æ‘‡è‰²å­æ¸¸æˆ é¢˜ç›®è¦æ±‚ï¼šçŽ°æœ‰ä¸¤äººï¼Œä¸€ä¸ªçŽ©å®¶ï¼Œä¸€ä¸ªåº„å®¶ã€‚çŽ©å®¶æ‘‡ä¸¤ä¸ªè‰²å­ï¼Œå¦‚æžœç¬¬ä¸€æ¬¡æ‘‡åˆ°7ï¼Œ11ç‚¹çŽ©å®¶èƒœï¼Œæ‘‡åˆ°2ï¼Œ3ï¼Œ12åº„å®¶èƒœï¼Œæ‘‡åˆ°å…¶ä»–ç‚¹æ•°è®°ä½è¿™ä¸ªç‚¹æ•°å¹¶ç»§ç»­æ‘‡ä¸‹ä¸€æ¬¡ï¼›ä»¥åŽæ¯æ¬¡çŽ©å®¶æ‘‡è‰²å­çš„ç‚¹æ•°å’Œç¬¬ä¸€æ¬¡è®°ä½çš„ç‚¹æ•°ç›¸åŒçŽ©å®¶èƒœï¼Œæ‘‡åˆ°7ç‚¹åº„å®¶èƒœã€‚ç”¨swiftä»£ç å®žçŽ°ä»¥ä¸Šè¦æ±‚ func roll() -&gt; Int&#123; return Int(arc4random_uniform(6)) + 1&#125;var money = 1000repeat&#123; print("çŽ©å®¶æ€»èµ„äº§:ï¿¥\(money)å…ƒ") var debt:Int repeat&#123; print("è¯·ä¸‹æ³¨:",terminator:"") debt = inputInt() &#125;while debt &lt;= 0 || debt &gt; money var needsGoOn = false let fristPoint = roll() + roll() print("çŽ©å®¶æ‘‡å‡ºäº†\(fristPoint)") switch fristPoint&#123; case 7,11: money += debt print("çŽ©å®¶èƒœ!!!") case 2,3,12: money -= debt print("åº„å®¶èƒœ!!!") default: needsGoOn = true //æ¸¸æˆç»§ç»­ &#125; while needsGoOn&#123; let currentPoint = roll() + roll() print("çŽ©å®¶æ‘‡å‡ºäº†\(currentPoint)") if currentPoint == 7 &#123; money -= debt print("åº„å®¶èƒœ!!!") needsGoOn = false &#125; else if currentPoint == fristPoint&#123; money += debt print("çŽ©å®¶èƒœ!!!") needsGoOn = false &#125; &#125;&#125;while money &gt; 0print("ä½ ç ´äº§äº†ï¼ï¼ï¼ï¼") æŽ’åºé€‰æ‹© é¢˜ç›®è¦æ±‚ï¼šä¸€ä¸ªæ•°ç»„ä¸­æ— åºçš„æ•°å­—ï¼Œä½¿ç”¨ç®€å•é€‰æ‹©æŽ’åºæ³•æŽ’åºã€‚psï¼šç®€å•é€‰æ‹©æŽ’åº:æ¯æ¬¡ä»Žå‰©ä¸‹å…ƒç´ ä¸­æ‰¾æœ€å°çš„å…ƒç´ æ”¾åˆ°å¯¹åº”çš„ä½ç½® var array = [27,45,78,58,44,89,12,5]for i in 0..&lt;array.count - 1&#123; var mindex = i for j in i+1..&lt;array.count&#123; if array[j] &lt; array[mindex]&#123; mindex = j &#125; &#125;(array[i],array[mindex]) = (array[mindex],array[i])&#125;print(array) å†’æ³¡æŽ’åº é¢˜ç›®è¦æ±‚ï¼šä¸€ä¸ªæ•°ç»„ä¸­æ— åºçš„æ•°å­—ï¼Œä½¿ç”¨å†’æ³¡æŽ’åºæ³•æŽ’åºã€‚ps:å†’æ³¡æŽ’åºï¼šä¸¤ä¸ªæ•°å­—æŽ’åºå°†å¤§çš„æ•°å­—æŽ’åœ¨åŽé¢ var array = [27,45,78,58,44,89,12,5]for i in 0..&lt;array.count - 1&#123; var swapped = false for j in 0..&lt;array.count - 1 - i&#123; if array[j] &gt; array[j+1]&#123; (array[j],array[j+1]) = (array[j+1],array[j]) swapped = true &#125; &#125; if swapped == false // if !swapped &#123; break &#125;&#125;print(array) å­—å…¸å’Œé›†åˆ //å­—å…¸(å­˜æ”¾é”®å€¼å¯¹ç»„åˆçš„å®¹å™¨)//å­—å…¸ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç”±ä¸¤éƒ¨åˆ†æž„æˆ,å†’å·å‰é¢çš„æ˜¯é”®ï¼Œå†’å·åŽé¢çš„æ˜¯å€¼var dict:[String:String] = ["abacus":"ç®—ç›˜","abnormal":"å¼‚å¸¸çš„","hello":"ä½ å¥½","good":"å¥½çš„"]//print å‰é¢çš„é”® å°±ä¼šè¾“å‡ºåŽé¢çš„å€¼//ä½†æ˜¯print åŽé¢çš„å€¼ ä¸ä¼šè¾“å‡ºå‰é¢çš„é”®print(dict["hello"]!)print(dict["abcxyz"])print(dict["ä½ å¥½"])// æ·»åŠ å…ƒç´ dict["shit"] = "ç‹—å±Ž"dict["delicious"] = "å¥½åƒçš„"print(dict)// åˆ é™¤å…ƒç´  dict.removeValueForKey("hello") //ç¬¬ä¸€ç§dict["hello"] = nil //ç¬¬äºŒç§print(dict)print(dict["hello"])// ä¿®æ”¹å…ƒç´ dict["shit"] = "ç‰›ç²ª"print(dict)// éåŽ†å­—å…¸ä¸­æ‰€æœ‰çš„å€¼for value in dict.values &#123; print(value)&#125;// éåŽ†å­—å…¸ä¸­æ‰€æœ‰çš„é”®for key in dict.keys &#123; print("\(key) ---&gt; \(dict[key])")&#125;// ç›´æŽ¥é€šè¿‡ä¸€ä¸ªå…ƒç»„èŽ·å¾—å­—å…¸ä¸­çš„é”®å’Œå€¼(åŽŸå§‹ç±»åž‹)for (key, value) in dict &#123; print("\(key) ---&gt; \(value)")&#125; é›†åˆ é›†åˆä¸­ä¸¤ä¸ªå€¼ç›¸åŒçš„å…ƒç´ ï¼Œä¼šåˆå¹¶åˆ°ä¸€èµ· var a: Set&lt;Int&gt; = [1, 2, 3, 1, 2, 5]a.insert(100) // æ·»åŠ å…ƒç´ a.remove(2) // åˆ é™¤å…ƒç´ print(a)var b: Set&lt;Int&gt; = [3, 5, 7, 9, 11]print(b)print(a.intersect(b)) // äº¤é›†(aå’Œbéƒ½æœ‰çš„å…ƒç´ )print(a.union(b)) // å¹¶é›†(aå’Œbçš„æ‰€æœ‰å…ƒç´ )print(a.subtract(b)) // å·®é›†(aæœ‰bæ²¡æœ‰çš„å…ƒç´ )print(a == b)print(b.isSubsetOf(a))let c: Set&lt;Int&gt; = [1, 3]print(c.isSubsetOf(a)) // åˆ¤æ–­cæ˜¯ä¸æ˜¯açš„å­é›†print(a.isSupersetOf(c)) // åˆ¤æ–­aæ˜¯ä¸æ˜¯cçš„è¶…é›†let d: Set&lt;Int&gt; = [2, 1000, 10000]print(a.isDisjointWith(d)) // åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦ç›¸äº¤ å‡½æ•° å‡½æ•°æˆ‘è®¤ä¸ºæ˜¯swiftè¯­è¨€ä¸­æœ€é‡è¦çš„ç« èŠ‚ä¹‹ä¸€ã€‚å®šä¹‰å‡½æ•°çš„å…³é”®è¯ä¸ºfunc // å‡½æ•°çš„å‚æ•°å// å‡½æ•°å(å¤–éƒ¨å‚æ•°å å†…éƒ¨å‚æ•°å: ç±»åž‹, å¤–éƒ¨å‚æ•°å å†…éƒ¨å‚æ•°å: ç±»åž‹)// å¦‚æžœä¸å†™å¤–éƒ¨å‚æ•°åé‚£ä¹ˆå†…éƒ¨å‚æ•°åä¹Ÿæ˜¯å¤–éƒ¨å‚æ•°å// å¯ä»¥ä½¿ç”¨_æ¥ä½œä¸ºå¤–éƒ¨å‚æ•°åè¡¨ç¤ºçœç•¥å¤–éƒ¨å‚æ•°åfunc myMin(a x: Int, b y: Int) -&gt; Int &#123; return x &lt; y ? x : y&#125;// è°ƒç”¨å‡½æ•°çš„æ—¶å€™è¦å†™å‡½æ•°çš„å¤–éƒ¨å‚æ•°åprint(myMin(a: 3, b: 5))// å®šä¹‰å‡½æ•°// func å‡½æ•°å(å‚æ•°åˆ—è¡¨) -&gt; è¿”å›žç±»åž‹ &#123; å‡½æ•°çš„æ‰§è¡Œä½“ &#125;// Swiftä¸­å‡½æ•°çš„å‚æ•°å¯ä»¥è®¾å®šé»˜è®¤å€¼// å¦‚æžœè°ƒç”¨å‡½æ•°çš„æ—¶å€™æ²¡æœ‰ç»™è¯¥å‚æ•°èµ‹å€¼å°±ç›´æŽ¥ä½¿ç”¨é»˜è®¤å€¼func sayHello(personName: String, alreadyGreeted: Bool = false) -&gt; String &#123; // let greeting = "Hello, " + personName + "!" // å¦‚æžœå‡½æ•°çš„è¿”å›žç±»åž‹ä¸æ˜¯Void é‚£ä¹ˆå‡½æ•°ä¸­ä¸€å®šæœ‰returnè¯­å¥ // return greeting // personName = "çŽ‹å°é”¤" // ç¼–è¯‘é”™è¯¯ if alreadyGreeted &#123; return "æ€Žä¹ˆåˆæ˜¯ä½ , " + personName + "!" &#125; else &#123; return "ä½ å¥½, " + personName + "!" &#125;&#125;// è°ƒç”¨å‡½æ•°// å‡½æ•°å(å‚æ•°å€¼)// è°ƒç”¨Swiftçš„å‡½æ•°æ—¶, åœ¨é»˜è®¤æƒ…å†µä¸‹ä»Žç¬¬äºŒä¸ªå‚æ•°å¼€å§‹éœ€è¦å†™å‚æ•°åprint(sayHello("çŽ‹å¤§é”¤", alreadyGreeted: true))// å¦‚æžœæ²¡æœ‰ç»™ç¬¬äºŒä¸ªå‚æ•°èµ‹å€¼é‚£ä¹ˆå°±ç›´æŽ¥ä½¿ç”¨é»˜è®¤å€¼falselet str = sayHello("Jack")print(str)// Swiftä¸­å‡½æ•°çš„å‚æ•°åˆ—è¡¨å¯ä»¥æ˜¯å¯å˜å‚æ•°åˆ—è¡¨(å‚æ•°çš„ä¸ªæ•°æ˜¯ä»»æ„å¤šä¸ª)func sum(nums: Int...) -&gt; Int &#123; var total = 0 for num in nums &#123; total += num &#125; return total&#125;print(sum())print(sum(999))print(sum(1, 2, 3))print(sum(90, 82, 37, 68, 55, 11, 99))// å¯ä»¥ä½¿ç”¨å…ƒç»„(tuple)è®©å‡½æ•°ä¸€æ¬¡è¿”å›žå¤šæ¡æ•°æ®func minMax(array: [Int]) -&gt; (min: Int, max: Int)? &#123; if array.count == 0 &#123; return nil &#125; var currentMin = array[0] var currentMax = array[0] for value in array[1..&lt;array.count] &#123; if value &lt; currentMin &#123; currentMin = value &#125; else if value &gt; currentMax &#123; currentMax = value &#125; &#125; return (currentMin, currentMax)&#125;if let b = minMax([23, 45, 99, 68, 72, 12, 55]) &#123; print(b.min) // print(b.0) print(b.max) // print(b.1)&#125;else &#123; print("æ•°ç»„ä¸­æ²¡æœ‰å…ƒç´ !!!")&#125;func swap(inout a: Int, inout _ b: Int) -&gt; Void &#123; (a, b) = (b, a)// let temp = a// a = b// b = temp&#125;var a = 300, b = 500swap(&amp;a, &amp;b)print("a = \(a)")print("b = \(b)")// inout - è¾“å…¥è¾“å‡ºå‚æ•°(ä¸ä»…å°†æ•°æ®ä¼ å…¥å‡½æ•°è¿˜è¦ä»Žå‡½æ•°ä¸­å–å‡ºæ•°æ®)func createX(inout x: Int) &#123; x = 1000&#125;var x = 1// inoutç±»åž‹çš„å‚æ•°å‰è¦åŠ ä¸Š&amp;ç¬¦å·createX(&amp;x)print(x) // è®¾è®¡ä¸€ä¸ªå‡½æ•°æ ¹æ®ç³»ç»Ÿæ—¶é—´è¿”å›žä¸åŒçš„é—®å€™è¯­func sayHello(name: String) -&gt; String &#123; let date = NSDate() let cal = NSCalendar.currentCalendar() let hour = cal.component(.Hour, fromDate: date)//è¿™ä¸‰å¥ä»£ç çš„æ„æ€ä¸ºï¼šç¬¬ä¸€å¥ èŽ·å–å½“å‰ç³»ç»Ÿæ—¶é—´ //ç¬¬äºŒå¥æ˜¯ å½“å‰åŽ†æ³•//ç¬¬ä¸‰å¥æ˜¯ å½“å‰å°æ—¶ var greeting: String switch hour &#123; case 0...6: // ä¸åŒçš„åˆ†æ”¯å¯ä»¥æœ‰é‡å çš„éƒ¨åˆ† greeting = "æ»šåŽ»ç¢Žè§‰äº†" // fallthrough // ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªcase case 4...10: // åŒ¹é…äº†ä¸€ä¸ªåˆ†æ”¯ä¹‹åŽä¸å†åŒ¹é…å…¶ä»–çš„åˆ†æ”¯ greeting = "æ—©èµ·çš„é¸Ÿå„¿æœ‰è™«åƒ" case 11...13: greeting = "ä¸­åˆå¥½" case 14...18: greeting = "ä¸‹åˆå¥½" default: greeting = "æ™šä¸Šå¥½" &#125; return name + ", " + greeting + "!"&#125;print(sayHello("å°åˆš"))// è®¾è®¡ä¸€ä¸ªå‡½æ•°ä¼ å…¥ä¸¤ä¸ªæ­£æ•´æ•°må’Œn, è®¡ç®—ä»ŽmåŠ åˆ°nçš„å’Œfunc sum(m: Int, _ n: Int) -&gt; Int &#123; let (a, b) = m &gt; n ? (n, m) : (m, n) var value = 0 for i in a...b &#123; value += i &#125; return value&#125;print(sum(1, 100))print(sum(5, -4))print(sum(-1, -5)) è°ƒç”¨è‹¹æžœè‡ªèº«çš„Apiï¼Œè¿›è¡Œç¨‹åºåº”ç”¨å¼€å‘è°ƒç”¨è‹¹æžœçš„æŒ‡çº¹è¯†åˆ«ï¼Œå¼€å‘ä¸€ä¸ªå¸¦æœ‰æŒ‡çº¹è¯†åˆ«çš„æ”¯ä»˜åŠŸèƒ½çš„app class ViewController: UIViewController &#123; override func viewDidLoad() &#123; super.viewDidLoad() let errPointer = NSErrorPointer() let ctx = LAContext() // åˆ¤æ–­è®¾å¤‡æ˜¯å¦æ”¯æŒæŒ‡çº¹è¯†åˆ« if ctx.canEvaluatePolicy(.DeviceOwnerAuthenticationWithBiometrics, error: errPointer) &#123; // z = f(x, g(y)) // Swiftä¸­å…è®¸å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•° // evalutePolicyæ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•° // è¯¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°æ²¡æœ‰è¿”å›žå€¼ // ç»™è¯¥å‚æ•°ä¼ å‚æ—¶å¯ä»¥åœ¨èŠ±æ‹¬å·ä¸­å†™ä¸€ä¸ªåŒ¿åå‡½æ•°ä¼ è¿›åŽ» // è¯¥åŒ¿åå‡½æ•°é€šå¸¸ä¹Ÿç§°ä¹‹ä¸ºé—­åŒ…(closure) ctx.evaluatePolicy(.DeviceOwnerAuthenticationWithBiometrics, localizedReason: "è¯·è¾“å…¥æŒ‡çº¹è¿›è¡Œæ”¯ä»˜", reply: &#123; (isOK, err) -&gt; Void in if isOK &#123; print("æ”¯ä»˜æˆåŠŸ!!!") &#125; else &#123; print("æŒ‡çº¹éªŒè¯å¤±è´¥, è¯·è¾“å…¥æ”¯ä»˜å¯†ç ") &#125; &#125;) &#125; else &#123; print("ä½ çš„è®¾å¤‡ä¸æ”¯æŒæŒ‡çº¹è¯†åˆ«") &#125; &#125;&#125; é—­åŒ… é—­åŒ…ä¹Ÿç§°ï¼šåŒ¿åå‡½æ•° æ„æ€æ˜¯æ²¡æœ‰åå­—çš„å‡½æ•°é—­åŒ…ç”±æ¥ï¼šåœ¨swiftä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç±»åž‹è¿™ä¹Ÿå°±æ„å‘³ç€å‡½æ•°å¯ä»¥ä½œä¸ºå˜é‡æˆ–å¸¸é‡çš„ç±»åž‹åŒç†å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°å’Œå‚æ•°æˆ–è¿”å›žå€¼ func sum(a: Int, _ b: Int) -&gt; Int &#123; return a + b&#125;func mul(a: Int, _ b: Int) -&gt; Int &#123; return a * b&#125;func foo(array: [Int], fn: (Int, Int) -&gt; Int) -&gt; Int &#123; var sum = array[0] for x in array[1..&lt;array.count] &#123; sum = fn(sum, x) &#125; return sum&#125; ç”±äºŽåœ¨swiftä¸­èƒ½çœåˆ™çœçš„åŽŸåˆ™å’Œä¼ ç»Ÿå°±å°†è°ƒç”¨å‡½æ•°åšäº†ä»¥ä¸‹å‡ æ­¥å†™æ³•çœç•¥ let a = [1, 2, 3, 4, 5]// å½“è°ƒç”¨fooå‡½æ•°æ—¶ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¼ ä»€ä¹ˆ?// 1. æ‰€æœ‰è‡ªå®šä¹‰çš„(Int, Int) -&gt; Intç±»åž‹çš„å‡½æ•°print(foo(a, fn: sum))// 2. ä¼ å…¥å·²æœ‰çš„äºŒå…ƒè¿ç®—ç¬¦: +-*/%(å› ä¸ºè¿ç®—ç¬¦ä¹Ÿæ˜¯å‡½æ•°)print(foo(a, fn: +))// 3. ä¼ å…¥åŒ¿åå‡½æ•°(é—­åŒ…)// 3.1 å®Œæ•´çš„é—­åŒ…å†™æ³•print(foo(a, fn: &#123; (a, b) -&gt; Int in return a + b&#125;))// 3.2 çœç•¥æŽ‰ç±»åž‹å’Œä¸å¿…è¦çš„æ‹¬å·print(foo(a, fn: &#123; a, b in a + b &#125;))// 3.3 çœç•¥å‚æ•°åprint(foo(a, fn: &#123; $0 + $1 &#125;))// 3.4 å°¾éšé—­åŒ…print(foo(a) &#123; (a, b) -&gt; Int in return a + b&#125;)print(foo(a) &#123; $0 + $1 &#125;) éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æžœå‡½æ•°çš„æœ€åŽä¸€ä¸ªå‚æ•°æ˜¯é—­åŒ…å¯ä»¥å†™æˆå°¾éšé—­åŒ…çš„å½¢å¼ä¹Ÿå°±æ˜¯å°†é—­åŒ…æ”¾åˆ°å‡½æ•°å‚æ•°çš„åœ†æ‹¬å·å¤–é¢å†™åœ¨ä¸€å¯¹èŠ±æ‹¬å·ä¸­å¦‚æžœå‡½æ•°åŽé¢æœ‰å°¾éšé—­åŒ…ä¸”å‡½æ•°çš„åœ†æ‹¬å·ä¸­æ²¡æœ‰å‚æ•°é‚£ä¹ˆå‡½æ•°çš„åœ†æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥(ä»…é™äºŽæœ‰å°¾éšé—­åŒ…çš„åœºæ™¯ï¼‰ä¾‹å¦‚ var array = ["game", "abacus", "hello", "cat", "good", "internationalization", "chaos", "dislike", "zealot", "young"]// array.sortInPlace(&gt;)array.sortInPlace(&#123; $0 &gt; $1 &#125;)array.sortInPlace() &#123; $0 &gt; $1 &#125;array.sortInPlace &#123; $0 &gt; $1 &#125; //è¿™å°±æ˜¯å°¾éšé—­åŒ…çš„æœ€ç®€å†™æ³• æ•°ç»„æœ€é‡è¦çš„ä¸‰ä¸ªåŠŸèƒ½ 1.è¿‡æ»¤ 2.æ˜ å°„ 3.ç¼©å‡ let array = [23, 37, 96, 55, 40, 92, 68, 88]// 1. è¿‡æ»¤let newArray1 = array.filter &#123; $0 &gt; 50 &#125; //æ‰¾åˆ°æ•°ç»„ä¸­æ¯”50å¤§çš„æ•°è¾“å‡ºå‡ºæ¥print(newArray1)let newArray2 = array.filter &#123; $0 % 2 == 0 &#125; //æ‰¾åˆ°æ•°ç»„ä¸­å¾—å¶æ•°print(newArray2)// 2. æ˜ å°„let newArray3 = array.map &#123; $0 * $0 &#125; //å°†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å¹³æ–¹print(newArray3)let newArray4 = array.map &#123; sqrt(Double($0)) &#125; //å°†æ•°ç»„ä¸­å¾—æ¯ä¸ªæ•°å¼€æ ¹å·print(newArray4)// 3. ç¼©å‡let result1 = array.reduce(0, combine: +)// å°†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°æƒ³åŠ print(result1)let result2 = array.reduce(1, combine: *)//å°†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°ç›¸ä¹˜print(result2)let result3 = array.reduce(array[0]) &#123; //å–æ•°ç»„ä¸­æœ€å¤§çš„æ•° $1 &gt; $0 ? $1 : $0&#125;print(result3)let strArray = ["I", "love", "you"]let result4 = strArray.reduce("") &#123; $0 + " " + $1 &#125;//å°†æ•°ç»„ä¸­çš„ä¸‰ä¸ªå…ƒç´ åˆä¸ºä¸€ä¸ªprint(result4) ç±» ç±»å’Œä¸Šæ–‡æåˆ°çš„å‡½æ•° ç´§å¯†ç›¸å…³ç±»æ˜¯ä¸€ç±»äº‹ç‰© è€Œå¯¹è±¡æ˜¯è¿™ç±»äº‹ç‰©ä¸­å…·ä½“çš„å®žä¾‹ æ­¥éª¤1: å®šä¹‰ç±»(å¦‚æžœä½ è¦ç”¨çš„ç±»è‹¹æžœå·²ç»æä¾›äº†å°±ç›´æŽ¥è¿›å…¥ç¬¬2æ­¥) å®šä¹‰ç±»å°±å¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»åž‹ å­¦ç”Ÿç±»class Student &#123; // å˜é‡å®šä¹‰åˆ°ç±»çš„å¤–é¢å°±å«å˜é‡ - variable // å˜é‡å®šä¹‰åˆ°ç±»çš„é‡Œé¢å°±å«å±žæ€§ - property // æ•°æ®æŠ½è±¡ - æ‰¾åˆ°å’Œå­¦ç”Ÿç›¸å…³çš„å±žæ€§(æ‰¾åè¯) var name: String var age: Int // åˆå§‹åŒ–æ–¹æ³•(æž„é€ æ–¹æ³•/æž„é€ å™¨) - constructor init(name: String, age: Int) &#123; self.name = name self.age = age &#125; // å‡½æ•°å†™åˆ°ç±»çš„å¤–é¢å°±å«å‡½æ•° - function // å‡½æ•°å†™åˆ°ç±»çš„é‡Œé¢å°±å«æ–¹æ³• - method // è¡Œä¸ºæŠ½è±¡ - æ‰¾åˆ°å’Œå­¦ç”Ÿç›¸å…³çš„æ–¹æ³•(æ‰¾åŠ¨è¯) func eat() &#123; print("\(name)æ­£åœ¨åƒé¥­.") &#125; func study(courseName: String) &#123; print("\(name)æ­£åœ¨å­¦ä¹ \(courseName).") &#125; func watchJapaneseAV() &#123; if age &gt;= 18 &#123; print("\(name)æ­£åœ¨åŠ¨ä½œç‰‡.") &#125; else &#123; print("äº²çˆ±çš„\(name), æˆ‘ä»¬æŽ¨èä½ è§‚çœ‹ã€Šç†Šå‡ºæ²¡ã€‹") &#125; &#125;&#125;// æ­¥éª¤2: åˆ›å»ºå¯¹è±¡(è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•)let stu1 = Student(name: "å°åˆš", age: 35)// æ­¥éª¤3: ç»™å¯¹è±¡å‘æ¶ˆæ¯(é€šè¿‡ç»™å¯¹è±¡å‘æ¶ˆæ¯æ¥è§£å†³é—®é¢˜)stu1.eat()stu1.study("Swiftç¨‹åºè®¾è®¡")stu1.watchJapaneseAV()let stu2 = Student(name: "çŽ‹å¤§é”¤", age: 15)stu2.eat()stu2.study("ä¸­å›½è¿‘ä»£å²")stu2.watchJapaneseAV() ä¸‹é¢å®šä¹‰ä¸€ä¸ªåœ†çš„ç±»ç±»é‡Œé¢æœ‰æ±‚åœ†çš„é¢ç§¯å’Œå‘¨é•¿çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰ // 0. å‘çŽ°ç±»// - åœ¨å¯¹é—®é¢˜çš„æè¿°ä¸­æ‰¾åè¯å’ŒåŠ¨è¯// - åè¯ä¼šæˆä¸ºç±»æˆ–è€…ç±»ä¸­çš„å±žæ€§ åŠ¨è¯ä¼šæˆä¸ºç±»ä¸­çš„æ–¹æ³•// 1. å®šä¹‰ç±»// - æ•°æ®æŠ½è±¡(å±žæ€§)// - è¡Œä¸ºæŠ½è±¡(æ–¹æ³•)// - åˆå§‹åŒ–æ–¹æ³•// è®¿é—®ä¿®é¥°ç¬¦// - public (å…¬å¼€)// - internal (å†…éƒ¨çš„) - é»˜è®¤// - private (ç§æœ‰)class Circle &#123; // stored property // å­˜å‚¨å±žæ€§(ä¿å­˜å’Œåœ†ç›¸å…³çš„æ•°æ®çš„å±žæ€§) var center: Point var radius: Double init(center: Point, radius: Double) &#123; self.center = center self.radius = radius &#125; // é€šå¸¸èŽ·å¾—æŸä¸ªè®¡ç®—å‡ºçš„å€¼çš„æ–¹æ³•éƒ½å¯ä»¥è®¾è®¡æˆè®¡ç®—å±žæ€§ // computational property // è®¡ç®—å±žæ€§(é€šè¿‡å¯¹å­˜å‚¨å±žæ€§åšè¿ç®—å¾—åˆ°çš„å±žæ€§) var perimeter: Double &#123; // åœ†çš„å‘¨é•¿æ˜¯ä¸€ä¸ªåªè¯»å±žæ€§ // æ‰€ä»¥æ­¤å¤„åªæœ‰get&#123;&#125;æ²¡æœ‰set&#123;&#125; get &#123; return 2 * M_PI * radius &#125; &#125; var area: Double &#123; get &#123; return M_PI * radius * radius &#125; &#125;&#125;æ³¨æ„ï¼šè¿ç®—ç¬¦é‡è½½```swift//è¿ç®—ç¬¦é‡è½½ï¼ˆä¸ºè‡ªå®šä¹‰çš„ç±»åž‹å®šä¹‰è¿ç®—ç¬¦ï¼‰func +(one: Fraction, two: Fraction) -&gt; Fraction &#123; return one.add(two)&#125;func -(one: Fraction, two: Fraction) -&gt; Fraction &#123; return one.sub(two)&#125;func *(one: Fraction, two: Fraction) -&gt; Fraction &#123; return one.mul(two)&#125;func /(one: Fraction, two: Fraction) -&gt; Fraction &#123; return one.div(two)&#125; ç»§æ‰¿ // ç»§æ‰¿: ä»Žå·²æœ‰çš„ç±»åˆ›å»ºæ–°ç±»çš„è¿‡ç¨‹// æä¾›ç»§æ‰¿ä¿¡æ¯çš„ç§°ä¸ºçˆ¶ç±»(è¶…ç±»/åŸºç±»)// å¾—åˆ°ç»§æ‰¿ä¿¡æ¯çš„ç§°ä¸ºå­ç±»(æ´¾ç”Ÿç±»/è¡ç”Ÿç±»)// é€šå¸¸å­ç±»é™¤äº†å¾—åˆ°çˆ¶ç±»çš„ç»§æ‰¿ä¿¡æ¯è¿˜ä¼šå¢žåŠ ä¸€äº›è‡ªå·±ç‰¹æœ‰çš„ä¸œè¥¿// æ‰€ä»¥å­ç±»çš„èƒ½åŠ›ä¸€å®šæ¯”çˆ¶ç±»æ›´å¼ºå¤§// ç»§æ‰¿çš„æ„ä¹‰åœ¨äºŽå­ç±»å¯ä»¥å¤ç”¨çˆ¶ç±»çš„ä»£ç å¹¶ä¸”å¢žå¼ºç³»ç»ŸçŽ°æœ‰çš„åŠŸèƒ½class Teacher: Person &#123; var title: String init(name: String, age: Int, gender: Gender, title: String) &#123; self.title = title super.init(name: name, age: age, gender: gender) &#125; func teach(courseName: String) &#123; print("\(name)\(title)æ­£åœ¨æ•™\(courseName).") &#125;&#125;//çˆ¶ç±»å’Œå­ç±»å…³ç³»let p1 = Person(name: "çŽ‹å¤§é”¤", age: 25, gender: .Male)p1.eat()// å¯ä»¥å°†å­ç±»åž‹çš„å¯¹è±¡èµ‹å€¼ç»™çˆ¶ç±»åž‹çš„å˜é‡(å› ä¸ºå­ç±»è·Ÿçˆ¶ç±»ä¹‹é—´æ˜¯IS-Aå…³ç³»)// å­¦ç”Ÿæ˜¯äºº, è€å¸ˆæ˜¯äºº, æ‰€ä»¥å­¦ç”Ÿå’Œè€å¸ˆçš„å¯¹è±¡å¯ä»¥èµ‹å€¼ç»™äººç±»åž‹çš„å˜é‡let p2: Person = Student(name: "å¼ å°¼çŽ›", age: 18, gender: .Female, major: "è®¡ç®—æœºç§‘å­¦ä¸ŽæŠ€æœ¯")p2.eat()// å¦‚æžœè¦å°†çˆ¶ç±»åž‹çš„å˜é‡è½¬æ¢æˆå­ç±»åž‹éœ€è¦ç”¨asè¿ç®—ç¬¦è¿›è¡Œç±»åž‹è½¬æ¢// å¦‚æžœèƒ½å¤Ÿç¡®è®¤çˆ¶ç±»åž‹çš„å˜é‡ä¸­å°±æ˜¯æŸç§å­ç±»åž‹çš„å¯¹è±¡å¯ä»¥ç”¨as!è¿›è¡Œè½¬æ¢// å¦‚æžœä¸ç¡®å®šçˆ¶ç±»åž‹çš„å˜é‡ä¸­æ˜¯å“ªç§å­ç±»åž‹å¯ä»¥ç”¨as?å°è¯•è½¬æ¢(p2 as! Student).study("Swiftç¨‹åºè®¾è®¡")if let temp = p2 as? Teacher &#123; temp.teach("Java")&#125;else &#123; print("\(p2.name)ä¸æ˜¯è€å¸ˆ!!!")&#125;let p3: Person = Teacher(name: "éª†æ˜Š", age: 35, gender: .Male, title: "å«å…½")p3.eat() å¤šæ€ åŒæ ·çš„å¯¹è±¡ç±»åž‹(petç±»åž‹)æŽ¥å—äº†ç›¸åŒçš„æ¶ˆæ¯(è°ƒç”¨äº†ç›¸åŒçš„æ–¹æ³•)ä½†æ˜¯åšäº†ä¸åŒçš„äº‹æƒ… è¿™å°±æ˜¯å¤šæ€(polymorphism)ä¾‹å¦‚ï¼šçŒ«(cat)ç»§æ‰¿å®ƒçš„çˆ¶ç±»åŠ¨ç‰©(pet) / Catå’ŒPetä¹‹é—´æ˜¯IS-Aå…³ç³»(ç»§æ‰¿)class Cat: Pet &#123; var hairColor: String? // çˆ¶ç±»æœ‰çš„æ–¹æ³•å­ç±»å¯ä»¥é‡æ–°å®žçŽ° è¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•é‡å†™ // éœ€è¦åœ¨æ–¹æ³•å‰æ·»åŠ overrideå…³é”®å­— // é‡å†™æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºç½®æ¢/è¦†ç›–/è¦†å†™ override func play() &#123; super.play() print("\(nickname)æ­£åœ¨çŽ©æ¯›çº¿çƒ.") &#125; override func shout() &#123; print("\(nickname): å–µå–µå–µâ€¦â€¦") &#125; func catchTheMouse() &#123; print("\(nickname)æ­£åœ¨æŠ“è€é¼ .") &#125;&#125; å¯¹çˆ¶ç±»çš„æ–¹æ³•å¯ä»¥é‡æ–°å®žçŽ°ï¼Œ è¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•é‡å†™è¿™æ˜¯å®žçŽ°å¤šæ€çš„é‡è¦æ­¥éª¤ä¹‹ä¸€ï¼ä¸‹é¢æ˜¯å®žçŽ°å¤šæ€çš„ç¬¬äºŒä¸ªæ­¥éª¤ï¼š let petsArray = [ Cat(nickname:"åŠ è²",gender: .Male,age:2), Dog(nickname: "å‰å¨ƒå¨ƒ", gender: .Male, age: 3, isLarge: false), Dog(nickname: "å¤§é»„", gender: .FeMale, age: 2, isLarge: true), Mistress(nickname: "å°èŠ±",gender: .FeMale,age:16)]for pet in petsArray&#123; pet.eat() // åŒæ ·çš„å¯¹è±¡ç±»åž‹(petç±»åž‹)æŽ¥å—äº†ç›¸åŒçš„æ¶ˆæ¯(è°ƒç”¨äº†ç›¸åŒçš„æ–¹æ³•) // ä½†æ˜¯åšäº†ä¸åŒçš„äº‹æƒ… è¿™å°±æ˜¯å¤šæ€(polymorphism) // å®žçŽ°å¤šæ€çš„å…³é”®æ­¥éª¤ï¼š // 1.æ–¹æ³•çš„é‡å†™(å­ç±»åœ¨ç»§æ‰¿çˆ¶ç±»çš„è¿‡ç¨‹ä¸­å¯¹çˆ¶ç±»å·²æœ‰çš„æ–¹æ³•è¿›è¡Œé‡å†™,è€Œä¸”ä¸åŒçš„å­ç±»ç»™å‡ºå„è‡ªä¸åŒçš„å®žçŽ°ç‰ˆæœ¬) // 2.å¯¹è±¡é€ åž‹(å°†å­ç±»å¯¹è±¡å½“æˆçˆ¶ç±»åž‹æ¥ä½¿ç”¨) pet.play() pet.shout() // å¦‚æžœdogæ˜¯å±žäºŽpetä¸­ å¦‚æžœdogæ˜¯Dogç±»åž‹å°±å¯ä»¥è°ƒç”¨keepTheDoorè¿™ä¸ªç‰¹æœ‰çš„æ–¹æ³• if let dog = pet as? Dog&#123; dog.keepTheDoor() &#125; else if let cat = pet as? Cat&#123; cat.catchTheMouse() &#125; else if let mistress = pet as? Mistress&#123; mistress.makeTrouble() &#125;&#125;//æžšä¸¾enum Gender&#123; case Male case FeMale &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-ç½‘é€Ÿå®žæ—¶æ˜¾ç¤º]]></title>
    <url>%2F2017%2F12%2F06%2FOC%2FFunc%2FiOS-Func-%E7%BD%91%E9%80%9F%E5%AE%9E%E6%97%B6%E6%98%BE%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[åŽŸç†ï¼šé€šè¿‡å‡½æ•°getifaddrsæ¥å¾—åˆ°ç³»ç»Ÿç½‘ç»œæŽ¥å£çš„ä¿¡æ¯ï¼Œç½‘ç»œæŽ¥å£çš„ä¿¡æ¯, åŒ…å«åœ¨if_dataå­—æ®µä¸­, æœ‰å¾ˆå¤šä¿¡æ¯, ä½†æˆ‘çŽ°åœ¨åªå…³å¿ƒifi_ibytes, ifi_obytes, åº”è¯¥å°±æ˜¯æŽ¥æ”¶åˆ°çš„å­—èŠ‚æ•°å’Œå‘é€çš„å­—èŠ‚æ•°, åŠ èµ·æ¥å°±æ˜¯æµé‡äº†. è¿˜å‘çŽ°, æŽ¥å£çš„åå­—, æœ‰en, pdp_ip, loç­‰å‡ ç§å½¢å¼, enåº”è¯¥æ˜¯wifi, pdp_ipå¤§æ¦‚æ˜¯3gæˆ–è€…gprs, loæ˜¯çŽ¯å›žæŽ¥å£, é€šè¿‡åå­—åŒºåˆ†å¯ä»¥åˆ†åˆ«ç»Ÿè®¡ #include &lt;ifaddrs.h&gt;#include &lt;sys/socket.h&gt;#include &lt;net/if.h&gt;+ (long long) getInterfaceBytes&#123; struct ifaddrs *ifa_list = 0, *ifa; if (getifaddrs(&amp;ifa_list) == -1) &#123; return 0; &#125; uint32_t iBytes = 0; uint32_t oBytes = 0; for (ifa = ifa_list; ifa; ifa = ifa-&gt;ifa_next) &#123; if (AF_LINK != ifa-&gt;ifa_addr-&gt;sa_family) continue; if (!(ifa-&gt;ifa_flags &amp; IFF_UP) &amp;&amp; !(ifa-&gt;ifa_flags &amp; IFF_RUNNING)) continue; if (ifa-&gt;ifa_data == 0) continue; /* Not a loopback device. */ if (strncmp(ifa-&gt;ifa_name, "lo", 2)) &#123; struct if_data *if_data = (struct if_data *)ifa-&gt;ifa_data; iBytes += if_data-&gt;ifi_ibytes; oBytes += if_data-&gt;ifi_obytes; &#125; &#125; freeifaddrs(ifa_list); NSLog(@"\n[getInterfaceBytes-Total]%d,%d",iBytes,oBytes); return iBytes + oBytes;&#125; èµ„æ–™01]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-å†…å­˜æ³„æ¼é—®é¢˜]]></title>
    <url>%2F2017%2F12%2F06%2FOC%2FFunc%2FiOS-Func-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[AFHTTP å†…å­˜æ³„æ¼é—®é¢˜ AFHTTP æ¡†æž¶çš„é€šç—…ã€‚è¿™ä¸ªé—®é¢˜å¾ˆå¸¸è§ï¼Œä¹Ÿæœ€å¥½è§£å†³ï¼Œç½‘ä¸Šä¹Ÿæœ‰ä¸å°‘çš„è§£å†³æ–¹æ¡ˆä¸»æµçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨å•ä¾‹ã€‚å®šä¹‰ä¸€ä¸ªå•ä¾‹å¯¹è±¡ SessionManagerï¼š @interface SessionManager : NSObject@property(nonatomic,strong)AFHTTPSessionManager *manager;+(SessionManager *)share;@end@implementation SessionManager+(SessionManager *)share&#123; static SessionManager *shareObj = nil; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; shareObj = [[SessionManager alloc] init]; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; /** è®¾ç½®è¶…æ—¶*/ [manager.requestSerializer willChangeValueForKey:@"timeoutInterval"]; manager.requestSerializer.timeoutInterval = 10; [manager.requestSerializer didChangeValueForKey:@"timeoutInterval"]; shareObj.manager = manager; &#125;); return shareObj;&#125;@end ä½¿ç”¨SessionManager AFHTTPSessionManager* manager = [SessionManager share].manager;manager.requestSerializer = [AFHTTPRequestSerializer new];â€¦â€¦ çŽ¯ä¿¡ UI æ¡†æž¶ä¸­çš„å†…å­˜æ³„æ¼é—®é¢˜ çŽ¯ä¿¡æ¡†æž¶ä¸­ï¼Œæœ‰ä¸€ä¸ªå¯¹ UIViewController çš„æ‰©å±•ï¼ˆCategoryï¼‰ :UIViewController+HUDï¼Œå®ƒå¯¹ MBHUD è¿›è¡Œäº†äºŒæ¬¡å°è£…ï¼Œé€šè¿‡å®ƒå¯ä»¥ä½¿ä½ çš„ MBHUD çš„è°ƒç”¨å˜å¾—æ›´ç®€å•ï¼Œæ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ª HUD ä½ å¯ä»¥è¿™æ ·ï¼š [self showHudInView:self.view hint:@""]; ä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸­æœ‰ä¸€ä¸ªä¸¥é‡çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚å½“ä½ åœ¨ä¸€ä¸ª View Controller ä¸­å¤šæ¬¡æ˜¾ç¤º HUD ä¹‹åŽï¼ˆæ¯”å¦‚åå¤ä¸‹æ‹‰åˆ·æ–°è¡¨æ ¼ï¼‰ï¼Œç”¨è§†å›¾è°ƒè¯•å™¨æŸ¥çœ‹ UIViewï¼Œä½ ä¼šå‘çŽ°è§†å›¾æ ‘ä¸­æ˜¾ç¤ºäº†å¤šä¸ª HUD å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡ showHudInView ä¹‹åŽéƒ½ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„ HUDï¼Œè€ŒåŽŸæ¥çš„ HUD è™½ç„¶è¢«éšè—äº†ï¼Œä½†å®ƒä»¬åœ¨å†…å­˜ä¸­ä»ç„¶æ˜¯æŒç»­å­˜åœ¨çš„ã€‚æ¯æ¬¡ showHudInView è°ƒç”¨å¤§æ¦‚ä¼šå¯¼è‡´ 400-500 k çš„å†…å­˜æ³„æ¼ã€‚å¦‚æžœä½ åå¤åˆ·æ–°è¡¨æ ¼ï¼ˆæ¯”å¦‚ 5 åˆ†é’Ÿæˆ–æ›´é•¿ï¼‰ç›´åˆ°å†…å­˜æ’‘çˆ†ï¼Œapp å´©æºƒè§£å†³çš„æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨ showHudInView æ–¹æ³•ä¸­åŠ å…¥ä¸€å¥ï¼š HUD.removeFromSuperViewOnHide = YES; O-C å—ä¸­å¯¹ self å¼ºå¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜ åœ¨ View Controller ç±»çš„ O-C å—ä¸­ï¼Œå¦‚æžœä½ ç›´æŽ¥å¼•ç”¨äº† selfï¼Œåˆ™ä¼šå¯¼è‡´ View Controller è¢«å¼ºå¼•ç”¨ï¼ˆå› ä¸ºå—çš„å‚æ•°éƒ½æ˜¯ä»¥ copy å¼•ç”¨çš„ï¼Œä¼šå¯¼è‡´ retained count åŠ  1ï¼‰ã€‚è¿™æ ·ï¼Œå½“ View Controller è¢« pop å‡ºå¯¼èˆªæŽ§åˆ¶å™¨æ ˆåŽä¸ä¼šè¢«é‡Šæ”¾ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚è¿™ä¸ªæ³„æ¼å°±æ¯”è¾ƒä¸¥é‡äº†ï¼Œå°‘åˆ™å‡ ç™¾ K,å¤šåˆ™å‡ å…† ä¸€ä¸ªæ¯”è¾ƒæ˜Žæ˜¾çš„ä¾‹å­å°±æ˜¯ MJRefreshã€‚åœ¨ View Controller ä¸­ï¼Œå¦‚æžœæˆ‘ä»¬æƒ³æ”¯æŒä¸‹æ‹‰åˆ·æ–°ï¼Œé€šå¸¸ä¼šè¿™æ ·ä½¿ç”¨ MJRefreshï¼š self.tableView.mj_header=[MJRefreshNormalHeader headerWithRefreshingBlock:^&#123; [self.tableView.mj_header endRefreshing]; currentPage = 1; [self loadNoticeList:1 success:^(NSArray&lt;CampusNoticeModel *&gt; *data) &#123; [self.models removeAllObjects]; [self.models addObjectsFromArray:data]; [self.tableView reloadData]; &#125; failure:^(NSString *msg) &#123; &#125;]; &#125;]; æ³¨æ„ï¼ŒO-C å—ä¸­å¯¹ View Controller è¿›è¡Œäº†å¼ºå¼•ç”¨ï¼Œæ¯”å¦‚ï¼šself.tableView å’Œ self.modelsã€‚åŽŸåˆ™ä¸Šï¼Œå½“æˆ‘ä»¬åœ¨ O-C å—ä¸­å¼•ç”¨ self æ—¶ï¼Œåº”å½“ä½¿ç”¨å¼±å¼•ç”¨ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä»£ç åº”å½“æ”¹ä¸ºï¼š __weak __typeof(self) weakSelf=self; self.tableView.mj_header=[MJRefreshNormalHeader headerWithRefreshingBlock:^&#123; [weakSelf.tableView.mj_header endRefreshing]; currentPage = 1; [weakSelf loadNoticeList:1 success:^(NSArray&lt;CampusNoticeModel *&gt; *data) &#123; [weakSelf.models removeAllObjects]; [weakSelf.models addObjectsFromArray:data]; [weakSelf.tableView reloadData]; &#125; failure:^(NSString *msg) &#123; &#125;]; &#125;]; ä¹Ÿå°±æ˜¯å°† OC å—ä¸­æ‰€æœ‰çš„ self æ”¹æˆ weakSelfã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå¦‚æžœå¼•ç”¨çš„æ˜¯å®žä¾‹å˜é‡è€Œä¸æ˜¯å±žæ€§ï¼ŒåŽŸåˆ™ä¸Šæ˜¯ä¸éœ€è¦ weakSelf çš„ã€‚æ¯”å¦‚ currentPage åœ¨ View Controller ä¸­æ˜¯ä»¥å®žä¾‹å˜é‡å½¢å¼å®šä¹‰çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰ç”¨ @property è¿›è¡Œå£°æ˜Žï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸éœ€è¦é€šè¿‡ weakSelf æ¥è¿›è¡Œå¼•ç”¨ä½†æ˜¯ï¼Œå¦‚æžœä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ MLeaksFinder æ¥æ£€æµ‹å†…å­˜æ³„æ¼æ—¶ï¼ŒMLeaksFinder ä»ç„¶ä¼šè®¤ä¸º O-C å—ä¸­å¯¹ currentPage çš„å¼•ç”¨å­˜åœ¨é—®é¢˜ã€‚å› æ­¤ï¼Œä¸ºäº†è®© MLeaksFinder å½»åº•â€œé—­ä¸Šå˜´â€ï¼Œæˆ‘ä»¬æœ€å¥½ä¹Ÿå°† currentPage ä¿®æ”¹ä¸ºå±žæ€§ï¼ˆä½¿ç”¨ @property å£°æ˜Žï¼‰ï¼Œç„¶åŽå°† O-C å—ä¸­çš„å¼•ç”¨æ–¹å¼ä¿®æ”¹ä¸ºï¼šweakSelf.currentPage CADisplayLink å¯¼è‡´çš„å†…å­˜æ³„æ¼ åœ¨ä½¿ç”¨ CADisplayLink æ—¶ï¼Œå¦‚æžœä¸é‡Šæ”¾ CADisplayLinkï¼Œå¾ˆå®¹æ˜“å‡ºçŽ°å†…å­˜æ³„æ¼ã€‚ä»¥è‡ªå®šä¹‰ UIView ä¸ºä¾‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å®šæ—¶å™¨è¿›è¡ŒæŸäº›è‡ªå®šä¹‰çš„ç»˜å›¾å’ŒåŠ¨ç”»æ“ä½œã€‚è¿™æ—¶æˆ‘ä»¬ä¼šç”¨åˆ° CADisplayLink displayLink = [CADisplayLink displayLinkWithTarget:self selector:@selector(animateDashboard:)]; å½“æˆ‘ä»¬éœ€è¦å¼€å¯å®šæ—¶å™¨æ—¶ï¼Œå¯ä»¥å°†å®ƒæ·»åŠ åˆ° runloopï¼š [displayLink addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSRunLoopCommonModes]; ä½†æ˜¯ displayLink ä¼šæŒæœ‰ UIView å¯¹è±¡ï¼Œå¯¼è‡´ UIView æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ä¸€ä¸ªé€‚å½“çš„æ—¶æœºé‡Šæ”¾ displayLinkï¼Œæ¯”å¦‚åœ¨ CADisplayLink çš„ action æ–¹æ³•ä¸­æ ¹æ®ä¸€å®šçš„æ¡ä»¶æ¥ invalidate å®ƒï¼š -(void)animateDashboard:(CADisplayLink *)sender&#123; if( endValue &lt;= self.value)&#123;// åˆ°è¾¾ç»ˆç‚¹å€¼ï¼Œåœæ­¢åŠ¨ç”» ...... [displayLink invalidate]; ...... &#125;else&#123; ...... &#125;&#125; å¦å¤–ï¼ŒCADisplayLink æœ€å¥½ä¸è¦å¤ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡å¯åŠ¨ CADisplayLink æ—¶éƒ½é‡æ–°åˆå§‹åŒ–å¹¶å°†å®ƒæ·»åŠ åˆ° runloopï¼Œè€Œæ¯æ¬¡åœæ­¢åŠ¨ç”»æ—¶éƒ½ invalidateï¼š -(void)animating&#123; if(_stopped == YES)&#123; displayLink = [CADisplayLink displayLinkWithTarget:self selector:@selector(blink:)]; [displayLink addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSRunLoopCommonModes]; _stopped = NO; [self setNeedsDisplay]; &#125;&#125;-(void)stopAnimating&#123; if(_stopped == NO)&#123; [displayLink invalidate]; _stopped = YES; &#125;&#125; reloadRowsAtIndexPaths å¯¼è‡´çš„å†…å­˜æ³„æ¼ UITableView çš„ reloadRowsAtIndexPaths çš„è¡Œä¸ºéžå¸¸å¥‡æ€ªï¼Œåœ¨åˆ·æ–° cell æ—¶ï¼Œå®ƒå¹¶ä¸ä¼šé‡ç”¨åŽŸæœ‰çš„ cellï¼Œè€Œæ˜¯é‡æ–°åˆ›å»ºæ–°çš„ cell è¦†ç›–åœ¨åŽŸæ¥çš„ cell ä¸Šï¼Œè¿™ä¼šå¯¼è‡´é¢å¤–çš„å†…å­˜å¼€é”€ã€‚å½“é‡å¤å¤šæ¬¡è°ƒç”¨ reloadRowsAtIndexPaths ä¹‹åŽï¼Œä½ å¯ä»¥åœ¨è§†å›¾è°ƒè¯•å™¨ä¸­çœ‹ä¸‹æ•ˆæžœï¼šæ— è®ºä½ ç”¨ä¸ç”¨ beginUpdates/endUpdatesï¼Œç»“æžœéƒ½æ˜¯ä¸€æ ·ã€‚è§£å†³çš„åŠžæ³•ç›®å‰åªæœ‰ä¸€ä¸ªï¼Œä¸è¦ç”¨ reloadRowsAtIndexPathsï¼Œè€Œæ˜¯ä½¿ç”¨ reloadDataï¼Œå½“ç„¶ä¼šæœ‰ä¸€ç‚¹æ€§èƒ½ä¸Šçš„ä»£ä»·ï¼Œä½†ä¹Ÿæ˜¯æ²¡æœ‰åŠžæ³•çš„äº‹æƒ… å®šæ—¶å™¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜ æœ‰æ—¶å€™ NSTimer ï¼ˆå°¤å…¶æ˜¯ repeated ä¸º YES æ—¶ï¼‰ä¼šå¯¼è‡´å†…å­˜æ³„æ¼é—®é¢˜ã€‚å› ä¸ºå®šæ—¶å™¨æ˜¯åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­è¿è¡Œçš„ï¼Œå½“ç•Œé¢æ¶ˆå¤±åŽï¼Œå®šæ—¶å™¨ä»ç„¶è¿˜åœ¨è¿è¡Œï¼Œå¦‚æžœåœ¨å®šæ—¶å™¨ä»»åŠ¡ä¸­å¼•ç”¨äº† UI å…ƒç´ ï¼Œåˆ™è¿™äº›è§†å›¾éƒ½ä¼šè¢«å¼ºå¼•ç”¨ï¼Œä»Žè€Œå¯¼è‡´ç•Œé¢æ¶ˆå¤±åŽ view æ— æ³•é‡Šæ”¾ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚å› æ­¤ï¼Œå¦‚æžœåœ¨ä½ çš„ UIViewController ä¸­ä½¿ç”¨äº†å®šæ—¶å™¨ï¼Œä¸€å®šè¦è®°å¾—åœ¨ viewWillDisappear æ–¹æ³•ä¸­ invalidate å®ƒ addScriptMessageHandler å¯¼è‡´çš„å†…å­˜æ³„æ¼ WKUserContentController çš„ addScriptMessageHandler æ–¹æ³•ä¼šå¯¼è‡´ä¸€ä¸ªå¯¹ handler å¯¹è±¡çš„å¼ºå¼•ç”¨ï¼Œä»Žè€Œå¯¼è‡´ handler ï¼ˆé€šå¸¸æ˜¯ webView æ‰€åœ¨çš„ ViewControllerï¼‰ä¸ä¼šè¢«é‡Šæ”¾ï¼ŒäºŽæ˜¯å†…å­˜æ³„æ¼ã€‚è§£å†³çš„åŠžæ³•æ˜¯ removeScriptMessageHandlerForNameã€‚æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œå½“ä½  addScriptMessageHandler ä¹‹åŽï¼Œéœ€è¦åœ¨ä¸å†éœ€è¦ handler æ—¶ï¼Œéœ€è¦è°ƒç”¨ removeScriptMessageHandlerForName è§£é™¤ handler çš„å¼ºå¼•ç”¨ã€‚é—®é¢˜åœ¨äºŽï¼Œâ€œå½“ä½ ä¸åœ¨éœ€è¦å®ƒçš„æ—¶å€™â€åˆ°åº•æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿæˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨ viewDidLoad ä¸­ addScriptMessageHandlerï¼ŒæŒ‰é“ç†åº”è¯¥åœ¨ dealloc ä¸­ removeScriptMessageHandlerForNameã€‚ä½†ç”±äºŽå†…å­˜éƒ½å·²ç»æ³„æ¼äº†ï¼ŒViewContoller çš„ dealloc æ ¹æœ¬ä¸ä¼šè°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ— æ•ˆçš„ã€‚è§£å†³çš„åŠžæ³•æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å°† addScriptMessageHandler æ”¾åˆ° viewDidAppear ä¸­æ‰§è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨ viewDidDisappler ä¸­ removeScriptMessageHandlerForName äº†ã€‚å¦ä¸€ä¸ªæ–¹æ³•æ˜¯å°† handler å¼±å¼•ç”¨ã€‚è¿™éœ€è¦æ–°å»ºä¸€ä¸ªç±»ï¼Œåˆ›å»ºä¸€ä¸ªå¼±å¼•ç”¨çš„å±žæ€§ï¼Œç”¨è¿™ä¸ªå±žæ€§æ¥åŒ…è£… handler å¯¹è±¡ï¼š @interface WeakScriptMessageDelegate : NSObject&lt;WKScriptMessageHandler&gt;// 1@property (nonatomic, weak) id&lt;WKScriptMessageHandler&gt; scriptDelegate;- (instancetype)initWithDelegate:(id&lt;WKScriptMessageHandler&gt;)scriptDelegate;@end@implementation WeakScriptMessageDelegate- (instancetype)initWithDelegate:(id&lt;WKScriptMessageHandler&gt;)scriptDelegate&#123; self = [super init]; if (self) &#123; _scriptDelegate = scriptDelegate; &#125; return self;&#125;// 2- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message&#123; [self.scriptDelegate userContentController:userContentController didReceiveScriptMessage:message];&#125;@end è¿™ä¸ªå±žæ€§å°±æ˜¯ç”¨æ¥å¼±å¼•ç”¨ handler çš„å±žæ€§ï¼Œå®ƒä¿å­˜äº†ä¸€ä¸ªå¯¹ handler çš„å¼±å¼•ç”¨ã€‚ç±»åž‹æ˜¯ idï¼Œå› ä¸º addScriptMessageHandler æ–¹æ³•éœ€è¦ä¸€ä¸ª WKScriptMessageHandler å¯¹è±¡ä½œä¸ºå‚æ•° è¿™ä¸ªå¯¹è±¡å¯¹ WKScriptMessageHandler è¿›è¡Œäº†å°è£…ï¼Œå®ƒåŒæ ·å®žçŽ°äº† WKScriptMessageHandler åè®®ï¼Œè¿™ä¸ªåè®®ä¸­æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ–¹æ³•éœ€è¦å®žçŽ°ï¼Œå³ userContentController æ–¹æ³•ã€‚åœ¨æ–¹æ³•å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥è°ƒç”¨ handler çš„åŒåæ–¹æ³•å®žçŽ°ï¼ˆå› ä¸ºäºŒè€…çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ï¼‰ ä½¿ç”¨ / å°† handler è½¬æ¢æˆä¸€ä¸ªè‹¥å¼•ç”¨çš„ handler,ä»Žè€Œé¿å…å†…å­˜æ³„æ¼WeakScriptMessageDelegate* weakHandler = [[WeakScriptMessageDelegate alloc] initWithDelegate:handler];[webView.configuration.userContentController addScriptMessageHandler:weakHandler name:methodName]; MLeaksFinder å†…å­˜æ³„æ¼é—®é¢˜å¤šç§å¤šæ ·ï¼Œå®ƒä»¬ç»å¸¸ä»¥å‡ºä¹Žäººæ„æ–™çš„å½¢å¼å­˜åœ¨ï¼Œæˆ‘ä»¬æ— æ³•ä»¥ä¸€ç§å›ºå®šçš„æ¨¡å¼æ¥åˆ¤æ–­ app ä¸­å­˜åœ¨çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚æˆ‘ä»¬å¸¸å¸¸éœ€è¦ä½¿ç”¨å¤šä¸ªå·¥å…·å’Œæ‰‹æ®µæ¥æ£€æŸ¥ app ä¸­çš„å†…å­˜é—®é¢˜ï¼Œæ¯”å¦‚å¯ä»¥ç”¨ Xcode çš„ Analyze å·¥å…·å¯¹ä»£ç è¿›è¡Œé™æ€è¯­æ³•åˆ†æžï¼Œç”¨ Instrument çš„ Leaks/Allocations å·¥å…·è¿›è¡ŒåŠ¨æ€å†…å­˜æ£€æŸ¥åˆ†æžï¼Œç”¨è§†å›¾è°ƒè¯•å™¨æŸ¥çœ‹ UI é—®é¢˜ç­‰ç­‰ã€‚ ä½†æˆ‘ä»¬è¿˜å¯ä»¥ç”¨è®¸å¤šç¬¬ä¸‰æ–¹å†…å­˜æ³„æ¼æ£€æµ‹æ¡†æž¶ï¼Œæ¯”å¦‚ï¼šMLeaksFinder å’Œ HeapInspector-for-iOSï¼Œå°¤å…¶æ˜¯å‰è€…ï¼ˆåŽè€…ç›®å‰ä¼šå¯¼è‡´ App â€œå†»æ­»â€çš„é—®é¢˜ï¼Œä½œè€…è¿˜åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ï¼‰ã€‚ MLeaksFinder æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºŽæ£€æµ‹ UI ç±»å†…å­˜æ³„æ¼çš„å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥æ£€æµ‹ UIViewController å’Œ UIView ä¸­æœª dealloc çš„ subviewã€‚ å®ƒçš„ä½¿ç”¨éžå¸¸ç®€å•ï¼Œç›´æŽ¥ pod MLeaksFinderï¼Œç„¶åŽæ‰¾åˆ° MLeaksFinder.h å¤´æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„ MEMORY_LEAKS_FINDER_ENABLED å®å’Œ MEMORY_LEAKS_FINDER_RETAIN_CYCLE_ENABLED å®æ‰“å¼€ï¼ˆè®¾ç½®ä¸º 1ï¼‰å°±å¯ä»¥äº†ã€‚ ç¼–è¯‘è¿è¡Œ appï¼Œæµ‹è¯•å„ç§æ“ä½œï¼Œåˆ‡æ¢åˆ°ä¸åŒçš„ view controllerï¼Œå½“ MLeaksFinder å‘çŽ°å†…å­˜æ³„æ¼ä¼šå¼¹å‡ºä¸€ä¸ª alertï¼ˆåŒæ—¶æŽ§åˆ¶å°ä¼šæœ‰è¾“å‡ºï¼‰ï¼Œå‘Šè¯‰ä½ å“ªä¸ªç±»å’Œ UIView ä¸­å­˜åœ¨å†…å­˜æ³„æ¼ï¼ˆä»¥åŠå¾ªçŽ¯æŒæœ‰ï¼‰]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-NSSet]]></title>
    <url>%2F2017%2F12%2F06%2FOC%2FGrammar%2FiOS-NSSet%2F</url>
    <content type="text"><![CDATA[NSSetåˆå§‹åŒ– NSSetæ˜¯æ— åºçš„æ³¨æ„:è¿™ä¸ªæ˜¯æœ€ä¸ºé‡è¦çš„åŠŸèƒ½ NSSetä¸­ä¸èƒ½å¤Ÿå­˜å‚¨é‡å¤çš„æ•°æ®,å¯ä»¥ç”¨å®ƒæ¥åŽ»é™¤é‡å¤çš„å€¼ NSString * str1 = @"one"; NSString * str2 = @"two"; NSString * str3 = @"three"; NSSet * set = [[NSSet alloc] initWithObjects:str1,str2,str3,str1, nil]; è¿™æ ·å…¶å®žåœ¨setä¸­æŒ‡å­˜å‚¨äº† @â€œoneâ€,@â€œtwoâ€,@â€œthreeâ€ set.count å€¼ä¸º3[set containsObject:str1]; æ˜¯å¦åŒ…å«str1 éåŽ†NSEnumerator * enumerator = [set objectEnumerator]; NSString * value; while (value = [enumerator nextObject]) &#123; NSLog(@"value %@",value); &#125; å¯å˜é›†åˆNSMutableSet åˆ›å»ºä¸€ä¸ªå¯å˜é›†åˆ NSMutableSet * muSet = [[NSMutableSet alloc] init]; å¢žåŠ å€¼ [muSet addObject:str1]; åˆ é™¤ [muSet removeObject:str1]; åˆ é™¤æ‰€æœ‰ [muSet removeAllObjects]; é›†åˆä¹‹é—´ç›¸äº’è½¬æ¢ NSArray è½¬æ¢æˆ NSMutableArray NSArray * array = @[@"one",@"two",@"three"];NSMutableArray * muArray = [NSMutableArray arrayWithArray:array]; NSDictionary è½¬æ¢æˆ NSMutableDictionary NSDictionary * dic = @&#123;@"one":@"1",@"two":@"2"&#125;;NSMutableDictionary * muDic = [NSMutableDictionary dictionaryWithDictionary:dic]; NSSet è½¬æ¢æˆ NSMutableSet NSSet * set = [[NSSet alloc] initWithObjects:@"one",@"two", nil];NSMutableSet *muSet = [NSMutableSet setWithSet:set]; NSArray è½¬æ¢æˆNSSetNSMutableSet * muSet2 = [NSMutableSet setWithArray:array]; NSDictionary è½¬åŒ–æˆNSArrayNSArray * keys = [dic allKeys];NSArray * values = [dic allValues]; å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„NSString * str = @"aa.bb.cc";NSArray * strArray =[str componentsSeparatedByString:@â€œ."];]]></content>
      <categories>
        <category>iOS</category>
        <category>UIKit</category>
        <category>NSSet</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>UIKit</tag>
        <tag>NSSet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-UIKit-NSDictionary-å­—å…¸]]></title>
    <url>%2F2017%2F12%2F06%2FOC%2FGrammar%2FiOS-NSDictionary-%E5%AD%97%E5%85%B8%2F</url>
    <content type="text"><![CDATA[#åˆå§‹åŒ– åˆ›å»ºå­—æ®µ,ä¸å¯å˜çš„ NSDictionary * dic = [NSDictionary dictionaryWithObjectsAndKeys:@"s",@"name", nil]; å¿«æ·åˆ›å»ºæ–¹å¼ NSDictionary * dic2 = @&#123; @"one":@"1",@"two":@"2"&#125;;dic2.count èŽ·å¾—å­—å…¸é•¿åº¦ éåŽ†NSArray * keys = [dic3 allKeys]; for (int i = 0; i &lt; keys.count; i++) &#123; NSString * key = [keys objectAtIndex:i]; //å¦‚æžœä½ çš„å­—å…¸ä¸­å­˜å‚¨çš„å¤šç§ä¸åŒçš„ç±»åž‹,é‚£ä¹ˆæœ€å¥½ç”¨idç±»åž‹åŽ»æŽ¥å—å®ƒ id obj = [dic3 objectForKey:key]; NSLog(@"obj %@",obj); &#125; æžšä¸¾å™¨ NSEnumerator * enumerator = [dic3 objectEnumerator];id value;while (value = [enumerator nextObject]) &#123; NSLog(@"value %@",value);&#125; å¯å˜å­—å…¸NSMutableDictionary åˆ›å»ºä¸€ä¸ªå¯å˜é•¿åº¦å­—å…¸ NSMutableDictionary * muDic = [[NSMutableDictionary alloc] initWithCapacity:0]; å‘å­—å…¸ä¸­æ‘å¦‚æ•°æ® [muDic setObject:@"1" forKey:@"one"]; åˆ é™¤ [muDic removeObjectForKey:@â€œone"]; å…¨éƒ¨åˆ é™¤ [muDic removeAllObjects];]]></content>
      <categories>
        <category>iOS</category>
        <category>UIKit</category>
        <category>NSDictionary</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>UIKit</tag>
        <tag>NSDictionary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-UIKit-NSArray-æ•°ç»„]]></title>
    <url>%2F2017%2F12%2F06%2FOC%2FGrammar%2FiOS-UIKit-NSArray-%E6%95%B0%E7%BB%84%2F</url>
    <content type="text"><![CDATA[åˆå§‹åŒ–ã€å–å€¼ç­‰åŸºç¡€æ“ä½œ NSArray æ˜¯ä¸å¯å˜æ•°ç»„,ä¸€æ—¦åˆ›å»ºå®Œæˆå°±ä¸èƒ½å¤Ÿå¯¹æ•°ç»„è¿›è¡Œ,æ·»åŠ ,åˆ é™¤ç­‰æ“ä½œ NSArray * array = [[NSArray alloc] init]; NSArray * array1 = [NSArray arrayWithObjects:@"one",@"two",@"three", nil]; ``` &gt;åœ¨åˆ›å»ºä¸€ä¸ªNSArrayçš„æ—¶å€™æœ€åŽä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯nil ä¸è¦æŠŠnilå­˜åˆ°æ•°ç»„ä¸­ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±&gt;æ•°ç»„å®žé™…ä¸Šå­˜å‚¨çš„æ—¶å¯¹è±¡çš„åœ°å€,åŒæ ·ä¹Ÿå¯ä»¥å­˜å‚¨æ•°ç»„çš„åœ°å€```objectivec NSArray * a1 = [[NSArray alloc] initWithObjects:@"one",@"two",@"three", nil]; NSArray * a2 = [[NSArray alloc] initWithObjects:@"1",@"2",@"3", nil]; NSArray * a3 = [[NSArray alloc] initWithObjects:a1,a2, nil];``` &gt;åˆ›å»ºæ•°ç»„çš„å¿«æ·æ–¹å¼```objectivec NSArray * array = @[@"a",@"b",@"c"]; å¿«é€ŸèŽ·å¾—ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´  NSString * str = array[0]; [array objectAtIndex:0]; æ•°ç»„çš„indexä»Ž0å¼€å§‹ [array count] èŽ·å¾—å…ƒç´ ä¸ªæ•°[array containsObject:p1] åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŸä¸ªå¯¹è±¡ éåŽ†æ•°ç»„ æ™®é€šçš„forå¾ªçŽ¯ for (int i = 0; i &lt; array.count; i++)&#123; NSString * str = array[i]; NSLog(@"array[%d] = %@",i,str);&#125; ä½¿ç”¨å¢žå¼ºforå¾ªçŽ¯çš„æ–¹å¼éåŽ†æ•°ç»„ for (NSString * str in array)&#123; NSLog(@"str = %@",str);&#125; æžšä¸¾å™¨ NSArray * array = @[@"one",@"two",@"three"];NSEnumerator * enumerator = [array objectEnumerator];NSString * value;while (value = [enumerator nextObject]) &#123; NSLog(@"enum str %@",value);&#125; æ•°ç»„æŽ’åº ä½¿ç”¨sortedArrayUsingSelector [array sortedArrayUsingSelector:@selector(compare:)] ä½¿ç”¨blockæ–¹å¼æŽ’åº array2 = [array2 sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) &#123; /* NSComparisonResult result = [obj1 compare:obj2]; return result; */ //obj1 compare obj2 å°±æ˜¯æ­£åºæŽ’åº //return [obj1 compare:obj2]; //obj2 compare obj1 å°±æ˜¯å€’åºæŽ’åº return [obj2 compare:obj1]; &#125;]; å¦‚æžœä½ å‘ç»™ä½ è‡ªå·±å®šä¹‰çš„å¯¹è±¡æŽ’åº,å¿…é¡»æ ¹æ®æŸä¸€ä¸ªå±žæ€§æ¥æŽ’åº,å¦‚æžœä½ å‘ç»™ä½ è‡ªå·±å®šä¹‰çš„å¯¹è±¡æŽ’åº,å¿…é¡»æ ¹æ®æŸä¸€ä¸ªå±žæ€§æ¥æŽ’åº,sortDescriptorWithKey å‚æ•°è¦çš„å°±æ˜¯ä½ å¯¹è±¡ä¸­,è¦ä¾æ®å“ªä¸ªå±žæ€§æ¥æŽ’åº,ä½ å°±æŠŠå“ªä¸ª å±žæ€§çš„åå­—å½“æˆkeyä¼ å…¥ascending YESè¡¨ç¤ºæ­£åº NOè¡¨ç¤ºå€’å™ NSSortDescriptor * d1 = [NSSortDescriptor sortDescriptorWithKey:@"age" ascending:NO]; NSSortDescriptor * d2 = [NSSortDescriptor sortDescriptorWithKey:@"year" ascending:NO]; ``` &gt;å¦‚æžœä½ è¦ä½¿ç”¨å¤šä¸ªå±žæ€§è¿›è¡ŒæŽ’åº,é»˜è®¤åœ¨å‰é¢çš„NSSortDescriptorä¼˜å…ˆçº§æ¯”è¾ƒé«˜```objectivec NSArray * description = @[d2,d1]; array3 = [array3 sortedArrayUsingDescriptors:description]; å¯å˜æ•°ç»„NSMutableArray åˆ›å»ºå¯å˜æ•°ç»„ NSMutableArray * array = [[NSMutableArray alloc] initWithCapacity:0]; ä½¿ç”¨addObject åŠ¨æ€ç»™æ•°ç»„ä¸­å¢žåŠ å…ƒç´  [array addObject:@â€œone"]; æ•°ç»„ä¸­å¯ä»¥å­˜å‚¨,åŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡æŒ‡å®šå¯¹è±¡æ’å…¥çš„ä½ç½® [array insertObject:str1 atIndex:2]; åˆ é™¤ ä¼šé€šè¿‡å¯¹è±¡,åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰çš„åŒä¸€ä¸ªåœ°å€çš„å¯¹è±¡ [array removeObject:str1]; é€šè¿‡ç´¢å¼•çš„æ–¹å¼åˆ é™¤å¯¹è±¡,è¶…å‡ºäº†æ•°ç»„çš„countå€¼,é‚£ä¹ˆå°±ä¼šå¯¼è‡´å¼‚å¸¸ index beyond bounds [array removeObjectAtIndex:0];[array removeAllObjects];]]></content>
      <categories>
        <category>iOS</category>
        <category>UIKit</category>
      </categories>
      <tags>
        <tag>iOS</tag>
        <tag>UIKit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-AccessControl-è®¿é—®æŽ§åˆ¶]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FAccessControl-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%2F</url>
    <content type="text"><![CDATA[AccessControlè®¿é—®æŽ§åˆ¶ Swiftå’ŒC++ï¼ŒJavaä¸€æ ·ï¼Œä¹Ÿæœ‰è®¿é—®æŽ§åˆ¶çš„æ¦‚å¿µã€‚é€šè¿‡è®¿é—®æƒé™çš„æŽ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å¤–éšè—å†…éƒ¨çš„ä»£ç ç»†èŠ‚ï¼Œé˜²æ­¢ä¿®æ”¹ã€‚Swiftçš„è®¿é—®æŽ§åˆ¶æ˜¯åŸºäºŽæ¨¡å—ï¼ˆmodulesï¼‰å’Œæºæ–‡ä»¶ï¼ˆsource fileï¼‰ Swiftçš„æ¨¡å—æ¦‚å¿µæ˜¯è¿™æ ·çš„ï¼š 1ã€ä¸€ä¸ªApp bundleï¼Œæˆ–è€…ä¸€ä¸ªframeworkéƒ½å¯ä»¥çœ‹æˆä¸€ä¸ªç‹¬ç«‹çš„moduleã€‚ ä½ å¯ä»¥ä½¿ç”¨importæ¥å¼•å…¥åˆ«çš„moduleåˆ°ä½ çš„moduleä¸­æ¥ã€‚å½“ä½ å°†ä½ çš„ä»£ç æ‰“åŒ…æˆä¸€ä¸ªframeworkï¼Œè¿™ä¸ªframeworkå°±æ˜¯ä¸€ä¸ªmoduleã€‚é‡Œé¢çš„æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯å±žäºŽè¿™ä¸ªframeworkï¼Œæ— è®ºä½ å°†è¿™ä¸ªframeworkå¼•å…¥åˆ°åˆ«çš„frameworkæˆ–appä¸­ã€‚ 2ã€ä¸€ä¸ªæºæ–‡ä»¶é‡Œé¢è™½ç„¶å¯ä»¥å®šä¹‰å¤šä¸ªç±»ï¼Œä½†æ˜¯å»ºè®®ä¸€èˆ¬ä¸€ä¸ªæºæ–‡ä»¶å»ºç«‹ä¸€ä¸ªç±»ã€‚ Swiftçš„è®¿é—®æƒé™æœ‰ï¼šopenï¼Œpublicï¼Œinternalï¼Œfileprivateï¼Œprivate 1ã€public è¿™ä¸ªæƒé™å…è®¸åŒä¸€ä¸ªmoduleå†…éƒ¨çš„æ‰€æœ‰æºä»£ç è®¿é—®ï¼ŒåŒæ—¶å…è®¸å…¶ä»–å¼•å…¥äº†è¯¥moduleçš„moduleä½¿ç”¨ã€‚æ€»çš„æ¥è¯´å°±æ˜¯å…¨å¼€æ”¾ 2ã€internal è¿™ä¸ªæƒé™å…è®¸åŒä¸€ä¸ªmoduleå†…éƒ¨çš„æ‰€æœ‰æºä»£ç è®¿é—®ï¼Œä¸å…è®¸å…¶ä»–moduleä½¿ç”¨ã€‚ 3ã€private è¿™ä¸ªæƒé™ä»…å…è®¸åŒä¸€ä¸ªsource fileçš„ä»£ç è®¿é—®ã€‚ Swiftçš„é»˜è®¤è®¿é—®æƒé™æ˜¯internalã€‚ publicæ˜¯æœ€é«˜è®¿é—®æƒé™ï¼Œè€Œprivateæ˜¯æœ€ä½Žè®¿é—®æƒé™ã€‚ Swiftçš„æƒé™ç¼–ç¨‹åŽŸåˆ™ï¼š ä¸€ã€é«˜æƒé™çš„ä¸œè¥¿ä¸èƒ½åŒ…å«åœ¨ä½Žæƒé™çš„ä¸œè¥¿é‡Œé¢ã€‚ ä¸¾ä¾‹ï¼š 1ã€è¯´å°±æ˜¯ä¸€ä¸ªpublicçš„ç±»åž‹ä¸èƒ½å®šä¹‰åœ¨ä¸€ä¸ªå£°æ˜Žä¸ºinternalçš„ç±»åž‹é‡Œé¢ã€‚ 2ã€æ–¹æ³•çš„æƒé™ä¸èƒ½é«˜äºŽå‚æ•°å’ŒèŒƒå›´å€¼çš„æƒé™ã€‚å¦åˆ™ä¼šå¯¼è‡´è¿™ä¸ªæ–¹æ³•æ²¡æ³•ä½¿ç”¨ã€‚ äºŒã€å•ä¸€appä¸­ ä¸€èˆ¬å°±ç”¨é»˜è®¤çš„internalå°±è¡Œäº†ã€‚å¦‚æžœä½ æƒ³å¯¹å…¶ä»–æºæ–‡ä»¶éšè—ï¼Œå¯ä»¥ä½¿ç”¨privateã€‚ ä¸‰ã€frameworkä¸­ å¯¹äºŽè¦æä¾›ç»™å¤–è¾¹ä½¿ç”¨çš„å±žæ€§ï¼Œæ–¹æ³•ã€‚å¿…é¡»ä½¿ç”¨publicæƒé™ã€‚å…¶ä»–çš„å¯ä»¥é»˜è®¤ä½¿ç”¨internalã€‚å¦‚æžœç›¸å¯¹frameworké‡Œé¢çš„å…¶ä»–æºæ–‡ä»¶éšè—ï¼Œå¯ä»¥ä½¿ç”¨privateã€‚ å››ã€å•å…ƒæµ‹è¯•ä¸­ å•å…ƒæµ‹è¯•å’Œæˆ‘ä»¬ç¼–å†™çš„ä»£ç å±žäºŽä¸åŒçš„moduleï¼Œæ‰€ä»¥æµ‹è¯•æ¨¡å—ä¸€èˆ¬åªèƒ½è®¿é—®åˆ°publicçš„ä¸œè¥¿ã€‚ä½†æ˜¯åœ¨å¼•å…¥è¦æµ‹è¯•çš„æ¨¡å—çš„æ—¶å€™å¯ä»¥åŠ ä¸Š@testableï¼Œè¿™æ ·æµ‹è¯•æ¨¡å—å°±å¯ä»¥è®¿é—®äº†ã€‚ç„¶åŽè¦å…è®¸è¢«æµ‹è¯•çš„å•å…ƒå¯ä»¥æµ‹è¯• public class SomePublicClass &#123;&#125; internal class SomeInternalClass &#123;&#125; private class SomePrivateClass &#123;&#125; public var somePublicVariable = 0 internal let someInternalConstant = 0 private func somePrivateFunction() &#123;&#125; ç»™ç±»åž‹å®šä¹‰è®¿é—®æƒé™çš„æ—¶å€™ï¼Œä¼šå½±å“åˆ°ç±»åž‹é‡Œé¢çš„æˆå‘˜ï¼ˆå±žæ€§ï¼Œæ–¹æ³•ï¼Œä¸‹æ ‡ï¼Œæž„é€ å™¨ï¼‰ 1ã€å°†ä¸€ä¸ªç±»åž‹å®šä¹‰ä¸ºprivateåŽï¼Œå®ƒé‡Œé¢çš„æˆå‘˜éƒ½æ˜¯privateçš„ã€‚ 2ã€å°†ä¸€ä¸ªç±»åž‹å®šä¹‰ä¸ºpublicæˆ–internalåŽï¼Œå®ƒé‡Œé¢çš„æˆå‘˜è¿˜æ˜¯internalçš„ã€‚å¦‚æžœè¦æŸä¸ªæˆå‘˜å˜ä¸ºpublicï¼Œå¿…é¡»åœ¨è¯¥æˆå‘˜é‡Œé¢åŠ ä¸Špublicã€‚ Tuple Tupleçš„è®¿é—®æƒé™ç”±tupleæˆå‘˜é‡Œé¢è®¿é—®æƒé™æœ€å°é‚£ä¸ªå†³å®šã€‚ æ–¹æ³• æ–¹æ³•çš„è®¿é—®æƒé™ç”±æ–¹æ³•çš„å‚æ•°å’Œè¿”å›žå€¼ä¸­æœ€å°æƒé™çš„é‚£ä¸ªå†³å®šã€‚å½“æ–¹æ³•çš„æƒé™æ˜¯privateçš„æ—¶å€™ï¼Œæ–¹æ³•çš„å‰é¢è¦åŠ ä¸Šprivateå…³é”®å­—ã€‚ æžšä¸¾ç±» æžšä¸¾ç±»åž‹çš„æˆå‘˜å˜é‡çš„è®¿é—®æƒé™å†³å®šäºŽæžšä¸¾ç±»åž‹ã€‚ä¾‹å¦‚ä½ å®šä¹‰äº†ä¸€ä¸ªpublicçš„æžšä¸¾ç±»åž‹ï¼Œé‚£ä¹ˆå®ƒé‡Œé¢çš„caseæˆå‘˜éƒ½æ˜¯publicçš„ï¼Œä¸å…è®¸å•ç‹¬ç»™æ¯ä¸ªcaseæˆå‘˜å®šä¹‰è®¿é—®æƒé™ã€‚caseæˆå‘˜çš„raw vlaueçš„å€¼çš„æƒé™å¿…é¡»å¤§äºŽç­‰äºŽæžšä¸¾ç±»çš„è®¿é—®æƒé™ã€‚ å†…éƒ¨ç±» å®šä¹‰åœ¨privateç±»åž‹é‡Œé¢çš„å†…éƒ¨ç±»æ˜¯privateæƒé™ï¼›å®šä¹‰åœ¨publicæˆ–internalç±»åž‹é‡Œé¢çš„å†…éƒ¨ç±»é»˜è®¤æ˜¯internalç±»åž‹ã€‚å¦‚æžœæƒ³è¦å®šä¹‰åœ¨publicç±»åž‹é‡Œé¢çš„å†…éƒ¨ç±»å˜ä¸ºpublicçš„è¯ï¼Œéœ€è¦è‡ªå·±æ˜¾å¼ç»™å†…éƒ¨ç±»åŠ ä¸Špublicã€‚ å­ç±» å­ç±»ä¸èƒ½æ¯”çˆ¶ç±»å…·æœ‰æ›´é«˜çš„è®¿é—®æƒé™ã€‚ä½†æ˜¯å¯ä»¥é‡å†™çˆ¶ç±»å½“å‰èƒ½è®¿é—®åˆ°çš„çˆ¶ç±»æˆå‘˜ï¼Œè€Œä¸”å¯ä»¥é‡å†™æˆæ›´é«˜æƒé™çš„æˆå‘˜ public class A &#123; private func someMethod() &#123;&#125; &#125; internal class B: A &#123; override internal func someMethod() &#123; super.someMethod() &#125; &#125; é‡Œå†è¡¥å……ä¸€ç‚¹ï¼Œå¦‚æžœçˆ¶ç±»æ˜¯publicç±»çš„ï¼Œç»§æ‰¿ä¹‹åŽä¸åŠ æƒé™ä¿®é¥°ç¬¦çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç±»æ˜¯internalçš„å±žæ€§ï¼Œå¸¸é‡ï¼Œå˜é‡å’Œä¸‹æ ‡çš„è®¿é—®æƒé™ä¸èƒ½è¶…è¿‡å®ƒæ‰€å±žçš„ç±»åž‹çš„æƒé™ getterå’Œsetteræ–¹æ³• è¿™ä¸¤ä¸ªæ–¹æ³•çš„è®¿é—®æƒé™é»˜è®¤å’Œå±žæ€§çš„æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯å¯ä»¥ä¿®æ”¹setterçš„æƒé™ï¼Œå¯ä»¥å°†setterçš„æƒé™ä¿®æ”¹å¾—æ¯”å±žæ€§çš„æƒé™ä½Žï¼Œä½†æ˜¯ä¸èƒ½æ¯”å±žæ€§çš„æƒé™é«˜ public class Animal &#123; public internal(set) var age: Int = 0 &#125; æž„é€ å™¨ æž„é€ å™¨çš„æƒé™ä¸èƒ½å¤§äºŽå®ƒæ‰€å±žç±»åž‹çš„æƒé™ã€‚é™¤äº†æ ‡å¿—æœ‰requireçš„æž„é€ å™¨ä¹‹å¤–ï¼Œè¿™ç§æž„é€ å™¨çš„æƒé™å¿…é¡»å’Œå®ƒæ‰€å±žçš„ç±»çš„æƒé™ç›¸åŒã€‚æž„é€ å™¨å‚æ•°çš„æƒé™ä¸èƒ½ä½ŽäºŽæž„é€ å™¨ã€‚ é»˜è®¤æž„é€ å™¨ é»˜è®¤æž„é€ å™¨çš„é»˜è®¤æƒé™å’Œç±»åž‹æƒé™ä¸€æ ·ã€‚ä½†æ˜¯å¦‚æžœç±»åž‹æ˜¯publicï¼Œé‚£ä¹ˆé»˜è®¤æž„é€ å™¨è¿˜æ˜¯internalçš„ï¼Œæƒ³è¦publicçš„æ— å‚æž„é€ å™¨å¿…é¡»è‡ªå·±å®žçŽ°ã€‚å¯¹äºŽç»“æž„ä½“çš„memberwiseæž„é€ å™¨ï¼Œæƒ³è¦publicçš„ï¼Œä¹Ÿè¦è‡ªå·±å®žçŽ°ã€‚ åè®® åè®®çš„éœ€æ±‚çš„æƒé™å’Œåè®®æƒé™æ˜¯ä¸€æ ·çš„ï¼Œåè®®æ˜¯publicçš„ï¼Œé‚£ä¹ˆéœ€æ±‚ä¹Ÿæ˜¯publicçš„ã€‚ç»§æ‰¿çš„åè®®çš„æƒé™æœ€å¤šåªèƒ½æœ‰çˆ¶ç±»çš„æƒé™ã€‚ä¾‹å¦‚ï¼šä¸èƒ½ç»§æ‰¿ä¸€ä¸ªinternalçš„åè®®ä¸ºä¸€ä¸ªpublicåè®®ã€‚ åè®®çš„ä¸€è‡´æ€§ ç±»åž‹å¯ä»¥å®žçŽ°æ¯”è‡ªå·±è®¿é—®æƒé™ä½Žçš„åè®®ã€‚æ¯”å¦‚ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªpublicçš„ç±»ï¼Œå®ƒå¯ä»¥å®žçŽ°ä¸€ä¸ªinternalçš„ç±»ï¼Œå¹¶ä¸”åªèƒ½åœ¨å®šä¹‰äº†è¯¥åè®®çš„æ¨¡å—ä¸­ä½¿ç”¨ã€‚å®žçŽ°äº†åè®®çš„ç±»è®¿é—®æƒé™æ˜¯å®ƒæœ¬èº«å’Œé‡‡ç”¨åè®®ä¸­çš„æœ€ä½Žè®¿é—®æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æžœä¸€ä¸ªç±»æ˜¯publicçš„çº§åˆ«ï¼Œå®žçŽ°çš„æ˜¯internalçš„åè®®ï¼Œé‚£ä¹ˆé‡‡ç”¨è¿™ä¸ªåè®®ä¹‹åŽï¼Œè¯¥ç±»çš„è®¿é—®æƒé™ä¹Ÿæ˜¯internalçš„ã€‚å¦‚æžœä½ é‡‡ç”¨äº†åè®®ï¼Œé‚£ä¹ˆå®žçŽ°åè®®æ–¹æ³•ä¹‹åŽï¼Œè¯¥æ–¹æ³•çš„è®¿é—®æƒé™éµå¾ªåè®®çš„è®¿é—®çº§åˆ«ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªpublicçš„ç±»ï¼Œé‡‡ç”¨äº†internalçš„åè®®ä¹‹åŽï¼Œé‚£ä¹ˆè¯¥ç±»çš„å®žçŽ°åè®®çš„æ–¹æ³•è‡³å°‘ä¹Ÿæ˜¯internalçš„ã€‚ æ‰©å±• æ‰©å±•çš„é»˜è®¤è®¿é—®æƒé™ç”±æ‰€æ‰©å±•ç±»åž‹çš„è®¿é—®æƒé™å†³å®šã€‚ å¦‚æžœä½ æ‰©å±•äº†ä¸€ä¸ªpublicçš„ç±»åž‹ï¼Œé‚£ä¹ˆæ‰©å±•çš„æˆå‘˜çš„é»˜è®¤è®¿é—®æƒé™å°±æ˜¯internalã€‚å¦‚æžœæ‰©å±•ä¸€ä¸ªprivateç±»åž‹ï¼Œé‚£ä¹ˆæ‰©å±•çš„é»˜è®¤è®¿é—®æƒé™å°±æ˜¯privateã€‚å½“ç„¶å¯ä»¥è‡ªå·±ç»™æ‰©å±•è‡ªå®šä¹‰è®¿é—®æƒé™ã€‚ä½†æ˜¯æƒé™ä¸èƒ½è¶…è¿‡æ‰€æ‰©å±•çš„ç±»åž‹ã€‚å¦å¤–å¯ä»¥è‡ªå·±ç»™æ‰©å±•æˆå‘˜å†è‡ªå®šä¹‰æƒé™ã€‚å¦‚æžœä½ æ˜¯ç”¨æ‰©å±•æ¥å®žçŽ°åè®®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ‰©å±•ä¸å…è®¸è‡ªå®šä¹‰æƒé™ï¼Œå®ƒçš„æƒé™ç”±åè®®çš„æƒé™å†³å®šã€‚ æ³›åž‹ æ³›åž‹åˆ†ä¸ºæ³›åž‹ç±»åž‹å’Œæ³›åž‹æ–¹æ³•æ³›åž‹ç±»åž‹çš„æƒé™æ˜¯ æ³›åž‹ç±»åž‹å’Œæ³›åž‹å‚æ•° ä¹‹é—´æœ€å°çš„é‚£ä¸ªæƒé™ã€‚æ³›åž‹æ–¹æ³•çš„æƒé™æ˜¯ æ³›åž‹æ–¹æ³•å’Œæ³›åž‹å‚æ•° ä¹‹é—´æœ€å°çš„é‚£ä¸ªæƒé™ã€‚ ç±»åž‹åˆ«å æ¯ä¸ªç±»åž‹åˆ«åéƒ½å¯ä»¥çœ‹åšæ˜¯å¯¹ç±»åž‹çš„è®¿é—®æƒé™çš„å®šä¹‰ã€‚ä½†æ˜¯ç±»åž‹åˆ«åçš„æƒé™å¿…é¡»å°äºŽæˆ–ç­‰äºŽè¦åˆ«åçš„ç±»åž‹ã€‚æ¯”å¦‚ä¸€ä¸ªprivateçš„ç±»åž‹åˆ«åå¯ä»¥ä¸ºprivateï¼Œpublicï¼Œinternalçš„ç±»åž‹è¿›è¡Œåˆ«åï¼›ä½†æ˜¯ä¸€ä¸ªpublicçš„ç±»åž‹åˆ«åä¸èƒ½ä¸ºinternalå’Œprivateçš„ç±»åž‹è¿›è¡Œåˆ«åã€‚]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>AccessControl</category>
      </categories>
      <tags>
        <tag>Swift</tag>
        <tag>Grammar</tag>
        <tag>AccessControl</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Generics-æ³›åž‹]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FGenerics-%E6%B3%9B%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[æ³›åž‹ æŽ¥å—å…¶å®ƒå‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°æœ‰æ—¶è¢«ç§°ä¸ºé«˜é˜¶å‡½æ•°æ³›åž‹å‡½æ•° å†™ä¸€ä¸ªå‡½æ•°çš„æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šæŒ‡æ˜Žå‚æ•°çš„ç±»åž‹ä¸€èˆ¬é»˜è®¤åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å‚æ•°éƒ½æ˜¯å¸¸é‡å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå‚æ•°ä½ åªå¯ä»¥æŸ¥è¯¢ä½¿ç”¨ï¼Œä¸èƒ½æ”¹å˜å®ƒçš„å€¼å¦‚æžœæƒ³è¦å£°æ˜Žä¸€ä¸ªå˜é‡å‚æ•°ï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Švarï¼Œè¿™æ ·å°±å¯ä»¥æ”¹å˜è¿™ä¸ªå‚æ•°çš„å€¼ //æ­¤æ—¶è¿™ä¸ªidå€¼å¯ä»¥åœ¨å‡½æ•°ä¸­æ”¹å˜ func getName(var id:String)......... ä¸€èˆ¬é»˜è®¤çš„å‚æ•°ä¼ é€’éƒ½æ˜¯ä¼ å€¼è°ƒç”¨çš„ï¼Œè€Œä¸æ˜¯ä¼ å¼•ç”¨ã€‚æ‰€ä»¥ä¼ å…¥çš„å‚æ•°åœ¨å‡½æ•°å†…æ”¹å˜ï¼Œå¹¶ä¸å½±å“åŽŸæ¥çš„é‚£ä¸ªå‚æ•°ã€‚ä¼ å…¥çš„åªæ˜¯è¿™ä¸ªå‚æ•°çš„å‰¯æœ¬ä¸‹é¢ä¸¤ä¸ªå®žçŽ°äº¤æ¢å˜é‡çš„å‡½æ•° func swapTwoInts( a:inout Int, b:inout Int)&#123; let t = a // 0 a = b // 100 b = t // 0&#125;var x = 0,y = 100print("x = \(x) ;y = \(y)")//æ‰“å°x = 0 ;y = 100//äº¤æ¢å˜é‡çš„å‡½æ•°swapTwoInts(a: &amp;x, b: &amp;y)print("x = \(x) ;y = \(y)")x = 100 ;y = 0 ä¸Šé¢çš„åªæ˜¯é™äºŽäº¤æ¢æ•´å½¢ã€‚ä½†æ˜¯å¦‚æžœæˆ‘ä»¬ç›¸å¯¹Doubleæˆ–Floatç±»åž‹ï¼Œç”šè‡³æ˜¯ä»»ä½•ç±»åž‹çš„æ•°æ®å®žçŽ°äº¤æ¢çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬éƒ½è¦åˆ†åˆ«å†™ä¸€ä¸ªå‡½æ•°ã€‚è¿™æ˜¯æ— æ¯”éº»çƒ¦çš„ æ‰€ä»¥æœ‰äº†æ³›åž‹è¿™ä¸ªæ¦‚å¿µï¼Œæ³›åž‹å°±æ˜¯æ¨¡ç³Šçš„ç±»åž‹å‡½æ•°çš„åŠŸèƒ½å®žçŽ°å’Œå…·ä½“ç±»åž‹æ²¡å…³ç³»çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨æ³›åž‹(æ„Ÿè§‰ç±»ä¼¼OCçš„ id ç±»åž‹)å°†ä¸Šé¢å®žçŽ°ä¸¤ä¸ªå˜é‡äº¤æ¢çš„åŠŸèƒ½ç”¨ä¸€ä¸ªæ–¹æ³•å®Œæˆï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºŽä¸åŒçš„æ•°æ®ç±»åž‹swapTwoInts ç†è§£ä¸ºä¸€ä¸ªå‡½æ•°æ—,ç±»åž‹å‚æ•° T çš„æ¯ä¸ªé€‰æ‹©éƒ½ä¼šç¡®å®šä¸€ä¸ªæ–°å‡½æ•°,è¯¥å‡½æ•°æŽ¥å—ä¸€ä¸ªTåž‹æ•°ç»„å’Œä¸€ä¸ª T -&gt; Tç±»åž‹çš„å‡½æ•°ä½œä¸ºå‚æ•°,å¹¶è¿”å›žä¸€ä¸ª[T]ç±»åž‹çš„æ•°ç»„ func swapTwoInts&lt;T&gt;( a: inout T, _ b: inout T)&#123; let t = a a = b b = t&#125;var x = 8.12,y = 100.1print("x = \(x) ;y = \(y)") //x = 8.12 ;y = 100.1swapTwoInts( a: &amp;x, &amp;y)print("x = \(x) ;y = \(y)") //x = 100.1 ;y = 8.12é—®é¢˜ï¼šx = 8 y = 100.1 å‘ç”Ÿé”™è¯¯ï¼Œæ•´æ•°å’Œæµ®ç‚¹åž‹æ•°å¦‚ä½•å†™äº¤æ¢æ–¹æ³•ï¼Ÿï¼Ÿï¼Ÿ ä¸»è¦çš„è¯­æ³•å°±æ˜¯ä¸Šé¢çš„ï¼Œè¿™ä¸ªTå°±æ˜¯ä»£è¡¨æŸä¸ªç±»åž‹ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡æ˜Žå…·ä½“æ˜¯å“ªç§ç±»åž‹ã€‚è€Œä¸”è¿™ä¸ªTï¼Œå¯ä»¥æ¢æˆä½ å¸Œæœ›çš„æ ‡ç¤ºç¬¦ï¼Œåªè¦ä¸æ˜¯å…³é”®å­—ã€‚å¹¶ä¸”ä¸€èˆ¬è¦æ±‚å•è¯çš„é¦–å­—æ¯è¦å¤§å†™ï¼Œæ¯”å¦‚Elementã€Valueç­‰ã€‚è€Œä¸”èƒ½æŒ‡å®šå¤šä¸ªç±»åž‹ï¼Œè§ä¸‹é¢çš„ç±»åž‹çº¦æŸ æ³›åž‹çš„å‡½æ•°è°ƒç”¨æ–¹æ³•å’Œæ™®é€šå‡½æ•°æ˜¯ä¸€æ ·çš„ä¸‹é¢åˆ›å»ºäº†ä¸¤ä¸ªAnimalå®žä¾‹ï¼Œç„¶åŽä½¿ç”¨åˆšåˆšå®šä¹‰çš„å‡½æ•°äº¤æ¢æ•°æ®ã€‚ class Animal&#123; var life = 0&#125;var cat = Animal()cat.life = 1var dog = Animal()dog.life = 2swapTwoInts(cat.life, dog.life) //æŠ¥é”™ï¼ï¼ æ–¹é¢äº¤æ¢æ–¹æ³•ä¸èƒ½äº¤æ¢ã€‚ã€‚é†‰äº†print(cat.life) print(dog.life) æ³›åž‹ä¸¾ä¾‹åˆ†æž å‚è€ƒ // mapfunc map&lt;Element,T&gt;(xs:[Element],transfom:(Element) -&gt;T)-&gt;[T]&#123; var result :[T] = [] for x in xs&#123; result.append(transfom(x)) &#125; return result &#125;func genericComputeArray&lt;T&gt;(xs: [Int], transfom: (Int) -&gt; T) -&gt; [T] &#123; return map(xs: xs, transfom: transfom) &#125;è¿™å— ä¸æ˜¯å¾ˆç†è§£ é¡¶å±‚å‡½æ•°å’Œæ‰©å±•å†™ä¸€ä¸ªå‡½æ•°,å®ƒæŽ¥å—ä¸€ä¸ªç»™å®šçš„æ•´åž‹æ•°ç»„,é€šè¿‡è®¡ç®—å¾—åˆ°å¹¶è¿”å›žä¸€ä¸ªæ–°æ•°ç»„ã€‚è¦æ±‚ï¼šæ–°æ•°ç»„å„é¡¹ä¸ºåŽŸæ•°ç»„ä¸­å¯¹åº”çš„æ•´åž‹æ•°æ®åŠ ä¸€ã€‚for å¾ªçŽ¯èƒ½å®žçŽ° æ³›åž‹ç±»åž‹ å®šä¹‰ä¸€ä¸ªç±»åž‹ï¼Œä½†æ˜¯å®ƒå¯ä»¥å¯¹ä¸åŒç±»åž‹çš„æ•°æ®è¿›è¡Œæ“ä½œæ¯”å¦‚Arrayå’ŒDictionaryè¿™ä¸¤ä¸ªé›†åˆç»“æž„ä½“ï¼Œä»–ä»¬å¯ä»¥è£…ä¸åŒç±»åž‹çš„æ•°æ®ï¼Œè¿™å°±æ˜¯æ³›åž‹ç±»åž‹ å®˜æ–¹æ–‡æ¡£å±•ç¤ºä¸€ä¸ªæ³›åž‹ç±»åž‹çš„æ ˆï¼Œä½¿ç”¨Arrayæ¥å®žçŽ° struct Stack&lt;Element&gt; &#123; var items = [Element]() mutating func push(item: Element) &#123; items.append(item) &#125; mutating func pop() -&gt; Element &#123; return items.removeLast() &#125; &#125; ç„¶åŽåœ¨åˆ›å»ºè¿™ç§æ³›åž‹ç±»åž‹å®žä¾‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»æŒ‡å®šæ‰€å±žçš„ç±»åž‹ var stackOfStrings = Stack&lt;String&gt;() stackOfStrings.push("uno") æ³›åž‹çº¦æŸ æˆ‘ä»¬å¯ä»¥å¯¹æ³›åž‹è¿›è¡Œçº¦æŸï¼Œè®©ä»–ä»¬å¿…é¡»éµå®ˆæŸäº›åè®®ï¼Œå®˜æ–¹æ–‡æ¡£è¯­æ³•å¦‚ä¸‹ func someFunction&lt;T: SomeClass, U: SomeProtocol&gt;(someT: T, someU: U) &#123; // function body goes here &#125; åŒæ—¶è¿˜å¯ä»¥æ·»åŠ whereçº¦æŸç¬¦å†å¯¹æ³›åž‹è¿›è¡Œé™åˆ¶ func someFunction&lt;T: SomeClass, U: SomeProtocol where T.someItem == U, U.someItem: SomeClass2&gt;(someT: T, someU: U) &#123; // function body goes here &#125; å…³è”ç±»åž‹ åœ¨å®šä¹‰åè®®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªç±»åž‹ä½œä¸ºæˆ‘ä»¬åè®®çš„ä¸€éƒ¨åˆ†ã€‚è€Œè¿™äº›ç±»åž‹æ˜¯ä¸ç¡®å®šçš„ï¼Œåªæœ‰åˆ°å…·ä½“çš„ç±»å®žçŽ°åè®®çš„æ—¶å€™æ‰èƒ½ç¡®å®šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…³è”ç±»åž‹æ¥å®žçŽ°ã€‚æ‰€è°“çš„å…³è”ç±»åž‹å°±æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œç­‰åˆ°å…·ä½“å®žçŽ°åè®®çš„æ—¶å€™æ‰çŸ¥é“å®ƒå…·ä½“æ˜¯ä»€ä¹ˆç±»åž‹ã€‚å®˜æ–¹ä¾‹å­å¦‚ä¸‹ protocol Container &#123; typealias ItemType mutating func append(item: ItemType) var count: Int &#123; get &#125; subscript(i: Int) -&gt; ItemType &#123; get &#125; &#125; ç„¶åŽåœ¨å®žçŽ°åè®®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šItemTypeå…·ä½“æ˜¯ä»€ä¹ˆç±»åž‹ struct IntStack: Container &#123; // original IntStack implementation var items = [Int]() mutating func push(item: Int) &#123; items.append(item) &#125; mutating func pop() -&gt; Int &#123; return items.removeLast() &#125; // conformance to the Container protocol typealias ItemType = Int mutating func append(item: Int) &#123; self.push(item) &#125; var count: Int &#123; return items.count &#125; subscript(i: Int) -&gt; Int &#123; return items[i] &#125; &#125; &gt;åŒæ—¶åˆå› ä¸ºæœ‰Swiftçš„ç±»åž‹åˆ¤æ–­æœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å®žçŽ°äº†åè®®çš„å…¶ä»–æ–¹æ³•ä¹‹åŽï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­å…³è”ç±»åž‹æ˜¯ä»€ä¹ˆï¼Œä¸éœ€è¦æˆ‘ä»¬æ˜¾å¼åœ°æŒ‡å®šã€‚æ‰€ä»¥ä¸Šé¢ä»£ç æŒ‡å®šå…³è”ç±»åž‹ä¸ºIntçš„é‚£è¡Œå¯ä»¥åˆ åŽ»ã€‚ æ³›åž‹OCæ˜¯ä¸æ”¯æŒçš„ï¼Œä½†æ˜¯javaæ”¯æŒã€‚ä½¿ç”¨æ³›åž‹èƒ½ç»™ç¼–ç¨‹å¸¦æ¥å¾ˆå¤§çš„ä¾¿åˆ©]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Extensionæ‰©å±•]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FExtension%E6%89%A9%E5%B1%95%2F</url>
    <content type="text"><![CDATA[Extensionæ‰©å±• Swiftä¸­çš„æ‰©å±•å°±æ˜¯OCä¸­çš„åˆ†ç±»ã€‚ä½†æ˜¯è¿™é‡Œçš„æ‰©å±•å¯ä»¥å¯¹ç±»ã€ç»“æž„ä½“ã€æžšä¸¾ç±»è¿›è¡Œæ·»åŠ ã€‚ä½¿ç”¨æ‰©å±•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æŽ¥è§¦æºä»£ç çš„å‰æä¸‹ï¼Œå¯¹å·²æœ‰çš„ä»£ç è¿›è¡ŒåŠŸèƒ½ä¸Šçš„æ·»åŠ ã€‚ Swiftä¸­çš„æ‰©å±•æä¾›çš„ä¸€äº›åŠŸèƒ½ï¼š 1ã€æ·»åŠ è®¡ç®—å±žæ€§æˆ–ç±»è®¡ç®—å±žæ€§ï¼Œä½†æ˜¯ä¸èƒ½æ·»åŠ å­˜å‚¨å±žæ€§ã€‚ 2ã€æ·»åŠ å®žä¾‹æ–¹æ³•æˆ–ç±»åˆ«æ–¹æ³•ã€‚ä½†æ˜¯ä¸èƒ½è¦†ç›–å·²ç»å­˜åœ¨çš„æ–¹æ³•ã€‚ 3ã€å®šä¹‰æ–°çš„æž„é€ å™¨ã€‚ 4ã€å®šä¹‰å’Œä½¿ç”¨æ–°çš„åµŒå¥—ç±»ã€‚ 5ã€ä»¤å·²ç»å­˜åœ¨çš„ç±»åž‹éµå®ˆåè®®ã€‚ å‡è®¾æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªAnimalç±»ï¼Œä½†æ˜¯ä¸èƒ½å¾—åˆ°å®ƒçš„æºä»£ç  class Animal &#123; var life: Int = 0 var height: Double = 0 &#125; æˆ‘ä»¬åˆ©ç”¨æ‰©å±•ï¼Œå¯¹Animalæ·»åŠ ä¸€ä¸ªè®¡ç®—å±žæ€§å’Œæ–¹æ³•ã€æž„é€ å™¨è¿˜æœ‰åµŒå¥—ç±»ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥æ·»åŠ ä¸‹æ ‡ï¼Œä½†è¿™é‡Œä¸æ¼”ç¤ºäº† extension Animal &#123; //æ‰©å±•è®¡ç®—å±žæ€§ var lifeYear : Double &#123; return Double(self.life) / 365 &#125; //æ‰©å±•æž„é€ å™¨ convenience init(life: Int, height: Double) &#123; self.init() self.life = life self.height = height &#125; //æ‰©å±•æ–¹æ³• func makeSound() -&gt; String &#123; return "I can live \(lifeYear) years" &#125; // æ‰©å±•åµŒå¥—ç±» enum Size &#123; case Big, Small, SuperSmall &#125; // æ‰©å±•ä¸€ä¸ªä½¿ç”¨åµŒå¥—ç±»çš„è®¡ç®—å±žæ€§ var size: Size &#123; switch height &#123; case let h where h &gt; 10: return .Big case let h where h &gt; 0.1: return .Small default: return .SuperSmall &#125; &#125; &#125; var a = Animal(life: 3365 * 7, height: 0.001) print(a.size) // SuperSmall print(a.lifeYear) // 7.0 print(a.makeSound()) // I can live 7.0 years é¢ä»£ç éœ€è¦æ³¨æ„çš„æ˜¯æ‰©å±•æž„é€ å™¨çš„æ—¶å€™ï¼Œåœ¨æž„é€ å™¨çš„æ—¶å€™è®²è¿‡ï¼Œåœ¨æ‰©å±•ä¸­æ·»åŠ æž„é€ å™¨æ˜¯ä¸ä¼šå½±å“é»˜è®¤æž„é€ å™¨çš„äº§ç”Ÿã€‚ä¸èƒ½æ·»åŠ åŽŸæ¥å·²æœ‰çš„æž„é€ å™¨ã€‚å¦å¤–åœ¨ç±»æ‰©å±•é‡Œé¢ï¼Œæ˜¯ä¸ç»™æ·»åŠ æŒ‡å®šæž„é€ å™¨æˆ–æžæž„å™¨ï¼Œåªèƒ½æ·»åŠ ä¾¿åˆ©æž„é€ å™¨ã€‚åœ¨ä¾¿åˆ©æž„é€ å™¨ä¸­ï¼Œè¦å…ˆè°ƒç”¨åŽŸæ¥çš„æž„é€ å™¨æ¥åˆå§‹åŒ–ç±»åŽï¼Œæ‰èƒ½å¯¹ç±»è¿›è¡Œè®¿é—®ã€‚ æ‰©å±•è¿˜æœ‰ä¸€ä¸ªä½œç”¨å°±æ˜¯è®©ç±»éµå®ˆåè®®ã€‚è¿™éƒ¨åˆ†ç•™åˆ°åè®®é‡Œé¢è®²ä¸‹é¢å°†ä»¥å‰å°†è¿‡çš„éº»çƒ¦çš„Stringç±»åž‹åšä¸€ä¸ªæ‰©å±•ï¼Œä½¿å¾—æ–¹ä¾¿æˆªä¸²å’ŒèŽ·å–é•¿åº¦ extension String &#123; //èŽ·å–å­—ç¬¦ä¸²é•¿åº¦ var length: Int &#123; return self.characters.count &#125; //èŽ·å–éƒ¨åˆ†å­—ç¬¦ä¸²ï¼Œå¦‚æžœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›žnilã€‚å¦‚æžœendå¤§äºŽå­—ç¬¦ä¸²é•¿åº¦ï¼Œé‚£ä¹ˆæˆªå–åˆ°æœ€åŽ subscript (start: Int, end: Int) -&gt; String? &#123; if start &gt; self.length || start &lt; 0 || start &gt; end &#123; return nil &#125; let begin = self.startIndex.advancedBy(start) var terminal: Index if end &gt;= length &#123; terminal = self.startIndex.advancedBy(length) &#125; else &#123; terminal = self.startIndex.advancedBy(end + 1) &#125; let range = Range(start: begin, end: terminal) return self.substringWithRange(range) &#125; //èŽ·å–æŸä¸ªå­—ç¬¦ï¼Œå¦‚æžœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›žnil subscript (index: Int) -&gt; Character? &#123; if index &gt; self.length - 1 || index &lt; 0 &#123; return nil &#125; return self[self.startIndex.advancedBy(index)] &#125; &#125; ç„¶åŽå°±å¯ä»¥è¿™æ ·æˆªä¸² var s = "å“ˆ0123456789" print(s.length) // 11 print(s[0,2]) // Optional("å“ˆ01") print(s[9]) // Optional("8")]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Error-Handlingé”™è¯¯å¤„ç†]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FError-Handling-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[Swift-é”™è¯¯ Swiftæä¾›äº†ä¸€å¥—å®Œæ•´çš„é”™è¯¯æŠ›å‡º-æ•èŽ·-å¤„ç†æœºåˆ¶Swifté‡‡ç”¨Erroråè®®æ¥è¡¨ç¤ºé”™è¯¯ç±»åž‹ï¼Œé€šè¿‡do-try-catchçš„æ–¹å¼æ¥å¤„ç†å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ä»£ç  Optional å¯é€‰å€¼è¡¨ç¤ºä¸€ä¸ªå€¼è¦ä¹ˆæœ‰å€¼ï¼Œè¦ä¹ˆæ˜¯nilã€‚åœ¨Swiftä¸­ï¼ŒOptionalæ˜¯ç”¨enumå†™çš„ï¼Œ public enum Optional&lt;Wrapped&gt; : ExpressibleByNilLiteral &#123; case none case some(Wrapped) //...&#125; å½“å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼Œè¿”å›žä¸€ä¸ªå¯é€‰å€¼æ˜¯å¸¸è§çš„å¤„ç†æ–¹å¼ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼çš„æœ‰ä¸€ä¸ªå¾ˆæ˜Žæ˜¾çš„ç¼ºç‚¹ è°ƒç”¨è€…ä¸æ¸…æ¥šä¸ºä»€ä¹ˆå¤±è´¥ ä¸å¥½è¿›è¡Œç›¸å…³çš„å¤„ç† Erroråè®®ä¸Žthrows Erroræ˜¯ä¸€ä¸ªç©ºçš„åè®®ï¼Œç”¨æ¥è¡¨ç¤ºé”™è¯¯ç±»åž‹ NSErrorå’ŒCFErroréƒ½éµå¾ªäº†è¿™ä¸ªåè®® åœ¨Swfitä¸­ï¼Œæžšä¸¾æ˜¯ä¸€ä¸ªç‰¹åˆ«é€‚åˆç”¨æ¥å¤„ç†Errorçš„æ•°æ®ç±»åž‹ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªç±»Personè¡¨ç¤ºäºº enum Sex&#123; case male case female&#125;class Person&#123; let sex:Sex var money:CGFloat init(sex:Sex ,money:CGFloat) &#123; self.sex = sex self.money = money &#125;&#125; Personå¯ä»¥ç»“å©šï¼Œç»“å©šçš„æ—¶å€™ä¼šå‘ç”Ÿä¸€äº›é”™è¯¯ï¼Œæ¯”å¦‚é’±ä¸å¤Ÿï¼Œæ¯”å¦‚æ€§åˆ«ä¸å¯¹ï¼Œç”¨æžšä¸¾æ¥è¡¨ç¤º enum MarryError : Error&#123; case lackMoney case wrongSex&#125; æ–¹æ³•çš„å®žçŽ°å¦‚ä¸‹ extension Person&#123; func marry(with another: Person) throws -&gt; Bool&#123; guard self.sex != another.sex else&#123; throw MarryError.wrongSex &#125; guard self.money + another.money &gt; 100000 else &#123; throw MarryError.lackMoney &#125; return true &#125;&#125; ä¸€ä¸ªå¸¦æœ‰throwså…³é”®å­—çš„å‡½æ•°ï¼Œè°ƒç”¨çš„æ—¶å€™æœ‰ä¸¤ç§æ–¹å¼é€‰æ‹© â‘ â¶ä½¿ç”¨ do-try-catch ä»£ç å— let tom = Person(sex: .male, money: 100000)let jack = Person(sex: .male, money: 100000)do&#123; try tom.marry(with: jack)&#125;catch MarryError.wrongSex &#123; print("Two Person have same sex")&#125;catch MarryError.lackMoney&#123; print("Oh, they do not have enough moeny")&#125;catch let error&#123; print(error)&#125; â·ä¸éœ€è¦åŒºåˆ†æ¯ä¸€ä¸ªErrorï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆè°ƒç”¨ do&#123; try tom.marry(with: jack)&#125;catch let error&#123; print(error)&#125; â‘¡ä½¿ç”¨ try?ï¼Œå¯¹äºŽæœ‰è¿”å›žå€¼çš„throwså‡½æ•°ï¼Œä½¿ç”¨try?ä¼šæŠŠç»“æžœè½¬æ¢ä¸ºå¯é€‰å€¼ let tom = Person(sex: .male, money: 100000)let jack = Person(sex: .male, money: 100000)if let result = try? tom.marry(with: jack)&#123;//æˆåŠŸ&#125;else&#123; print("Error happen")&#125; deferå…³é”®å­— deferå…³é”®å­—ç”¨æ¥å¤„ç†ç±»ä¼¼Ojective Cä¸­@try-@catch-@finallyä¸­ï¼Œ@finallyçš„ä½œç”¨æ¯”å¦‚ï¼Œæ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æžœæŠ›å‡ºé”™è¯¯çš„è¯ï¼Œæˆ‘ä»¬æ€»å¸Œæœ›å…³é—­è¿™ä¸ªæ–‡ä»¶å¥æŸ„ func contents(of filePath:String) throws -&gt; String&#123; let file = open(filePath,O_RDWR) defer &#123; close(file) &#125; //...&#125;deferä»£ç å—çš„å†…å®¹åœ¨é€€å‡ºä½œç”¨åŸŸä¹‹å‰ä¼šè¢«æ‰§è¡Œ å…³äºŽdeferçš„æ³¨æ„ å¤šä¸ªdeferä¼šæŒ‰ç…§é€†åºçš„æ–¹å¼æ‰§è¡Œã€‚ å½“ä½ çš„ç¨‹åºé‡åˆ°ä¸¥é‡é”™è¯¯ï¼Œæ¯”å¦‚fatalError,æˆ–è€…å¼ºåˆ¶è§£æžnilï¼Œæˆ–è€…segfaultsçš„æ—¶å€™ï¼Œdeferçš„ä»£ç å—å¹¶ä¸ä¼šæ‰§è¡Œã€‚ rethrow rethrowå…³é”®å­—åœ¨é«˜é˜¶å‡½æ•°ä¸­æ¯”è¾ƒå¸¸è§ï¼Œæ‰€è°“é«˜é˜¶å‡½æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„å‚æ•°æˆ–è€…è¿”å›žå€¼æ˜¯å‡½æ•°ç±»åž‹æœ€å¸¸è§çš„æ¯”å¦‚ï¼ŒSequenceåè®®mapæ–¹æ³•æ¯”å¦‚ï¼š let array = [1,2,3]let result = array.map&#123;$0 * 2&#125; ç”±äºŽmapå‡½æ•°ä¼ å…¥çš„æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œè¿™ä¸ªé—­åŒ…å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ç”±å‚æ•°æŠ›å‡ºçš„é”™è¯¯æœ€åŽä¼šå‘ä¸Šä¼ é€’ç»™mapå‡½æ•° enum MapError : Error&#123; case invalid&#125;func customMapper(input:Int) throws -&gt; Int&#123; if input &lt; 10&#123; throw MapError.invalid &#125; return input + 1&#125;let array = [1,2,3]let result = array.map(customMapper) è¿™æ ·æ˜¯ç¼–è¯‘ä¸é€šè¿‡çš„è°ƒç”¨çš„æ—¶å€™éœ€è¦ï¼šæŒ‰ç…§ä¸Šæ–‡æåˆ°çš„throwså…³é”®å­—çš„è·¯å­æ¥ do &#123; let result = try array.map(customMapper)&#125; catch let error&#123;&#125; è¿™å°±æ˜¯rethrowså…³é”®å­—çš„ç²¾é«“æ‰€åœ¨rethrows å…³é”®å­—è¡¨ç¤ºå½“å‚æ•°é—­åŒ…æ ‡è®°ä¸ºthrowsçš„æ—¶å€™ï¼Œå‡½æ•°æœ¬èº«ä¸ºthrowsã€‚å¦‚æžœå‚æ•°é—­åŒ…ä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œåˆ™å‡½æ•°ä¹Ÿä¸ä¼šé€šè¿‡è¿™ä¸ªå…³é”®å­—ï¼Œä½ ä¸å¿…æ¯æ¬¡éƒ½è¿›è¡Œtry-catch Resultç±»åž‹ ä¸€ä¸ªå‡½æ•°æ‰§è¡Œè¦ä¹ˆæˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥ã€‚æˆåŠŸçš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿”å›žæ•°æ®ï¼Œå¤±è´¥çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¾—åˆ°é”™è¯¯ä¿¡æ¯ï¼Œè¿™å°±æ˜¯Resultç±»åž‹ï¼Œä¸€ä¸ªå…¸åž‹çš„Resultç±»åž‹å¦‚ä¸‹ï¼š enum Result&lt;T&gt;&#123; case success(T) case failure(error:Error)&#125; é€šè¿‡Resultç±»åž‹ï¼Œä¸å†éœ€è¦å¯é€‰å€¼æˆ–è€…do-try-catchæ¥åŒ…è£¹ä½ çš„ä»£ç ç”¨Resultç±»åž‹å¯¹ä¸Šè¿°marryå‡½æ•°è¿›è¡Œé‡å†™ extension Person&#123; func marry(with another: Person) -&gt; Result&lt;Bool&gt;&#123; guard self.sex != another.sex else&#123; return .failure(error: MarryError.wrongSex) &#125; guard self.money + another.money &gt; 100000 else &#123; return .failure(error: MarryError.lackMoney) &#125; return .success(true) &#125;&#125; ç„¶åŽï¼Œè¿™ä¹ˆè°ƒç”¨ let tom = Person(sex: .male, money: 100000) let jack = Person(sex: .male, money: 100000) let result = tom.marry(with: jack) switch result &#123; case let .success(value): print(value) case let .failure(error): print(error)&#125; Resulté“¾ Swiftä¸­æœ‰å¯é€‰é“¾ï¼Œæ¥å¤„ç†å¤šä¸ªå¯é€‰å€¼çš„è¿žç»­è°ƒç”¨ã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºResultç±»åž‹æ¥æ·»åŠ é“¾å¼è°ƒç”¨ï¼š å¦‚æžœä¸Šä¸€ä¸ªè°ƒç”¨ç»“æžœæ˜¯.success, åˆ™ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ª å¦‚æžœä¸Šä¸€ä¸ªè°ƒç”¨ç»“æžœæ˜¯.failure, åˆ™ä¼ é€’failureç»™ä¸‹ä¸€ä¸ª ç”¨extensionæ¥å®žçŽ° extension Result&#123; func flatMap&lt;V&gt;(transform:(T) throws -&gt; (V)) rethrows -&gt; Result&lt;V&gt;&#123; switch self &#123; case let .failure(error): return .failure(error: error) case let .success(data): return .success(try transform(data)) &#125; &#125;&#125; äºŽæ˜¯ï¼Œå¯ä»¥è¿™ä¹ˆè°ƒç”¨ resut.flatMap(&#123;//è½¬æ¢1&#125;).flatMap(//è½¬æ¢2)... ä¸€æ—¦å¤±è´¥ï¼Œä¸­é—´æœ‰ä¸€æ¬¡flatMapè½¬æ¢å¤±è´¥ï¼Œåˆ™ä¹‹åŽçš„è½¬æ¢é€»è¾‘éƒ½ä¸ä¼šæ‰§è¡Œè¿›é˜¶ï¼šResultç±»åž‹åœ¨Swiftç‰ˆæœ¬çš„Promiseä¸­å¤§è¡Œå…¶é“ï¼Œå¯ä»¥å‚è§PromiseKitçš„æºç ï¼Œpromiseè®©å¼‚æ­¥å¤„ç†å˜å¾—ä¼˜é›… assert/precondition Swiftä¹Ÿæœ‰æ–­è¨€æ”¯æŒåœ¨Swfitä¸­ï¼Œæ–­è¨€æ˜¯ä¸€ä¸ªå‡½æ•°æ–­è¨€ä»…åœ¨Debugæ¨¡å¼ä¸‹è¿›è¡Œæ£€æŸ¥ï¼Œå¸®åŠ©å¼€å‘è€…å‘çŽ°ä»£ç ä¸­çš„é—®é¢˜ func assert(_ condition: @autoclosure () -&gt; Bool, _ message: @autoclosure () -&gt; String = default, file: StaticString = #file, line: UInt = #line) å¦‚æžœéœ€è¦åœ¨Relaseæ¨¡å¼ä¸‹ä¹Ÿè¿›è¡Œæ£€æŸ¥ï¼Œåˆ™ä½¿ç”¨precondition func precondition(_ condition: @autoclosure () -&gt; Bool, _ message: @autoclosure () -&gt; String = default, file: StaticString = #file, line: UInt = #line) æ¡¥æŽ¥åˆ°Objective C ä½¿ç”¨NSErroræ¥å¤„ç†é”™è¯¯çš„çš„Objective æ–¹æ³• //NSFileManager- (BOOL)removeItemAtURL:(NSURL *)URL error:(NSError * _Nullable *)error; åœ¨Swiftä¸­ä¼šè¢«è‡ªåŠ¨çš„è½¬æ¢æˆ func removeItem(at URL: URL) throws ä½†æ˜¯ï¼Œçº¯Swfitçš„Erroræ¡¥æŽ¥çš„Objective Cçš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜å› ä¸ºNSErroréœ€è¦ domainå’Œcodeç­‰è¯¦ç»†ä¿¡æ¯å¯ä»¥è®©Swiftçš„Errorå®žçŽ°CustomNSErroråè®®ï¼Œæ¥æä¾›è¿™äº›éœ€è¦çš„ä¿¡æ¯ enum MarryError : Error&#123; case lackMoney case wrongSex&#125;extension MarryError : CustomNSError&#123; static let errorDomain = "com.person.marryError" var erroCode:Int&#123; switch self &#123; case .lackMoney: return -100001 case .wrongSex: return -100002 &#125; &#125; var errorUserInfo:[String:Any]&#123; return [:] &#125;&#125; ç›¸å…³çš„ï¼Œè¿˜æœ‰ä¸¤ä¸ªåè®®LocalizedErrorå’ŒRecoverableError Swiftçš„é”™è¯¯å¤„ç†æ˜¯ç”¨æ¥å¤„ç†è¿è¡Œæ—¶é”™è¯¯çš„ å½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©æŠ“é”™è¯¯ï¼Œæˆ–è€…ç»§ç»­å¾€ä¸ŠæŠ›å‡ºé”™è¯¯ã€‚å½“ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯æœ€ç»ˆæ²¡åŠžæ³•å¤„ç†çš„æ—¶å€™ï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚ Swiftä¸­æœ‰ä¸€ä¸ªç©ºçš„åè®®ç”¨æ¥ç»™ç”¨æˆ·è‡ªå®šä¹‰é”™è¯¯ã€‚ä¸€èˆ¬ä½¿ç”¨æžšä¸¾ç±»å®žçŽ°è¿™ä¸ªåè®®æ¥è‡ªå®šä¹‰é”™è¯¯ã€‚å¦‚ä¸‹ enum ComputerError: ErrorType &#123; case NoGameError case MemoryError case HardDiskError &#125; è¿™é‡Œå®šä¹‰äº†ä¸‰ç§errorã€‚å½“ä½ è¦æŠ›å‡ºä¸€ä¸ªerrorçš„æ—¶å€™ï¼Œä½¿ç”¨throwå…³é”®å­—ã€‚å¦‚ä¸‹ throw ComputerError.NoGameError å¯ä»¥æŠ›å‡ºé”™è¯¯çš„å‡½æ•°çš„å®šä¹‰ func canThrowErrors() throws -&gt; String func cannotThrowErrors() -&gt; String åˆ©ç”¨ä¸Šé¢çš„è¯­æ³•ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªComputerç±»ï¼Œè¿™ä¸ªç±»æœ‰ä¸€ä¸ªplayGameæ–¹æ³•ï¼Œå®ƒä¼šåœ¨æŸäº›æƒ…å†µä¸‹æŠ›å‡ºé”™è¯¯ class Computer &#123; var memory = 1024 var hardDisk = 4000 var games = [ "War3": Requirement(memory: 512, HardDisk: 1500), "LOL": Requirement(memory: 1500, HardDisk: 3000), "My World": Requirement(memory: 256, HardDisk: 500)] func playGame(gameName: String) throws -&gt; Bool&#123; guard let game = self.games[gameName] else &#123; throw ComputerError.NoGameError &#125; guard game.HardDisk &lt; self.hardDisk else &#123; throw ComputerError.HardDiskError &#125; guard game.memory &lt; self.memory else &#123; throw ComputerError.MemoryError &#125; return true &#125; &#125; æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼Œå¦‚æžœä½ è¦è°ƒç”¨èƒ½æŠ›å‡ºé”™è¯¯çš„å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨tryã€try?æˆ–è€…try!å…³é”®å­—åœ¨å‰é¢ï¼Œå¦‚ä¸‹ try myPC.playGame("War4") //è¿™å¥ä¼šå› ä¸ºæ²¡æœ‰War4è¿™ä¸ªæ¸¸æˆè€ŒæŠ›å‡ºNoGameErroré”™è¯¯ ä¸‹é¢æ˜¯å¤„ç†é”™è¯¯çš„éƒ¨åˆ†ã€‚å½“è°ƒç”¨ä¸€ä¸ªå¯ä»¥æŠ›å‡ºé”™è¯¯çš„æ–¹æ³•çš„æ—¶å€™ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§å¤„ç†æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯è°ƒç”¨è€…ç»§ç»­å‘ä¸ŠæŠ›å‡ºè¿™ä¸ªé”™è¯¯ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè°ƒç”¨è€…ä¹Ÿå¿…é¡»æ˜¯ä¸€ä¸ªå¯ä»¥æŠ›å‡ºé”™è¯¯çš„å‡½æ•°ã€‚å¦‚æžœæœ€åŽæ²¡å¤„ç†è¿™ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆç¨‹åºå´©æºƒã€‚ç¬¬äºŒç§æ˜¯ä½¿ç”¨doâ€¦catchè¯­å¥å¯¹é”™è¯¯è¿›è¡Œå¤„ç†ã€‚ç¬¬ä¸‰ç§æ˜¯ä½¿ç”¨try?æˆ–try!è°ƒç”¨ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•° ç¬¬ä¸€ç§æ–¹æ³•ä¸¾ä¾‹ï¼Œå†å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œå®ƒçš„playæ–¹æ³•é‡Œé¢è°ƒç”¨äº†Computerçš„playGameæ–¹æ³•ï¼Œç„¶åŽç»§ç»­æŠ›å‡ºè¿™ä¸ªé”™è¯¯ class Person &#123; var pc = Computer() func play() throws &#123; try self.pc.playGame("SC2") &#125; &#125; ç¬¬äºŒç§æ–¹æ³•ä¸¾ä¾‹ï¼Œä½¿ç”¨doâ€¦catchè¯­å¥å¤„ç†ã€‚åœ¨doèŒƒå›´é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ä¼šäº§ç”Ÿé”™è¯¯çš„æ–¹æ³•ã€‚æŽ¥ç€çš„catchè¯­å¥å¯ä»¥æŽ¥ä¸Šè¦å¤„ç†çš„é”™è¯¯ç±»åž‹ class Person &#123; var pc = Computer() func play() &#123; do &#123; try self.pc.playGame("LOL") print("have fun") &#125; catch ComputerError.NoGameError &#123; print("NoGameError") &#125; catch ComputerError.MemoryError &#123; print("MemoryError") &#125; catch ComputerError.HardDiskError &#123; print("HardDiskError") &#125; catch &#123; print("other error",error) &#125; &#125; &#125; å€¼å¾—æ³¨æ„çš„æ˜¯æœ€åŽä¸€ä¸ªcatchã€‚è¿™é‡Œå¹¶æ²¡æœ‰åŠ ä¸Šè¦å¤„ç†çš„é”™è¯¯ã€‚è¿™çš„catchä¼šæ•æ‰æ‰€æœ‰ç±»åž‹çš„é”™è¯¯ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æžœä¸åŠ ä¸Šè¿™ä¸ªæ•æ‰æ‰€æœ‰ç±»åž‹çš„catchè¯­å¥ã€‚è°ƒç”¨playGameçš„é‚£å¥ä¼šæŠ¥é”™è¯´catchæ²¡æœ‰ç©·å°½ä¼šæŠ›å‡ºçš„é”™è¯¯ã€‚ä½†æ˜¯æˆ‘åªæœ‰ä¸‰ä¸ªé”™è¯¯ï¼Œç…§ç†æ¥è®²åº”è¯¥æ˜¯å·²ç»ç©·å°½çš„äº†ã€‚ä¸çŸ¥é“æ˜¯Swiftçš„é—®é¢˜ï¼Œè¿˜æ˜¯æˆ‘ä»£ç å“ªé‡Œæœ‰é—®é¢˜ã€‚ä½†å¦‚æžœæŠŠè¿™ä¸ªè°ƒç”¨æ”¾åˆ°main.swiftä¸­åŽ»ï¼Œä¹Ÿæ˜¯åªä½¿ç”¨3ä¸ªcatchï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚æžä¸æ‡‚ã€‚æˆ‘çŽ°åœ¨çš„å¤„ç†æ–¹å¼æ˜¯æŠŠè¿™ä¸ªplayæ–¹æ³•ç»§ç»­å†™æˆä¸€ä¸ªå¯ä»¥æŠ›å‡ºé”™è¯¯çš„æ–¹æ³•ã€‚åªå¤„ç†è‡ªå®šä¹‰çš„ä¸‰ç§é”™è¯¯ã€‚å…¶ä»–é”™è¯¯å¾€ä¸ŠæŠ› class Person &#123; var pc = Computer() func play() throws &#123; do &#123; try self.pc.playGame("LOL") print("have fun") &#125; catch ComputerError.NoGameError &#123; print("NoGameError") &#125; catch ComputerError.MemoryError&#123; print("MemoryError") &#125; catch ComputerError.HardDiskError &#123; print("HardDiskError") &#125; &#125; &#125; ç¬¬ä¸‰ç§æ˜¯ä½¿ç”¨try?æˆ–try!è°ƒç”¨ä¼šæŠ›å‡ºé”™è¯¯çš„å‡½æ•°ã€‚åœ¨å®˜æ–¹æ–‡æ¡£é‡Œé¢ï¼Œå®ƒåŽŸæ„æ˜¯ä½¿ç”¨try?åŽ»å¤„ç†ä¸€ä¸ªä¼šæŠ›å‡ºé”™è¯¯çš„æ–¹æ³•çš„è¿”å›žå€¼ï¼Œå¦‚æžœè¿™ä¸ªæ–¹æ³•æŠ›å‡ºé”™è¯¯ï¼Œé‚£ä¹ˆä¼šå¾—åˆ°nilã€‚å¦‚æžœæ²¡æœ‰é”™è¯¯ï¼Œé‚£ä¹ˆå°†å‡½æ•°è¿”å›žå€¼åŒ…è£…æˆå¯é€‰ç±»åž‹åŽè¿”å›ž var myPC = Computer() var result = try? myPC.playGame("War3") //è¿™é‡ŒplayGameæ²¡æœ‰æŠ›å‡ºé”™è¯¯ï¼Œæ‰€ä»¥è¿”å›žäº†Boolå¯é€‰ç±»åž‹ï¼Œå€¼ä¸ºtrue ry!çš„åŒºåˆ«æ˜¯å®ƒé»˜è®¤è°ƒç”¨æ–¹æ³•æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œå¦‚æžœè°ƒç”¨çš„æ–¹æ³•æŠ¥é”™ï¼Œé‚£ä¹ˆä¼šå¾—åˆ°è¿è¡Œæ—¶é”™è¯¯ã€‚å³ä½¿ä½ å°†è¿™ä¸ªtry!å†™åˆ°äº†ä¸€ä¸ªä¼šæŠ›å‡ºé”™è¯¯çš„æ–¹æ³•é‡Œé¢ï¼Œå®ƒä¹Ÿä¸ä¼šå‘ä¸ŠæŠ›å‡ºè¿™ä¸ªé”™è¯¯ã€‚è€Œæ˜¯ç›´æŽ¥å´©æºƒã€‚ try? ã€try! å’Œtry ä¸‰è€…çš„åŒºåˆ«ï¼š tryåœ¨ä¸€ä¸ªä¼šæŠ›å‡ºé”™è¯¯çš„æ–¹æ³•é‡Œé¢ï¼Œå®ƒä¼šæŠŠäº§ç”Ÿçš„é”™è¯¯äº¤ç”±catchå¤„ç†æˆ–è€…å‘ä¸ŠæŠ›å‡ºã€‚ try?æ˜¯å‡ºé”™çš„æ—¶å€™è¿”å›žä¸€ä¸ªnilï¼Œå±è”½é”™è¯¯ã€‚æ²¡é”™çš„è¯ï¼Œå°†ç»“æžœåŒ…è£…æˆä¸€ä¸ªå¯é€‰ç±»åž‹è¿”å›žã€‚ try!æ˜¯åœ¨æ²¡é”™çš„æƒ…å†µä¸‹è¿”å›žå‡½æ•°è¿”å›žå€¼ã€‚å‡ºé”™çš„æƒ…å†µä¸‹ç›´æŽ¥å´©æºƒã€‚é”™è¯¯ä¸ä¼šå†äº¤ç»™catchå¤„ç†æˆ–è€…å‘ä¸ŠæŠ›å‡ºã€‚ æ‰€ä»¥å¦‚æžœåœ¨do catché‡Œé¢å°†tryæ”¹ä¸ºtry?æˆ–è€…try!ï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€ä¸ªè­¦å‘Šè¯´catchæ°¸è¿œä¸ä¼šæ‰§è¡Œã€‚ deferè¯­å¥ ç†Ÿæ‚‰javaçš„æœ‹å‹åº”è¯¥çŸ¥é“finallyè¯­å¥ã€‚è¿™ä¸ªæ˜¯åœ¨try..catché‡Œé¢æ— è®ºæ˜¯å¦æœ‰é”™è¯¯ï¼Œåœ¨é€€å‡ºtry..catchèŒƒå›´çš„æ—¶å€™ï¼Œæœ€åŽéƒ½ä¼šæ‰§è¡ŒfinallyèŒƒå›´å†…çš„ä»£ç ã€‚ä¸€èˆ¬æ˜¯ç”¨æ¥åšä¸€äº›è¯¸å¦‚å…³é—­æ–‡ä»¶çš„å·¥ä½œã€‚å› ä¸ºæ— è®ºå‡ºä¸å‡ºé”™ï¼Œæœ€åŽéƒ½å¿…é¡»å…³é—­æ‰“å¼€çš„æ–‡ä»¶ã€‚Swiftä¹Ÿå¼„äº†ä¸€ä¸ªdeferè¯­å¥ï¼ŒåŒæ ·ä¹Ÿæ˜¯æƒ³åœ¨æœ€åŽåšè¿™æ ·çš„ä¸€äº›äº‹æƒ…ã€‚ä½†æ˜¯è¿™ä¸ªdeferè¿œè¿œæ²¡æœ‰finallyé‚£ä¹ˆå¥½ç”¨ã€‚å…ˆæ¥å¼€å¼€deferçš„è¯­æ³•ã€‚å­¦è¿‡javaçš„æœ‹å‹çŸ¥é“finallyåªèƒ½ç”¨åœ¨try..catché‡Œé¢ã€‚ä½†æ˜¯deferå¯ä»¥ä¸ç”¨åœ¨do..catché‡Œé¢ã€‚å¹¶ä¸”deferé‡Œé¢ä¸èƒ½ç”¨returnã€breakæˆ–è€…æŠ›å‡ºé”™è¯¯çš„è¯­å¥ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæ²¡æœ‰ç”¨åœ¨do..catchä¸­çš„ä¾‹å­ func readFile() &#123; defer &#123; print("Close file") &#125; print("Open file") print("Deal with file") &#125; readFile() //æ‰“å° //Open file //Deal with file //Close file ç•™æ„ä¸Šé¢çš„æ‰“å°é¡ºåºï¼Œå¯ä»¥çœ‹å‡ºdeferä¸­çš„è¯­å¥æ˜¯åœ¨æœ€åŽæ‰æ‰§è¡Œçš„ã€‚å•ä»Žè¿™é‡Œçœ‹ï¼Œå’Œè®¾è®¡åˆè¡·ä¸€è‡´ï¼šåœ¨æœ€åŽé¢æ‰æ‰§è¡Œã€‚ä½†æ˜¯ä¸€æ—¦å°†è¿™ä¸ªdeferç”¨åˆ°do..catché‡Œé¢ï¼Œä½ å°±ä¼šè§‰å¾—å¾ˆæ¶å¿ƒã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå’Œæˆ‘ä»¬æƒ³è±¡ä¸­ä¸€è‡´çš„ä»£ç ï¼Œé¦–å…ˆæ”¹å†™ä¸Šé¢ç”¨åˆ°çš„Personç±»ã€‚æˆ‘ä»¬çš„åŽŸæ„æ˜¯è¿™æ ·çš„ï¼šPersonçš„playæ–¹æ³•è°ƒç”¨äº†Computerçš„ä¼šäº§ç”Ÿé”™è¯¯çš„playGameæ–¹æ³•ã€‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªresultçš„å¯é€‰å˜é‡ï¼Œç”¨äºŽæŽ¥æ”¶playGameæ–¹æ³•çš„è¿”å›žå€¼ã€‚åœ¨é€€å‡ºdo..catchçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨deferè¯­å¥ã€‚æˆ‘ä»¬åœ¨é‡Œé¢åˆ¤æ–­resultæ˜¯å¦ä¸ºnilã€‚ç„¶åŽè¾“å‡ºå¿ƒæƒ…ã€‚ class Person &#123; var pc = Computer() func play() throws &#123; do &#123; var result: Bool? defer &#123; if result != nil &#123; print("have fun") &#125; else &#123; print("sad") &#125; &#125; result = try self.pc.playGame("LOL") print("playGame") &#125; catch ComputerError.NoGameError &#123; print("NoGameError") &#125; catch ComputerError.MemoryError&#123; print("MemoryError") &#125; catch ComputerError.HardDiskError &#123; print("HardDiskError") &#125; &#125; &#125; ç„¶åŽæˆ‘ä»¬æ‰§è¡Œä¸‹é¢ä»£ç ï¼Œå› ä¸ºé»˜è®¤çš„Computerç±»çš„hardDiskä¸è¶³ã€‚æ‰€ä»¥ä¼šæŠ¥MemoryErroré”™è¯¯ var p = Person() try p.play() //æ‰“å° //sad //MemoryError æ³¨æ„æ‰“å°é¡ºåºï¼Œå¯ä»¥çœ‹å‡ºdeferæ˜¯å…ˆä¸Žcatchæ‰§è¡Œçš„ã€‚è¿™ä¸ªå’Œjavaçš„finallyæ˜¯ä¸ä¸€æ ·çš„ã€‚finallyæ˜¯åœ¨catchæ‰§è¡Œå®ŒåŽæ‰§è¡Œã€‚å…¶æ¬¡æ˜¯playGameæ²¡æœ‰æ‰“å°ï¼Œè¯´æ˜ŽæŠ¥é”™ä¹‹åŽçš„è¯­å¥ä¸ä¼šæ‰§è¡Œã€‚å¦‚æžœplayGameçš„å‚æ•°æ˜¯â€œWar3â€ï¼Œé‚£ä¹ˆç¨‹åºä¸ä¼šæŠ¥é”™ã€‚è¾“å‡ºæ˜¯ playGame have fun ä»Žä»¥ä¸Šæ¥çœ‹ï¼Œä¼¼ä¹Žè¿˜æ˜¯ç¬¦åˆæˆ‘ä»¬çš„åŽŸæ„ã€‚ä½†æ˜¯å½“ä½ æŠŠdeferçš„ä½ç½®æ”¹æ”¹ï¼Œå˜ä¸ºä¸‹é¢è¿™æ · class Person &#123; var pc = Computer() func play() throws &#123; do &#123; var result: Bool? result = try self.pc.playGame("LOL") defer &#123; if result != nil &#123; print("have fun") &#125; else &#123; print("sad") &#125; &#125; print("playGame") &#125; catch ComputerError.NoGameError &#123; print("NoGameError") &#125; catch ComputerError.MemoryError&#123; print("MemoryError") &#125; catch ComputerError.HardDiskError &#123; print("HardDiskError") &#125; &#125; &#125; ä½ ä¼šå‘çŽ°è¾“å‡ºåªæœ‰ä¸€ä¸ªMemoryErrorã€‚ä¹Ÿå°±æ˜¯è¯´å½“å®šä¹‰deferå‰é¢çš„è¯­å¥æŠ¥é”™ä¹‹åŽï¼Œdeferå¾—ä¸åˆ°æ‰§è¡Œã€‚è¿™æ ·å°±è¦æ±‚è¿™ä¸ªdeferå¿…é¡»å†™åœ¨ä¸€ä¸ªåˆç†çš„ä½ç½®æ‰è¡Œã€‚ å¦å¤–å¦‚æžœæˆ‘ä»¬å†æ”¹æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨try! ä½ ä¼šå‘çŽ°è¾“å‡ºåªæœ‰ä¸€ä¸ªMemoryErrorã€‚ä¹Ÿå°±æ˜¯è¯´å½“å®šä¹‰deferå‰é¢çš„è¯­å¥æŠ¥é”™ä¹‹åŽï¼Œdeferå¾—ä¸åˆ°æ‰§è¡Œã€‚è¿™æ ·å°±è¦æ±‚è¿™ä¸ªdeferå¿…é¡»å†™åœ¨ä¸€ä¸ªåˆç†çš„ä½ç½®æ‰è¡Œã€‚å¦å¤–å¦‚æžœæˆ‘ä»¬å†æ”¹æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä½¿ç”¨try! è¿™æ—¶å€™ä»€ä¹ˆéƒ½æ²¡æœ‰æ‰“å°ï¼Œç¨‹åºç›´æŽ¥å´©æºƒæŽ‰äº†ã€‚è¿™ä¸ªdeferçš„åˆè¡·å®Œå…¨ä¸åŒã€‚Swiftçš„é”™è¯¯å¤„ç†ä¹Ÿæ˜¯è¿‘å‡ ä¸ªç‰ˆæœ¬æ‰å‡ºçŽ°çš„ã€‚ä¼°è®¡ä»¥åŽä¼šç»§ç»­æ”¹è¿›]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>Error</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Optional Chaining-å¯é€‰é“¾]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2F%E5%8F%AF%E9%80%89%E9%93%BE%2F</url>
    <content type="text"><![CDATA[å¯é€‰é“¾ï¼ˆOptional Chaining å›žé¡¾ä¸€ä¸‹å¯é€‰ç±»åž‹ï¼Œå½“ä½ è¦ä½¿ç”¨å¯é€‰ç±»åž‹çš„æ—¶å€™ï¼Œé¦–å…ˆå¿…é¡»è¦å¯¹å…¶è¿›è¡Œè§£åŒ…ã€‚ä½†æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æžœå¯¹ä¸€ä¸ªä¸ºnilçš„å¯é€‰ç±»åž‹è¿›è¡Œå¼ºåˆ¶è§£åŒ…çš„è¯ï¼Œé‚£ä¹ˆä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯ã€‚ç¬¬ä¸€ç§è§£å†³åŠžæ³•å°±æ˜¯ä½¿ç”¨ifè¯­å¥å…ˆåˆ¤æ–­è¿™ä¸ªå¯é€‰ç±»åž‹æ˜¯å¦ä¸ºnilï¼Œç„¶åŽåœ¨è®¿é—®å…¶å±žæ€§æˆ–æ–¹æ³•ã€‚ä½†æ˜¯ååˆ†ç¹çã€‚è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªå¯é€‰ç±»åž‹é‡Œé¢è®¿é—®çš„å±žæ€§è¿˜æ˜¯å¯é€‰ç±»åž‹çš„æƒ…å†µå§ï¼Œå¤šå‡ å±‚çš„æ—¶å€™ï¼Œifçš„å±‚æ•°æƒ¨ä¸å¿ç¹ã€‚ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³åŠžæ³•å°±æ˜¯åˆ©ç”¨å¯é€‰é“¾ï¼ˆOptional Chainingï¼‰è¯­æ³•å¾ˆç®€å•ï¼ŒæŠŠä¸­é—´éœ€è¦è§£åŒ…çš„å¯é€‰ç±»åž‹çš„å¼ºåˆ¶è§£åŒ…ç¬¦å·!æ›¿æ¢æˆï¼Ÿ ä¼ªä»£ç ä¾‹å­ if let å¯é€‰é“¾è¿”å›žå€¼çš„è§£åŒ… = å¯é€‰ç±»åž‹1?.å¯é€‰ç±»åž‹2?.è¿”å›žå¯é€‰ç±»åž‹çš„æ–¹æ³•1?.å¯é€‰ç±»åž‹3 &#123; //&lt;span style="font-family: Arial, Helvetica, sans-serif;"&gt;å¯é€‰é“¾è¿”å›žå€¼&lt;/span&gt;ä¸ä¸ºnil &#125; else &#123; //&lt;span style="font-family: Arial, Helvetica, sans-serif;"&gt;å¯é€‰é“¾è¿”å›žå€¼&lt;/span&gt;ä¸ºnil &#125; è§£é‡Šï¼š é¦–å…ˆæ£€æµ‹å¯é€‰ç±»åž‹1æ˜¯å¦ä¸ºnilï¼Œå¦‚æžœä¸ä¼šnilï¼Œé‚£ä¹ˆè§£åŒ…ã€‚ ç„¶åŽæ£€æŸ¥å¯é€‰ç±»åž‹1çš„å±žæ€§â€”â€”å¯é€‰ç±»åž‹2æ˜¯å¦ä¸ºnilï¼Œä¸ä¸ºnilï¼Œè§£åŒ…ã€‚ ç„¶åŽè°ƒç”¨å¯é€‰ç±»åž‹2çš„ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªå¯é€‰ç±»åž‹.æˆè¿™ä¸ªå¯é€‰ç±»åž‹ä¸ºå¯é€‰ç±»åž‹Aå§ã€‚ ç„¶åŽå†å¯¹è¿™ä¸ªå¯é€‰ç±»åž‹Aè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æžœä¸ä¸ºnilï¼Œè§£åŒ…ã€‚ æœ€åŽåˆ©ç”¨ifè¯­å¥å¯¹å¯é€‰ç±»åž‹Açš„å±žæ€§â€”â€”å¯é€‰ç±»åž‹3è¿›è¡Œåˆ¤æ–­å¤„ç† æ„ç‚¹ï¼š 1ã€å¦‚æžœå‰é¢çš„æ¯ä¸€æ¬¡åˆ¤æ–­æœ‰ä¸€ä¸ªä¸ºniläº†ã€‚é‚£ä¹ˆè¿™ä¸ªå¯é€‰é“¾ç›´æŽ¥è¿”å›žnilï¼Œä¸ä¼šå†å¯¹åŽé¢çš„å¯é€‰é“¾è¿›è¡Œå¤„ç†ã€‚ 2ã€å¯é€‰é“¾è¿”å›žçš„ç±»åž‹æ˜¯å¯é€‰é“¾ä¸­æœ€åŽä¸€ä¸ªç±»åž‹å¯¹åº”çš„å¯é€‰ç±»åž‹ã€‚å‡è®¾ä¸Šé¢ä¼ªä»£ç ä¸­æœ€åŽä¸€ä¸ªå¯é€‰ç±»åž‹3æ”¹ä¸ºä¸€ä¸ªéžå¯é€‰ç±»åž‹3ï¼ˆæ¯”å¦‚Intï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾è¿”å›žçš„æ˜¯å…¶å¯¹åº”çš„å¯é€‰ç±»åž‹Int? 3ã€å¯é€‰é“¾æœ€åŽä¸èƒ½å†ç”¨?è¿›è¡Œè§£åŒ…ï¼Œå¿…é¡»ç”¨!ã€‚ä½†æ˜¯ç”¨!å°±ä¼šäº§ç”Ÿå½“å¯é€‰ç±»åž‹ä¸ºnilæ—¶æŠ¥é”™çš„æƒ…å†µã€‚æ‰€ä»¥ä¸ºäº†åˆ¤æ–­æ˜¯å¦ä¸ºnilï¼Œåªèƒ½ç”¨if ä¸Šé¢çš„ä¼ªä»£ç æ˜¯è®¿é—®å¯é€‰ç±»åž‹çš„ä¾‹å­ã€‚å¯¹äºŽç»™å¯é€‰é“¾èµ‹å€¼çš„ä¾‹å­çš„ä¼ªä»£ç å¦‚ä¸‹ å¯é€‰ç±»åž‹1?.å¯é€‰ç±»åž‹2?.è¿”å›žå¯é€‰ç±»åž‹çš„æ–¹æ³•1?.ç±»åž‹3 = èµ‹å€¼ //è¿™å¥ä¸­çš„ç±»åž‹3å¯ä»¥æ˜¯å¯é€‰ç±»åž‹ä¹Ÿå¯ä»¥æ˜¯éžå¯é€‰ç±»åž‹ã€‚èµ‹å€¼æˆåŠŸä¸Žå¦éƒ½ä¸ä¼šæŠ¥é”™ã€‚ //å€ŸåŠ©ifè¯­å¥åˆ¤æ–­æ˜¯å¦èµ‹å€¼æˆåŠŸ if (å¯é€‰ç±»åž‹1?.å¯é€‰ç±»åž‹2?.è¿”å›žå¯é€‰ç±»åž‹çš„æ–¹æ³•1?.å¯é€‰ç±»åž‹3 = èµ‹å€¼ ) != nil &#123; //&lt;span style="color:#ff0000;"&gt;æ³¨æ„ifä¸­èµ‹å€¼è¯­å¥çš„è¿”å›žå€¼æ˜¯Void?&lt;/span&gt; //èµ‹å€¼æˆåŠŸ &#125; else &#123; //èµ‹å€¼å¤±è´¥ &#125; ä¾‹å­ class CPU &#123; var name: String? func getClockSpeed() -&gt; Double? &#123; if self.name != nil &#123; return 1.2 &#125; else &#123; return nil &#125; &#125; &#125; class Computer &#123; var cpu: CPU? &#125; var c = Computer() print(c.cpu?.name = "fef") //è¿™å¥å¯é€‰é“¾çš„ç±»åž‹æ˜¯Void?ï¼Œæ‰“å° nil print(c.cpu?.name) //è¿™å¥å¯é€‰é“¾çš„ç±»åž‹æ˜¯String?ï¼Œæ‰“å° nil c.cpu = CPU() print(c.cpu?.getClockSpeed()?.isZero) //è¿™å¥å¯é€‰é“¾çš„ç±»åž‹æ˜¯Bool? ,æ‰“å° nil print(c.cpu?.name = "Intel") //è¿™å¥å¯é€‰é“¾çš„ç±»åž‹æ˜¯Void?ï¼Œæ‰“å° Optional(()) print(c.cpu?.name) //è¿™å¥å¯é€‰é“¾ç±»åž‹æ˜¯String?ï¼Œæ‰“å° Optional("Intel") print(c.cpu?.getClockSpeed()?.isZero) //è¿™å¥å¯é€‰é“¾çš„ç±»åž‹æ˜¯Bool? ,æ‰“å° Optional(false)]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-ARC-è‡ªåŠ¨å¼•ç”¨è®¡æ•°]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FARC-%E8%87%AA%E5%8A%A8%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%2F</url>
    <content type="text"><![CDATA[ARC è‡ªåŠ¨å¼•ç”¨è®¡æ•°Swiftå¼•å…¥ARC å¯¹äºŽç±»å®žä¾‹ï¼Œå®ƒå¯èƒ½å­˜åœ¨è¢«å¤šä¸ªå˜é‡å¼•ç”¨çš„æƒ…å†µå¦‚æžœåœ¨è¿˜æœ‰å˜é‡å¼•ç”¨çš„æƒ…å†µä¸‹é‡Šæ”¾äº†æ”¹å®žä¾‹çš„è¯ï¼Œé‚£ä¹ˆå…¶ä»–å˜é‡å†å°è¯•è®¿é—®è¿™ä¸ªå®žä¾‹çš„æ–¹æ³•æˆ–å±žæ€§çš„æ—¶å€™ï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚æ‰€ä»¥å¿…é¡»ç¡®ä¿åœ¨ä»¥åŽéƒ½æ²¡æœ‰å˜é‡ä½¿ç”¨è¿™ä¸ªå®žä¾‹çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½åŽ»é‡Šæ”¾è¿™ä¸ªå®žä¾‹å¯¹äºŽå€¼ç±»åž‹ï¼ˆç»“æž„ä½“ç­‰ï¼‰ï¼Œå› ä¸ºä¸å­˜åœ¨å¤šä¸ªå˜é‡å¯¹åº”ä¸€ä¸ªå®žä¾‹çš„æƒ…å†µï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ä¸Šè¿°é—®é¢˜ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒSwiftä½¿ç”¨è‡ªåŠ¨å¼•ç”¨è®¡æ•°(ARC)æ¥ç®¡ç†å†…å­˜ã€‚å®ƒåªå¯¹å¼•ç”¨ç±»åž‹èµ·ä½œç”¨ï¼Œå¯¹äºŽå€¼ç±»åž‹ä¸èµ·ä½œç”¨ å¼•ç”¨è®¡æ•°çš„æ¦‚å¿µ å½“ä½ ç»™ä¸€ä¸ªåˆ›å»ºä¸€ä¸ªç±»å®žä¾‹ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªç±»å®žä¾‹èµ‹å€¼ç»™æŸä¸ªå˜é‡æˆ–å¸¸é‡çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡æˆ–å¸¸é‡å°±â€œæ‹¥æœ‰â€è¿™ä¸ªå®žä¾‹ï¼Œæˆ‘ä»¬ç§°ä¸ºæœ‰äº†ä¸€ä¸ªâ€œå¼ºå¼•ç”¨â€ã€‚æ‰€è°“çš„å¼•ç”¨è®¡æ•°ï¼Œå°±æ˜¯è¿™ä¸ªå®žä¾‹è¢«å¤šå°‘ä¸ªå¸¸é‡æˆ–å˜é‡å¼ºå¼•ç”¨äº† class Apple &#123; deinit&#123; print("deinit") &#125; &#125; var a:Apple! = Apple() ä¸Šé¢è¿™æœ€åŽä¸€å¥ä»£ç å°±æ˜¯å˜é‡aå¯¹ä¸€ä¸ªAppleç±»çš„å®žä¾‹æœ‰äº†ä¸€ä¸ªå¼ºå¼•ç”¨ã€‚è¿™æ—¶å€™è¿™ä¸ªå®žä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º1ã€‚å› ä¸ºç±»å®žä¾‹æ˜¯å¼•ç”¨ç±»åž‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠè¿™ä¸ªå¼•ç”¨ä¼ é€’ç»™å…¶ä»–çš„å¸¸é‡æˆ–å˜é‡ var b = a let v = a è¿™æ—¶å€™è¿™ä¸ªå®žä¾‹å°±è¢«ä¸‰ä¸ªå˜é‡æˆ–å¸¸é‡æ‰€å¼•ç”¨ï¼Œè¿™ä¸ªæ—¶å€™å®ƒçš„å¼•ç”¨è®¡æ•°ä¸º3.å½“ä½ æŠŠå…¶ä¸­çš„bè®¾ä¸ºnilçš„æ—¶å€™ï¼Œå¼•ç”¨è®¡æ•°å°±ä¼šå˜ä¸º2.å½“è¯¥å®žä¾‹çš„å¼•ç”¨è®¡æ•°å˜ä¸º0çš„æ—¶å€™ï¼Œè¿™ä¸ªå®žä¾‹å°±ä¼šè¢«é”€æ¯ï¼Œé”€æ¯çš„æ—¶å€™å°±ä¼šè°ƒç”¨å®ƒçš„deinitæ–¹æ³•ã€‚æ³¨ï¼šå› ä¸ºä¸Šé¢ç”¨äº†å¸¸é‡ï¼Œæ‰€ä»¥ä¸èƒ½æ‰‹åŠ¨æŠŠå¸¸é‡è®¾ä¸ºnilï¼Œåªèƒ½ç­‰è¿™ä¸ªå¸¸é‡ç¦»å¼€ä½œç”¨åŸŸåŽè¢«ç³»ç»Ÿè‡ªåŠ¨é”€æ¯ã€‚(å¦‚æžœä½ æ˜¯åœ¨main.swiftçš„å…¨å±€ä¸­å®šä¹‰è¿™äº›å˜é‡æˆ–å¸¸é‡çš„è¯ï¼Œå› ä¸ºåœ¨mainæ‰§è¡Œå®Œä¹‹åŽæ‰ä¼šé‡Šæ”¾è¿™äº›å˜é‡æˆ–å¸¸é‡ï¼Œæ‰€ä»¥ä¸ä¼šæ‰“å°deinitã€‚ä½†æ˜¯ä½ å¯ä»¥æŠŠä»–ä»¬æ”¾åˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œç„¶åŽåœ¨main.swifté‡Œé¢è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚å½“è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œä¹‹åŽï¼Œè¿™äº›å˜é‡æˆ–å¸¸é‡å°±ä¼šè¢«é‡Šæ”¾ã€‚) è‡ªåŠ¨å¼•ç”¨è®¡æ•°çš„è§„ï¼š 1ã€èµ‹å€¼ç»™ä¸åŠ ä¿®é¥°ç¬¦çš„å¸¸é‡å’Œå˜é‡çš„æ—¶å€™ï¼Œå®žä¾‹çš„å¼•ç”¨è®¡æ•°åŠ 1ã€‚ 2ã€å½“ä¸€ä¸ªå˜é‡è®¾ä¸ºnilï¼Œæˆ–è€…å˜é‡(å¸¸é‡)ç¦»å¼€ä½œç”¨åŸŸçš„æ—¶å€™ï¼Œè¿™ä¸ªå¸¸é‡æˆ–å˜é‡æ‰€å¼•ç”¨å®žä¾‹çš„å¼•ç”¨è®¡æ•°å‡1ã€‚ 3ã€å½“ä¸€ä¸ªå®žä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º0çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šè¢«é”€æ¯ã€‚ ä½†æ˜¯ä¸Šé¢çœ‹ä¼¼ç®€å•çš„è§„åˆ™ä¹Ÿä¼šæœ‰å¾ˆå¤šé—®é¢˜ã€‚æ¯”å¦‚ä¸‹é¢çš„å¾ªçŽ¯å¼•ç”¨é—®é¢˜ã€‚ å…ˆå®šä¹‰ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªTelephoneç±»å’Œä¸€ä¸ªPersonç±»ã€‚Telephoneç±»æœ‰ä¸€ä¸ªPersonç±»çš„å±žæ€§ï¼ŒPersonç±»é‡Œé¢æœ‰ä¸€ä¸ªTelephoneç±»çš„å±žæ€§ class Telephone &#123; var person: Person? deinit&#123; print("Telephone deinit") &#125; &#125; class Person &#123; var telephone: Telephone? deinit&#123; print("Person deinit") &#125; &#125; å®šä¹‰ä¸€ä¸ªPersonç±»çš„å®žä¾‹å’Œä¸€ä¸ªTelephoneç±»çš„å®žä¾‹ã€‚å¹¶å¯¹ä»–ä»¬èµ‹å€¼ var person = Person() var telephone = Telephone() person.telephone = telephone telephone.person = person ä¸‹é¢åˆ†æžä¸€ä¸‹Personå®žä¾‹å’ŒTelephoneå®žä¾‹çš„å¼•ç”¨è®¡æ•°ã€‚ åœ¨å®šä¹‰Personå®žä¾‹çš„æ—¶å€™ï¼Œèµ‹å€¼ç»™äº†å˜é‡personï¼Œæ‰€ä»¥ç¬¬ä¸€å¥ä»£ç åŽï¼ŒPersonå®žä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º1ã€‚åŒæ ·ç¬¬äºŒå¥ä»£ç åŽï¼ŒTelephoneå®žä¾‹çš„å¼•ç”¨è®¡æ•°ä¹Ÿä¸º1ã€‚ ç„¶åŽç¬¬ä¸‰å¥ä»£ç æŠŠtelephoneèµ‹å€¼ç»™äº†person.telephoneã€‚ä¹Ÿå°±æ˜¯person.telephoneä¹Ÿå¯¹è¿™ä¸ªTelephoneå®žä¾‹æœ‰äº†å¼ºå¼•ç”¨ï¼Œè¿™æ—¶å€™Telephoneå®žä¾‹çš„å¼•ç”¨è®¡æ•°ä¸º2ã€‚ åŒæ ·ï¼Œç¬¬å››å±€è¿‡åŽï¼ŒPersonå®žä¾‹çš„å¼•ç”¨è®¡æ•°ä¹Ÿä¸º2ã€‚ çŽ°åœ¨çš„çŠ¶æ€æ˜¯ä¸€ä¸ªPersonå®žä¾‹å¼ºå¼•ç”¨äº†ä¸€ä¸ªTelephoneå®žä¾‹ï¼Œè¿™ä¸ªTelephoneå®žä¾‹åˆå¼ºå¼•ç”¨äº†è¿™ä¸ªPersonå®žä¾‹ã€‚ä½ å¼ºå¼•ç”¨æˆ‘ï¼Œæˆ‘å¼ºå¼•ç”¨ä½ ã€‚è¿™æ ·å°±æˆäº†ä¸€ä¸ªå¾ªçŽ¯å¼•ç”¨ã€‚ æŽ¥ç€æ‰§è¡Œä¸‹é¢ä»£ç ï¼Œpersonå˜é‡å’Œtelephoneå˜é‡é‡Šæ”¾å¯¹å®žä¾‹çš„å¼ºå¼•ç”¨ person = nil telephone = nil ä½†æ˜¯Personå®žä¾‹ä¸­çš„telephoneå±žæ€§ä»ç„¶å¼ºå¼•ç”¨ç€Telephoneå®žä¾‹ã€‚åŒæ ·çš„Telephoneå®žä¾‹çš„personå±žæ€§ä¹Ÿå¼•ç”¨ç€Personå®žä¾‹ã€‚æ‰€ä»¥Personå®žä¾‹å’ŒTelephoneå®žä¾‹çš„å¼•ç”¨è®¡æ•°éƒ½ä¸º1ã€‚ä½†æ­¤æ—¶æˆ‘ä»¬å·²ç»æ²¡åŠžæ³•å†è®¿é—®Personå’ŒTelephoneçš„å®žä¾‹äº†ã€‚åŒæ—¶åˆå› ä¸ºä»–ä»¬çš„å¼•ç”¨è®¡æ•°éƒ½ä¸º1ï¼Œç³»ç»Ÿä¹Ÿä¸ä¼šé‡Šæ”¾ä»–ä»¬ã€‚è¿™æ ·å°±é€ æˆäº†å†…å­˜æ³„éœ²ã€‚ ä¸ºäº†è§£å†³è¿™ç§å¾ªçŽ¯å¼•ç”¨çš„é—®é¢˜ï¼ŒåŠžæ³•å°±æ˜¯æˆªæ–­è¿™ä¸ªå¾ªçŽ¯ã€‚ç¬¬ä¸€ç§ç¬¨ç¬¨çš„è§£å†³æ–¹æ³•å°±æ˜¯åœ¨ä½ æŠŠpersonæˆ–telephoneå˜é‡è®¾ä¸ºnilä¹‹å‰ï¼ŒæŠŠperson.telephoneæˆ–telephone.personè®¾ä¸ºnilã€‚è¿™æ ·å°±æ‰‹åŠ¨åˆ‡æ–­äº†å¾ªçŽ¯å¼•ç”¨ã€‚è€Œé€šç”¨çš„è§£å†³æ–¹æ³•å°±æ˜¯å¼•ç”¨ä¸€ä¸ªæ–°æ¦‚å¿µâ€”â€”å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰å¼±å¼•ç”¨å’Œå¼ºå¼•ç”¨æœ€å¤§åŒºåˆ«å°±æ˜¯ï¼šå½“ä½ æŠŠä¸€ä¸ªå®žä¾‹èµ‹å€¼ç»™ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡çš„æ—¶å€™ï¼Œè¿™ä¸ªå˜é‡çš„å¼•ç”¨è®¡æ•°ä¸ä¼šåŠ 1ã€‚ä¸ºäº†å®žçŽ°è¿™ä¸€ç‚¹ï¼Œåœ¨å®šä¹‰å˜é‡çš„æ—¶å€™åœ¨æœ€å‰é¢åŠ ä¸Šweakå…³é”®å­—ã€‚ä¸‹é¢æˆ‘ä»¬é‡æ–°å®šä¹‰Personç±»å’ŒTelephoneç±» class Telephone &#123; weak var person: Person? //æŠŠè¿™ä¸ªå˜é‡å®šä¹‰ä¸ºäº†ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡ deinit&#123; print("Telephone deinit") &#125; &#125; class Person &#123; var telephone: Telephone? deinit&#123; print("Person deinit") &#125; &#125; ç„¶åŽæˆ‘ä»¬å†æ¬¡è°ƒç”¨ä¸‹é¢çš„ä»£ç  var person: Person? = Person() var telephone: Telephone? = Telephone() person!.telephone = telephone telephone!.person = person //ç¬¬4å¥ person = nil // æ‰§è¡Œå®Œè¿™å¥åŽæ‰“å° Person deinit telephone = nil // æ‰§è¡Œå®Œè¿™å¥åŽæ‰“å° Telephone deinit å› ä¸ºTelephoneç±»é‡Œé¢çš„personå±žæ€§æ˜¯å¼±å¼•ç”¨çš„ï¼Œæ‰€ä»¥æ‰§è¡Œå®Œäº†ç¬¬4å¥ä¹‹åŽï¼ŒTelephoneå®žä¾‹è¢«telephoneå˜é‡å’Œperson.telephoneå®žä¾‹æ‰€å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°ä¸º2ã€‚è€ŒPersonå®žä¾‹åªè¢«personå˜é‡æ‰€å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°ä¸º1. å½“æ‰§è¡Œå®Œperson = nil ä¹‹åŽï¼Œpersonçš„å¼•ç”¨è®¡æ•°å°±å˜ä¸ºäº†0ï¼Œ è¿™ä¸ªæ—¶å€™ç³»ç»Ÿå°±ä¼šé‡Šæ”¾Personå®žä¾‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œperson.telephoneä¹Ÿä¼šè¢«é‡Šæ”¾ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´Telephoneå®žä¾‹çš„å¼•ç”¨è®¡æ•°å‡1ï¼Œå˜ä¸º1ã€‚ å½“æ‰§è¡Œå®Œtelephone = nil ä¹‹åŽï¼ŒTelephoneå®žä¾‹çš„å¼•ç”¨è®¡æ•°å˜ä¸º0ã€‚ç³»ç»Ÿé‡Šæ”¾Telephoneå®žä¾‹ã€‚ å…³äºŽè¿™ä¸ªå¼±å¼•ç”¨å†è¡¥å……å‡ ç‚¹ ç¬¬ä¸€ã€å½“ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡æ‰€å¼•ç”¨çš„å®žä¾‹è¢«é‡Šæ”¾çš„æ—¶å€™ï¼Œè¿™ä¸ªå¼±å¼•ç”¨å˜é‡ä¼šè¢«è‡ªåŠ¨ç½®ä¸ºnilã€‚ ç¬¬äºŒã€å› ä¸ºç¬¬ä¸€æ¡çš„å†…å®¹ï¼Œæ‰€ä»¥å¼±å¼•ç”¨åªèƒ½å¯¹å˜é‡ä½¿ç”¨ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯å¯é€‰ç±»åž‹ã€‚ ç¬¬ä¸‰ã€å¦‚æžœä½ åœ¨åˆ›å»ºå®žä¾‹çš„æ—¶å€™å°±æŠŠå®ƒå¤åˆ¶ç»™ä¸€ä¸ªå¼±å¼•ç”¨å˜é‡ï¼Œå› ä¸ºå¼±å¼•ç”¨å˜é‡ä¸ä¼šå¢žåŠ è¿™ä¸ªå®žä¾‹çš„å¼•ç”¨è®¡æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªå®žä¾‹åˆ›å»ºåŽç«‹é©¬å°±ä¼šè¢«é”€æ¯ã€‚ ç¬¬å››ã€å¦‚æžœä½ å°†ä¸€ä¸ªå·²ç»èµ‹å€¼çš„å¼±å¼•ç”¨å˜é‡èµ‹å€¼ç»™ä¸€ä¸ªå¼ºå¼•ç”¨å˜é‡(å¸¸é‡)ï¼Œé‚£ä¹ˆè¿™ä¸ªå®žä¾‹çš„å¼•ç”¨è®¡æ•°ä¼šåŠ 1ã€‚ Unowned Reference Unowned Referenceå’Œå¼±å¼•ç”¨ä¸€æ ·ï¼Œä¸ä¼šå¯¹å®žä¾‹äº§ç”Ÿå¼ºå¼•ç”¨ã€‚åŒºåˆ«åœ¨äºŽUnowned Referenceå‡è®¾å®ƒæ‰€æŒ‡å‘çš„å®žä¾‹æ€»æ˜¯æœ‰å€¼çš„ã€‚æ‰€ä»¥Unowned Referenceä¸€èˆ¬ä¸ä¼šè®¾ç½®ä¸ºå¯é€‰ç±»åž‹ã€‚ä½†ç¼ºç‚¹å°±æ˜¯å½“Unowned Referenceæ‰€æŒ‡å‘çš„å®žä¾‹è¢«é‡Šæ”¾çš„æ—¶å€™ï¼ŒUnowned Referenceå˜é‡ä¸ä¼šè‡ªåŠ¨ç½®ä¸ºnilã€‚ è¯­æ³•å°±æ˜¯å°†weakå…³é”®å­—æ›¿æ¢ä¸ºunownedã€‚ä½†ä¸€ä¸ªå˜é‡æ°¸è¿œä¸ä¼šä¸ºnilçš„æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨unownedä¿®é¥°ã€‚ å¾ªçŽ¯å¼•ç”¨ç¬¬äºŒç§æƒ…å†µâ€”â€”é—­åŒ…å¾ªçŽ¯å¼•ç”¨ åœ¨é—­åŒ…çš„æ—¶å€™æˆ‘ä»¬è¯´è¿‡ï¼Œé—­åŒ…æ˜¯å¼•ç”¨ç±»åž‹ï¼Œä¸”ä¼šæ•èŽ·å€¼ã€‚è®¾æƒ³ï¼Œä½ æŠŠä¸€ä¸ªé—­åŒ…å£°æ˜Žä¸ºä¸€ä¸ªç±»çš„å±žæ€§çš„æ—¶å€™ï¼Œè¿™ä¸ªç±»çš„å®žä¾‹æ‹¥æœ‰äº†å¯¹è¿™ä¸ªé—­åŒ…çš„å¼ºå¼•ç”¨ã€‚æ­¤æ—¶å¦‚æžœä½ åœ¨è¿™ä¸ªé—­åŒ…é‡Œé¢è®¿é—®äº†è¿™ä¸ªç±»çš„å…¶ä»–å±žæ€§(self.someProperty)æˆ–è€…æ–¹æ³•(self.someMethod)çš„è¯ã€‚é‚£ä¹ˆè¿™ä¸ªé—­åŒ…å°±ä¼šæ•èŽ·æ‰€è®¿é—®çš„å±žæ€§æˆ–æ–¹æ³•ï¼Œç»Ÿç§°&quot;æ•èŽ·äº†self&quot;ã€‚åœ¨è®¿é—®å®žä¾‹çš„å±žæ€§æˆ–æ–¹æ³•çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨self.çš„æ–¹å¼ã€‚Swiftæ­¤æ„åœ¨æé†’ä½ å¯èƒ½ä¼šäº§ç”Ÿå¾ªçŽ¯å¼•ç”¨ã€‚ é‚£ä¹ˆè¿™æ—¶å€™åˆæ˜¯ä¸€ä¸ªå¾ªçŽ¯å¼•ç”¨äº†ï¼Œselfå¼•ç”¨é—­åŒ…ï¼Œé—­åŒ…å¼•ç”¨selfã€‚å¯¼è‡´è¿™ä¸ªå®žä¾‹æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ã€‚ ä¸‹é¢å®šä¹‰ä¸€ä¸ªæœ‰é—­åŒ…çš„Personç±» class Person &#123; var name: String? lazy var printName: Void-&gt;Void = &#123; print(self.name) &#125; init(name: String)&#123; self.name = name; &#125; deinit&#123; print(&quot;Person deinit&quot;) &#125; &#125; è¿™ä¸ªé—­åŒ…æˆ‘ä»¬å£°æ˜Žä¸ºäº†lazyç±»åž‹ï¼Œå› ä¸ºå¦‚æžœä½ æƒ³è¦åœ¨é—­åŒ…é‡Œé¢è®¿é—®åˆ°selfçš„è¯ï¼Œå¿…é¡»æ˜¯åœ¨ç±»åˆå§‹åŒ–ä¹‹åŽæ‰è¡Œã€‚è€Œä¸€èˆ¬çš„å±žæ€§æ˜¯åœ¨ç±»åˆå§‹åŒ–çš„æœ€å¼€å¤´é˜¶æ®µåˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥ä¸åŠ lazyçš„é—­åŒ…ä¸èƒ½è®¿é—®selfå…³é”®å­—ã€‚ä¸Šé¢çš„ä»£ç å¾ˆæ˜Žæ˜¾é—­åŒ…å’Œç±»å®žä¾‹å·²ç»å¯èƒ½ä¼šäº§ç”Ÿå¾ªçŽ¯å¼•ç”¨äº†ã€‚ä¸ºä»€ä¹ˆè¯´å¯èƒ½å‘¢ï¼Ÿå› ä¸ºå¦‚æžœä½ ä¸€ç›´æ²¡ç”¨åˆ°é—­åŒ…çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªé—­åŒ…å°±ä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šäº§ç”Ÿé—­åŒ…å¯¹selfçš„å¼ºå¼•ç”¨ï¼Œä¹Ÿå°±è°ˆä¸ä¸Šå¾ªçŽ¯å¼•ç”¨äº†ã€‚ æ‰€ä»¥å¦‚æžœä»…ä»…æ‰§è¡Œä¸‹é¢ä»£ç  var p: Person? = Person(name: "Kate") p = nil //æ‰“å°å‡º Person deinit ä½†æ˜¯å¦‚æžœæ‰§è¡Œä¸‹é¢ä»£ç  var p: Person? = Person(name: &quot;Kate&quot;) p?.printName() p = nil //æ‰“å°å‡º Optional(&quot;Kate&quot;) è¿™æ—¶å€™å› ä¸ºå¾ªçŽ¯å¼•ç”¨å¯¼è‡´Personå®žä¾‹ä¸ä¼šè¢«é‡Šæ”¾ã€‚è§£å†³è¿™ä¸ªå¾ªçŽ¯å¼•ç”¨åŒæ ·æœ‰ä¸¤ç§æ–¹å¼ã€‚ ç¬¬ä¸€ç§æ˜¯åœ¨ä¸éœ€è¦è¿™ä¸ªå®žä¾‹çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªå¯èƒ½ä¼šå¼•èµ·å¾ªçŽ¯å¼•ç”¨çš„é—­åŒ…è®¾ä¸ºnilã€‚ ç¬¬äºŒç§æ˜¯åˆ©ç”¨é—­åŒ…çš„æ•èŽ·åˆ—è¡¨ã€‚ä¸‹é¢æ˜¯ç¬¬äºŒç§æ–¹æ³•çš„ä»‹ç» ä¸‹é¢æ˜¯è¯­æ³•å®šä¹‰ä¾‹å­ï¼Œåˆ†åˆ«æ˜¯æœ‰å‚æ•°å’Œæ²¡å‚æ•°çš„é—­åŒ…ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé—­åŒ…å¯¹æ•èŽ·çš„selfä¸ä¼šäº§ç”Ÿå¼ºå¼•ç”¨ã€‚ï¼ˆé¢˜å¤–è¯ï¼Œåœ¨OCä¸­æ˜¯é€šè¿‡å®šä¹‰å¦å¤–ä¸€ä¸ªå¯¹selfçš„å¼±å¼•ç”¨å˜é‡ï¼Œç„¶åŽå°†è¿™ä¸ªå¼±å¼•ç”¨å˜é‡ä¼ é€’ç»™blockæ¥å®žçŽ°çš„ã€‚ï¼‰ //æœ‰å‚æ•°çš„æƒ…å†µ lazy var printName: ((String)-&gt;Void)? = &#123; [unowned self] (say: String) -&gt; Void in print(say,self.name) &#125; //æ²¡å‚æ•°çš„æƒ…å†µ lazy var printName2: (Void-&gt;Void)? = &#123; [weak self] in print(self!.name) &#125; è¿™é‡Œå°±æ˜¯ç”¨ä¸¤ä¸ªå…³é”®å­—weakå’Œunownedå°†selfä¿®é¥°ã€‚weakå’Œunownedçš„åŒºåˆ«å’Œä¹‹å‰æ‰€è®²çš„æ˜¯ä¸€æ ·çš„ã€‚]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
      <tags>
        <tag>ARC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-UIKit-UIButton-Imgå’ŒTitleä½ç½®]]></title>
    <url>%2F2017%2F12%2F01%2FOC%2FKit%2FUIButton-Img%E5%92%8CTitle%E4%BD%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[iOS-UI-UIButton-Imgå’ŒTitleä½ç½® UIButton çš„image title çš„ä½ç½®éƒ½æ˜¯å¯ä»¥è°ƒæ•´çš„ï¼Œå…·ä½“å¦‚ä½•è°ƒæ•´å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤ è®¾ç½®å†…å®¹çš„æ°´å¹³åž‚ç›´ä½ç½®self.contentVerticalAlignment = UIControlContentVerticalAlignmentTop;self.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft; selfæŒ‡çš„æ˜¯UIButtonå¯¹è±¡ï¼Œè¿™æ˜¯ç»§æ‰¿è‡ªUIButonçš„æ–¹æ³•é‡Œé¢æˆ–è€…ç»™UIButtonæ·»åŠ æ‰©å±•æ–¹æ³•é‡Œé¢ã€‚é€šè¿‡è¿™æ ·çš„è®¾ç½®å¯ä»¥ä½¿å¾—imageViewæ˜¾ç¤ºåœ¨UIButtonå¯¹è±¡çš„å·¦ä¸Šè§’ï¼ŒtitleLabelæ˜¾ç¤ºåœ¨imageViewçš„å³è¾¹ è°ƒæ•´imageViewå±…ä¸­CGFloat btn_width = self.frame.size.width;self.imageEdgeInsets = UIEdgeInsetsMake(10, (btn_width - self.imageView.frame.size.width)/2, 0, 0); è°ƒæ•´ titleLabelå±…ä¸­CGFloat btn_width = self.frame.size.width;self.titleEdgeInsets = UIEdgeInsetsMake(self.imageView.frame.size.height + vSpace+10, - self.imageView.frame.size.width+(btn_width/2-self.titleLabel.frame.size.width/2), 0, 0); é€šè¿‡å‡åŽ» imageViewçš„å®½åº¦ä½¿titleLabelå¤„åœ¨å·¦ä¸Šè§’ï¼Œè®©åŽå°†labelç§»æ¤ä¸­å¿ƒã€‚ç»è¿‡ä»¥ä¸Šä¸‰æ­¥å°±å¯ä»¥ä½¿imageView ã€titleLabelLabel å±…ä¸­ï¼Œå…¶å®ƒçš„æ˜¾ç¤ºå½¢å¼ä¸€æ ·å¯ä»¥å‚ç…§ä»¥ä¸Šçš„è®¾ç½®ã€‚ æ•´ç†æˆäº†æ–¹æ³•ï¼Œ ä¸éœ€è¦æ¯æ¬¡éƒ½å†™ - (void) setImageAndTitleCenterWithVerticalGapSpace:(CGFloat) vSpace imageTopSpace:(CGFloat) iSpace &#123; self.contentVerticalAlignment = UIControlContentVerticalAlignmentTop; self.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft; CGFloat btn_width = self.frame.size.width; CGFloat iTop = iSpace; self.imageEdgeInsets = UIEdgeInsetsMake(iTop, (btn_width - self.imageView.frame.size.width)/2, 0, 0);// self.titleEdgeInsets = UIEdgeInsetsMake(self.imageView.frame.size.height + vSpace+iTop, - self.imageView.frame.size.width+(btn_width/2-self.titleLabel.frame.size.width/2), 0, 0);// ä½¿ç”¨ä¸­å‘çŽ°å¯¹äºŽlabelçš„widthå–å€¼ä¸å‡†ç¡®ï¼Œé‚é€šè¿‡è®¡ç®—ä¸€æ¬¡èŽ·å–ï¼Œå‡†ç¡® CGSize size = [self.titleLabel sizeThatFits:CGSizeMake(CGRectGetWidth(self.frame), CGRectGetHeight(self.frame))]; self.titleEdgeInsets = UIEdgeInsetsMake(CGRectGetHeight(self.imageView.frame)+ vSpace + iTop, - CGRectGetWidth(self.imageView.frame) + (CGRectGetWidth(self.frame) - size.width)/2, 0, 0);&#125; vSpace imageViewä¸ŽtitleLabelåž‚ç›´é—´éš” iSpace imageView è·ç¦» topçš„é—´éš”]]></content>
      <categories>
        <category>OC</category>
        <category>UIKit</category>
        <category>UIButton</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Initializationåˆå§‹åŒ–&Deinitializationæžæž„]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FInitialization%E5%88%9D%E5%A7%8B%E5%8C%96-%E6%9E%90%E6%9E%84%2F</url>
    <content type="text"><![CDATA[Initialization åˆå§‹åŒ–åˆå§‹åŒ– åˆå§‹åŒ–ï¼Œæ˜¯å½“åˆ›å»ºä¸€ä¸ªç±»ã€ç»“æž„ä½“ã€æžšä¸¾ç±»çš„æ—¶ï¼Œå®Œæˆå­˜å‚¨å±žæ€§çš„å€¼çš„åˆå§‹åŒ–ï¼Œå’Œå…¶ä»–ä¸€äº›åˆå§‹åŒ–å·¥ä½œã€‚å‡†å¤‡å¥½è¿™ä¸ªå®žä¾‹ä»¥ä¾›ä½¿ç”¨åè¿‡æ¥ï¼Œå½“ä¸€ä¸ªå®žä¾‹ä¸å†ä½¿ç”¨çš„æ—¶å€™ï¼Œç”±æžæž„è¿‡ç¨‹é‡Šæ”¾è¿™ä¸ªå®žä¾‹æ‰€å ç”¨èµ„æºå®Œæˆåˆå§‹åŒ–å·¥ä½œçš„ä¸€ä¸ªæ–¹æ³•ä¸€èˆ¬ç§°ä¸ºåˆå§‹åŒ–æ–¹æ³•ã€æž„é€ å™¨(Initializer)ã€æž„é€ æ–¹æ³•ç­‰ç­‰Swiftä¸­çš„æž„é€ å™¨ä¸éœ€è¿”å›žå€¼ï¼Œåªæ˜¯å®Œæˆåˆå§‹åŒ–å·¥ä½œã€‚ ç±»æˆ–ç»“æž„ä½“åœ¨åˆ›å»ºçš„æ—¶å€™å¿…é¡»ä¿è¯å­˜å‚¨å±žæ€§æœ‰åˆå§‹åŒ–å€¼ ç›®çš„çš„å®žçŽ°å¯ä»¥é€šè¿‡åœ¨å®šä¹‰å±žæ€§çš„æ—¶å€™ç»™å­˜å‚¨å±žæ€§æ·»åŠ ä¸Šé»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨æž„é€ å™¨ä¸­èµ‹å€¼ã€‚å¹¶ä¸”åœ¨è¿™ä¸¤ç§æƒ…å†µä¸­éƒ½ä¸ä¼šè§¦å‘å±žæ€§çš„è§‚å¯Ÿå™¨ã€‚å®˜æ–¹æ–‡æ¡£å»ºè®®æˆ‘ä»¬åœ¨ä¸€ä¸ªå­˜å‚¨å±žæ€§é€šå¸¸å…·æœ‰åŒä¸€ä¸ªåˆå§‹å€¼çš„æ—¶å€™ï¼Œä½¿ç”¨å±žæ€§å®šä¹‰çš„æ–¹å¼æ·»åŠ åˆå§‹å€¼ã€‚ ä¸‹é¢æ˜¯è¿™ä¸¤ç§æ–¹æ³•çš„ä»£ç class Animal &#123; var life: Int = 0 var height: Double init()&#123; height = 0 &#125; &#125; è¿™é‡Œçš„init()æ–¹æ³•å°±æ˜¯æž„é€ å™¨ã€‚æ³¨æ„å®ƒæ˜¯ä¸å¸¦funcå…³é”®å­—çš„ã€‚è€Œä¸”ä¹Ÿæ²¡æœ‰è¿”å›žå€¼ã€‚ä»¥å‰åˆ›å»ºä¸€ä¸ªå®žä¾‹çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä½¿ç”¨â€œç±»å()â€çš„å½¢å¼ï¼Œè¿™å…¶å®žå°±æ˜¯è°ƒç”¨äº†è¿™ä¸ªæž„é€ å™¨ã€‚ä½†æ˜¯å½“æ—¶æˆ‘ä»¬å¹¶æ²¡æœ‰å†™è¿™ä¸ªæž„é€ å™¨ï¼Œè¿™æ˜¯å› ä¸ºå½“ä¸€ä¸ªç±»æ²¡æœ‰å…¶ä»–æž„é€ å™¨çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸ªé»˜è®¤çš„æž„é€ å™¨ã€‚ä½†æ˜¯ä¸€æ—¦æœ‰äº†å…¶ä»–çš„æž„é€ å™¨ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¸ä¼šå†é»˜è®¤ç”Ÿæˆè¿™ä¸ªæž„é€ å™¨ã€‚ä½ ä¹Ÿå°±å†ä¸èƒ½ç”¨â€œç±»å()â€è¿™ç§åˆ›å»ºæ–¹æ³•äº†ã€‚å½“ç„¶ï¼Œå½“æœ‰å…¶ä»–æž„é€ å™¨çš„æ—¶å€™ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ è¿™ä¸ªé»˜è®¤çš„æž„é€ å™¨ã€‚ è‡ªå®šä¹‰æž„é€ å™¨ å¯ä»¥å®šä¹‰æž„é€ å™¨ï¼Œå¯ä»¥ä¼ å…¥è‡ªå®šä¹‰çš„å‚æ•°åˆ—è¡¨æ¥åˆå§‹åŒ–ç±»ã€‚è‡ªå®šä¹‰çš„æž„é€ å™¨çš„å¤–éƒ¨å‚æ•°åè§„åˆ™å’Œæ–¹æ³•ä¸å¤ªä¸€æ ·ï¼Œæž„é€ å™¨çš„æ¯ä¸€ä¸ªå‚æ•°éƒ½ä¼šç”Ÿæˆå’Œå±€éƒ¨å‚æ•°åä¸€æ ·çš„å¤–éƒ¨å‚æ•°åã€‚å¦‚æžœä¸æƒ³è¦å¤–éƒ¨å‚æ•°åï¼Œè¿˜æ˜¯å¯ä»¥ç”¨ä¸‹åˆ’çº¿å–æ¶ˆ class Animal &#123; var life: Int = 0 var height: Double init()&#123; //æ³¨æ„ï¼Œå½“æœ‰å…¶ä»–æž„é€ å™¨çš„æ—¶å€™ï¼Œç³»ç»Ÿä¸ä¼šå†ç”Ÿæˆè¿™ä¸ªæž„é€ å™¨ï¼Œå¿…é¡»æ‰‹åŠ¨å†™å‡ºæ¥ height = 0 &#125; init(life: Int, height: Double) &#123; self.life = life self.height = height &#125; &#125; //å¯ä»¥è¿™æ ·ä½¿ç”¨è‡ªå®šä¹‰çš„æž„é€ å™¨ var a = Animal(life: 29, height: 1.2) å†æ¬¡æé†’ï¼Œå½“æœ‰ç±»å®šä¹‰é‡Œé¢æœ‰è‡ªå®šä¹‰æž„é€ å™¨çš„æ—¶å€™ï¼Œä¸ä¼šå†è‡ªåŠ¨ç”Ÿæˆé»˜è®¤æž„é€ å™¨ã€‚å¹¶ä¸”å¯¹äºŽç»“æž„ä½“ä¹Ÿå†ä¸ä¼šè‡ªåŠ¨ç”ŸæˆéåŽ†å±žæ€§çš„æž„é€ å™¨ã€‚ä½†æ˜¯ä½ å¯ä»¥å°†ä½ è‡ªå·±çš„æž„é€ å™¨å†™åœ¨æ‰©å±•é‡Œé¢ï¼Œè¿™æ ·å°±ä¸ä¼šå½±å“é»˜è®¤æž„é€ å™¨çš„è‡ªåŠ¨ç”Ÿæˆ æž„é€ å™¨å§”æ‰˜ï¼ˆInitializer Delegationï¼‰ æž„é€ å™¨å§”æ‰˜ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªæž„é€ å™¨é‡Œé¢è°ƒç”¨å¦å¤–ä¸€ä¸ªæž„é€ å™¨ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å¤šä½™çš„ä»£ç ã€‚åœ¨æž„é€ å™¨é‡Œé¢ä½¿ç”¨self.initè¯­æ³•æ¥è°ƒç”¨å¦å¤–ä¸€ä¸ªæž„é€ å™¨ï¼Œä¸”è¿™ä¸ªè¯­æ³•åªèƒ½åœ¨æž„é€ å™¨é‡Œé¢ä½¿ç”¨ã€‚æž„é€ å™¨å§”æ‰˜åœ¨å€¼ç±»åž‹ï¼ˆç»“æž„ä½“å’Œæžšä¸¾ç±»ï¼‰å’Œç±»ç›´æŽ¥æ˜¯ä¸å¤ªä¸€æ ·çš„ã€‚å› ä¸ºç±»éœ€è¦è€ƒè™‘åˆ°ç»§æ‰¿é—®é¢˜ã€‚å…ˆæ¥çœ‹å€¼ç±»åž‹çš„æž„é€ å™¨å§”æ‰˜ã€‚è¿™ä¸ªå¾ˆç®€å•ï¼Œè°ƒç”¨å¦å¤–ä¸€ä¸ªæž„é€ å™¨å°±è¡Œäº†ã€‚ä¸‹é¢çš„ä¾‹å­è™½ç„¶æœ‰ç‚¹è„±è£¤å­æ”¾å±çš„æ„Ÿè§‰ï¼Œä½†ã€‚ã€‚å°±æ˜¯ä¸¾ä¸ªä¾‹å­è€Œå·² struct Apple &#123; var totalPrice: Double init(totalPrice: Double) &#123; self.totalPrice = totalPrice &#125; init(kg: Double, pricePerKg: Double) &#123; let totalPrice = kg * pricePerKg self.init(totalPrice: totalPrice) //è°ƒç”¨å¦å¤–ä¸€ä¸ªæž„é€ å™¨ &#125; &#125; ç±»çš„ç»§æ‰¿å’Œåˆå§‹åŒ– å› ä¸ºç±»å¯ä»¥ç»§æ‰¿ï¼Œæ‰€ä»¥å®ƒçš„åˆå§‹åŒ–è§„åˆ™å°±å˜å¾—æ¯”ç»“æž„ä½“è¦å¤æ‚å¤šäº†ã€‚é¦–å…ˆï¼Œç±»çš„æž„é€ å™¨åˆ†ä¸ºæŒ‡å®šæž„é€ å™¨ï¼ˆDesignated Initializerï¼‰ å’Œ ä¾¿åˆ©æž„é€ å™¨ ï¼ˆConvenience Initializerï¼‰ä¸€ä¸ªç±»é€šå¸¸å…·æœ‰å¾ˆå°‘æ•°é‡ï¼ˆä¸€èˆ¬åªæœ‰1ä¸ªï¼‰çš„æŒ‡å®šæž„é€ å™¨ã€‚ä½†æ˜¯å¿…é¡»æœ€å°‘å…·æœ‰ä¸€ä¸ªã€‚ä¾¿åˆ©æž„é€ å™¨æ˜¯ç”¨æ¥è°ƒç”¨æŒ‡å®šæž„é€ å™¨å®Œæˆåˆå§‹åŒ–å·¥ä½œçš„ã€‚ä¸€ä¸ªç±»å¯ä»¥ä¸å…·æœ‰éåŽ†æž„é€ å™¨ã€‚ä¸¤ç§æž„é€ å™¨çš„è¯­æ³• //æŒ‡å®šæž„é€ å™¨ init(parameters) &#123; statements &#125; //ä¾¿åˆ©æž„é€ å™¨ convenience init(parameters) &#123; statements &#125; ç±»çš„æž„é€ å™¨å§”æ‰˜è§„åˆ™ï¼š 1ã€ä¸€ä¸ªæŒ‡å®šæž„é€ å™¨å¿…é¡»è°ƒç”¨å®ƒçš„ç›´æŽ¥çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨ 2ã€ä¸€ä¸ªä¾¿åˆ©æž„é€ å™¨å¿…é¡»è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦å¤–çš„æž„é€ å™¨ 3ã€ä¸€ä¸ªä¾¿åˆ©æž„é€ å™¨å¿…é¡»æœ€ç»ˆä»¥è°ƒç”¨æŒ‡å®šæž„é€ å™¨ç»“æŸã€‚ è§„åˆ™2å’Œ3è¿žèµ·æ¥å°±æ˜¯è¯´ï¼Œä¸€ä¸ªä¾¿åˆ©æž„é€ å™¨å¯èƒ½ä¼šè°ƒç”¨äº†å¦å¤–ä¸€ä¸ªä¾¿åˆ©æž„é€ å™¨ï¼Œç„¶åŽè¿™ä¸ªæž„é€ å™¨åˆè°ƒç”¨äº†å¦å¤–ä¸€ä¸ªä¾¿åˆ©æž„é€ å™¨â€¦.ä½†æ˜¯è¿™ä¸ªé“¾çš„æœ€åŽçš„ä¸€ä¸ªä¾¿åˆ©æž„é€ å™¨å¿…é¡»æ˜¯è°ƒç”¨æŒ‡å®šæž„é€ å™¨ã€‚ä¸‹é¢é™„ä¸Šå®˜æ–¹çš„å›¾ç‰‡ã€‚åœ¨å›¾ç‰‡ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œä¸‰æ¡è§„åˆ™æ€»ç»“èµ·æ¥å°±æ˜¯ï¼šæŒ‡å®šæž„é€ å™¨å¾€ä¸Šè°ƒç”¨ï¼Œä¾¿åˆ©æž„é€ å™¨å¹³è¡Œè°ƒç”¨ä¸”ç»ˆç»“åœ¨æŒ‡å®šæž„é€ å™¨ã€‚ ç±»çš„åˆå§‹åŒ–åˆ†ä¸ºä¸¤é˜¶æ®µç¬¬ä¸€é˜¶æ®µ 1ã€ä¸€ä¸ªæŒ‡å®šæž„é€ å™¨æˆ–ä¾¿åˆ©æž„é€ å™¨è¢«è°ƒç”¨ 2ã€åˆ†é…ç±»å®žä¾‹æ‰€éœ€çš„å†…å­˜ï¼Œä½†æ˜¯å†…å­˜æ²¡æœ‰åˆå§‹åŒ– 3ã€è¿™ä¸ªç±»çš„æŒ‡å®šæž„é€ å™¨ç¡®ä¿è¯¥ç±»å¼•å…¥çš„æ–°çš„å­˜å‚¨å±žæ€§éƒ½åˆå§‹åŒ–ã€‚ï¼ˆå› ä¸ºä¾¿åˆ©æž„é€ å™¨æœ€ç»ˆä¼šåˆ°æŒ‡å®šæž„é€ å™¨ï¼‰ã€‚ 4ã€ç„¶åŽè¿™ä¸ªæž„é€ å™¨è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨å®Œæˆå’Œç¬¬ä¸‰æ­¥åŒæ ·çš„å·¥ä½œã€‚ 5ã€ç›´åˆ°ç»§æ‰¿é“¾çš„æœ€é¡¶éƒ¨åˆ†ã€‚ 6ã€è¿™æ—¶å€™æœ‰çš„å­˜å‚¨å±žæ€§éƒ½æœ‰åˆå§‹å€¼äº†ã€‚ ç¬¬äºŒé˜¶æ®µ 1ã€ä»Žç»§æ‰¿é“¾çš„æœ€é¡¶éƒ¨åˆ†å‡ºå‘ã€‚æ¯ä¸ªæŒ‡å®šæž„é€ å™¨å…·æœ‰äº†ä¿®æ”¹å®žä¾‹çš„æƒåˆ©ã€‚å¹¶ä¸”å¯ä»¥è°ƒç”¨å®žä¾‹æ–¹æ³•ã€‚ 2ã€æœ€åŽï¼Œè¿™ä¸ªåˆå§‹åŒ–é“¾æ¡é‡Œé¢çš„ä¾¿åˆ©æž„é€ å™¨éƒ½å…·æœ‰äº†ä¿®æ”¹å®žä¾‹çš„æƒåˆ©ã€‚ éµå¾ªä¸Šé¢ä¸¤ä¸ªé˜¶æ®µçš„æ­¥éª¤ï¼Œé¿å…äº†å½“åœ¨åˆå§‹åŒ–é“¾åŽé¢çš„æž„é€ å™¨ä¿®æ”¹äº†å±žæ€§ä¹‹åŽï¼Œåˆè¢«å‰é¢çš„æž„é€ å™¨ä¿®æ”¹å±žæ€§çš„å¯èƒ½æ€§ã€‚é¿å…äº†ä½¿ç”¨æ²¡æœ‰ç»è¿‡åˆå§‹åŒ–çš„å±žæ€§çš„å¯èƒ½æ€§ã€‚ ä¸ºäº†ç¡®ä¿ä¸¤ä¸ªé˜¶æ®µæ­¥éª¤çš„å®žæ–½ã€‚ç¼–è¯‘å™¨æœ‰4æ¡æ£€æµ‹è§„åˆ™ï¼Œè¿™å››æ¡è§„åˆ™å†³å®šäº†ä½ åœ¨æž„é€ å™¨é‡Œé¢æŸäº›ä»£ç çš„é¡ºåºã€‚ 1ã€åœ¨è°ƒç”¨çˆ¶ç±»æž„é€ å™¨ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿å­ç±»å¼•å…¥çš„æ–°å±žæ€§å·²ç»å¾—åˆ°åˆå§‹åŒ–ã€‚ 2ã€å­ç±»å¿…é¡»åœ¨è°ƒç”¨äº†çˆ¶ç±»çš„æž„é€ å™¨ä¹‹åŽï¼Œæ‰èƒ½è®¿é—®ç»§æ‰¿çš„å±žæ€§ã€‚ 3ã€ä¾¿åˆ©æž„é€ å™¨å¿…é¡»åœ¨è°ƒç”¨äº†å…¶ä»–æž„é€ å™¨ä¹‹åŽï¼Œæ‰èƒ½è®¿é—®å±žæ€§æˆ–è°ƒç”¨å®žä¾‹æ–¹æ³•ã€‚ 4ã€åœ¨å®Œæˆç¬¬ä¸€é˜¶æ®µä¹‹å‰ï¼ˆå…¶å®žå°±æ˜¯å®Œæˆåˆå§‹åŒ–æœ¬ç±»å®šä¹‰çš„æ–°å±žæ€§ï¼Œè°ƒç”¨çˆ¶ç±»æž„é€ å™¨ï¼‰ï¼Œæž„é€ å™¨ä¸èƒ½è°ƒç”¨å®žä¾‹æ–¹æ³•ï¼Œä¸èƒ½è®¿é—®å±žæ€§çš„å€¼ï¼Œä¸èƒ½æŠŠselfå½“åšå€¼è®¿é—®ã€‚ä½†æ˜¯å¯ä»¥ç”¨self.å±žæ€§åçš„æ–¹å¼ç»™å±žæ€§èµ‹å€¼ã€‚ ä¸‹é¢å¯ä»¥çœ‹çœ‹åˆ†åˆ«è¿åæ¯ä¸ªè§„åˆ™çš„ä¾‹å­ class Animal &#123; var life: Int var height: Double init(getLife: Int, getHeight: Double) &#123; self.life = getLife self.height = getHeight &#125; &#125; class Dog: Animal &#123; var name: String init()&#123; super.init(getLife: 2, getHeight: 2.0) //è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬ä¸€æ¡ï¼Œå¿…é¡»å…ˆå°†æœ¬ç±»å¼•å…¥çš„å±žæ€§åˆå§‹åŒ–æ‰èƒ½è°ƒç”¨çˆ¶ç±»æž„é€ å™¨ self.name = "Larry" //æ‰€ä»¥è¿™ä¸€å¥å¿…é¡»å†™åœ¨å‰é¢æ‰æ²¡é”™ &#125; init(name: String, getLife: Int, getHeight: Double)&#123; self.name = name self.life = 1 //è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬äºŒæ¡ï¼Œå¿…é¡»è°ƒç”¨äº†çˆ¶ç±»æž„é€ å™¨ä¹‹åŽæ‰èƒ½è®¿é—®ç»§æ‰¿çš„å±žæ€§ã€‚ super.init(getLife: getLife, getHeight: getHeight) //è¿™å¥å¿…é¡»æ”¾åœ¨ç¬¬äºŒå¥ä¹‹å‰æ‰æ²¡é”™ &#125; convenience init(getLife: Int) &#123; self.name = "Larry" //è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬ä¸‰æ¡ï¼Œä¾¿åˆ©æž„é€ å™¨é‡Œé¢å¿…é¡»è°ƒç”¨äº†å…¶ä»–æž„é€ å™¨ä¹‹åŽæ‰èƒ½è®¿é—®å±žæ€§ self.init() //è¿™å¥åº”è¯¥æ”¾åœ¨å‰é¢ &#125; init(getName: String) &#123; self.name = getName Dog.sayHello() self.printName() //è¿™å¥æŠ¥é”™ï¼Œè¿åç¬¬å››æ¡ï¼Œå¿…é¡»å®Œæˆäº†é˜¶æ®µ1æ‰èƒ½è°ƒç”¨å®žä¾‹æ–¹æ³•æˆ–è®¿é—®å±žæ€§ super.init(getLife: 21, getHeight: 2.3) //è¿™å¥åº”è¯¥æ”¾åœ¨å‰é¢ &#125; func printName()&#123; print(self.name) &#125; static func sayHello()&#123; print("hello") &#125; &#125; å±žæ€§è§‚å¯Ÿå™¨ ä»¥å‰è¯´è¿‡ï¼Œå±žæ€§è§‚å¯Ÿå™¨åœ¨æž„é€ å™¨é‡Œé¢ç»™å±žæ€§èµ‹å€¼çš„æ—¶å€™æ˜¯ä¸ä¼šè¢«è°ƒç”¨çš„ã€‚ä½†æ˜¯è¿™ä¸ªåªé’ˆå¯¹äºŽæœ¬ç±»å®šä¹‰çš„å±žæ€§ã€‚å¯¹äºŽç»§æ‰¿è€Œæ¥çš„å±žæ€§ï¼Œå½“å·²ç»ç»è¿‡çˆ¶ç±»çš„æž„é€ å™¨å®Œæˆåˆå§‹åŒ–åŽï¼Œå¦‚æžœåœ¨å­ç±»é‡Œé¢ä¿®æ”¹äº†ç»§æ‰¿å±žæ€§çš„å€¼ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘çˆ¶ç±»è§‚å¯Ÿå™¨ï¼Œå¦‚æžœä½ åœ¨å­ç±»é‡Œé¢ä¹Ÿè¦†ç›–äº†è¿™ä¸ªè§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå­ç±»å’Œçˆ¶ç±»çš„è§‚å¯Ÿå™¨éƒ½ä¼šè¢«è°ƒç”¨ å¦å¤–å†çœ‹ class Animal &#123; var life: Int = 0 &#123; willSet&#123; print("animial life newValue \(newValue)") &#125; &#125; init(getlife: Int)&#123; print("animal life init \(self.life)") self.life = 1 print("animal life after assign \(self.life)") &#125; &#125; å¦‚æžœæˆ‘ä»¬è°ƒç”¨ä¸‹é¢çš„è¯­å¥ var a = Animal(getlife: 3) //æ‰“å° //animal life init 0 //animal life after assign 1 æ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨inité‡Œé¢ç¬¬ä¸€å¥å·²ç»ç”¨åˆ°äº†selfã€‚æ ¹æ®ç¼–è¯‘å™¨è§„åˆ™ç¬¬å››æ¡ï¼Œä¸å…è®¸åœ¨å±žæ€§æ²¡æœ‰åˆå§‹åŒ–çš„å‰è¿›è¡Œè®¿é—®ã€‚ä»Žä¸Šé¢ä»£ç é€šè¿‡ç¼–è¯‘æ¥çœ‹ï¼Œè¿™é‡Œç¼–è¯‘å™¨å·²ç»å°†å±žæ€§åˆå§‹åŒ–ä¸ºå®šä¹‰æ—¶å€™çš„å€¼äº†ã€‚å¦‚æžœä½ å°†å®šä¹‰æ—¶å€™çš„é»˜è®¤å€¼åˆ åŽ»ï¼Œé‚£ä¹ˆç¬¬ä¸€å¥å°±ä¼šæŠ¥é”™Swifté»˜è®¤æ˜¯ä¸ç»§æ‰¿çˆ¶ç±»çš„æž„é€ å™¨çš„ã€‚å¦‚æžœä½ æƒ³è¦å’Œçˆ¶ç±»ä¸€æ ·çš„æž„é€ å™¨ï¼Œé‚£ä¹ˆå¿…é¡»è‡ªå·±å†™ã€‚å¦‚æžœä½ å†™çš„æž„é€ å™¨ï¼ˆä¸ç®¡æ˜¯æŒ‡å®šè¿˜æ˜¯ä¾¿åˆ©ï¼‰å’Œçˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨ä¸€æ ·ï¼Œé‚£ä¹ˆè¿™ä¸ªæž„é€ å™¨å‰å¿…é¡»åŠ ä¸Šoverrideå…³é”®å­—ã€‚å¦‚æžœä½ å†™çš„æž„é€ å™¨å’Œçˆ¶ç±»çš„ä¾¿åˆ©æž„é€ å™¨ä¸€æ ·ï¼Œé‚£ä¹ˆä¸ç”¨åŠ overrideï¼Œå› ä¸ºå­ç±»æ°¸è¿œä¸èƒ½ç›´æŽ¥è°ƒç”¨çˆ¶ç±»çš„ä¾¿åˆ©æž„é€ å™¨ã€‚ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå­ç±»å¯ä»¥è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æž„é€ å™¨ã€‚å‰ææ¡ä»¶ï¼šå­ç±»æ–°å¼•å…¥çš„å±žæ€§éƒ½å¿…é¡»å…·æœ‰é»˜è®¤å€¼ è§„åˆ™1ï¼šå¦‚æžœå­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•çš„æŒ‡å®šæž„é€ å™¨ã€‚é‚£ä¹ˆå­ç±»è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šæž„é€ å™¨ã€‚ è§„åˆ™2ï¼šå¦‚æžœå­ç±»å®žçŽ°äº†çˆ¶ç±»æ‰€æœ‰çš„æŒ‡å®šæž„é€ å™¨ï¼ˆå¯ä»¥é€šè¿‡è§„åˆ™1ç»§æ‰¿è€Œæ¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡å†™è€Œæ¥ï¼‰ï¼Œé‚£ä¹ˆå­ç±»è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰çš„ä¾¿åˆ©æž„é€ å™¨ã€‚ ä¾‹å­ class Animal &#123; var life: Int var height: Double convenience init(getLife: Int)&#123; self.init(getLife: getLife, getHeight: 0.0) &#125; init(getLife: Int, getHeight: Double) &#123; self.life = getLife self.height = getHeight &#125; &#125; class Dog: Animal &#123; var name: String = "Larry" // override init(getLife: Int, getHeight: Double)&#123; // super.init(getLife: getLife, getHeight:getHeight) // &#125; &#125; æ— è®ºä¸Šé¢Dogç±»é‡Œé¢æ³¨é‡Šçš„ä»£ç æ˜¯å¦æ‰“å¼€ï¼ŒDogéƒ½ç»§æ‰¿äº†Animalçš„æ‰€æœ‰æž„é€ å™¨ Failable Initializerså¯å¤±è´¥çš„æž„é€ å™¨ Swiftä¸­æœ‰ä¸ªæ¦‚å¿µï¼Œå°±æ˜¯åˆ›å»ºå®žä¾‹çš„æ—¶å€™å¦‚æžœæ¡ä»¶ä¸ç¬¦åˆï¼Œå¯ä»¥è¿”å›žä¸€ä¸ªnilå¯¹è±¡ã€‚è¿™ç±»å¯ä»¥è¿”å›žnilçš„æž„é€ å™¨å«åšå¯å¤±è´¥çš„æž„é€ å™¨ã€‚è¯­æ³•æ˜¯åœ¨initçš„å‰é¢åŠ ä¸Šä¸€ä¸ªï¼Ÿã€‚å½“æ¡ä»¶ä¸æ»¡è¶³çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç”¨ return nilç»“æŸæž„é€ æ–¹æ³•ã€‚é‚£ä¹ˆè¿™æ—¶å€™å¾—åˆ°çš„å®žä¾‹å…¶å®žæ˜¯ä¸€ä¸ªnilï¼Œè¿™é‡Œä¹Ÿè¯´æ˜Žäº†ï¼Œå¯å¤±è´¥æž„é€ å™¨è¿”å›žçš„æ˜¯å¯é€‰ç±»åž‹ã€‚å…¶å®žä¹‹å‰ä¹Ÿè¯´è¿‡ï¼ŒSwiftçš„æž„é€ å™¨æ˜¯ä¸éœ€è¦è¿”å›žå€¼çš„ã€‚æ‰€ä»¥ä½ æˆåŠŸçš„æ—¶å€™ä¸éœ€è¦å†™returnä»€ä¹ˆä¸œä¸œã€‚ å€¼ç±»åž‹çš„å¯å¤±è´¥æž„é€ å™¨ä¸‹é¢æ˜¯structureçš„ struct Apple &#123; var pricePerKg: Double init?(pricePerKg: Double)&#123; if pricePerKg &lt; 0 &#123; return nil &#125; self.pricePerKg = pricePerKg &#125; &#125; print(Apple(pricePerKg: 2)) print(Apple(pricePerKg: -2)) //æ‰“å° //Optional(SwiftTest.Apple(pricePerKg: 2.0)) //nil æŽ¥ä¸‹æ¥æ˜¯æžšä¸¾ç±»çš„ enum FruitSet &#123; case apple, orange, banana init?(symbol: Character)&#123; switch symbol &#123; case &quot;a&quot;,&quot;A&quot; : self = .apple case &quot;o&quot;,&quot;O&quot; : self = .orange case &quot;b&quot;,&quot;B&quot; : self = .banana default : return nil &#125; &#125; &#125; print(FruitSet(symbol: &quot;a&quot;)) print(FruitSet(symbol: &quot;e&quot;)) //æ‰“å° //Optional(SwiftTest.FruitSet.apple) //nil å¯¹åº”æœ‰é»˜è®¤å€¼çš„æžšä¸¾ç±»ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªinit?(rawValue:)çš„æž„é€ å™¨ã€‚å¦‚ä¸‹ enum FruitSet : Character&#123; case apple = "a", orange = "o", banana = "b" &#125; print(FruitSet(rawValue: "a")) print(FruitSet(rawValue: "e")) ç±»çš„å¯å¤±è´¥æž„é€ å™¨ æœ‰ä¸€ä¸ªè§„åˆ™ï¼Œå°±æ˜¯å¿…é¡»åœ¨æœ¬ç±»æ‰€æœ‰çš„å±žæ€§ï¼ˆåŒ…æ‹¬ç»§æ‰¿çš„ï¼‰éƒ½èµ‹å€¼ä¹‹åŽæ‰å¯ä»¥è¿”å›žnil class Apple &#123; var pricePerKg: Double init?(pricePerKg: Double)&#123; if pricePerKg &lt; 0 &#123; return nil //è¿™å¥æŠ¥é”™ï¼Œæ‰€ä»¥ä½ å¿…é¡»å…ˆåˆå§‹åŒ–å…¶ä»–å±žæ€§å€¼ &#125; self.pricePerKg = pricePerKg &#125; &#125; å¯å¤±è´¥åˆå§‹åŒ–çš„ä¼ é€’è¿‡ç¨‹ ä¸€ä¸ªå¯å¤±è´¥çš„æž„é€ å™¨å¯ä»¥è°ƒç”¨å…¶ä»–çš„æž„é€ å™¨ï¼Œæ— è®ºæ˜¯å¯å¤±è´¥çš„è¿˜æ˜¯ä¸ä¼šå¤±è´¥çš„ã€‚ ä½†æ˜¯ä¸€ä¸ªä¸å¯å¤±è´¥çš„æž„é€ å™¨ä¸èƒ½åŽ»è°ƒç”¨ä¸€ä¸ªå¯å¤±è´¥çš„æž„é€ å™¨ã€‚å¦‚æžœåŽ»è°ƒç”¨çˆ¶ç±»çš„å¯å¤±è´¥æž„é€ å™¨ï¼Œè™½ç„¶ç”¨è§£åŒ…å¯ä»¥è§£å†³ï¼Œä½†æ˜¯ä¸€æ—¦çˆ¶ç±»çš„å¯å¤±è´¥æž„é€ å™¨è¿”å›žäº†nilï¼Œé‚£ä¹ˆç¨‹åºç›´æŽ¥å´©æºƒ class Fruit &#123; var name: String init?(name: String)&#123; self.name = name if name.isEmpty &#123; return nil &#125; &#125; &#125; class Apple: Fruit &#123; var pricePerKg: Double init(pricePerKg: Double)&#123; self.pricePerKg = pricePerKg super.init(name: "")! //åˆ©ç”¨è§£åŒ…è°ƒç”¨äº†çˆ¶ç±»çš„å¯å¤±è´¥æž„é€ å™¨ï¼Œä½†æ˜¯å› ä¸ºè¿™æ ·çˆ¶ç±»ä¼šè¿”å›žä¸€ä¸ªnilï¼Œæ‰€ä»¥ç¨‹åºåœ¨è¿™è¡Œä¼šå´©æºƒ &#125; convenience init?()&#123; self.init(pricePerKg: 3) &#125; &#125; var i = Apple(pricePerKg: 3) åŒæ ·çš„ï¼Œå¯å¤±è´¥çš„æž„é€ å™¨ä¹Ÿå¯ä»¥è¢«é‡å†™ï¼Œä½ å¯ä»¥é‡å†™ä¸ºä¸å¯å¤±è´¥çš„æž„é€ å™¨ã€‚ä½†æ˜¯ä¸å¯å¤±è´¥çš„æž„é€ å™¨ä¸èƒ½è¦†ç›–ä¸ºå¯å¤±è´¥çš„æž„é€ å™¨ã€‚ä½ å¯ä»¥ç”¨!ä»£æ›¿?æ¥å®žçŽ°å¯å¤±è´¥æž„é€ å™¨ï¼Œé‚£ä¹ˆè¿™æ ·å¾—åˆ°çš„å®žä¾‹ä¼šè‡ªåŠ¨è§£åŒ…ã€‚å½“ç„¶ï¼Œå­˜åœ¨nilæŠ¥é”™çš„é—®é¢˜ã€‚è®°å¾—å¤„ç†ã€‚ å¿…é¡»æž„é€ å™¨ï¼ˆRequired Initializersï¼‰ åœ¨æž„é€ å™¨å‰é¢åŠ ä¸Šrequiredå…³é”®å­—å°±è¡Œäº†ã€‚è¿™æ ·çš„æž„é€ å™¨è¦æ±‚å­ç±»å¿…é¡»é‡å†™ã€‚å­ç±»é‡å†™è¿™ä¸ªæž„é€ å™¨çš„æ—¶å€™ï¼Œä¹Ÿå¿…é¡»åŠ ä¸Šrequiredå…³é”®å­—ã€‚è¦æ±‚å­ç±»çš„å­ç±»ä¹Ÿè¦é‡å†™è¿™ä¸ªæž„é€ å™¨ã€‚å†™äº†requiredåŽä¸ç”¨å†™overrideå…³é”®å­—ã€‚å†™äº†ä¼šæœ‰è­¦å‘Šã€‚ ç»™å±žæ€§é»˜è®¤å€¼æ—¶ä½¿ç”¨é—­åŒ…æˆ–å‡½æ•° func getprice()-&gt;Double &#123; return 1 &#125; class Apple &#123; var pricePerKg: Double = getprice() var name = &#123; return "apple" &#125;() //ç•™æ„è¿™å¯¹å°æ‹¬å·ï¼Œæ²¡æœ‰çš„è¯é‚£å°±æ˜¯ç»™å±žæ€§èµ‹å€¼ä¸€ä¸ªé—­åŒ…äº†ã€‚ &#125; var a = Apple() print(a.pricePerKg,a.name) æžæž„å™¨ æžæž„å™¨ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå®žä¾‹å†ä¹Ÿä¸ç”¨åˆ°æ—¶å€™è°ƒç”¨çš„æ–¹æ³•ã€‚æžæž„å™¨é‡Œé¢å®Œæˆä¸€äº›æ¸…ç†å·¥ä½œæˆ–ä¿å­˜æ•°æ®ç­‰ç­‰ã€‚æžæž„å™¨æ˜¯ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨çš„ï¼Œä¸å…è®¸è‡ªè¡Œè°ƒç”¨ã€‚ è¯­æ³• deinit &#123; // perform the deinitialization &#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Inheritance-ç±»ç»§æ‰¿åŸºæœ¬ç”¨æ³•]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FInheritance-%E7%B1%BB%E7%BB%A7%E6%89%BF%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç±»ç»§æ‰¿.&gt;ç»§æ‰¿æ˜¯ç±»ç‹¬æœ‰çš„ï¼Œç»“æž„ä½“å’Œæžšä¸¾ç±»éƒ½ä¸å…·æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚ç»§æ‰¿å°±å¥½åƒå­æ‰¿çˆ¶ä¸šä¸€æ ·ï¼Œä¸€ä¸ªç»§æ‰¿çš„ç±»ï¼ˆç§°ä¸ºå­ç±»subClassï¼‰å¯ä»¥èŽ·å¾—è¢«ç»§æ‰¿çš„ç±»ï¼ˆç§°ä¸ºçˆ¶ç±»superClassï¼‰çš„å±žæ€§ï¼Œæ–¹æ³•å’Œå…¶ä»–ç‰¹æ€§ã€‚ å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·±çš„å±žæ€§ï¼Œè¿˜å¯ä»¥ä¸ºç»§æ‰¿è€Œæ¥çš„å±žæ€§æ·»åŠ è§‚å¯Ÿå™¨ï¼ˆå¯¹ç»§æ‰¿è€Œæ¥çš„å­˜å‚¨å’Œè®¡ç®—å±žæ€§éƒ½å¯ä»¥ï¼‰ åŸºç±» ä¸€ä¸ªä¸ç»§æ‰¿è‡ªä»»ä½•ç±»çš„ç±»ç§°ä¸ºåŸºç±»ã€‚åœ¨Swiftä¸­ï¼Œæ˜¯æ²¡æœ‰å…±åŒçš„ç»ˆæžçˆ¶ç±»çš„ã€‚ocå’Œjavaéƒ½æ˜¯æœ‰ç»ˆçº§çˆ¶ç±»çš„ å®šä¹‰ä¸€ä¸ªAnimalåŸºç±» class Animal &#123; var life : Int = 0 var description: String&#123; return "An animal with a life of \(life)" &#125; func makeSounds() &#123; &#125; &#125; ç»§æ‰¿è¯­æ³• &lt;span style="color:#ff0000;"&gt;class Dog: Animal&lt;/span&gt; &#123; var name : String = "larry" &#125; ä¸Šé¢çš„Dogç±»ç»§æ‰¿è‡ªAnimalç±»ï¼Œå¹¶ä¸”æ·»åŠ äº†è‡ªå·±çš„nameå±žæ€§ã€‚æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹dogç»§æ‰¿çš„å±žæ€§ï¼Œç„¶åŽæ‰“å°ä¸€ä¸‹ var dog = Dog() dog.life = 10 print("dog's life is",dog.life) //dog's life is 10 è¦†ç›–ï¼ˆoverrideï¼‰çˆ¶ç±»å±žæ€§ å¯¹äºŽç»§æ‰¿è€Œæ¥çš„å­˜å‚¨å±žæ€§æˆ–è€…è®¡ç®—å±žæ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å†™è¿™ä¸ªå±žæ€§çš„getterå’Œsetteræ–¹æ³•æ¥å®žçŽ°è¦†ç›–ã€‚ä¸‹é¢æ˜¯å‡ æ¡è§„åˆ™ï¼š 1ã€å½“ä½ é‡å†™äº†setteræ–¹æ³•çš„æ—¶å€™ï¼Œä¸€å®šè¦é‡å†™getteræ–¹æ³•ã€‚ä½†æ˜¯å¯ä»¥åªé‡å†™getteræ–¹æ³•ã€‚ 2ã€è¦†ç›–å±žæ€§çš„æ—¶å€™ï¼Œå±žæ€§åå’Œç±»åž‹éƒ½å¿…é¡»å’Œç»§æ‰¿çš„å±žæ€§ä¸€è‡´æ‰ç®—è¦†ç›–ã€‚å¹¶ä¸”å‰é¢è¦åŠ ä¸Šoverrideå…³é”®å­—ã€‚ 3ã€ä½ å¯ä»¥å°†ç»§æ‰¿çš„åªè¯»å±žæ€§é‡å†™ä¸ºè¯»å†™å±žæ€§ï¼Œä½†æ˜¯ä¸èƒ½å°†ç»§æ‰¿çš„è¯»å†™å±žæ€§é‡å†™ä¸ºåªè¯»å±žæ€§ã€‚ ä¸‹é¢é‡å†™Animalçš„descriptionå±žæ€§ class Dog: Animal &#123; var name : String = "larry" override var description: String &#123; get&#123; return "It's a dog with the name of \(name)" &#125; &#125; &#125; è¦†ç›–å±žæ€§è§‚å¯Ÿå™¨ è§„åˆ™ï¼š 1ã€ä¸èƒ½å¯¹ç»§æ‰¿çš„å¸¸é‡ï¼Œæˆ–è€…åªè¯»å±žæ€§æ·»åŠ å±žæ€§è§‚å¯Ÿå™¨ 2ã€ä¸èƒ½åŒæ—¶å¯¹ä¸€ä¸ªç»§æ‰¿å±žæ€§åŒæ—¶æ·»åŠ å±žæ€§è§‚å¯Ÿå™¨å’Œsetteræ–¹æ³•ã€‚å› ä¸ºsetteræ–¹æ³•å·²ç»å¯ä»¥æä¾›å±žæ€§è§‚å¯Ÿå™¨çš„åŠŸèƒ½ã€‚ 3ã€å³ä½¿è¦†ç›–äº†ä¹‹åŽï¼Œå¦‚æžœçˆ¶ç±»çš„è¯¥å±žæ€§æœ‰è§‚å¯Ÿå™¨ï¼Œé‚£ä¹ˆå½“å€¼ä¿®æ”¹çš„æ—¶å€™ï¼Œçˆ¶ç±»çš„è§‚å¯Ÿå™¨ä¹Ÿä¼šè¢«è°ƒç”¨ class Dog: Animal &#123; var name : String = "larry" override var life: Int &#123; didSet&#123; print("The dog's life is \(life)") &#125; &#125; override var description: String &#123; get&#123; return "It's a dog with the name of \(name)" &#125; &#125; &#125; è¦†ç›–çˆ¶ç±»æ–¹æ³• åŒæ ·çš„ï¼ŒåŠ ä¸ŠoverrideåŽï¼Œé‡å†™çˆ¶ç±»æ–¹æ³•å°±å¯ä»¥ override func makeSounds() &#123; print("wang! wang!") &#125; é˜²æ­¢è¦†ç›–ç”¨finalå…³é”®å­—åŽ»ä¿®é¥°å°±å¯ä»¥äº†ã€‚æ¯”å¦‚final varï¼Œfinal funcï¼Œ final class funcï¼Œ final subscript]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>Inheritance</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Subscripts-ä¸‹æ ‡]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FSubscripts-%E4%B8%8B%E6%A0%87%2F</url>
    <content type="text"><![CDATA[ä¸‹æ ‡ æ‰€è°“çš„ä¸‹æ ‡ï¼Œå°±æ˜¯[]åœ¨Arrayå’ŒDictionaryçš„æ—¶å€™å°±å·²ç»æŽ¥è§¦è¿‡äº†ã€‚å®ƒå…¶å®žç®—ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œåˆ©ç”¨ä¸‹æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å±žæ€§çš„getterå’Œsetterå†™åœ¨ä¸€èµ·ã€‚è€Œä¸”è¿˜å¯ä»¥æä¾›å¦å¤–çš„ä¸€äº›åŠŸèƒ½ã€‚Stringæˆªä¸²çš„æ—¶å€™æ— æ¯”éº»çƒ¦,åˆ©ç”¨ä¸‹æ ‡å’Œæ‰©å±•ï¼ˆExtensionï¼‰å°è£…åŽå˜å¾—å¾ˆç®€å•ã€‚è¿™ä¸ªåœ¨è®²åˆ°æ‰©å±•çš„æ—¶å€™åœ¨å†™å‡ºæ¥å§ã€‚ä¸‹æ ‡è¯­æ³• subscript(index: Int) -&gt; Int &#123; get &#123; // return an appropriate subscript value here &#125; set(newValue) &#123; // perform a suitable setting action here &#125; &#125; å½“ç„¶å¯ä»¥å’Œè®¡ç®—å±žæ€§ä¸€æ ·å°†setteråˆ åŽ»ï¼Œå˜ä¸ºåªè¯»ã€‚ä¸‹é¢ä¸¾ä¸€ä¸ªä½¿ç”¨ä¾‹å­ã€‚å‡è®¾åœ¨ä¹°æ©™å­ã€‚ä¸‹æ ‡è¡¨ç¤ºä½ è¦ä¹°å¤šå°‘æ–¤ï¼Œä¸‹æ ‡èƒ½è¿”å›žæ€»å…±ä»·æ ¼ã€‚ å½“å¯¹ä¸‹æ ‡èµ‹å€¼çš„æ—¶å€™ï¼Œè¡¨ç¤ºä¹°é‚£ä¹ˆå¤šæ–¤çš„æ—¶å€™æ€»å…±èŠ±äº†å¤šå°‘é’±ã€‚ç„¶åŽä¿®æ”¹äº†æ©™å­çš„å•ä»·.ä¸‹æ ‡ä¸æ­¢ä¸€ä¸ªå˜é‡ï¼Œè¿˜å¯ä»¥æœ‰å¤šä¸ªå˜é‡ã€‚å˜é‡ä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„ç±»åž‹ class Orange &#123; var pricePerKg: Double = 3 subscript(kg: Double, str: String) -&gt; Double &#123; get&#123; print(str) return kg * pricePerKg &#125; set&#123; print(str) self.pricePerKg = newValue / kg &#125; &#125; &#125; var o = Orange() print("price of 10kg orange ",o[10,"buy 10 kg orange"]) o[100,"buy 100kg orange"] = 250 print("price per kg when buying 100kg orange ",o.pricePerKg) //æ‰“å° //buy 10 kg orange //price of 10kg orange 30.0 //buy 100kg orange //price per kg when buying 100kg orange 2.5]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Method-æ–¹æ³•]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FMethod-%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Method æ–¹æ³• å…¶å®žå°±æ˜¯å‡½æ•°ï¼Œåªä¸è¿‡æ–¹æ³•æ˜¯å±žäºŽæŸä¸ªç±»ã€ç»“æž„ä½“ã€æžšä¸¾ç±»çš„å‡½æ•°æ–¹æ³•çš„å®šä¹‰å’Œå‡½æ•°ä¸€æ ·ã€‚è°ƒç”¨é€šè¿‡ç‚¹è¯­æ³•å®žçŽ°ã€‚æ³¨æ„ï¼Œæ–¹æ³•å’Œå±žæ€§ä¸èƒ½åŒåã€‚ä½†æ˜¯ç±»åž‹æ–¹æ³•å¯ä»¥å’Œå®žä¾‹æ–¹æ³•é‡å Instance Methodså®žä¾‹æ–¹æ³• class Video &#123; func play(videoName: String) &#123; print("Now play",videoName) &#125; &#125; var v = Video() v.play("\"monkey king\"") //æ‰“å° Now play "monkey king" åœ¨å®žä¾‹æ–¹æ³•é‡Œé¢å…·æœ‰ self å±žæ€§ï¼Œè¯¥å±žæ€§å°±æ˜¯æŒ‡è¿™ä¸ªå®žä¾‹æœ¬èº«ã€‚å­¦ä¹ è¿‡javaæˆ–OCçš„åº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚å°±æ˜¯ç”¨æ¥å½“å‚æ•°åå’Œå±žæ€§åä¸€æ ·çš„æ—¶å€™ï¼Œç”¨æ¥åŒºåˆ†ç©¶ç«Ÿæ˜¯å“ªä¸ªå˜é‡ã€‚ class Video &#123; var videoName: String? func play(videoName: String) &#123; self.videoName = videoName print("Now play",videoName) &#125; &#125; var v = Video() v.play("\"monkey king\"") print(v.videoName!) //æ‰“å° //Now play "monkey king" //"monkey king" å¦‚æžœæ˜¯å¯¹äºŽç»“æž„ä½“ï¼Œå› ä¸ºå®ƒæ˜¯å€¼ä¼ é€’ï¼Œæ‰€ä»¥ä¸€èˆ¬æ–¹æ³•é‡Œé¢å¦‚æžœå’Œä¸Šé¢ä¸€æ ·å°è¯•ä¿®æ”¹å­˜å‚¨å±žæ€§çš„å€¼çš„è¯ï¼Œæ˜¯ä¸å…è®¸çš„ã€‚ç›´æŽ¥æŠ¥é”™ã€‚å¦‚æžœéœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨æ–¹æ³•å‰é¢åŠ ä¸Šmutatingå…³é”®å­—changeVideoæ–¹æ³•å°†æ•´ä¸ªselféƒ½èµ‹å€¼äº†ä¸€ä¸ªæ–°å®žä¾‹ã€‚å› ä¸ºæžšä¸¾ç±»æ˜¯ä¸å­˜åœ¨å­˜å‚¨å±žæ€§çš„ï¼Œæ‰€ä»¥æ²¡æœ‰ä¸Šé¢ä¿®æ”¹å±žæ€§çš„æƒ…å†µã€‚ä½†æ˜¯selfå…³é”®å­—è¿˜æ˜¯æœ‰çš„ struct Video &#123; var videoName: String? mutating func play(videoName: String) &#123; self.videoName = videoName print("Now play",videoName) &#125; mutating func changeVideo(newVideo: String)&#123; self = Video(videoName: newVideo) &#125; &#125; var v = Video() v.play("\"monkey king\"") v.changeVideo("misson impossible") print(v.videoName!) //æ‰“å° //Now play "monkey king" //misson impossible Type Methodsç±»åž‹æ–¹æ³• è¿™ä¸ªå’Œç±»åž‹å±žæ€§ä¸€æ ·ï¼ŒåŠ ä¸Šstaticæˆ–classå°±è¡Œäº†ã€‚classå…è®¸å­ç±»è¦†ç›–çˆ¶ç±»æ–¹æ³• struct Video &#123; var videoName: String? static var playTime: Int = 0 mutating func play(videoName: String) &#123; self.videoName = videoName //è¿™é‡Œæ˜¯selfæŒ‡çš„æ˜¯Videoçš„å®žä¾‹ print("Now play",videoName) Video.playTime++ &#125; mutating func changeVideo(newVideo: String)&#123; self = Video(videoName: newVideo) &#125; static func showPlayTime()&#123; print(self.playTime) //æ³¨æ„è¿™é‡Œçš„selfæ˜¯æŒ‡Videoè¿™ä¸ªç»“æž„ä½“ï¼Œè€Œä¸æ˜¯å®žä¾‹ &#125; &#125; var v = Video() Video.showPlayTime() v.play("\"monkey king\"") Video.showPlayTime() //æ‰“å° //0 //Now play "monkey king" //1 æ³¨æ„ï¼Œè°ƒç”¨ç±»åž‹æ–¹æ³•åªèƒ½é€šè¿‡ç±»åçš„ç‚¹è¯­æ³•æ¥å®žçŽ°ï¼Œä¸èƒ½é€šè¿‡å®žä¾‹çš„ç‚¹è¯­æ³•ã€‚è¿™ç‚¹å’Œç±»åž‹å±žæ€§æ˜¯ä¸€æ ·çš„ã€‚ å…³äºŽè¿™ä¸ªç±»åž‹æ–¹æ³•ï¼Œéœ€è¦æ³¨æ„é‡Œé¢çš„selfå’Œå®žä¾‹æ–¹æ³•é‡Œé¢çš„selfæŒ‡å‘çš„ä¸æ˜¯ç”¨ä¸€ä¸ªä¸œè¥¿ï¼Œå‰è€…æ˜¯æŒ‡ç±»åž‹æœ¬èº«ï¼ŒåŽè€…æ˜¯æŒ‡ç±»åž‹çš„å®žä¾‹ã€‚ æ‰€ä»¥åœ¨ç±»åž‹æ–¹æ³•å’Œå®žä¾‹æ–¹æ³•é‡Œé¢è®¿é—®ç±»åž‹å˜é‡å’Œå®žä¾‹å˜é‡ä¹Ÿæœ‰ä¸åŒã€‚åœ¨å®žä¾‹æ–¹æ³•é‡Œé¢è®¿é—®ç±»åž‹å˜é‡ï¼Œéœ€è¦åŠ ä¸Šç±»åž‹å‰ç¼€ã€‚ åœ¨ç±»åž‹æ–¹æ³•é‡Œé¢è®¿é—®ç±»åž‹å˜é‡ï¼Œå¯ä»¥åŠ ä¸Šç±»åž‹å‰ç¼€ï¼Œç”¨selfï¼Œæˆ–è€…ä¸åŠ å‰ç¼€ã€‚åœ¨ç±»åž‹æ–¹æ³•é‡Œé¢æ˜¯ä¸èƒ½è®¿é—®å®žä¾‹å˜é‡çš„]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Properties-å±žæ€§]]></title>
    <url>%2F2017%2F12%2F01%2FSwift%2FGrammar%2FProperties-%E5%B1%9E%E6%80%A7%2F</url>
    <content type="text"><![CDATA[Properties Swiftä¸­ï¼Œå±žæ€§å¤§è‡´åˆ†ä¸ºä¸¤ç§ï¼Œå­˜å‚¨å±žæ€§+è®¡ç®—å±žæ€§ Stored Propertieså­˜å‚¨å±žæ€§ å­˜å‚¨å±žæ€§:èƒ½ä¿å­˜æ•°æ®çš„å±žæ€§ã€‚æžšä¸¾ç±»ã€ç»“æž„ä½“ã€ç±»éƒ½å…·æœ‰å­˜å‚¨å±žæ€§å­˜å‚¨å±žæ€§å¯ä»¥è®¾ä¸ºvar æˆ–letã€‚åˆ†åˆ«å¯¹åº”å¸¸é‡å’Œå˜é‡ struct CPU &#123; var clockSpeed = 1.0 //å˜é‡ let coreNum = 2 //å¸¸é‡ &#125; è®¡ç®—å±žæ€§å°±æ˜¯å®ƒæœ¬èº«ä¸ä¿å­˜æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡å¤„ç†å…¶ä»–çš„æ•°æ®å¾—åˆ°è¿”å›žå€¼ã€‚ ç»“æž„ä½“å’Œç±»æ‰å…·æœ‰è®¡ç®—å±žæ€§ç„¶åŽæˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªCPUå®žä¾‹ï¼Œä½†æ˜¯è¿™ä¸ªå®žä¾‹æˆ‘ä»¬è®¾ç½®ä¸ºå¸¸é‡ã€‚è¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªåŽæžœï¼šå¯¹åº”å€¼ä¼ é€’çš„ç»“æž„ä½“ï¼Œå½“å®žä¾‹æ˜¯å¸¸é‡çš„æ—¶å€™ï¼Œå³ä½¿å­˜å‚¨å±žæ€§æ˜¯å˜é‡ï¼Œä¹Ÿä¸èƒ½ä¿®æ”¹é‡Œé¢å±žæ€§çš„å€¼ let cpu = CPU(clockSpeed: 3.2) //æ³¨æ„åˆ°è¿™ä¸ªåˆå§‹åŒ–æ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå› ä¸ºæˆ‘ä»¬è®¾ç½®äº†coreNumä¸ºå¸¸é‡ï¼Œå¹¶ä¸”ç»™äº†åˆå§‹å€¼ï¼Œæ‰€ä»¥æž„é€ æ–¹æ³•ä¼šå‘ç”Ÿå˜åŒ– cpu.clockSpeed = 3.3 //è¿™å¥ä¼šæŠ¥é”™ ç„¶è€Œå¯¹äºŽå¼•ç”¨ä¼ é€’çš„ç±»æ¥è®²ï¼Œå³ä½¿å®žä¾‹æ˜¯å¸¸é‡ï¼Œé‡Œé¢è®¾ç½®ä¸ºå˜é‡çš„å­˜å‚¨å±žæ€§è¿˜æ˜¯å¯ä»¥æ›´æ”¹å€¼çš„ class Telephone &#123; var cpu = CPU() var screenSize: Int? var price: Int? &#125; let myTelephont = Telephone() myTelephont.screenSize = 4 æ‡’åŠ è½½å­˜å‚¨å±žæ€§Swiftéœ€è¦ä¿è¯ä¸€ä¸ªç±»æˆ–ç»“æž„ä½“æˆ–æžšä¸¾ç±»åœ¨åˆå§‹åŒ–ä¹‹åŽï¼Œæ‰€ä»¥çš„å­˜å‚¨å±žæ€§éƒ½å¿…é¡»æœ‰åˆå§‹å€¼ï¼ˆé™¤å¼€å¯é€‰ç±»åž‹ï¼‰ã€‚æ‰€ä»¥å½“å®žä¾‹åˆå§‹åŒ–å®Œæˆä»¥åŽï¼Œæ‰€ä»¥çš„å­˜å‚¨å±žæ€§éƒ½åˆå§‹åŒ–äº†ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™æŸäº›å­˜å‚¨å±žæ€§ä¸ä¸€å®šä¼šç”¨åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›å­˜å‚¨å±žæ€§è®¾ç½®ä¸ºlazyå­˜å‚¨å±žæ€§ã€‚é‚£ä¹ˆå®ƒåœ¨è¦ç”¨åˆ°çš„æ—¶å€™æ‰ä¼šè¿›è¡Œåˆå§‹åŒ–ã€‚lazyå­˜å‚¨å±žæ€§åªèƒ½æ˜¯å˜é‡ã€‚è€Œä¸”åœ¨å¤šçº¿ç¨‹è°ƒç”¨çš„æ—¶å€™ï¼Œå¦‚æžœlazyå±žæ€§æ²¡æœ‰åˆå§‹åŒ–ï¼Œé‚£ä¹ˆä¸èƒ½ä¿è¯åªä¼šåˆå§‹åŒ–ä¸€æ¬¡ struct CPU &#123; lazy var clockSpeed = 1.0 let coreNum = 2 &#125; let cpu = CPU() //è¿™æ—¶å€™clockSpeedè¿˜æ˜¯ä¸ºnil Computed Properties è®¡ç®—å±žæ€§ æ•…åæ€è®®ï¼Œå®ƒæœ¬èº«ä¸ä¿å­˜æ•°æ®ï¼Œåªæ˜¯ç”¨å…¶ä»–æ•°æ®å¾—åˆ°è¿”å›žå€¼ï¼Œæˆ–è€…å½“è®¾ç½®å®ƒçš„æ—¶å€™ä¿®æ”¹å…¶ä»–æ•°æ®ã€‚ä¸‹é¢çš„ä¾‹å­åˆ©ç”¨å­˜å‚¨å±žæ€§å¾—åˆ°appleçš„æ€»ä»·ã€‚æˆ–è€…ä¿®æ”¹æ€»ä»·çš„æ—¶å€™ä¿®æ”¹é‡é‡ struct Apple &#123; let pricePerKg = 6.0 var weight: Double var totalPrice: Double &#123; get &#123; return pricePerKg * weight &#125; set(newTotalPrice) &#123; weight = newTotalPrice / pricePerKg &#125; &#125; &#125; var apple = Apple(weight: 2.0) print(apple.totalPrice) //12.0 apple.totalPrice = 6.0 print(apple.weight) //1.0 ç®—å±žæ€§çš„setteræ–¹æ³•æ–°å€¼è‡ªå¸¦ä¸€ä¸ªé»˜è®¤å newValueï¼Œæ‰€ä»¥ä¸Šé¢çš„å®šä¹‰å¯ä»¥æ”¹ä¸º struct Apple &#123; let pricePerKg = 6.0 var weight: Double var totalPrice: Double &#123; get &#123; return pricePerKg * weight &#125; set &#123; weight = newValue / pricePerKg &#125; &#125; &#125; å¯ä»¥å°†è®¡ç®—å±žæ€§çš„setteråŽ»æŽ‰ï¼Œé‚£ä¹ˆè¿™ä¸ªè®¡ç®—æ•°æ®å°±å˜æˆäº†åªè¯»çš„ã€‚è¿™æ—¶å€™è¿˜å¯ä»¥çœåŽ»getå…³é”®å­— struct Apple &#123; let pricePerKg = 6.0 var weight: Double var totalPrice: Double &#123; return pricePerKg * weight &#125; &#125; ä¸è¦åœ¨è®¡ç®—å±žæ€§çš„setterå’Œgetteré‡Œé¢èŽ·å–è¯¥è®¡ç®—å±žæ€§ï¼Œè¿™æ ·ä¼šå¯¼è‡´å¾ªçŽ¯è°ƒç”¨ Property Observerså±žæ€§è§‚å¯Ÿå™¨ æœ‰äº†å±žæ€§è§‚å¯Ÿå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å±žæ€§è¢«ä¿®æ”¹çš„æ—¶å€™åšä¸€äº›äº‹æƒ…ã€‚æ³¨æ„çš„æ˜¯å¯¹äºŽéžç»§æ‰¿è€Œæ¥çš„è®¡ç®—å±žæ€§ï¼Œæ²¡æœ‰å¿…è¦è®¾ç½®å±žæ€§è§‚å¯Ÿå™¨ï¼Œå› ä¸ºç›´æŽ¥å¯ä»¥åœ¨è®¡ç®—å±žæ€§çš„setterå®šä¹‰ä¸­å®Œæˆè¿™é¡¹åŠŸèƒ½ã€‚ å±žæ€§è§‚å¯Ÿå™¨æœ‰ä¸¤ä¸ªæ–¹æ³•willSet åœ¨å±žæ€§å°†è¦èµ‹å€¼çš„æ—¶å€™è°ƒç”¨ï¼Œè¿™æ—¶å€™å±žæ€§çš„å€¼è¿˜æ²¡æ”¹å˜didSetåœ¨å±žæ€§å€¼è¢«èµ‹å€¼å®Œçš„æ—¶å€™å°±ä¼šè°ƒç”¨ã€‚ï¼ˆå³ä½¿æ˜¯èµ‹å€¼å’ŒåŽŸæ¥å€¼ä¸€æ ·çš„å€¼ï¼‰è¿™æ—¶å€™å±žæ€§çš„å€¼å·²ç»æ”¹å˜ã€‚willSetæ–¹æ³•é‡Œé¢ä¼šä¼ é€’æ–°å€¼è¿‡æ¥ï¼Œä½ å¯ä»¥è‡ªå·±å®šä¹‰è¿™ä¸ªæ–°å€¼çš„åç§°ï¼Œå¦‚æžœä¸å®šä¹‰ï¼Œä¼šå…·æœ‰é»˜è®¤å€¼newValuedidSetæ–¹æ³•é‡Œé¢ä¼šä¼ é€’å±žæ€§çš„æ—§å€¼è¿‡æ¥ï¼Œä½ å¯ä»¥è‡ªå·±å®šä¹‰è¿™ä¸ªæ—§å€¼çš„åç§°ï¼Œå¦‚æžœä¸å®šä¹‰ï¼Œä¼šå…·æœ‰é»˜è®¤å€¼oldValueã€‚å¦‚æžœä½ åœ¨didSetæ–¹æ³•é‡Œé¢åˆå¯¹è¿™ä¸ªå­˜å‚¨å±žæ€§èµ‹å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¼šè¦†ç›–æŽ‰åˆšåˆšèµ‹å€¼çš„å€¼ã€‚ä¸”ä¸ä¼šå¯¼è‡´å¾ªçŽ¯è°ƒç”¨ã€‚æ¯”å¦‚ä¸‹é¢ä¾‹å­é‡Œé¢ï¼Œå½“pricePerKgå°äºŽ3çš„æ—¶å€™ï¼Œä¼šæŠŠå®ƒæ”¹ä¸º3 struct Apple &#123; var pricePerKg = 6.0 &#123; willSet(priceNewValue)&#123; print("In willSet, priceNewValue=",priceNewValue) print("In willSet, pricePerKg=",pricePerKg) &#125; didSet&#123; print("In didSet, oldValue=",oldValue) print("In didSet, pricePerKg=",pricePerKg) if pricePerKg &lt; 3 &#123; pricePerKg = 3 &#125; &#125; &#125; var weight: Double var totalPrice: Double &#123; get &#123; return pricePerKg * weight &#125; set &#123; weight = newValue / pricePerKg &#125; &#125; &#125; var apple = Apple(pricePerKg: 6.0, weight: 1.0) apple.pricePerKg = 2.0 print("apple.pricePerKg=",apple.pricePerKg) /* è¾“å‡º In willSet, priceNewValue= 2.0 In willSet, pricePerKg= 6.0 In didSet, oldValue= 6.0 In didSet, pricePerKg= 2.0 apple.pricePerKg= 3.0 */ Global and Local Variableså…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ æ‰€è°“çš„å±€éƒ¨å˜é‡ï¼Œå°±æ˜¯å®šä¹‰åœ¨å‡½æ•°ã€æ–¹æ³•ã€é—­åŒ…ã€ç±»åž‹ä¸Šä¸‹æ–‡é‡Œé¢çš„å˜é‡ã€‚å…¨å±€å˜é‡å°±æ˜¯å®šä¹‰åœ¨å‡½æ•°ã€æ–¹æ³•ã€é—­åŒ…ã€ç±»åž‹ä¸Šä¸‹æ–‡ä¹‹å¤–çš„å˜é‡ã€‚å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡éƒ½ç§°ä¸ºå­˜å‚¨å˜é‡ã€‚åœ¨å…¨å±€å’Œå±€éƒ¨èŒƒå›´å†…ï¼Œéƒ½å¯ä»¥å®šä¹‰è®¡ç®—å˜é‡ï¼Œæˆ–è€…ä¸ºå­˜å‚¨å˜é‡å®šä¹‰è§‚å¯Ÿå™¨ var apple = Apple(pricePerKg: 6.0, weight: 1.0) &#123; //ä¸ºappleå˜é‡å®šä¹‰è§‚å¯Ÿå™¨ willSet &#123; print("newApple",newValue) &#125; didSet&#123; print("oldApple",oldValue) &#125; &#125; apple = Apple(pricePerKg: 6.0, weight: 2.0) var c: Double &#123; //å®šä¹‰ä¸€ä¸ªè®¡ç®—å˜é‡ get&#123; return 9 &#125; set &#123; print("In setter,",newValue) &#125; &#125; c = 2 print(c) /* newApple Apple(pricePerKg: 6.0, weight: 2.0) oldApple Apple(pricePerKg: 6.0, weight: 1.0) In setter, 2.0 9.0 */ å®˜æ–¹æ–‡æ¡£è¯´å…¨å±€å˜é‡å¸¸é‡éƒ½æ˜¯æ‡’åŠ è½½ï¼Œå±€éƒ¨å˜é‡å¸¸é‡éƒ½ä¸æ˜¯æ‡’åŠ è½½ Type Propertiesç±»åž‹å±žæ€§ æ‰€è°“çš„ç±»åž‹å±žæ€§ï¼Œå°±æ˜¯è¿™ä¸ªå±žæ€§æ˜¯å±žäºŽè¿™ä¸ªç±»åž‹çš„ï¼Œå³ä½¿è¿™ä¸ªç±»åž‹ç”±å¤šä¸ªå®žä¾‹ï¼Œä¹Ÿåªä¼šæœ‰ä¸€ä¸ªç±»åž‹å˜é‡ã€‚ ç±»åž‹å±žæ€§æ˜¯æ‡’åŠ è½½çš„ï¼Œè€Œä¸”å¿…é¡»åœ¨å®šä¹‰çš„æ—¶å€™ç»™åˆå§‹å€¼ã€‚ ä¸€èˆ¬æ˜¯ç”¨staticæ¥å®šä¹‰ç±»åž‹å±žæ€§ã€‚ç‰¹åˆ«çš„ï¼Œå¯¹åº”ç±»çš„è®¡ç®—ç±»åž‹å±žæ€§ï¼Œè¿˜å¯ä»¥ç”¨classå…³é”®å­—å®šä¹‰ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—å­ç±»å¯ä»¥è¦†ç›–å®ƒã€‚ æ³¨æ„ç±»åž‹å±žæ€§è®¿é—®çš„æ—¶å€™ç”¨çš„æ˜¯ç±»åï¼Œä¸èƒ½ä½¿ç”¨å®žä¾‹æ¥è®¿é—® struct SomeStructure &#123; static var storedTypeProperty = "Some value." static var computedTypeProperty: Int &#123; return 1 &#125; &#125; enum SomeEnumeration &#123; static var storedTypeProperty = "Some value." static var computedTypeProperty: Int &#123; return 6 &#125; &#125; class SomeClass &#123; static var storedTypeProperty = "Some value." static var computedTypeProperty: Int &#123; return 27 &#125; class var overrideableComputedTypeProperty: Int &#123; return 107 &#125; &#125; print(SomeStructure.storedTypeProperty) // prints "Some value." SomeStructure.storedTypeProperty = "Another value." print(SomeStructure.storedTypeProperty) // prints "Another value." print(SomeEnumeration.computedTypeProperty) // prints "6" print(SomeClass.computedTypeProperty) // prints "27"]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-å›¾ç‰‡çš„è§£åŽ‹ç¼©]]></title>
    <url>%2F2017%2F11%2F30%2FOC%2FFunc%2FiOS-Func-%E5%9B%BE%E7%89%87%E7%9A%84%E8%A7%A3%E5%8E%8B%E7%BC%A9%2F</url>
    <content type="text"><![CDATA[http://blog.leichunfeng.com/atom.xml]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-GCD-å¤šçº¿ç¨‹ç¼–ç¨‹GCD]]></title>
    <url>%2F2017%2F11%2F30%2FOC%2FGrammar%2FiOS-GCD-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8BGCD%2F</url>
    <content type="text"><![CDATA[http://blog.mogoal.com/2016/09/12/grand-central-dispatch/]]></content>
      <categories>
        <category>iOS</category>
        <category>GCD</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OC-Codeä¸Šæž¶é…ç½®æ–‡æ¡£]]></title>
    <url>%2F2017%2F11%2F29%2FOC%2FCode%2FOC_Code_%E4%B8%8A%E6%9E%B6%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3%2F</url>
    <content type="text"><![CDATA[#ç¬¬ä¸‰æ–¹æœåŠ¡å¹³å°å¯¹æŽ¥ è¾ˆå‡ºè®¾è®¡ç™»å½•ï¼Œåˆ†äº« ##é˜¿é‡Œäº‘(ç›´æ’­ç±»ä¸€èˆ¬éœ€è¦ï¼Œä¸éœ€è¦è·³è¿‡) -ï¼ˆhttps://www.aliyun.comè´­ä¹°ä¸€å¹´åªè¦10ä¸ªæœˆçš„è´¹ç”¨ï¼Œosså’Œ slb æ˜¯æŒ‰æµé‡æ”¶è´¹ï¼Œè¯·ä¿è¯è´¦æˆ·æœ‰ä½™é¢ï¼‰500å¹¶å‘ ä¸€æœˆ è´¦å·ï¼šxxxxxå¯†ç ï¼šxxxxx ##è…¾è®¯äº‘(ç›´æ’­ç±»ä¸€èˆ¬éœ€è¦ï¼Œä¸éœ€è¦è·³è¿‡) è…¾è®¯äº‘è¯·ä½¿ç”¨qqæˆ–qqé‚®ç®±æ³¨å†Œï¼ˆhttps://www.qcloud.comè´¦æˆ·éœ€å……å€¼ï¼‰å·®è®¤è¯è´¦å·ï¼šxxxxxxå¯†ç ï¼šxxxxxxSdkAppId ï¼š1314xxxxaccountType ï¼š1314xxxx çŸ­ä¿¡å¹³å° iOS åªè¦æ³¨æ„çŸ­ä¿¡å¯ç”¨å³å¯ QQç™»å½•çš„åŠŸèƒ½ï¼ˆopen.qq.comï¼‰ ç™»å½•çš„APP IDï¼šxxxxAPP KEYï¼šxxxxx appä¸Šçš„è…¾è®¯åœ°å›¾ appä¸Šçš„è…¾è®¯åœ°å›¾keyä¿¡æ¯ï¼ˆHYPERLINK â€œhttp://lbs.qq.com/index.html&quot;http://lbs.qq.com/index.htmlï¼‰æ‚¨çš„è…¾è®¯åœ°å›¾çš„ keyï¼šxxxxxè´¦å·ï¼šxxxxå¯†ç ï¼šxxx Appæ–°æµªå¾®åšç™» Appæ–°æµªå¾®åšç™»å½•ä¿¡æ¯ï¼ˆ HYPERLINK â€œhttp://open.weibo.com/development/mobileâ€œ http://open.weibo.com/development/mobileï¼‰App Keyï¼š xxxxä¸è¦å¾®åšAPP secretï¼šxxxxè´¦å·ï¼š xxxxå¯†ç ï¼š xxxx å¾®ä¿¡å¼€æ”¾å¹³å° HYPERLINK â€œhttps://open.weixin.qq.com/â€œ https://open.weixin.qq.com/æ‚¨çš„å¾®ä¿¡çš„APP IDï¼šxxxxxAPP secretï¼š8xxxxxè´¦å·ï¼šxxxå¯†ç ï¼šxxxx å¼€é€šå¾®ä¿¡æ”¯ä»˜(Beichooæš‚æ—¶ä¸éœ€è¦) å¼€é€šå¾®ä¿¡æ”¯ä»˜ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰ï¼šç”¨äºŽè§‚ä¼—æ”¯ä»˜ï¼ˆå…·ä½“æ“ä½œæ­¥éª¤è¯·å‚è€ƒå”®åŽæ–‡æ¡£-åŽå°éœ€è¦é…ç½®çš„åœ°æ–¹-å¾®ä¿¡æ”¯ä»˜æ–‡æ¡£ï¼‰å¹¶ç•™æ„å’Œä¿ç•™ç›¸å…³é‚®ç®±ï¼Œç­‰äº¤ä»˜åŽå°åŽå¡«å†™åˆ°åŽå°çš„èµ„é‡‘ç®¡ç†-æ”¯ä»˜æŽ¥å£åˆ—è¡¨-å¾®ä¿¡æ”¯ä»˜ã€‚ æ³¨ï¼šæœ€åŽç¡®è®¤åˆ†äº«åˆ°æœ‹å‹åœˆã€å‘é€ç»™æœ‹å‹ã€å¾®ä¿¡ç™»å½•å’Œå¾®ä¿¡æ”¯ä»˜ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰çš„æŽ¥å£éƒ½å·²ç»èŽ·å¾—ã€‚ ä¼ä¸šå¾®ä¿¡å…¬ä¼—å·çš„æœåŠ¡å·ä¿¡æ¯ æ‚¨çš„å¾®ä¿¡å…¬ä¼—å·åç§°ï¼šxxxxxxå¼€é€šå¾®ä¿¡æ”¯ä»˜ï¼šç”¨äºŽä¸»æ’­æçŽ°ï¼ˆå…·ä½“æ“ä½œæ­¥éª¤è¯·å‚è€ƒå”®åŽæ–‡æ¡£-åŽå°éœ€è¦é…ç½®çš„åœ°æ–¹-å¾®ä¿¡æçŽ°æ–‡æ¡£ï¼‰å¹¶ç•™æ„å’Œä¿ç•™ç›¸å…³é‚®ç®±ï¼Œç­‰äº¤ä»˜åŽå°åŽå¡«å†™åˆ°åŽå°çš„èµ„é‡‘ç®¡ç†-æ”¯ä»˜æŽ¥å£åˆ—è¡¨-å¾®ä¿¡æçŽ°ã€‚å¼€é€šä¼ä¸šä»˜æ¬¾åˆ°ç”¨æˆ· ##ä¼ä¸šæ”¯ä»˜å®ç”³è¯·/ç­¾çº¦åŠappæ”¯ä»˜ç”³è¯·ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰ ä¼ä¸šæ”¯ä»˜å®ç”³è¯·ã€ç­¾çº¦åŠappæ”¯ä»˜ç”³è¯·ï¼ˆç›´æ’­éœ€è¦æ–‡ç½‘æ–‡ï¼‰æ‚¨çš„æ”¯ä»˜å®è´¦å·ï¼š XXXXXX ##å‹ç›Ÿè´¦æˆ·ä¿¡æ¯ HYPERLINK â€œhttp://www.umeng.comâ€œ http://www.umeng.comè´¦å·ï¼šxxxxxxå¯†ç : xxxxx #è‹¹æžœå¼€å‘è€…è´¦å· è‹¹æžœå¼€å‘è€…è´¦å·ï¼š738816656@qq.comï¼ˆå…·ä½“æ‰¾ç›¸å…³äººè¦ï¼‰å¯†ç ï¼šxxxxxxxxå¦‚æœ‰æœ‰å†…è´­é“¶è¡Œå¡å¡å·ï¼š6236 6818 2000 3886 174å¼€æˆ·è¡Œï¼š ä¸­å›½å»ºè®¾é“¶è¡ŒæŒå¡äººå§“åï¼šå²³å…‹å¥Ž12ä½è¯†åˆ«ç ï¼ˆæ‰“ç”µè¯é—®é“¶è¡Œï¼‰ï¼š105391004150 appåç§°å’ŒBID appåå›½å†…å‘å¸ƒAPPï¼Œåå­—æ˜¯ä¸­æ–‡ åœ¨é¡¹ç›®infoæ–‡ä»¶é‡Œè¾¹ï¼ŒæŠŠBundle display name å¡«å†™ä¸€ä¸ªä¸­æ–‡åå­—ï¼ŒLocalization native development regior é€‰æ‹©ä¸­å›½ã€‚å¦‚æžœåˆšæ‰æåˆ°çš„ä¸¤ä¸ªéƒ½æ²¡æœ‰ï¼Œè‡ªå·±æ‰‹åŠ¨æ·»åŠ å³å¯ Bundle identifier å‘½åè§„èŒƒ å‘½åè§„èŒƒï¼Œä¸”å…·æœ‰å”¯ä¸€æ€§ï¼Œå› ä¸ºåœ¨å‘å¸ƒæ—¶å€™ï¼Œæè¿°è¯ä¹¦è¦åŒ¹é…å½“å‰idã€‚ä¸€èˆ¬é‡‡ç”¨com/cn +å…¬å¸å+é¡¹ç›®åï¼Œä¾‹å¦‚com.jindong.jdæ³¨ï¼šåœ¨ç”³è¯·QQã€å¾®ä¿¡ã€åœ°å›¾ã€å¾®åšç­‰ç¬¬ä¸‰æ–¹æ‰€éœ€å¡«å†™çš„åŒ…åå‡è¦ä¸Žæ­¤åŒ…åç»Ÿä¸€ï¼Œå¦‚æžœä¸ç»Ÿä¸€å°±ä¼šå¯¼è‡´å„åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ Version æ ¼å¼ï¼š 1.1.1 æœ€å¥½å†™3ä½ Build: æ ¼å¼ï¼š 1 ï¼ˆå†™æ•´æ•° 1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5å³å¯ï¼‰ Clean é€šçŸ¥å…¨å‘˜æäº¤ä»£ç  é¢„å…ˆè·‘ä¸€è¾¹ï¼Œè‡ªæµ‹ï¼Œç„¶åŽï¼Œcleanå·¥ç¨‹ï¼Œåƒµå°¸æ¨¡å¼ï¼Œæ–­ç‚¹ç»Ÿç»Ÿæ¸…æ¥š Edit Scheme å¿…é¡»æ”¹ä¸º Release å¼€å‘çŽ¯å¢ƒ FFConfig.hæœåŠ¡å™¨æŽ¥å£ #define APP_ENVIRONMENT_EDITION 0 0 ä¸Šçº¿ ï¼ˆä¸å‡†Macè·‘åŽ»æµ‹ï¼Œå¿…é¡»æ‰“åŒ…TestFlightæ–¹å¼ï¼‰ 1 å¼€å‘ 2 æµ‹è¯• 3 stage æœåŠ¡å™¨ç‰ˆæœ¬ç›®å‰0.1ç‰ˆæœ¬ #define API_VERSION @&quot;/bc/0.1/&quot; Push Notification åŠ¡å¿…æ‰“å¼€ å¹³æ—¶è¿™ä¸ªä¸è¦å…³äº†ï¼ï¼ï¼ Applinks å¼€å¯H5è·³è½¬App App ä¿¡æ¯ iTunesConnect:https://itunesconnect.apple.com/login iTunesConnectç‚¹å‡»â€”&gt;ç™»å½• æ ¹æ®è¿è¥ä¼šç»™ å¤šå¥— å…³é”®å­—ï¼Œå‰¯æ ‡é¢˜ï¼Œå¤šç§è¯­è¨€çŽ¯å¢ƒä¸ºäº†åœ¨æž„å»ºç‰ˆæœ¬é‡Œï¼Œå¤šåŠ å‡ å¥—å…³é”®å­— æž„å»ºç‰ˆæœ¬æˆªå›¾ å‘å¸ƒæ—¶ æ¥ä¼ ]]></content>
      <categories>
        <category>iOS</category>
        <category>Code</category>
      </categories>
      <tags>
        <tag>OC</tag>
        <tag>Code</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git-åŸºæœ¬ä½¿ç”¨]]></title>
    <url>%2F2017%2F11%2F29%2FGit%2FGit-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬ä½¿ç”¨åˆå§‹åŒ–ä»“åº“ åˆ›å»ºæ™®é€šä»“åº“ $ git init åˆ›å»ºè£¸ä»“åº“ï¼Œè¿™é‡Œé¢è®¸å¤šgitå‘½ä»¤ä¸èƒ½ä½¿ç”¨ï¼Œåˆ‡æ¢åˆ†æ”¯éƒ½ä¸å¯ç”¨ï¼Œä¸€èˆ¬ç”¨æ¥å½“è¿œç¨‹ä»“åº“ $ git --bare init åˆ«å ä½¿ç”¨config alias.å‘½ä»¤è¿›è¡Œï¼Œæ·»åŠ â€“globalå‚æ•°åŽå¯ä»¥å¯¹å…¨å±€gitçš„configæ–‡ä»¶è¿›è¡Œé…ç½® $ git config --global alias.st status ä¸€ä¸ªå¾ˆåŠçš„é…ç½®ï¼Œè®©ä½ çš„gitå˜å¾—æ›´å¥½çœ‹ï¼Œæ‘˜è‡ª $ git config --global alias.lg &quot;log --color --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit&quot; æœ¬åœ°çš„ä¸€äº›å‘½ä»¤ é…ç½®ä¿¡æ¯ $ git config user.name &quot;åå­—&quot; git config user.email &quot;email&quot; branchåˆ†æ”¯ç›¸å…³å‘½ä»¤ $ git branch -a //æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯ git branch åˆ†æ”¯åå­— //å¦‚æžœè¯¥åˆ†æ”¯ä¸å­˜åœ¨ï¼Œå°±ä¼šæ–°å»º git branch --delete åˆ†æ”¯åå­— //åˆ é™¤åˆ†æ”¯ addå°†æœ¬ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½æ·»åŠ åˆ°æš‚ç¼“åŒºï¼Œå‡†å¤‡æäº¤ç”¨ $ git add . commit æäº¤ $ git commit -m &quot;æ³¨é‡Š&quot; mergeè¿™ä¸ªå‘½ä»¤ä¼šå°†æœ¬åˆ†æ”¯mergeåˆ«å¤„çš„åˆ†æ”¯ã€‚ $ git merge mergeè¿‡æ¥çš„åˆ†æ”¯ è¿œç¨‹å‘½ä»¤ æ·»åŠ è¿œç¨‹ä»“åº“ $ git remote add &lt;è¿œç¨‹ä¸»æœºå&gt; url pushï¼Œå‘½ä»¤æ ¼å¼ï¼š &amp; git push è¿œç¨‹ä¸»æœºå æœ¬åœ°åˆ†æ”¯:è¿œç¨‹åˆ†æ”¯ ä¸¾ä¸ªä¾‹å­ä¸‹é¢å‘½ä»¤å°†æœ¬åœ°åˆ†æ”¯aï¼Œpushåˆ°è¿œç¨‹ä¸»æœºoriginçš„a_remoteä¸Šï¼Œå¦‚æžœè¿œç¨‹ä¸»æœºé‡Œé¢æ²¡æœ‰a_remoteåˆ†æ”¯ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ªè¿™åå­—çš„åˆ†æ”¯ã€‚ $ git push origin a:a_remote æ³¨æ„ï¼šå¦‚æžœæ²¡æœ‰è¿œç¨‹åˆ†æ”¯çš„åå­—ï¼Œé‚£ä¹ˆå°†ä¼šåœ¨è¿œç¨‹ä»“åº“å»ºç«‹ä¸€ä¸ªåŒåçš„åˆ†æ”¯ã€‚å¦‚æžœæ²¡æœ‰æœ¬åœ°åå­—ï¼Œå°±åƒ :a_remoteï¼Œè¿™å°±ç›¸å½“äºŽä¼ äº†ä¸€ä¸ªç©ºçš„åˆ†æ”¯ç»™è¿œç¨‹ï¼Œ é‚£ä¹ˆä¼šåˆ é™¤æŽ‰è¿œç¨‹ä»“åº“çš„è¿™ä¸ªåˆ†æ”¯ã€‚ pullè¿™ä¸ªå‘½ä»¤ä¼šå°†æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯è¿›è¡Œmergeï¼Œå¦‚æžœå‡ºçŽ°å†²çªï¼Œéœ€è¦è‡ªå·±è§£å†³ã€‚ å‘½ä»¤æ ¼å¼ï¼š $ git push è¿œç¨‹ä¸»æœºå è¿œç¨‹åˆ†æ”¯:æœ¬åœ°åˆ†æ”¯ ä¾‹å­åœ¨æ­¤ï¼Œå°†è¿œç¨‹ä¸»æœºçš„ $ git pull orgin a_remote:a å‘ç”Ÿå†²çªçš„æ—¶å€™ï¼Œå¦‚æžœéœ€è¦ä¸¢å¼ƒæœ¬åœ°å·¥ä½œï¼Œé‚£ä¹ˆä½¿ç”¨ $ git reset --hard branchç›¸å…³çš„è¿œç¨‹å‘½ä»¤å°†è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯ç›¸å…³è” git branch --track æœ¬åœ°åˆ†æ”¯ è¿œç¨‹ä¸»æœº/è¿œç¨‹åˆ†æ”¯ //åœ¨åˆ›å»ºæœ¬åœ°åˆ†æ”¯çš„æ—¶å€™æŒ‡å®šå®ƒæ‰€å…³è”çš„è¿œç¨‹åˆ†æ”¯ git branch --set-upstream-to è¿œç¨‹ä¸»æœº/è¿œç¨‹åˆ†æ”¯ //å°†å½“å‰åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯ fetchè¿™ä¸ªå‘½ä»¤å°†è¿œç¨‹çš„åˆ†æ”¯fetchä¸‹æ¥ï¼Œç„¶åŽå¯ä»¥å°†è¿™äº›fetchä¸‹æ¥çš„åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯è¿›è¡Œåˆå¹¶ git fetch ä¸»æœºå git fetch -p ä¸»æœºå //fetchå®ŒæˆåŽï¼Œåˆ é™¤æœ¬åœ°ä»å­˜åœ¨ï¼Œä½†æ˜¯è¿œç¨‹ä¸å­˜åœ¨çš„åˆ†æ”¯å…³è” ä¸‹é¢çš„å‘½ä»¤å°†æœ¬åœ°åˆ†æ”¯ç»‘å®šè¿œç¨‹åˆ†æ”¯ï¼Œä½†å¥½åƒå¹¶æ²¡ä»€ä¹ˆç”¨ï¼Œpushçš„æ—¶å€™å¦‚æžœä¸è¾“å…¥è¿œç¨‹åˆ†æ”¯åå­—ï¼Œé‚£ä¹ˆè¿˜æ˜¯ä¼šæ–°å»ºä¸€ä¸ªå’Œæœ¬åœ°åˆ†æ”¯åŒåçš„è¿œç¨‹åˆ†æ”¯ã€‚ git branch --set-upstream-to origin/aa_remote stashåœ¨è¿›è¡Œpullçš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ° error: Your local changes to the following files would be overwritten by merge: xxx/xxx/xxx.java Please, commit your changes or stash them before you can merge. Aborting è¿™é‡Œè¦ä¹ˆå°†ä½ å½“å‰çš„å·¥ä½œcommitä¸€ä¸‹ï¼Œè¦ä¹ˆå°±å¯ä»¥ä½¿ç”¨stashå‘½ä»¤ã€‚å…ˆç”¨stashå‘½ä»¤ç¼“å­˜å½“å‰å·¥ä½œï¼Œç„¶åŽpullï¼ŒpullåŽå†ç”¨stash popè¿˜åŽŸä¹‹å‰çš„å·¥ä½œ $ git pull ... file foobar not up to date, cannot merge. $ git stash $ git pull $ git stash pop å¦å¤–çš„æƒ…å†µå°±æ˜¯ï¼šä½ åœ¨å·¥ä½œçš„æ—¶å€™ï¼Œçªç„¶è¢«è€æ¿è¦æ±‚åŽ»æ”¹åˆ«çš„ä¸œè¥¿ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨stashæŠŠå½“å‰çš„å·¥ä½œç¼“å­˜èµ·æ¥ã€‚æ”¹å®Œåˆ«çš„ä¸œè¥¿åŽå†å›žæ¥ç»§ç»­å·¥ä½œã€‚ å…¶ä»– $... hack hack hack ... $ git stash $ edit emergency fix $ git commit -a -m &quot;Fix in a hurry&quot; $ git stash pop # ... continue hacking ... æœ€åŽä¸€äº›å‘ 1ã€åˆå§‹åŒ–çš„ä»“åº“è¦å…ˆcommitä¸€ä¸‹æ‰èƒ½æ–°å»ºåˆ†æ”¯ 2ã€å¦‚æžœè¿œç¨‹ä»“åº“åœ¨ä½¿ç”¨è¿™ä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆä¸èƒ½æäº¤åˆ°è¿™ä¸ªåˆ†æ”¯ä¸ŠåŽ»ï¼Œé™¤éžå»ºç«‹bareä»“åº“ï¼Œä½†æ˜¯bareä»“åº“ä¸èƒ½ä½¿ç”¨gitå‘½ä»¤ã€‚]]></content>
      <categories>
        <category>Git</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Classes/Structuresç±»å’Œç»“æž„ä½“]]></title>
    <url>%2F2017%2F11%2F29%2FSwift%2FGrammar%2FClasses-Structures%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93%2F</url>
    <content type="text"><![CDATA[ç±»å’Œç»“æž„ä½“ç®€å™è¿° Swiftä¸­ï¼Œç±»å’Œç»“æž„ä½“æ˜¯å¾ˆç›¸è¿‘çš„ã€‚æ‰€æœ‰ä¸‹é¢ç±»å’Œç»“æž„ä½“çš„å®žä¾‹éƒ½ç»Ÿç§°ä¸ºå®žä¾‹ã€‚ä¸å†å•ç‹¬ä¸ºç±»çš„å®žä¾‹ç§°ä¸ºå¯¹è±¡ã€‚å’ŒCæˆ–OCï¼Œä¸åŒï¼Œswiftçš„ç±»åªå†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚è¿™ç‚¹å’Œjavaä¸€æ ·ã€‚ ç±»å’Œç»“æž„ä½“çš„å…±åŒç‚¹ï¼š 1ã€èƒ½å®šä¹‰å±žæ€§ç”¨æ¥å­˜å‚¨å€¼ 2ã€èƒ½å®šä¹‰æ–¹æ³•å®žçŽ°åŠŸèƒ½ 3ã€èƒ½å®šä¹‰ä¸‹æ ‡æ¥å¾—åˆ°å€¼ 4ã€å…·æœ‰åˆå§‹åŒ–æž„é€ å™¨åˆå§‹åŒ–å®žä¾‹ 5ã€èƒ½è¢«æ‰©å±• 6ã€èƒ½å®žçŽ°åè®® ç±»æ¯”ç»“æž„ä½“å¤šå‡ºæ¥çš„ç‰¹ç‚¹ï¼š 1ã€èƒ½è¢«ç»§æ‰¿ 2ã€èƒ½åœ¨è¿è¡Œæ—¶ä½¿ç”¨ç±»åž‹è½¬æ¢åˆ¤æ–­ä¸€ä¸ªå®žä¾‹æ˜¯å¦ä¸ºæŸä¸ªç±» 3ã€å…·æœ‰æžæž„å™¨ 4ã€å¼•ç”¨è®¡æ•°å¯ä»¥å¤§äºŽ1ï¼Œä½¿å¾—å¯ä»¥æœ‰å¤šä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªç±»çš„å®žä¾‹ï¼ˆæ³¨æ˜Žï¼šç»“æž„ä½“æ˜¯å€¼ä¼ é€’ï¼Œæ‰€æœ‰æ²¡æœ‰å¼•ç”¨è®¡æ•°ï¼‰ ä¸‹é¢å®šä¹‰ä¸€ä¸ªç±»å’Œç»“æž„ä½“ï¼Œè¿™é‡Œå…ˆæä¸€ä¸‹ï¼Œç±»çš„æ¯ä¸ªå±žæ€§éƒ½ç»™äº†é»˜è®¤å€¼ï¼Œé™¤äº†å¯é€‰ç±»åž‹ä¹‹å¤–ã€‚è¿™ä¸ªæ˜¯swiftè¦æ±‚çš„ï¼Œä»¥åŽæ–‡ç« ä¼šè¯¦ç»†è®²åˆ°ã€‚ struct CPU { var clockSpeed = 1.0 var coreNum = 4 } class Telephone { var cpu = CPU() // CPU()æ˜¯CPUç»“æž„ä½“çš„é»˜è®¤æž„é€ å™¨ã€‚å®ƒç”Ÿæˆä¸€ä¸ªCPUå®žä¾‹ï¼Œä»¥åŽæž„é€ å™¨çš„æ–‡ç« è¯¦ç»†è®²è¿™æ–¹é¢å†…å®¹ var screenSize = 5.0 var price: Int? }ç„¶åŽå®šä¹‰ä»–ä»¬çš„å®žä¾‹ var myTelephone = Telephone() var newCPU = CPU()æ³¨æ„ç»“æž„ä½“æ˜¯å€¼ä¼ é€’ï¼Œè€Œç±»æ˜¯å¼•ç”¨ä¼ é€’ã€‚ä¸‹é¢çš„ä»£ç æ¸…æ¥šè¯´æ˜Žäº†è¿™ä¸ªç‰¹ç‚¹ã€‚ var myTelephone = Telephone()var newCPU = CPU() print(myTelephone.cpu.clockSpeed) //1.0 swiftä½¿ç”¨ç‚¹è¯­æ³•æ¥èŽ·å¾—å±žæ€§ newCPU.clockSpeed = 2.0 myTelephone.cpu = newCPU //ç»™myTelephoneä¸€ä¸ªæ–°çš„CPU print(myTelephone.cpu.clockSpeed) //2.0 newCPU.clockSpeed = 2.2 print(myTelephone.cpu.clockSpeed) //2.0 èµ‹å€¼åŽä¿®æ”¹newCPUå¹¶ä¸å½±å“myTelephoneé‡Œé¢çš„CPU var cpu = myTelephone.cpu //å–å‡ºä¸€ä»½CPUï¼Œä½†æ˜¯æ˜¯å€¼ä¼ é€’ cpu.clockSpeed = 3.0 print(myTelephone.cpu.clockSpeed) //2.0 æ‰€ä»¥ä¿®æ”¹å–å‡ºçš„cpuä¸å½±å“myTelephoneé‡Œé¢çš„ var yourTelephone = myTelephone // å®šä¹‰ä¸€ä¸ªyourTelephoneï¼Œå®ƒæŒ‡å‘myTelephoneçš„åŒä¸€ä¸ªå®žä¾‹ yourTelephone.screenSize = 6.0 print(myTelephone.screenSize) //6.0 ä¿®æ”¹yourTelephoneä¼šå½±å“myTelephoneArrayï¼ŒStringï¼ŒDictionaryéƒ½æ˜¯å€¼ä¼ é€’ã€‚è¿™ä¸ªå’ŒOCæ˜¯ä¸ä¸€æ ·çš„ã€‚å€¼å¾—æ³¨æ„ã€‚ ç»“æž„ä½“è‡ªå¸¦ä¸€ä¸ªéåŽ†æ‰€æœ‰å±žæ€§çš„æž„é€ å™¨ï¼Œä½†æ˜¯ç±»æ²¡æœ‰ã€‚ var cpu2 = CPU(clockSpeed: 3.3, coreNum: 8) æ“ä½œç¬¦ === å’Œ !=====ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªç±»çš„å®žä¾‹ã€‚å¦‚æžœæ˜¯è¿”å›žtrueã€‚ !==åä¹‹ã€‚æŒ‡å‘ä¸åŒå®žä¾‹ï¼Œè¿”å›žtrueã€‚ è€Œ == æ˜¯åˆ¤æ–­ä¸¤ä¸ªå®žä¾‹æ˜¯å¦â€œç›¸ç­‰â€ï¼Œè¿™ä¸ªç›¸ç­‰çš„æ¡ä»¶å¯ä»¥æœ‰ç±»çš„å®šä¹‰è€…è‡ªå·±å†³å®šã€‚]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Garmmar-Enumerationsæžšä¸¾ç±»]]></title>
    <url>%2F2017%2F11%2F29%2F520%2F</url>
    <content type="text"><![CDATA[æžšä¸¾ç±» Swiftä¸­çš„æžšä¸¾å’ŒCä¸­çš„æžšä¸¾ä¸ä¸€æ ·,æžšä¸¾ç±»è€Œä¸æ˜¯æžšä¸¾ç±»åž‹,å®ƒæ˜¯å€¼ä¼ é€’åœ¨Cä¸­ï¼Œæžšä¸¾ç±»åž‹ä¸­çš„æ¯ä¸€é¡¹éƒ½æ•´å½¢ç„¶è€Œåœ¨Swiftä¸­ï¼Œä½ ä¸å¿…ä¸ºæ¯ä¸€é¡¹èµ‹å€¼ã€‚å®šä¹‰çš„æ—¶å€™æ‰€ç”¨çš„åå­—å°±æ˜¯ç”¨æ¥æžšä¸¾çš„ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸ºæžšä¸¾æˆå‘˜èµ‹å€¼ï¼Œè¿™ä¸ªèµ‹å€¼ä¸å•å•æ˜¯æ•´å½¢ï¼Œå¯ä»¥æ˜¯Charaterï¼ŒStringï¼Œæµ®ç‚¹æ•°ã€‚ å®šä¹‰ä¸€ä¸ªæžšä¸¾ç±»åž‹æ³¨æ„é¦–å­—æ¯å·²ç»å¤§å†™åˆ†è¡Œæˆ–ä¸€è¡Œï¼Œç”¨é€—å·åˆ†éš” enum Nameset&#123;case LuGaygaycase LiaoliaoCase Ykk&#125;æˆ– enum Nameset&#123;case LuGaygay, Liaoliao,Ykk &#125; å®šä¹‰ä¸€ä¸ªæžšä¸¾å˜é‡var myName = Nameset.Ykkæˆ–myName = .Ykk Associated Value ç”¨æ¥ç»™æ¯ä¸€ä¸ªæžšä¸¾æˆå‘˜å†å®šä¹‰ä¸€ä¸ªè¡¥å……å€¼ å“çš„æ¡å½¢ç å’ŒäºŒç»´ç ã€‚æ¡å½¢ç æ˜¯ç”±ä¸€ä¸²æ•°å­—ç»„æˆçš„ï¼Œè¿™ä¸ªæ•°å­—åˆ†ä¸ºäº†4ä¸ªéƒ¨åˆ†ã€‚è€ŒäºŒç»´ç å…¶å®žæ˜¯ç”¨ä¸€ä¸²å¾ˆé•¿çš„å­—ç¬¦æ¥ç¼–ç çš„ã€‚å¦‚æžœè¦æŠŠäºŒä½ç å’Œæ¡å½¢ç å°è£…æˆä¸ºä¸€ä¸ªæžšä¸¾ç±»åž‹ï¼Œä¸ºäº†æ›´å¥½åœ°åŒºåˆ«äºŒè€…ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šassociated valueï¼Œå®šä¹‰å¦‚ä¸‹ enum Barcode &#123; case UPCA(Int, Int, Int, Int) //æ¡å½¢ç  case QRCode(String) //äºŒç»´ç  &#125; å®šä¹‰Barcodeå˜é‡ï¼ŒåŒæ˜¯æ·»åŠ ä¸Šassociated value var productBarcode = Barcode.UPCA(8, 85909, 51226, 3) productBarcode = .QRCode("ABCDEFGHIJKLMNOP") æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æžœä½ å®šä¹‰äº†associated valueï¼Œé‚£ä¹ˆåœ¨å®šä¹‰å˜é‡çš„æ—¶å€™å°±å’Œå‰é¢çš„NameSetä¸å¤ªä¸€æ ·äº†ã€‚çœ‹ä¸‹é¢çš„ä¸¤å¥ä»£ç b1æ˜¯Barcodeç±»åž‹b2æ˜¯(String) -&gt; Barcodeç±»åž‹ï¼Œä¸€ä¸ªå‡½æ•°ç±»åž‹ var b1 = Barcode.UPCA(8, 85909, 51226, 3) var b2 = Barcode.QRCode ``` &gt;ä»¥ä¸‹æˆ´æ‹¿ é”™è¯¯ ä¸èƒ½å°† Barcodeç±»åž‹æ˜¯å€¼èµ‹ç»™ (String)-&gt;Barcode.è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºäº†ï¼Œå…¶å®žBarcode.QRCode(String:)æ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œè¿™é‡Œå†æ¬¡éªŒè¯äº†swiftä¸­çš„æžšä¸¾æ˜¯ä¸€ä¸ªç±»```swift b2 = Barcode.QRCode("fef") //error NameSeté‡Œé¢å¯ä»¥ç›´æŽ¥ç”¨.Tomä¹‹ç±»æ¥èµ‹å€¼,ä¼°è®¡æ˜¯å®šä¹‰associated valueçš„æ—¶å€™ï¼Œç›¸å½“äºŽæŠŠè¯¥æžšä¸¾æˆå‘˜ä»Žä¸€ä¸ªå€¼å˜ä¸ºäº†æž„é€ æ–¹æ³•ã€‚ switchè¯­å¥æ¥å¤„ç†æžšä¸¾ç±» ç”¨swiftå¼ºå¤§çš„switchè¯­å¥æ¥å¤„ç†æžšä¸¾ç±»ï¼Œé™¤äº†ä¸€èˆ¬çš„æžšä¸¾æˆå‘˜ä¹‹å¤–ï¼Œå¯¹äºŽå¸¦associated value çš„æˆå‘˜ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°associated value enum NameSet &#123; //é‡æ–°å®šä¹‰ä¸€ä¸ªç®€å•çš„æžšä¸¾ç±» case Lucy case otherName(String) &#125; var myName = NameSet.Lucy myName = .otherName("Alexs") switch myName &#123; case .Lucy: print(myName) case .otherName(var inputName): //ä½¿ç”¨æ‹¬å·è§£åŒ…å‡ºassociated value print(inputName) //åªæœ‰è¿™å¥ä¼šæ‰“å°å‡º Alexs &#125; ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„switchå¦‚ä¸‹æ‰“å°çš„æ˜¯otherName switch myName &#123; case .Lucy: print(myName) case .otherName: print("otherName") case .otherName(var inputName): print(inputName) &#125; //æ‰“å°çš„æ˜¯otherName é‡Œå¯ä»¥çœ‹å‡ºï¼Œswitché‡Œé¢çš„.otherNameå’Œå£°æ˜Žæžšä¸¾å˜é‡æ—¶å€™çš„ä¸åŒï¼Œè¿™é‡Œå·²ç»æ˜¯å€¼NameSetçš„å€¼äº†ã€‚è€Œä¸”ä¸Šé¢çš„Switchä¹Ÿä¼šæœ‰è­¦å‘Šè¯´æœ€åŽä¸€ä¸ªcaseæ°¸è¿œä¸èƒ½æ‰§è¡Œã€‚æ‹¬å·åªæ˜¯ç”¨æ¥è§£åŒ…å‡ºassociated valueï¼Œè€Œä¸æ˜¯æž„é€ æ–¹æ³•ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œå†æ”¹æ”¹ä¸Šé¢ä»£ç  var myName = NameSet.Lucy switch myName &#123; case .Lucy(let name): print(name) case .otherName: print("otherName") case .otherName(var inputName): print(inputName) &#125; //æ‰“å°ä½ ä¼šå‘çŽ°è¿™é‡Œæ‰“å°äº† ()ï¼Œå› ä¸ºè§£åŒ…Lucyæ²¡æœ‰å¾—åˆ°å€¼ switchè¯­å¥ï¼Œä¹‹å‰è¯´è¿‡åªæœ‰ç©·å°½æžšä¸¾çš„æ—¶å€™æ‰ä¸éœ€è¦defaulté€‰é¡¹ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­å› ä¸ºæŠŠNameSeté‡Œé¢æ‰€æœ‰å¯èƒ½éƒ½æžšä¸¾äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦defaulté€‰é¡¹ Raw Value è¿™ä¸ªå°±æ˜¯å¯¹æ¯ä¸€é¡¹æžšä¸¾æˆå‘˜ç»‘å®šä¸€ä¸ªå€¼ï¼Œå¥½æ¯”æ˜¯Cé‡Œé¢çš„æžšä¸¾æˆå‘˜éƒ½æ˜¯ä¸€ä¸ªæ•´å½¢å¦‚æžœéœ€è¦Raw Valueï¼Œå¿…é¡»åœ¨å£°æ˜Žæžšä¸¾ç±»çš„æ—¶å€™åŠ ä¸Šraw value çš„ç±»åž‹ enum ASCIIControlCharacter: Character &#123; case Tab = "\t" case LineFeed = "\n" case CarriageReturn = "\r" &#125; å’ŒCæœ‰é»˜è®¤çš„raw valueä¸€æ ·ï¼Œswiftçš„æžšä¸¾ç±»ä¹Ÿæœ‰é»˜è®¤çš„raw valueä½†æ˜¯ä¸æ˜¯ä»»ä½•ç±»åž‹çš„raw value éƒ½æœ‰é»˜è®¤å€¼å‡å¦‚ä½ raw valueçš„ç±»åž‹æ˜¯Characterï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨é»˜è®¤raw valueï¼Œæ¯ä¸ªæžšä¸¾æˆå‘˜çš„é»˜è®¤å€¼éƒ½å¿…é¡»ç”±ä½ è‡ªå·±å®šä¹‰å¦‚æžœç±»åž‹æ˜¯Intï¼Œé‚£ä¹ˆé»˜è®¤å€¼ç¬¬ä¸€ä¸ªæ˜¯0ï¼ŒåŽé¢çš„ä¸€é¡¹éƒ½å‰ä¸€é¡¹åŠ 1.çœ‹ä¸‹é¢ä¾‹å­å°±æ˜Žç™½äº† enum NameSet: Int&#123; case Lucy //0 case Tom = 3 //3 case Kate //4 case Angle = 66 //66 case Alex //67 &#125; å¦‚æžœç±»åž‹æ˜¯Stringï¼Œé‚£ä¹ˆé»˜è®¤å€¼å°±æ˜¯ä½ çš„æžšä¸¾æˆå‘˜çš„åå­— enum NameSet: String&#123; case Lucy //Lucy case Tom = "T" //T case Kate //Kate &#125; å¦‚æžœæœ‰raw valueï¼Œå°±å¯ä»¥ç”¨raw valueæ¥å®šä¹‰æžšä¸¾å˜é‡ var myName = NameSet(rawValue: "Lucy") //æ³¨æ„è¿™é‡Œè¿”å›žçš„æ˜¯ä¸€ä¸ªå¯é€‰ç±»åž‹ï¼Œå› ä¸ºè¿™ä¸ªæž„é€ æ–¹æ³•æ˜¯ä¸€ä¸ªå¯å¤±è´¥çš„æž„é€ æ–¹æ³•ã€‚å…·ä½“çœ‹åŽé¢çš„ç±»æž„é€ çš„æ–‡ç« ã€‚ print(myName!.rawValue) //è¿™é‡Œæˆ‘å°±æ²¡ç”¨ifåšåˆ¤æ–­äº†ï¼Œç›´æŽ¥å¼ºåˆ¶è§£åŒ… é€’å½’enumå°±æ˜¯åœ¨enumçš„æžšä¸¾æˆå‘˜çš„associated valueå£°æ˜Žä¸ºæœ¬æžšä¸¾ç±»,ç„¶åŽä½¿ç”¨é€’å½’å‡½æ•°ã€‚åœ¨å£°æ˜Žassociated valueä¸ºè‡ªå·±æžšä¸¾ç±»çš„æ—¶å€™ï¼Œéœ€è¦åŠ ä¸Šindirectå…³é”®å­—ã€‚è¿™ä¸ªå…³é”®å­—å¯ä»¥åŠ åœ¨æ¯ä¸ªcaseçš„å‰é¢ï¼Œä¹Ÿå¯ä»¥åŠ åœ¨enumçš„å‰é¢ã€‚åŽä¸€ç§æ–¹æ³•å¯¹é‡Œé¢æ‰€æœ‰çš„caseéƒ½èµ·æ•ˆã€‚ä½†æ˜¯å¹¶ä¸è¦æ±‚æ‰€æœ‰caseéƒ½æœ‰æœ¬æžšä¸¾ç±»ä½œä¸ºassociated value indirect enum ArithmeticExpression &#123; //ä½¿ç”¨ç¬¬äºŒç§indirectã€‚å®šä¹‰äº†ä¸€ä¸ªæ•°å­¦è¡¨è¾¾å¼ã€‚ case Number(Int) case Addition(ArithmeticExpression, ArithmeticExpression) case Multiplication(ArithmeticExpression, ArithmeticExpression) &#125; func evaluate(expression: ArithmeticExpression) -&gt; Int &#123; //è¿™ä¸ªå‡½æ•°è¿ç®—è¡¨è¾¾å¼ switch expression &#123; case .Number(let value): return value case .Addition(let left, let right): return evaluate(left) + evaluate(right) case .Multiplication(let left, let right): return evaluate(left) * evaluate(right) &#125; &#125; // evaluate (5 + 4) * 2 let five = ArithmeticExpression.Number(5) let four = ArithmeticExpression.Number(4) let sum = ArithmeticExpression.Addition(five, four) let product = ArithmeticExpression.Multiplication(sum, ArithmeticExpression.Number(2)) print(evaluate(product)) // prints "18"]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Closuresé—­åŒ…]]></title>
    <url>%2F2017%2F11%2F27%2FSwift%2FGrammar%2FClosures%E9%97%AD%E5%8C%85%2F</url>
    <content type="text"><![CDATA[é—­åŒ… é—­åŒ…å¯ä»¥çœ‹åšæ˜¯åŒ¿åçš„å‡½æ•° å›žæƒ³ä¸€ä¸‹å‡½æ•°ä½œä¸ºå‚æ•°çš„æƒ…å†µå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ€åŽçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ç±»åž‹ func doMath(first: Int, second: Int, mathFunc: (Int, Int) -&gt; Int) &#123; print("mathFunc =",mathFunc(first,second))&#125; å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ‰ä¸¤ä¸ªæ•´å½¢å‚æ•°ï¼Œå¹¶æœ‰ä¸€ä¸ªæ•´å½¢è¿”å›žå€¼ func add(first: Int, _ second: Int) -&gt; Int&#123; return first + second è°ƒç”¨ç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œå°†ç¬¬äºŒä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ doMath(1, second: 3, mathFunc: add) æ‰“å° mathFunc = 4 å¦‚æžœæˆ‘ä»¬æƒ³ç”¨doMathå®žçŽ°ä¸¤ä¸ªæ•°ç›¸å‡çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…é¡»å†å†™å®šä¹‰ä¸€ä¸ªsubå‡½æ•°ï¼Œç„¶åŽå°†å…¶ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚è¿™æ ·åœ¨åŠŸèƒ½å¤šäº†ä¹‹åŽä¼šæ˜¾å¾—å¾ˆéº»çƒ¦ï¼Œä¸€å †å‡½æ•°ï¼Œè€Œæ‰€ä»¥æœ‰äº†é—­åŒ…è¿™ä¸ªæ¦‚å¿µ é—­åŒ…çš„è¯­æ³•&#123; (å‚æ•°åˆ—è¡¨) -&gt; è¿”å›žç±»åž‹ in //é—­åŒ…ä½“&#125; æœ‰äº†é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„ä»£ç æ”¹ä¸º å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæœ€åŽçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ç±»åž‹ func doMath(f:Int,s:Int,mathFunc:(Int,Int)-&gt;)&#123; print("mathFunc = ",mathunc(first,second)) &#125; è°ƒç”¨ doMath(1, second: 3, mathFunc: &#123;(f: Int, s: Int) -&gt; Int in return f + s&#125;) è¿˜æ˜¯å¾ˆéº»çƒ¦æ˜¯å§ï¼Ÿ åˆ«å¿˜äº† Swiftæœ‰ç±»åž‹æŽ¨æ–­åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»§ç»­ç®€åŒ–ä¸Šé¢çš„é—­åŒ…éƒ¨åˆ†ä»£ç  doMath(1, second: 3, mathFunc: &#123;f, s in return f + s&#125;) å¯¹åº”åªæœ‰ä¸€è¡Œä»£ç çš„é—­åŒ…ï¼Œreturnå…³é”®å­—è¿˜å¯ä»¥çœç•¥ doMath(1, second: 3, mathFunc: &#123;f, s in f + s &#125;) æ­¤å¤–ï¼Œé—­åŒ…å¯¹å‚æ•°æä¾›äº†é»˜è®¤åå­—ï¼Œä¾æ¬¡ä¸º $0,$1,$2â€¦.æ‰€ä»¥ä¸Šé¢çš„é—­åŒ…ä»å¯ä»¥ç®€åŒ– doMath(1, second: 3, mathFunc: &#123;$0 + $1 &#125;) å¯¹äºŽé—­åŒ…åœ¨å‚æ•°åˆ—è¡¨æœ€åŽä¸€é¡¹çš„æƒ…å†µï¼Œå¯ä»¥å°†é—­åŒ…å†™åˆ°å°æ‹¬å·å¤–éƒ¨ï¼Œå¹¶ä¸”å¯ä»¥çœç•¥æŽ‰å¤–éƒ¨å‚æ•°å doMath(1, second: 3)&#123; var f = $0 + 1 return f + $1&#125; Autoclosures å§‘ä¸”å«è‡ªåŠ¨æ‰“åŒ…å§ã€‚ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥å°±å¥½ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨åˆ¤æ–­è¿™ä¸ªå¤§æ‹¬å·é‡Œé¢çš„æ˜¯ä»€ä¹ˆè¿”å›žç±»åž‹ã€‚ä½†æ˜¯æœ‰æ—¶å€™ä¸å‡†ç¡®ï¼Œéœ€è¦è‡ªå·±å†™ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªæ¦‚å¿µçš„è§£é‡Šï¼Œå…¶å®žä¹Ÿæ˜¯ä¸€ç§å®šä¹‰é—­åŒ…å˜é‡çš„æ–¹æ³• var t = &#123; return 1&#125;print(t()) å®šä¹‰äº†ä¸€ä¸ªVoid-&gt;Voidç±»åž‹çš„é—­åŒ…ã€‚å› ä¸ºæ²¡æœ‰å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥å‚æ•°åˆ—è¡¨å’Œinå…³é”®å­—ã€‚å¦‚æžœæœ‰å‚æ•°çš„è¯ï¼Œå°±ä¸èƒ½çœç•¥inå…³é”®å­—ã€‚ var b: Void-&gt;Int = &#123; //å®šä¹‰äº†ä¸€ä¸ªç±»åž‹ä¸º Void-&gt;Intçš„é—­åŒ… var i = 1 i++ print(i) return i&#125; å› ä¸ºé—­åŒ…å…¶å®žå°±æ˜¯å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªé—­åŒ…å°±å’Œè°ƒç”¨å‡½æ•°ä¸€æ ·ã€‚ä½†æ˜¯æœ‰åŒºåˆ«çš„å°±æ˜¯é—­åŒ…éƒ½æ˜¯æ²¡æœ‰å¤–éƒ¨å¤–éƒ¨å‚æ•°åï¼Œè°ƒç”¨çš„æ—¶å€™ä¸è¦æŠŠå†…éƒ¨å‚æ•°åä½†åšå¤–éƒ¨å‚æ•°åä½¿ç”¨ã€‚ æœ‰æ—¶å€™å‡½æ•°éœ€è¦ä¼ é€’ä¸€ä¸ªé—­åŒ…çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨è°ƒç”¨çš„æ—¶å€™ä½¿ç”¨å¤§æ‹¬å·å°†ä¸€æ®µä»£ç ç”Ÿæˆä¸ºé—­åŒ… var b: Void-&gt;Int = &#123; var i = 1 return i&#125;func doClosures(c: Void-&gt;Void) &#123; c()&#125;doClosures(&#123;b()&#125;) //è™½ç„¶bæ˜¯ä¸€ä¸ªVoid-&gt;Intçš„é—­åŒ…ï¼Œä½†æ˜¯å…¶è°ƒç”¨å†å°è£…ä¹‹åŽå˜ä¸ºäº†Void-&gt;Voidçš„é—­åŒ…doClosures(&#123; var i = 3 i++ print(i)&#125;) æ­¤å¤–ï¼Œå¯ä»¥åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨é‡Œé¢ä½¿ç”¨@autoclosureå…³é”®å­—ï¼Œè¿™æ ·å°±ä¸ç”¨ä½¿ç”¨å¤§æ‹¬å·å°è£…äº†ã€‚ä½†æ˜¯å¯¹äºŽå¤šå¥çš„ä»£ç æƒ…å†µä¸è¡Œï¼ˆä¸Šé¢çš„ç¬¬äºŒç§ï¼‰ï¼Œæœ‰æ—¶å€™è‡ªåŠ¨å°è£…ä¹Ÿä¼šå‡ºé”™ï¼Œæ¯”å¦‚ç”¨ä¸Šé¢çš„ç¬¬ä¸€ç§æƒ…å†µï¼Œå®ƒæŠŠb()çœ‹åšäº†Intï¼Œç„¶åŽæŠ¥é”™ã€‚éœ€è¦å°†è¿”å›žç±»åž‹é‡æ–°å®šä¹‰ä¸€ä¸‹ var b: Void-&gt;Void = &#123; var i = 1 i++ print(i)// return i&#125;func doClosures(@autoclosure c: Void-&gt;Void) &#123; //æˆ–è€…ä¸æ”¹bçš„ç±»åž‹ï¼Œå°†è¿™é‡Œçš„cçš„ç±»åž‹æ”¹ä¸º Void-&gt;Intä¹Ÿå¯ä»¥ c()&#125;doClosures(b()) å¦‚æžœæƒ³è¦è‡ªåŠ¨å°è£…çš„é—­åŒ…å¯ä»¥åœ¨doClosureså‡½æ•°çš„ä½œç”¨åŸŸä»¥å¤–ä½¿ç”¨ï¼Œé‚£ä¹ˆåŠ ä¸Šescapingå…³é”®å­—ã€‚è¿™ä¸ªå…³é”®å­—åªèƒ½ç”¨åœ¨@autoclosureåŽé¢ var b: Void-&gt;Void = &#123; var i = 1 i++ print(i)&#125;var t: (Void-&gt;Void)?func doClosures(@autoclosure(escaping) c: Void-&gt;Void) &#123; c() t = c //å°†è‡ªåŠ¨å°è£…çš„cèµ‹å€¼ç»™å¤–éƒ¨å˜é‡t&#125;doClosures(b())t!() é—­åŒ…çš„å€¼æ•èŽ·åœ¨ç”Ÿæˆä¸€ä¸ªé—­åŒ…çš„æ—¶å€™ï¼Œé—­åŒ…ä¼šå°†å®ƒç”¨åˆ°çš„å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜ä¸€ä»½ã€‚æé†’ä¸€ä¸‹ï¼Œå…¶å®žé—­åŒ…å°±æ˜¯å‡½æ•° func giveMeFunc2(step: Int) -&gt; (Void -&gt; Int)? &#123; var total = 0 func add() -&gt; Int &#123; total += step; return total &#125; return add&#125; ä¸Šé¢çš„å‡½æ•°é‡Œé¢ç”Ÿæˆäº†åµŒå¥—å‡½æ•°ï¼Œé€šè¿‡è¾“å…¥ä¸åŒçš„ç¬¦å·ï¼Œè¿”å›žä¸åŒçš„å‡½æ•°ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªå˜é‡éœ€è¦æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯totalï¼Œä¸€ä¸ªæ˜¯stepã€‚å½“ç”ŸæˆåµŒå¥—å‡½æ•°çš„æ—¶å€™ï¼ŒåµŒå¥—å‡½æ•°ä¼šå°†è¿™ä¸¤ä¸ªå˜é‡éƒ½copyä¸€ä»½ï¼Œç„¶åŽä¿å­˜èµ·æ¥ã€‚ä¸‹é¢æ˜¯å¯¹ä¸Šé¢ä»£ç çš„ä¸€ä¸ªä½¿ç”¨ ä¸Šé¢çš„å‡½æ•°é‡Œé¢ç”Ÿæˆäº†åµŒå¥—å‡½æ•°ï¼Œé€šè¿‡è¾“å…¥ä¸åŒçš„ç¬¦å·ï¼Œè¿”å›žä¸åŒçš„å‡½æ•°ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªå˜é‡éœ€è¦æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯totalï¼Œä¸€ä¸ªæ˜¯stepã€‚å½“ç”ŸæˆåµŒå¥—å‡½æ•°çš„æ—¶å€™ï¼ŒåµŒå¥—å‡½æ•°ä¼šå°†è¿™ä¸¤ä¸ªå˜é‡éƒ½copyä¸€ä»½ï¼Œç„¶åŽä¿å­˜èµ·æ¥ã€‚ä¸‹é¢æ˜¯å¯¹ä¸Šé¢ä»£ç çš„ä¸€ä¸ªä½¿ç”¨ å¯ä»¥çœ‹åˆ°ï¼Œf1å’Œf2çš„totalå’Œstepæ˜¯ä¸ä¼šç›¸äº’å¹²æ¶‰çš„ã€‚ å†æ¥çœ‹çœ‹è¿™ä¸ªå€¼æ•èŽ·çš„æ—¶é—´ï¼Œçœ‹ä¸‹é¢ä»£ç ã€‚è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå€¼æ•èŽ·æ˜¯å‘ç”Ÿåœ¨è¿”å›žä¹‹å‰ã€‚è¿™ä¸ªå’ŒOCçš„blockæ˜¯ä¸€æ ·çš„ func giveMeFunc2(step: Int) -&gt; (Void -&gt; Int)? &#123; var total = 0 func add() -&gt; Int &#123; total += step; return total &#125; print("before +100",add()) // total = 0 total += 100 print("after +100",add()) // total = 100 return add&#125;var f1 = giveMeFunc2(1)! //å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šå°†ä¼ å…¥çš„å‚æ•°ç´¯åŠ ï¼Œå¹¶ä¸”æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåŠ ä¸Šä¸€æ¬¡stepprint("f1=",f1()) // 103print("f1=",f1()) // 104 çœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½å¤§å®¶ä¼šä»¥ä¸ºè¿™ä¸ªå€¼æ•èŽ·å’ŒOCçš„blockå·®ä¸å¤šï¼Œä½†æ˜¯å…¶å®žå·®è¿œäº†ã€‚è¿™ä¸ªå€¼æ•èŽ·çš„æ—¶é—´å¾ˆæœ‰åŒºåˆ«ã€‚è¿™é‡Œæ˜Žæ˜¾çš„ä¸€ç‚¹å°±æ˜¯æˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨æ”¹å˜å¤–éƒ¨å˜é‡totalçš„æ—¶å€™ï¼Œæ²¡æœ‰åŠ ä»»ä½•ä¿®é¥°ç¬¦ï¼ŒOCé‡Œé¢å¿…é¡»åŠ ä¸Š__blockï¼Œè¦ä¹ˆå°±æ˜¯å¯¹å…¨å±€å˜é‡è¿›è¡Œä¿®æ”¹ã€‚ æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µOCä»£ç  int t =1;int(^b)() = ^() &#123; return t; &#125;;t = 3;NSLog(@"%d",b()); //è¾“å‡º1ï¼Œç†ç”±å°±ä¸å¤šè¯´äº†ã€‚å‡å¦‚æˆ‘ä»¬æŠŠtæ”¹ä¸º__blockã€‚é‚£ä¹ˆå°†ä¼šè¾“å‡º3ã€‚æ”¹ä¸ºstaticåŒæ ·çš„æ•ˆæžœã€‚__block int t =1;int(^b)() = ^() &#123; return t; &#125;;t = 3;NSLog(@"%d",b()); //3 æ¥çœ‹OCå’Œswiftä¸­ä¸¤æ®µå¾ˆç±»ä¼¼çš„ä»£ç  //OCtypedef int(^BLOCK)(void);BLOCK OCFunc (int step) &#123; __block int total = 0; BLOCK b = ^() &#123; total +=step; return total; &#125;; step = 100; NSLog(@&quot;before +100,%d&quot;,b()); //1 total +=100; NSLog(@&quot;after +100,%d&quot;,b()); //102 return b;&#125;//åœ¨mainæ–¹æ³•é‡Œé¢è°ƒç”¨BLOCK b = OCFunc(1);NSLog(@&quot;%d&quot;,b()); // 103NSLog(@&quot;%d&quot;,b()); // 104 func swiftFunc(var step: Int) -&gt; Void -&gt; Int&#123; var total = 0 let b: Void -&gt; Int = &#123; Void in total += step; return total &#125; step = 100; print("before +100,",b()) // 100 total+=100 // total = 200 print("after +100,",b()) //300 return b&#125;let d = swiftFunc(1)print("d=",d()) //400print("d=",d()) //500 è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼ŒOCä¸­çš„stepåœ¨blockå®šä¹‰çš„æ—¶å€™å°±ç»‘å®šäº†ï¼ŒåŽé¢åœ¨æ›´æ”¹stepçš„å€¼ä¹Ÿä¸å½±å“blockã€‚ä½†æ˜¯åœ¨swiftä¸­ï¼Œstepä»ç„¶æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œç›´åˆ°stepç¦»å¼€ä½œç”¨åŸŸåŽï¼Œé—­åŒ…æ‰å°†å…¶æ•èŽ·ã€‚ å¦‚æžœè¦OCä¸­äº§ç”ŸåŒæ ·çš„æ•ˆæžœï¼Œåªéœ€å®šä¹‰ä¸€ä¸ªblockå˜é‡ï¼Œå¦‚ä¸‹ã€‚å¯ä»¥è¿™ä¹ˆçœ‹ï¼ŒSwiftä¸­çš„å˜é‡é»˜è®¤éƒ½æ˜¯blockçš„ //OCtypedef int(^BLOCK)(void);BLOCK OCFunc (int step) &#123; __block int total = 0; __block int step2 = step; BLOCK b = ^() &#123; total +=step2; return total; &#125;; step2 = 100; NSLog(@"before +100,%d",b()); //100 total +=100; NSLog(@"after +100,%d",b()); //300 return b;&#125;//åœ¨mainæ–¹æ³•é‡Œé¢è°ƒç”¨BLOCK b = OCFunc(1);NSLog(@"%d",b()); //400NSLog(@"%d",b()); //500 è¿™ä¸ªå€¼æ•èŽ·å’ŒOCçš„blockä¸€æ ·ï¼Œä¹Ÿä¼šäº§ç”Ÿå¾ªçŽ¯å¼•ç”¨é—®é¢˜ã€‚OCé‡Œé¢æ˜¯ä½¿ç”¨__weakæ¥è§£å†³ï¼Œè¿™é‡Œå·®ä¸å¤šï¼Œå®ƒå¯ä»¥åœ¨å‚æ•°åˆ—è¡¨å‰é¢åŠ ä¸Šæ•èŽ·åˆ—è¡¨ï¼Œå¹¶ä¸”å¯¹æ•èŽ·ç±»åˆ«çš„å‚æ•°è¿›è¡Œæƒé™æŽ§åˆ¶ï¼Œé™„ä¸Šä¸€ä¸ªå®˜æ–¹ä¾‹å­ï¼Œä»¥åŽå†™ARCçš„æ—¶å€™è¯¦ç»†è®² lazy var someClosure: (Int, String) -&gt; String = &#123; [unowned self, weak delegate = self.delegate!] (index: Int, stringToProcess: String) -&gt; String in // closure body goes here&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-æµç¨‹æŽ§åˆ¶è¯­å¥]]></title>
    <url>%2F2017%2F11%2F24%2FSwift%2FGrammar%2F%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%2F</url>
    <content type="text"><![CDATA[if elseè¯­å¥ ifè¯­å¥ifè¯­å¥å’Œå…¶ä»–è¯­è¨€ä¸­çš„ä½¿ç”¨æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è¯­æ³•ç¨æœ‰ä¸åŒé¦–å…ˆ,æ˜¯ä¸ç”¨æ‹¬å·å…¶æ¬¡,æ˜¯å³ä½¿æ˜¯ifåŽé¢åªæœ‰ä¸€æ¡è¯­å¥ï¼Œä¹Ÿå¿…é¡»åŠ ä¸Šå¤§æ‹¬å· var array1 = ["a","b","c"]if array1.count &gt; 1 &#123; print("array1 is not empty") //è¿™å¥ä¼šæ‰“å°å‡ºæ¥&#125; else &#123; print("array1 is empty")&#125; fè¯­å¥å¯ä»¥ç”¨æ¥æ£€æµ‹å¯é€‰ç±»åž‹æ˜¯å¦ä¸ºç©º var str : String?if let s = str &#123; print("str is not nil")&#125; else &#123; print("str is nil") //è¿™å¥ä¼šæ‰“å°&#125; for è¯­å¥ å·²ç»ç§»é™¤ for var index = 0; index &lt; 3; index++ &#123; //å·²ç»ç§»é™¤ print(index)&#125; for-in è¯­å¥ å°¤å…¶æ˜¯ç”¨æ¥éåŽ†é›†åˆ for index in 1...3 &#123; print(index)&#125; ä¸Šé¢çš„åªèƒ½æ˜¯æ¯æ¬¡åŠ 1ï¼Œä½†æ˜¯çŽ°åœ¨å¯èƒ½æœ‰éœ€æ±‚æ¯æ¬¡å¢žåŠ çš„ä¸æ˜¯1ï¼Œæ‰€ä»¥çŽ°åœ¨æœ‰äº†è¿™ä¸ª for tickMark in stride(from: 0, to: 60, by: 5) &#123; print(tickMark) // æ‰“å° (0, 5, 10, 15 ... 45, 50, 55)&#125; whileè¯­å¥å’Œ repeat-whileè¯­å¥ æŠŠæ‹¬å·åŽ»æŽ‰å°±è¡Œäº† var index = 3while index &gt; 0 &#123; index-- print(index)&#125;index = 3repeat &#123; index-- print(index)&#125; while index &gt; 0 Breakå’Œcontinueè¿™ä¸ªç”¨æ³•å’ŒCå·®ä¸å¤šSwitchè¯­å¥ Swifté‡Œé¢çš„Switchè¯­å¥ä¸ä»…å¯ä»¥åˆ¤æ–­æ•´å½¢ï¼Œè€Œä¸”è¿˜å¯ä»¥åˆ¤æ–­å„ç§ç±»åž‹ã€‚æ³¨æ„çš„æ˜¯æ‰§è¡Œäº†ä¸€ä¸ªcaseåŽæ˜¯ä¸ä¼šç»§ç»­å¾€ä¸‹é¢æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨æ·»åŠ breakè¯­å¥ã€‚ç›¸åå¦‚æžœä½ æƒ³è¦ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œä½ å¿…é¡»åœ¨è¿™ä¸ªcaseæœ€åŽåŠ ä¸ŠFallthroughã€‚å¦å¤–å°±æ˜¯defaultï¼Œå¯¹äºŽä¸æ˜¯æžšä¸¾ç±»åž‹çš„å˜é‡ï¼Œdefalutå¿…é¡»åŠ ä¸Šã€‚æžšä¸¾ç±»åž‹çš„å˜é‡åœ¨å®Œå…¨æžšä¸¾çš„æ—¶å€™æ‰å¯ä»¥çœç•¥default var str = "a"switch str &#123; case "a": print("a") //è¿™å¥ä¼šæ‰“å° fallthrough case "b": print("b") //è¿™å¥ä¼šæ‰“å° case "c": print("c") //ä¸ä¼šæ‰“å° default: print("nil") //ä¸ä¼šæ‰“å°&#125; switché‡Œé¢ä¸€ä¸ªcaseå¯ä»¥å¯¹åº”å¤šä¸ªé€‰é¡¹ï¼Œæ¯ä¸ªé€‰é¡¹ä¹‹é—´ç”¨é€—å·åˆ†å¼€ã€‚è¿™ä¸ªç”¨æ³•æ˜¯ç”¨æ¥å®žçŽ°cé‡Œé¢çš„æŸä¸ªé€‰é¡¹é‡Œé¢æ²¡æœ‰æ‰§è¡Œä»£ç çš„æƒ…å†µã€‚Swiftä¸å…è®¸æŸä¸ªé€‰é¡¹é‡Œé¢æ²¡æœ‰å¯æ‰§è¡Œçš„ä»£ç  var str = "s"switch str &#123;case "a","s": print("a") //åªæ‰“å°è¿™å¥default: print("nil")&#125; caseé‡Œé¢ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªèŒƒå›´ï¼Œåœ¨æ¯ä¸ªcaseä¹‹é—´çš„èŒƒå›´æœ‰é‡å çš„è¯ï¼Œåªä¼šåŒ¹é…ç¬¬ä¸€ä¸ª var i = 2switch i &#123;case 1...10: print("1-10") //åªæ‰“å°è¿™å¥case 9..&lt;20: print("10-20") //å› ä¸ºåŒ¹é…äº†ç¬¬ä¸€å¥ï¼Œæ‰€ä»¥è¿™å¥ä¸ä¼šå†åŒ¹é…default: print("other")&#125; å¯¹Tuple çš„åŒ¹é…ä½ å¯ä»¥åŒ¹é…Tupleçš„ä¸¤ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥åªåŒ¹é…ä¸€ä¸ªå€¼ï¼Œè¿˜å¯ä»¥åŒ¹é…èŒƒå›´ //ä¸‹é¢caseçš„æ¡ä»¶éƒ½æ˜¯å¯ä»¥åŒ¹é…çš„ï¼ŒæŠŠå‰é¢çš„caseæ³¨é‡ŠæŽ‰çš„è¯å°±ä¼šåŒ¹é…ä¸‹ä¸€ä¸ªcaseã€‚var tuple = (2,1)switch tuple &#123;case (2,1): print("(2,1)") //å› ä¸ºè‡ªåŠ¨æ·»åŠ breakçš„æœºåˆ¶ï¼Œæ‰€ä»¥ä¸ä¼šå¾€ä¸‹èµ°case (let x,1): //å¯ä»¥ç”¨å˜é‡æ¥è‡ªç”±åŒ–å…¶ä¸­ä¸€ä¸ªå€¼ï¼Œåªéœ€è¦å¦å¤–ä¸€ä¸ªå€¼åŒ¹é…äº†ï¼Œå°±ä¼šåŒ¹é…è¿™ä¸ªã€‚å¦‚æžœä½ ä¸å…³æ³¨xçš„å€¼ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠxæ¢ä¸º_ print("x = \(x)")case (-1...3,0...4): print("(-1~3,0~4)")default : print("other")&#125; Whereè¯­å¥åœ¨switchä¸­ whereå¯ä»¥ç”¨æ¥è¿›ä¸€æ­¥å¯¹caseæ·»åŠ çº¦æŸ var tuple = (2,1)switch tuple &#123;case var (x,y) where x == y: //è¿™é‡Œç”¨var å’Œ let åŒºåˆ«åœ¨äºŽèƒ½ä¸èƒ½åœ¨caseé‡Œé¢ä¿®æ”¹è§£åŒ…çš„xï¼Œyå€¼ã€‚ä½†æ˜¯å³ä½¿ä¿®æ”¹ä¹Ÿä¸ä¼šå½±å“åŽŸæ¥çš„tuple print("x == y")case let (_,x) where x == 4: print("x == 4")case var (x,y) where x != y: //åŒ¹é…äº†è¿™ä¸ªcase print("x != y") //æ‰“å° x != y x = 1 print(x) //æ‰“å° 1default : print("other")&#125;print(tuple) //æ‰“å° ï¼ˆ2ï¼Œ1ï¼‰ Labeled Statements è¿™ä¸ªlabeled statementså°±åƒgotoè¯­å¥ï¼Œä½†æ˜¯è·³è½¬æ¯”è¾ƒæœ‰é™ï¼Œåªèƒ½ç”¨äºŽå¾ªçŽ¯é‡Œé¢ã€‚è™½ç„¶switchä¹Ÿå¯ä»¥åŠ ä¸ŠåŽ»ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç”¨ var tuple = (2,1)second:for _ in 0... &#123; frist : switch tuple &#123; //è¿™ä¸ªfirstå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ case var (x,y) where x == y: //è¿™é‡Œç”¨var å’Œ let åŒºåˆ«åœ¨äºŽèƒ½ä¸èƒ½åœ¨caseé‡Œé¢ä¿®æ”¹è§£åŒ…çš„xï¼Œyå€¼ã€‚ä½†æ˜¯å³ä½¿ä¿®æ”¹ä¹Ÿä¸ä¼šå½±å“åŽŸæ¥çš„tuple print("x == y") break second case var (x,y) where x != y: //åŒ¹é…äº†è¿™ä¸ªcase print("x != y") //æ‰“å° x != y tuple = (1,1) continue second default : print("other") &#125;&#125;//ä¸Šé¢çš„forå¾ªçŽ¯ä¾æ¬¡æ‰“å°äº† x != y x == y//æ³¨æ„ä¸‹é¢çš„secondï¼Œè™½ç„¶å‰é¢ä¹Ÿå®šä¹‰äº†ï¼Œä½†æ˜¯ä¸ä¼šå†²çªã€‚å¾ªçŽ¯å†…çš„è·³è½¬åªèƒ½é’ˆå¯¹å¾ªçŽ¯second:repeat &#123; //å¯¹äºŽwhileä¹Ÿæ˜¯å¯ä»¥ç”¨ã€‚ frist : switch tuple &#123; //è¿™ä¸ªfirstå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ case var (x,y) where x == y: //è¿™é‡Œç”¨var å’Œ let åŒºåˆ«åœ¨äºŽèƒ½ä¸èƒ½åœ¨caseé‡Œé¢ä¿®æ”¹è§£åŒ…çš„xï¼Œyå€¼ã€‚ä½†æ˜¯å³ä½¿ä¿®æ”¹ä¹Ÿä¸ä¼šå½±å“åŽŸæ¥çš„tuple print("x == y") break second case var (x,y) where x != y: //åŒ¹é…äº†è¿™ä¸ªcase print("x != y") //æ‰“å° x != y tuple = (1,1) continue second default : print("other") &#125;&#125; while true//whileå¾ªçŽ¯åªæ‰“å°äº† x == yï¼Œå› ä¸ºTupleå·²ç»è¢«ä¿®æ”¹ä¸º(1,1) Assertionå’ŒPreconditionassert(_:_:file:line:) åˆ¤æ–­ä¸€ä¸ªæƒ…å†µæ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueç›´æŽ¥åœæ­¢ç¨‹åº assertionFailure(_:file:line:) SwiftçŽ°åœ¨å¤šäº†ä¸€ä¸ªPreconditionsï¼ŒåŒºåˆ«æ–‡æ¡£ä¸Šè¯´çš„æ˜¯å¼€å‘æ—¶å€™ç”¨Assertionsï¼Œç”Ÿäº§ç”¨Preconditionsã€‚(Assertions help you find mistakes and incorrect assumptions during development, and preconditions help you detect issues in production. ) precondition(_:_:file:line:) preconditionFailure(_:file:line:) æ–‡æ¡£ä¸Šæœ‰ä¸¤æ®µè¯ï¼š If you compile in unchecked mode (-Ounchecked), preconditions are not checked. The compiler assumes that preconditions are always true, and it optimizes your code accordingly. However, the fatalError(:file:line:) function always halts execution, regardless of optimization settings.You can use the fatalError(:file:line:) function during prototyping and early development to create stubs for functionality that hasnâ€™t been implemented yet, by writing fatalError(â€œUnimplementedâ€) as the stub implementation. Because fatal errors are never optimized out, unlike assertions or preconditions, you can be sure that execution always halts if it encounters a stub implementation.ä½†æ˜¯æ²¡æ‰¾åˆ°è¿™ä¸ª-Ouncheckedæ¨¡å¼ï¼Œåˆ°æ—¶æœ‰ä¸€ä¸ªé€‰é¡¹æ˜¯disable_safty_checksã€‚è¿™ä¸ªé€‰é¡¹çš„å…³é—­å’ŒSwift_OPTIMIZATION_LEVELçš„æ¨¡å¼æœ‰å…³ç³»ã€‚å¦‚æžœä½ é€‰æ‹©çš„æ˜¯ -Ononeï¼Œé‚£ä¹ˆä¸ç®¡disable_safty_checksçš„å€¼ï¼Œéƒ½ä¼šæ£€æµ‹preconditionå’Œassertã€‚ä½†æ˜¯å¦‚æžœå¼€å¯äº†ä¼˜åŒ–ï¼Œé‚£ä¹ˆassertå°±å†ä¸æ£€æµ‹ï¼Œè€Œpreconditionå°±ä¼šæ ¹æ®æ˜¯å¦å…³é—­å®‰å…¨æ£€æµ‹æ¥æ‰§è¡Œ guardè¯­å¥ è¿™ä¸ªå’Œassertionså·®ä¸å¤šï¼Œéƒ½æ˜¯ç”¨æ¥åšåˆ¤æ–­çš„ï¼Œä¸è¿‡è¿™ä¸ªè¦è‡ªå·±åŠ ä¸Šå¤„ç†ã€‚ç”¨æ¥åœ¨æ¡ä»¶ä¸æ»¡è¶³çš„æƒ…å†µä¸‹è·³å‡ºæ–¹æ³•æˆ–å¾ªçŽ¯ var i = 1while true &#123; guard i &gt; 1 else &#123; print("i &lt;= 1") break //elseé‡Œé¢å¿…é¡»åŠ ä¸Šbreakæˆ–return &#125;&#125; available ç”¨æ¥åˆ¤æ–­æ˜¯å¦å¯ä»¥ä½¿ç”¨æŸä¸ªç‰ˆæœ¬API if #available (iOS 8, OSX 10.10, *) &#123; //æ‹¬å·é‡Œé¢è¡¨ç¤ºçš„æ˜¯æœ€ä½Žçš„ç‰ˆæœ¬ã€‚è¿™ä¸ª*å¿…é¡»æœ‰ï¼Œä»£è¡¨å…¶ä»–å¹³å°&#125; else &#123;&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-é›†åˆç±»åž‹]]></title>
    <url>%2F2017%2F11%2F24%2FSwift%2FGrammar%2F%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[é›†åˆç±»åž‹ é›†åˆç±»åˆ†ä¸ºarrayã€dictionaryã€setæ¯ä¸ªé›†åˆéƒ½æœ‰ä¸€ä¸ªisEmptyå±žæ€§æ¥åˆ¤æ–­è¿™ä¸ªé›†åˆæ˜¯å¦ä¸ºç©º Array åˆ›å»ºarrayçš„å››ç§æ–¹æ³• var array1 = ["a","b","c"] //åŒ…å« a b c ä¸‰ä¸ªå­—ç¬¦ä¸²var array2 = Array&lt;Int&gt;() //ç©ºarrayï¼Œè¿™é‡Œä¸€å®šè¦æŒ‡æ˜Žå…ƒç´ ç±»åž‹var array3 = [String]() //ç©ºarrayvar array4 = Array(repeating:2.4, count:3) //åŒ…å«3ä¸ªdoubleå˜é‡ï¼Œå€¼éƒ½ä¸º1.3var array5 = [Double](repeating:2.4, count:3) //åŒ…å«3ä¸ªdoubleå˜é‡ï¼Œå€¼éƒ½ä¸º1.3 èŽ·å–arrayçš„æŸä¸ªå…ƒç´ ,ç›´æŽ¥ç”¨ä¸‹æ ‡ var value = array1[9] æ¸…ç©ºæ•°ç»„ array1.removeAll()array1 = []; æ¸…ç©ºæŸä¸ªå…ƒç´  remove(at:) æ¸…ç©ºæŸä¸ªèŒƒå›´çš„å…ƒç´  array.removeSubrange(1..&lt;arr.endIndex)// è¿™é‡Œä¼šç§»é™¤ä»Ž1å¼€å§‹ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬endçš„å…ƒç´ ï¼Œä½†æ˜¯endIndexæ˜¯æŒ‡å‘æœ€åŽä¸€ä¸ªå…ƒç´ çš„åŽä¸€ä¸ªå…ƒç´ çš„ï¼Œæ‰€ä»¥ä¼šä»Žindexä¸º1çš„å…ƒç´ å¼€å§‹ï¼Œåˆ é™¤åŽé¢å…¨éƒ¨ã€‚array[1...2] = [] //è¿™é‡Œå°†èŒƒå›´1-2çš„å…ƒç´ éƒ½æ¸…ç©ºäº†,æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æžœæ•°ç»„è¶Šç•Œçš„è¯ï¼Œä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯ å‘arrayæ·»åŠ å…ƒç´  //ä½¿ç”¨append()æ–¹æ³•array1.append("A") //å‘array1çš„æœ«å°¾æ·»åŠ ä¸€ä¸ª Aï¼ŒçŽ°åœ¨åªæœ‰ä¸€ä¸ª A å…ƒç´ //ä½¿ç”¨è¿ç®—ç¬¦å·array3 += ["d","e"] //array3ä»Žç©ºæ•°ç»„å˜ä¸ºåŒ…å« d e ä¸¤ä¸ªå­—ç¬¦ä¸²var array5 = array1 + array3 + ["last"] //array5åŒ…å« A d e last, 4ä¸ªå…ƒç´ //ä½¿ç”¨insertæ–¹æ³•array5.insert("first", at: 0) //array5åŒ…å« first A d e last, 5ä¸ªå…ƒç´  æ”¹å˜arrayå…ƒç´  array5[0] = "newBe"array5[1...3] = ["1","2","3"] éåŽ†æ•°ç»„for item in array5 &#123; print(item)&#125;for (index,item) in array5.enumerated() &#123; print(index,item)&#125; Set Set åˆ›å»ºseté‡Œé¢çš„å…ƒç´ éƒ½å¿…é¡»å®žçŽ°hashableã€‚å› ä¸ºåŒºåˆ†seté‡Œé¢çš„å…ƒç´ çš„æ ¹æœ¬å°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ çš„hashå€¼æ˜¯å¦ç›¸ç­‰ã€‚swiftåŸºæœ¬ç±»åž‹éƒ½å®žçŽ°äº†hashable var emptySet = Set&lt;Character&gt;() //å»ºç«‹ä¸€ä¸ªç©ºsetï¼Œå¿…é¡»æŒ‡æ˜Žå†…å®¹çš„ç±»åž‹var nameSet : Set&lt;String&gt; = ["Tom","Lucy","Aaron"] //ä½¿ç”¨åˆå§‹æ•°æ®å»ºç«‹set ç§»é™¤Set removeAll()ï¼Œè¿™ä¸ªæ–¹æ³•è¿˜å¯ä»¥ä¼ ä¸€ä¸ªbooleanå‚æ•°ï¼Œè¡¨ç¤ºæ˜¯å¦ä¿æŒç©ºé—´ï¼Œä¼ tureçš„è¯è¡¨ç¤ºä¿æŒ ç§»é™¤ä¸€ä¸ªå…ƒç´ æœ‰ä¸¤ç§åŠžæ³• var index = nameSet.index(of:"Tom")nameSet.remove(at:index!) //å› ä¸ºindexOfè¿”å›žçš„æ˜¯å¯é€‰ç±»åž‹ï¼Œæ‰€ä»¥è¿™é‡Œè¦è§£åŒ…nameSet.remove("Tom") //è¿™ç§å’Œä¸Šé¢çš„æ˜¯ç­‰ä»·çš„ éåŽ†Set for name in nameSet.sorted() &#123; //è¿™é‡Œçš„sorted()å¯ä»¥ä¸ç”¨ï¼Œè¿™é‡Œç”¨æ¥æŽ’åº print(name)&#125; åŒ…å«æŸä¸ªå…ƒç´  Setå’ŒArrayéƒ½æœ‰ä¸€ä¸ªcontainsæ–¹æ³•æ¥åˆ¤æ–­ Setæ“ä½œåŒ…æ‹¬äº†æ±‚äº¤é›†ï¼Œå¹¶é›†ï¼Œâ€œå‡é›†â€ï¼Œâ€œå¼‚æˆ–é›†â€å®˜æ–¹ä»£ç  let oddDigits: Set = [1, 3, 5, 7, 9]let evenDigits: Set = [0, 2, 4, 6, 8]let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]oddDigits.union(evenDigits).sort()// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]oddDigits.intersection(evenDigits).sort()// []oddDigits.subtracting(singleDigitPrimeNumbers).sort()// [1, 9]oddDigits.symmetricDifference(singleDigitPrimeNumbers).sort()// [1, 2, 9] Setå…³ç³» isSubset(of:) åˆ¤æ–­ä¸€ä¸ªsetæ˜¯å¦ä¸ºå¦å¤–ä¸€ä¸ªsetçš„å­setisSuperset(of:) åˆ¤æ–­ä¸€ä¸ªsetæ˜¯å¦ä¸ºå¦å¤–ä¸€ä¸ªsetçš„çˆ¶setisStrictSubset(of:) å’Œ isStrictSuperset(of:) æ„æ€å’Œä¸Šé¢çš„ä¸€æ ·ï¼Œåªæ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•ä¸èƒ½å­˜åœ¨ç›¸ç­‰çš„æƒ…å†µã€‚isDisjoint(with:) åˆ¤æ–­ä¸¤ä¸ªsetæ˜¯å¦æ²¡æœ‰å…±åŒå…ƒç´ ï¼Œæ²¡æœ‰çš„è¯è¿”å›žtrue Dictionary åˆ›å»ºDictionar var dict1 : [String:Int] = ["a":1,"b":2,"c":3]var dict = ["a":1,"b":2,"c":3, 3:"d"] as [AnyHashable : Any] //æ³¨æ„è¿™ä¸ªæ²¡å£°æ˜Žç±»åž‹çš„ï¼Œå› ä¸ºkeyå’Œvalueé‡Œé¢éƒ½æœ‰ä¸åŒçš„ç±»åž‹ï¼Œæ‰€ä»¥éœ€è¦å°†äºŒè€…éƒ½å¼ºè½¬ä¸ºAnyHashableï¼Œä½†æ˜¯å¦‚æžœkeyï¼ˆvalueï¼‰ç±»åž‹åªæœ‰ä¸€ç§çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šè½¬ä¸ºé‚£ç§ç±»åž‹ã€‚var dict2 = [Int:String]()var dict3 = Dictionary&lt;String,Int&gt;() æ·»åŠ /ä¿®æ”¹/åˆ é™¤dictionarydictionaryä¹Ÿæä¾›äº†removeAllï¼ŒremoveAtIndexä¹‹ç±»çš„æ–¹æ³•ä½¿ç”¨å’ŒSetæ˜¯ä¸€æ ·çš„ï¼Œå°±ä¸å†™äº†ã€‚ä¸‹é¢æ˜¯dictionaryç‰¹æœ‰çš„ dict[5] = "f" //æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹ 5: "f"dict[5] = 5 //ä¿®æ”¹keyä¸º5çš„å€¼ä¸º5dict[5] = nil //åˆ é™¤keyä¸º5çš„é”®å€¼å¯¹dict[6] = nil //å¯¹ä¸å­˜åœ¨çš„é”®å€¼å¯¹èµ‹nilä¸ä¼šæŠ¥é”™dict2 = [:] //æ¸…ç©ºæ‰€æœ‰ æ–°å¢žäº†ä¸€ä¸ªæ›´æ”¹å’Œåˆ é™¤çš„æ–¹æ³•ï¼Œå¯ä»¥èŽ·å¾—æ›´æ–°å’Œåˆ é™¤å‰çš„æ—§å€¼(å¯é€‰ç±»åž‹)ã€‚å¦‚æžœè¿™ä¸ªå€¼ä»¥å‰ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¿”å›žnil let oldValue = airports.updateValue("Dublin Airport", forKey: "DUB") let removedValue = airports.removeValue(forKey: "DUB") éåŽ†dictionary for (key,name) in dict &#123; print(key,name,separator:":")&#125;var keys = dict1.keys.sort();for key in keys &#123; print(key,dict[key]!)&#125;]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-String-Character]]></title>
    <url>%2F2017%2F11%2F24%2FSwift%2FGrammar%2FString-%E5%AD%97%E7%AC%A6%E4%B8%B2%2F</url>
    <content type="text"><![CDATA[StringString çš„å®šä¹‰ å­—ç¬¦ä¸²æ˜¯æœ‰åºçš„å­—ç¬¦é›†åˆï¼Œæˆ–è€…å«æ–‡æœ¬String æ˜¯å­—ç¬¦ä¸²ç±»åž‹ã€‚å•ä¸ªå­—ï¼ŒCharacteræ˜¯å­—ç¬¦ç±»åž‹2ä¸ªå­—ç¬¦ä¸²å¯ä»¥ç”¨ + é“¾æŽ¥é€šè¿‡å­—ç¬¦æ’å€¼å¯ä»¥åˆæˆä¸€ä¸ªé•¿å­—ç¬¦ä¸² public struct String &#123; public init() // An empty `String`&#125; å­—ç¬¦ä¸²åˆ›å»ºå’Œç©ºåˆ¤æ–­ å­—ç¬¦ä¸²å­—é¢é‡ï¼ŒåŒ…å«åŒå¼•å·çš„å€¼ var str = "Yue ke kui" åˆ›å»ºç©ºä¸² var yue = ""æˆ–var yue = String() //ç»“æž„ä½“æ–¹å¼åˆ›å»ºvar ke = " "yue.isEmpty // åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºke.isEmpty // ä¸ä¸ºç©ºã€‚æœ‰ç©ºæ ¼ ä½¿ç”¨ä¸‰ä¸ªå¼•å·æ¥åˆ›å»ºä¸€æ®µè¯çš„stringå¼€å§‹çš„ä¸‰ä¸ªå¼•å·çš„ç¬¬ä¸€è¡ŒåŽé¢çš„ç©ºæ ¼éƒ½ä¼šå¿½ç•¥ï¼Œä½†æ˜¯ç¬¬äºŒè¡Œçš„ç©ºæ ¼ä¸ä¼š let quotation = """The White Rabbit put on his spectacles. "Where shall I begin,please your Majesty?" he asked."Begin at the beginning," the King said gravely, "and go ontill you come to the end; then stop."""" å¯ä¿®æ”¹å­—ç¬¦ä¸² Swift 3.0 ç”¨ var å’Œ let æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹(ç±»ä¼¼OCå¯å˜å­—ç¬¦ä¸²)letä¿®é¥° ä¸å¯å˜å­—ç¬¦ä¸² ä¸èƒ½æ‹¼æŽ¥è¿½åŠ ç­‰varä¿®é¥° å¯å˜å­—ç¬¦ä¸²var variableString = "Hello"variableString += "Swift 3.0";print(variableString);//æ‰“å°HelloSwift 3.0 Character å­—ç¬¦ åˆ›å»ºä¸€ä¸ªCharacterï¼Œå¿…é¡»æ˜¾å¼å£°æ˜Žç±»åž‹ var c1:Character = "c" //æ³¨æ„æ˜¯ åŒå¼•å·var c2 = "c" //c2è¢«è®¤ä¸ºæ˜¯Stringç±»åž‹var c3 = 'c' //ç¼–è¯‘é”™è¯¯// Characterå¯ä»¥èµ‹å€¼ä¸ºUnicodelet eAcute: Character = "\u&#123;E9&#125;" // Ã©// æŒ¨ä¸ª å– å­—ç¬¦let string = "Swift";var arrays = string.characters;for charactor in arrays&#123; print(charactor);&#125;//ä¸€æ¬¡æ‰“å° S w i f t å­—ç¬¦ä¸²æ˜¯å€¼ç±»åž‹ æ”¹å˜Stringï¼Œè¿™ä¸ªè¯­æ³•å’Œjavaä¸€æ ·çš„ï¼Œä¸è¿‡å†…å­˜ç®¡ç†å±‚é¢å·²ç»æ˜¯ä¸åŒçš„å¯¹è±¡å­—ç¬¦ä¸²æ˜¯å€¼ç±»åž‹: åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå½“å…¶è¿›è¡Œå¸¸é‡ã€å˜é‡èµ‹å€¼æ“ä½œï¼Œæˆ–åœ¨å‡½æ•°/æ–¹æ³•ä¸­ä¼ é€’æ—¶ï¼Œä¼šè¿›è¡Œå€¼æ‹·è´ã€‚åœ¨å®žé™…ç¼–è¯‘æ—¶ï¼ŒSwift ç¼–è¯‘å™¨ä¼šä¼˜åŒ–å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œä½¿å®žé™…çš„å¤åˆ¶åªå‘ç”Ÿåœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€æ‚¨å°†å­—ç¬¦ä¸²ä½œä¸ºå€¼ç±»åž‹çš„åŒæ—¶å¯ä»¥èŽ·å¾—æžé«˜çš„æ€§èƒ½ var str:String = "first"var c1:Character = "c" //æ³¨æ„æ˜¯åŒå¼•å·var c2 = "c" //c2è¢«è®¤ä¸ºæ˜¯Stringç±»åž‹str += "sceond" //strå˜ä¸ºfirstsceond,æ­¤æ—¶çš„strå’Œä¹‹å‰çš„strå†…å­˜åœ°å€ä¸åŒstr += c2 //strå˜ä¸ºfirstc,æ­¤æ—¶çš„strå’Œä¹‹å‰çš„strå†…å­˜åœ°å€ä¸åŒstr.appendContentsOf("second") // å’Œä½¿ç”¨+=æ˜¯ä¸€æ ·çš„str.appendContentsOf(c2) //å’Œä½¿ç”¨+=æ˜¯ä¸€æ ·çš„str.append(c1); //æ·»åŠ Characterçš„æ–¹æ³• éåŽ†Stringå­—ç¬¦var str:String = "first"for c in str.characters &#123; print(c)&#125; ------ æˆ–for index in str.characters.indices &#123; print(str[index])&#125; èŽ·å–Stringé•¿åº¦var s = "dfe"print(s.count) //3 swifté‡Œé¢æœ‰extended grapheme clusters(An extended grapheme cluster is a sequence of one or more Unicode scalars that (when combined) produce a single human-readable character.) ä¹Ÿå°±æ˜¯å‡ ä¸ªUnicodeå­—ç¬¦ç»„åˆæˆä¸€ä¸ªäººç±»å¯ä»¥è¯†åˆ«çš„å­—ç¬¦ã€‚ å½“stringé‡Œé¢æ·»åŠ äº†charactersåŽï¼Œcountä¸ä¸€å®šä¼šå¢žåŠ ã€‚stringçš„countä¸ä¸€å®šå’ŒNSStringçš„lengthä¸€è‡´ã€‚(The length of an NSString is based on the number of 16-bit code units within the stringâ€™s UTF-16 representation and not the number of Unicode extended grapheme clusters within the string.) è¿ç®—ç¬¦+å…¶ä»–æ–¹å¼ï¼Œèµ‹å€¼ ç¬¦é™„å­—ç¬¦å°¾éƒ¨ append // é€šè¿‡åŠ æ³•è¿ç®—ç¬¦ï¼ˆ+ï¼‰ç›¸åŠ åœ¨ä¸€èµ·ï¼ˆæˆ–ç§°â€œè¿žæŽ¥â€ï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² let string1 = "chen"; let string2 = "jian"; let string3 = string1 + string2; print("string3 is \(string3)"); // chen jian//é€šè¿‡åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ (+=) å°†ä¸€ä¸ªå­—ç¬¦ä¸²æ·»åŠ åˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨å­—ç¬¦ä¸²å˜é‡ä¸Švar variablestring = "da shen chen jian";variablestring += string2;print("variablestring is \(variablestring)");// da shen chen jianjian // ç”¨append()æ–¹æ³•å°†ä¸€ä¸ªå­—ç¬¦é™„åŠ åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡çš„å°¾éƒ¨ variablestring.append(" !"); print("variablestring is \(variablestring)"); // da shen chen jianjian ! Stringçš„Index ä¸åƒjavaé‡Œé¢çš„Indexç›´æŽ¥å°±æ˜¯ä¸€ä¸ªæ•°å­— Stringçš„Indexæ˜¯åœ¨ä¸åŒçš„extensionä¸­å®šä¹‰çš„ã€‚ èŽ·å¾—Stringé‡Œé¢çš„æŸä¸ªå­—ç¬¦çš„è¿‡ç¨‹let greeting = "Guten Tag!"greeting[greeting.startIndex]// Ggreeting[greeting.index(before: greeting.endIndex)]// !greeting[greeting.index(after: greeting.startIndex)]// ulet index = greeting.index(greeting.startIndex, offsetBy: 7)greeting[index]// a æ’å…¥å’Œç§»é™¤å­—ç¬¦var welcome = "hello"welcome.insert("!", at: welcome.endIndex)// welcome now equals "hello!"welcome.insert(contentsOf: " there", at: welcome.index(before: welcome.endIndex))// welcome now equals "hello there!"welcome.remove(at: welcome.index(before: welcome.endIndex))// welcome now equals "hello there"let range = welcome.index(welcome.endIndex, offsetBy: -6)..&lt;welcome.endIndexwelcome.removeSubrange(range)// welcome now equals "hello" æˆªä¸² Swiftå¼•å…¥äº†ä¸€ä¸ªSubStringç±»ï¼Œç”¨æ¥æˆªä¸² let greeting = "Hello, world!"let index = greeting.index(of: ",") ?? greeting.endIndexlet beginning = greeting[..&lt;index]// beginning is "Hello"ä½†æ˜¯æ³¨æ„SubStringå¯èƒ½ä¼šç”¨åˆ°åŽŸæ¥stringçš„å†…å­˜ã€‚å®˜æ–¹å»ºè®®æ˜¯çŸ­æ—¶é—´ä½¿ç”¨ï¼Œå¦‚æžœæƒ³è¦é•¿æ—¶é—´ä¿æŒï¼Œéœ€è¦è½¬ä¸ºString// Convert the result to a String for long-term storage.let newString = String(beginning) å°†Stringè½¬æ¢ä¸ºNSStringï¼Œç„¶åŽè°ƒç”¨NSStringçš„æˆªä¸²æ–¹æ³• var str = "123456789"var ns = (str as NSString).substringWithRange(NSMakeRange(1, 4))print(ns) //è¾“å‡º 2345 xtensionæ¥æ‰©å±•String(æœ€ç®€å•)mport Foundationextension String &#123; //èŽ·å–éƒ¨åˆ†å­—ç¬¦ä¸²ï¼Œå¦‚æžœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›žnil.å¦‚æžœendå¤§äºŽå­—ç¬¦ä¸²é•¿åº¦ï¼Œé‚£ä¹ˆæˆªå–åˆ°æœ€åŽ subscript (start: Int, end: Int) -&gt; String? &#123; if start &gt; self.count || start &lt; 0 || start &gt; end &#123; return nil &#125; let begin = self.index(self.startIndex, offsetBy: start) var terminal: Index if end &gt;= length &#123; terminal = self.index(self.startIndex, offsetBy: count) &#125; else &#123; terminal = self.index(self.startIndex, offsetBy: end + 1) &#125; let range = (begin ..&lt; terminal) return self.substring(with: range) &#125; //èŽ·å–æŸä¸ªå­—ç¬¦ï¼Œå¦‚æžœä¸åœ¨èŒƒå›´å†…ï¼Œè¿”å›žnil subscript (index: Int) -&gt; Character? &#123; if index &gt; self.count - 1 || index &lt; 0 &#123; return nil &#125; return self[self.index(self.startIndex, offsetBy: index)] &#125;&#125; è®¡ç®—å­—ç¬¦æ•°é‡ å¦‚æžœæƒ³è¦èŽ·å¾—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­Characterå€¼çš„æ•°é‡ï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²çš„characterså±žæ€§çš„countå±žæ€§ let calculstring = "chenjian"; print("calculstring has \(calculstring.characters.count) charactor");//è¾“å‡ºç»“æžœ calculstring has 8 charactor è®¿é—®å­—ç¬¦ä¸² let visitString = "Hello Swift";//èŽ·å–ç¬¬ä¸€ä¸ªå­—ç¬¦print("visitString çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ :\(visitString[visitString.startIndex])");// è¿™é‡Œè¾“å‡º visitString çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ :H//èŽ·å–æœ€åŽä¸€ä¸ªå­—ç¬¦print("visitString çš„æœ€åŽä¸€ä¸ªå­—ç¬¦ :\(visitString[visitString.index(before: visitString.endIndex)])");// è¿™é‡Œè¾“å‡º visitString çš„æœ€åŽä¸€ä¸ªå­—ç¬¦ :t//èŽ·å–ä¸‹ç¬¬äºŒä¸ªå­—ç¬¦print("visitString çš„ç¬¬äºŒä¸ªå­—ç¬¦ : \(visitString[visitString.index(after: visitString.startIndex)])")// è¿™é‡Œè¾“å‡º visitString çš„ç¬¬äºŒä¸ªå­—ç¬¦ : e// é€šè¿‡åç§»é‡èŽ·å–ç´¢å¼• ç¬¬ä¸€ä¸ªå­—ç¬¦ å¾€åŽåç§» 4ä¸ªå•ä½(ä¸åŒ…æ‹¬èµ·å§‹ä½ç½®) ï¼ˆå¤‡æ³¨ï¼š å¦‚æžœä½ æŠŠå­—ç¬¦ä¸²å½“æ•°ç»„æ¥ç†è§£ï¼Œä½ ä¼šå‘çŽ° 0 å°±åœ¨æ•°ç»„çš„è‡ªå››ä¸ªä½ç½®ï¼‰let index = visitString.index(visitString.startIndex, offsetBy: 4);print("\(visitString[index])");// è¿™é‡Œè¾“å‡º o// ä½¿ç”¨ characters å±žæ€§çš„ indices å±žæ€§ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å…¨éƒ¨ç´¢å¼•çš„èŒƒå›´(Range)ï¼Œç”¨æ¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è®¿é—®å•ä¸ªå­—ç¬¦for index in visitString.characters.indices&#123; print("é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:\(visitString[index])");&#125;// è¿™é‡Œè¾“å‡º/*é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:Hé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:eé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:lé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:lé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:oé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦: é€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:Sé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:wé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:ié€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:fé€šè¿‡ä¸‹æ ‡å¾—åˆ°æ¯ä¸€ä¸ªå­—ç¬¦:t*/ å¤§å°å†™è½¬åŒ–let changeString = "hello";print("\(changeString.uppercased())") //è½¬åŒ–æˆå¤§å†™print("\(changeString.lowercased())") // è½¬åŒ–æˆå°å†™ æ’å…¥ è°ƒç”¨ insert(_:at:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œè°ƒç”¨ insert(contentsOf:at:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•æ’å…¥ä¸€ä¸ªæ®µå­—ç¬¦ä¸² //æ’å…¥å•ä¸ªå­—ç¬¦var welocome = "hello";welocome.insert("!", at: welocome.endIndex);print("welocome = \(welocome)");//welocome = hello!//æ’å…¥ä¸€æ®µå­—ç¬¦ä¸²åˆ°æŸä¸ªä½ç½® contentsOf ï¼š "å­—ç¬¦ä¸²".characters å›ºå®šè¯­æ³•welocome.insert(contentsOf: "there".characters, at: welocome.index(before: welocome.endIndex));print("welocome = \(welocome)");//welocome = hello there! åˆ é™¤ è°ƒç”¨ remove(at:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­—ç¬¦ welocome.remove(at: welocome.index(before: welocome.endIndex));print("welocome = \(welocome)");//welocome = hello there// è°ƒç”¨ removeSubrange(_:) æ–¹æ³•å¯ä»¥åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²çš„æŒ‡å®šç´¢å¼•åˆ é™¤ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚let range = welocome.index(welocome.startIndex,offsetBy:6)..&lt;welocome.endIndex;welocome.removeSubrange(range);print("welocome = \(welocome)");// welocome = hello//æŒ‡å®šä½ç½®åˆ é™¤welocome.remove(at: welocome.index(before: welocome.endIndex));print(welocome);//hello æ¯”è¾ƒå­—ç¬¦ä¸² å­—ç¬¦ä¸²/å­—ç¬¦å¯ä»¥ç”¨ç­‰äºŽæ“ä½œç¬¦(==)å’Œä¸ç­‰äºŽæ“ä½œç¬¦(!=) let quotation = "We're a lot alike, you and I."let sameQuotation = "We're a lot alike, you and I."if quotation == sameQuotation&#123; print("ç›¸ç­‰");&#125;// å‰ç¼€ç›¸ç­‰let preString01 = "date";if preString01.hasPrefix("da")&#123; print("preString01 å‰ç¼€æœ‰da");&#125;// åŽç¼€ç›¸ç­‰if preString01.hasSuffix("te")&#123; print("preString01 åŽç¼€æœ‰te");&#125; æ³¨æ„ ä¸èƒ½å°†ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦æ·»åŠ åˆ°ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å­—ç¬¦å˜é‡ä¸Šï¼Œå› ä¸ºå­—ç¬¦å˜é‡åªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦ ç‰¹æ®Šå­—ç¬¦ å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åŒ…å«ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼šè½¬ä¹‰å­—ç¬¦\0(ç©ºå­—ç¬¦)ã€(åæ–œçº¿)ã€\t(æ°´å¹³åˆ¶è¡¨ç¬¦)ã€\n(æ¢è¡Œç¬¦)ã€\r(å›žè½¦ç¬¦)ã€\â€(åŒå¼•å·)ã€\â€™(å•å¼•å·)]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
        <category>String</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-åµŒå¥—ç±»åž‹&ç±»åž‹è½¬æ¢]]></title>
    <url>%2F2017%2F11%2F24%2FSwift%2FGrammar%2F%E5%B5%8C%E5%A5%97%E7%B1%BB%E5%9E%8B%26%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[åµŒå¥—ç±»åž‹(Nested Types) è¿™ä¸ªæ¦‚å¿µå°±æ˜¯æŠŠä¸€ä¸ªç±»ï¼ˆç»“æž„ä½“ã€æžšä¸¾ç±»ï¼‰çš„å®šä¹‰æ”¾åˆ°ä¸€ä¸ªç±»ç±»ï¼ˆç»“æž„ä½“ã€æžšä¸¾ç±»ï¼‰çš„é‡Œé¢ã€‚è¿™ä¸ªåµŒå¥—å¯ä»¥éšä¾¿åµŒå¥—ã€‚å¯ä»¥åœ¨ç»“æž„ä½“é‡Œé¢å®šä¹‰ç±»ï¼Œç±»é‡Œé¢å®šä¹‰æžšä¸¾ç±»ï¼Œæžšä¸¾ç±»é‡Œé¢å®šä¹‰ç»“æž„ä½“ç­‰ç­‰ã€‚éšä¾¿ä¸€ä¸ªæ²¡æ„æ€çš„ä¾‹å­ï¼Œè®¿é—®æ–¹æ³•ä¹Ÿç»™å‡ºæ¥äº†ã€‚ä½¿ç”¨ç‚¹è¯­æ³•å°±å¯ä»¥äº† enum A &#123; struct B &#123; var num = 1 class Q &#123; &#125; class C &#123; var cc = 2 enum AA &#123; case d,e &#125; class CCC &#123; &#125; &#125; &#125; &#125; print(A.B.C.AA.d) //d print(A.B.C().cc) //2 ç±»åž‹åˆ¤æ–­ç¬¦ is ç”¨iså¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå®žä¾‹æ˜¯å¦æ˜¯æŸä¸ªç±»æˆ–æ˜¯æŸä¸ªç±»æ˜¯å­ç±»ã€‚è¿”å›žä¸€ä¸ªBoolå€¼ã€‚ååˆ†ç®€å•ï¼Œçœ‹ä¾‹å­ class Fruit &#123; &#125; class Apple : Fruit&#123; func eatApple() &#123; print("ear apple") &#125; &#125; class Pear: Fruit &#123; func eatPear() &#123; print("eat pear") &#125; &#125; var array = [Fruit(),Apple(),Pear()] for item in array &#123; print(item is Apple) &#125; //æ‰“å° //false //true //false var f = Fruit() var a = Apple() var p = Pear() print(a is Apple) //è­¦å‘Šè¯´ è‚¯å®šè¿”å›ž true print(a is Fruit) //è­¦å‘Šè¯´ è‚¯å®šè¿”å›ž true print(p is Apple) //è­¦å‘Šè¯´ è‚¯å®šè¿”å›ž false print(f is Apple) //æ‰“å°false ç±»åž‹ä¸‹è½¬æ¢ç¬¦as? å’Œ as! ï¼Œä¸‹è½¬æ¢åˆ¤æ–­ç¬¦as è¿™as? as! ä¸¤ä¸ªè¿ç®—ç¬¦å¯ä»¥å°†ä¸€ä¸ªå®žä¾‹å°è¯•è½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªç±»çš„å®žä¾‹ã€‚ä¸€èˆ¬æ˜¯ç”¨åœ¨å°†ä¸€ä¸ªçˆ¶ç±»å˜é‡çš„è½¬æ¢ä¸ºä¸€ä¸ªå­ç±»å˜é‡ã€‚æ¯”å¦‚ä¸‹é¢ä»£ç  var fruit: Fruit = Pear() å…ˆæ¥å¼€å¼€è¿™å¥ä»£ç ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªå˜é‡å£°æ˜Žä¸ºäº†Fruitç±»åž‹ï¼Œä½†æ˜¯èµ‹å€¼çš„æ—¶å€™ç»™çš„å´æ˜¯Fruitçš„å­ç±»Pearã€‚è¿™ä¸ªæ—¶å€™å¹¶ä¸ä¼šæŠ¥é”™ã€‚è¿™ç§ç”¨ä¸€ä¸ªçˆ¶ç±»ç±»åž‹çš„å˜é‡æŒ‡å‘ä¸€ä¸ªå­ç±»çš„åšæ³•ç§°ä¸ºå¤šæ€ã€‚å¤šæ€åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é‡Œé¢æœ‰å¾ˆé‡è¦çš„ä½œç”¨ã€‚è¿™é‡Œä¸å±•å¼€è®²ã€‚å› ä¸ºfruitå˜é‡å£°æ˜Žä¸ºäº†Fruitç±»åž‹ï¼Œå³ä½¿å®ƒå®žé™…å¼•ç”¨çš„å®žä¾‹æ˜¯Pearç±»ï¼Œä½†æ˜¯çŽ°åœ¨è¿˜æ˜¯ä¸èƒ½é€šè¿‡å®ƒæ¥è°ƒç”¨Pearç±»å¼•å…¥çš„å±žæ€§æˆ–æ–¹æ³•ã€‚å°½ç®¡è¿™ä¸ªå®žä¾‹ç¡®å®žæ˜¯æ‹¥æœ‰è¿™äº›å±žæ€§å’Œæ–¹æ³•ã€‚ä¸ºäº†åŽ»è®¿é—®è¿™äº›å­˜åœ¨çš„å±žæ€§å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬å°±è¦é‡‡ç”¨ç±»åž‹ä¸‹è½¬æ¢ï¼Œå°†è¿™ä¸ªfruitçš„å˜é‡è½¬æ¢ä¸ºä¸€ä¸ªpearçš„å˜é‡ã€‚ var pear = fruit as? Pear ä¸Šé¢çš„ä»£ç ä½¿ç”¨as?ï¼Œå°è¯•å°†è¿™ä¸ªfruitè½¬ä¸ºä¸€ä¸ªPearç±»åž‹çš„å˜é‡ã€‚è¿™é‡Œå› ä¸ºfruitå¼•ç”¨çš„å®žä¾‹å°±æ˜¯Pearï¼Œæ‰€ä»¥æ˜¯å¯ä»¥è½¬æ¢æˆåŠŸã€‚æˆåŠŸåŽè¿”å›žäº†ä¸€ä¸ªPearçš„å¯é€‰ç±»åž‹ç»™å˜é‡pearã€‚ä½†æ˜¯å¦‚æžœè½¬æ¢å¤±è´¥ï¼Œè¿”å›žçš„æ˜¯ä¸€ä¸ªnilã€‚æ¯”å¦‚ä½ å°è¯•å°†ä¸€ä¸ªAppleå®žä¾‹è½¬æ¢ä¸ºä¸€ä¸ªPearï¼Œæˆ–è€…å°†ä¸€ä¸ªFruitå®žä¾‹è½¬æ¢ä¸ºå®ƒçš„å­ç±»éƒ½ä¼šå¤±è´¥ã€‚ è¡¥å……ä¸€ç‚¹ï¼Œå¦‚æžœå¯¹ä¸Šé¢çš„fruitå˜é‡ä½¿ç”¨isåˆ¤æ–­æ˜¯å¦æ˜¯Pearç±»ï¼Œè¿”å›žçš„æ˜¯trueã€‚as!å’Œas?çš„åŒºåˆ«å°±æ˜¯å¼ºåˆ¶è§£åŒ…äº†ã€‚å­¦äº†é‚£ä¹ˆå¤šï¼Œåº”è¯¥å¯ä»¥çŒœåˆ°ã€‚æœ€åŽåœ¨ä»‹ç»è¿™ä¸ªæ¯”è¾ƒè¯¡å¼‚çš„asä¹‹å‰ï¼Œçœ‹çœ‹Anyå’ŒAnyObjectè¿™ä¸¤ä¸ªç±»åž‹ã€‚ Anyä»£è¡¨ä»»ä½•ç±»åž‹çš„å®žä¾‹ï¼ŒåŒ…æ‹¬äº†å‡½æ•°ç±»åž‹ã€‚ AnyObjectä»£è¡¨ä»»ä½•ç±»çš„å®žä¾‹ã€‚ çŽ°åœ¨ä»‹ç»asçš„ç”¨æ³•ï¼ŒçŽ°åœ¨åªå‘çŽ°asèƒ½ç”¨åœ¨switchä¸­ï¼Œç”¨æ¥åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»åž‹ func f1() -&gt; Int&#123; return 1 &#125; var b = &#123;var i=0; i++&#125; var array: [Any] = [f1,b,fruit,Fruit(), Apple(), Pear(), Animal(), (2,3), (4,5)] for (index, item) in array.enumerate() &#123; switch item &#123; case let item2 as Apple : print("index\(index) is \(item2)") case is Pear: print("index\(index) is pear") case let (2,y) as (Int, Int) where y &gt; 2: print("index\(index) is tuple y =",y) case is (Int,Int): print("index\(index) is (Int,Int) ",item) case let f as Void-&gt;Void: print("index\(index) is Void-&gt;Void ",item) default: print("index\(index) is default",item) &#125; &#125; //æ‰“å° //index0 is default (Function) //index1 is Void-&gt;Void (Function) //index2 is pear //index3 is default SwiftTest.Fruit //index4 is SwiftTest.Apple //index5 is pear //index6 is default SwiftTest.Animal //index7 is tuple y = 3 //index8 is (Int,Int) (4, 5) ä½ ä¼šå‘çŽ°å…¶å®žï¼Œis å’Œ as çš„æ•ˆæžœæ˜¯ä¸€æ ·çš„ã€‚asæ¯”iså¤šçš„å°±æ˜¯å°†ä¸€ä¸ªtupleå¯ä»¥å†æ¬¡è§£åŒ…å‡ºå…ƒç´ ï¼Œå¹¶ä¸”å†æ¬¡åŒ¹é…å…ƒç´ ï¼ŒåŒæ—¶è¿˜å¯ä»¥åŠ ä¸Šwhereåšåˆ¤æ–­ã€‚æ¯”å¦‚ä¸Šé¢çš„ç¬¬ä¸‰ä¸ªcaseè¯­å¥ã€‚ä¼šåˆ¤æ–­è¿™ä¸ªitemæ˜¯å¦æ˜¯(Int,Inte)ç±»åž‹ï¼Œç„¶åŽè§£åŒ…tupleï¼Œåˆ¤æ–­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä¸º2ï¼Œå¦‚æžœæ˜¯2ï¼Œè¿˜ä¼šåˆ¤æ–­ç¬¬äºŒä¸ªå…ƒç´ æ˜¯å¦å¤§äºŽ2.åªæœ‰è¿™ä¸‰ä¸ªæ¡ä»¶éƒ½ç¬¦åˆæ‰ä¼šåŒ¹é…è¿™ä¸ªcase]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Protocolåè®®]]></title>
    <url>%2F2017%2F11%2F24%2FSwift%2FGrammar%2FProtocol%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[ProtocolPOP é¢å‘åè®®çš„ç¼–ç¨‹ é¢å‘åè®®çš„ç¼–ç¨‹çš„æ ¸å¿ƒæ˜¯æŠ½è±¡ï¼ˆAbstractionï¼‰å’Œç®€åŒ–ï¼ˆSimplicityï¼‰åè®®çš„é«˜çº§ä½¿ç”¨æ˜¯åè®®çš„å»¶å±•åè®®(protocol) + ç»“æž„ä½“(struct) &gt; ç±»(class) é¢å‘å¯¹è±¡ä¸Žé¢å‘åè®®æ¯”è¾ƒ é¢å‘å¯¹è±¡æ˜¯ä¸€ä¸ªå¾ˆå¤è€çš„è½¯ä»¶å¼€å‘æ¨¡å¼ï¼Œé€šè¿‡ç±»æ¥å®žçŽ° é¢å‘åè®®æ˜¯è‹¹æžœåœ¨ swift ä¸­ä¸»æŽ¨çš„ï¼Œé€šè¿‡åè®®å’Œç»“æž„ä½“ï¼Œå¯ä»¥ä»£æ›¿ç±» Swift ä¸­çš„å¾ˆå¤šå¯¹è±¡éƒ½æ”¹æˆäº†ç»“æž„ä½“å’Œåè®® å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½å¯ä»¥è¢«åè®®+ç»“æž„ä½“æ›¿ä»£ï¼Œä½†å¤§å¤šæ•°æ˜¯å¯ä»¥è¢«æ›¿æ¢çš„ é¢å‘åè®®ä½¿ä»£ç æ›´åŠ çµæ´»ï¼Œç±»ä¼¼äºŽç»„ä»¶åŒ–å¼€å‘ï¼Œç¬¦åˆå·¥åŽ‚æ–¹æ³•æ¨¡å¼å®žä¾‹æ¯”è¾ƒï¼šç»™ä¸€ä¸ªç±»æ·»åŠ é¢å¤–çš„æ–¹æ³• é€šè¿‡ç»§æ‰¿ åˆ›å»ºä¸€ä¸ªç»§æ‰¿ç±»çš„å­ç±»ï¼Œåœ¨å­ç±»ä¸­æ·»åŠ æ–¹æ³•ï¼Œä»¥åŽä½¿ç”¨å­ç±»å³å¯èŽ·å–è¿™ä¸ªæ–¹æ³•é€šè¿‡åè®® ä¸ºè¿™ä¸ªæ–¹æ³•å®šä¹‰ä¸€ä¸ªåè®®ï¼Œå“ªä¸ªç±»éœ€è¦å®žçŽ°è¿™ä¸ªæ–¹æ³•ï¼Œåè®®å³å¯ ä½¿ç”¨ç»§æ‰¿çš„ç¼ºç‚¹ é€šè¿‡ç»§æ‰¿æ·»åŠ çš„æ–¹æ³•ï¼Œä¸ä¸€å®šæ¯ä¸ªå­ç±»éƒ½ä¼šä½¿ç”¨ï¼Œä½¿ä»£ç å†—ä½™ æ‹¥æœ‰å¤ªå¤šçš„å­ç±»ï¼Œä½¿ç±»å†—ä½™ å¯¹äºŽçˆ¶ç±»çš„æ–¹æ³•å¤ªè¿‡ä¾èµ–ï¼Œå½“çˆ¶ç±»çš„æ–¹æ³•æ›´æ”¹åŽï¼Œå½±å“å­ç±»çš„é‡è½½æ–¹æ³• åè®® åè®® è§„å®šäº†ç”¨æ¥å®žçŽ°æŸä¸€ç‰¹å®šåŠŸèƒ½æ‰€å¿…é¡»çš„ æ–¹æ³•å’Œ å±žæ€§ã€‚ç”¨äºŽç»Ÿä¸€æ–¹æ³•å’Œå±žæ€§çš„åç§°ï¼Œè€Œä¸å®žçŽ°ä»»ä½•åŠŸèƒ½ä»»æ„èƒ½å¤Ÿæ»¡è¶³åè®®è¦æ±‚çš„ç±»åž‹è¢«ç§°ä¸ºéµå¾ª(conform)è¿™ä¸ªåè®®ã€‚ç±»ï¼Œç»“æž„ä½“ã€æžšä¸¾ç±»åž‹(åè®®çš„éµå®ˆè€…) éƒ½å¯ä»¥éµå¾ªåè®®ï¼Œå¹¶æä¾›å…·ä½“å®žçŽ°æ¥å®Œæˆåè®®å®šä¹‰çš„æ–¹æ³•å’ŒåŠŸèƒ½ åè®®çš„è¯­æ³•æ ¼å¼ åè®®çš„é«˜çº§ä½¿ç”¨æ˜¯åè®®çš„å»¶å±•ä»¥åŠå’Œç»“æž„ä½“é…åˆ ä¸ºè®®æ·»åŠ å±žæ€§, å±žæ€§ä¸ºå¯è¯»æˆ–å¯å†™ protocol SomeProtocol &#123; // åè®®å†…å®¹ var name: String &#123;get set&#125; var age: Int &#123; set get &#125;&#125; å®šä¹‰ä¸€ä¸ªæŽ¥å—åè®®çš„ç»“æž„ä½“ struct SomeModel: SomeProtocol&#123; var name:String = "" var age: Int = 0 var isYue: Bool = false init(with dict:[String:Any])&#123; self.name = (dict["name"]as?String)??"" self.age = (dict["age"]as?Int)??0 self.isYue = (dict["isYue"]as?Bool)??false &#125; &#125; å¯¹åè®®è¿›è¡Œå»¶å±• extension SomeProtocol&#123; mutating func test ()&#123; self.name = "Hello Jianjian !" &#125;&#125; åè®®çš„åè®® protocol oneProtocol: SomeProtocol &#123; var date: Date &#123; set get &#125;&#125; éµå¾ªæŸ(å¤š)ä¸ªåè®® è¦ä½¿ç±»éµå¾ªæŸä¸ªåè®®ï¼Œéœ€è¦åœ¨ç±»åž‹åç§°åŽåŠ ä¸Šåè®®åç§°ï¼Œä¸­é—´ä»¥å†’å·:åˆ†éš”ï¼Œä½œä¸ºç±»åž‹å®šä¹‰çš„ä¸€éƒ¨åˆ†éµå¾ªå¤šä¸ªåè®®æ—¶ï¼Œå„åè®®ä¹‹é—´ç”¨é€—å·,åˆ†éš” struct SomeStructure: FirstProtocol, AnotherProtocol &#123; // ç»“æž„ä½“å†…å®¹&#125; å¦‚æžœç±»åœ¨éµå¾ªåè®®çš„åŒæ—¶æ‹¥æœ‰çˆ¶ç±»ï¼Œåº”è¯¥å°† çˆ¶ç±»å æ”¾åœ¨ åè®®å ä¹‹å‰ï¼Œä»¥é€—å·åˆ†éš” class OneClass: OneSuperClass, OneProtocol, TwoProtocol &#123; // ç±»çš„å†…å®¹&#125; å¯¹å±žæ€§çš„è§„å®š åè®® ç”¨äºŽæŒ‡å®šç‰¹å®šçš„å®žä¾‹å±žæ€§æˆ–ç±»å±žæ€§ åè®®èƒ½å¤Ÿè¦æ±‚å…¶éµå®ˆè€…å¿…é¡»å«æœ‰ä¸€äº›ç‰¹å®šåç§°å’Œç±»åž‹çš„å®žä¾‹å±žæ€§(instance property)æˆ–ç±»å±žæ€§ (type property)ï¼Œä¹Ÿèƒ½å¤Ÿè¦æ±‚å±žæ€§çš„(è®¾ç½®æƒé™)settable å’Œ(è®¿é—®æƒé™)gettableï¼Œè¿˜å¿…é¡»æŒ‡æ˜Žæ˜¯åªè¯»çš„è¿˜æ˜¯å¯è¯»å¯å†™çš„ä½†å®ƒä¸è¦æ±‚å±žæ€§æ˜¯å­˜å‚¨åž‹å±žæ€§(stored property)è¿˜æ˜¯è®¡ç®—åž‹å±žæ€§(calculate property)åè®®ä¸­çš„é€šå¸¸ç”¨varæ¥å£°æ˜Žå˜é‡å±žæ€§ï¼Œåœ¨ç±»åž‹å£°æ˜ŽåŽåŠ ä¸Š{ set get }æ¥è¡¨ç¤ºå±žæ€§æ˜¯å¯è¯»å¯å†™çš„ï¼Œåªè¯»å±žæ€§åˆ™ç”¨{ get }æ¥è¡¨ç¤ºã€‚ protocol SomeProtocol &#123; var age : Int &#123; get set &#125; var money: Int &#123; get &#125;&#125; ç”¨ç±»æ¥å®žçŽ°åè®®æ—¶ï¼Œä½¿ç”¨classå…³é”®å­—æ¥è¡¨ç¤ºè¯¥å±žæ€§ä¸ºç±»æˆå‘˜ç”¨ç»“æž„ä½“æˆ–æžšä¸¾å®žçŽ°åè®®æ—¶ï¼Œåˆ™ä½¿ç”¨staticå…³é”®å­—æ¥è¡¨ç¤º protocol SomeProtocol &#123; class var someTypeProperty: Int &#123; get set &#125;&#125; SomeProtocolåè®®å«æœ‰fullNameå±žæ€§ã€‚å› æ­¤å…¶éµå¾ªè€…å¿…é¡»å«æœ‰ä¸€ä¸ªåä¸ºoneNameï¼Œç±»åž‹ä¸ºStringçš„å¯è¯»å±žæ€§Personç»“æž„ä½“å«æœ‰ä¸€ä¸ªåä¸ºoneNameçš„å­˜å‚¨åž‹å±žæ€§ï¼Œå®Œæ•´çš„éµå¾ªäº†åè®®ã€‚(è‹¥åè®®æœªè¢«å®Œæ•´éµå¾ªï¼Œç¼–è¯‘æ—¶åˆ™ä¼šæŠ¥é”™) protocol SomeProtocol &#123;var oneName: String &#123; get &#125;&#125; struct Person: SomeProtocol&#123; var oneName: String &#125; let john = Person(oneName: â€œChen jianjianâ€) //john. oneName ä¸º â€œChen jianjianâ€ Startshipç±»éµå¾ªäº†SomeProtocolåè®®Starshipç±»å°†oneNameå®žçŽ°ä¸ºå¯è¯»çš„è®¡ç®—åž‹å±žæ€§å®ƒçš„æ¯ä¸€ä¸ªå®žä¾‹éƒ½æœ‰ä¸€ä¸ªåä¸ºnameçš„å¿…å¤‡å±žæ€§å’Œä¸€ä¸ªåä¸ºprefixçš„å¯é€‰å±žæ€§å½“prefixå­˜åœ¨æ—¶ï¼Œå°†prefixæ’å…¥åˆ°nameä¹‹å‰æ¥ä¸ºStarshipæž„å»ºoneName class Starship: SomeProtocol &#123; var prefix: String? var name: String init(name: String, prefix: String? = nil ) &#123; self.anme = name self.prefix = prefix&#125;var oneName: String &#123; return (prefix ? prefix ! + â€ â€ : â€ â€œ) + name&#125;&#125;var ncc1701 = Starship(name: â€œEnterpriseâ€, prefix: â€œUSSâ€)// ncc1701. oneName == â€œUSS Enterpriseâ€ protocol classa &#123; var marks: Int &#123; get set &#125; var result: Bool &#123; get &#125; func attendance() -&gt; String func markssecured() -&gt; String&#125;protocol classb: classa &#123; var present: Bool &#123; get set &#125; var subject: String &#123; get set &#125; var stname: String &#123; get set &#125;&#125;class classc: classb &#123; var marks = 96 let result = true var present = false var subject = "Swift åè®®" var stname = "Protocols" func attendance() -&gt; String &#123; return "The \(stname) has secured 99% attendance" &#125; func markssecured() -&gt; String &#123; return "\(stname) has scored \(marks)" &#125;&#125;let studdet = classc()studdet.stname = "Swift"studdet.marks = 98studdet.markssecured()print(studdet.marks)print(studdet.result)print(studdet.present)print(studdet.subject)print(studdet.stname)ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸º98truefalseSwift åè®®Swift å¯¹ Mutating æ–¹æ³•çš„è§„å®š æœ‰æ—¶éœ€è¦åœ¨æ–¹æ³•ä¸­æ”¹å˜å®ƒçš„å®žä¾‹ã€‚ä¾‹å¦‚ï¼šå€¼ç±»åž‹ï¼ˆç»“æž„ä½“ï¼Œæžšä¸¾ï¼‰çš„å®žä¾‹æ–¹æ³•ä¸­ï¼Œå°†mutatingå…³é”®å­—ä½œä¸ºå‡½æ•°çš„å‰ç¼€ï¼Œå†™åœ¨funcä¹‹å‰ï¼Œè¡¨ç¤ºå¯ä»¥åœ¨è¯¥æ–¹æ³•ä¸­ä¿®æ”¹å®ƒæ‰€å±žçš„å®žä¾‹åŠå…¶å®žä¾‹å±žæ€§çš„å€¼ protocol daysofaweek &#123; mutating func show()&#125;enum days: daysofaweek &#123; case sun, mon, tue, wed, thurs, fri, sat mutating func show() &#123; switch self &#123; case .sun: self = .sun print("Sunday") case .mon: self = .mon print("Monday") case .tue: self = .tue print("Tuesday") case .wed: self = .wed print("Wednesday") case .thurs: self = .thurs print("Wednesday") case .fri: self = .fri print("Wednesday") case .sat: self = .sat print("Saturday") default: print("NO Such Day") &#125; &#125;&#125;var res = days.wedres.show()ç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸ºï¼šWednesday å¯¹æž„é€ å™¨çš„è§„å®š åè®®å¯ä»¥è¦æ±‚å®ƒçš„éµå¾ªè€…å®žçŽ°æŒ‡å®šçš„æž„é€ å™¨ã€‚åƒä¹¦å†™æ™®é€šçš„æž„é€ å™¨é‚£æ ·ï¼Œåœ¨åè®®çš„å®šä¹‰é‡Œå†™ä¸‹æž„é€ å™¨çš„å£°æ˜Žï¼Œä½†ä¸éœ€è¦å†™èŠ±æ‹¬å·å’Œæž„é€ å™¨çš„å®žä½“ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š protocol SomeProtocol &#123; init(someParameter: Int)&#125; å®žä¾‹ protocol tcpprotocol &#123; init(aprot: Int)&#125; åè®®æž„é€ å™¨è§„å®šåœ¨ç±»ä¸­çš„å®žçŽ° ä½ å¯ä»¥åœ¨éµå¾ªè¯¥åè®®çš„ç±»ä¸­å®žçŽ°æž„é€ å™¨ï¼Œå¹¶æŒ‡å®šå…¶ä¸ºç±»çš„æŒ‡å®šæž„é€ å™¨æˆ–è€…ä¾¿åˆ©æž„é€ å™¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½ éƒ½å¿…é¡»ç»™æž„é€ å™¨å®žçŽ°æ ‡ä¸Šâ€requiredâ€ä¿®é¥°ç¬¦ï¼š class SomeClass: SomeProtocol &#123; required init(someParameter: Int) &#123; // æž„é€ å™¨å®žçŽ° &#125;&#125;protocol tcpprotocol &#123; init(aprot: Int)&#125;class tcpClass: tcpprotocol &#123; required init(aprot: Int) &#123; &#125;&#125; æ–½ç”¨requiredä¿®é¥°ç¬¦å¯ä»¥ä¿è¯ï¼šæ‰€æœ‰çš„éµå¾ªè¯¥åè®®çš„å­ç±»ï¼ŒåŒæ ·èƒ½ä¸ºæž„é€ å™¨è§„å®šæä¾›ä¸€ä¸ªæ˜¾å¼çš„å®žçŽ°æˆ–ç»§æ‰¿å®žçŽ°ã€‚å¦‚æžœä¸€ä¸ªå­ç±»é‡å†™äº†çˆ¶ç±»çš„æŒ‡å®šæž„é€ å™¨ï¼Œå¹¶ä¸”è¯¥æž„é€ å™¨éµå¾ªäº†æŸä¸ªåè®®çš„è§„å®šï¼Œé‚£ä¹ˆè¯¥æž„é€ å™¨çš„å®žçŽ°éœ€è¦è¢«åŒæ—¶æ ‡ç¤ºrequiredå’Œoverrideä¿®é¥°ç¬¦ï¼š protocol tcpprotocol &#123; init(no1: Int)&#125;class mainClass &#123; var no1: Int // å±€éƒ¨å˜é‡ init(no1: Int) &#123; self.no1 = no1 // åˆå§‹åŒ– &#125;&#125;class subClass: mainClass, tcpprotocol &#123; var no2: Int init(no1: Int, no2 : Int) &#123; self.no2 = no2 super.init(no1:no1) &#125; // å› ä¸ºéµå¾ªåè®®ï¼Œéœ€è¦åŠ ä¸Š"required"; å› ä¸ºç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œéœ€è¦åŠ ä¸Š"override" required override convenience init(no1: Int) &#123; self.init(no1:no1, no2:0) &#125;&#125;let res = mainClass(no1: 20)let show = subClass(no1: 30, no2: 50)print("res is: \(res.no1)")print("res is: \(show.no1)")print("res is: \(show.no2)")ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸ºï¼šres is: 20res is: 30res is: 50 åè®®ç±»åž‹ å°½ç®¡åè®®æœ¬èº«å¹¶ä¸å®žçŽ°ä»»ä½•åŠŸèƒ½ï¼Œä½†æ˜¯åè®®å¯ä»¥è¢«å½“åšç±»åž‹æ¥ä½¿ç”¨åè®®å¯ä»¥åƒå…¶ä»–æ™®é€šç±»åž‹ä¸€æ ·ä½¿ç”¨ï¼Œä½¿ç”¨åœºæ™¯: ä½œä¸ºå‡½æ•°ã€æ–¹æ³•æˆ–æž„é€ å™¨ä¸­çš„å‚æ•°ç±»åž‹æˆ–è¿”å›žå€¼ç±»åž‹ ä½œä¸ºå¸¸é‡ã€å˜é‡æˆ–å±žæ€§çš„ç±»åž‹ ä½œä¸ºæ•°ç»„ã€å­—å…¸æˆ–å…¶ä»–å®¹å™¨ä¸­çš„å…ƒç´ ç±»åž‹ å®žä¾‹ protocol Generator &#123; associatedtype members func next() -&gt; members?&#125;var items = [10,20,30].makeIterator()while let x = items.next() &#123; print(x)&#125;for lists in [1,2,3].map( &#123;i in i*5&#125;) &#123; print(lists)&#125;print([100,200,300])print([1,2,3].map(&#123;i in i*10&#125;))ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸ºï¼š10203051015[100, 200, 300][10, 20, 30] åœ¨æ‰©å±•ä¸­æ·»åŠ åè®®æˆå‘˜ å¯ä»¥é€šè¿‡æ‰©å±•æ¥æ‰©å……å·²å­˜åœ¨ç±»åž‹( ç±»ï¼Œç»“æž„ä½“ï¼Œæžšä¸¾ç­‰)ã€‚æ‰©å±•å¯ä»¥ä¸ºå·²å­˜åœ¨çš„ç±»åž‹æ·»åŠ å±žæ€§ï¼Œæ–¹æ³•ï¼Œä¸‹æ ‡è„šæœ¬ï¼Œåè®®ç­‰æˆå‘˜ã€‚ protocol AgeClasificationProtocol &#123; var age: Int &#123; get &#125; func agetype() -&gt; String&#125;class Person &#123; let firstname: String let lastname: String var age: Int init(firstname: String, lastname: String) &#123; self.firstname = firstname self.lastname = lastname self.age = 10 &#125;&#125;extension Person : AgeClasificationProtocol &#123; func fullname() -&gt; String &#123; var c: String c = firstname + " " + lastname return c &#125; func agetype() -&gt; String &#123; switch age &#123; case 0...2: return "Baby" case 2...12: return "Child" case 13...19: return "Teenager" case let x where x &gt; 65: return "Elderly" default: return "Normal" &#125; &#125;&#125; åè®®çš„ç»§æ‰¿åè®®èƒ½å¤Ÿç»§æ‰¿ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–åè®®ï¼Œå¯ä»¥åœ¨ç»§æ‰¿çš„åè®®åŸºç¡€ä¸Šå¢žåŠ æ–°çš„å†…å®¹è¦æ±‚ã€‚åè®®çš„ç»§æ‰¿è¯­æ³•ä¸Žç±»çš„ç»§æ‰¿ç›¸ä¼¼ï¼Œå¤šä¸ªè¢«ç»§æ‰¿çš„åè®®é—´ç”¨é€—å·åˆ†éš”ï¼š protocol InheritingProtocol: SomeProtocol, AnotherProtocol &#123; // åè®®å®šä¹‰&#125; å®žä¾‹ protocol Classa &#123; var no1: Int &#123; get set &#125; func calc(sum: Int)&#125;protocol Result &#123; func print(target: Classa)&#125;class Student2: Result &#123; func print(target: Classa) &#123; target.calc(1) &#125;&#125;class Classb: Result &#123; func print(target: Classa) &#123; target.calc(5) &#125;&#125;class Student: Classa &#123; var no1: Int = 10 func calc(sum: Int) &#123; no1 -= sum print("å­¦ç”Ÿå°è¯• \(sum) æ¬¡é€šè¿‡") if no1 &lt;= 0 &#123; print("å­¦ç”Ÿç¼ºå¸­è€ƒè¯•") &#125; &#125;&#125;class Player &#123; var stmark: Result! init(stmark: Result) &#123; self.stmark = stmark &#125; func print(target: Classa) &#123; stmark.print(target) &#125;&#125;var marks = Player(stmark: Student2())var marksec = Student()marks.print(marksec)marks.print(marksec)marks.print(marksec)marks.stmark = Classb()marks.print(marksec)marks.print(marksec)marks.print(marksec)ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸ºï¼šå­¦ç”Ÿå°è¯• 1 æ¬¡é€šè¿‡å­¦ç”Ÿå°è¯• 1 æ¬¡é€šè¿‡å­¦ç”Ÿå°è¯• 1 æ¬¡é€šè¿‡å­¦ç”Ÿå°è¯• 5 æ¬¡é€šè¿‡å­¦ç”Ÿå°è¯• 5 æ¬¡é€šè¿‡å­¦ç”Ÿç¼ºå¸­è€ƒè¯•å­¦ç”Ÿå°è¯• 5 æ¬¡é€šè¿‡å­¦ç”Ÿç¼ºå¸­è€ƒè¯• ç±»ä¸“å±žåè®®ä½ å¯ä»¥åœ¨åè®®çš„ç»§æ‰¿åˆ—è¡¨ä¸­,é€šè¿‡æ·»åŠ classå…³é”®å­—,é™åˆ¶åè®®åªèƒ½é€‚é…åˆ°ç±»ï¼ˆclassï¼‰ç±»åž‹ã€‚è¯¥classå…³é”®å­—å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå‡ºçŽ°åœ¨åè®®çš„ç»§æ‰¿åˆ—è¡¨ä¸­ï¼Œå…¶åŽï¼Œæ‰æ˜¯å…¶ä»–ç»§æ‰¿åè®®ã€‚æ ¼å¼å¦‚ä¸‹ï¼š protocol SomeClassOnlyProtocol: class, SomeInheritedProtocol &#123; // åè®®å®šä¹‰&#125; å®žä¾‹ protocol TcpProtocol &#123; init(no1: Int)&#125;class MainClass &#123; var no1: Int // å±€éƒ¨å˜é‡ init(no1: Int) &#123; self.no1 = no1 // åˆå§‹åŒ– &#125;&#125;class SubClass: MainClass, TcpProtocol &#123; var no2: Int init(no1: Int, no2 : Int) &#123; self.no2 = no2 super.init(no1:no1) &#125; // å› ä¸ºéµå¾ªåè®®ï¼Œéœ€è¦åŠ ä¸Š"required"; å› ä¸ºç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œéœ€è¦åŠ ä¸Š"override" required override convenience init(no1: Int) &#123; self.init(no1:no1, no2:0) &#125;&#125;let res = MainClass(no1: 20)let show = SubClass(no1: 30, no2: 50)print("res is: \(res.no1)")print("res is: \(show.no1)")print("res is: \(show.no2)")ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸ºï¼šres is: 20res is: 30res is: 50 ä¹ã€åè®®åˆæˆSwift æ”¯æŒåˆæˆå¤šä¸ªåè®®ï¼Œè¿™åœ¨æˆ‘ä»¬éœ€è¦åŒæ—¶éµå¾ªå¤šä¸ªåè®®æ—¶éžå¸¸æœ‰ç”¨ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š protocol Stname &#123; var name: String &#123; get &#125;&#125;protocol Stage &#123; var age: Int &#123; get &#125;&#125;struct Person: Stname, Stage &#123; var name: String var age: Int&#125;func show(celebrator: Stname &amp; Stage) &#123; print(&quot;\(celebrator.name) is \(celebrator.age) years old&quot;)&#125;let studname = Person(name: &quot;Priya&quot;, age: 21)print(studname)let stud = Person(name: &quot;Rehan&quot;, age: 29)print(stud)let student = Person(name: &quot;Roshan&quot;, age: 19)print(student)ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸ºï¼šPerson(name: &quot;Priya&quot;, age: 21)Person(name: &quot;Rehan&quot;, age: 29)Person(name: &quot;Roshan&quot;, age: 19) æ£€éªŒåè®®çš„ä¸€è‡´æ€§ ä½¿ç”¨iså’Œasæ“ä½œç¬¦æ¥æ£€æŸ¥æ˜¯å¦éµå¾ªæŸä¸€åè®®æˆ–å¼ºåˆ¶è½¬åŒ–ä¸ºæŸä¸€ç±»åž‹ã€‚ isæ“ä½œç¬¦ç”¨æ¥æ£€æŸ¥å®žä¾‹æ˜¯å¦éµå¾ªäº†æŸä¸ªåè®®ã€‚ as?è¿”å›žä¸€ä¸ªå¯é€‰å€¼ï¼Œå½“å®žä¾‹éµå¾ªåè®®æ—¶ï¼Œè¿”å›žè¯¥åè®®ç±»åž‹;å¦åˆ™è¿”å›žnilã€‚ asç”¨ä»¥å¼ºåˆ¶å‘ä¸‹è½¬åž‹ï¼Œå¦‚æžœå¼ºè½¬å¤±è´¥ï¼Œä¼šå¼•èµ·è¿è¡Œæ—¶é”™è¯¯ã€‚ å®žä¾‹ ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ª HasArea çš„åè®®ï¼Œè¦æ±‚æœ‰ä¸€ä¸ªDoubleç±»åž‹å¯è¯»çš„ areaï¼š protocol HasArea &#123; var area: Double &#123; get &#125;&#125;// å®šä¹‰äº†Circleç±»ï¼Œéƒ½éµå¾ªäº†HasAreaåè®®class Circle: HasArea &#123; let pi = 3.1415927 var radius: Double var area: Double &#123; return pi * radius * radius &#125; init(radius: Double) &#123; self.radius = radius &#125;&#125;// å®šä¹‰äº†Countryç±»ï¼Œéƒ½éµå¾ªäº†HasAreaåè®®class Country: HasArea &#123; var area: Double init(area: Double) &#123; self.area = area &#125;&#125;// Animalæ˜¯ä¸€ä¸ªæ²¡æœ‰å®žçŽ°HasAreaåè®®çš„ç±»class Animal &#123; var legs: Int init(legs: Int) &#123; self.legs = legs &#125;&#125;let objects: [AnyObject] = [ Circle(radius: 2.0), Country(area: 243_610), Animal(legs: 4)]for object in objects &#123; // å¯¹è¿­ä»£å‡ºçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ£€æŸ¥ï¼Œçœ‹å®ƒæ˜¯å¦éµå¾ªäº†HasAreaåè®® if let objectWithArea = object as? HasArea &#123; print("é¢ç§¯ä¸º \(objectWithArea.area)") &#125; else &#123; print("æ²¡æœ‰é¢ç§¯") &#125;&#125;ä»¥ä¸Šç¨‹åºæ‰§è¡Œè¾“å‡ºç»“æžœä¸ºï¼šé¢ç§¯ä¸º 12.5663708é¢ç§¯ä¸º 243610.0æ²¡æœ‰é¢ç§¯ Demo]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Document-Develpeæ–‡æ¡£]]></title>
    <url>%2F2017%2F11%2F23%2F1%2F</url>
    <content type="text"><![CDATA[swift4è‹¹æžœå¼€å‘è€…ä¸­å¿ƒ swift è¯­æ³•åŸºç¡€ Swiftå­¦ä¹  Swiftéƒ¨åˆ†èµ„æ–™ ç¬¬ä¸‰æ–¹ ç¬¬ä¸‰æ–¹02 è¿™ä¸ªäººåšå®¢æ•´ç†çš„å¾ˆå¥½ swiftæ¡†æž¶å¤§å…¨ swiftå¼€å‘åšå®¢å¾ˆå¥½æ»´ lib GitHubä¸ŠSwiftå¼€æºé¡¹ç›® RxSwiftä¸€ç¯‡ä¸é”™çš„æ–‡ç«  swif.ggé‡Œ å°é’é‚£ä¸ªç‰›é€¼è´§çš„ä¸€äº›å­¦ä¹ RxSwiftèµ„æ–™]]></content>
      <categories>
        <category>Swift</category>
        <category>Document</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Lib-YYKit-YYmodel]]></title>
    <url>%2F2017%2F11%2F23%2FOC%2FLib%2FOC-Lib-YYKit-YYmodel%2F</url>
    <content type="text"></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>YYKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Tool-FastLaneè‡ªåŠ¨åŒ–å‘å¸ƒå·¥å…·+ä¸Šä¼ Bugly]]></title>
    <url>%2F2017%2F11%2F23%2FOC%2FGrammar%2FiOS-Tool-FastLane%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8F%91%E5%B8%83%E5%B7%A5%E5%85%B7%2B%E4%B8%8A%E4%BC%A0Bugly%2F</url>
    <content type="text"><![CDATA[æ‰“åŒ…çš„æµç¨‹ ä¿®æ”¹æµ‹è¯•ç‰ˆæœ¬å· ä¿®æ”¹Buildç‰ˆæœ¬å· æ‰§è¡ŒArchive é€‰æ‹©Adhocå¯¼å‡ºIPAå®‰è£…åŒ…æ–‡ä»¶ ä¸Šä¼ Buglyæµ‹è¯•å¹³å° åˆ†äº«æµ‹è¯•é“¾æŽ¥äºŒç»´ç FastlaneFastlaneæœ¬èº«åŒ…å«ä¸¤å¤§æ¨¡å—ï¼Œå†…æ ¸éƒ¨åˆ†+ActionActionActionæ˜¯Fastlaneè‡ªåŠ¨åŒ–æµç¨‹ä¸­çš„æœ€å°æ‰§è¡Œå•å…ƒï¼Œç›´è§‚ä¸Šæ¥è®²å°±æ˜¯Fastfileè„šæœ¬ä¸­çš„ä¸€ä¸ªä¸ªå‘½ä»¤ï¼Œæ¯”å¦‚ï¼šgit_pullï¼Œdeliverï¼Œpod_installç­‰ç­‰ï¼Œè€Œè¿™äº›å‘½ä»¤èƒŒåŽéƒ½å¯¹åº”å…¶å®žæ˜¯ä¸€ä¸ªç”¨Rubyç¼–å†™çš„è„šæœ¬ Fastlane æ˜¯ä¸€å¥—ç”¨ Ruby ç¼–å†™çš„ iOS å‘½ä»¤è¡Œå·¥å…·é›†ï¼ˆåŽæ¥ä¹Ÿæ”¯æŒäº† Androidï¼‰ï¼Œä¸»è¦ç»„ä»¶åŒ…æ‹¬ï¼š match / cert / sigh ååŠ©ç®¡ç†ä»£ç ç­¾å pem è‡ªåŠ¨ç”Ÿæˆ APNs è¯ä¹¦ scan è‡ªåŠ¨åŒ–æµ‹è¯• gym è‡ªåŠ¨åŒ–ç¼–è¯‘å¹¶æ‰“åŒ…ç”Ÿæˆç­¾åçš„ .ipa æ–‡ä»¶ snapshot / frameit ååŠ©å¤„ç† iOS å±å¹•å¿«ç…§ pilot ä¸Šä¼ å’Œç®¡ç† TestFlight deliver å°†åº”ç”¨åŠå…¶å®ƒä¿¡æ¯ä¸Šä¼ åˆ° App Store è€Œæ­£æ˜¯è¿™äº›é¢—ç²’åº¦æžå°çš„Actionï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚ç»„åˆæˆä¸€ä¸ªè‡ªåŠ¨åŒ–çš„é“¾æ¡ å®‰è£… é¦–å…ˆç¡®ä¿Xcodeå‘½ä»¤è¡Œå·¥å…·æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ $ xcode-select --install å®‰è£…Fastlane: $ sudo gem install fastlane -NV æ‰¾åˆ°å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œ $ fastlane init åœ¨æ‰§è¡Œâ€œYour Apple IDâ€ è¿™ä¸€æ­¥è¾“å…¥è‹¹æžœå¼€å‘è€…è´¦å·ï¼Œfastlane ä¼šè‡ªåŠ¨èŽ·å–å·¥ç¨‹æ–‡ä»¶åï¼Œç›®å½•ç­‰å…¶ä»–æ•°æ®ã€‚è¿™ä¸€æ­¥â€œPlease confirm the above valuesâ€ï¼Œç¡®è®¤ä¿¡æ¯ï¼Œæ²¡é—®é¢˜åˆ™è¾“å…¥ yã€‚ç„¶åŽï¼Œfastlane ä¼šè¿›è¡Œä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ“ä½œï¼ŒåŒ…æ‹¬ä¸‹è½½ App Store ä¸Šçš„å…ƒæ•°æ®å’Œæˆªå±æ–‡ä»¶ã€‚ç­‰å¾…åˆå§‹åŒ–å®Œæˆä¹‹åŽï¼Œå·¥ç¨‹ç›®å½•ä¸‹å°±å¤šäº†ä¸€ä¸ª fastlaneç›®å½•ï¼š $ cd fastlane &amp;&amp; lsAppfile Fastfile metadata report.xmlDeliverfile README.md screenshots æ–‡ä»¶ç›®å½• metadataç›®å½•ä¸‹å­˜æ”¾æ•´ä¸ªå…ƒæ•°æ®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å…³é”®è¯ã€ç‰ˆæœ¬æ›´æ–°æ—¥å¿—ã€å›¾æ ‡ç­‰. screenshotsç›®å½•ä¸‹å­˜æ”¾åº”ç”¨æˆªå›¾ Appfileæ–‡ä»¶è®°å½•Appçš„ bundle IDã€Apple IDã€Team IDä¸‰ç§ä¿¡æ¯. Fastfileè„šæœ¬çš„æ ¸å¿ƒæ‰§è¡Œæ–‡ä»¶.æœ‰å‡ ä¸ªé»˜è®¤çš„é€‰é¡¹ï¼Œå¯ç›´æŽ¥ä½¿ç”¨. reportæ–‡ä»¶æ—¶æ¯æ¬¡æ‰§è¡Œfastlaneæ—¶ç”ŸæˆæŠ¥å‘Š å®‰è£…fastlaneæˆåŠŸåŽï¼Œé¦–å…ˆæ‹†è§£æˆ‘ä»¬éœ€è¦è‡ªåŠ¨åŒ–çš„ä¸¤ä¸ªæµç¨‹: è‡ªåŠ¨æ‰“åŒ…æˆAdhocçš„å®‰è£…åŒ…ipaæ–‡ä»¶ é€šè¿‡fastlaneè‡ªåŠ¨ä¸Šä¼ åˆ°bugly è‡ªåŠ¨åŒ–æ‰“åŒ… è‡ªåŠ¨åŒ–æ‰“åŒ…ä½¿ç”¨æœ€å¤šå°±æ˜¯Fastlaneä¸­gymè¿™ä¸ªAction, è½¬ä¸ºæ‰“åŒ…è€Œç”Ÿ, å®‰è£…gymè¿™ä¸ªç»„ä»¶: $ sudo gem install gym cdé¡¹ç›®æ ¹ç›®å½•, åˆ›å»ºè‡ªåŠ¨æ‰“åŒ…è„šæœ¬: $ vim gym.sh è¾“å…¥è„šæœ¬å†…å®¹: #!/bin/bash#è®¡æ—¶SECONDS=0#å‡è®¾è„šæœ¬æ”¾ç½®åœ¨ä¸Žé¡¹ç›®ç›¸åŒçš„è·¯å¾„ä¸‹project_path=$(pwd)#å–å½“å‰æ—¶é—´å­—ç¬¦ä¸²æ·»åŠ åˆ°æ–‡ä»¶ç»“å°¾now=$(date +"%Y_%m_%d_%H_%M_%S")#æŒ‡å®šé¡¹ç›®çš„schemeåç§°scheme="Xitu"#æŒ‡å®šè¦æ‰“åŒ…çš„é…ç½®åconfiguration="Adhoc"#æŒ‡å®šæ‰“åŒ…æ‰€ä½¿ç”¨çš„è¾“å‡ºæ–¹å¼ï¼Œç›®å‰æ”¯æŒapp-store, package, ad-hoc, enterprise, development, å’Œdeveloper-idï¼Œå³xcodebuildçš„methodå‚æ•°export_method='ad-hoc'#æŒ‡å®šé¡¹ç›®åœ°å€workspace_path="$project_path/Xitu.xcworkspace"#æŒ‡å®šè¾“å‡ºè·¯å¾„output_path="project_path/APP"#æŒ‡å®šè¾“å‡ºå½’æ¡£æ–‡ä»¶åœ°å€archive_path="$output_path/Xitu$&#123;now&#125;.xcarchive"#æŒ‡å®šè¾“å‡ºipaåœ°å€ipa_path="$output_path/Xitu$&#123;now&#125;.ipa"#æŒ‡å®šè¾“å‡ºipaåç§°ipa_name="Xitu$&#123;now&#125;.ipa"#èŽ·å–æ‰§è¡Œå‘½ä»¤æ—¶çš„commit messagecommit_msg="$1"#è¾“å‡ºè®¾å®šçš„å˜é‡å€¼echo "===workspace path: $&#123;workspace_path&#125;==="echo "===archive path: $&#123;archive_path&#125;==="echo "===ipa path: $&#123;ipa_path&#125;==="echo "===export method: $&#123;export_method&#125;==="echo "===commit msg: $1==="#å…ˆæ¸…ç©ºå‰ä¸€æ¬¡buildgym --workspace $&#123;workspace_path&#125; --scheme $&#123;scheme&#125; --clean --configuration $&#123;configuration&#125; --archive_path $&#123;archive_path&#125; --export_method $&#123;export_method&#125; --output_directory $&#123;output_path&#125; --output_name $&#123;ipa_name&#125;#è¾“å‡ºæ€»ç”¨æ—¶echo "===Finished. Total time: $&#123;SECONDS&#125;s===" æŠŠå¦‚ä¸Šè„šæœ¬ä¸­Xituæ”¹æˆä½ çš„é¡¹ç›®åç§°å³å¯. ä¸ºè„šæœ¬æ‰§è¡Œæå‡æƒé™ $ chmod +x gym.sh æ‰§è¡Œä¸€ä¸‹è„šæœ¬çœ‹ä¸€ä¸‹æ‰“åŒ…æ•ˆæžœ: $ ./gym.sh ç»è¿‡572sï¼ŒAdhocç‰ˆæœ¬çš„ipaæ–‡ä»¶æ‰“åŒ…æˆåŠŸï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰¾åˆ°Appç›®å½•ï¼š =========================================== #ä¸Šä¼ Bugly fastlaneä¸­å®šä¹‰action$ fastlane new_action è¿™æ—¶å‘½ä»¤è¡Œä¼šè¦æ±‚ä½ è¾“å…¥è‡ªå®šä¹‰actionåå­—ï¼Œç›´æŽ¥ä»¥buglyä¸Šä¼ æ–‡ä»¶å‘½å $ upload_app_to_bugly wei wan]]></content>
      <categories>
        <category>iOS</category>
        <category>Tool</category>
        <category>FastLane</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Blog-é…ç½®]]></title>
    <url>%2F2017%2F11%2F23%2FBlog%2FBlog-%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[åšå®¢é…ç½®01åšå®¢é…ç½®02 RxSwift]]></content>
      <categories>
        <category>Blog</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Code-ä¼˜åŒ–é¡¹ç›®]]></title>
    <url>%2F2017%2F11%2F23%2FOC%2FCode%2FOC-Code-%E4%BC%98%E5%8C%96%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[ä¼˜åŒ–é¡¹ç›® ç»“æž„ä¸Žæž¶æž„1.1 ç»“æž„ è¿™é‡Œè¯´çš„ç»“æž„å¤§æ¦‚æœ‰ä¸¤ç‚¹ï¼š1.æ–‡ä»¶ç›®å½•åˆ†ç±» 2.ç¬¬ä¸‰æ–¹åº“ç®¡ç†1.1.1 æ–‡ä»¶ç›®å½•åˆ†ç±» ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæœ€å¥½å°†Xcodeä¸­çš„é¡¹ç›®å±•ç¤ºç›®å½•ä¸Žå®žé™…çš„å­˜å‚¨ç›®å½•ä¿æŒä¸€è‡´æ­¤å¤–ï¼Œä¸€èˆ¬æŒ‰ä¸šåŠ¡æ¨¡å—åˆ†ç±»,ä¸€çº§ç›®å½•å¯ä»¥æŒ‰ç…§MVCæ ¼å¼ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä¸šåŠ¡æ¨¡å—åˆ’åˆ†ç”¨æœ€æ™®éçš„Model View Controlleræž¶æž„ä¸¾ä¾‹]]></content>
      <categories>
        <category>OC</category>
        <category>Code</category>
      </categories>
      <tags>
        <tag>OC</tag>
        <tag>Code</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-Bugç®¡ç†å·¥å…·]]></title>
    <url>%2F2017%2F11%2F22%2FOC%2FFunc%2FiOS-Func-Bug%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[#åŠŸèƒ½ éžCrash Bug åœ¨Appå†…å¯æˆªå›¾æ·»åŠ æè¿°å¹¶å‘é€ Crash Bug åœ¨Appç¬¬äºŒæ¬¡å¯åŠ¨æ—¶æå–Crash logæ·»åŠ æè¿°å¹¶å‘é€ å®žçŽ°è§£é‡Šåˆ†æž bug éžCrashçš„Bugï¼šå­—ä½“ä¸å¯¹ã€é¢œè‰²ä¸å¯¹ã€æ•°æ®ä¸å¯¹ã€å¸ƒå±€ä¸å¯¹ Crash Bugï¼šç³»ç»ŸCrashã€å¤„ç†signalåœºæ™¯äº¤äº’ åœºæ™¯äº¤äº’ï¼šå‘çŽ°éžCrash Bugæ—¶å€™æ‘‡ä¸€æ‘‡æ‰‹æœºï¼Œå¼¹å‡ºé‚®ä»¶ï¼Œå›¾ç‰‡å¸¦å…¥é‚®ä»¶ï¼Œç‚¹å‡»å‘é€å³å¯ã€‚æœ‰Crash Bugçš„æ—¶å€™ç¬¬äºŒæ¬¡å¯åŠ¨Appï¼Œå¼¹å‡ºé‚®ä»¶ï¼ŒCrash logå¸¦å…¥é‚®ä»¶ï¼Œç‚¹å‡»å‘é€å³å¯ ä½¿ç”¨ éœ€è¦ç”¨åˆ°NSSetUncaughtExceptionHandlerï¼ŒMFMailComposeViewControllerï¼Œæ²™ç›’ï¼ŒNSFileManagerå®žçŽ°æˆªå›¾çš„åŠŸèƒ½ï¼Œè€ƒè™‘åˆ°å¹¶ä¸æ˜¯æ‰€æœ‰çš„é¡µé¢éƒ½éœ€è¦ä½¿ç”¨æ‰€ä»¥å†™åœ¨äº†åˆ†ç±»é‡Œã€‚éœ€è¦ç”¨çš„æ—¶å€™ç›´æŽ¥å¼•å…¥å¤´æ–‡ä»¶å³å¯è¿™ä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«åœ¨æ‘‡ä¸€æ‘‡çš„æ—¶å€™å›žè°ƒç”¨ï¼Œå¼€å§‹ï¼Œéœ€è¦ï¼Œç»“æŸã€‚ä»–ä»¬çš„çˆ¶ç±»æ˜¯UIResponsderåœ¨UIKitä¸­ -(void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event&#123;&#125;-(void)motionCancelled:(UIEventSubtype)motion withEvent:(UIEvent *)event&#123;&#125;-(void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event&#123; [self screenShot];&#125;-(void)screenShot&#123; UIWindow *screen = [[UIApplication sharedApplication] keyWindow]; UIGraphicsBeginImageContext(screen.frame.size); [screen.layer renderInContext:UIGraphicsGetCurrentContext()]; UIImage *image = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsGetCurrentContext(); NSData *screenData = UIImagePNGRepresentation(image); [screenData writeToFile:[NSHomeDirectory() stringByAppendingPathComponent:@"Library/Caches"] atomically:YES]; &#125; å‘é€é‚®ä»¶çš„åŠŸèƒ½ å‘é€é‚®ä»¶çš„åŠŸèƒ½ï¼Œä¹Ÿå†™åœ¨äº†åˆ†ç±»é‡Œé¢ï¼Œéœ€è¦ç”¨çš„æ—¶å€™å¼•å…¥å³å¯ @interface UIViewController (send)&lt;MFMailComposeViewControllerDelegate&gt;//å‘é€é‚®ä»¶çš„æ–¹æ³•ï¼Œä¼ å…¥æ ‡é¢˜ï¼Œæè¿°ä¿¡æ¯ï¼Œdata, æŽ¥æ”¶äºº-(void)sendMail:(MFMailComposeViewController*)mf andSubject:(NSString*)subject andMessageBody:(NSString*)message andData:(NSData*)data andRecipients:(NSArray*)recipients&#123; if([MFMailComposeViewController canSendMail])&#123; mf.mailComposeDelegate = self; [mf setSubject:subject]; [mf setToRecipients:recipients]; [mf addAttachmentData:data mimeType:@"image/jpeg" fileName:@"error"]; [mf setMessageBody:message isHTML:YES]; [self presentViewController:mf animated:YES completion:nil]; &#125;else&#123; [self alertView:@"ä¸èƒ½è°ƒç”¨é‚®ç®±" andDesc:@"è¯·å°è¯•ä¸‹è½½AppåŽŸç”Ÿé‚®ç®±ï¼Œå¹¶é…ç½®"]; &#125;&#125; MFMailComposeViewControllerDelegateçš„ä»£ç†æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å†™ä¸€äº›å›žè°ƒ-(void)mailComposeController:(MFMailComposeViewController *)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError *)error&#123; switch (result) &#123; case MFMailComposeResultSent: [self alertView:@"å‘é€æˆåŠŸ" andDesc:nil]; self.success(); break; case MFMailComposeResultSaved: [self alertView:@"ä¿å­˜æˆåŠŸ" andDesc:nil]; break; case MFMailComposeResultFailed: self.faild(); [self alertView:error.domain andDesc:[NSString stringWithFormat:@"%@",error.userInfo]]; break; case MFMailComposeResultCancelled: [self alertView:@"å–æ¶ˆå‘é€" andDesc:nil]; break; default: [self alertView:@"ä¸ºä»€ä¹ˆä¸å‘é€" andDesc:nil]; break; &#125; [self dismissViewControllerAnimated:YES completion:nil];&#125; å¼‚å¸¸æ•èŽ·è¿™ä¸¤ä¸ªä¸ºå‡½æ•°æ–¹æ³•ï¼Œå¯¼å…¥ç±»åï¼Œç›´æŽ¥å¯è°ƒç”¨ä¸ç”¨åˆå§‹åŒ–void CrashExceptionHandler(void)&#123; NSSetUncaughtExceptionHandler(&amp;ExceptionLog);&#125;void ExceptionLog(NSException *exception)&#123; NSDate *date_current = [NSDate date]; NSDictionary *dictInfo = [[NSBundle mainBundle]infoDictionary]; NSString *name_App = [dictInfo objectForKey:@"CFBundleDisplayName"]; NSString *verson_App = [dictInfo objectForKey:@"CFBundleShortVersionString"]; NSString *build_App = [dictInfo objectForKey:@"CFBundleVersion"]; NSArray *ecp = exception.callStackSymbols; NSString *reason = [exception reason]; NSString *name = [exception name]; NSString *exceptionInfo = [NSString stringWithFormat: @"\n\n ******************************å¼‚å¸¸æ—¥å¿—****************************** \næ—¶é—´:%@\nAppåç§°:%@\nAppç‰ˆæœ¬:%@\nBuildç‰ˆæœ¬:%@\nå¼‚å¸¸åç§°:%@\nå¼‚å¸¸åŽŸå› :%@\nå †æ ˆä¿¡æ¯:%@",date_current,name_App,verson_App,build_App,name,reason,ecp]; [CrashHandler saveLog:exceptionInfo andDate:date_current];#ifdef DEBUG NSLog(@"%@",exceptionInfo);#else#endif&#125;@implementation CrashHandler+(void)saveLog:(NSString *)crashLog andDate:(NSDate *)date&#123; NSString *path = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES)objectAtIndex:0] stringByAppendingString:@"/Crash"]; if(![[NSFileManager defaultManager]fileExistsAtPath:path]) &#123; [[NSFileManager defaultManager]createDirectoryAtPath:path withIntermediateDirectories:YES attributes:nil error:nil]; &#125; NSString *logPath = [path stringByAppendingFormat:@"/%@.log",date]; [crashLog writeToFile:logPath atomically:YES encoding:NSUTF8StringEncoding error:nil];&#125;@end æ£€æµ‹Crash log åŠŸèƒ½åœ¨Appæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢åŽ»è°ƒç”¨å°±å¥½-(void)crashLog { NSString *path = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES)objectAtIndex:0] stringByAppendingString:@"/Crash"]; NSFileManager *mf = [NSFileManager defaultManager]; if(![mf fileExistsAtPath:path]) { return; } NSArray *array = [mf contentsOfDirectoryAtPath:path error:nil]; } Bugç®¡ç†å·¥å…·]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Crashæ—¥å¿—]]></title>
    <url>%2F2017%2F11%2F22%2FOC%2FCode%2FOC-Code-Crash%E6%97%A5%E5%BF%97%2F</url>
    <content type="text"><![CDATA[èŽ·å¾—crashæ—¥å¿—äº§ç”Ÿ/ä¿å­˜ ç¨‹åºå´©æºƒæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä»½crashæ—¥å¿—ä¿å­˜åœ¨è®¾å¤‡ä¸Šã€‚ è¿™ä»½crashæ—¥å¿—è®°å½•ç€åº”ç”¨ç¨‹åºå´©æºƒæ—¶çš„ä¿¡æ¯ï¼ŒåŒ…å«æ¯ä¸ªæ‰§è¡Œçº¿ç¨‹çš„æ ˆè°ƒç”¨ä¿¡æ¯ï¼ˆä½Žå†…å­˜é—ªé€€æ—¥å¿—ä¾‹å¤–ï¼‰ï¼Œå¯¹å®šä½é—®é¢˜å¾ˆæœ‰å¸®åŠ© è¿žæŽ¥è®¾å¤‡èŽ·å– å¯ä»¥è¿žæŽ¥è®¾å¤‡ï¼Œæ‰“å¼€Xcode - Window - Organizerï¼Œ åœ¨å·¦ä¾§é¢æ¿ä¸­é€‰æ‹©Device Logsï¼ˆå¯ä»¥é€‰æ‹©å…·ä½“è®¾å¤‡çš„Device Logsæˆ–è€…Libraryä¸‹æ‰€æœ‰è®¾å¤‡çš„Device Logsï¼‰ ç„¶åŽæ ¹æ®æ—¶é—´æŽ’åºæŸ¥çœ‹è®¾å¤‡ä¸Šçš„crashæ—¥å¿— å·²å‘å¸ƒappé€šè¿‡iTunes ConnectèŽ·å– å¯ä»¥é€šè¿‡iTunes Connectï¼ˆManage Your Applications - View Details - Crash Reportsï¼‰èŽ·å–ç”¨æˆ·çš„crashæ—¥å¿— ä¸è¿‡è¿™å¹¶ä¸æ˜¯100%æœ‰æ•ˆçš„ï¼Œè€Œä¸”å¤§å¤šæ•°å¼€å‘è€…å¹¶ä¸ä¾èµ–äºŽæ­¤ï¼Œå› ä¸ºè¿™éœ€è¦ç”¨æˆ·è®¾å¤‡åŒæ„ä¸Šä¼ ç›¸å…³ä¿¡æ¯ï¼Œè¯¦æƒ…å¯å‚è§iOS: Providing Apple with diagnostics and usage informationæ‘˜è¦ æŽ¥å…¥çŽ°æœ‰çš„crashæ”¶é›†å·¥å…·èŽ·å–é€šå¸¸æŽ¥å…¥çŽ°æœ‰çš„crashæ”¶é›†å·¥å…·ï¼Œæˆ–è€…è‡ªå·±ç¼–å†™ä¸€ä¸ªè¿›è¡Œè‡ªåŠ¨åŒ–æ”¶é›†ã€è§£æžå’Œç»Ÿè®¡æ±‡æ€» è§£æžcrashæ—¥å¿—ç¬¦å·åŒ–è§£æž å½“èŽ·å¾—ä¸€ä»½crashæ—¥å¿—æ—¶ï¼Œéœ€è¦å°†åˆå§‹å±•ç¤ºçš„åå…­è¿›åˆ¶åœ°å€ç­‰åŽŸå§‹ä¿¡æ¯æ˜ å°„ä¸ºæºä»£ç çº§åˆ«çš„æ–¹æ³•åç§°å’Œä»£ç è¡Œæ•°ï¼Œä½¿å…¶å¯¹å¼€å‘äººå‘˜å¯è¯»è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºç¬¦å·åŒ–è§£æžã€‚è¦æˆåŠŸåœ°ç¬¦å·åŒ–è§£æžä¸€ä»½crashæ—¥å¿—ï¼Œæˆ‘ä»¬éœ€è¦æœ‰å¯¹åº”çš„åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ä»¥åŠç¬¦å·ï¼ˆ.dSYMï¼‰æ–‡ä»¶ -å¦‚æžœå¤„äºŽå¼€å‘è°ƒè¯•é˜¶æ®µï¼Œé€šå¸¸Xcodeéƒ½èƒ½åŒ¹é…åˆ°crashæ—¥å¿—å¯¹åº”çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œç¬¦å·æ–‡ä»¶ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¸®æˆ‘ä»¬è‡ªåŠ¨è§£æžã€‚ å¦‚æžœå¤„äºŽæµ‹è¯•é˜¶æ®µï¼Œæµ‹è¯•äººå‘˜å·²ç»å®‰è£…äº†ä¸åŒçš„ç‰ˆæœ¬ï¼ˆæ¯”å¦‚alphaã€betaç‰ˆæœ¬ï¼‰ï¼Œé‚£ä¹ˆéœ€è¦ä¿å­˜å¥½å¯¹åº”ç‰ˆæœ¬çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œç¬¦å·æ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨åº”ç”¨ç¨‹åºå´©æºƒæ—¶å¯¹crashæ—¥å¿—è¿›è¡Œè§£æžã€‚å¯¹äºŽè¿™ç§åœºæ™¯ä¸‹äº§ç”Ÿçš„crashæ—¥å¿—ï¼Œåªéœ€è¦å°†.crashæ–‡ä»¶ã€.appæ–‡ä»¶å’Œ.dSYMæ–‡ä»¶ä¸‰è€…æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œç„¶åŽå°†.crashæ–‡ä»¶æ‹–æ”¾åˆ°Xcode - Window - Organizerä¸­å·¦ä¾§é¢æ¿Libraryä¸‹çš„Device Logsä¸­ï¼Œå³å¯è¿›è¡Œè§£æžã€‚ å¦‚æžœè¦æäº¤å‘å¸ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šå¸¸ä¼šå…ˆæ‰§è¡ŒCleanï¼Œå†Buildï¼Œæœ€åŽé€šè¿‡Product - Archiveæ¥æ‰“åŒ…ã€‚è¿™æ ·ï¼ŒXcodeä¼šå°†äºŒè¿›åˆ¶æ–‡ä»¶å’Œç¬¦å·æ–‡ä»¶å½’æ¡£åœ¨ä¸€èµ·ï¼Œå¯ä»¥é€šè¿‡Organizerä¸­çš„Archivesè¿›è¡Œæµè§ˆ å…³äºŽå¦‚ä½•è§£æžcrashæ—¥å¿—çš„è®¨è®º åˆ†æžcrashæ—¥å¿— åœ¨åˆ†æžä¸€ä»½crashæ—¥å¿—ä¹‹å‰ï¼Œå¦‚æžœå¼€å‘äººå‘˜å¯¹äºŽå¸¸è§çš„é”™è¯¯ç±»åž‹æœ‰æ‰€äº†è§£ï¼Œé‚£å®šæ˜¯æžå¥½çš„ã€‚ crashæ—¥å¿—çš„äº§ç”Ÿæ¥æºäºŽä¸¤ç§é—®é¢˜ï¼šè¿åiOSç­–ç•¥è¢«å¹²æŽ‰ï¼Œä»¥åŠè‡ªèº«çš„ä»£ç bug iOSç­–ç•¥ä½Žå†…å­˜é—ªé€€ ä½Žå†…å­˜é—ªé€€æ—¥å¿— å‰é¢æåˆ°å¤§å¤šæ•°crashæ—¥å¿—éƒ½åŒ…å«ç€æ‰§è¡Œçº¿ç¨‹çš„æ ˆè°ƒç”¨ä¿¡æ¯ ä½†æ˜¯ä½Žå†…å­˜é—ªé€€æ—¥å¿—é™¤å¤–ï¼Œè¿™é‡Œå°±å…ˆçœ‹çœ‹ä½Žå†…å­˜é—ªé€€æ—¥å¿—æ˜¯ä»€ä¹ˆæ ·çš„æˆ‘ä»¬ä½¿ç”¨Xcode 5å’ŒiOS 7çš„è®¾å¤‡æ¨¡æ‹Ÿä¸€æ¬¡ä½Žå†…å­˜é—ªé€€ï¼Œç„¶åŽé€šè¿‡OrganizeræŸ¥çœ‹äº§ç”Ÿçš„crashæ—¥å¿—ï¼Œå¯ä»¥å‘çŽ°Processå’ŒTypeéƒ½ä¸ºUnknownï¼š å…·ä½“çš„æ—¥å¿—å†…å®¹å¦‚ä¸‹ ç¬¬ä¸€éƒ¨åˆ†æ˜¯å´©æºƒä¿¡æ¯ï¼ŒåŒ…æ‹¬è¯†åˆ«æ ‡è¯†ã€è½¯ç¡¬ä»¶ä¿¡æ¯å’Œæ—¶é—´ä¿¡æ¯ç­‰ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯å†…å­˜é¡µåˆ†é…ä¿¡æ¯ï¼Œä»¥åŠå½“å‰å ç”¨å†…å­˜æœ€å¤šçš„è¿›ç¨‹ï¼Œä¸Šå›¾ä¸­ä¸ºcrashTypeDemoã€‚ ç¬¬ä¸‰éƒ¨åˆ†æ˜¯å…·ä½“çš„è¿›ç¨‹åˆ—è¡¨ï¼Œæè¿°ç€æ¯ä¸ªè¿›ç¨‹ä½¿ç”¨å†…å­˜çš„æƒ…å†µä»¥åŠå½“å‰çŠ¶æ€ã€‚åœ¨è¾ƒæ—©çš„ç‰ˆæœ¬ä¸­å¯ä»¥åœ¨æŸäº›è¿›ç¨‹åŽé¢çœ‹åˆ°â€œjettisonedâ€å­—æ ·ï¼Œè¡¨æ˜Žè¿™äº›è¿›ç¨‹ä½¿ç”¨è¿‡å¤šå†…å­˜è¢«ç»ˆæ­¢äº†ï¼Œè€ŒçŽ°åœ¨æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯â€œvm-pageshortageâ€å­—æ ·ã€‚ å½“iOSæ£€æµ‹åˆ°å†…å­˜è¿‡ä½Žæ—¶ï¼Œå®ƒï¼ˆçš„VMç³»ç»Ÿï¼‰ä¼šå‘å‡ºä½Žå†…å­˜è­¦å‘Šé€šçŸ¥ï¼Œå°è¯•å›žæ”¶ä¸€äº›å†…å­˜ï¼›å¦‚æžœæƒ…å†µæ²¡æœ‰å¾—åˆ°è¶³å¤Ÿçš„æ”¹å–„ï¼ŒiOSä¼šç»ˆæ­¢åŽå°åº”ç”¨ä»¥å›žæ”¶æ›´å¤šå†…å­˜ï¼›æœ€åŽï¼Œå¦‚æžœå†…å­˜è¿˜æ˜¯ä¸è¶³ï¼Œé‚£ä¹ˆæ­£åœ¨è¿è¡Œçš„åº”ç”¨å¯èƒ½ä¼šè¢«ç»ˆæ­¢æŽ‰ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„åº”ç”¨åº”è¯¥åˆç†åœ°å“åº”ç³»ç»ŸæŠ›å‡ºæ¥çš„ä½Žå†…å­˜è­¦å‘Šé€šçŸ¥ï¼Œå¯¹ä¸€äº›ç¼“å­˜æ•°æ®å’Œå¯é‡æ–°åˆ›å»ºçš„å¯¹è±¡è¿›è¡Œé‡Šæ”¾ï¼ŒåŒæ—¶è¦é¿å…å‡ºçŽ°å†…å­˜æ³„éœ²ç­‰é—®é¢˜ã€‚ ä½Žå†…å­˜é—ªé€€æ˜¯ç”±iOSç­–ç•¥å†³å®šç»ˆæ­¢åº”ç”¨ç¨‹åºè¿è¡Œçš„ï¼ŒåŒæ ·åŸºäºŽiOSç­–ç•¥çš„è¿˜æœ‰Watchdogè¶…æ—¶å’Œç”¨æˆ·å¼ºåˆ¶é€€å‡º Watchdogè¶…æ—¶ Appleçš„iOS Developer Libraryç½‘ç«™ä¸Šï¼ŒQA1693æ–‡æ¡£ä¸­æè¿°äº†Watchdogæœºåˆ¶ï¼ŒåŒ…æ‹¬ç”Ÿæ•ˆåœºæ™¯å’Œè¡¨çŽ°ã€‚å¦‚æžœæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯¹ä¸€äº›ç‰¹å®šçš„UIäº‹ä»¶ï¼ˆæ¯”å¦‚å¯åŠ¨ã€æŒ‚èµ·ã€æ¢å¤ã€ç»“æŸï¼‰å“åº”ä¸åŠæ—¶ï¼ŒWatchdogä¼šæŠŠæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¹²æŽ‰ï¼Œå¹¶ç”Ÿæˆä¸€ä»½å“åº”çš„crashæŠ¥å‘Š è¿™ä»½crashæŠ¥å‘Šçš„æœ‰è¶£ä¹‹å¤„åœ¨äºŽå¼‚å¸¸ä»£ç ï¼šâ€œ0x8badf00dâ€ï¼Œå³â€œate bad foodâ€ å¦‚æžœè¯´ç‰¹å®šçš„UIäº‹ä»¶æ¯”è¾ƒæŠ½è±¡ï¼Œé‚£ä¹ˆç”¨ä»£ç æ¥ç›´æŽ¥æè¿°çš„è¯ï¼Œå¯¹åº”çš„å°±æ˜¯ï¼ˆåˆ›å»ºä¸€ä¸ªå·¥ç¨‹æ—¶Xcodeè‡ªåŠ¨ç”Ÿæˆçš„ï¼‰UIApplicationDelegateçš„å‡ ä¸ªæ–¹æ³•ï¼š æ‰€ä»¥å½“é‡åˆ°Watchdogæ—¥å¿—æ—¶ï¼Œå¯ä»¥æ£€æŸ¥ä¸‹ä¸Šå›¾å‡ ä¸ªæ–¹æ³•æ˜¯å¦æœ‰æ¯”è¾ƒé‡çš„é˜»å¡žUIçš„åŠ¨ä½œ QA1693ä¸¾çš„ä¾‹å­æ˜¯åœ¨ä¸»çº¿ç¨‹è¿›è¡ŒåŒæ­¥ç½‘ç»œè¯·æ±‚ã€‚å¦‚æžœæˆ‘ä»¬æ˜¯åœ¨å…¬å¸çš„WifiçŽ¯å¢ƒä¸‹ä½¿ç”¨åˆ™ä¸€åˆ‡é¡ºåˆ©ï¼Œä½†å½“åº”ç”¨ç¨‹åºå‘å¸ƒå‡ºåŽ»é¢å‘å¾ˆå¤§èŒƒå›´çš„ç”¨æˆ·ï¼Œåœ¨å„ç§ç½‘ç»œçŽ¯å¢ƒä¸‹è¿è¡Œï¼Œåˆ™ä¸å¯é¿å…åœ°ä¼šå‡ºçŽ°ä¸€ç‰‡Watchdogè¶…æ—¶æŠ¥å‘Šã€‚å¦ä¸€ç§å¯èƒ½å‡ºçŽ°é—®é¢˜çš„åœºæ™¯å°±æ˜¯æ•°æ®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µä¸‹è¿›è¡Œçš„æ•°æ®åº“ç‰ˆæœ¬è¿ç§»ï¼ˆåŒæ ·æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ä¿ƒä½¿æˆ‘å†™è¿™ç¯‡æ€»ç»“çš„ä¸€ä¸ªç›´æŽ¥å› ç´ ã€‚ ç”¨æˆ·å¼ºåˆ¶é€€å‡º ä¸€çœ‹åˆ°â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€ï¼Œé¦–å…ˆå¯èƒ½æƒ³åˆ°çš„åŒå‡»Homeé”®ï¼Œç„¶åŽå…³é—­åº”ç”¨ç¨‹åºã€‚ä¸è¿‡è¿™ç§åœºæ™¯æ˜¯ä¸ä¼šäº§ç”Ÿcrashæ—¥å¿—çš„ï¼Œå› ä¸ºåŒå‡»Homeé”®åŽï¼Œæ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½å¤„äºŽåŽå°çŠ¶æ€ï¼Œè€ŒiOSéšæ—¶éƒ½æœ‰å¯èƒ½å…³é—­åŽå°è¿›ç¨‹ï¼Œæ‰€ä»¥è¿™ç§åœºæ™¯æ²¡æœ‰crashæ—¥å¿—ã€‚ å¦ä¸€ç§åœºæ™¯æ˜¯ç”¨æˆ·åŒæ—¶æŒ‰ä½ç”µæºé”®å’ŒHomeé”®ï¼Œè®©iPhoneé‡å¯ã€‚è¿™ç§åœºæ™¯ä¼šäº§ç”Ÿæ—¥å¿—ï¼ˆä»…éªŒè¯è¿‡ä¸€æ¬¡ï¼‰ï¼Œä½†å¹¶ä¸é’ˆå¯¹ç‰¹å®šåº”ç”¨ç¨‹åºã€‚ è¿™é‡ŒæŒ‡çš„â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€åœºæ™¯ï¼Œæ˜¯ç¨å¾®æ¯”è¾ƒå¤æ‚ç‚¹çš„æ“ä½œï¼šå…ˆæŒ‰ä½ç”µæºé”®ï¼Œç›´åˆ°å‡ºçŽ°â€œæ»‘åŠ¨å…³æœºâ€çš„ç•Œé¢æ—¶ï¼Œå†æŒ‰ä½Homeé”®ï¼Œè¿™æ—¶å€™å½“å‰åº”ç”¨ç¨‹åºä¼šè¢«ç»ˆæ­¢æŽ‰ï¼Œå¹¶ä¸”äº§ç”Ÿä¸€ä»½ç›¸åº”äº‹ä»¶çš„crashæ—¥å¿— é€šå¸¸ï¼Œç”¨æˆ·åº”è¯¥æ˜¯é‡åˆ°åº”ç”¨ç¨‹åºå¡æ­»ï¼Œå¹¶ä¸”å½±å“åˆ°äº†iOSå“åº”ï¼Œæ‰ä¼šè¿›è¡Œè¿™æ ·çš„æ“ä½œâ€”â€”ä¸è¿‡æ„Ÿè§‰è¿™æ“ä½œå¥½é«˜çº§ï¼Œæ‰€ä»¥è¿™æ ·çš„crashæ—¥å¿—åº”è¯¥æ¯”è¾ƒå°‘è§ å¸¸è§é”™è¯¯æ ‡è¯†Exception codesä¸Šé¢â€œç”¨æˆ·å¼ºåˆ¶é€€å‡ºâ€çš„crashæ—¥å¿—ä¸­çš„Exception Codesæ˜¯â€œ0xdeadfa11â€ï¼Œå†ä¸Šé¢â€œWatchdogè¶…æ—¶â€çš„crashæ—¥å¿—ä¸­çš„Exception Codesæ˜¯â€œ0x8badf00dâ€ï¼Œè¿™äº›éƒ½æ˜¯ç‰¹æœ‰çš„Exception codesã€‚æ ¹æ®å®˜æ–¹æ–‡æ¡£æè¿°ï¼Œè‡³å°‘æœ‰ä»¥ä¸‹å‡ ç§ç‰¹å®šå¼‚å¸¸ä»£ç ï¼š 0x8badf00dé”™è¯¯ç ï¼šWatchdogè¶…æ—¶ï¼Œæ„ä¸ºâ€œate bad foodâ€ã€‚ 0xdeadfa11é”™è¯¯ç ï¼šç”¨æˆ·å¼ºåˆ¶é€€å‡ºï¼Œæ„ä¸ºâ€œdead fallâ€ã€‚ 0xbaaaaaadé”™è¯¯ç ï¼šç”¨æˆ·æŒ‰ä½Homeé”®å’ŒéŸ³é‡é”®ï¼ŒèŽ·å–å½“å‰å†…å­˜çŠ¶æ€ï¼Œä¸ä»£è¡¨å´©æºƒã€‚0xbad22222é”™è¯¯ç ï¼šVoIPåº”ç”¨ï¼ˆå› ä¸ºå¤ªé¢‘ç¹ï¼Ÿï¼‰è¢«iOSå¹²æŽ‰ã€‚ 0xc00010ffé”™è¯¯ç ï¼šå› ä¸ºå¤ªçƒ«äº†è¢«å¹²æŽ‰ï¼Œæ„ä¸ºâ€œcool offâ€ã€‚ 0xdead10ccé”™è¯¯ç ï¼šå› ä¸ºåœ¨åŽå°æ—¶ä»ç„¶å æ®ç³»ç»Ÿèµ„æºï¼ˆæ¯”å¦‚é€šè®¯å½•ï¼‰è¢«å¹²æŽ‰ï¼Œæ„ä¸ºâ€œdead lockâ€ Exception typesæŸ¥çœ‹æˆ‘ä»¬çš„crashåˆ†æžæŠ¥å‘Šé‚®ä»¶ï¼Œä¼šå‘çŽ°æœ€ç»å¸¸é‡åˆ°çš„é”™è¯¯ç±»åž‹æ˜¯SEGVï¼ˆSegmentation Violationï¼Œæ®µè¿ä¾‹ï¼‰ï¼Œè¡¨æ˜Žå†…å­˜æ“ä½œä¸å½“ï¼Œæ¯”å¦‚è®¿é—®ä¸€ä¸ªæ²¡æœ‰æƒé™çš„å†…å­˜åœ°å€ã€‚å½“æˆ‘ä»¬æ”¶åˆ°SIGSEGVä¿¡å·æ—¶ï¼Œå¯ä»¥å¾€ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è€ƒè™‘ï¼šè®¿é—®æ— æ•ˆå†…å­˜åœ°å€ï¼Œæ¯”å¦‚è®¿é—®Zombieå¯¹è±¡ï¼›å°è¯•å¾€åªè¯»åŒºåŸŸå†™æ•°æ®ï¼›è§£å¼•ç”¨ç©ºæŒ‡é’ˆï¼›ä½¿ç”¨æœªåˆå§‹åŒ–çš„æŒ‡é’ˆï¼›æ ˆæº¢å‡ºï¼›æ­¤å¤–ï¼Œè¿˜æœ‰å…¶å®ƒå¸¸è§ä¿¡å·ï¼šSIGABRTï¼šæ”¶åˆ°Abortä¿¡å·ï¼Œå¯èƒ½è‡ªèº«è°ƒç”¨abort()æˆ–è€…æ”¶åˆ°å¤–éƒ¨å‘é€è¿‡æ¥çš„ä¿¡å·ï¼›SIGBUSï¼šæ€»çº¿é”™è¯¯ã€‚ä¸ŽSIGSEGVä¸åŒçš„æ˜¯ï¼ŒSIGSEGVè®¿é—®çš„æ˜¯æ— æ•ˆåœ°å€ï¼ˆæ¯”å¦‚è™šå­˜æ˜ å°„ä¸åˆ°ç‰©ç†å†…å­˜ï¼‰ï¼Œè€ŒSIGBUSè®¿é—®çš„æ˜¯æœ‰æ•ˆåœ°å€ï¼Œä½†æ€»çº¿è®¿é—®å¼‚å¸¸ï¼ˆæ¯”å¦‚åœ°å€å¯¹é½é—®é¢˜ï¼‰ï¼›SIGILLï¼šå°è¯•æ‰§è¡Œéžæ³•çš„æŒ‡ä»¤ï¼Œå¯èƒ½ä¸è¢«è¯†åˆ«æˆ–è€…æ²¡æœ‰æƒé™ï¼›SIGFPEï¼šFloating Point Errorï¼Œæ•°å­¦è®¡ç®—ç›¸å…³é—®é¢˜ï¼ˆå¯èƒ½ä¸é™äºŽæµ®ç‚¹è®¡ç®—ï¼‰ï¼Œæ¯”å¦‚é™¤é›¶æ“ä½œï¼›SIGPIPEï¼šç®¡é“å¦ä¸€ç«¯æ²¡æœ‰è¿›ç¨‹æŽ¥æ‰‹æ•°æ® ä»£ç bugæ­¤å¤–ï¼Œæ¯”è¾ƒå¸¸è§çš„å´©æºƒåŸºæœ¬éƒ½æºäºŽä»£ç bugï¼Œæ¯”å¦‚æ•°ç»„è¶Šç•Œã€æ’ç©ºã€å¤šçº¿ç¨‹å®‰å…¨æ€§ã€è®¿é—®é‡ŽæŒ‡é’ˆã€å‘é€æœªå®žçŽ°çš„selectorç­‰ã€‚å¦‚æžœå¼•å…¥Core Dataï¼Œåˆ™åˆæœ‰å¦å¤–ä¸€äº›å¸¸è§é—®é¢˜ï¼Œä¸è¿‡è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜äº†ã€‚ é‡åˆ°è¿™äº›bugæ—¶ï¼Œéƒ½æœ‰æ¯”è¾ƒæ¸…æ¥šçš„é”™è¯¯åŽŸå› è¯´æ˜Žï¼Œæ¯”å¦‚â€œindex 0 beyond bounds for empty arrayâ€ç­‰ã€‚éœ€è¦ç¨å¾®æ³¨æ„ç‚¹çš„æ˜¯å¤šçº¿ç¨‹é—®é¢˜ï¼Œå½“ä¸€æ—¶æ‰¾ä¸åˆ°è§£å†³æ€è·¯æ—¶ï¼Œä¸å¦¨å¾€å¤šçº¿ç¨‹æ–¹é¢è€ƒè™‘ä¸‹ iOSåº”ç”¨çš„crashæ—¥å¿—çš„åˆ†æžåŸºç¡€]]></content>
      <categories>
        <category>OC</category>
        <category>Code</category>
      </categories>
      <tags>
        <tag>OC</tag>
        <tag>Code</tag>
        <tag>crash</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-æ£€æµ‹ä¸»çº¿ç¨‹å¡é¡¿çš„é—®é¢˜]]></title>
    <url>%2F2017%2F11%2F22%2FOC%2FFunc%2FiOS-Func-%E6%A3%80%E6%B5%8B%E4%B8%BB%E7%BA%BF%E7%A8%8B%E5%8D%A1%E9%A1%BF%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[runloop - æ£€æµ‹æ–¹æ¡ˆ åŽŸæ–‡æ–‡æ¡£ CFRunLoopRunCFRunLoopRunæºä»£ç  æ ¸å¿ƒæ–¹æ³•CFRunLoopRunç®€åŒ–åŽçš„ä¸»è¦é€»è¾‘å¤§æ¦‚æ˜¯è¿™æ ·çš„:NSRunLoopè°ƒç”¨æ–¹æ³•ä¸»è¦å°±æ˜¯åœ¨kCFRunLoopBeforeSourceså’ŒkCFRunLoopBeforeWaitingä¹‹é—´,è¿˜æœ‰kCFRunLoopAfterWaitingä¹‹åŽ,ä¹Ÿå°±æ˜¯å¦‚æžœæˆ‘ä»¬å‘çŽ°è¿™ä¸¤ä¸ªæ—¶é—´å†…è€—æ—¶å¤ªé•¿,é‚£ä¹ˆå°±å¯ä»¥åˆ¤å®šå‡ºæ­¤æ—¶ä¸»çº¿ç¨‹å¡é¡¿ int32_t __CFRunLoopRun()&#123; //é€šçŸ¥å³å°†è¿›å…¥runloop __CFRunLoopDoObservers(KCFRunLoopEntry); do &#123; // é€šçŸ¥å°†è¦å¤„ç†timerå’Œsource __CFRunLoopDoObservers(kCFRunLoopBeforeTimers); __CFRunLoopDoObservers(kCFRunLoopBeforeSources); __CFRunLoopDoBlocks(); //å¤„ç†éžå»¶è¿Ÿçš„ä¸»çº¿ç¨‹è°ƒç”¨ __CFRunLoopDoSource0(); //å¤„ç†UIEventäº‹ä»¶ //GCD dispatch main queue CheckIfExistMessagesInMainDispatchQueue(); // å³å°†è¿›å…¥ä¼‘çœ  __CFRunLoopDoObservers(kCFRunLoopBeforeWaiting); // ç­‰å¾…å†…æ ¸mach_msgäº‹ä»¶ mach_port_t wakeUpPort = SleepAndWaitForWakingUpPorts(); // Zzz... // ä»Žç­‰å¾…ä¸­é†’æ¥ __CFRunLoopDoObservers(kCFRunLoopAfterWaiting); // å¤„ç†å› timerçš„å”¤é†’ if (wakeUpPort == timerPort) __CFRunLoopDoTimers(); // å¤„ç†å¼‚æ­¥æ–¹æ³•å”¤é†’,å¦‚dispatch_async else if (wakeUpPort == mainDispatchQueuePort) __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__() // UIåˆ·æ–°,åŠ¨ç”»æ˜¾ç¤º else __CFRunLoopDoSource1(); // å†æ¬¡ç¡®ä¿æ˜¯å¦æœ‰åŒæ­¥çš„æ–¹æ³•éœ€è¦è°ƒç”¨ __CFRunLoopDoBlocks(); &#125; while (!stop &amp;&amp; !timeout); //é€šçŸ¥å³å°†é€€å‡ºrunloop __CFRunLoopDoObservers(CFRunLoopExit);&#125; runloop çš„çŠ¶æ€typedef CF_OPTIONS(CFOptionFlags, CFRunLoopActivity) &#123; kCFRunLoopEntry = (1UL &lt;&lt; 0), // å³å°†è¿›å…¥Loop kCFRunLoopBeforeTimers = (1UL &lt;&lt; 1), // å³å°†å¤„ç† Timer kCFRunLoopBeforeSources = (1UL &lt;&lt; 2), // å³å°†å¤„ç† Source kCFRunLoopBeforeWaiting = (1UL &lt;&lt; 5), // å³å°†è¿›å…¥ä¼‘çœ  kCFRunLoopAfterWaiting = (1UL &lt;&lt; 6), // åˆšä»Žä¼‘çœ ä¸­å”¤é†’ kCFRunLoopExit = (1UL &lt;&lt; 7), // å³å°†é€€å‡ºLoop&#125;; è€—æ—¶è¿›è¡Œåˆ¤æ–­ åˆ©ç”¨ kCFRunLoopBeforeSources å’Œ *kCFRunLoopAfterWaiting è¿™ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´çš„è€—æ—¶ è¿›è¡Œåˆ¤æ–­:æ˜¯å¦æœ‰å¤ªå¤šäº‹ä»¶å¤„ç†å¯¼è‡´å‡ºçŽ°äº†å¡é¡¿ AppDelegate+AppService ç›‘å¬runloopçš„çŠ¶æ€è€Œå†™çš„å›žè°ƒå‡½æ•° static void runLoopObserverCallBack(CFRunLoopObserverRef observer, CFRunLoopActivity activity, void *info)&#123; PingConfig *object = (__bridge PingConfig*)info; // è®°å½•çŠ¶æ€å€¼ object-&gt;activity = activity; // å‘é€ä¿¡å· dispatch_semaphore_t semaphore = object-&gt;semaphore; dispatch_semaphore_signal(semaphore);&#125; AppDelegate æ³¨å†Œç›‘å¬ PingConfig: ä¸€ä¸ªç”¨æ¥å­˜å‚¨runloopçš„çŠ¶æ€å’Œä¿¡å·é‡çš„è‡ªå®šä¹‰ç±»ï¼Œå…¶ä¸­çš„ç»“æž„å¦‚ä¸‹ APPå¯åŠ¨æ—¶æˆ‘å¯ä»¥è¿›å…¥ registerObserver æ–¹æ³•ï¼Œå…¶ä¸­é¦–å…ˆæˆ‘åˆ›å»ºä¸€ä¸ªè®°å½•ä¿¡æ¯çš„ç±»PingConfigå®žä¾‹ï¼Œç„¶åŽåˆ›å»ºä¸€ä¸ªä¿¡å·ï¼Œå¹¶ä¸”ä¿å­˜åœ¨è¿™ä¸ªPingConfigå®žä¾‹ä¸­(å…¶å®žåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ‹¿åˆ° åˆ›å»ºäº†ä¸€ä¸ªè§‚å¯Ÿè€…ç›‘æµ‹ä¸»çº¿ç¨‹çš„runloop,å®ƒä¼šåœ¨ä¸»çº¿ç¨‹runloopçŠ¶æ€åˆ‡æ¢æ—¶è¿›è¡Œå›žè°ƒ å¼€å¯ä¸€ä¸ªå­çº¿ç¨‹ï¼Œå¹¶ä¸”åœ¨é‡Œé¢è¿›è¡Œä¸€ä¸ª while å¾ªçŽ¯ï¼Œåœ¨ å¾ªçŽ¯çš„å¼€å§‹å¤„ wait ä¸€ä¸ªä¿¡å·é‡ï¼Œå¹¶ä¸”è®¾ç½®è¶…æ—¶ä¸º 50æ¯«ç§’ï¼Œå¤±è´¥åŽä¼šè¿”å›žä¸€ä¸ªéž0æ•°ï¼ŒæˆåŠŸå°†ä¼šè¿”å›ž0ï¼Œè¿™æ—¶å€™çº¿ç¨‹ä¼šé˜»å¡žä½ç­‰å¾…ä¸€ä¸ªä¿¡å·çš„å‘å‡º å¦‚æžœrunloopçŠ¶æ€æ­£å¸¸åˆ‡æ¢ï¼Œé‚£ä¹ˆå°±ä¼šè¿›å…¥å›žè°ƒå‡½æ•°ï¼Œåœ¨å›žè°ƒå‡½æ•°ä¸­æˆ‘ä»¬å‘å‡ºä¸€ä¸ªä¿¡å·ï¼Œå¹¶ä¸”è®°å½•å½“å‰çŠ¶æ€åˆ°PingConfigå®žä¾‹ä¸­ï¼Œä¸‹é¢çš„åˆ¤æ–­è¯­å¥ä¸­å‘çŽ°ä¸º0ï¼ŒtimeoutCountè‡ªåŠ¨ç½®ä¸º0ï¼Œä¸€åˆ‡æ­£å¸¸ å½“ä¸»çº¿ç¨‹å‡ºçŽ°å¡é¡¿ï¼Œwhileå¾ªçŽ¯ä¸­çš„ä¿¡å·é‡å†æ¬¡ç­‰å¾…ï¼Œä½†æ˜¯å›žè°ƒå‡½æ•°æ²¡æœ‰è§¦å‘ï¼Œä»Žè€Œå¯¼è‡´ç­‰å¾…è¶…æ—¶ï¼Œè¿”å›žä¸€ä¸ªéž0æ•°ï¼Œè¿›å…¥åˆ¤æ–­å¥åŽï¼Œæˆ‘ä»¬å†æ¬¡åˆ¤æ–­çŠ¶æ€æ˜¯å¦å¤„äºŽ kCFRunLoopBeforeSources æˆ– kCFRunLoopAfterWaitingï¼Œå¦‚æžœæˆç«‹ï¼ŒtimeoutCount+1 æŒç»­äº”æ¬¡runloopä¸åˆ‡æ¢çŠ¶æ€ï¼Œè¯´æ˜Žrunloopæ­£åœ¨å¤„ç†æŸä¸ªæ£˜æ‰‹çš„äº‹ä»¶æ— æ³•ä¼‘æ¯ä¸”ä¸æ›´æ–°çŠ¶æ€ï¼Œè¿™æ ·whileå¾ªçŽ¯ä¸­çš„ä¿¡å·é‡è¶…æ—¶ä¼šä¸€ç›´å‘ç”Ÿï¼Œè¶…è¿‡5æ¬¡åŽæˆ‘ä»¬å°†æ–­å®šä¸»çº¿ç¨‹çš„å¡é¡¿å¹¶ä¸Šä¼ å †æ ˆä¿¡æ¯ - (void)registerObserver&#123; PingConfig *config = [PingConfig new]; // åˆ›å»ºä¿¡å· dispatch_semaphore_t semaphore = dispatch_semaphore_create(0); config-&gt;semaphore = semaphore; CFRunLoopObserverContext context = &#123;0,(__bridge void*)config,NULL,NULL&#125;; CFRunLoopObserverRef observer = CFRunLoopObserverCreate(kCFAllocatorDefault, kCFRunLoopAllActivities, YES, 0, &amp;runLoopObserverCallBack, &amp;context); CFRunLoopAddObserver(CFRunLoopGetMain(), observer, kCFRunLoopCommonModes); __block uint8_t timeoutCount = 0; // åœ¨å­çº¿ç¨‹ç›‘æŽ§æ—¶é•¿ dispatch_async(dispatch_get_global_queue(0, 0), ^&#123; while (YES) &#123; // å‡å®šè¿žç»­5æ¬¡è¶…æ—¶50msè®¤ä¸ºå¡é¡¿(å½“ç„¶ä¹ŸåŒ…å«äº†å•æ¬¡è¶…æ—¶250ms) long st = dispatch_semaphore_wait(semaphore, dispatch_time(DISPATCH_TIME_NOW, 50*NSEC_PER_MSEC)); if (st != 0) &#123;// NSLog(@"å¾ªçŽ¯ä¸­--%ld",config-&gt;activity); if (config-&gt;activity==kCFRunLoopBeforeSources || config-&gt;activity==kCFRunLoopAfterWaiting) &#123; if (++timeoutCount &lt; 5)&#123; continue; &#125;else&#123; NSLog(@"å¡é¡¿äº†"); &#125; &#125; &#125; timeoutCount = 0; &#125; &#125;);&#125; PingConfig@interface PingConfig : NSObject&#123; @public CFRunLoopActivity activity; dispatch_semaphore_t semaphore;&#125;@end Otheræƒ…å†µä¸»çº¿ç¨‹å¡é¡¿ä¸»çº¿ç¨‹å¡åœ¨ç•Œé¢å°šæœªå®Œå…¨æ˜¾ç¤ºå‰ å½“ä¸»çº¿ç¨‹å¡åœ¨ç•Œé¢å°šæœªå®Œå…¨æ˜¾ç¤ºå‰ï¼Œè¿™ä¸ªæ–¹æ¡ˆå°±æ£€æµ‹ä¸å‡ºæ¥å¡é¡¿äº†ï¼Œæ¯”å¦‚æˆ‘å°†ä¸‹é¢çš„ä»£ç æ”¾åœ¨BæŽ§åˆ¶å™¨ä¸­ dispatch_semaphore_t t = dispatch_semaphore_create(0); dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(3.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123; NSLog(@"----"); dispatch_semaphore_signal(t); &#125;); dispatch_semaphore_wait(t, DISPATCH_TIME_FOREVER); ä¸Šé¢æ˜¯ä¸€æ®µæœ‰é—®é¢˜çš„ä»£ç ï¼Œå°†å¯¼è‡´ä¸»çº¿ç¨‹çš„æŒç»­å µå¡žï¼Œå¦‚æžœæˆ‘ä»¬åœ¨è¿™æ®µä»£ç æ”¾åœ¨BæŽ§åˆ¶å™¨çš„ViewDidLoadæ–¹æ³•ä¸­(ViewWillAppearåŒæ ·) è¿è¡ŒåŽï¼Œå½“ä½ å¸Œæœ›pushåˆ°BæŽ§åˆ¶å™¨æ—¶ï¼Œé¡¹ç›®å°†åœ¨ä¸Šä¸€ä¸ªç•Œé¢å®Œå…¨å¡ä½ï¼Œå¹¶ä¸”æ— æ³•ç”¨ä¸Šé¢çš„æ–¹æ¡ˆæ£€æµ‹åˆ°ï¼Œè€Œä¸”CPUåŠå†…å­˜éƒ½æ˜¾ç¤ºæ­£å¸¸ åŽŸå› åˆ†æž ç”±äºŽrunloopåœ¨å¤„ç†å®Œsource0æˆ–è€…source1åŽï¼Œæ¯”å¦‚ç•Œé¢çš„è·³è½¬ä¹Ÿæ˜¯æ‰§è¡Œäº†æ–¹æ³•ï¼Œå…·ä½“æœ‰æ²¡æœ‰ç”¨åˆ°source0è¿™ä¸é‡è¦ï¼Œä½†æ˜¯åŽé¢ä¼šç´§æŽ¥ç€è¿›å…¥å‡†å¤‡ç¡çœ (kCFRunLoopBeforeWaiting)çš„çŠ¶æ€ï¼Œç„¶è€Œæ­¤æ—¶çº¿ç¨‹çš„é˜»å¡žå¯¼è‡´runloopçš„çŠ¶æ€ä¹Ÿè¢«å¡ä½æ— æ³•åˆ‡æ¢ï¼Œè¿™æ ·ä¹Ÿå°±å¯¼è‡´åœ¨é‚£æ®µæ£€æµ‹ä»£ç ä¸­æ— æ³•è¿›å…¥æ¡ä»¶ï¼Œä»Žè€Œæ£€æµ‹ä¸å‡ºæ¥ã€‚ ä½†æ˜¯è¯è¯´å›žæ¥ï¼ŒAPPåœ¨é™æ­¢çŠ¶æ€(ä¿æŒä¼‘çœ )å’Œåˆšåˆšé‚£ç§å¡æ­»çŠ¶æ€éƒ½ä¼šä½¿runloopç»´æŒåœ¨ kCFRunLoopBeforeWaitingçŠ¶æ€ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— æ³•åœ¨é‚£æ®µä»£ç ä¸­å¢žåŠ åˆ¤æ–­æ¥ä¿®å¤ï¼Œå› ä¸ºæ— æ³•çŸ¥é“åˆ°åº•æ˜¯çœŸçš„é™æ­¢æ²¡æœ‰æ“ä½œè¿˜æ˜¯è¢«é˜»å¡žä½ï¼Œæˆ‘ä¹Ÿæ²¡æ‰¾åˆ°çº¿ç¨‹çš„é˜»å¡žçŠ¶æ€å±žæ€§ï¼Œå¦‚æžœä½ å‘çŽ°è¿™ä¸ªå±žæ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨é‚£ä¸ªå±žæ€§æ¥åˆ¤æ–­ æ£€æµ‹æ–¹æ¡ˆdispatch_queue_t serialQueue = dispatch_queue_create("serial", DISPATCH_QUEUE_SERIAL); self.timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0, serialQueue); dispatch_source_set_timer(self.timer, DISPATCH_TIME_NOW, 0.25 * NSEC_PER_SEC, 0); __block int8_t chokeCount = 0; dispatch_semaphore_t t2 = dispatch_semaphore_create(0); dispatch_source_set_event_handler(self.timer, ^&#123; if (config-&gt;activity == kCFRunLoopBeforeWaiting) &#123; static BOOL ex = YES; if (ex == NO) &#123; chokeCount ++; if (chokeCount &gt; 40) &#123; NSLog(@"å·®ä¸å¤šå¡æ­»äº†"); dispatch_suspend(self.timer); return ; &#125; NSLog(@"å¡é¡¿äº†"); return ; &#125; dispatch_async(dispatch_get_main_queue(), ^&#123; ex = YES; dispatch_semaphore_signal(t2); &#125;); BOOL su = dispatch_semaphore_wait(t2, dispatch_time(DISPATCH_TIME_NOW, 50*NSEC_PER_MSEC)); if (su != 0) &#123; ex = NO; &#125;; &#125; &#125;); dispatch_resume(self.timer); æ–¹æ¡ˆè§£é‡Š å¼€å¯ä¸€ä¸ªå¼‚æ­¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ—¶é—´æˆ‘è®¾ç½®çš„æ˜¯0.25ç§’ï¼Œå…·ä½“æ—¶é—´éšä½ è‡ªå·±ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯ç”¨æ¥æ£€æµ‹å¡æ­»çš„æŒç»­æ—¶é—´ åœ¨å®šæ—¶å™¨å¤–é¢æˆ‘ä¹ŸåŒæ ·åˆ›å»ºäº†ä¸€ä¸ªç”¨æ¥åŒæ­¥çš„ä¿¡å·é‡ï¼Œè¿™ä¸ªä¸è§£é‡Šäº†ï¼Œä¸ä¼šçš„å°±åŽ»çœ‹ä¸€ä¸‹ä¿¡å·é‡çš„ä½¿ç”¨æ–¹å¼ã€‚è¿›å…¥å®šæ—¶å™¨çš„å›žè°ƒåŽï¼Œæˆ‘è®¾ç½®äº†ä¸€ä¸ªé™æ€å˜é‡æ¥è®°å½•ä¸»é˜Ÿåˆ—æ˜¯å¦æ‰§è¡Œå®Œæˆã€‚ æˆ‘ä»¬åˆ¤æ–­å½“å‰runloopçš„çŠ¶æ€æ˜¯å¦ä¸ºkCFRunLoopBeforeWaitingï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆæ˜¯ç”¨æ¥å¼¥è¡¥å‰é¢é‚£ä¸ªæ–¹æ¡ˆï¼Œå¦‚æžœä¸»çº¿ç¨‹æ­¤æ—¶æ²¡æœ‰é˜»å¡žä½ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå‘main QueueæŠ›ä¸€ä¸ªblockï¼Œçœ‹å®ƒæ˜¯å¦èƒ½å¤ŸæˆåŠŸæ‰§è¡Œï¼Œå¦‚æžœæˆåŠŸæ‰§è¡Œï¼Œè¯´æ˜Žä¸»çº¿ç¨‹æ²¡æœ‰é˜»å¡žä½ï¼Œå¦‚æžœå·²ç»è¢«é˜»å¡žä½ï¼Œé‚£æˆ‘æŠ›è¿‡åŽ»çš„blockæ˜¯è‚¯å®šä¸ä¼šè¢«æ‰§è¡Œçš„ã€‚ ä¸‹é¢çš„ä»£ç å°±æ˜¯ä¸€äº›è¾…åŠ©æ“ä½œï¼Œå½“ä¿¡å·é‡è¶…è¿‡50æ¯«ç§’ï¼ŒæŠ›ç»™ä¸»çº¿ç¨‹çš„blockæ²¡æœ‰æ‰§è¡Œï¼Œé‚£ä¹ˆè¯´æ˜Žæ­¤æ—¶å°±æœ‰ä¸€äº›é˜»å¡žäº†ï¼Œè¿”å›žä¸€ä¸ªéž0æ•°ï¼Œå¹¶è®¾ç½® exä¸ºNOï¼Œä»Žè€Œåœ¨ä¸‹ä¸€æ¬¡å®šæ—¶å™¨å›žè°ƒåˆ°æ¥æ—¶è¿›è¡Œä¸ŠæŠ¥]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-UIKit-Layer-Shadowé˜´å½±]]></title>
    <url>%2F2017%2F11%2F22%2FOC%2FKit%2FShadow%E9%98%B4%E5%BD%B1%2F</url>
    <content type="text"><![CDATA[shadowColor:é˜´å½±é¢œè‰²,å¯è®¾ç½®é€æ˜Žåº¦ç­‰. shadowOffset:åç§»é‡.,xyè¡¨ç¤ºviewå·¦ä¸Šè§’,widthè¡¨ç¤ºé˜´å½±ä¸Žxçš„åç§»é‡,heightè¡¨ç¤ºé˜´å½±ä¸Žyå€¼çš„åç§»é‡ shadowOpacity = 0.4//é˜´å½±é€æ˜Žåº¦,é»˜è®¤ä¸º0åˆ™çœ‹ä¸åˆ°é˜´å½±.å› æ­¤è¦çœ‹åˆ°é˜´å½±è¿™ä¸ªå€¼å¿…é¡»å¤§äºŽ0,shadowColorçš„é€æ˜Žåº¦ä¹Ÿè¦å¤§äºŽ0 shadowRadius:5.æ¨¡ç³Šè®¡ç®—çš„åŠå¾„,å–å¹³å‡å€¼çš„åŠå¾„,è®¾ç½®ä¸º0çš„è¯åˆ™ä¸ºä¸€ä¸ªçŸ©å½¢å—. æ¨¡ç³Šåº¦çš„è§£é‡Š:æ¯ä¸€ä¸ªåƒç´ å–å¹³å‡å€¼,åˆ†æ¯çš„å–å€¼èŒƒå›´,è¶Šå¤§è¶Šæ¨¡ç³Š.æ„Ÿè§‰è¿™ç¯‡æ–‡ç« è®²çš„æ¯”è¾ƒå®¹æ˜“æ‡‚(http://www.dongcoder.com/detail-22914.html). æ³¨æ„:å¦‚æžœclipsToBoundsè®¾ç½®ä¸ºYES,åˆ™é˜´å½±æ•ˆæžœæ¶ˆå¤± let layer = view.layer layer.shadowColor = UIColor.black.cgColor//é˜´å½±é¢œè‰² layer.shadowOffset = CGSize(width: 10, height: 10)//widthè¡¨ç¤ºé˜´å½±ä¸Žxçš„ä¾¿å®œé‡,heightè¡¨ç¤ºé˜´å½±ä¸Žyå€¼çš„åç§»é‡ layer.shadowOpacity = 0.4//é˜´å½±é€æ˜Žåº¦,é»˜è®¤ä¸º0åˆ™çœ‹ä¸åˆ°é˜´å½± layer.shadowRadius = 5; Go!]]></content>
      <categories>
        <category>iOS</category>
        <category>UIKit</category>
        <category>Layer</category>
      </categories>
      <tags>
        <tag>UIKit</tag>
        <tag>OC</tag>
        <tag>Layer</tag>
        <tag>Shadow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-RunTime-æ–¹æ³•äº¤æ¢/æ‹¦æˆªåŸºç¡€ä½¿ç”¨]]></title>
    <url>%2F2017%2F11%2F22%2FOC%2FGrammar%2FiOS-RunTime-%E6%96%B9%E6%B3%95%E4%BA%A4%E6%8D%A2-%E6%8B%A6%E6%88%AA%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[RunTimeçš„æ¶ˆæ¯æœºåˆ¶å‚è€ƒé“¾æŽ¥ Objective-Cçš„æ–¹æ³•è°ƒç”¨æ˜¯å±žäºŽæ¶ˆæ¯ä¼ é€çš„æœºåˆ¶æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªisaçš„ç»“æž„ä½“æŒ‡é’ˆåœ¨è¿™ä¸ªç»“æž„ä½“é‡Œ, å¾—åˆ°æŒ‡å®šç±»çš„æ‰€æœ‰å±žæ€§, æ‰€æœ‰æ–¹æ³•çš„åˆ—è¡¨, ä¹Ÿå¯ä»¥çŸ¥çˆ¶ç±»æ˜¯ä»€ä¹ˆâ€¦ æ–°å»ºRTMsgModel RTMsgModel.h @interface RTMsgModel : NSObject- (void)ff_post;- (void)ff_getWithCount:(NSInteger)count; RTMsgModel.m - (void)ff_post&#123; NSLog(@&quot;è¢«è°ƒç”¨äº†: %@, å½“å‰å¯¹è±¡ä¸º: %@&quot;, NSStringFromClass([self class]), self);&#125;- (void)ff_getWithCount:(NSInteger)count&#123; NSLog(@&quot;è¢«%ldäººè°ƒç”¨äº†&quot;, count);&#125; æµ‹è¯•æ¶ˆæ¯æœºåˆ¶//// ViewController.m// Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª//// Created by RN on 17/11/22.// Copyright Â© 2017å¹´ YueKekui. All rights reserved.//#import &quot;ViewController.h&quot;#import &quot;RTMsgModel.h&quot;#import &lt;objc/message.h&gt;@interface ViewController ()@end@implementation ViewController- (void)viewDidLoad &#123; [super viewDidLoad]; [self show_runTimeMsg];&#125;#pragma mark - RunTimeçš„æ¶ˆæ¯æœºåˆ¶/** * @brief: RunTimeçš„æ¶ˆæ¯æœºåˆ¶ * * * * @attentionï¼š Xcode ä¼šè‡ªåŠ¨å±è”½é€šè¿‡objc_msgSendåˆ›å»ºå¯¹è±¡, æˆ‘ä»¬å¯ä»¥åŽ»åˆ°å·¥ç¨‹é‡Œè®¾ç½® * Build Setting -&gt; Enable Strict Checking of objc_msgSend Calls æ”¹æˆNo */- (void)show_runTimeMsg&#123; //1.objc_getClass Class getClass = objc_getClass(&quot;RTMsgModel&quot;); NSLog(@&quot;Get The Class is: %@&quot;, getClass); //2.objc_msgSend RTMsgModel *messageModel = objc_msgSend(getClass, @selector(alloc)); NSLog(@&quot;alloc Object: %@&quot;, messageModel); // åœ¨ä¸è°ƒç”¨initæ–¹æ³•, å¯ä»¥é€šè¿‡å‘æ¶ˆæ¯è°ƒç”¨æƒ³ç”¨çš„æ–¹æ³•, è¿™é‡Œè°ƒç”¨æ²¡æœ‰åœ¨.hæ–‡ä»¶é‡Œå£°æ˜Žçš„æ–¹æ³•ä¼šè­¦å‘Šè¯¥æ–¹æ³•æ²¡æœ‰å£°æ˜Ž objc_msgSend(messageModel, @selector(ff_post)); messageModel = objc_msgSend(messageModel, @selector(init)); NSLog(@&quot;init Object: %@&quot;, messageModel); objc_msgSend(messageModel, @selector(ff_post)); // è¿˜æœ‰å¦å¤–ä¸€ç§å†™æ³•, å°±æ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½é›†åˆåœ¨ä¸€èµ·, ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„[[NSObject alloc] init];çš„åŽŸåž‹ RTMsgModel *messageModelTwo = objc_msgSend(objc_msgSend(objc_getClass(&quot;RTMsgModel&quot;), @selector(alloc)), @selector(init)); objc_msgSend(messageModelTwo, @selector(ff_getWithCount:), 5);&#125;@end æ‰“å°2017-11-22 12:36:16.232 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] Get The Class is: RTMsgModel2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] alloc Object: &lt;RTMsgModel: 0x600000003680&gt;2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] è¢«è°ƒç”¨äº†: RTMsgModel, å½“å‰å¯¹è±¡ä¸º: &lt;RTMsgModel: 0x600000003680&gt;2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] init Object: &lt;RTMsgModel: 0x600000003680&gt;2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] è¢«è°ƒç”¨äº†: RTMsgModel, å½“å‰å¯¹è±¡ä¸º: &lt;RTMsgModel: 0x600000003680&gt;2017-11-22 12:36:16.233 Runtimeæ–¹æ³•äº¤æ¢æ‹¦æˆª[21927:3962074] è¢«5äººè°ƒç”¨äº† RunTimeæ–¹æ³•äº¤æ¢ å»ºä¸€ä¸ªç±»RunTimeMethodModel.h #import &lt;Foundation/Foundation.h&gt;@interface RunTimeMethodModel : NSObject@property (nonatomic, copy) NSString *cl_height;@property (nonatomic, copy) NSString *cl_weight;- (NSString *)cl_height;- (NSString *)cl_weight;@end RunTimeMethodModel.m - (NSString *)cl_height &#123; return @&quot;æˆ‘èº«é«˜180&quot;;&#125;- (NSString *)cl_weight &#123; return @&quot;æˆ‘ä½“é‡280&quot;; &#125; æµ‹è¯•äº¤æ¢æ–¹æ³• æ‰§è¡Œæ–¹æ³•äº¤æ¢ RunTimeMethodModel *methodModel = [[RunTimeMethodModel alloc] init]; NSLog(@&quot;èº«é«˜: %@&quot;, methodModel.cl_height); NSLog(@&quot;ä½“é‡: %@&quot;, methodModel.cl_weight); Method methodOne = class_getInstanceMethod([methodModel class], @selector(cl_height)); Method methodTwo = class_getInstanceMethod([methodModel class], @selector(cl_weight)); method_exchangeImplementations(methodOne, methodTwo); NSLog(@&quot;æ‰“å°çš„å†…å®¹: %@&quot;, [methodModel cl_height]); æ‰“å°èº«é«˜: æˆ‘èº«é«˜180ä½“é‡: æˆ‘ä½“é‡280 æ‰“å°çš„å†…å®¹: æˆ‘ä½“é‡280 æ³¨æ„ä¸€ç‚¹æ³¨æ„ä¸€ç‚¹, ç”±äºŽè¿™é‡Œçš„ViewControllerä¼šé”€æ¯, ä½†method_exchangeImplementationsä¼šä¸€ç›´å­˜åœ¨, å†æ¬¡è¿›æ¥çš„æ—¶å€™, å°±ä¼šå†æ¬¡æ ¹æ®ä¸Šæ¬¡äº¤æ¢è¿‡çš„é¡ºåºå†æ¬¡äº¤æ¢ +loadäº¤æ¢æ–¹æ³• +loadäº¤æ¢æ–¹æ³•+ (void)load &#123; Method methodOne = class_getInstanceMethod(self, @selector(cl_height)); Method methodTwo = class_getInstanceMethod(self, @selector(cl_weight)); method_exchangeImplementations(methodOne, methodTwo);&#125;- (NSString *)cl_height &#123; return @&quot;æˆ‘èº«é«˜180&quot;;&#125;- (NSString *)cl_weight &#123; return @&quot;æˆ‘ä½“é‡280&quot;;&#125; æ‰“å° èº«é«˜: æˆ‘ä½“é‡280ä½“é‡: æˆ‘èº«é«˜180èº«é«˜: æˆ‘ä½“é‡280ä½“é‡: æˆ‘èº«é«˜180 +initializeäº¤æ¢æ–¹æ³• +loadè¿™ä¸ªæ–¹æ³•é‡Œçš„ç¡®æ˜¯å¯ä»¥ä¿è¯æ–¹æ³•äº¤æ¢åªæœ‰ä¸€æ¬¡, ä½†è¿™é‡Œæœ‰ä¸€ä¸ªå¼Šç«¯, å°±æ˜¯å½“ç¨‹åºä¸€è¿è¡Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªæ–¹æ³•äº¤æ¢äº†+load: ç¨‹åºä¸€å¼€å§‹å°±ä¼šåŽ»æ‰§è¡Œ, åªæ‰§è¡Œä¸€æ¬¡.+initialize: å½“ç±»è¢«åˆå§‹åŒ–çš„æ—¶å€™ä¼šæ‰ä¼šåŽ»æ‰§è¡Œ, è¯¥ç±»åªä¼šæ‰§è¡Œä¸€æ¬¡. initializeclass_getInstanceMethod èŽ·å–å®žä¾‹æ–¹æ³•method_exchangeImplementations æ–¹æ³•äº¤æ¢ + (void)initialize + &#123; Method methodOne = class_getInstanceMethod(self, @selector(cl_height)); Method methodTwo = class_getInstanceMethod(self, @selector(cl_weight)); method_exchangeImplementations(methodOne, methodTwo);&#125;- (NSString *)cl_height &#123; return @&quot;æˆ‘èº«é«˜180&quot;;&#125;- (NSString *)cl_weight &#123; return @&quot;æˆ‘ä½“é‡280&quot;;&#125; RunTimeæ–¹æ³•æ‹¦æˆª ä»Žåˆšåˆšæˆ‘ä»¬å°±çŸ¥é“, å¯ä»¥ä½¿ç”¨method_exchangeImplementationsäº¤æ¢ä¸¤ä¸ªæ–¹æ³•, ä½†åªåº”ç”¨åœ¨æœ¬ç±», çŽ°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹åˆ«çš„åº” @implementation BaseModel- (void)cl_logBaseModel &#123; NSLog(@&quot;Base Model Log&quot;);&#125;@end@implementation InterceptModel- (void)cl_logInterceptModel &#123; NSLog(@&quot;Intercept You Method &quot;);&#125;@end æœ€ç»ˆçš„å®žçŽ° + (void)initialize &#123; Method mehtodOne = class_getInstanceMethod([BaseModel class], @selector(cl_logBaseModel)); Method mehtodTwo = class_getInstanceMethod([InterceptModel class], @selector(cl_logInterceptModel)); method_exchangeImplementations(mehtodOne, mehtodTwo);&#125;- (void)viewDidLoad &#123; [super viewDidLoad]; self.view.backgroundColor = [UIColor whiteColor]; BaseModel *baseModel = [[BaseModel alloc] init]; [baseModel cl_logBaseModel];&#125;ã€‚ æ‰“å°ç»“æžœå‘çŽ°æ–¹æ³•æ˜¯è¢«InterceptModelè¿™ä¸ªç±»æ‹¦æˆª, å¹¶ä¸”æ›¿æ¢äº†InterceptModelçš„æ–¹æ³• [InterceptModel cl_logInterceptModel] ç¬¬15è¡Œ Intercept You Method ç±»æ–¹æ³•ä¹Ÿå¯ä»¥äº¤æ¢å’Œæ‹¦æˆª æ–°å¢žç±»æ–¹æ³• #import &quot;BaseModel.h&quot;@implementation BaseModel- (void)cl_logBaseModel &#123; NSLog(@&quot;Base Model Log&quot;);&#125;+ (void)cl_logBaseModelClass &#123; NSLog(@&quot;Base Model Class Log&quot;);&#125;@end-----------------------------------------------@implementation InterceptModel- (void)cl_logInterceptModel &#123; NSLog(@&quot;Intercept You Method &quot;);&#125;+ (void)cl_logInterceptModelClass &#123; NSLog(@&quot;Intercept Class You Method &quot;);&#125;@end æœ€ç»ˆå®žçŽ°class_getInstanceMethod èŽ·å–ç±»æ–¹æ³•method_exchangeImplementations initialize class_getInstanceMethod å®žä¾‹æ–¹æ³• class_getClassMethod ç±»æ–¹æ³• method_exchangeImplementations äº¤æ¢æ–¹æ³• + (void)initialize &#123; // æ‹¦æˆªå®žä¾‹æ–¹æ³• Method mehtodOne = class_getInstanceMethod([BaseModel class], @selector(cl_logBaseModel)); Method mehtodTwo = class_getInstanceMethod([InterceptModel class], @selector(cl_logInterceptModel)); method_exchangeImplementations(mehtodOne, mehtodTwo); // æ‹¦æˆªç±»æ–¹æ³• Method classMehtodOne = class_getClassMethod([BaseModel class], @selector(cl_logBaseModelClass)); Method classMehtodTwo = class_getClassMethod([InterceptModel class], @selector(cl_logInterceptModelClass)); method_exchangeImplementations(classMehtodOne, classMehtodTwo);&#125; æ‰§è¡Œ self.view.backgroundColor = [UIColor whiteColor];BaseModel *baseModel = [[BaseModel alloc] init];[baseModel cl_logBaseModel];[BaseModel cl_logBaseModelClass]; æ‰“å° Intercept You Method Intercept Class You Method]]></content>
      <categories>
        <category>iOS</category>
        <category>RunTime</category>
      </categories>
      <tags>
        <tag>RunTime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-UIKit-UIScrollViewåŸºç¡€ç”¨æ³•]]></title>
    <url>%2F2017%2F11%2F22%2FOC%2FKit%2FUIScrollView%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[å±žæ€§- (void)viewDidLoad &#123; [super viewDidLoad]; _scrollView.backgroundColor = [UIColor redColor]; //è®¾ç½®contentSizeï¼ˆå¿…é¡»è®¾ç½®ï¼‰ _scrollView.contentSize = CGSizeMake(400, 667); //åç§»é‡ _scrollView.contentOffset = CGPointMake(100, 0); //contentInset(åœ¨åŽŸæœ‰çš„åŸºç¡€ä¸Šè°ƒæ•´å†…å®¹æ»šåŠ¨åŒºåŸŸçš„å¤§å°) //_scrollView.contentInset = UIEdgeInsetsMake(-100, 0, 0, 0); //é”å®šæ–¹å‘(å½“ç³»ç»Ÿè¯†åˆ«æ»šåŠ¨æ–¹å‘çš„æ—¶å€™ï¼Œä¼šæŠŠå¦å¤–ä¸€ä¸ªæ–¹å‘é”å®šï¼Œå¦‚æžœè¯†åˆ«ä¸äº†ï¼Œå°±ä¸é”å®šæ–¹å‘) _scrollView.directionalLockEnabled = YES; //åå¼¹æ•ˆæžœ(é»˜è®¤ä¸ºyes) _scrollView.bounces = YES; //é»˜è®¤æ˜¯noï¼Œå‡å¦‚æ˜¯yeså¹¶ä¸”bouncesæ˜¯yes,ç”šè‡³å¦‚æžœå†…å®¹å¤§å°å°äºŽboundsçš„æ—¶å€™ï¼Œå…è®¸åž‚ç›´æ‹–åŠ¨ _scrollView.alwaysBounceVertical = YES; //åˆ†é¡µï¼ˆé»˜è®¤noï¼‰ _scrollView.pagingEnabled = YES; //æ»šåŠ¨(é»˜è®¤yeså…è®¸æ»šåŠ¨) _scrollView.scrollEnabled = YES; //æ»šåŠ¨æ¡ //showsHorizontalScrollIndicatoré»˜è®¤yes æ˜¾ç¤º _scrollView.showsHorizontalScrollIndicator = NO; //æ»šåŠ¨æ¡æ»šåŠ¨çš„èŒƒå›´(åž‚ç›´æ»šåŠ¨æ¡æ»šåŠ¨èŒƒå›´ä¸Šä¸‹å„ç¼©å°50) _scrollView.scrollIndicatorInsets = UIEdgeInsetsMake(50, 0, 50, 0); //æ ·å¼ _scrollView.indicatorStyle = UIScrollViewIndicatorStyleWhite; // Do any additional setup after loading the view, typically from a nib.&#125; æ–¹æ³•- (void)viewDidLoad &#123; [super viewDidLoad]; //åˆ›å»ºå¹¶æ·»åŠ scrollView UIScrollView *scrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(100, 200, 200, 300)]; [self.view addSubview:scrollView]; scrollView.backgroundColor = [UIColor redColor]; //è®¾ç½®å†…å®¹è§†å›¾çš„å¤§å° scrollView.contentSize = CGSizeMake(375, 667); //è®¾ç½®å†…å®¹è§†å›¾ UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 375, 667)]; imageView.image = [UIImage imageNamed:@&quot;new_feature_1&quot;]; [scrollView addSubview:imageView]; _imageView = imageView; //è®¾ç½®ä»£ç† scrollView.delegate = self; //[self performSelector:@selector(changeScrollViewContentOffSet:) withObject:scrollView afterDelay:3]; //è®¾ç½®ç¼©æ”¾å†…å®¹è§†å›¾çš„ç¼©æ”¾æ¯”ä¾‹èŒƒå›´ scrollView.minimumZoomScale = 0.5; scrollView.maximumZoomScale = 1.5; //å½“ç¼©æ”¾æ¯”ä¾‹è¶…å‡ºèŒƒå›´ä¹‹åŽï¼Œæ˜¯å¦æœ‰åå¼¹æ•ˆæžœï¼ˆno:ä¸ä¼šè¶…å‡ºèŒƒå›´ï¼Œyes:è¶…å‡ºèŒƒå›´ä¹‹åŽåå¼¹ï¼‰ scrollView.bouncesZoom = YES; //å±žæ€§è®¾ç½®æ»šåŠ¨è‡³é¡¶éƒ¨ //scrollView.scrollsToTop = YES; // Do any additional setup after loading the view, typically from a nib.&#125;-(void)changeScrollViewContentOffSet:(UIScrollView *)scrollView&#123; [scrollView setContentOffset:CGPointMake(0, 300) animated:YES];&#125;#if 0#pragma mark -UIScrollViewDelegate æ»šåŠ¨//å½“scrollViewæ»šåŠ¨çš„æ—¶å€™ï¼Œä¸åœè°ƒç”¨ï¼ˆå¯ä»¥ç›‘å¬scrollViewçš„contentOffsetï¼‰- (void)scrollViewDidScroll:(UIScrollView *)scrollView&#123; //NSLog(@&quot;%@&quot;,NSStringFromCGPoint(scrollView.contentOffset)); //NSLog(@&quot;deceleratingï¼š%d&quot;,scrollView.decelerating); //NSLog(@&quot;draggingï¼š%d&quot;,scrollView.dragging); //NSLog(@&quot;tracking:%d&quot;,scrollView.tracking); NSLog(@&quot;%s&quot;,__func__);&#125;//å¼€å§‹æ‹–åŠ¨çš„æ—¶å€™è°ƒç”¨- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView&#123; //NSLog(@&quot;tracking:%d&quot;,scrollView.tracking); NSLog(@&quot;%s&quot;,__func__);&#125;// called on finger up if the user dragged. velocity is in points/millisecond. targetContentOffset may be changed to adjust where the scroll view comes to rest//å°†è¦ç»“æŸæ‹–åŠ¨- (void)scrollViewWillEndDragging:(UIScrollView *)scrollView withVelocity:(CGPoint)velocity targetContentOffset:(inout CGPoint *)targetContentOffset &#123;// NSLog(@&quot;velocity:%@&quot;,NSStringFromCGPoint(velocity));// NSLog(@&quot;targetContentOffset:%@&quot;,NSStringFromCGPoint(*targetContentOffset)); //å¼ºåˆ¶è®¾ç½®scrollViewçš„åç§»é‡ //*targetContentOffset = CGPointMake(0, 200); NSLog(@&quot;%s&quot;,__func__);&#125;// å·²ç»ç»“æŸæ‹–åŠ¨- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate&#123; //NSLog(@&quot;draggingï¼š%d&quot;,scrollView.dragging); NSLog(@&quot;%s&quot;,__func__);&#125;//å°†è¦å¼€å§‹å‡é€Ÿ- (void)scrollViewWillBeginDecelerating:(UIScrollView *)scrollView&#123; //NSLog(@&quot;deceleratingï¼š%d&quot;,scrollView.decelerating); NSLog(@&quot;%s&quot;,__func__);&#125;//å‡é€Ÿå®Œæˆï¼ˆåœæ­¢ï¼‰- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView&#123; //NSLog(@&quot;contentOffset:%@&quot;,NSStringFromCGPoint(scrollView.contentOffset)); NSLog(@&quot;%s&quot;,__func__);&#125;// called when setContentOffset/scrollRectVisible:animated: finishes. not called if not animating- (void)scrollViewDidEndScrollingAnimation:(UIScrollView *)scrollView&#123; NSLog(@&quot;%s&quot;,__func__);&#125;#endif#pragma mark -UIScrollViewDelegate(ç¼©æ”¾)//æŒ‡å®šç¼©æ”¾è§†å›¾- (nullable UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView&#123; NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming); return _imageView;&#125;//ç¼©æ”¾ä¹‹å‰è°ƒç”¨- (void)scrollViewWillBeginZooming:(UIScrollView *)scrollView withView:(nullable UIView *)view &#123; NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming);&#125;//å®Œæˆç¼©æ”¾- (void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(nullable UIView *)view atScale:(CGFloat)scale&#123; NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming);&#125;//ç¼©æ”¾æ—¶è°ƒç”¨- (void)scrollViewDidZoom:(UIScrollView *)scrollView&#123; NSLog(@&quot;%s,zooming:%d&quot;,__func__,scrollView.zooming);&#125;#pragma mark -UIScrollViewDelegate(æ»šåŠ¨è‡³é¡¶éƒ¨)//å…è®¸æ»šåŠ¨è‡³é¡¶éƒ¨- (BOOL)scrollViewShouldScrollToTop:(UIScrollView *)scrollView&#123; return YES;&#125;//å·²ç»æ»šåŠ¨è‡³é¡¶éƒ¨- (void)scrollViewDidScrollToTop:(UIScrollView *)scrollView&#123; NSLog(@&quot;åŠ è½½æ–°æ•°æ®ï¼Œåˆ·æ–°ç•Œé¢&quot;);&#125;]]></content>
      <categories>
        <category>iOS</category>
        <category>UIKit</category>
        <category>UIScrollView</category>
      </categories>
      <tags>
        <tag>UIKit</tag>
        <tag>UIScrollView</tag>
        <tag>OC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS_Appè·³è½¬è®¾ç½®]]></title>
    <url>%2F2017%2F11%2F21%2FOC%2FFunc%2FiOS-Func-App%E8%B7%B3%E8%BD%AC%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[è·³åˆ°æ›´å¤šè®¾ç½®ç•Œé¢é™¤äº†è·³åˆ°WiFiè®¾ç½®ç•Œé¢ï¼Œèƒ½ä¸èƒ½è·³åˆ°å…¶ä»–çš„è®¾ç½®ç•Œé¢å‘¢ï¼Ÿæ¯”å¦‚ï¼šå®šä½æœåŠ¡ã€FaceTimeã€éŸ³ä¹ç­‰ç­‰ã€‚éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸€èµ·æ¥çœ‹çœ‹å¦‚ä½•å®žçŽ°çš„ è·³åˆ°è¿™äº›ç•Œé¢çš„å‚æ•°é…ç½®ï¼š ##å®šä½æœåŠ¡ ç”¨æˆ·å…³é—­äº†å®šä½,APPé‡Œé¢æç¤ºæ‰“å¼€å®šä½æœåŠ¡ç‚¹å‡»åˆ°è®¾ç½®ç•Œé¢è®¾ç½®ï¼Œç›´æŽ¥è·³åˆ°å®šä½æœåŠ¡è®¾ç½®ç•Œé¢= //å®šä½æœåŠ¡è®¾ç½®ç•Œé¢NSURL *url = [NSURL URLWithString:@&quot;prefs:root=LOCATION_SERVICES&quot;];if ([[UIApplication sharedApplication] canOpenURL:url])&#123; [[UIApplication sharedApplication] openURL:url];&#125; FaceTim//FaceTimeè®¾ç½®ç•Œé¢NSURL *url = [NSURL URLWithString:@&quot;prefs:root=FACETIME&quot;];if ([[UIApplication sharedApplication] canOpenURL:url])&#123; [[UIApplication sharedApplication] openURL:url];&#125; éŸ³ä¹//éŸ³ä¹è®¾ç½®ç•Œé¢NSURL *url = [NSURL URLWithString:@&quot;prefs:root=MUSIC&quot;];if ([[UIApplication sharedApplication] canOpenURL:url])&#123; [[UIApplication sharedApplication] openURL:url];&#125; è“ç‰™è®¾ç½®ç•Œé¢//è“ç‰™è®¾ç½®ç•Œé¢NSURL *url = [NSURL URLWithString:@&quot;prefs:root=Bluetooth&quot;];if ([[UIApplication sharedApplication] canOpenURL:url])&#123; [[UIApplication sharedApplication] openURL:url];&#125; iCloudè®¾ç½®ç•Œé¢//iCloudè®¾ç½®ç•Œé¢NSURL *url = [NSURL URLWithString:@&quot;prefs:root=CASTLE&quot;];if ([[UIApplication sharedApplication] canOpenURL:url]&#123; [[UIApplication sharedApplication] openURL:url];&#125; otherè®¾ç½®ç•Œé¢åªéœ€è¦prefs:root=åŽé¢çš„å€¼å³å¯å¯ä»¥è·³åˆ°è¿™äº›ç•Œé¢çš„å‚æ•°é…ç½®ï¼šr About â€” prefs:root=General&amp;path=AboutAccessibility â€” prefs:root=General&amp;path=ACCESSIBILITYAirplane Mode On â€” prefs:root=AIRPLANE_MODEAuto-Lock â€” prefs:root=General&amp;path=AUTOLOCKBrightness â€” prefs:root=BrightnessBluetooth â€” prefs:root=General&amp;path=BluetoothDate &amp; Time â€” prefs:root=General&amp;path=DATE_AND_TIMEFaceTime â€” prefs:root=FACETIMEGeneral â€” prefs:root=GeneralKeyboard â€” prefs:root=General&amp;path=KeyboardiCloud â€” prefs:root=CASTLEiCloud Storage &amp; Backup â€” prefs:root=CASTLE&amp;path=STORAGE_AND_BACKUPInternational â€” prefs:root=General&amp;path=INTERNATIONALLocation Services â€” prefs:root=LOCATION_SERVICESMusic â€” prefs:root=MUSICMusic Equalizer â€” prefs:root=MUSIC&amp;path=EQMusic Volume Limit â€” prefs:root=MUSIC&amp;path=VolumeLimitNetwork â€” prefs:root=General&amp;path=NetworkNike + iPod â€” prefs:root=NIKE_PLUS_IPODNotes â€” prefs:root=NOTESNotification â€” prefs:root=NOTIFICATIONS_IDPhone â€” prefs:root=PhonePhotos â€” prefs:root=PhotosProfile â€” prefs:root=General&amp;path=ManagedConfigurationListReset â€” prefs:root=General&amp;path=ResetSafari â€” prefs:root=SafariSiri â€” prefs:root=General&amp;path=AssistantSounds â€” prefs:root=SoundsSoftware Update â€” prefs:root=General&amp;path=SOFTWARE_UPDATE_LINKStore â€” prefs:root=STORETwitter â€” prefs:root=TWITTERUsage â€” prefs:root=General&amp;path=USAGEVPN â€” prefs:root=General&amp;path=Network/VPNWallpaper â€” prefs:root=WallpaperWi-Fi â€” prefs:root=WIFI]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS_Safariè·³è½¬App]]></title>
    <url>%2F2017%2F11%2F21%2FOC%2FGrammar%2FiOS-Safari-%E8%B7%B3%E8%BD%ACApp%2F</url>
    <content type="text"><![CDATA[Safariè·³è½¬åˆ°App##Appä¸­å®šä¹‰ä¸€ä¸ªURLåè®® TARGETS -&gt; info -&gt; URL Types -&gt; æ·»åŠ ä¸€ä¸ªURLåè®® URL Schemeså­—æ®µå°±æ˜¯ä½ è¿™ä¸ªAPPçš„ç‰¹æ®Šæ ‡ç¤ºï¼Œindentifier:è¿™ä¸ªURLåè®®çš„æ ‡ç¤ºã€‚ä¸€ä¸ªAPPå¯ä»¥æ‹¥æœ‰å¤šä¸ªURLåè®®ä¸‹é¢çš„ä¸¤ä¸ªå­—æ®µå¯ä¸ºç©ºã€‚æœ€åŽå†è¿è¡Œä¸€ä¸‹ä½ çš„APPã€‚ æµè§ˆé‡Œè®¿é—®æ‰“å¼€Safariæµè§ˆå™¨ï¼Œåœ¨è¾“å…¥åœ¨åœ°å€æ è¾“å…¥ï¼šmyapp://ç„¶åŽå›žè½¦ Safariè·³å›žåˆ°APPæ—¶ä¼ ä¸€äº›å‚æ•°æ¯”å¦‚åœ¨Safariæµè§ˆå™¨çš„åœ°å€äº†è¾“å…¥ï¼šmyapp://myappTestï¼Œç”¨ä¸‹é¢çš„æ–¹æ³•èŽ·å–åˆ°è¯¥å‚æ•°ä¹‹åŽå°±çœ‹è‡ªå·±çš„æ“ä½œäº† åœ¨appdelegate.mæ–‡ä»¶ä¸­å†™ä¸‹å¦‚ä¸‹æ–¹æ³•å¦‚æžœiOSç‰ˆæœ¬ä½ŽäºŽ9.0ï¼Œä¼šåœ¨ä¸‹é¢æ–¹æ³•æŽ¥å—åˆ°åœ¨åœ°å€æ è¾“å…¥çš„å­—ç¬¦ä¸²- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation&#123; [[[UIAlertView alloc] initWithTitle:[NSString stringWithFormat:@&quot;sourceApplication-&gt;%@&quot;, [url absoluteString]] message:nil delegate:nil cancelButtonTitle:@&quot;ok&quot; otherButtonTitles:nil] show]; return YES;&#125;å¦‚æžœiOSç‰ˆæœ¬æ˜¯9.0åŠä»¥ä¸Šçš„ï¼Œä¼šåœ¨ä¸‹é¢æ–¹æ³•æŽ¥å—åˆ°åœ¨åœ°å€æ è¾“å…¥çš„å­—ç¬¦ä¸²- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;NSString *,id&gt; *)options&#123; [[[UIAlertView alloc] initWithTitle:[NSString stringWithFormat:@&quot;openURL-&gt;%@&quot;, [url absoluteString]] message:nil delegate:nil cancelButtonTitle:@&quot;ok&quot; otherButtonTitles:nil] show]; return YES;&#125;]]></content>
      <categories>
        <category>iOS</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Func</tag>
        <tag>è·³è½¬</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func- Universal Linksé€šç”¨é“¾æŽ¥]]></title>
    <url>%2F2017%2F11%2F21%2FOC%2FFunc%2FiOS-Func-%20Universal%20Links%E9%80%9A%E7%94%A8%E9%93%BE%E6%8E%A5%2F</url>
    <content type="text"><![CDATA[Universal Linksç®€ä»‹ iOS9ä¹‹å‰ iOS9ä¹‹å‰,å¯¹äºŽä»Žå„ç§ä»Žæµè§ˆå™¨,Safariã€UIWebViewæˆ–è€… WKWebViewä¸­å”¤é†’APPçš„éœ€æ±‚,æˆ‘ä»¬é€šå¸¸åªèƒ½ä½¿ç”¨scheme.é¦–å…ˆæ˜¯appä¸­æ³¨å†ŒæŸä¸ªscheme åœ¨iOS 9ä»¥åŽ é€šè¿‡Universal Linkï¼Œå°†App ä¸Žç½‘é¡µç«¯å»ºç«‹è¿žæŽ¥æ¡¥ï¼Œå¯ä»¥ä»ŽSafari æˆ–è€…å…¶ä»–å‰ç«¯æµè§ˆå™¨æ¥è¯†åˆ«å¹¶å”¤é†’Appï¼Œç”šè‡³æ˜¯å¾®ä¿¡çŽ¯å¢ƒä¸‹ä¹Ÿå¯ä»¥å†²ç ´éšœç¢ å®˜æ–¹çš„è¯´æ˜Žæ–‡æ¡£â€“&gt; Universal Linkçš„ä¼˜ç‚¹ å”¯ä¸€æ€§: ä¸åƒè‡ªå®šä¹‰çš„scheme,å› ä¸ºå®ƒä½¿ç”¨æ ‡å‡†çš„http/httpsé“¾æŽ¥åˆ°ä½ çš„webç«™ç‚¹,æ‰€ä»¥å®ƒä¸ä¼šè¢«å…¶å®ƒçš„appæ‰€å£°æ˜Ž.å¦å¤–,Custom URL scheme å› ä¸ºæ˜¯è‡ªå®šä¹‰çš„åè®®ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰å®‰è£… app çš„æƒ…å†µä¸‹æ˜¯æ— æ³•ç›´æŽ¥æ‰“å¼€çš„ï¼Œè€Œ universal links æœ¬èº«æ˜¯ä¸€ä¸ª HTTP/HTTPS é“¾æŽ¥ï¼Œæ‰€ä»¥æœ‰æ›´å¥½çš„å…¼å®¹æ€§ å®‰å…¨: å½“ç”¨æˆ·çš„æ‰‹æœºä¸Šå®‰è£…äº†ä½ çš„app,é‚£ä¹ˆiOSå°†åŽ»ä½ çš„ç½‘ç«™ä¸ŠåŽ»ä¸‹è½½ä½ ä¸Šä¼ ä¸ŠåŽ»çš„è¯´æ˜Žæ–‡ä»¶(è¿™ä¸ªè¯´æ˜Žæ–‡ä»¶å£°æ˜Žäº†ä½ çš„appå¯ä»¥æ‰“å¼€å“ªäº›ç±»åž‹çš„httpé“¾æŽ¥).å› ä¸ºåªæœ‰ä½ è‡ªå·±æ‰èƒ½ä¸Šä¼ æ–‡ä»¶åˆ°ä½ ç½‘ç«™çš„æ ¹ç›®å½•,æ‰€ä»¥ä½ çš„ç½‘ç«™å’Œä½ çš„appä¹‹é—´çš„å…³è”æ˜¯å®‰å…¨çš„. å¯å˜: å½“ç”¨æˆ·æ‰‹æœºä¸Šæ²¡æœ‰å®‰è£…ä½ çš„appçš„æ—¶å€™,Universal Linksä¹Ÿèƒ½å¤Ÿå·¥ä½œ.å¦‚æžœä½ æ„¿æ„,åœ¨æ²¡æœ‰å®‰è£…ä½ çš„appçš„æ—¶å€™,ç”¨æˆ·ç‚¹å‡»é“¾æŽ¥,ä¼šåœ¨safariä¸­å±•ç¤ºä½ ç½‘ç«™çš„å†…å®¹. ç®€å•: ä¸€ä¸ªURLé“¾æŽ¥,å¯ä»¥åŒæ—¶ä½œç”¨äºŽç½‘ç«™å’Œap ç§æœ‰ å…¶å®ƒappå¯ä»¥åœ¨ä¸éœ€è¦çŸ¥é“ä½ çš„appæ˜¯å¦å®‰è£…äº†çš„æƒ…å†µä¸‹å’Œä½ çš„appç›¸äº’é€šä¿¡ éœ€æ±‚ åˆ†äº«é¡µé¢ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°åœ¨é¡µé¢çš„é¡¶ç«¯æˆ–è€…åº•éƒ¨é‡åˆ°æœ‰ã€æ‰“å¼€Appã€‘æˆ–è€…ã€ä¸‹è½½Appã€‘è¿™æ ·çš„æŒ‰é’®ã€‚ æ¯”è¾ƒå‹å¥½çš„äº§å“ï¼Œä¼šåšè®¾å¤‡è¯†åˆ«ï¼Œä»¥åŠæ£€æµ‹APPæ˜¯å¦å®‰è£…ï¼Œæ¥åšæ‰“å¼€æˆ–è€…ä¸‹è½½App çš„éœ€æ±‚ä½†æ˜¯åœ¨å¾®ä¿¡ä¸­ï¼Œè¿™æ–¹é¢åšçš„æ¯”è¾ƒæ¶å¿ƒï¼Œå¾®ä¿¡ä¸‹é¢å‡ ä¹Žæ˜¯å…¨é¢å±è”½äº†å”¤èµ·åŽŸç”ŸApp çš„åŠŸèƒ½ Universal Link å®žçŽ°æ¡ä»¶ åŸŸå æœ‰ä¸€ä¸ªåŸŸå,ä¸”è¿™ä¸ªåŸŸåçš„ç½‘ç«™éœ€è¦æ”¯æŒhttps,ç„¶åŽæ‹¥æœ‰ç½‘ç«™çš„ä¸Šä¼ åˆ°æ ¹ç›®å½•çš„æƒé™(è¿™ä¸ªæƒé™æ˜¯ä¸ºäº†ä¸Šä¼ ä¸€ä¸ªappleæŒ‡å®šçš„æ–‡ä»¶) æ”¯æŒUniversal Links(é€šç”¨é“¾æŽ¥) åˆ›å»ºä¸€ä¸ªjsonæ ¼å¼çš„å‘½åä¸ºapple-app-site-associationæ–‡ä»¶ æ³¨æ„è¿™ä¸ªæ–‡ä»¶å¿…é¡»æ²¡æœ‰åŽç¼€å,æ–‡ä»¶åå¿…é¡»ä¸º: apple-app-site-association &#123; "applinks": &#123; "apps": [], "details": [ &#123; "appID": "Prefix +ç‚¹ +BundleID", "paths": [ "/html/1/*", "/*"], &#125;, ] &#125;&#125; Prefix å’Œ BundleID paths:æ ¹æ® paths é”®è®¾å®šä¸€ä¸ªä½ çš„appæ”¯æŒçš„è·¯å¾„åˆ—è¡¨,åªæœ‰è¿™äº›æŒ‡å®šçš„è·¯å¾„çš„é“¾æŽ¥,æ‰èƒ½è¢«appæ‰€å¤„ç†,ä¸¾ä¸ªä¾‹å­:å¦‚æžœä½ çš„ç½‘ç«™æ˜¯www.XXXX.com,ä½ çš„pathå†™çš„æ˜¯â€/support/â€œ,é‚£ä¹ˆå½“ç”¨æˆ·ç‚¹å‡»www.yohunl.com/support/myDoucument,å°±å¯ä»¥è¿›å…¥ä½ çš„appäº†,ç›¸åwww.yohunl.com/other å°±ä¸ä¼š.pathæ˜¯å¤§å°å†™æ•æ„Ÿçš„! å·è¡¨ç¤ºä»»æ„è·¯å¾„. æœåŠ¡å™¨æœåŠ¡å™¨é…ç½® å‡†å¤‡ç‹¬ç«‹åŸŸåä¸€çº§åŸŸåï¼ŒäºŒçº§åŸŸåå‡å¯ã€‚SSL è¯ä¹¦ ä¸ºæœåŠ¡å™¨é…ç½®HTTPS ç”¨çš„SSL è¯ä¹¦ä¸Šä¼ ç­¾åå¥½çš„JSON é…ç½®æ–‡ä»¶ æ–°å»ºJSONæ–‡ä»¶æ–°å»ºä¸€ä¸ªJSONæ–‡ä»¶ï¼Œä¸éœ€è¦åŽç¼€åï¼Œå†…å®¹è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š appID:ç›¸å…³å†…å®¹å¯ä»¥åœ¨Developer ä¸­å¿ƒæ‰¾åˆ°ç›¸å…³çš„å†…å®¹ã€‚å¦‚å›¾ï¼Œå‰åŠéƒ¨åˆ†ä¸ºPrefix åŽåŠéƒ¨åˆ†ä¸ºIDï¼Œå³ä½ çš„App çš„bundle idï¼Œä¸¤è€…é€šè¿‡.ç›¸è¿žpaths:ç”¨æ¥å”¤é†’App æ‰€éœ€è¦æŒ‡å®šçš„JSONæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸­çš„è·¯å¾„ã€‚ç”¨â€/* â€œ æ˜¯æ ¹ç›®å½•ï¼Œè€Œ/html åˆ™æ˜¯æŒ‡htmlç›®å½•ä¸‹çš„æ³¨æ„ï¼šè¿™é‡Œçš„AppIDä¸­å‰åŠéƒ¨åˆ†ï¼Œåœ¨App è½¬è®©ä¸»ä½“åŽä¼šæ”¹å˜ï¼Œéœ€é‡æ–°æ›´æ–°å¡«å¥½åŽä¿å­˜ä¸ºapple-app-site-association åï¼Œä¸Šä¼ åˆ°åŸŸåæŒ‡å‘çš„æœåŠ¡å™¨æ ¹ç›®å½•ã€‚ &#123; "applinks": &#123; "apps": [], "details": [ &#123; "appID": "5B5Q4xxxx.com.xxxx.xxxx", "paths": [ "/html/1/*", "/*"] &#125;, ] &#125;&#125; ä¸Šä¼ ä¼ è¯¥æ–‡ä»¶apple-app-site-association ä¸Šä¼ ä¼ è¯¥æ–‡ä»¶apple-app-site-associationåˆ°ä½ çš„åŸŸåæ‰€å¯¹åº”çš„ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹(å…¶å®žä¹Ÿä¸ä¸€å®šæ˜¯æ ¹ç›®å½•,ä¾‹å¦‚ghoståšå®¢ç«™ç‚¹,å°±æ²¡æœ‰æ ¹ç›®å½•ä¸€è¯´,å®ƒå°±éœ€è¦æ”¾åœ¨ç›¸åº”çš„ä¸»é¢˜ç›®å½•ä¸‹) è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è‹¹æžœèƒ½ä»Žhttps://ä½ çš„åŸŸå/apple-app-site-associationxhèŽ·å–åˆ°ä½ ä¸Šä¼ çš„apple-app-site-associationæ–‡ä»¶.ä¸Šä¼ å®ŒåŽ,è‡ªå·±å…ˆè®¿é—®ä¸€ä¸‹,çœ‹çœ‹æ˜¯å¦èƒ½å¤ŸèŽ·å–åˆ°,ç”¨æˆ‘çš„åšä¾‹å­,https://yohunl.com/apple-app-site-association ,å½“ä½ ç‚¹å‡»è¿™ä¸ªé“¾æŽ¥,åº”è¯¥æ˜¯ä¸‹è½½apple-app-site-associationæ–‡ä»¶.éªŒè¯è¯¥æ–‡ä»¶æ˜¯å¦åˆæ³•,è‹¹æžœä¸ºäº†æ–¹ä¾¿å¼€å‘è€…,æä¾›äº†ä¸€ä¸ªç½‘é¡µæ¥éªŒè¯æˆ‘ä»¬ç¼–å†™çš„è¿™ä¸ªapple-app-site-associationæ˜¯å¦åˆæ³•æœ‰æ•ˆ,éªŒè¯ç½‘å€,è¿›å…¥ç½‘ç«™è¿›è¡ŒéªŒè¯ Appé…ç½®å·¥ç¨‹æ–‡ä»¶é…ç½® åœ¨å·¥ç¨‹æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°Targets - Capabilities - Associated Domains å°†å¼€å…³é€‰ä¸ºOnï¼Œå¹¶æ·»åŠ ä½ çš„åŸŸåï¼Œ æ ¼å¼ä¸º applinks: + åŽå°ç»™çš„åŸŸå.com applinks: + www.åŽå°ç»™çš„åŸŸå.com iOSç§»åŠ¨ç«¯çš„ä»£ç - (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity restorationHandler:(void (^)(NSArray * _Nullable))restorationHandler&#123; if ([userActivity.activityType isEqualToString:NSUserActivityTypeBrowsingWeb]) &#123; NSString *url = userActivity.webpageURL.description; // è¿™é‡Œå¯ä»¥é€šè¿‡æ‹†åˆ†url æ¥ä¼ å…¥å‚æ•°ï¼Œè¾¾åˆ°è·³è½¬åŽŸç”Ÿé¡µé¢çš„åŠŸèƒ½ï¼Œå¦‚è·³è½¬æŸå•†å“é¡µ [UIApplication sharedApplication] openURL:webpageURL]; &#125; return YES;&#125; h5ç½‘é¡µé…ç½® h5ç½‘é¡µä¸­å¯¹éœ€è¦å”¤èµ·App çš„æŒ‰é’®æˆ–è€…æŽ§ä»¶æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œäº‹ä»¶çš„å‡½æ•°ä»£ç å¦‚ä¸‹: function wakeUpApp()&#123; if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) &#123; var loadDateTime = new Date(); window.setTimeout(function() &#123; var timeOutDateTime = new Date(); if (timeOutDateTime - loadDateTime &lt; 5000) &#123; window.location.href = "http://a.app.qq.com/o/simple.jsp?pkgname=ä½ çš„åº”ç”¨å®BundleID"; &#125; else &#123; window.close(); &#125; &#125;, 25); window.location.href = "https://yourdomainname.com/"; &#125; else if (navigator.userAgent.match(/android/i)) &#123; var state = null; try &#123; state = window.open("apps custom url schemes ", '_blank'); &#125; catch(e) &#123;&#125; if (state) &#123; window.close(); &#125; else &#123; window.location.href = "è¦è·³è½¬çš„é¡µé¢URL"; &#125; &#125;&#125;]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MarkDomnè¯­æ³•]]></title>
    <url>%2F2017%2F11%2F21%2FMarkDown%2FMarkDown-%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç›®å½•æ•ˆæžœç”Ÿæˆç›®å½•* [1.è¯­æ³•ç¤ºä¾‹](#1)* [1.1å›¾ç‰‡](#1.1) * [1.2æ¢è¡Œ](#1.2)* [1.3å¼ºè°ƒ](#1.3) * å­—ä½“h1&gt;h2&gt;h3.... &lt;h2 id=&quot;1&quot;&gt;ç›®å½•æ ‡é¢˜&lt;/h2&gt; æ•ˆæžœ 1.h2æ¯”h1å­—ä½“å° 1.1å›¾ç‰‡ 1.2æ¢è¡Œ 1.3å¼ºè°ƒ é¡µé¢å†…è·³è½¬é”š æ”¾åœ¨ ç›®çš„åœ°å®šä¹‰ä¸€ä¸ªé”š(id)ï¼š è·³è½¬markdownè¯­æ³•[ç‚¹å‡»è·³è½¬--&gt;](#index)]]></content>
      <categories>
        <category>Tool</category>
        <category>MarkDown</category>
      </categories>
      <tags>
        <tag>MarkDomn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS_App_ä»£ç è§„èŒƒ]]></title>
    <url>%2F2017%2F11%2F20%2FOC%2FCode%2FOC-Code-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[iOSç¼–ç è§„èŒƒhttp://blog.csdn.net/qq350116542/article/details/51195386#import%E8%A7%84%E8%8C%83 #å‘½å å˜é‡å‘½å é¦–å­—æ¯å°å†™ï¼Œé©¼å³°æ³•åˆ™UIæŽ§ä»¶ï¼ˆæè¿°+æŽ§ä»¶ç±»åž‹ï¼‰ priceLabelæˆ–priceLab æ³¨é‡Šä¹Ÿè¦å†™ æœ€å¥½å¯¹é½ @property (nonatomic, strong) UIButton *collectsImgView; //åˆé›† - å›¾æ ‡@property (nonatomic, strong) UILabel *collectsThemeLab; //åˆé›† - ä¸»é¢˜@property (nonatomic, strong) UILabel *collectsAuthorLab; //åˆé›† - ä½œè€… æ–¹æ³•å‘½å é¦–å­—æ¯å°å†™ï¼Œé©¼å³°æ³•åˆ™ public method è§„åˆ™ï¼š æ–¹æ³•ç”¨é€”å•è¯_æ–¹æ³• ä¸€èˆ¬çš„æ–¹æ³• - (void)show_editBtnOnOneViewC:(OneViewC *)oneViewC editBtn:(UIButton *)editBtn.....è·³è½¬ push_æ›´æ–°æ•°æ® update_collectListåˆ é™¤æ•°æ® delete_collectList private method è§„åˆ™ï¼šä¸åŠ ä¸‹åˆ’çº¿ ä¸éœ€è¦andï¼š nameStr:(NSstring)nameStr - (void)pushOnewViewC:(OnewViewC *)onewViewC - nameStr:(NSstring)nameStr &#123;&#125; æ‰©å±•æˆ–å°è£…æ–¹æ³• è§„åˆ™ï¼šä»¥FFæˆ–ffå¼€å¤´ FanFanç®€å†™ - (void)ff_editOnOneViewC:(oneViewC)oneViewC isOpen:(BOOL) isOpen å°‘ç”¨#defineé¢„å¤„ç†æŒ‡ä»¤ï¼Œå¤šç”¨ç±»åž‹å¸¸é‡ é¢„å¤„ç†æŒ‡ä»¤å‘½å ï¼ˆå­—æ¯å…¨å¤§å†™ï¼Œä»¥â€_â€åˆ†å‰²ï¼‰ #define NSString * APP_ROOT_DIR @"xxx" å¸¸é‡å‘½å ï¼ˆå­—æ¯å…¨å¤§å†™ï¼Œâ€kâ€å¼€å¤´ï¼‰ static NSString * const kAPPROOTDIR = @"xxx"; èµ„æºæ–‡ä»¶ä¸­å˜é‡å‘½å å…¨å°å†™ï¼Œâ€â€œåˆ†å‰²æ¨¡å—ï¼š å¼€å‘åŠŸèƒ½æ¨¡å—å¤– nav tab login refresh share hud common(å…¬æœ‰)æ ¼å¼ï¼šâ€œæ¨¡å—ç±»åˆ«çŠ¶æ€æè¿°â€ çŠ¶æ€å¯ä¸è¦ç›®å‰ç‰ˆæœ¬æˆ‘ä»¬ä»¥æ¨¡å—ä½œä¸ºæ–‡ä»¶å¤¹ ï¼ŒåŽé¢çš„æŒ‰ç…§è¿™ä¸ª4ä¸ª personal_btn_un_select.pngpersonal_btn_name_pngnav_btn_left.pngnav_imgView_lright.pngtab_item_un_select.pngtab_item_select.png èƒ½ç”¨ç³–è¡£è¯­æ³•çš„å°½é‡ç”¨ç³–è¡£è¯­æ³•ï¼Œä½¿ç”¨æ—¶æ³¨æ„nilæŠ¥é”™ã€‚NSMutableArray = @[].mutableCopy;NSString *name = dic[@"name"];NSArray *array= @[item1, item2]; ç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çªã€‚å¤§å¤šæ•°çš„è‡ªå®šåˆ¶ï¼Œéƒ½éœ€è¦ç”¨å‰ç¼€æ¯”å¦‚åˆ›å»ºæœ‰è¯»ç•Œé¢ Have (æ–‡ä»¶å¤¹) ViewC(æ–‡ä»¶å¤¹) HaveReadViewC.h View HaveReadView.h Model HaveReadModel.h Cell HaveReadCell.h å§”æ‰˜Delegateçš„å®šä¹‰å’Œä½¿ç”¨æ”¾åœ¨å¯¹åº”ç±»çš„.hæ–‡ä»¶ä¸­ï¼Œå‘½åä¸ºè¯¥ç±»å+Delegateï¼Œ//å®šä¹‰ä»£ç†HaveReadViewCDelegate ==&gt;HaveReadViewC + DelegateHaveReadCellDelegate ==&gt; HaveReadCell + Delegate//å£°æ˜Ž@property (nonatomic, weak) id &lt;ArticleHeadTableUrlDelegate&gt; delegate;//å¿…é¡»åŠ åˆ¤æ–­ï¼ï¼ï¼if (_delegate &amp;&amp; [_delegate respondsToSelector:@selector(push_safariWithUrl:)]) &#123; [_delegate pushSafariWithUrl:XXXXX]; &#125; æ³¨é‡Šä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼+é€‚å½“æ³¨é‡Š/** * @beif: æ‰§è¡Œpushæ“ä½œ ï¼ˆ ç®€å•æ˜Žäº†å°±å¯ä»¥ï¼‰ * * @prama: namestr åç§° * @prama: isOpen æ˜¯å¦æ‰“å¼€ 0 = å…³é—­ 1= æ‰“å¼€ * * @discussion: æ³¨æ„è¿™ä¸ªæ–¹æ³•å­å•Šä½¿ç”¨æ—¶å€™XXXXXXXX ç­‰ç­‰ * **/ viewCé‡ŒåŒºå—åˆ’åˆ† hæ–‡ä»¶é¡¶éƒ¨:ç±»çš„ä½œç”¨ ç±»çš„æ³¨æ„ä¸€äº›å†…å®¹ /** è®¢é˜…åˆé›† åˆ†2ç§ æˆ‘çš„è®¢é˜… xxxx ä»–çš„è®¢é˜… xxx */ ä»£ç† @protocol XXXXXDelegate &lt;NSObject&gt;@required@optional- (void)delete_nameOnOne:(ç±» *)one nameStr:(NSString *) nameStr .... ä»£ç ç»“æž„ //#pragma ------------------ LifeCycleç”Ÿå‘½å‘¨æœŸ -----------------//#pragma ------------------ Setter- (void)setNameLab:(UILable *)nameLab &#123; _nameLab = nameLab; &#125;//#pragma ------------------ Getter- (UIButton *)nameBtn:(UIButton *) nameBtn&#123; if(!_ nameBtn)&#123; nameBtn = ... [self addSubView: nameBtn]; &#125; return nameBtn;&#125;//#pragma ------------------ Layout ------------------//#pragma - nameBtn//#pragma - nameBtn - action //å¸ƒå±€- (void)layoutSubviews;//#pragma ------------------ Plubic Method ------------------- (void)update_newViewC....- (BOOL)delete_editBtn.....//#pragma ------------------ private Method ------------------- (void)updateNewViewC....- (BOOL)deleteEditBtn.....//#pragma mark ------------- API ------------------//#pragma mark ------------- ä»£ç†//#pragma ------------------ Cell ------------------/** * @brief: è®¾ç½®cell * * @prama: tableView * @prama: model * @prama: indexPath * */+( PersonalSubscribeCell *)show_cellOfTableView:(UITableView *)tableView model:(PersonalSubscribeModel *)model indexPath:(NSIndexPath *)indexPath ç¼–ç¨‹ä¹ æƒ¯ ä¸€ä¸ªåŽŸåˆ™ï¼šèƒ½ä¸åšçš„äº‹æƒ…ï¼Œå°½é‡ä¸åšï¼Œå°½é‡å°‘å”¤é†’CPUï¼Œç»ä¸èƒ½åœ¨UIçº¿ç¨‹ä¸­åšè€—æ—¶æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®åº“è¯»å†™ï¼Œæ–‡ä»¶è¯»å†™ç­‰ï¼‰ Copyã€mutableCopyè¦æ³¨æ„å…¶å…³è”çš„å…ƒç´ æ˜¯å¦æ”¯æŒforå¾ªçŽ¯ ä¸è¦åœ¨å¾ªçŽ¯ä¸­åˆ›å»ºå¼•ç”¨ç±»åž‹å˜é‡forå¾ªçŽ¯ä¸­ï¼Œç”¨å±€éƒ¨å˜é‡æ›¿ä»£â€œarray.countâ€ @autoreleasepool@autoreleasepool&#123; forï¼ˆï¼‰&#123; @autoreleasepool&#123;&#125; &#125;&#125; å¼•ç”¨å˜é‡å£°æ˜Žæ”¾åœ¨å¾ªçŽ¯å¤–é¢ï¼Œå¯ä»¥é¿å…åœ¨æ ˆå†…å­˜ä¸­åˆ›å»ºè¿‡å¤šå¼•ç”¨å˜é‡UserInfo userInfo;// é¿å…å¾ªçŽ¯ä¸­æ¯æ¬¡éƒ½è¦è°ƒç”¨userList.countå–å€¼int size = userList.count;for (int i = 0; i &lt; size; i++) &#123; userInfo = userList[i]; // do something...&#125;// æŽ¨èfor (int i = 0, max = userList.count; i &lt; max; i++) &#123; userInfo = userList[i]; // do something...&#125; NSString åœ¨ä¸éœ€è¦å¤–éƒ¨ä»»æ„ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œå…¨éƒ¨ç”¨Copy Block Blockå†…éƒ¨éœ€è¦ä½¿ç”¨å¤–éƒ¨ç±»å˜é‡çš„æ—¶å€™,é˜²æ­¢å¾ªçŽ¯å¼•ç”¨åˆ‡å¿Œåœ¨blockä½“ä¸­ä½¿ç”¨_nameè¿™æ ·çš„å˜é‡ï¼Œè¯·ä½¿ç”¨self.name otehr ç”±äºŽObjective-Cæ˜¯ç±»åž‹ä¸å®‰å…¨çš„ï¼Œæ³¨æ„åŠ å¼ºç±»åž‹åˆ¤æ–­ã€æ•°æ®è¶Šç•Œåˆ¤æ–­ç­‰ç­‰åŽŸåˆ™ä¸Šä¸å»ºè®®æ‹·è´ä»£ç ï¼ŒåŒä¸€æ®µä»£ç æ‹·è´3æ¬¡ï¼Œå¿…é¡»æŠ½ç¦»å‡ºä¸€ä¸ªæ–¹æ³•ï¼Œç»Ÿä¸€è°ƒç”¨æ‰€æœ‰çš„ç³»ç»Ÿçš„å®ï¼Œéƒ½ä¸å¾—åœ¨ä»»æ„åœ°æ–¹ä¹±å®šä¹‰ï¼Œç»Ÿä¸€åœ¨FFConfigæ–‡ä»¶å¤¹ä¸‹çš„å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¹¶å†™å¥½æ³¨é‡ŠViewControllerä¸­çš„ä»£ç è¦åˆ†ç»“æž„ï¼Œå¤šç”¨#pragma mark - Life Circleå¯¹ä»£ç è¿›è¡Œåˆ†åŒºï¼ŒViewControllerä¸­çš„ä»£ç åˆ†åŒºå¯åˆ†ä¸ºLife Circleã€Requestã€Privateã€Delegateã€Lazyç­‰ç­‰ViewControllerä¸­çš„ä»£ç å°½é‡ä¸è¦è¶…è¿‡500è¡Œï¼Œæ³¨æ„ä¼˜åŒ– API ä¸€çº§ç•Œé¢ï¼ŒAPIè€ƒè™‘ç¦»çº¿ç¼“å­˜å¦‚æžœä½ ç”¨ä¸€å¥è¯æ— æ³•å°†ä¸€ä¸ªæ–¹æ³•çš„å†…å®¹è¡¨è¿°æ¸…æ¥šçš„è¯ï¼Œè¿™å¾€å¾€å°±æ„å‘³ç€APIçš„åå­—éœ€è¦æ”¹è¿›äº†ï¼›ä¾‹å¦‚ï¼šremoveAtPoint:å°±ä¼šæ¯”removeè¦æ¸…æ™°å¾ˆå¤š æäº¤ä»£ç è§„èŒƒæäº¤ä»£ç æ—¶çš„æè¿°å¿…é¡»å†™ï¼Œä¸”ç®€æ˜Žæ‰¼è¦å°±å¯ä»¥ æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¯ä¸€ä½å°ä¼™ä¼´éƒ½èƒ½æ¬£èµæˆ‘ä»¬çš„ä»£ç ]]></content>
      <categories>
        <category>OC</category>
        <category>Code</category>
      </categories>
      <tags>
        <tag>OC</tag>
        <tag>Code</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC-Lib-SDWebImagåŠ è½½é«˜åˆ†è¾¨çŽ‡å›¾é—®é¢˜]]></title>
    <url>%2F2017%2F11%2F20%2FOC%2FLib%2FSDWebImag%2FOC-Lib-SDWebImag%E5%8A%A0%E8%BD%BD%E9%AB%98%E5%88%86%E8%BE%A8%E7%8E%87%E5%9B%BE%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[SDWebImage_å›¾ç‰‡åˆ†è¾¨çŽ‡è¿‡é«˜å†…å­˜è¿‡é«˜é—®é¢˜#é«˜åˆ†è¾¨çŽ‡å¤šå›¾é—®é¢˜ï¼š é«˜åˆ†è¾¨çŽ‡å›¾ï¼Œå¯¼è‡´å†…å­˜é£™å‡ï¼Œå¡é¡¿ï¼Œè®¾ç½®é—ªé€€,æç¤ºï¼š Restore the connection to &quot;â€œXXXâ€çš„ iPod&quot; and run &quot;XXX&quot; again, or if &quot;XXX&quot; is still running, you can attach to it by selecting Debug &gt; Attach to Process &gt; XXX. ç”±äºŽåº”ç”¨ç¨‹åºçªç„¶æ¶ˆè€—äº†å¤§é‡å†…å­˜ï¼Œç„¶åŽå†åˆ†é…è°ƒåº¦å†…å­˜çš„æ—¶å€™ï¼Œå‡ºçŽ°é”™è¯¯ï¼Œè‡´ä½¿ç³»ç»Ÿå°†APPè¿›ç¨‹å…³é—­ã€‚èƒ½å¤ŸåŽ»æŸ¥çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯è½½å…¥äº†å¤§é‡çš„å›¾ç‰‡ç­‰ç­‰ï¼Œæˆ–è€…å“ªé‡Œæœ‰æ¶ˆè€—å†…å­˜çš„åœ°æ–¹æ”¹åŠ¨ä¸€ä¸‹ã€‚ åˆ†æžSDWebimageï¼Œ 1.åˆ¤æ–­æœ¬åœ°æ˜¯å¦æœ‰è¿™å¼ å›¾2.äºŒæœ‰çš„æ—¶å€™ç›´æŽ¥ä»Žæœ¬åœ°å–å›¾ç‰‡3.æ²¡æœ‰çš„æ—¶å€™åŽ»ç½‘ç»œä¸‹è½½ if(imgStr.length&gt;0)&#123; [[SDImageCache sharedImageCache] queryDiskCacheForKey:imgStr done:^(UIImage *image, SDImageCacheType cacheType) &#123; if (image) &#123; [_oneImage setImage:image]; &#125;else&#123; [_oneImage sd_setImageWithURL:kNSUrl(imgStr) placeholderImage:IMGNAMED(@&quot;defaultAvatar2&quot;) options:SDWebImageRefreshCached completed:^(UIImage *image, NSError *error, SDImageCacheType cacheType, NSURL *imageURL) &#123; if (image) &#123; [[SDImageCache sharedImageCache] storeImage:image forKey:imgStr toDisk:YES]; &#125; &#125;]; &#125; &#125;];&#125; å†…éƒ¨ä¼šè°ƒç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•- (UIImage *)diskImageForKey:(NSString *)key &#123; NSData *data = [self diskImageDataBySearchingAllPathsForKey:key]; if (data) &#123; UIImage *image = [UIImage sd_imageWithData:data]; image = [self scaledImageForKey:key image:image]; image = [UIImage decodedImageWithImage:image]; return image; &#125; else &#123; return nil; &#125; &#125; UIImage *image = [UIImage sd_imageWithData:data];å›¾ç‰‡å–å‡ºæ¥çš„æ—¶å€™å°±å·²ç»å·¨å¤§æ— æ¯”ï¼Œå ç”¨äº†å¾ˆå¤§çš„å†…å­˜ï¼Œå¯¼è‡´å†…å­˜æ¥ä¸åŠé‡Šæ”¾å°±å´©æºƒ è§£å†³UIImage+MultiFormatè¿™ä¸ªç±»é‡Œé¢æ·»åŠ å¦‚ä¸‹åŽ‹ç¼©æ–¹æ³•ï¼Œ+(UIImage *)compressImageWith:(UIImage *)image &#123; float imageWidth = image.size.width; float imageHeight = image.size.height; float width = 640; float height = image.size.height/(image.size.width/width); float widthScale = imageWidth /width; float heightScale = imageHeight /height; // åˆ›å»ºä¸€ä¸ªbitmapçš„context // å¹¶æŠŠå®ƒè®¾ç½®æˆä¸ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„context UIGraphicsBeginImageContext(CGSizeMake(width, height)); if (widthScale &gt; heightScale) &#123; [image drawInRect:CGRectMake(0, 0, imageWidth /heightScale , height)]; &#125; else &#123; [image drawInRect:CGRectMake(0, 0, width , imageHeight /widthScale)]; &#125; // ä»Žå½“å‰contextä¸­åˆ›å»ºä¸€ä¸ªæ”¹å˜å¤§å°åŽçš„å›¾ç‰‡ UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext(); // ä½¿å½“å‰çš„contextå‡ºå †æ ˆ UIGraphicsEndImageContext(); return newImage; &#125; ä¿®æ”¹ç¬¬ä¸‰æ–¹æ–¹æ³•#ifdef SD_WEBP else if ([imageContentType isEqualToString:@&quot;image/webp&quot;]) &#123; image = [UIImage sd_imageWithWebPData:data]; &#125; #endif else &#123; image = [[UIImage alloc] initWithData:data]; if (data.length/1024 &gt; 128) &#123; image = [self compressImageWith:image]; &#125; UIImageOrientation orientation = [self sd_imageOrientationFromImageData:data]; if (orientation != UIImageOrientationUp) &#123; image = [UIImage imageWithCGImage:image.CGImage scale:image.scale orientation:orientation]; &#125; è®¾ç½®åŠ è½½åœ¨SDWebImageDownloaderOperationçš„connectionDidFinishLoadingæ–¹æ³•é‡Œé¢çš„ UIImage *image = [UIImage sd_imageWithData:self.imageData]; //å°†ç­‰æ¯”åŽ‹ç¼©è¿‡çš„imageåœ¨èµ‹åœ¨è½¬æˆdataèµ‹ç»™self.imageData NSData *data = UIImageJPEGRepresentation(image, 1); self.imageData = [NSMutableData dataWithData:data]; å†é…åˆ [[SDImageCache sharedImageCache] setValue:nil forKey:@&quot;memCache&quot;];ï¼ˆå›¾ç‰‡åŠ è½½åŽä½¿ç”¨ï¼‰å¤§åŠŸå‘Šæˆï¼Œäº²æµ‹å†…å­˜åŸºæœ¬å˜åŒ–ä¸å¤§ï¼Œè‡ªåŠ¨é‡Šæ”¾ä¹Ÿæ¥å¾—åŠ]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>SDWebImage</category>
      </categories>
      <tags>
        <tag>SDWebImage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC-Func-é…ç½®å¯åŠ¨å›¾/å›¾æ ‡]]></title>
    <url>%2F2017%2F11%2F20%2FOC%2FFunc%2FOC-Func-%E9%85%8D%E7%BD%AE%E5%90%AF%E5%8A%A8%E5%9B%BE-%E5%9B%BE%E6%A0%87%2F</url>
    <content type="text"><![CDATA[https://www.cnblogs.com/xiu619544553/p/5348678.html]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OC-Func-æ£€æŸ¥é¡¹ç›®æ˜¯å¦ä½¿ç”¨IDFA]]></title>
    <url>%2F2017%2F11%2F20%2FOC%2FFunc%2F%E6%A3%80%E6%9F%A5%E9%A1%B9%E7%9B%AE%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8IDFA%2F</url>
    <content type="text"><![CDATA[http://blog.csdn.net/chelongfei/article/details/51495862]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Func</tag>
        <tag>OC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OC -Lib-JSBadgeViewæ•°å­—è§’æ ‡]]></title>
    <url>%2F2017%2F11%2F14%2FOC%2FLib%2FJSBadgeView%2FOC-Lib-JSBadgeView%E6%95%B0%E5%AD%97%E8%A7%92%E6%A0%87%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨æ–¹æ³•//åœ¨çˆ¶æŽ§ä»¶ä¸Šæ˜¾ç¤ºï¼Œ//æ˜¾ç¤ºçš„ä½ç½®TopRight self.badgeView = [[JSBadgeView alloc]initWithParentView:parentView alignment:JSBadgeViewAlignmentTopRight]; //ä½ç½® self.badgeView.badgePositionAdjustment = CGPointMake(-15, 10);//è®¾ç½®tagè¦è¾¨åˆ« self.badgeView.tag = 10086;//èƒŒæ™¯è‰²self.badgeView.badgeBackgroundColor = [UIColor redColor]; //æ²¡æœ‰åå…‰é¢self.badgeView.badgeOverlayColor = [UIColor clearColor]; //å¤–åœˆçš„é¢œè‰²ï¼Œé»˜è®¤æ˜¯ç™½è‰² self.badgeView.badgeStrokeColor = [UIColor redColor]; è®¾ç½®æ•°å­—//1ã€ç”¨å­—ç¬¦self.badgeView.badgeText = @&quot;1&quot;; //2ã€å¦‚æžœä¸æ˜¾ç¤ºå°±è®¾ç½®ä¸ºç©ºself.badgeView.badgeText = nil; //å½“æ›´æ–°æ•°å­—æ—¶ï¼Œæœ€å¥½åˆ·æ–°ï¼Œä¸ç„¶ç”±äºŽframeå›ºå®šçš„ï¼Œæ•°å­—ä¸º2ä½æ—¶ï¼Œçº¢åœˆå˜å½¢ [self.badgeView setNeedsLayout];]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>JSBadgeView</category>
      </categories>
      <tags>
        <tag>Lib</tag>
        <tag>OC</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-UIKit-UILaebl_Shadowæ–‡å­—é˜´å½±]]></title>
    <url>%2F2017%2F11%2F14%2FOC%2FKit%2FUILabel-Shadow%E6%96%87%E5%AD%97%E9%98%B4%E5%BD%B1%2F</url>
    <content type="text"><![CDATA[#æ–¹æ³•1 è®¾ç½®UILabelä¸­çš„shadowColorå’ŒshadowOffsetå±žæ€§ é—®é¢˜:é˜´å½±æ²¡æœ‰æ¨¡ç³Šæ•ˆæžœï¼Œå¹¶ä¸”æ— æ³•è®¾ç½®é˜´å½±çš„å®½åº¦ç­‰ç­‰ï¼Œæ¯”è¾ƒå…·æœ‰å±€é™æ€§ #æ–¹æ³•2 NSShadow *shadow = [[NSShadow alloc]init]; shadow.shadowBlurRadius = 1; shadow.shadowOffset = CGSizeMake(0,1); shadow.shadowColor = [UIColor colorWithWhite:0 alpha:0.6]; NSAttributedString *attText = [[NSAttributedString alloc]initWithString:[NSString stringWithFormat:@&quot;%@æµè§ˆè¿‡&quot;,!model.read_num?@&quot;0&quot;:model.read_num] attributes:@&#123;NSShadowAttributeName:shadow&#125;]; cell.skimLab.attributedText = attText;]]></content>
      <categories>
        <category>OC</category>
        <category>UIKit</category>
        <category>UILabel</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Runtimeå®žè·µ:å ä½å›¾]]></title>
    <url>%2F2017%2F11%2F13%2FOC%2FGrammar%2FiOS-RunTime-%E5%8D%A0%E4%BD%8D%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[è¾ˆå‡ºæœ‰è¯» é‡Œä»£ç ]]></content>
      <categories>
        <category>iOS</category>
        <category>RunTime</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-å†…å­˜æ£€æµ‹å·¥å…·Analyze]]></title>
    <url>%2F2017%2F11%2F13%2FOC%2FFunc%2FiOS-Func-%E5%86%85%E5%AD%98%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7Analyze%2F</url>
    <content type="text"><![CDATA[å†…å­˜æ£€æµ‹å·¥å…·Analyzeå¼€å¯Analyzexcode----product-----Analyze(å¿«æ·é”®:Shift + Cmd + B) iOSçš„åˆ†æžå·¥å…·å¯ä»¥å‘çŽ°ç¼–è¯‘ä¸­çš„warningï¼Œå†…å­˜æ³„æ¼éšæ‚£ï¼Œç”šè‡³è¿˜å¯ä»¥æ£€æŸ¥å‡ºlogicä¸Šçš„é—®é¢˜åœ¨è‡ªæµ‹é˜¶æ®µä¸€å®šè¦è§£å†³Analyzeå‘çŽ°çš„é—®é¢˜ï¼Œå¯ä»¥é¿å…å‡ºçŽ°ä¸¥é‡çš„bug å¸¸è§é—®é¢˜ å†…å­˜æ³„æ¼éšæ‚£æç¤º Potential Leak of an object allocated on line â€¦â€¦ æ•°æ®èµ‹å€¼éšæ‚£æç¤º The left operand of â€¦â€¦ is a garbage value å¯¹è±¡å¼•ç”¨éšæ‚£æç¤º Reference-Counted object is used after it is released å…·ä½“é—®é¢˜é‡å†™UIViewControllerçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•eg: The â€˜viewWillAppear:â€™ instance method in UIViewController subclass â€˜YourViewControllerâ€™ is missing a [super viewWillAppear:] call &gt; -(void)viewWillAppear:(BOOL)animated&#123; [superviewWillAppear:YES]; //your code...&#125; åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰è¢«ä½¿ç”¨eg: value stored to â€˜YourVariableâ€™ is never read å˜é‡å¤šæ¬¡åˆå§‹åŒ–ï¼Œå…¶ä¸­çš„æŸäº›åˆå§‹åŒ–çš„å˜é‡å¹¶æ²¡æœ‰ä½¿ç”¨è¿‡eg: value stored to â€˜YourVariableâ€™during its initialization is never read é‡æ–°çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•æ—¶æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³• é”™è¯¯ä»£ç ç¤ºä¾‹ï¼š -(instancetype)initWithFrame:(CGRect)frame&#123; if(self== [superinitWithFrame:frame])&#123; &#125; return self;&#125; å…ˆè°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå†è‡ªå®šä¹‰å¤„ç† -(instancetype)initWithFrame:(CGRect)frame&#123; self = [superinitWithFrame:frame]; if (self) &#123; &#125; return self;&#125; å±žæ€§æ ‡æ˜Žé”™è¯¯(strong,retain,assign)potential leak of an object å˜é‡æœªåˆå§‹åŒ–å°±ä½¿ç”¨The left operand of â€˜+â€™ is a garbage value]]></content>
      <categories>
        <category>iOS</category>
        <category>Func</category>
      </categories>
      <tags>
        <tag>Func</tag>
        <tag>OC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Func-å¼‚å¸¸æ•èŽ·-å †æ ˆä¿¡æ¯çš„è§£æž]]></title>
    <url>%2F2017%2F11%2F11%2FOC%2FFunc%2FiOS-Func-%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7-%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[å †æ ˆä¿¡æ¯çš„è§£æž æœ€ä½¿ç”¨NSSetUncaughtExceptionHandlerå’Œsignalæ–¹æ³•æ•èŽ·å¼‚å¸¸ï¼Œå¹¶ä¼ åˆ°æœåŠ¡å™¨ï¼Œç”¨æ¥è¿½è¸ªçº¿ä¸Šappçš„å¼‚å¸¸ä¿¡æ¯æ•èŽ·åˆ°çš„éƒ½æ˜¯å †æ ˆä¿¡æ¯ï¼š å¦‚ä½•åˆ©ç”¨è¿™äº›å †æ ˆä¿¡æ¯æŸ¥çœ‹æŠ¥é”™æ–¹æ³•åå’Œè¡Œæ•°ï¼Ÿ å¼‚å¸¸ä¿¡æ¯ å¼‚å¸¸ä¿¡æ¯æœ‰ä¸‰ç§ç±»åž‹ â‘ å·²æ ‡è®°é”™è¯¯ä½ç½®çš„:ä¿¡æ¯å·²ç»å¾ˆæ˜Žç¡®äº†ï¼Œä¸ç”¨è§£æžtest 0x000000010bfddd8c -[ViewController viewDidLoad] + 8588 â‘¡æœ‰æ¨¡å—åœ°å€çš„æƒ…å†µäºŒè¿›åˆ¶åº“åï¼ˆtestï¼‰è°ƒç”¨æ–¹æ³•çš„åœ°å€ï¼ˆ0x00000001018157dcï¼‰æ¨¡å—åœ°å€ï¼ˆ0x100064000ï¼‰+åç§»åœ°å€ï¼ˆ24844252ï¼‰ test 0x00000001018157dc 0x100064000 + 24844252 â‘¢æ— æ¨¡å—åœ°å€çš„æƒ…å†µï¼š test 0x00000001018157dc test + 24844252 dSYMç¬¦å·è¡¨èŽ·å– xcode-&gt;window-&gt;organizer-&gt;å³é”®ä½ çš„åº”ç”¨ show finder-&gt;å³é”®.xcarchive æ˜¾ç¤ºåŒ…å†…å®¹-&gt;dSYMs-&gt;test.app.dYSM atoså‘½ä»¤ atoså‘½ä»¤æ¥ç¬¦å·åŒ–æŸä¸ªç‰¹å®šæ¨¡å—åŠ è½½åœ°å€ $ atos [-arch æž¶æž„å] [-o ç¬¦å·è¡¨] [-l æ¨¡å—åœ°å€] [æ–¹æ³•åœ°å€] è§£æž ä½¿ç”¨ç»ˆç«¯ï¼Œè¿›åˆ°test.app.dYSMæ‰€åœ¨ç›®å½• â‘ å¦‚æžœæ˜¯æœ‰æ¨¡å—åœ°å€çš„æƒ…å†µï¼Œè¿è¡Œï¼š $ atos -arch arm64 -o test.app.dSYM/Contents/Resources/DWARF/test -l 0x100064000 0x00000001018157dc â‘¡.å¦‚æžœæ˜¯æ— æ¨¡å—åœ°å€çš„æƒ…å†µ â¶å…ˆå°†åç§»åœ°å€è½¬ä¸º16è¿›åˆ¶ï¼š 24844252 = 0x17B17DC â·ç„¶åŽç”¨æ–¹æ³•çš„åœ°å€-åç§»åœ°å€ï¼Œå¾—åˆ°çš„å°±æ˜¯æ¨¡å—åœ°å€ 0x00000001018157dc - 0x17B17DC = 0x100064000 â¸æœ€åŽè¿è¡Œ $ atos -arch arm64 -o test.app.dSYM/Contents/Resources/DWARF/test -l 0x100064000 0x00000001018157dc iOSå´©æºƒå †æ ˆç¬¦å·åŒ–http://blog.csdn.net/tencent_bugly/article/details/46275773 http://blog.csdn.net/reylen/article/details/50568440 https://www.cnblogs.com/1oo1/p/4462649.html]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Git-é¡¹ç›®ä»“åº“é…ç½®]]></title>
    <url>%2F2017%2F11%2F09%2FGit%2FGit-%E9%A1%B9%E7%9B%AE%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[https://www.jianshu.com/p/15f68b7cee9f http://blog.csdn.net/lqq200912408/article/details/50422184]]></content>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-Functionå‡½æ•°]]></title>
    <url>%2F2017%2F02%2F05%2FSwift%2FGrammar%2FFunction%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[â‘  å‡½æ•°å®šä¹‰&amp;&amp;å½¢å¼ Swiftçš„å‡½æ•°å’ŒCçš„å‡½æ•°å®šä¹‰æ–¹å¼æœ‰åŒºåˆ«ï¼ŒSwiftå°†è¿”å›žç±»åž‹å†™åœ¨å‡½æ•°çš„æœ€åŽ funcå‡½æ•°å (å‚æ•°åˆ—è¡¨) -&gt; è¿”å›žå€¼ &#123; //å‡½æ•°ä½“&#125; å‡½æ•°è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åŽæ‰“å°å‡ºè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸² //å‡½æ•°å®šä¹‰func printYourName (name: String)-&gt;String &#123; print(name) return "Hello, " + name&#125;var s = printYourName(name: "Tom") //å‡½æ•°è°ƒç”¨print(s) //æ‰“å° Hello, Tom å‡½æ•°è¿”å›žå€¼ï¼šå‡½æ•°è¿”å›žå€¼ç”¨-&gt;åŽè·Ÿç±»åž‹è¯´æ˜Žç¬¦å·å‡½æ•°çš„å¤šè¿”å›žå€¼ã€‚å¯ä»¥ç”¨å…ƒç»„è¿”å›žå¤åˆå¤šå€¼ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ²¡æœ‰è¿”å›žå€¼å¤åˆ¶ä»£ç ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›žå€¼ï¼Œé‚£ä¹ˆä»Ž -&gt; è¿”å›žå€¼ è¿™ä¸ªéƒ¨åˆ†å¯ä»¥çœç•¥ //å‡½æ•°å®šä¹‰func printYourName (name: String) &#123; print(name)&#125; æœ‰å¤šä¸ªå‚æ•° func printTwoString(firstString: String, secondString: String) &#123; print(firstString,secondString)&#125;printTwoString(firstString: "hello", secondString: "Kate") å‡½æ•°å‚æ•°é»˜è®¤ä¸ºletç±»åž‹çš„å¦‚æžœä½ æƒ³æ›´æ”¹å‚æ•°å‰¯æœ¬ï¼Œé‚£ä¹ˆä½ è¦æ˜¾ç¤ºä½¿ç”¨varä¿®é¥°å½“ç„¶ä¹Ÿå¯ä»¥ä¸éœ€è¦å‚æ•°çš„å‡½æ•°å¦‚æžœä½ åƒæ›´æ”¹å‚æ•°ä½œä¸ºè¾“å…¥è¾“å‡ºç”¨inout,è°ƒç”¨æ—¶å€™è¦ç”¨å–åœ°å€ç¬¦å·&amp; func GetName(inout strName:String)&#123; strName += " hello" &#125;var strTest = "oo"GetName(&amp;strTest)println("\(strTest)") Function Argument Labels and Parameter Names åœ¨å‡½æ•°å®šä¹‰æ—¶å€™ï¼Œå‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨çš„fristStringå’ŒsecondStringç§°ä¸ºå‚æ•°(Parameter).ä½†æ˜¯å‚æ•°åŒ…å«äº†ä¸¤ä¸ªä¸œè¥¿ 1æ˜¯Argument Labelï¼Œå®ƒæ˜¯åœ¨æ–¹æ³•è°ƒç”¨çš„æ—¶å€™å†™åœ¨å‚æ•°å€¼å‰é¢çš„å‚æ•°æ ‡è®°ï¼Œæ¯”å¦‚ä¸‹é¢è°ƒç”¨ä¸­çš„firstStringå’ŒsecondString printTwoString(firstString: "hello", secondString: "Kate") 2æ˜¯Parameter Namesï¼Œå®ƒåªçš„æ˜¯åœ¨æ–¹æ³•ä½“é‡Œé¢ä½¿ç”¨åˆ°çš„å‚æ•°æ ‡å¿— printTwoStringæ–¹æ³•ä½“é‡Œé¢printç§ä½¿ç”¨åˆ°çš„firstString,secondString é»˜è®¤æƒ…å†µä¸‹ï¼ŒArgument Labelå’ŒParameter Namesæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰Argument Labelï¼Œæ–¹æ³•æ˜¯åœ¨Parameter Nameså‰é¢åŠ ä¸Šå¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶ç”¨ç©ºæ ¼ç›¸éš”ï¼Œå¦‚ä¸‹ï¼Œbeginæ˜¯è‡ªå®šä¹‰çš„Argument Labelï¼Œç„¶åŽè°ƒç”¨çš„æ—¶å€™å°±éœ€è¦ä½¿ç”¨beginæ¥æŒ‡å®šå‚æ•° func printTwoString(begin firstString: String, secondString: String) &#123; print(firstString,secondString)&#125;printTwoString(begin: "hello", secondString: "Kate") ä½¿ç”¨printçš„æ—¶å€™æ²¡æœ‰åŠ ä¸Šä»»ä½•çš„Argument Labelã€‚å¦‚æžœä½ ä¸æƒ³è¦Argument Labelï¼Œé‚£ä¹ˆåœ¨å®šä¹‰æ–¹æ³•çš„æ—¶å€™ï¼Œå°†Argument Labelçš„å­—ç¬¦ä¸²å†™ä¸ºä¸‹åˆ’çº¿ _ func printTwoString(firstString: String, _ secondString: String) &#123; print(firstString,secondString)&#125;printTwoString(firstString: "hello", "Kate") //å¿½ç•¥äº†ç¬¬äºŒå‚æ•°çš„å¤–éƒ¨å‚æ•°åä¹‹åŽï¼Œè¿™é‡Œå°±ä¸èƒ½åŠ ä¸Šå¤–éƒ¨å‚æ•°åäº† å‚æ•°é»˜è®¤å€¼ å¯ä»¥ç»™å‚æ•°èµ‹å€¼é»˜è®¤å€¼ã€‚å…·æœ‰é»˜è®¤å€¼çš„å‚æ•°ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ç”¨ç»™å®ƒèµ‹å€¼ã€‚å¥½æ¯”printæ–¹æ³•ï¼Œå®ƒçš„åŽŸåž‹æ˜¯ print(_:separator:terminator:) ä½†æ˜¯ä¸€èˆ¬ä½¿ç”¨çš„æ—¶å€™éƒ½åªä¼ äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŽŸå› å°±åœ¨äºŽå®ƒåŽé¢çš„ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…·æœ‰é»˜è®¤å€¼çš„ã€‚ç»™å‚æ•°è®¾ç½®é»˜è®¤å€¼çš„æ–¹æ³•æ˜¯åœ¨æ–¹æ³•å®šä¹‰çš„æ—¶å€™ï¼Œåœ¨å‚æ•°çš„åŽé¢ç”¨ = åŠ ä¸Šé»˜è®¤å€¼ã€‚å¦‚ä¸‹ä»£ç ã€‚å®˜æ–¹æ–‡æ¡£å»ºè®®æˆ‘ä»¬æŠŠå¸¦é»˜è®¤å€¼çš„å‚æ•°æ”¾åœ¨å‚æ•°åˆ—è¡¨çš„æœ«å°¾ï¼Œè¿™æ ·åœ¨è°ƒç”¨çš„æ—¶å€™ä¸è‡³äºŽæ··æ·†ã€‚ä½†æ˜¯å…¶å®žå¯ä»¥å¯¹æ¯ä¸ªå‚æ•°éƒ½èµ‹å€¼é»˜è®¤å€¼ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ func printTwoString(firstString: String = "hello", secondString: String = "Lucy", thirdString: String = "end") &#123; print(firstString,secondString,thirdString)&#125;printTwoString( secondString:"two") //ä½¿ç”¨å¤–éƒ¨å‚æ•°åæŒ‡å®šè¦èµ‹å€¼çš„å‚æ•°ï¼Œå…¶ä»–å‚æ•°ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¾“å‡º hello two end å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœæ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°åœ¨è°ƒç”¨çš„æ—¶å€™ä¹Ÿæ²¡æœ‰ç»™å…¶èµ‹å€¼ï¼Œé‚£ä¹ˆä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™æŠ¥é”™ã€‚å¦‚æžœä½ åˆæŠŠå‚æ•°åˆ—è¡¨çš„Argument Labeléƒ½åŽ»æŽ‰çš„è¯ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œä½ ç»™çš„å‚æ•°å°†ä¼šä»Žå¤´å¼€å§‹åŒ¹é…ã€‚å¦‚æžœå‚æ•°ç±»åž‹ä¸åŒ¹é…çš„è¯ï¼Œå°±ä¼šæŠ¥é”™ã€‚å½“ç„¶ï¼Œä¸å»ºè®®å¤§å®¶è¿™æ ·åšï¼Œå› ä¸ºä¼šå¯¼è‡´ç¨‹åºçš„å¯è¯»æ€§å˜å·® å¯å˜å‚æ•°åˆ—è¡¨func printStrings(strings: String...) &#123; print(strings)&#125;printStrings("1","2","3") //è¾“å‡º ["1", "2", "3"] é€šè¿‡è¾“å‡ºæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯å˜å‚æ•°åœ¨å‡½æ•°ä½“å†…æ˜¯ä»¥æ•°ç»„çš„ç±»åž‹å­˜åœ¨çš„ã€‚è¿™ç‚¹åœ¨å®˜æ–¹æ–‡æ¡£ä¸Šæœ‰è¯´æ˜Ž In-Out å‚æ•° åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œå‚æ•°ä¼ é€’ç»™æ–¹æ³•åŽéƒ½æ˜¯å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½åœ¨å‡½æ•°ä½“é‡Œé¢å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹ã€‚è¿™ä¸ªå¸¸é‡æ˜¯ä¸ªå½¢å‚ï¼Œä¸æ˜¯ä¹‹å‰çš„å®žå‚ func add(first: Int, _ second: Int) -&gt; Int&#123; first = 2 //è¿™å¥æŠ¥é”™ return first + second&#125; æœ‰ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æ–¹æ³•é‡Œé¢æ”¹å˜å®žå‚çš„å€¼ï¼Œæ‰€ä»¥æœ‰äº†inoutå…³é”®å­—ï¼Œè¿™ä¸ªå…³é”®å­—ä¸èƒ½å¯¹å¯å˜å‚æ•°æ·»åŠ ï¼ŒåŒæ—¶åŠ ä¸Šäº†è¿™ä¸ªkeywordä¹‹åŽï¼Œä¸èƒ½å†æ·»åŠ  var letï¼Œä¹Ÿä¸èƒ½æœ‰é»˜è®¤å€¼ã€‚ç„¶åŽè°ƒç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªå‚æ•°å¿…é¡»ä¼ é€’ä¸€ä¸ªå˜é‡ï¼Œè€Œä¸èƒ½æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”åœ¨å˜é‡å‰åŠ &amp; func add(first: inout Int, _ second: Int) -&gt; Int&#123; first = 2 return first + second&#125;var a = 1print("result = \(add(first: &amp;a, 3)), a = \(a) " )//è¾“å‡º result = 5, a = 2 å…³äºŽIn-Outï¼Œè¿™ä¸ªå®žçŽ°åŽŸç†æ˜¯å…ˆå°†å®žå‚copyï¼Œç„¶åŽåœ¨æ–¹æ³•ä½“å†…å¤„ç†ï¼Œæ–¹æ³•ç»“æŸçš„æ—¶å€™ï¼Œå†æŠŠcopyè¦†ç›–å›žåŽŸæ¥çš„å®žå‚ã€‚æ‰€ä»¥å¦‚æžœä½ åœ¨æ–¹æ³•ä½“é‡Œé¢åŽ»æ”¹å˜å®žå‚ï¼ˆé€šè¿‡æŸäº›æ–¹æ³•èŽ·å¾—ï¼‰ï¼Œé‚£ä¹ˆåœ¨æ–¹æ³•ç»“æŸçš„æ—¶å€™ï¼Œä½ å¯¹å®žå‚çš„æ”¹å˜ä¼šè¢«å½¢å‚è¦†ç›–ã€‚å»ºè®®ä¸è¦åœ¨æ–¹æ³•ä½“é‡Œé¢æ“ä½œInOutå‚æ•°çš„å®žå‚ã€‚ å…³äºŽInOutå‚æ•°çš„æ•èŽ·é—®é¢˜è¯·å‚è§å®˜æ–¹æ–‡æ¡£ å‡½æ•°ç±»åž‹ å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç±»åž‹ã€‚å‡½æ•°ç±»åž‹ç”±å‡½æ•°å®šä¹‰å†³å®š func add(first: inout Int, _ second: Int) -&gt; Int&#123; first = 2; return first + second&#125; å®ƒçš„å‡½æ•°ç±»åž‹ä¸º (inout Int, Int) -&gt; Intå¦‚æžœæ²¡æœ‰å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›žå€¼çš„å‡½æ•°ï¼Œå‡½æ•°ç±»åž‹ä¸º () -&gt; voidï¼Œä¹Ÿå¯ä»¥å†™ä¸º () -&gt; ()å‡½æ•°ç±»åž‹å¯ä»¥å’ŒåŸºæœ¬ç±»åž‹ä¸€æ ·ï¼Œç”¨æ¥å®šä¹‰å˜é‡ã€‚ç»§ç»­åˆ©ç”¨ä¸Šé¢å®šä¹‰çš„addå‡½æ•° var mathFunc : (inout Int, Int) -&gt; Int = addvar f = 1;var s = 2;let result = mathFunc(&amp;f,s) //ä½¿ç”¨å‡½æ•°ç±»åž‹ å‡½æ•°ç±»åž‹å¯ä»¥ç”¨åšå‚æ•°æˆ–è¿”å›žå€¼ï¼Œåˆ©ç”¨ä¸Šé¢å®šä¹‰çš„mathFuncå˜é‡ï¼Œå¯ä»¥æœ‰ func add(first: inout Int, _ second: Int) -&gt; Int&#123; first = 2; return first + second&#125;var mathFunc : (inout Int, Int) -&gt; Int = addfunc doMath(mathFunc: (inout Int, Int) -&gt; Int, first: inout Int, second: Int) &#123; print("mathFunc = \(mathFunc(&amp;first,second))") print("first = \(first)")&#125;var f = 1;var s = 2;doMath(mathFunc: mathFunc, first: &amp;f, second: 2)print("f = \(f)")//è¾“å‡º//mathFunc = 4//first=2//f=2 åµŒå¥—å‡½æ•° åœ¨å‡½æ•°é‡Œé¢å†å®šä¹‰å‡½æ•°ã€‚è¿™ä¸ªåµŒå¥—å‡½æ•°å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›žå€¼è¿”å›žï¼Œä½¿å¾—å®ƒå¯ä»¥åœ¨å…¶ä»–èŒƒå›´å†…è¿›è¡Œä½¿ç”¨ã€‚ä¾‹å­å¦‚ä¸‹//å®šä¹‰äº†add å’Œ sub ä¸¤ä¸ªåµŒå¥—å‡½æ•°ï¼Œç„¶åŽç”¨äºŽè¿”å›žã€‚å¦‚æžœè¾“å…¥çš„ä¸æ˜¯â€+â€œæˆ–â€-â€œï¼Œé‚£ä¹ˆè¿”å›žä¸€ä¸ªnilã€‚æ³¨æ„giveMeFuncè¿”å›žçš„æ˜¯ä¸€ä¸ªå‡½æ•°ç±»åž‹çš„å¯é€‰ç±»åž‹ func giveMeFunc(opt: Character) -&gt; ((Int, Int) -&gt; Int)? &#123; var method : ((Int, Int) -&gt; Int)? switch opt &#123; case "+" : func add(one: Int, _ two: Int) -&gt; Int &#123; return one + two &#125; method = add case "-" : func sub(one: Int, _ two: Int) -&gt; Int &#123; return one - two &#125; method = sub default : method = nil &#125; return method&#125;if let m = giveMeFunc(opt:"-") &#123; print(m(1, 2)) // æ‰“å° -1, ç•™æ„ä¸€ä¸‹ï¼Œè¿™é‡Œæ²¡æœ‰Argument Labelã€‚&#125; æ“ä½œç¬¦æ–¹æ³•ï¼ˆOperator Methodsï¼‰ swiftå’ŒC++ä¸€æ ·ï¼Œå¯ä»¥å®šä¹‰æ“ä½œç¬¦å‡½æ•°ã€‚æ“ä½œç¬¦æŒ‡çš„æ˜¯+ï¼Œ-ï¼Œ/ï¼Œ%ï¼Œ+=ç­‰ç­‰ã€‚ä¸€èˆ¬æˆ‘ä»¬è¿™äº›æ“ä½œç¬¦æ˜¯ç»™æ•°å­—ç±»åž‹ä½¿ç”¨çš„ã€‚ä½†æ˜¯æœ‰äº†æ“ä½œç¬¦å‡½æ•°ä¹‹åŽï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è¿™ç±»ç¬¦å·çš„è¿ç®—è§„åˆ™ã€‚ä¸‹é¢æ˜¯å®˜æ–¹çš„ç¤ºä¾‹ struct Vector2D &#123; var x = 0.0, y = 0.0&#125;extension Vector2D &#123; static func + (left: Vector2D, right: Vector2D) -&gt; Vector2D &#123; return Vector2D(x: left.x + right.x, y: left.y + right.y) &#125;&#125; ä¸Šé¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªæ“ä½œç¬¦å‡½æ•° + ï¼Œè¿™ä¸ªæ“ä½œç¬¦å‡½æ•°çš„å‚æ•°åˆ—è¡¨é‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°leftå’Œrightã€‚åˆ†åˆ«ä»£è¡¨ç€+å·å·¦å³ä¸¤è¾¹çš„ä¸¤ä¸ªå‚æ•°ã€‚é€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å°†ä¸¤ä¸ªVectorç¤ºä¾‹è¿›è¡Œç›¸åŠ ã€‚å¦‚ä¸‹ï¼š let vector = Vector2D(x: 3.0, y: 1.0)let anotherVector = Vector2D(x: 2.0, y: 4.0)let combinedVector = vector + anotherVector// combinedVector is a Vector2D instance with values of (5.0, 5.0) é™¤äº†è¿™ç§è¦æŽ¥å—ä¸¤ä¸ªå‚æ•°çš„æ“ä½œç¬¦ä¹‹å¤–ï¼Œè¿˜è¦ä¸€äº›åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ“ä½œç¬¦ï¼Œæ¯”å¦‚ -ï¼Œ++ï¼Œâ€“ç­‰ç­‰ã€‚ä½†æ˜¯è¿™ç±»æ“ä½œç¬¦æœ‰ä¸¤ç±»ï¼šå‰ç¼€ï¼ˆPrefixï¼‰å’ŒåŽç¼€ï¼ˆPostfixï¼‰ï¼Œæ¯”å¦‚â€“aï¼Œi++ï¼›è¿™ç±»æ“ä½œç¬¦çš„å®šä¹‰è¦åŠ ä¸Šprefixæˆ–postfixå…³é”®å­—ã€‚è¯­æ³•å¦‚ä¸‹ extension Vector2D &#123; static prefix func - (vector: Vector2D) -&gt; Vector2D &#123; return Vector2D(x: -vector.x, y: -vector.y) &#125;&#125; ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªå‰ç¼€çš„ - æ“ä½œç¬¦å‡½æ•°ã€‚ç”¨æ¥å°†ä¸€ä¸ªå‘é‡å–åã€‚åŽç½®æ“ä½œç¬¦çš„å…³é”®å­—æ˜¯postfixï¼Œä¸­é—´æ“ä½œç¬¦çš„å…³é”®å­—æ˜¯infix å¦å¤–è¿˜æœ‰ä¸€ç§è®¡ç®—å¹¶èµ‹å€¼çš„æ“ä½œç¬¦ï¼Œæ¯”å¦‚++ï¼Œ+=ç­‰ç­‰ã€‚è¿™ç±»çš„æ“ä½œç¬¦ä¼šå¯¹å…¶ä¸­çš„ä¸€ä¸ªæ“ä½œå¯¹è±¡è¿›è¡Œæ“ä½œåŽçš„èµ‹å€¼ã€‚æ‰€ä»¥å¿…é¡»å°†å‚æ•°è®¾ç½®ä¸ºinout extension Vector2D &#123; static func += (left: inout Vector2D, right: Vector2D) &#123; left = left + right &#125;&#125; é™¤äº†Swiftå·²ç»å®šä¹‰çš„æ“ä½œç¬¦ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è‡ªå·±å®šä¹‰æ“ä½œç¬¦ã€‚æ¯”å¦‚ä¸‹é¢å®šä¹‰äº†ä¸€ä¸ª+++æ“ä½œç¬¦ prefix operator +++ ä¸Šé¢çš„åªæ˜¯å®šä¹‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®žçŽ°è¿™ä¸ªæ“ä½œç¬¦æ‰€åšçš„ extension Vector2D &#123; static prefix func +++ (vector: inout Vector2D) -&gt; Vector2D &#123; vector += vector return vector &#125;&#125; ä½†æ˜¯è¿™ä¸ªè‡ªå®šä¹‰çš„æ“ä½œç¬¦æœ‰ä¸€äº›è§„å®šã€‚è‡ªå®šä¹‰çš„æ“ä½œç¬¦å¯ä»¥ç”±/, =, -, +, !, *, %, &lt;, &gt;, &amp;, |, ^, ?,~ï¼Œå’ŒæŸäº›Unicode å­—ç¬¦å¼€å§‹ï¼Œè‡³äºŽæ˜¯å“ªäº›å­—ç¬¦å¯ä»¥å‚è€ƒå®˜ç½‘ã€‚ç‚¹å‡»ç½‘é¡µï¼Œåœ¨ç½‘é¡µæœ€ä¸‹é¢åœ¨è¿™äº›å­—ç¬¦ä¹‹åŽï¼Œå¯ä»¥æŽ¥ä¸Šunicodeå­—ç¬¦ã€‚å¦å¤–æœ‰ä¸€äº›ç¦æ­¢çš„è§„å®šï¼š1.ä¸èƒ½é‡å†™ä¸€ä¸ªå•å•çš„ ? å·ã€‚ï¼ˆå¯ä»¥åœ¨å­—ç¬¦é‡Œé¢åŠ å…¥?å·ï¼‰2.ä¸èƒ½é‡å†™è¿™äº›æ“ä½œç¬¦ =, -&gt;, //, /, /, ., ä½†æ˜¯å¯ä»¥é‡å†™ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªç‚¹çš„æ“ä½œç¬¦ã€‚ ä¸èƒ½ä»¥è¿™äº›å­—ç¬¦å¼€å¤´ ?, &lt;ï¼Œ &amp;4.ä¸èƒ½ä»¥è¿™äº›å­—ç¬¦ç»“å°¾ ?ï¼Œ &gt;ï¼Œ ! åœ¨å®šä¹‰çš„æ“ä½œç¬¦çš„æ—¶å€™æœ«å°¾çš„é‚£å¯¹å¤§æ‹¬å·æ˜¯æœ‰ç”¨çš„ã€‚åœ¨æ•°å­¦ä¸Šï¼ŒåŠ å‡ä¹˜é™¤æ˜¯æœ‰ä¼˜å…ˆçº§å’Œç»“åˆè§„åˆ™çš„ã€‚åŒæ ·çš„ï¼Œè¿™é‡Œçš„æ“ä½œç¬¦ä¹Ÿæ˜¯ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å®šä¹‰æ“ä½œç¬¦çš„å¤§æ‹¬å·é‡Œé¢å®šä¹‰è¿™ä¸ªæ“ä½œç¬¦çš„ä¼˜å…ˆçº§å’Œç»“åˆè§„å¾‹ infix operator +-: AdditionPrecedenceextension Vector2D &#123; static func +- (left: Vector2D, right: Vector2D) -&gt; Vector2D &#123; return Vector2D(x: left.x + right.x, y: left.y - right.y) &#125;&#125; ä¸Šé¢ä¾‹å­å®šä¹‰çš„æ˜¯ä¸€ä¸ªä¸­é—´çš„æ“ä½œç¬¦ï¼Œå®ƒçš„ç»“åˆè§„åˆ™æ˜¯å‘å·¦ç»“åˆã€‚ä¼˜å…ˆçº§æ˜¯AdditionPrecedenceç»„ï¼Œè¿™ä¸ªå‚è€ƒä¸‹é¢çš„Precedence Group Declarationé“¾æŽ¥ã€‚å‰ç½®æ“ä½œç¬¦å’ŒåŽç½®æ“ä½œç¬¦ä¸èƒ½æŒ‡å®šä¼˜å…ˆçº§ï¼Œå®ƒä»¬ä½œç”¨åœ¨åŒä¸€ä¸ªæ“ä½œæ•°ï¼Œé‚£ä¹ˆå…ˆæ‰§è¡ŒåŽç½®æ“ä½œç¬¦ã€‚ wen]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar-ç±»å’Œç»“æž„ä½“]]></title>
    <url>%2F2017%2F02%2F02%2FSwift%2FGrammar%2FStruct%20%26%26%20Class%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[â‘ å®šä¹‰ ç»“æž„ä½“struct struct SForm&#123; var iXX:Int = 99 var strHello:String = "dsf" func testFunc(iXX:Int)-&gt;Int&#123; return iXX+1 &#125;&#125; ç±»class class CTset&#123; var iAge:Int = 9 var strName:String = "xx" func testFunction(iAge:Int)-&gt;Int&#123; return iAge+1 &#125; func testFunctionName(strName:String)-&gt;String&#123; return "oo"+strName &#125;&#125; â‘¡å®žä¾‹ ç»“æž„ä½“struct var structObj = SForm()structObj.iXX = 988let iRes = structObj.testFunc(4) ç±»class let clsObj = CTset()clsObj.iAge = 987let iRe:Int = clsObj.testFunction(32)let iStr:String = clsObj.testFunctionName("sdf") â‘¢åˆå§‹åŒ– ç»“æž„ä½“æœ‰ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„åˆå§‹åŒ–å™¨æ–°å®žä¾‹ä¸­å„ä¸ªå±žæ€§çš„åˆå§‹å€¼å¯ä»¥é€šè¿‡å±žæ€§çš„åç§°ä¼ é€’åˆ°æˆå‘˜é€ä¸€åˆå§‹åŒ–å™¨ä¹‹ä¸­ var objFirst = SForm(iXX:983, strHello:&quot;hel&quot;)objFirst.iXX = 87let objSecond = SForm(iXX:94, strHello:&quot;hwxel&quot;)//objSecond.iXX = 876 error â‘£ç±»åž‹ ç»“æž„ä½“æ˜¯å€¼ç±»åž‹ var objFirst = SForm(iXX:983, strHello:"hel")var objSecond = objFirstobjSecond.iXX = 5775println("objFirst: \(objFirst.iXX) objSecond:\(objSecond.iXX)")è¾“å‡ºï¼šobjFirst: 983 objSecond:5775 ç±»æ˜¯å¼•ç”¨ç±»åž‹ let clsObj = CTset()clsObj.iAge = 987var clsObjEx:CTset = clsObjclsObjEx.iAge = 874println("\(clsObj.iAge) \(clsObjEx.iAge)")è¾“å‡ºï¼šclsObj: 874 clsObjEx: 874 â‘¤è¿ç®— ç±»çš„ç­‰ä»·äºŽè¿ç®— === ä¸Ž ä¸ç­‰ä»·äºŽ !== è¿ç®—è¡¨ç¤ºæ˜¯å¦æ˜¯å¼•ç”¨åˆ°åŒä¸€ä¸ªç±»å¯¹è±¡ let clsObj = CTset()clsObj.iAge = 987var clsObjEx:CTset = clsObjclsObjEx.iAge = 874if clsObj === clsObjEx &#123; println("obj same")&#125; ç±»å’Œç»“æž„ä½“åŒºåˆ«ç»“æž„ä½“æ˜¯å€¼ç±»åž‹ï¼Œç»“æž„ä½“çš„èµ‹å€¼æ„å‘³ç€æ‹·è´è¡Œä¸ºçš„å‘ç”Ÿè€Œç±»æ˜¯å¼•ç”¨ç±»åž‹ é›†åˆç±»åž‹çš„èµ‹å€¼å’Œæ‹·è´è¡Œä¸ºswiftçš„ æ•°ç»„ å’Œ å­—å…¸ éƒ½æ˜¯ä»¥ å€¼ç±»åž‹ ä¼ é€’çš„ å­—å…¸çš„æ‹·è´ å½“æœ‰å­—å…¸å®žä¾‹çš„èµ‹å€¼æˆ–è€…æ˜¯å­—å…¸åšå‚æ•°çš„å‡½æ•°è°ƒç”¨æ—¶å€™ï¼Œå­—å…¸å³å‘ç”Ÿæ‹·è´è¡Œä¸º å­—å…¸çš„keyå’Œvalueçš„æ‹·è´è¡Œä¸ºæ˜¯ä¾èµ–äºŽå¥¹è‡ªèº«åˆ°åº•æ˜¯å¼•ç”¨å±žæ€§è¿˜æ˜¯å€¼ç±»åž‹ dicSecondçš„å€¼è¢«æ›´æ–°ï¼Œè€ŒdicFirstçš„å€¼ä¾ç„¶ä¿æŒä¸å˜dicFirstå’ŒdicSecondæ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„å­—å…¸å®ƒçš„keyå’Œvalueåœ¨èµ‹å€¼æ—¶å€™å‘ç”Ÿäº†æ‹·è´ï¼Œå› ä¸ºéƒ½æ˜¯Stringç±»åž‹ã€‚ var dicFirst:Dictionary = ["key1":"value1", "key2":"value2"]var dicSecond:Dictionary = dicFirstdicSecond["key1"] = "value1Update" ä¸¤ä¸ªå­—å…¸dicFirst å’Œ dicSecondåˆ†åˆ«ä¸ºä¸åŒçš„å­—å…¸ï¼Œä½†å®ƒçš„å€¼ clsObjFirstçš„åœ°å€å´æ˜¯åŒä¸€ä¸ªå› ä¸ºå®ƒæ˜¯ç±»ç±»åž‹ï¼Œæ˜¯å¼•ç”¨ä¼ é€’ lass CTset&#123; var iAge:Int = 9 var strName:String = "xx" func testFunction(iAge:Int)-&gt;Int&#123; return iAge+1 &#125; func testFunctionName(strName:String)-&gt;String&#123; return "oo"+strName &#125;&#125;var clsObjFirst = CTset()clsObjFirst.iAge = 443var dicFirst:Dictionary = ["key1":clsObjFirst]var dicSecond:Dictionary = dicFirst æ•°ç»„çš„èµ‹å€¼ä¸Žæ‹·è´ æ•°ç»„çš„æ‹·è´è¡Œä¸ºåªæœ‰åœ¨æ•°ç»„çš„é•¿åº¦å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰ä¼šæ‹·è´ å½“ç„¶æ•°ç»„é‡Œé¢çš„å†…å®¹ï¼Œæ˜¯è¦éµå¾ªå¼•ç”¨ç±»åž‹è¿˜æ˜¯å€¼ç±»åž‹çš„ã€‚ arrayFirst[0]å’ŒarraySecond[0] éƒ½ä¼šè¢«ä¿®æ”¹æˆ 89å› ä¸ºæ•°ç»„é•¿åº¦æ²¡å˜åŒ–ï¼Œæ‰€ä»¥æ²¡å‘ç”Ÿæ‹·è´ var arrayFirst = [1, 33]var arraySecond = arrayFirstarraySecond[0] = 89 é•¿åº¦å˜åŒ–ï¼ŒarrayFirstæ‹·è´ï¼Œç‹¬ç«‹å¦å¤–ä¸€ä¸ªæ•°ç»„ var arrayFirst = [1, 33]var arraySecond = arrayFirstarrayFirst.append(222)//é•¿åº¦å˜åŒ–ï¼ŒarrayFirstæ‹·è´ï¼Œç‹¬ç«‹å¦å¤–ä¸€ä¸ªæ•°ç»„arrayFirst[0] = 99println("first:\(arrayFirst)\nsecond:\(arraySecond)")è¾“å‡ºï¼šfirst:[99, 33, 222]second:[1, 33] åœ¨ç”¨å¤šä¸ªå˜é‡(var)å¼•ç”¨ä¸€ä¸ªæ•°ç»„æ—¶å€™ï¼Œå¯ä»¥ç”¨unshare()æ–¹æ³•ï¼Œå¼ºåˆ¶æ‹·è´æ•°ç»„ var arrayFirst = [1, 2]var arraySecond = arrayFirstvar arrayThird = arrayFirstarraySecond.unshare()//æ‹·è´ç‹¬ç«‹æˆå¦å¤–ä¸ªæ•°ç»„arrayThird.unshare()//æ‹·è´ç‹¬ç«‹æˆå¦å¤–ä¸ªæ•°ç»„arrayFirst[0] = 3arraySecond[0] = 4arrayThird[0]=5println("first:\(arrayFirst)\nsecond:\(arraySecond) \nthird:\(arrayThird)")è¾“å‡ºï¼šfirst:[3, 2]second:[4, 2] third:[5, 2] æ•°ç»„ç­‰ä»·äºŽ(===)å’Œä¸ç­‰ä»·äºŽ(!==)å¼ºåˆ¶å¤åˆ¶æ•°ç»„ é€šè¿‡copyå¼ºåˆ¶å¤åˆ¶æ•°ç»„ï¼Œè¿›è¡Œçš„æ˜¯æ•°ç»„ç±»å®¹æµ…æ‹·è´ï¼Œå¹¶è¿”å›žä¸ªæ–°çš„æ•°ç»„å¼•ç”¨ var arraySource = [1, 2, 3]var arrayCopy = arraySource.copy()arraySource[0] = 4arrayCopy[1] = 5println("source:\(arraySource)\n copy:\(arrayCopy)")è¾“å‡ºï¼šsource:[4, 2, 3] copy:[1, 5, 3] more =========================================== ç±»å’Œç»“æž„ä½“å¯¹æ¯”ç±»å’Œç»“æž„ä½“çš„å…±åŒç‚¹åœ¨äºŽå®šä¹‰å±žæ€§ç”¨äºŽå­˜å‚¨å€¼å®šä¹‰æ–¹æ³•ç”¨äºŽæä¾›åŠŸèƒ½å®šä¹‰é™„å±žè„šæœ¬ç”¨äºŽè®¿é—®å€¼å®šä¹‰æž„é€ å™¨ç”¨äºŽç”Ÿæˆåˆå§‹åŒ–å€¼é€šè¿‡æ‰©å±•ä»¥å¢žåŠ é»˜è®¤å®žçŽ°çš„åŠŸèƒ½å®žçŽ°åè®®ä»¥æä¾›æŸç§æ ‡å‡†åŠŸèƒ½ ä¸Žç»“æž„ä½“ç›¸æ¯”ï¼Œç±»æœ‰å¦‚ä¸‹çš„é™„åŠ åŠŸèƒ½ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„ç‰¹å¾ç±»åž‹è½¬æ¢å…è®¸åœ¨è¿è¡Œæ—¶æ£€æŸ¥å’Œè§£é‡Šä¸€ä¸ªç±»å®žä¾‹çš„ç±»åž‹æžæž„å™¨å…è®¸ä¸€ä¸ªç±»å®žä¾‹é‡Šæ”¾ä»»ä½•å…¶æ‰€è¢«åˆ†é…çš„èµ„æºå¼•ç”¨è®¡æ•°å…è®¸å¯¹ä¸€ä¸ªç±»çš„å¤šæ¬¡å¼•ç”¨ ç»“æž„ä½“æ€»æ˜¯é€šè¿‡è¢«å¤åˆ¶çš„æ–¹å¼åœ¨ä»£ç ä¸­ä¼ é€’ï¼Œä¸ä½¿ç”¨å¼•ç”¨è®¡æ•° å®šä¹‰è¯­æ³•ä½¿ç”¨å…³é”®å­—classå’Œstructè¡¨ç¤ºç±»å’Œç»“æž„ä½“ æ¯æ¬¡å®šä¹‰ä¸€ä¸ªæ–°ç±»æˆ–è€…ç»“æž„ä½“çš„æ—¶å€™ï¼Œå®žé™…ä¸Šä½ æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„Swiftç±»åž‹å› æ­¤ä½¿ç”¨UpperCamelCaseè¿™ç§æ–¹å¼æ¥å‘½åï¼ˆå¦‚SomeClasså’ŒSomeStructureç­‰ï¼‰ï¼Œä»¥ä¾¿ç¬¦åˆæ ‡å‡†Swiftç±»åž‹çš„å¤§å†™å‘½åé£Žæ ¼ï¼ˆå¦‚Stringï¼ŒIntå’ŒBoolï¼‰ç›¸åçš„ï¼Œè¯·ä½¿ç”¨lowerCamelCaseè¿™ç§æ–¹å¼ä¸ºå±žæ€§å’Œæ–¹æ³•å‘½åï¼ˆå¦‚framerateå’ŒincrementCountï¼‰ï¼Œä»¥ä¾¿å’Œç±»åž‹ååŒºåˆ† struct Resolution &#123; var width = 0 var height = 0&#125;class VideoMode &#123; var resolution = Resolution() var interlaced = false var frameRate = 0.0 var name: String? // å¯é€‰ç±»åž‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil&#125; ç±»å’Œç»“æž„å®žä¾‹ ç»“æž„ä½“å’Œç±»éƒ½ä½¿ç”¨æž„é€ å™¨è¯­æ³•æ¥ç”Ÿæˆæ–°çš„å®žä¾‹æž„é€ å™¨è¯­æ³•çš„æœ€ç®€å•å½¢å¼æ˜¯åœ¨ç»“æž„ä½“æˆ–è€…ç±»çš„ç±»åž‹åç§°åŽè·Ÿéšä¸€å¯¹ç©ºæ‹¬å·ï¼Œå¦‚Resolution()æˆ–VideoMode()é€šè¿‡è¿™ç§æ–¹å¼æ‰€åˆ›å»ºçš„ç±»æˆ–è€…ç»“æž„ä½“å®žä¾‹ï¼Œå…¶å±žæ€§å‡ä¼šè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼å±žæ€§éƒ½å¿…é¡»èµ‹åˆå€¼ï¼å¦åˆ™ç¼–è¯‘æŠ¥é”™ï¼Œå¯é€‰ç±»åž‹å¯ä¸èµ‹å€¼ï¼Œå®žé™…ä¸Šé»˜è®¤èµ‹å€¼ä¸ºnil struct Resolution &#123; var width = 0 var height = 0&#125;class VideoMode &#123; var resolution = Resolution() var interlaced = false var frameRate = 0.0 var name: String? // å¯é€‰ç±»åž‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil&#125;let r = Resolution()let v = VideoMode()print(r) // Resolution(width: 0, height: 0)print(v) // VideoModeprint(v.resolution) // Resolution(width: 0, height: 0)print(v.interlaced) // falseprint(v.frameRate) // 0.0print(v.name) // nil å±žæ€§è®¿é—® é€šè¿‡ä½¿ç”¨ç‚¹è¯­æ³•ï¼ˆdot syntaxï¼‰ï¼Œä½ å¯ä»¥è®¿é—®å®žä¾‹çš„å±žæ€§å…¶è¯­æ³•è§„åˆ™æ˜¯ï¼Œå®žä¾‹ååŽé¢ç´§è·Ÿå±žæ€§åï¼Œä¸¤è€…é€šè¿‡ç‚¹å·(.)è¿žæŽ¥ä¹Ÿå¯ä»¥ä½¿ç”¨ç‚¹è¯­æ³•è®¿é—®å­å±žæ€§ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ç‚¹è¯­æ³•ä¸ºå˜é‡å±žæ€§èµ‹å€¼ ```&gt;ä¸ŽObjective-Cè¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒSwiftå…è®¸ç›´æŽ¥è®¾ç½®ç»“æž„ä½“å±žæ€§çš„å­å±žæ€§ï¼Œå¹¶ä¸éœ€è¦é‡æ–°ä¸ºæ•´ä¸ªresolutionå±žæ€§è®¾ç½®æ–°å€¼ struct Resolution { var width = 0 var height = 0} class VideoMode { var resolution = Resolution() var interlaced = false var frameRate = 0.0 var name: String? // å¯é€‰ç±»åž‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil} let v = VideoMode()print(v.resolution) // Resolution(width: 0, height: 0)v.resolution.width = 1920v.resolution.height = 1080print(v.resolution.width) // 1920# ç»“æž„ä½“ç±»åž‹çš„æˆå‘˜é€ä¸€æž„é€ å™¨&gt; æ‰€æœ‰ç»“æž„ä½“éƒ½æœ‰ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æˆå‘˜é€ä¸€æž„é€ å™¨ï¼Œç”¨äºŽåˆå§‹åŒ–æ–°ç»“æž„ä½“å®žä¾‹ä¸­æˆå‘˜çš„å±žæ€§&gt; æ–°å®žä¾‹ä¸­å„ä¸ªå±žæ€§çš„åˆå§‹å€¼å¯ä»¥é€šè¿‡å±žæ€§çš„åç§°ä¼ é€’åˆ°æˆå‘˜é€ä¸€æž„é€ å™¨ä¹‹ä¸­&gt; ä¸Žç»“æž„ä½“ä¸åŒï¼Œç±»å®žä¾‹æ²¡æœ‰é»˜è®¤çš„æˆå‘˜é€ä¸€æž„é€ å™¨```swiftstruct Resolution &#123; var width = 0 var height = 0&#125;var r = Resolution(width: 1920, height: 1080)print(r) // Resolution(width: 1920, height: 1080) ç»“æž„ä½“å’Œæžšä¸¾æ˜¯å€¼ç±»åž‹ å€¼ç±»åž‹è¢«èµ‹äºˆç»™ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå…¶å€¼ä¼šè¢«æ‹·è´é¢æˆ‘ä»¬å·²ç»å¤§é‡ä½¿ç”¨äº†å€¼ç±»åž‹ã€‚å®žé™…ä¸Šï¼Œåœ¨ Swiftä¸­ï¼Œæ‰€æœ‰çš„åŸºæœ¬ç±»åž‹ï¼šæ•´æ•°ï¼ˆIntegerï¼‰ã€æµ®ç‚¹æ•°ï¼ˆfloating-pointï¼‰ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstring)ã€æ•°ç»„ï¼ˆarrayï¼‰å’Œå­—å…¸ï¼ˆdictionaryï¼‰ï¼Œéƒ½æ˜¯å€¼ç±»åž‹ï¼Œå¹¶ä¸”åœ¨åº•å±‚éƒ½æ˜¯ä»¥ç»“æž„ä½“çš„å½¢å¼æ‰€å®žçŽ°ã€‚åœ¨Swiftä¸­ï¼Œæ‰€æœ‰çš„ç»“æž„ä½“å’Œæžšä¸¾ç±»åž‹éƒ½æ˜¯å€¼ç±»åž‹ã€‚è¿™æ„å‘³ç€å®ƒä»¬çš„å®žä¾‹ï¼Œä»¥åŠå®žä¾‹ä¸­æ‰€åŒ…å«çš„ä»»ä½•å€¼ç±»åž‹å±žæ€§ï¼Œåœ¨ä»£ç ä¸­ä¼ é€’çš„æ—¶å€™éƒ½ä¼šè¢«å¤åˆ¶ struct Resolution &#123; var width = 0 var height = 0&#125;var r = Resolution(width: 1920, height: 1080)print(r) // Resolution(width: 1920, height: 1080)var rr = rprint(rr) // Resolution(width: 1920, height: 1080)ï¼Œä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„å®žä¾‹ç¢°å·§åŒ…å«æœ‰ç›¸åŒçš„æ•°å€¼rr.width = 2048print(r) // Resolution(width: 1920, height: 1080)ï¼Œç”±äºŽrå’Œrrç›¸äº’ç‹¬ç«‹ï¼Œæ‰€ä»¥å€¼ä¸æ”¹å˜print(rr) // Resolution(width: 2048, height: 1080)enum CompassPoint &#123; case North, South, East, West&#125;var a = CompassPoint.Northvar b = aprint(b) // Southb = CompassPoint.Southprint(a) // Northprint(b) // South ç±»æ˜¯å¼•ç”¨ç±»åž‹ ä¸Žå€¼ç±»åž‹ä¸åŒï¼Œå¼•ç”¨ç±»åž‹åœ¨è¢«èµ‹äºˆåˆ°ä¸€ä¸ªå˜é‡ã€å¸¸é‡æˆ–è€…è¢«ä¼ é€’åˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå…¶å€¼ä¸ä¼šè¢«æ‹·è´ã€‚å› æ­¤ï¼Œå¼•ç”¨çš„æ˜¯å·²å­˜åœ¨çš„å®žä¾‹æœ¬èº«è€Œä¸æ˜¯å…¶æ‹·è´ struct Resolution &#123; var width = 0 var height = 0&#125;class VideoMode &#123; var resolution = Resolution() var interlaced = false var frameRate = 0.0 var name: String? // å¯é€‰ç±»åž‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil&#125;let a = VideoMode()a.frameRate = 25 // aæ˜¯å¸¸é‡ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å±žæ€§ï¼Œå› ä¸ºaæœ¬èº«æ²¡æœ‰æ”¹å˜let b = ab.frameRate = 30print(a.frameRate) // 30.0// a = VideoMode() // error: cannot assign to value: 'a' is a 'let' constant æ³¨æ„ï¼Œaå’Œbè¢«å£°æ˜Žä¸ºå¸¸é‡è€Œä¸æ˜¯å˜é‡ã€‚ç„¶è€Œä½ ä¾ç„¶å¯ä»¥æ”¹å˜a.frameRateå’Œb.frameRateï¼Œå› ä¸ºaå’Œbè¿™ä¸¤ä¸ªå¸¸é‡çš„å€¼å¹¶æœªæ”¹å˜ã€‚å®ƒä»¬å¹¶ä¸â€œå­˜å‚¨â€è¿™ä¸ªVideoModeå®žä¾‹ï¼Œè€Œä»…ä»…æ˜¯å¯¹VideoModeå®žä¾‹çš„å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œæ”¹å˜çš„æ˜¯è¢«å¼•ç”¨çš„VideoModeçš„frameRateå±žæ€§ï¼Œè€Œä¸æ˜¯å¼•ç”¨VideoModeçš„å¸¸é‡çš„å€¼ æ’ç­‰è¿ç®—ç¬¦ å› ä¸ºç±»æ˜¯å¼•ç”¨ç±»åž‹ï¼Œæœ‰å¯èƒ½æœ‰å¤šä¸ªå¸¸é‡å’Œå˜é‡åœ¨å¹•åŽåŒæ—¶å¼•ç”¨åŒä¸€ä¸ªç±»å®žä¾‹ã€‚ï¼ˆå¯¹äºŽç»“æž„ä½“å’Œæžšä¸¾æ¥è¯´ï¼Œè¿™å¹¶ä¸æˆç«‹ã€‚å› ä¸ºå®ƒä»¬ä½œä¸ºå€¼ç±»åž‹ï¼Œåœ¨è¢«èµ‹äºˆåˆ°å¸¸é‡ã€å˜é‡æˆ–è€…ä¼ é€’åˆ°å‡½æ•°æ—¶ï¼Œå…¶å€¼æ€»æ˜¯ä¼šè¢«æ‹·è´ã€‚ï¼‰å¦‚æžœèƒ½å¤Ÿåˆ¤å®šä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªç±»å®žä¾‹å°†ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼ŒSwiftå†…å»ºäº†ä¸¤ä¸ªæ’ç­‰è¿ç®—ç¬¦è¿ç”¨è¿™ä¸¤ä¸ªè¿ç®—ç¬¦æ£€æµ‹ä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå®žä¾‹ ç­‰ä»·äºŽï¼ˆ===ï¼‰ä¸ç­‰ä»·äºŽï¼ˆ!==ï¼‰ ç­‰ä»·äºŽâ€ï¼ˆç”¨ä¸‰ä¸ªç­‰å·è¡¨ç¤ºï¼Œ===ï¼‰ä¸Žâ€œç­‰äºŽâ€ï¼ˆç”¨ä¸¤ä¸ªç­‰å·è¡¨ç¤ºï¼Œ==ï¼‰çš„ä¸åŒ ç­‰ä»·äºŽâ€è¡¨ç¤ºä¸¤ä¸ªç±»ç±»åž‹ï¼ˆclass typeï¼‰çš„å¸¸é‡æˆ–è€…å˜é‡å¼•ç”¨åŒä¸€ä¸ªç±»å®žä¾‹ã€‚â€œç­‰äºŽâ€è¡¨ç¤ºä¸¤ä¸ªå®žä¾‹çš„å€¼â€œç›¸ç­‰â€æˆ–â€œç›¸åŒâ€ï¼Œåˆ¤å®šæ—¶è¦éµç…§è®¾è®¡è€…å®šä¹‰çš„è¯„åˆ¤æ ‡å‡†ï¼Œå› æ­¤ç›¸å¯¹äºŽâ€œç›¸ç­‰â€æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç§æ›´åŠ åˆé€‚çš„å«æ³•å½“ä½ åœ¨å®šä¹‰ä½ çš„è‡ªå®šä¹‰ç±»å’Œç»“æž„ä½“çš„æ—¶å€™ï¼Œä½ æœ‰ä¹‰åŠ¡æ¥å†³å®šåˆ¤å®šä¸¤ä¸ªå®žä¾‹â€œç›¸ç­‰â€çš„æ ‡å‡† struct Resolution &#123; var width = 0 var height = 0&#125;class VideoMode &#123; var resolution = Resolution() var interlaced = false var frameRate = 0.0 var name: String? // å¯é€‰ç±»åž‹ï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºnil&#125;let a = VideoMode()a.frameRate = 25 // aæ˜¯å¸¸é‡ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å±žæ€§ï¼Œå› ä¸ºaæœ¬èº«æ²¡æœ‰æ”¹å˜let b = ab.frameRate = 30// if a == b &#123; // ä¸¤ä¸ªå¼•ç”¨ç±»åž‹ä¹‹é—´ä½¿ç”¨â€œ==â€è¿ç®—ç¬¦ï¼Œä¼šå‡ºçŽ°ç¼–è¯‘é”™è¯¯ï¼šerror: binary operator '==' cannot be applied to two 'VideoMode' operandsif a === b &#123; print("a === b") // a === b&#125; else &#123; print("a !== b")&#125; æŒ‡é’ˆå¦‚æžœä½ æœ‰Cã€C++æˆ–è€…Objective-Cè¯­è¨€çš„ç»éªŒï¼Œé‚£ä¹ˆä½ ä¹Ÿè®¸ä¼šçŸ¥é“è¿™äº›è¯­è¨€ä½¿ç”¨æŒ‡é’ˆæ¥å¼•ç”¨å†…å­˜ä¸­çš„åœ°å€ã€‚ä¸€ä¸ªå¼•ç”¨æŸä¸ªå¼•ç”¨ç±»åž‹å®žä¾‹çš„Swiftå¸¸é‡æˆ–è€…å˜é‡ï¼Œä¸ŽCè¯­è¨€ä¸­çš„æŒ‡é’ˆç±»ä¼¼ï¼Œä½†æ˜¯å¹¶ä¸ç›´æŽ¥æŒ‡å‘æŸä¸ªå†…å­˜åœ°å€ï¼Œä¹Ÿä¸è¦æ±‚ä½ ä½¿ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰æ¥è¡¨æ˜Žä½ åœ¨åˆ›å»ºä¸€ä¸ªå¼•ç”¨ã€‚Swiftä¸­çš„è¿™äº›å¼•ç”¨ä¸Žå…¶å®ƒçš„å¸¸é‡æˆ–å˜é‡çš„å®šä¹‰æ–¹å¼ç›¸åŒ ç±»å’Œç»“æž„ä½“çš„é€‰æ‹©å¯ä»¥ä½¿ç”¨ç±»å’Œç»“æž„ä½“æ¥å®šä¹‰ä½ çš„è‡ªå®šä¹‰æ•°æ®ç±»åž‹ã€‚ç„¶è€Œï¼Œç»“æž„ä½“å®žä¾‹æ€»æ˜¯é€šè¿‡å€¼ä¼ é€’ï¼Œç±»å®žä¾‹æ€»æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’ã€‚è¿™æ„å‘³ä¸¤è€…é€‚ç”¨ä¸åŒçš„ä»»åŠ¡ã€‚å½“ä½ åœ¨è€ƒè™‘ä¸€ä¸ªå·¥ç¨‹é¡¹ç›®çš„æ•°æ®ç»“æž„å’ŒåŠŸèƒ½çš„æ—¶å€™ï¼Œä½ éœ€è¦å†³å®šæ¯ä¸ªæ•°æ®ç»“æž„æ˜¯å®šä¹‰æˆç±»è¿˜æ˜¯ç»“æž„ä½“ã€‚æŒ‰ç…§é€šç”¨çš„å‡†åˆ™ï¼Œå½“ç¬¦åˆä¸€æ¡æˆ–å¤šæ¡ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œè¯·è€ƒè™‘æž„å»ºç»“æž„ä½“ï¼š è¯¥æ•°æ®ç»“æž„çš„ä¸»è¦ç›®çš„æ˜¯ç”¨æ¥å°è£…å°‘é‡ç›¸å…³ç®€å•æ•°æ®å€¼ã€‚ æœ‰ç†ç”±é¢„è®¡è¯¥æ•°æ®ç»“æž„çš„å®žä¾‹åœ¨è¢«èµ‹å€¼æˆ–ä¼ é€’æ—¶ï¼Œå°è£…çš„æ•°æ®å°†ä¼šè¢«æ‹·è´è€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚ è¯¥æ•°æ®ç»“æž„ä¸­å‚¨å­˜çš„å€¼ç±»åž‹å±žæ€§ï¼Œä¹Ÿåº”è¯¥è¢«æ‹·è´ï¼Œè€Œä¸æ˜¯è¢«å¼•ç”¨ã€‚ è¯¥æ•°æ®ç»“æž„ä¸éœ€è¦åŽ»ç»§æ‰¿å¦ä¸€ä¸ªæ—¢æœ‰ç±»åž‹çš„å±žæ€§æˆ–è€…è¡Œä¸ºã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œä»¥ä¸‹æƒ…å¢ƒä¸­é€‚åˆä½¿ç”¨ç»“æž„ä½“ï¼š å‡ ä½•å½¢çŠ¶çš„å¤§å°ï¼Œå°è£…ä¸€ä¸ªwidthå±žæ€§å’Œheightå±žæ€§ï¼Œä¸¤è€…å‡ä¸ºDoubleç±»åž‹ã€‚ ä¸€å®šèŒƒå›´å†…çš„è·¯å¾„ï¼Œå°è£…ä¸€ä¸ªstartå±žæ€§å’Œlengthå±žæ€§ï¼Œä¸¤è€…å‡ä¸ºIntç±»åž‹ã€‚ ä¸‰ç»´åæ ‡ç³»å†…ä¸€ç‚¹ï¼Œå°è£…xï¼Œyå’Œzå±žæ€§ï¼Œä¸‰è€…å‡ä¸ºDoubleç±»åž‹ã€‚ åœ¨æ‰€æœ‰å…¶å®ƒæ¡ˆä¾‹ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªç±»ï¼Œç”Ÿæˆä¸€ä¸ªå®ƒçš„å®žä¾‹ï¼Œå¹¶é€šè¿‡å¼•ç”¨æ¥ç®¡ç†å’Œä¼ é€’ã€‚å®žé™…ä¸­ï¼Œè¿™æ„å‘³ç€ç»å¤§éƒ¨åˆ†çš„è‡ªå®šä¹‰æ•°æ®æž„é€ éƒ½åº”è¯¥æ˜¯ç±»ï¼Œè€Œéžç»“æž„ä½“ å­—ç¬¦ä¸²ã€æ•°ç»„å’Œå­—å…¸ç±»åž‹çš„èµ‹å€¼ä¸Žèµ‹å€¼è¡Œä¸ºSwiftä¸­ï¼Œè®¸å¤šåŸºæœ¬ç±»åž‹ï¼Œè¯¸å¦‚Stringï¼ŒArrayå’ŒDictionaryç±»åž‹å‡ä»¥ç»“æž„ä½“çš„å½¢å¼å®žçŽ°ã€‚è¿™æ„å‘³ç€è¢«èµ‹å€¼ç»™æ–°çš„å¸¸é‡æˆ–å˜é‡ï¼Œæˆ–è€…è¢«ä¼ å…¥å‡½æ•°æˆ–æ–¹æ³•ä¸­æ—¶ï¼Œå®ƒä»¬çš„å€¼ä¼šè¢«æ‹·è´ã€‚Objective-Cä¸­NSStringï¼ŒNSArrayå’ŒNSDictionaryç±»åž‹å‡ä»¥ç±»çš„å½¢å¼å®žçŽ°ï¼Œè€Œå¹¶éžç»“æž„ä½“ã€‚å®ƒä»¬åœ¨è¢«èµ‹å€¼æˆ–è€…è¢«ä¼ å…¥å‡½æ•°æˆ–æ–¹æ³•æ—¶ï¼Œä¸ä¼šå‘ç”Ÿå€¼æ‹·è´ï¼Œè€Œæ˜¯ä¼ é€’çŽ°æœ‰å®žä¾‹çš„å¼•ç”¨ã€‚æ³¨æ„ï¼Œä»¥ä¸Šæ˜¯å¯¹å­—ç¬¦ä¸²ã€æ•°ç»„ã€å­—å…¸çš„â€œæ‹·è´â€è¡Œä¸ºçš„æè¿°ã€‚åœ¨ä½ çš„ä»£ç ä¸­ï¼Œæ‹·è´è¡Œä¸ºçœ‹èµ·æ¥ä¼¼ä¹Žæ€»ä¼šå‘ç”Ÿã€‚ç„¶è€Œï¼ŒSwiftåœ¨å¹•åŽåªåœ¨ç»å¯¹å¿…è¦æ—¶æ‰æ‰§è¡Œå®žé™…çš„æ‹·è´ã€‚Swiftç®¡ç†æ‰€æœ‰çš„å€¼æ‹·è´ä»¥ç¡®ä¿æ€§èƒ½æœ€ä¼˜åŒ–ï¼Œæ‰€ä»¥ä½ æ²¡å¿…è¦åŽ»å›žé¿èµ‹å€¼æ¥ä¿è¯æ€§èƒ½æœ€ä¼˜åŒ–]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OC-UIKit-UImage-åŠ è½½æœ¬åœ°é«˜æ¸…å¤§å›¾]]></title>
    <url>%2F2017%2F01%2F16%2FOC%2FKit%2FUIImage%2FOC-UIKit-UImage-%E5%8A%A0%E8%BD%BD%E6%9C%AC%E5%9C%B0%E9%AB%98%E6%B8%85%E5%A4%A7%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[http://blog.csdn.net/pzhtpf/article/details/51027047]]></content>
      <categories>
        <category>UIKit</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Swift-Grammar--åŸºæœ¬ç±»åž‹ä¸Žè¿ç®—]]></title>
    <url>%2F2016%2F11%2F24%2FSwift%2FGrammar%2F%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E8%BF%90%E7%AE%97%2F</url>
    <content type="text"><![CDATA[1.åŸºæœ¬ç±»åž‹ 1.1æ•°å­—ç±»åž‹ 1.2Double 1.3å¸ƒå°”2.ä¸åŒè¿›åˆ¶çš„å‰ç¼€3.å…ƒç»„ï¼ˆTupleï¼‰4.å¯é€‰ç±»åž‹(Optionals))5.åŸºæœ¬è¿ç®—6.ç±»åž‹å®‰å…¨7.æ–­è¨€ åŸºæœ¬ç±»åž‹ å¤šå‡ºæ¥çš„æ˜¯ Tuple*8 å’Œ å¯é€‰ç±»åž‹**å¸¸é‡å®šä¹‰ let å¸¸é‡å å¸¸é‡åå¯ä»¥æ­»ä»»æ„æ–‡å­—ï¼Œæ–‡å­—é•¿åº¦ ç»™å¸¸é‡ä¸€ä¸ªå€¼ï¼Œå«èµ‹å€¼ å½¢å¼ï¼š let å¸¸é‡å = å€¼ å˜é‡ å¯ä¸»åŠ¨å˜æ›´æˆ–å¯é¢„æœŸæ—¶é—´å†…è‡ªè€¦ä¸œæœ‰è§„å¾‹æˆ–æ— è§„å¾‹çš„é‡ å¸¸é‡å’Œå˜é‡çš„å…³ç³» å˜åŒ–æ‰æ˜¯æ°¸æ’ä¸å˜çš„ï¼Œæ— è®ºå¦‚ä½•ï¼Œæ€»æœ‰è§„å¾‹å¯å¾ª å˜é‡ä¸Žå¸¸é‡åœ¨ä¸€å®šæ¡ä»¶ä¸‹å¯ä»¥ç›¸äº’è½¬æ¢ å¸¸é‡å±€åŠ¿å˜é‡çš„ä¸€ç§ æ•°å­—ç±»åž‹ Int æ•´åž‹ ç±»åž‹å¯ä»¥ä¸å†™ï¼Œswiftæœ‰ç±»åž‹æŽ¨ç®—åŠŸèƒ½ var a:Int = 101 //å®šä¹‰ä¸€ä¸ªæ•´åž‹ åˆå§‹åŒ–ä¸º101var aa:UInt = 201 //æ— ç¬¦å·çš„æ•´åž‹ ï¼ˆä¸èƒ½ä¸ºè´Ÿæ•°ï¼‰ åœ¨32ä½æœºå™¨ä¸Šæ˜¯Int32 åœ¨64ä½æœºå™¨ä¸Šæ˜¯Int64 é™¤äº†Intä¹‹å¤–ï¼Œè¿˜æœ‰Intï¼ŒInt8ï¼ŒInt16ï¼ŒInt32ï¼ŒInt64. å„ä¸ªå–å€¼èŒƒå›´ å…¶å®žå–å€¼èŒƒå›´å°±æ˜¯ è´Ÿ2çš„n-1æ¬¡æ–¹ ~ 2çš„n-1æ¬¡æ–¹-1 print(UInt8.max) //255print(UInt8.min) //0print(Int8.max) //127print(Int8.min) //-128print(Int16.max) //32767print(Int16.min) //-32768print(Int32.max) //2147483647print(Int32.min) //-2147483648print(Int64.max) //9223372036854775807print(Int64.min) //-9223372036854775808 Double swift é»˜è®¤ æµ®ç‚¹åž‹æ˜¯ Doubleï¼ˆåŒç²¾åº¦ï¼‰ 64ä½æµ®ç‚¹æ•° var yue = 3.5æˆ–var yue : Double = 3.5 Float 32ä½æµ®ç‚¹æ•° Swiftä¸æ”¯æŒæ•°å­—ç±»åž‹ä¹‹é—´çš„è‡ªåŠ¨è½¬æ¢ã€‚å¿…é¡»æ˜¾å¼æ‰‹åŠ¨è½¬æ¢æ•°å€¼ç±»å­—é¢é‡å¯ä»¥åŒ…æ‹¬é¢å¤–çš„æ ¼å¼æ¥å¢žå¼ºå¯è¯»æ€§ã€‚æ•´æ•°å’Œæµ®ç‚¹æ•°éƒ½å¯ä»¥æ·»åŠ é¢å¤–çš„é›¶å¹¶ä¸”åŒ…å«ä¸‹åˆ’çº¿ï¼Œå¹¶ä¸ä¼šå½±å“å­—é¢é‡ var i: Int = 2_000 //è¿™ä¸ªè¡¨ç¤º2000 var d: Double = 5.3 var e = d * Double(i) å¸ƒå°” Bool è¡¨ç¤ºé€»è¾‘ä¸Šçš„çœŸå‡ï¼š trueã€falseSwiftå’Œjavaä¸€æ ·ï¼Œå¯¹booleanç±»åž‹æ˜¯å¼ºè¦æ±‚çš„ï¼Œä¸èƒ½åœ¨ifé‡Œé¢ä¼ ä¸€ä¸ªæ•´å½¢ç”¨äºŽåˆ¤æ–­ ä¸åŒè¿›åˆ¶çš„å‰ç¼€||||â€”|â€”||åè¿›åˆ¶|æ²¡æœ‰||äºŒè¿›åˆ¶ | 0b||å…«è¿›åˆ¶ | 0o||åå…­è¿›åˆ¶ | 0x||ç§‘å­¦è®¡æ•°||1.25e2 |ä»£è¡¨ 1.25ä¹˜ä¸Š10çš„2æ¬¡æ–¹||0xFp2 |ä»£è¡¨ 15ä¹˜ä¸Š2çš„2æ¬¡æ–¹||typealias| å…³é”®å­—ï¼Œç”¨æ¥ä¸ªç±»åž‹èµ·åˆ«å| typealias ii = Int8 var mm = ii.min //è¿™é‡Œçš„iiä»£è¡¨äº†Int8 var data1 = 17 //17var data2 = 0b1010111 //87var data3 = 0o713 //459var data4 = 0xaf7 //2807 å…ƒç»„(Tuple) Tuple:å®šä¹‰å˜é‡ç»„åˆå…¶å®žå°±æ˜¯ä¸€ç¾¤æ•°æ®ç»„åˆï¼Œå¯ä»¥å°†å…¶è§£å‡ºæ¥è¾“å‡ºæ³¨æ„çš„æ˜¯tupleä¸åªæ˜¯ä¸¤ä¸ªå…ƒç´ ï¼Œä½ å¯ä»¥è‡ªå·±æ‰©å±•æˆå¤šä¸ªå…ƒç´  var x= 1 var y = 2 var z = 3 var å‘é‡ = ï¼ˆ1ï¼Œ2ï¼Œ3ï¼‰print (å‘é‡.0 ,å‘é‡.1 ,å‘é‡.2)var (x,y,z) = (1,2,3)print (x,y,z)// å€¼å‰åŠ å‰ç¼€var è¯¾ç¨‹ = (day:100,unit:&quot;å¤©&quot;,lanage:&quot;swift&quot;,version:&quot;3.0&quot;);printè¯¾ç¨‹. day) var menu = ("apple", 20) //å®šä¹‰ä¸€ä¸ªTuple var menu2 = (name: "banana", price:10) //å¯ä»¥åœ¨å®šä¹‰çš„æ—¶å€™æŒ‡å®šå…ƒç´ åå­— let (name,price) = menu //è§£Tupleï¼Œå¦‚æžœæŸä¸ªå…ƒç´ ä¸æƒ³è¦çš„è¯ï¼Œç”¨ _ ä»£æ›¿ print(name, price) //è¾“å‡º apple 20 print(menu.0,menu.1) //ä¸è§£Tupleç›´æŽ¥è¾“å‡º print(menu2.name,menu2.price) //åˆ©ç”¨å…ƒç´ åå­—è§£Tuple å¯é€‰ç±»åž‹(Optionals) å½“ä¸€ä¸ªæ–¹æ³•å¯ä»¥è¿”å›žä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå®ƒæœ‰å¯èƒ½è¿”å›žä¸€ä¸ªç©ºå€¼æ¯”å¦‚å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—çš„æ–¹æ³•ã€‚ä¸ºäº†å¤„ç†è¿™ç§æƒ…å†µï¼Œæœ‰äº†å¯é€‰ç±»åž‹ã€‚å¯é€‰ç±»åž‹è¡¨ç¤ºä¸€ä¸ªæ•°æ®ï¼Œå®ƒå¯èƒ½æœ‰å€¼ï¼Œä¹Ÿå¯èƒ½ä¸ºç©ºã€‚åŸºæœ¬è¯­æ³•æ˜¯åœ¨ç±»åž‹çš„åŽé¢åŠ ä¸Šé—®å· ï¼Ÿ å®šä¹‰å½¢å¼ å½¢å¼: var å˜é‡ï¼šç±»åž‹?,é»˜è®¤æ— å€¼ï¼ˆnilï¼‰ var addressStr:String print(addressStr) //è¿™é‡ŒæŠ¥é”™è¯´stræ²¡åˆå§‹åŒ– var addressStr:String?addressStr = &quot;æ­å·ž&quot; ä½†æ˜¯å¦‚æžœå°†stræ”¹ä¸ºå¯é€‰ç±»åž‹ï¼Œé‚£ä¹ˆè¿™å°±å¯ä»¥è¾“å‡º var str:String? print(str) //è¾“å‡º nil å¯é€‰ç±»åž‹è½¬æ¢ä¸ºå¯¹åº”çš„ç±»åž‹ â€“&gt;å¯¹å¯é€‰ç±»åž‹è§£åŒ…å¼ºåˆ¶è§£åŒ…æœ‰ä¸ªæ³¨æ„ç‚¹ï¼Œå°±æ˜¯å¦‚æžœè¿™ä¸ªå¯é€‰ç±»åž‹æ˜¯nilçš„è¯ï¼Œé‚£ä¹ˆå¼ºåˆ¶è§£åŒ…çš„è¯­å¥ä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™ var str:String? = "fe" var s = str! //å°†strè§£åŒ…ä¸ºsï¼Œä½†æ˜¯å¦‚æžœstræ²¡æœ‰èµ‹å€¼çš„è¯ï¼Œé‚£ä¹ˆè¿™å¥ä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™ print(s) è§£å†³å¼ºåˆ¶è§£åŒ…çš„æ—¶å€™ï¼Œå¯é€‰ç±»åž‹å¯èƒ½ä¸ºnilçš„é—®é¢˜ã€‚ifè¯­å¥é‡Œé¢å¤šäº†ä¸€ä¸ª Optional Binding çš„æ¦‚å¿µã€‚å°±æ˜¯å°†å¯é€‰ç±»åž‹è§£åŒ…åŽåˆ¤æ–­æ˜¯å¦ä¸ºnilï¼Œç„¶åŽæ‰§è¡Œä¸åŒçš„åˆ†æ”¯ä»£ç  //å› ä¸ºæ²¡ç»™strèµ‹å€¼ï¼Œæ‰€ä»¥è¾“å‡º strä¸ºç©º var str:String? if let s = str &#123; print("stræœ‰å€¼") &#125; else &#123; print("strä¸ºç©º") &#125; åœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿å¯é€‰ç±»åž‹ä¸€å®šä¸ä¸ºnilçš„ï¼Œé‚£ä¹ˆæ¯æ¬¡è¦å°†å¯é€‰ç±»åž‹è§£åŒ…éƒ½è¦åŠ ä¸ª !ï¼Œå¾ˆéº»çƒ¦ã€‚æ‰€ä»¥æœ‰äº†éšå¼å¯é€‰ç±»åž‹ï¼Œå®ƒæ˜¯ç”¨ ! ä»£æ›¿äº† ? å·ã€‚ç„¶åŽåœ¨éœ€è¦å°†å¯é€‰ç±»åž‹è½¬æ¢ä¸ºå¯¹åº”ç±»åž‹çš„æ—¶å€™å°±ä¸ç”¨åŠ  ! äº† var str:String! = "string" var s = str åŸºæœ¬è¿ç®— ä¸€äº›å’ŒCå®Œå…¨ä¸€æ ·çš„åŸºæœ¬è¿ç®— åŠ å‡ä¹˜é™¤ï¼Œè´Ÿå·ï¼Œè‡ªå¢žï¼ˆ++ï¼‰è‡ªå‡ï¼ˆâ€“ï¼‰ï¼Œ+=ç­‰ï¼Œ åˆ¤æ–­å¤§å°ä¹‹ç±»ï¼ˆ==ï¼Œ!=ï¼Œ&gt;=â€¦ï¼‰ï¼Œä¸‰å…ƒè¿ç®—ç¬¦ï¼Œé€»è¾‘è¿ç®—ï¼ˆ!ï¼Œ&amp;&amp;ï¼Œ||ï¼‰ ä¸ä¸€æ ·çš„è¿ç®—ç¬¦ å–æ¨¡% åœ¨Cä¸­ï¼Œåªèƒ½å¯¹æ•´å½¢è¿›è¡Œè¿ç®—Swiftä¸­å¯ä»¥å¯¹æµ®ç‚¹æ•°è¿›è¡Œè¿ç®—ã€‚ç»“æžœå°±æ˜¯å¤šå‡ºæ¥çš„é‚£éƒ¨åˆ† æ¯”å¦‚ 7.1%2.5 å¾—åˆ°2.1ï¼Œå› ä¸º7.1å¯ä»¥æœ€å¤šå‡åŽ»2ä¸ª2.5ï¼Œç„¶åŽå‰©ä¸‹2.1 èŒƒå›´è¿ç®—ç¬¦ â€¦ å’Œ ..&lt;ä¸¤ä¸ªè¿ç®—ç¬¦å¯ä»¥ç”¨åœ¨foré‡Œé¢ //è¾“å‡º 1 2 3 åŒ…å«æœ€åŽä¸€ä¸ªå…ƒç´ 3 for i in 1...3 &#123; print(i) &#125; //è¾“å‡º 1 2 ä¸åŒ…å«æœ€åŽä¸€ä¸ªå…ƒç´ 3 for i in 1..&lt;3 &#123; print(i) &#125; å•èŒƒå›´è¿ç®—ç¬¦ å¯¹äºŽä¸‹æ ‡è¿ç®—å¯ä»¥è¿™æ ·ç”¨ let names = ["Anna", "Alex", "Brian", "Jack"] for name in names[2...] &#123; print(name) &#125; // Brian // Jack for name in names[...2] &#123; print(name) &#125; // Anna // Alex // Brian for name in names[..&lt;2] &#123; print(name) &#125; // Anna // Alex å‡ å…ƒæ“ä½œç¬¦ æ“ä½œå‡ ä¸ªå¯¹è±¡ ï¼Œè¢«ç§°ä¹‹ä¸ºå‡ å…ƒæ“ä½œç¬¦ ä¸€å…ƒè¿ç®—ç¬¦ æ“ä½œä¸€ä¸ªç›®æ ‡ï¼Œæ˜¯ä¸€å…ƒæ“ä½œç¬¦ -6 // ç¬¦å· ç´§è·Ÿ 6ï¼Œæ˜¯ä¸€å…ƒè¿ç®—ç¬¦let b = -a äºŒå…ƒè¿ç®—ç¬¦ 3 + 4 //ä¸¤ä¸ªç›®æ ‡ä¹‹é—´ï¼Œæ“ä½œ2ä¸ªå¯¹è±¡ï¼Œä¹ æƒ¯å·¦å³ç•™ç©ºæ ¼a ?? bå®ƒçš„æ„æ€æ˜¯ï¼šå¦‚æžœå¯é€‰ç±»åž‹aä¸æ˜¯nilï¼Œé‚£ä¹ˆè§£åŒ…aå¹¶è¿”å›žè§£åŒ…å€¼ï¼Œå¦‚æžœaä¸ºnilï¼Œé‚£ä¹ˆè¿”å›žbç›¸å½“äºŽ a != nil ? a! : b èµ‹å€¼æ“ä½œç¬¦ let yue = 3 // ç”¨ç­‰å·å³è¾¹çš„å€¼æ¥æ›´æ–°å·¦è¾¹å˜é‡çš„å€¼yue = 5 æ•°å­¦æ“ä½œç¬¦(+ - * /) ç±»åž‹å®‰å…¨ å˜é‡ï¼ˆåŒ…å«letï¼‰ä¸€æ—¦å®šä¹‰ï¼Œå…¶ç±»åž‹ä¸å¯æ”¹å˜ï¼Œä¸èƒ½ç»™ä¸€ä¸ªå˜é‡ä¸€ä¸ªç±»åž‹ä¸åŒçš„å€¼ var ç”µè´¹ = 3.5ç‚¹è´¹ = 5 print (ç”µè´¹) æ‰“å°ï¼š5.0ç”µè´¹ = â€œäº”â€ Error #æ–­è¨€ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æžœå€¼ç¼ºå¤±æˆ–è€…å€¼å¹¶ä¸æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶ï¼Œä½ çš„ä»£ç å¯èƒ½å¹¶ä¸éœ€è¦ç»§ç»­æ‰§è¡Œã€‚è¿™æ—¶ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ä»£ç ä¸­è§¦å‘ä¸€ä¸ªæ–­è¨€(assertion)æ¥ç»“æŸä»£ç è¿è¡Œå¹¶é€šè¿‡è°ƒè¯•æ¥æ‰¾åˆ°å€¼ç¼ºå¤±çš„åŽŸå› ã€‚å¦‚æžœæ¡ä»¶åˆ¤æ–­ä¸ºtrueï¼Œä»£ç è¿è¡Œä¼šç»§ç»­è¿›è¡Œï¼›å¦‚æžœæ¡ä»¶åˆ¤æ–­ä¸ºfalseï¼Œä»£ç è¿è¡Œåœæ­¢ï¼Œä½ çš„åº”ç”¨è¢«ç»ˆæ­¢ let age = -10 //ä½ å¯ä»¥åœ¨æ–­è¨€åŠ ä¸€ä¸ªä¿¡æ¯ assert(age&gt;0 , "age can not be less than zero") //ç¨‹åºè¿è¡Œåˆ°è¿™é‡Œä¼šcrashæŽ‰ åŽé¢çš„ç¨‹åºä¸ä¼šå†æ‰§è¡Œ print("hello")]]></content>
      <categories>
        <category>Swift</category>
        <category>Grammar</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS]]></title>
    <url>%2F2016%2F11%2F23%2FOC%2FGrammar%2FiOS%2F</url>
    <content type="text"><![CDATA[iOSå¤šçº¿ç¨‹çš„é”]]></content>
      <categories>
        <category>iOS</category>
        <category>Refer</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS-UIKit-Autoreleasepool]]></title>
    <url>%2F2015%2F11%2F22%2FOC%2FKit%2FAutoreleasepool%2F</url>
    <content type="text"><![CDATA[Autoreleasepoolé‡Šæ”¾æ—¶æœº æ¯ä¸ªä¸ªRunloopå·²ç»é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªAutoreleasepool æ–°å¢žå¯¹Runloopçš„Observer, åŠæ—¶èŽ·å–Runloopçš„çŠ¶æ€å˜åŒ–ç¡®è®¤é‡Šæ”¾æ—¶æœº æ·»åŠ ä¸€ä¸ªç›‘å¬è€… åˆ›å»ºç›‘å¬è€… - (void)addRunLoopObserver &#123; CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(kCFAllocatorDefault, kCFRunLoopAllActivities, YES, 0, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) &#123; switch (activity) &#123; case kCFRunLoopEntry: NSLog(@&quot;è¿›å…¥RunLoop&quot;); break; case kCFRunLoopBeforeTimers: NSLog(@&quot;å³å°†å¤„ç†Timeräº‹ä»¶&quot;); break; case kCFRunLoopBeforeSources: NSLog(@&quot;å³å°†å¤„ç†Sourceäº‹ä»¶&quot;); break; case kCFRunLoopBeforeWaiting: NSLog(@&quot;å³å°†ä¼‘çœ &quot;); break; case kCFRunLoopAfterWaiting: NSLog(@&quot;è¢«å”¤é†’&quot;); break; case kCFRunLoopExit: NSLog(@&quot;é€€å‡ºRunLoop&quot;); break; default: break; &#125; &#125;); æ·»åŠ ç›‘å¬è€… CFRunLoopAddObserver(CFRunLoopGetMain(), observer, kCFRunLoopCommonModes);&#125; æµ‹è¯• ä¸æ‰‹åŠ¨æ·»åŠ autoreleasepool æ–¹æ³•è¿è¡Œè¿žç»­è¿è¡Œä¸¤æ¬¡, ä¸æ‰‹åŠ¨æ·»åŠ autoreleasepool - (void)test1 &#123; NSLog(@&quot;test1 begin!&quot;); for (int i = 0; i &lt; 10e5 * 2; i++) &#123; //@autoreleasepool &#123; NSString *str = [NSString stringWithFormat:@&quot;hi + %d&quot;, i]; //&#125; &#125; NSLog(@&quot;test1 finished!&quot;);&#125;- (void)test2 &#123; NSLog(@&quot;test2 begin!&quot;); for (int i = 0; i &lt; 10e5 * 2; i++) &#123; //@autoreleasepool &#123; NSString *str = [NSString stringWithFormat:@&quot;hi + %d&quot;, i]; //&#125; &#125; NSLog(@&quot;test2 finished!&quot;);&#125; Runloopæ²¡æœ‰å®Œæˆä¸€æ¬¡å¾ªçŽ¯ä¹‹å‰æ‰€æœ‰å†…å­˜éƒ½æœªé‡Šæ”¾, å³ä½¿å±€éƒ¨å˜é‡å‡ºäº†ä½œç”¨åŸŸä¹Ÿå¿…é¡»ç­‰å¾…Runloopå¾ªçŽ¯å®Œæˆ æ‰‹åŠ¨æ·»åŠ autoreleasepoolè§‚å¯Ÿé‡Šæ”¾æ—¶æœº for{@autoreleasepool{}} æ•ˆæžœå¥½äºŽ @autoreleasepool{forâ€¦}@autoreleasepool{} @autoreleasepool&#123;&#125; ç­‰ä»·äºŽ void *context = objc_autoreleasePoolPush();// &#123;&#125;ä¸­çš„ä»£ç objc_autoreleasePoolPop(context); æ¯æ¬¡å‡ºäº†{}æ—¶objc_autoreleasePoolPop()å°±è¢«è°ƒç”¨, æ‰€ä»¥ç›´æŽ¥é‡Šæ”¾æŽ‰äº†. å½“ç„¶, ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„autoreleasepoolä¹Ÿæ˜¯ä¸€æ ·, åªæ˜¯è°ƒç”¨çš„æ—¶æœºä¸åŒ: çº¿ç¨‹ä¸ŽRunloopæ˜¯ä¸€ä¸€å¯¹åº”, Runloopä¸Žç³»ç»Ÿåˆ›å»ºçš„autoreleasepoolä¹Ÿæ˜¯ä¸€ä¸€å¯¹åº”, æ‰€ä»¥ä¸è®ºæ˜¯Runloopå®Œæˆäº†ä¸€æ¬¡å¾ªçŽ¯è¿˜æ˜¯çº¿ç¨‹è¢«å…³é—­æ—¶, autoreleasepooléƒ½ä¼šé‡Šæ”¾, å½“ç„¶æ‰‹åŠ¨æ·»åŠ çš„ä¹Ÿä¼šè¢«ç®¡ç† ä¸»è¦å°±æ˜¯ä¸€ä¸ªç±»:AutoreleasePoolPage ä¸¤ä¸ªå‡½æ•°: objc_autoreleasePoolPush()ã€objc_autoreleasePoolPop() è¿ä½œæ–¹å¼: autoreleasepoolç”±è‹¥å¹²ä¸ªautoreleasePoolPageç±»ä»¥åŒå‘é“¾è¡¨çš„å½¢å¼ç»„åˆè€Œæˆ å½“ç¨‹åºè¿è¡Œåˆ°@autoreleasepool{æ—¶, objc_autoreleasePoolPush()å°†è¢«è°ƒç”¨, runtimeä¼šå‘å½“å‰çš„AutoreleasePoolPageä¸­æ·»åŠ ä¸€ä¸ªnilå¯¹è±¡ä½œä¸ºå“¨å…µ,åœ¨{}ä¸­åˆ›å»ºçš„å¯¹è±¡ä¼šè¢«ä¾æ¬¡è®°å½•åˆ°AutoreleasePoolPageçš„æ ˆé¡¶æŒ‡é’ˆ,å½“è¿è¡Œå®Œ@autoreleasepool{}æ—¶, objc_autoreleasePoolPop(å“¨å…µ)å°†è¢«è°ƒç”¨, runtimeå°±ä¼šå‘AutoreleasePoolPageä¸­è®°å½•çš„å¯¹è±¡å‘é€releaseæ¶ˆæ¯ç›´åˆ°å“¨å…µçš„ä½ç½®, å³å®Œæˆäº†ä¸€æ¬¡å®Œæ•´çš„è¿ä½œ. ä¸»çº¿ç¨‹ä¸­çš„è‡ªåŠ¨é‡Šæ”¾æ± æ˜¯è‡ªåŠ¨åˆ›å»ºçš„, æ–‡æ¡£ä¸­è¯´å­çº¿ç¨‹ä¸­çš„è‡ªåŠ¨é‡Šæ”¾æ± æ˜¯éœ€è¦æ‰‹åŠ¨åˆ›å»ºçš„, ä½†å®žæµ‹, å…¶å®žæˆ‘ä»¬å¸¸ç”¨çš„å¤šçº¿ç¨‹ç®¡ç†æ–¹å¼(GCD, NSOprationQueue, NSThread)éƒ½å·²ç»å¸®æˆ‘ä»¬å¤„ç†å¥½äº†, å…¶ä¸­NSThreadåœ¨iOS7ä¹‹åŽæ‰è‡ªåŠ¨åˆ›å»ºçº¿ç¨‹ä¸­çš„AutoreleasePool æˆ‘ä»¬å¸¸ç”¨çš„forå¾ªçŽ¯, ä»¥åŠenumerateå…¶å®žè·Ÿautoreleasepoolä¹Ÿæœ‰å…³, forå¾ªçŽ¯æ˜¯ä¸è‡ªåŠ¨åˆ›å»ºautoreleasepoolçš„, è€Œenumerateä¸­å·²ç»è‡ªåŠ¨åˆ›å»ºäº†autoreleasepool, å€¼å¾—æ³¨æ„çš„æ˜¯é«˜å¹¶å‘enumerateå¸¸å¸¸ä¼šå‡ºä¸€äº›æ„å¤–çš„é—®é¢˜, ä¾‹å¦‚å¯¹è±¡è¢«æå‰é‡Šæ”¾, æ‰€ä»¥å»ºè®®é«˜å¹¶å‘æƒ…å†µä¸‹ä½¿ç”¨forå¾ªçŽ¯(æ€§èƒ½é«˜äºŽenumerate), å†æ‰‹åŠ¨æ·»åŠ autoreleasepool.]]></content>
      <categories>
        <category>iOS</category>
        <category>UIKit</category>
      </categories>
      <tags>
        <tag>UIKit</tag>
        <tag>OC</tag>
        <tag>Autoreleasepool</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS-Lib-UM-UMAnalyticså‹ç›Ÿç»Ÿè®¡]]></title>
    <url>%2F2015%2F11%2F20%2FOC%2FLib%2FOC-Lib-UM-UMAnalytics%E5%8F%8B%E7%9B%9F%E7%BB%9F%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[UMAnalyticså‹ç›Ÿç»Ÿè®¡åŸ‹ç‚¹å®˜æ–¹ é…ç½® æ–‡æ¡£â€”&gt; Go! é…ç½®é›†æˆAppkeyä¸åŒå¹³å°çš„åº”ç”¨ç¦æ­¢ä½¿ç”¨ç›¸åŒçš„Appkeyï¼Œéœ€è¦åˆ†å¼€æ³¨å†Œå‹ç›ŸåŽå°çš„åº”ç”¨åä¸Žå®žé™…åº”ç”¨åå’ŒåŒ…åæ— å…³ï¼Œå»ºè®®å‘½åä¸ºâ€œåº”ç”¨å+å¹³å°ï¼ˆIOS/Android)â€ ä½¿ç”¨ Cocoapods å®‰è£… SDK //æ ‡å‡†SDKï¼Œå«IDFA pod &apos;UMengAnalytics&apos; æ— IDFAç‰ˆSDKï¼ˆè¯·æ ¹æ®éœ€è¦é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼‰ pod &apos;UMengAnalytics-NO-IDFA&apos; åŸºæœ¬åŠŸèƒ½é›†æˆé…ç½® AppDelegate.m ä¸»è¦åŒ…æ‹¬å¡«å†™Appkeyï¼Œè®¾ç½®å‘é€ç­–ç•¥å’Œå¡«å†™æ¸ é“idä¸‰éƒ¨åˆ†UMConfigInstanceä¸ºSDKå‚æ•°é…ç½®çš„å®žä¾‹ç±»ï¼Œåªéœ€è¦å°†å…¶æˆå‘˜ä¸­æ ‡æ³¨ä¸ºrequiredçš„å‚æ•°èµ‹å€¼ï¼Œoptionalçš„ä¸ºå¯é€‰é¡¹ã€‚appKey: ç»Ÿè®¡åˆ†æž-&gt;è®¾ç½®-&gt;åº”ç”¨ä¿¡æ¯ChannelId: åº”ç”¨çš„æ¸ é“æ ‡è¯†ã€‚é»˜è®¤ä¸º @â€App Storeâ€ å¤´æ–‡ä»¶ï¼š&quot;UMMobClick/MobClick.h&quot;- (BOOL])application:(UIApplication] *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions&#123; UMConfigInstance.appKey = @&quot;xxxxxxxxxxxxxx...&quot;; UMConfigInstance.ChannelId = @&quot;App Store&quot;; //ä»…é€‚ç”¨äºŽæ¸¸æˆåœºæ™¯ï¼Œåº”ç”¨ç»Ÿè®¡ä¸ç”¨è®¾ç½® UMConfigInstance.eSType = E_UM_GAME; //é…ç½®ä»¥ä¸Šå‚æ•°åŽè°ƒç”¨æ­¤æ–¹æ³•åˆå§‹åŒ–SDKï¼ [MobClick startWithConfigure:UMConfigInstance];&#125; é¡µé¢çš„ç»Ÿè®¡ runtimeå†™äº¤æ¢æ–¹æ³•ä¸å¤ªå¥½åŸºç¡€ç±»å¯å¢žåŠ  - (void)viewWillAppear:(BOOL)animated &#123; [super viewWillAppear:animated]; [MobClick beginLogPageView:@&quot;PageOne&quot;];//(&quot;PageOne&quot;ä¸ºé¡µé¢åç§°ï¼Œå¯è‡ªå®šä¹‰) &#125;- (void)viewWillDisappear:(BOOL)animated &#123; [super viewWillDisappear:animated]; [MobClick endLogPageView:@&quot;PageOne&quot;]; &#125; è‡ªå®šä¹‰äº‹ä»¶çš„ç»Ÿè®¡ è®¡æ•°äº‹ä»¶+è®¡ç®—äº‹ä»¶ è®¡æ•°äº‹ä»¶ç»Ÿè®¡å‘ç”Ÿæ¬¡æ•° æŸä¸ªäº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•° [MobClick event:(NSString *)eventId]; ç»Ÿè®¡ç‚¹å‡»è¡Œä¸ºå„å±žæ€§è¢«è§¦å‘çš„æ¬¡æ•°[MobClick event:(NSString *)eventId attributes:(NSDictionary *)attributes];NSDictionary *dict = @&#123;@&quot;type&quot; : @&quot;book&quot;, @&quot;quantity&quot; : @&quot;3&quot;&#125;;[MobClick event:@&quot;purchase&quot; attributes:dict]; è®¡ç®—äº‹ä»¶ ä½¿ç”¨è®¡ç®—äº‹ä»¶éœ€è¦åœ¨åŽå°æ·»åŠ äº‹ä»¶æ—¶é€‰æ‹©â€œè®¡ç®—äº‹ä»¶â€ ç»Ÿè®¡æ•°å€¼åž‹å˜é‡çš„å€¼çš„åˆ†å¸ƒ ç»Ÿè®¡ä¸€ä¸ªæ•°å€¼ç±»åž‹çš„è¿žç»­å˜é‡ï¼ˆè¯¥å˜é‡å¿…é¡»ä¸ºæ•´æ•°ï¼‰ï¼Œç”¨æˆ·æ¯æ¬¡è§¦å‘çš„æ•°å€¼çš„åˆ†å¸ƒæƒ…å†µï¼Œå¦‚äº‹ä»¶æŒç»­æ—¶é—´ã€æ¯æ¬¡ä»˜æ¬¾é‡‘é¢ç­‰ï¼Œå¯ä»¥è°ƒç”¨å¦‚ä¸‹æ–¹æ³•: +[MobClick event:(NSString *)eventId attributes:(NSDictionary *)attributes counter:(int)number]; ç¤ºä¾‹ï¼šè´­ä¹°ã€ŠSwift Fundamentalsã€‹è¿™æœ¬ä¹¦ï¼ŒèŠ±äº†110å…ƒ [MobClick event:@&quot;pay&quot; attributes:@&#123;@&quot;book&quot; : @&quot;Swift Fundamentals&quot;&#125; counter:110]; å¦‚æžœæ‚¨ä½¿ç”¨çš„æ˜¯V3.1.2ä»¥ä¸‹ç‰ˆæœ¬çš„SDKï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼š -(void)umengEvent:(NSString *)eventId attributes:(NSDictionary *)attributes number:(NSNumber *)number&#123; NSString *numberKey = @&quot;__ct__&quot;; NSMutableDictionary *mutableDictionary = [NSMutableDictionary dictionaryWithDictionary:attributes]; [mutableDictionary setObject:[number stringValue] forKey:numberKey]; [MobClick event:eventId attributes:mutableDictionary]; &#125; ç¤ºä¾‹ï¼šè´­ä¹°ã€ŠSwift Fundamentalsã€‹è¿™æœ¬ä¹¦ï¼ŒèŠ±äº†110å…ƒ [self umengEvent:@&quot;pay&quot; attributes:@&#123;@&quot;book&quot; : @&quot;Swift Fundamentals&quot;&#125; number:@(110)];]]></content>
      <categories>
        <category>OC</category>
        <category>Lib</category>
        <category>UM</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OC-CocoaPodsé…ç½®]]></title>
    <url>%2F2015%2F11%2F20%2FOC%2FFunc%2FOC-CocoaPods%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[CocoaPodsé…ç½® æœ¬åœ°å®‰è£…å¥½RubyçŽ¯å¢ƒ,ä¸‹è½½å’Œå®‰è£…CocoaPods $ sudo gem install cocoapods search ç¬¬ä¸‰æ–¹ $ pod search AFNetworking Podfile $ vim Podfile Podfileæ–‡ä»¶ platform :ios, &apos;9.0&apos; pod &quot;AFNetworking&quot;, &quot;~&gt; 3.0&quot; ä¿å­˜é€€å‡ºå‘½ä»¤ $ :wq ä¸‹è½½ç¬¬ä¸‰æ–¹ $ pod update ä¼šæ›´æ–°æ‰€æœ‰çš„ç±»åº“$ pod install é”™è¯¯lib required by Podfile CocoaPodsçš„ç‰ˆæœ¬åº“æ˜¯æœ‰ç¼“å­˜çš„, ä½†åœ¨ä½¿ç”¨podæŒ‡ä»¤æ›´æ–°ç‰ˆæœ¬åº“æ—¶ä¼šå‡ºçŽ°å†²çª, å¯¼è‡´æ›´æ–°å¹¶ä¸èƒ½å¦‚æœŸå®Œæˆ, éœ€è¦æ‰‹åŠ¨åˆ é™¤æœ¬åœ°ç¼“å­˜, å†è¿›è¡Œæ›´æ–°. å‘½ä»¤æ›´æ–°CocoaPodsç‰ˆæœ¬åº“â€“&gt;æ²¡æœ‰æ•ˆæžœ $ pod update --verbose å¦‚ä¸‹ $ sudo rm -fr ~/.cocoapods/repos/master$ pod setup]]></content>
      <categories>
        <category>OC</category>
        <category>Func</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[OC-Network-AFN-4ç§è¯·æ±‚]]></title>
    <url>%2F2015%2F01%2F10%2FOC%2FKit%2FNetwork%2FOC-Network-AFN-%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[PutDeleteGetPostèŽ·å–ç”¨æˆ·æƒé™ä»¥åŠç™»å½•è¯·æ±‚çš„å°è£…æ–¹æ³• Get + (void)requestGETWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic Api_key:(NSString *)api_key finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil]; // è®¾ç½®è¯·æ±‚å¤´ [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;]; [manager.requestSerializer setValue:api_key forHTTPHeaderField:@&quot;api_key&quot;]; [manager GET:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]]; if ([errcode isEqualToString:@&quot;0&quot;]) &#123; finish(responseObject); &#125;else &#123; NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;]; &#125; &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; enError(error); &#125;];&#125; POSTè¯·æ±‚ + (void)requestPOSTWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic Api_key:(NSString *)api_key finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil]; // è®¾ç½®è¯·æ±‚å¤´ [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;]; [manager.requestSerializer setValue:api_key forHTTPHeaderField:@&quot;api_key&quot;]; [manager POST:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]]; if ([errcode isEqualToString:@&quot;0&quot;]) &#123; finish(responseObject); &#125;else if ([errcode isEqualToString:@&quot;100000&quot;]) &#123; NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;]; // å¼¹å‡ºæç¤ºä¿¡æ¯ [[NetworkManager shareNetworkManager].mdelegate showMessage:errmsg]; &#125;else&#123; NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;]ï¼› &#125; &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; enError(error); &#125;]; &#125; PUT + (void)requestPUTWithURLStr:(NSString *)urlStr paramDic:(NSDictionary *)paramDic Api_key:(NSString *)api_key finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;, nil]; // è®¾ç½®è¯·æ±‚å¤´ [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;]; [manager.requestSerializer setValue:api_key forHTTPHeaderField:@&quot;api_key&quot;]; [manager PUT:urlStr parameters:paramDic success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]]; if ([errcode isEqualToString:@&quot;0&quot;]) &#123; finish(responseObject); &#125;else&#123; NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;]; &#125; &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; enError(error); &#125;];&#125; ä¸Šä¼ å›¾ç‰‡ + (void)requestAddImgPOSTWithURLStr:(NSString *)url paramDic:(NSDictionary *)paramDic image:(UIImage *)image name:(NSString *)name success:(void (^)(id responseObject))success failure:(void (^)(NSError *error))failure&#123; // 1.åˆ›å»ºç½‘ç»œç®¡ç†è€… AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;, nil]; //è¯·æ±‚å›¾ç‰‡,è¯·æ±‚ç½‘é¡µæ—¶éœ€è¦åŠ å…¥è¿™å¥,å› ä¸ºAFNé»˜è®¤çš„è¯·æ±‚çš„æ˜¯json manager.responseSerializer = [AFHTTPResponseSerializer serializer]; manager.requestSerializer = [AFHTTPRequestSerializer serializer]; // 2.å‘é€è¯·æ±‚(å­—å…¸åªèƒ½æ”¾éžæ–‡ä»¶å‚æ•°) [manager POST:url parameters:paramDic constructingBodyWithBlock:^(id&lt;AFMultipartFormData&gt; _Nonnull formData) &#123; NSData *imageData = UIImageJPEGRepresentation(image, 0.5);//è¿›è¡Œå›¾ç‰‡åŽ‹ç¼© // ä½¿ç”¨æ—¥æœŸç”Ÿæˆå›¾ç‰‡åç§° NSDateFormatter *formatter = [[NSDateFormatter alloc] init]; formatter.dateFormat = @&quot;yyyyMMddHHmmss&quot;; NSString *fileName = [NSString stringWithFormat:@&quot;%@.png&quot;,[formatter stringFromDate:[NSDate date]]]; // ä¸Šä¼ å›¾ç‰‡ï¼Œä»¥æ–‡ä»¶æµçš„æ ¼å¼ // ä»»æ„çš„äºŒè¿›åˆ¶æ•°æ®MIMEType application/octet-stream // ç‰¹åˆ«æ³¨æ„ï¼Œè¿™é‡Œçš„å›¾ç‰‡çš„åå­—ä¸è¦å†™é”™ï¼Œå¿…é¡»æ˜¯æŽ¥å£çš„å›¾ç‰‡çš„å‚æ•°åå­—å¦‚æˆ‘è¿™é‡Œæ˜¯file if (imageData!=nil) &#123; // å›¾ç‰‡æ•°æ®ä¸ä¸ºç©ºæ‰ä¼ é€’ [formData appendPartWithFileData:imageData name:name fileName:fileName mimeType:@&quot;image/png&quot;]; &#125; &#125; progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; NSDictionary *dic = [NSJSONSerialization JSONObjectWithData:responseObject options:(NSJSONReadingMutableContainers) error:nil]; if ([[dic objectForKey:@&quot;status&quot;]isEqualToString:@&quot;success&quot;]) &#123; success(responseObject); &#125;else&#123; NSString *message = [responseObject objectForKey:@&quot;message&quot;]; NSLog(@&quot;messageImg == %@&quot;,message); [[NetworkManager shareNetworkManager].mdelegate showMessage:message]; &#125; &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; failure(error); &#125;]; &#125; GETè¶…çº§api + (void)requestGETSuperAPIWithURLStr:(NSString *)urlStr WithAuthorization:(NSString *)authorization paramDic:(NSDictionary *)paramDic finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil]; // è®¾ç½®è¯·æ±‚å¤´ [manager.requestSerializer setValue:authorization forHTTPHeaderField:@&quot;Authorization&quot;]; [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;]; [manager GET:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; // æˆåŠŸå›žè°ƒ finish(responseObject); // å¦‚æžœsuperapikeyè¿‡æœŸï¼Œé‡æ–°ä¿å­˜åŠ å¯†èŽ·å–æ–°çš„ // å¦‚æžœç”¨æˆ·apikeyè¿‡æœŸï¼Œåˆ™é‡æ–°ç™»å½• &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; // å¤±è´¥å›žè°ƒ enError(error); &#125;];&#125; POSTè¯·æ±‚ ç«‹å³ç™»å½• + (void)requestLoginPOSTWithURLStr:(NSString *)urlStr WithAuthorization:(NSString *)authorization paramDic:(NSDictionary *)paramDic finish:(void(^)(id responseObject))finish enError:(void(^)(NSError *error))enError&#123; AFHTTPSessionManager *manager = [AFHTTPSessionManager manager]; manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@&quot;text/html&quot;,@&quot;application/json&quot;,@&quot;text/javascript&quot;,@&quot;text/json&quot;,@&quot;text/plain&quot;,@&quot;charset=UTF-8&quot;, nil]; // è®¾ç½®è¯·æ±‚å¤´ [manager.requestSerializer setValue:@&quot;application/json&quot; forHTTPHeaderField:@&quot;Accept&quot;]; [manager.requestSerializer setValue:authorization forHTTPHeaderField:@&quot;Authorization&quot;]; [manager POST:urlStr parameters:paramDic progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) &#123; NSString *errcode = [NSString stringWithFormat:@&quot;%@&quot;,[responseObject objectForKey:@&quot;errcode&quot;]]; if ([errcode isEqualToString:@&quot;0&quot;]) &#123; finish(responseObject); &#125;else &#123; NSString *errmsg = [responseObject objectForKey:@&quot;errmsg&quot;]; &#125; &#125; failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) &#123; // å¤±è´¥å›žè°ƒ enError(error); &#125;];&#125;]]></content>
      <categories>
        <category>OC</category>
        <category>Network</category>
        <category>AFN</category>
      </categories>
      <tags>
        <tag>OC</tag>
        <tag>AFN</tag>
        <tag>Network</tag>
      </tags>
  </entry>
</search>
