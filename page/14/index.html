<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">

<meta name="theme-color" content="#222">
<style>
    .pace .pace-progress {
        background: #1E92FB; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="ReactNative">
<meta property="og:type" content="website">
<meta property="og:title" content="千夜、おれはおまえをずっと爱している">
<meta property="og:url" content="http://yoursite.com/page/14/index.html">
<meta property="og:site_name" content="千夜、おれはおまえをずっと爱している">
<meta property="og:description" content="ReactNative">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="千夜、おれはおまえをずっと爱している">
<meta name="twitter:description" content="ReactNative">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/14/"/>





  <title>千夜、おれはおまえをずっと爱している</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">千夜、おれはおまえをずっと爱している</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/UISwitch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/UISwitch/" itemprop="url">Swift-UIKit-UISwitch</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T10:18:42+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UISwitch/" itemprop="url" rel="index">
                    <span itemprop="name">UISwitch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UISwitch"><a href="#UISwitch" class="headerlink" title="UISwitch"></a>UISwitch</h1><blockquote>
<p>继承自UIControl</p>
</blockquote>
<h2 id="UISwitch的大小是确定的不能进行修改-51-31"><a href="#UISwitch的大小是确定的不能进行修改-51-31" class="headerlink" title="UISwitch的大小是确定的不能进行修改 51*31"></a>UISwitch的大小是确定的不能进行修改 51*31</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> switchOne = <span class="type">UISwitch</span>(frame:<span class="type">CGRect</span>(x:<span class="number">10.0</span>, y:<span class="number">100.0</span>, width:<span class="number">0.0</span>,height: <span class="number">0.0</span>))</div><div class="line"><span class="keyword">self</span>.view.addSubview(switchOne)</div><div class="line">switchOne.backgroundColor = <span class="type">UIColor</span> .yellow;</div></pre></td></tr></table></figure>
<h2 id="设置打开状态背景颜色"><a href="#设置打开状态背景颜色" class="headerlink" title="设置打开状态背景颜色"></a>设置打开状态背景颜色</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.onTintColor = <span class="type">UIColor</span>.brown</div></pre></td></tr></table></figure>
<h2 id="设置关闭状态的背景颜色"><a href="#设置关闭状态的背景颜色" class="headerlink" title="设置关闭状态的背景颜色"></a>设置关闭状态的背景颜色</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.tintColor = <span class="type">UIColor</span>.orange</div></pre></td></tr></table></figure>
<h2 id="开关快的颜色"><a href="#开关快的颜色" class="headerlink" title="开关快的颜色"></a>开关快的颜色</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.thumbTintColor = <span class="type">UIColor</span>.red</div></pre></td></tr></table></figure>
<h2 id="设置开关状态"><a href="#设置开关状态" class="headerlink" title="设置开关状态"></a>设置开关状态</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.setOn(<span class="literal">true</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure>
<h2 id="添加按钮事件"><a href="#添加按钮事件" class="headerlink" title="添加按钮事件"></a>添加按钮事件</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">switchOne.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">ViewController</span>.switchOneValueChanged(sender:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div></pre></td></tr></table></figure>
<h2 id="状态改变之后的执行方法"><a href="#状态改变之后的执行方法" class="headerlink" title="状态改变之后的执行方法"></a>状态改变之后的执行方法</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">switchOneValueChanged</span><span class="params">(sender:UISwitch)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"我是一个帅哥，你信不？value=%d"</span>,sender.isOn)</div><div class="line">&#125;</div><div class="line"></div><div class="line">switchOne.onImage = <span class="type">UIImage</span>(named:<span class="string">"1"</span>)</div><div class="line">switchOne.offImage = <span class="type">UIImage</span>(named:<span class="string">"2"</span>)</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/UIStepper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/UIStepper/" itemprop="url">Swift-UIKit-UIStepper</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T09:58:12+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UIStepper/" itemprop="url" rel="index">
                    <span itemprop="name">UIStepper</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UIStepper"><a href="#UIStepper" class="headerlink" title="UIStepper"></a>UIStepper</h1><h2 id="创建-frame"><a href="#创建-frame" class="headerlink" title="创建+frame"></a>创建+frame</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> stepper = <span class="type">UIStepper</span>()</div><div class="line">stepper.center = <span class="keyword">self</span>.view.center</div></pre></td></tr></table></figure>
<h2 id="设置最大和最小值"><a href="#设置最大和最小值" class="headerlink" title="设置最大和最小值"></a>设置最大和最小值</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.maximumValue = <span class="number">10</span></div><div class="line">stepper.minimumValue = <span class="number">1</span></div></pre></td></tr></table></figure>
<h2 id="当前值"><a href="#当前值" class="headerlink" title="当前值"></a>当前值</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.value = <span class="number">1</span></div></pre></td></tr></table></figure>
<h2 id="每次变化的单位"><a href="#每次变化的单位" class="headerlink" title="每次变化的单位"></a>每次变化的单位</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.stepValue = <span class="number">1</span></div></pre></td></tr></table></figure>
<h2 id="按住的时候连续变化"><a href="#按住的时候连续变化" class="headerlink" title="按住的时候连续变化"></a>按住的时候连续变化</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.isContinuous = <span class="literal">true</span></div></pre></td></tr></table></figure>
<h2 id="是否循环-当增长到最大值的时候再从新开始"><a href="#是否循环-当增长到最大值的时候再从新开始" class="headerlink" title="是否循环 当增长到最大值的时候再从新开始"></a>是否循环 当增长到最大值的时候再从新开始</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.wraps = <span class="literal">true</span></div></pre></td></tr></table></figure>
<h2 id="改变事件添加"><a href="#改变事件添加" class="headerlink" title="改变事件添加"></a>改变事件添加</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.addTarget(<span class="keyword">self</span>, action:#selector(<span class="type">ViewController</span>.stepperChanged(stepper:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">stepperChanged</span><span class="params">(stepper:UIStepper)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"我是一个帅哥，你信不？value=%d"</span>,stepper.value)</div><div class="line">&#125;</div><div class="line"><span class="keyword">self</span>.view.addSubview(stepper)</div></pre></td></tr></table></figure>
<h2 id="设置颜色"><a href="#设置颜色" class="headerlink" title="设置颜色"></a>设置颜色</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.tintColor = <span class="type">UIColor</span>.green</div></pre></td></tr></table></figure>
<h2 id="设置img"><a href="#设置img" class="headerlink" title="设置img"></a>设置img</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">stepper.setDecrementImage(<span class="type">UIImage</span>(named:<span class="string">"1"</span>), <span class="keyword">for</span>: .normal)</div><div class="line">stepper.setIncrementImage(<span class="type">UIImage</span>(named:<span class="string">"1"</span>), <span class="keyword">for</span>: .normal)</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/UISlider/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/UISlider/" itemprop="url">Swift—UIKit-UISlider</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T09:47:37+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UISlider/" itemprop="url" rel="index">
                    <span itemprop="name">UISlider</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UISlider"><a href="#UISlider" class="headerlink" title="UISlider"></a>UISlider</h1><h2 id="创建-frame"><a href="#创建-frame" class="headerlink" title="创建+frame"></a>创建+frame</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> slider = <span class="type">UISlider</span>()</div><div class="line">slider.frame = <span class="type">CGRect</span>(x: <span class="number">50</span>, y: <span class="number">100</span>, width: <span class="number">200</span>, height: <span class="number">50</span>)</div></pre></td></tr></table></figure>
<p>##最小/大值</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.minimumValue = <span class="number">0</span></div><div class="line">slider.maximumValue = <span class="number">1</span></div></pre></td></tr></table></figure>
<h2 id="当前值（在取值范围之内的位置）"><a href="#当前值（在取值范围之内的位置）" class="headerlink" title="当前值（在取值范围之内的位置）"></a>当前值（在取值范围之内的位置）</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.value = <span class="number">0.5</span></div></pre></td></tr></table></figure>
<p>##按钮最小/大端图片<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.minimumValueImage = <span class="type">UIImage</span>(named:<span class="string">"SSS"</span>)</div><div class="line">slider.maximumValueImage = <span class="type">UIImage</span>(named:<span class="string">"DDD"</span>)</div></pre></td></tr></table></figure></p>
<h2 id="不同状态之下，圆点显示图片"><a href="#不同状态之下，圆点显示图片" class="headerlink" title="不同状态之下，圆点显示图片"></a>不同状态之下，圆点显示图片</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .normal)</div><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .highlighted)</div><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .disabled)</div><div class="line">slider.setThumbImage(<span class="type">UIImage</span>(named:<span class="string">""</span>), <span class="keyword">for</span>: .selected)</div></pre></td></tr></table></figure>
<p>##设置圆点的颜色</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.thumbTintColor = <span class="type">UIColor</span>.red</div></pre></td></tr></table></figure>
<h2 id="设置划过和没有划过颜色（圆点左-右）"><a href="#设置划过和没有划过颜色（圆点左-右）" class="headerlink" title="设置划过和没有划过颜色（圆点左/右）"></a>设置划过和没有划过颜色（圆点左/右）</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.minimumTrackTintColor = <span class="type">UIColor</span>.yellow</div><div class="line">slider.maximumTrackTintColor = <span class="type">UIColor</span>.brown</div></pre></td></tr></table></figure>
<h2 id="改变事件"><a href="#改变事件" class="headerlink" title="改变事件"></a>改变事件</h2><blockquote>
<p>滑块滑动停止后才触发ValueChanged事件 </p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">slider.isContinuous = <span class="literal">false</span></div><div class="line">slider.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">ViewController</span>.change(slider:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div><div class="line">slider.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">ViewController</span>.sliderDragUp(sender:)), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.touchUpInside)</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">change</span><span class="params">(slider:UISlider)</span></span> &#123;</div><div class="line">       <span class="built_in">print</span>(<span class="string">"slider.value = %d"</span>,slider.value)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sliderDragUp</span><span class="params">(sender: UISlider)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"value:(sender.value)"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/Swift-UIKit-UITextField/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/Swift-UIKit-UITextField/" itemprop="url">Swift-UIKit-UITextField</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T09:24:54+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UITextField/" itemprop="url" rel="index">
                    <span itemprop="name">UITextField</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="文本输入框"><a href="#文本输入框" class="headerlink" title="文本输入框"></a>文本输入框</h1><blockquote>
<p>创建+frame</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> textField = <span class="type">UITextField</span>(frame: <span class="type">CGRect</span>(x:<span class="number">10</span>, y:<span class="number">60</span>, width:<span class="number">200</span>, height:<span class="number">30</span>))</div><div class="line"><span class="comment">// let textField = UITextField()</span></div><div class="line"><span class="comment">// textField.frame = CGRect(x:20,y:30,width:100,height:30)</span></div></pre></td></tr></table></figure>
<blockquote>
<p>设置边框样式为圆角矩形</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.borderStyle = <span class="type">UITextBorderStyle</span>.roundedRect</div><div class="line"><span class="keyword">self</span>.view.addSubview(textField)</div></pre></td></tr></table></figure>
<blockquote>
<p>文本输入框的边框样式</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UITextBorderStyle</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">        <span class="keyword">case</span> <span class="keyword">none</span> 无边框</div><div class="line">        <span class="keyword">case</span> line 直线边框</div><div class="line">        <span class="keyword">case</span> bezel 圆角矩形边框</div><div class="line">        <span class="keyword">case</span> roundedRect 边线+阴影</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>文本输入框的提示文字</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.placeholder = <span class="string">"请输入相关信息"</span></div></pre></td></tr></table></figure>
<blockquote>
<p>文字大小超过文本框长度时自动缩小字号，而不是隐藏显示省略号</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> textField.adjustsFontSizeToFitWidth=<span class="literal">true</span>  <span class="comment">//当文字超出文本框宽度时，自动调整文字大小</span></div><div class="line">textField.minimumFontSize=<span class="number">14</span>              <span class="comment">//最小可缩小的字号</span></div></pre></td></tr></table></figure>
<blockquote>
<p>水平/垂直对齐方式</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">/** 水平对齐 **/</span></div><div class="line">textField.textAlignment = .<span class="keyword">right</span> <span class="comment">//水平右对齐</span></div><div class="line">textField.textAlignment = .center <span class="comment">//水平居中对齐</span></div><div class="line">textField.textAlignment = .<span class="keyword">left</span> <span class="comment">//水平左对齐</span></div><div class="line"> </div><div class="line"><span class="comment">/** 垂直对齐 **/</span></div><div class="line">textField.contentVerticalAlignment = .top  <span class="comment">//垂直向上对齐</span></div><div class="line">textField.contentVerticalAlignment = .center  <span class="comment">//垂直居中对齐</span></div><div class="line">textField.contentVerticalAlignment = .bottom  <span class="comment">//垂直向下对齐</span></div></pre></td></tr></table></figure>
<blockquote>
<p>背景图片设置</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.borderStyle = .<span class="keyword">none</span> <span class="comment">//先要去除边框样式</span></div><div class="line">textField.background = <span class="type">UIImage</span>(named:<span class="string">"background1"</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>清除按钮（输入框内右侧小叉）</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.clearButtonMode = .whileEditing  <span class="comment">//编辑时出现清除按钮</span></div><div class="line">textField.clearButtonMode = .unlessEditing  <span class="comment">//编辑时不出现，编辑后才出现清除按钮</span></div><div class="line">textField.clearButtonMode = .always  <span class="comment">//一直显示清除按钮</span></div></pre></td></tr></table></figure>
<blockquote>
<p>键盘类型</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="type">Default</span>：                系统默认的虚拟键盘</div><div class="line"><span class="type">ASCII</span> <span class="type">Capable</span>：          显示英文字母的虚拟键盘</div><div class="line"><span class="type">Numbers</span> and <span class="type">Punctuation</span>：显示数字和标点的虚拟键盘</div><div class="line"><span class="type">URL</span>：                    显示便于输入url网址的虚拟键盘</div><div class="line"><span class="type">Number</span> <span class="type">Pad</span>：             显示便于输入数字的虚拟键盘</div><div class="line"><span class="type">Phone</span> <span class="type">Pad</span>：              显示便于拨号呼叫的虚拟键盘</div><div class="line"><span class="type">Name</span> <span class="type">Phone</span> <span class="type">Pad</span>：         显示便于聊天拨号的虚拟键盘</div><div class="line"><span class="type">Email</span> <span class="type">Address</span>：          显示便于输入<span class="type">Email</span>的虚拟键盘</div><div class="line"><span class="type">Decimal</span> <span class="type">Pad</span>：            显示用于输入数字和小数点的虚拟键盘</div><div class="line"><span class="type">Twitter</span>：                显示方便些<span class="type">Twitter</span>的虚拟键盘</div><div class="line"><span class="type">Web</span> <span class="type">Search</span>：             显示便于在网页上书写的虚拟键盘</div></pre></td></tr></table></figure>
<blockquote>
<p>设置文本框关联的键盘</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.keyboardType = <span class="type">UIKeyboardType</span>.numberPad</div></pre></td></tr></table></figure>
<blockquote>
<p>使文本框失去焦点，并收回键盘</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.resignFirstResponder()</div></pre></td></tr></table></figure>
<blockquote>
<p>设置键盘return键的样式</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> extField.returnKeyType = <span class="type">UIReturnKeyType</span>.done     <span class="comment">//表示完成输入</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.go      <span class="comment">//表示完成输入，同时会跳到另一页</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.search  <span class="comment">//表示搜索</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.<span class="built_in">join</span>    <span class="comment">//表示注册用户或添加数据</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.next    <span class="comment">//表示继续下一步</span></div><div class="line">textField.returnKeyType = <span class="type">UIReturnKeyType</span>.send    <span class="comment">//表示发送</span></div></pre></td></tr></table></figure>
<blockquote>
<p>键盘return键的响应</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">import</span> UIKit</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">UITextFieldDelegate</span> </span>&#123;</div><div class="line">     </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">         </div><div class="line">        <span class="keyword">let</span> textField = <span class="type">UITextField</span>(frame: <span class="type">CGRect</span>(x:<span class="number">10</span>,y:<span class="number">160</span>,width:<span class="number">200</span>,height:<span class="number">30</span>))</div><div class="line">        <span class="comment">//设置边框样式为圆角矩形</span></div><div class="line">        textField.borderStyle = <span class="type">UITextBorderStyle</span>.roundedRect</div><div class="line">        textField.returnKeyType = <span class="type">UIReturnKeyType</span>.done</div><div class="line">        textField.delegate=<span class="keyword">self</span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(textField)</div><div class="line">    &#125;</div><div class="line">     </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        <span class="comment">//收起键盘</span></div><div class="line">        textField.resignFirstResponder()</div><div class="line">        <span class="comment">//打印出文本框中的值</span></div><div class="line">        <span class="built_in">print</span>(textField.text)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>输入/显示文本字体的颜色</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">textField.textColor = <span class="type">UIColor</span>.cyan</div></pre></td></tr></table></figure>
<blockquote>
<p>文本框的字体大小设置</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//text.font = [UIFont fontWithName:@"Arial" size:20.0f];   //设置输入框内容的字体样式和大小</span></div><div class="line">textField.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">14</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>文本输入框的代理设置（遵守UITextFieldDelegate协议）</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">UITextFieldDelegate</span> </span>&#123;</div><div class="line"></div><div class="line">textField.delegate = <span class="keyword">self</span></div></pre></td></tr></table></figure>
<blockquote>
<p>输入框的背景颜色</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">text.backgroundColor = [<span class="type">UIColor</span> whiteColor]<span class="comment">//设置输入框的背景颜色，此时设置为白色 如果使用了自定义的背景图片边框会被忽略掉 ~~~</span></div></pre></td></tr></table></figure>
<blockquote>
<p>输入框中一开始就有的文字</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">text.text = @<span class="string">"文字"</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>是否自动纠错</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> text.autocorrectionType = <span class="type">UITextAutocorrectionTypeNo</span></div><div class="line"> 几种选择样式</div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line">	<span class="type">UITextAutocorrectionTypeDefault</span>, 默认</div><div class="line">	<span class="type">UITextAutocorrectionTypeNo</span>, 不自动纠错</div><div class="line">	<span class="type">UITextAutocorrectionTypeYes</span>, 自动纠错</div><div class="line">&#125; <span class="type">UITextAutocorrectionType</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>再次编辑就清空</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">text.clearsOnBeginEditing = <span class="type">YES</span></div></pre></td></tr></table></figure>
<blockquote>
<p>首字母是否自动大</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> text.autocapitalizationType = <span class="type">UITextAutocapitalizationTypeNone</span>;</div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line">	<span class="type">UITextAutocapitalizationTypeNone</span>, 不自动大写</div><div class="line">	<span class="type">UITextAutocapitalizationTypeWords</span>, 单词首字母大写</div><div class="line">	<span class="type">UITextAutocapitalizationTypeSentences</span>, 句子的首字母大写</div><div class="line">	<span class="type">UITextAutocapitalizationTypeAllCharacters</span>, 所有字母都大写</div><div class="line">&#125; <span class="type">UITextAutocapitalizationType</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>键盘外观</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> textView.keyboardAppearance=<span class="type">UIKeyboardAppearanceDefault</span></div><div class="line"> </div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line">	<span class="type">UIKeyboardAppearanceDefault</span>， 默认外观，浅灰色</div><div class="line">	<span class="type">UIKeyboardAppearanceAlert</span>， 深灰 石墨色</div><div class="line">&#125; <span class="type">UIReturnKeyType</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>最右侧加图片是以下代码（左侧类似）</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="type">UIImageView</span> *image=[[<span class="type">UIImageView</span> alloc] initWithImage:[<span class="type">UIImage</span> imageNamed:@<span class="string">"right.png"</span>]] <span class="comment">//</span></div><div class="line">text.rightView=image;</div><div class="line">text.rightViewMode = <span class="type">UITextFieldViewModeAlways</span></div><div class="line"></div><div class="line">typedef <span class="class"><span class="keyword">enum</span> </span>&#123;</div><div class="line">	<span class="type">UITextFieldViewModeNever</span>,</div><div class="line">	<span class="type">UITextFieldViewModeWhileEditing</span>,</div><div class="line">	<span class="type">UITextFieldViewModeUnlessEditing</span>,</div><div class="line">	<span class="type">UITextFieldViewModeAlways</span></div><div class="line">&#125; <span class="type">UITextFieldViewMode</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>重写绘制行为<br>除了UITextField对象的风格选项，你还可以定制化UITextField对象，为他添加许多不同的重写方法，来改变文本字段的显示行为。这些方法都会返回一个CGRect结构，制定了文本字段每个部件的边界范围。以下方法都可以重写</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> – textRectForBounds:　　 <span class="comment">//重写来重置文字区域</span></div><div class="line">– drawTextInRect:　　 <span class="comment">//改变绘文字属性.重写时调用super可以按默认图形属性绘制,若自己完全重写绘制函数，就不用调用super了.</span></div><div class="line">– placeholderRectForBounds:　　<span class="comment">//重写来重置占位符区域</span></div><div class="line">– drawPlaceholderInRect:　　<span class="comment">//重写改变绘制占位符属性.重写时调用super可以按默认图形属性绘制,若自己完全重写绘制函数，就不用调用super了.</span></div><div class="line">– borderRectForBounds:　　<span class="comment">//重写来重置边缘区域</span></div><div class="line">– editingRectForBounds:　　<span class="comment">//重写来重置编辑区域</span></div><div class="line">– clearButtonRectForBounds:　　<span class="comment">//重写来重置clearButton位置,改变size可能导致button的图片失真</span></div><div class="line">– leftViewRectForBounds:</div><div class="line">– rightViewRectForBounds:</div></pre></td></tr></table></figure>
<blockquote>
<p>委托方法</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> (<span class="type">BOOL</span>)textFieldShouldBeginEditing:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//返回一个BOOL值，指定是否循序文本字段开始编辑</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line">(void)textFieldDidBeginEditing:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//开始编辑时触发，文本字段将成为first responder</span></div><div class="line">&#125;</div><div class="line">(<span class="type">BOOL</span>)textFieldShouldEndEditing:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//返回BOOL值，指定是否允许文本字段结束编辑，当编辑结束，文本字段会让出first responder</span></div><div class="line"><span class="comment">//要想在用户结束编辑时阻止文本字段消失，可以返回NO</span></div><div class="line"><span class="comment">//这对一些文本字段必须始终保持活跃状态的程序很有用，比如即时消息</span></div><div class="line"><span class="keyword">return</span> <span class="type">NO</span>;</div><div class="line">&#125;</div><div class="line">(<span class="type">BOOL</span>)textField:(<span class="type">UITextField</span>*)textField shouldChangeCharactersInRange:(<span class="type">NSRange</span>)range replacementString:(<span class="type">NSString</span> *)string&#123;</div><div class="line"><span class="comment">//当用户使用自动更正功能，把输入的文字修改为推荐的文字时，就会调用这个方法。</span></div><div class="line"><span class="comment">//这对于想要加入撤销选项的应用程序特别有用</span></div><div class="line"><span class="comment">//可以跟踪字段内所做的最后一次修改，也可以对所有编辑做日志记录,用作审计用途。</span></div><div class="line"><span class="comment">//要防止文字被改变可以返回NO</span></div><div class="line"><span class="comment">//这个方法的参数中有一个NSRange对象，指明了被改变文字的位置，建议修改的文本也在其中</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line">(<span class="type">BOOL</span>)textFieldShouldClear:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//返回一个BOOL值指明是否允许根据用户请求清除内容</span></div><div class="line"><span class="comment">//可以设置在特定条件下才允许清除内容</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line">-(<span class="type">BOOL</span>)textFieldShouldReturn:(<span class="type">UITextField</span> *)textField&#123;</div><div class="line"><span class="comment">//返回一个BOOL值，指明是否允许在按下回车键时结束编辑</span></div><div class="line"><span class="comment">//如果允许要调用resignFirstResponder 方法，这回导致结束编辑，而键盘会被收起[textField resignFirstResponder];</span></div><div class="line"><span class="comment">//查一下resign这个单词的意思就明白这个方法了</span></div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>通知</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="type">UITextField</span>派生自<span class="type">UIControl</span>，所以<span class="type">UIControl</span>类中的通知系统在文本字段中也可以使用。除了<span class="type">UIControl</span>类的标准事件，你还可以使用下列<span class="type">UITextField</span>类特有的事件</div><div class="line"><span class="type">UITextFieldTextDidBeginEditingNotification</span></div><div class="line"><span class="type">UITextFieldTextDidChangeNotification</span></div><div class="line"><span class="type">UITextFieldTextDidEndEditingNotification</span></div><div class="line">当文本字段退出编辑模式时触发。通知的object属性存储了最终文本。</div><div class="line">因为文本字段要使用键盘输入文字，所以下面这些事件发生时，也会发送动作通知</div><div class="line"><span class="type">UIKeyboardWillShowNotification</span>   <span class="comment">//键盘显示之前发送</span></div><div class="line"><span class="type">UIKeyboardDidShowNotification</span>    <span class="comment">//键盘显示之后发送</span></div><div class="line"><span class="type">UIKeyboardWillHideNotification</span>   <span class="comment">//键盘隐藏之前发送</span></div><div class="line"><span class="type">UIKeyboardDidHideNotification</span>    <span class="comment">//键盘隐藏之后发送</span></div><div class="line"></div><div class="line"><span class="comment">//添加通知方法</span></div><div class="line"><span class="type">NSNotificationCenter</span>.defaultCenter().addObserver(<span class="keyword">self</span>, selector: <span class="type">Selector</span>(<span class="string">"textFiledEditChanged:"</span>), name: <span class="type">UITextFieldTextDidChangeNotification</span>, object: textfield)</div></pre></td></tr></table></figure>
<blockquote>
<p>限制只能输入特定的字符</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> -(<span class="type">BOOL</span>)textField:(<span class="type">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="type">NSRange</span>)range replacementString:(<span class="type">NSString</span> *)string&#123;</div><div class="line"><span class="type">NSCharacterSet</span> *cs;</div><div class="line">cs = [[<span class="type">NSCharacterSet</span> characterSetWithCharactersInString:<span class="type">NUMBERS</span>]invertedSet];</div><div class="line"><span class="type">NSString</span> *filtered = [[string componentsSeparatedByCharactersInSet:cs]componentsJoinedByString:@<span class="string">""</span>];<span class="comment">//按cs分离出数组,数组按@""分离出字符串</span></div><div class="line"><span class="type">BOOL</span> canChange = [string isEqualToString:filtered];</div><div class="line"><span class="keyword">return</span> canChange;</div><div class="line">&#125;</div><div class="line">上面这个<span class="type">NUMBERS</span>是一个宏，可以在文件顶部定义：</div><div class="line">define <span class="type">NUMBERS</span> @”<span class="number">0123456789</span>\n”</div><div class="line">如果你要限制输入英文和数字的话，就可以把这个定义为：</div><div class="line">define kAlphaNum @”<span class="type">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789</span>″</div></pre></td></tr></table></figure>
<blockquote>
<p>限制只能输入一定长度的字符</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> (<span class="type">BOOL</span>)textField:(<span class="type">UITextField</span> *)textField shouldChangeCharactersInRange:(<span class="type">NSRange</span>)range replacementString:(<span class="type">NSString</span> *)string;</div><div class="line">&#123; <span class="comment">//string就是此时输入的那个字符 textField就是此时正在输入的那个输入框 返回YES就是可以改变输入框的值 NO相反</span></div><div class="line"><span class="keyword">if</span> ([string isEqualToString:@<span class="string">"\n"</span>]) <span class="comment">//按会车可以改变</span></div><div class="line">&#123;</div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line"><span class="type">NSString</span> * toBeString = [textField.text stringByReplacingCharactersInRange:range withString:string];<span class="comment">//得到输入框的内容</span></div><div class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.myTextField == textField) <span class="comment">//判断是否时我们想要限定的那个输入框</span></div><div class="line">&#123;</div><div class="line"><span class="keyword">if</span> ([toBeString length] &gt; <span class="number">20</span>) &#123; <span class="comment">//如果输入框内容大于20则弹出警告</span></div><div class="line">textField.text = [toBeString substringToIndex:<span class="number">20</span>];</div><div class="line"><span class="type">UIAlertView</span> *alert = [[[<span class="type">UIAlertView</span> alloc] initWithTitle:<span class="literal">nil</span> message:@<span class="string">"超过最大字数不能输入了"</span> delegate:<span class="literal">nil</span> cancelButtonTitle:@<span class="string">"Ok"</span> otherButtonTitles:<span class="literal">nil</span>, <span class="literal">nil</span>] autorelease];</div><div class="line">[alert show];</div><div class="line"><span class="keyword">return</span> <span class="type">NO</span>;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> <span class="type">YES</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//设置能不能进行编辑/用户交互的开关</span></div><div class="line">textfield.enabled = <span class="literal">true</span></div><div class="line">textfield.userInteractionEnabled = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">//设置圆角属性</span></div><div class="line">textField.layer.cornerRadius = <span class="number">10.0</span></div><div class="line">textField.layer.masksToBounds = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="comment">//自定义输入源控件</span></div><div class="line"><span class="keyword">let</span> inputview = <span class="type">UIButton</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="type">CGRectGetWidth</span>(<span class="keyword">self</span>.view.bounds), <span class="number">100.0</span>))</div><div class="line">inputview.setImage(<span class="type">UIImage</span>(named: <span class="string">"normalImage"</span>), forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line">inputview.backgroundColor = <span class="type">UIColor</span>.lightGrayColor()</div><div class="line">inputview.addTarget(<span class="keyword">self</span>, action: <span class="type">Selector</span>(<span class="string">"click:"</span>), forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</div><div class="line">textfield.inputView = inputview</div><div class="line"></div><div class="line"><span class="comment">// 自定义输入源控件副视图</span></div><div class="line"><span class="keyword">let</span> accessoryview = <span class="type">UIView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="type">CGRectGetWidth</span>(<span class="keyword">self</span>.view.bounds), <span class="number">40.0</span>))</div><div class="line">accessoryview.backgroundColor = <span class="type">UIColor</span>.greenColor()</div><div class="line"><span class="keyword">let</span> accessoryLeft = <span class="type">UIButton</span>(frame: <span class="type">CGRectMake</span>(<span class="number">10.0</span>, <span class="number">10.0</span>, <span class="number">60.0</span>, <span class="number">20.0</span>))</div><div class="line">accessoryview.addSubview(accessoryLeft)</div><div class="line">accessoryLeft.setTitle(<span class="string">"取消"</span>, forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line">accessoryLeft.backgroundColor = <span class="type">UIColor</span>.orangeColor()</div><div class="line">accessoryLeft.addTarget(<span class="keyword">self</span>, action: <span class="type">Selector</span>(<span class="string">"leftClick:"</span>), forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</div><div class="line"><span class="keyword">let</span> accessoryRight = <span class="type">UIButton</span>(frame: <span class="type">CGRectMake</span>((<span class="type">CGRectGetWidth</span>(accessoryview.bounds) - <span class="number">10.0</span> - <span class="number">60.0</span>), <span class="number">10.0</span>, <span class="number">60.0</span>, <span class="number">20.0</span>))</div><div class="line">accessoryview.addSubview(accessoryRight)</div><div class="line">accessoryRight.setTitle(<span class="string">"确定"</span>, forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line">accessoryRight.backgroundColor = <span class="type">UIColor</span>.orangeColor()</div><div class="line">accessoryRight.addTarget(<span class="keyword">self</span>, action: <span class="type">Selector</span>(<span class="string">"rightClick:"</span>), forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</div><div class="line">textfield.inputAccessoryView = accessoryview</div><div class="line"></div><div class="line"><span class="comment">// 自定义输入源控件时响应事件</span></div><div class="line"><span class="comment">// MARK: - click</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">click</span><span class="params">(button:UIButton)</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">self</span>.view.endEditing(<span class="literal">true</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//MARK: - left/right click</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">leftClick</span><span class="params">(button:UIButton)</span></span></div><div class="line">&#123;</div><div class="line"><span class="built_in">print</span>(<span class="string">"取消"</span>)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">rightClick</span><span class="params">(button:UIButton)</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">self</span>.view.endEditing(<span class="literal">true</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"确定"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/06/Swift/UIKit/UILabel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/Swift/UIKit/UILabel/" itemprop="url">Swift-UIKit-UILabel</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-06T16:59:28+08:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UILabel/" itemprop="url" rel="index">
                    <span itemprop="name">UILabel</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="lab"><a href="#lab" class="headerlink" title="lab"></a>lab</h1><blockquote>
<p>创建&amp;&amp; 设置frame</p>
</blockquote>
 <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> lab = <span class="type">UILabel</span>(frame:<span class="type">CGRect</span>(x:<span class="number">10</span>,y:<span class="number">100</span>,width:<span class="keyword">self</span>.view.frame.size.width - <span class="number">40</span>,height:<span class="number">200</span>))</div><div class="line"></div><div class="line"> 或</div><div class="line"> </div><div class="line"><span class="keyword">let</span> lab = <span class="type">UILabel</span>()</div><div class="line">lab.frame = <span class="type">CGRect</span>(x:<span class="number">10</span>,y:<span class="number">100</span>,width:<span class="keyword">self</span>.view.frame.size.width - <span class="number">40</span>,height:<span class="number">200</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>添加父层</p>
</blockquote>
 <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.view.addSubview(lab);</div></pre></td></tr></table></figure>
<blockquote>
<p>显示文本内容</p>
</blockquote>
 <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.text = <span class="string">"chen jian !"</span></div></pre></td></tr></table></figure>
<blockquote>
<p>设置bg颜色</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.backgroundColor = <span class="type">UIColor</span>.green</div></pre></td></tr></table></figure>
<blockquote>
<p>文字颜色</p>
</blockquote>
 <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.textColor = <span class="type">UIColor</span>.white</div></pre></td></tr></table></figure>
<blockquote>
<p>文字对齐方式</p>
</blockquote>
 <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> </div><div class="line">lab.textAlignment = <span class="type">NSTextAlignment</span>.<span class="keyword">left</span></div></pre></td></tr></table></figure>
<blockquote>
<p>高亮文字颜色</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.highlightedTextColor = <span class="type">UIColor</span>.cyan</div></pre></td></tr></table></figure>
<blockquote>
<p>阴影颜色</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.shadowColor = <span class="type">UIColor</span>.black</div></pre></td></tr></table></figure>
<blockquote>
<p>阴影偏移位置</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.shadowOffset = <span class="type">CGSize</span>(width:-<span class="number">5</span>,height:<span class="number">5</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>设置圆角</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.layer.cornerRadius = <span class="number">20</span></div><div class="line">lab.layer.masksToBounds = <span class="literal">true</span></div></pre></td></tr></table></figure>
<blockquote>
<p>边框的宽度和颜色</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.layer.borderColor = <span class="type">UIColor</span>.green.cgColor</div><div class="line">lab.layer.borderWidth = <span class="number">2</span></div></pre></td></tr></table></figure>
<blockquote>
<p>文字类型/大小</p>
</blockquote>
 <figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.font = <span class="type">UIFont</span>.boldSystemFont(ofSize: <span class="number">20</span>)  <span class="comment">//加粗类型</span></div><div class="line">lab.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">20</span>)      <span class="comment">//文字大小</span></div><div class="line">lab.font = <span class="type">UIFont</span>.italicSystemFont(ofSize: <span class="number">20</span>)<span class="comment">//斜体类型</span></div><div class="line">lab.font = <span class="type">UIFont</span>(name:<span class="string">"您好"</span>,size:<span class="number">50</span>)         <span class="comment">//大小和文字一起设置</span></div></pre></td></tr></table></figure>
<blockquote>
<p>显示de样式</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   lab.lineBreakMode = <span class="type">NSLineBreakMode</span>.byCharWrapping</div><div class="line">   </div><div class="line">   <span class="comment">// NSParagraphStyle</span></div><div class="line"><span class="meta">@available</span>(iOS <span class="number">6.0</span>, *)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">NSLineBreakMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="keyword">case</span> byWordWrapping <span class="comment">// Wrap at word boundaries, default</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byCharWrapping <span class="comment">// Wrap at character boundaries</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byClipping <span class="comment">// Simply clip</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byTruncatingHead <span class="comment">// Truncate at head of line: "...wxyz"</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byTruncatingTail <span class="comment">// Truncate at tail of line: "abcd..."</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> byTruncatingMiddle <span class="comment">// Truncate middle of line:  "ab...yz"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>多行de显示</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.numberOfLines = <span class="number">2</span> <span class="comment">//最多显示2行</span></div><div class="line">lab.numberOfLines = <span class="number">0</span> <span class="comment">// 默认没有行数显示</span></div><div class="line">lab.numberOfLines = <span class="number">1</span> <span class="comment">//只能显示一行</span></div></pre></td></tr></table></figure>
<blockquote>
<p>自动调整文字de大小</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">lab.adjustsFontSizeToFitWidth  =  <span class="literal">true</span></div></pre></td></tr></table></figure>
<h1 id="富文本设置"><a href="#富文本设置" class="headerlink" title="富文本设置"></a>富文本设置</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">//创建对象</span></div><div class="line"><span class="keyword">let</span> attributeString = <span class="type">NSMutableAttributedString</span>(string:<span class="string">"Welcome to Swift! Welcome to Swift! Welcome to Swift! Welcome to Swift!"</span>)</div><div class="line"><span class="comment">//设置字体大小/字体类型</span></div><div class="line">attributeString.addAttribute(<span class="type">NSFontAttributeName</span>, value: <span class="type">UIFont</span>(name: <span class="string">"HelveticaNeue-Bold"</span>, size: <span class="number">16</span>)!, range: <span class="type">NSMakeRange</span>(<span class="number">0</span>, <span class="number">6</span>))</div><div class="line"><span class="comment">//设置背景颜色           </span></div><div class="line">attributeString.addAttribute(<span class="type">NSForegroundColorAttributeName</span>, value: <span class="type">UIColor</span>.red, range: <span class="type">NSMakeRange</span>(<span class="number">0</span>, <span class="number">3</span>))          </div><div class="line"><span class="comment">//设置文档背景色     attributeString.addAttribute(NSBackgroundColorDocumentAttribute, value: UIColor.lightGray, range: NSMakeRange(10, 10))</span></div><div class="line"><span class="comment">//设置下划线</span></div><div class="line">attributeString.addAttribute(<span class="type">NSUnderlineStyleAttributeName</span>, value:<span class="type">NSUnderlineStyle</span>.<span class="type">StyleSingle</span>.rawValue, range: <span class="type">NSMakeRange</span>(<span class="number">5</span>,<span class="number">12</span>))</div><div class="line">        </div><div class="line">testLable.attributedText = attributeString;</div></pre></td></tr></table></figure>
<h1 id="文本高度计算"><a href="#文本高度计算" class="headerlink" title="文本高度计算"></a>文本高度计算</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">extension</span> <span class="title">NSString</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">textSizeWithFont</span><span class="params">(font: UIFont, constrainedToSize size:CGSize)</span></span> -&gt; <span class="type">CGSize</span> &#123;</div><div class="line">        <span class="keyword">var</span> textSize:<span class="type">CGSize</span>!</div><div class="line">        <span class="keyword">if</span> <span class="type">CGSizeEqualToSize</span>(size, <span class="type">CGSizeZero</span>) &#123;</div><div class="line">            <span class="keyword">let</span> attributes = <span class="type">NSDictionary</span>(object: font, forKey: <span class="type">NSFontAttributeName</span>)</div><div class="line">            textSize = <span class="keyword">self</span>.sizeWithAttributes(attributes)</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">let</span> option = <span class="type">NSStringDrawingOptions</span>.<span class="type">UsesLineFragmentOrigin</span></div><div class="line">            <span class="keyword">let</span> attributes = <span class="type">NSDictionary</span>(object: font, forKey: <span class="type">NSFontAttributeName</span>)</div><div class="line">            <span class="keyword">let</span> stringRect = <span class="keyword">self</span>.boundingRectWithSize(size, options: option, attributes: attributes, context: <span class="literal">nil</span>)</div><div class="line">            textSize = stringRect.size</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> textSize</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/06/Swift/UIKit/UIButton/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/Swift/UIKit/UIButton/" itemprop="url">Swift-UIKit-UIButton</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-06T16:59:28+08:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UIButton/" itemprop="url" rel="index">
                    <span itemprop="name">UIButton</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UIButton"><a href="#UIButton" class="headerlink" title="UIButton"></a>UIButton</h1><blockquote>
<p>UIButton继承自UIControl</p>
</blockquote>
<h2 id="创建btn"><a href="#创建btn" class="headerlink" title="创建btn"></a>创建btn</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> btn: <span class="type">UIButton</span> = <span class="type">UIButton</span>()   <span class="comment">//没有样式</span></div><div class="line"><span class="comment">//let btns:UIButton =UIButton(type: UIButtonType)//有样式</span></div><div class="line"><span class="comment">//let button = UIButton(frame:CGRect(x:10, y:150, width:100, height:30))//简化创建方式</span></div><div class="line"><span class="keyword">self</span>.view.addSubview(button)</div></pre></td></tr></table></figure>
<h2 id="UIButtonType有以下类型"><a href="#UIButtonType有以下类型" class="headerlink" title="UIButtonType有以下类型"></a>UIButtonType有以下类型</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UIButtonType</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> custom <span class="comment">// no button type</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">7.0</span>, *)</div><div class="line">    <span class="keyword">case</span> system <span class="comment">// standard system button</span></div><div class="line">    <span class="keyword">case</span> detailDisclosure</div><div class="line">    <span class="keyword">case</span> infoLight</div><div class="line">    <span class="keyword">case</span> infoDark</div><div class="line">    <span class="keyword">case</span> contactAdd</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> roundedRect: <span class="type">UIButtonType</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Deprecated, use UIButtonTypeSystem instead</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//使用</span></div><div class="line"><span class="keyword">let</span>  btn: <span class="type">UIButton</span> = <span class="type">UIButton</span>(type: .<span class="type">Custom</span>)</div></pre></td></tr></table></figure>
<h2 id="UIButton设置字内容和颜色"><a href="#UIButton设置字内容和颜色" class="headerlink" title="UIButton设置字内容和颜色"></a>UIButton设置字内容和颜色</h2><blockquote>
<p>UIButton所对应的状态有几种</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">   <span class="comment">/**</span></div><div class="line"><span class="comment">     Normal          (默认状态)</span></div><div class="line"><span class="comment">     Highlighted    （高亮状态）点击按钮不放</span></div><div class="line"><span class="comment">     Disabled       （使能状态）就是是否可用状态--&gt;禁用的状态才会显现</span></div><div class="line"><span class="comment">     Selected       （选中状态）通过selected属性设置</span></div><div class="line"><span class="comment"> */</span></div><div class="line"> </div><div class="line"> </div><div class="line"> /显示文字</div><div class="line">button1.setTitle(<span class="string">"普通状态"</span>, <span class="keyword">for</span>: .normal)</div><div class="line">button1.setTitle(<span class="string">"高粱状态"</span>, <span class="keyword">for</span>: .highlighted)</div><div class="line">button1.setTitle(<span class="string">"禁用状态"</span>, <span class="keyword">for</span>: .disabled)</div><div class="line"><span class="comment">//显示文字颜色</span></div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.red, <span class="keyword">for</span>: .normal)</div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.blue, <span class="keyword">for</span>: .highlighted)</div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.cyan, <span class="keyword">for</span>: .selected)</div><div class="line">button1.setTitleColor(<span class="type">UIColor</span>.cyan, <span class="keyword">for</span>: .disabled)</div><div class="line"><span class="comment">//阴影文字颜色设置</span></div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.cyan, <span class="keyword">for</span>: .normal)</div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.green, <span class="keyword">for</span>: .highlighted)</div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.brown, <span class="keyword">for</span>: .disabled)</div><div class="line">button1.setTitleShadowColor(<span class="type">UIColor</span>.darkGray, <span class="keyword">for</span>: .selected)</div></pre></td></tr></table></figure>
<h2 id="UIButton设置背景颜色和背景图片"><a href="#UIButton设置背景颜色和背景图片" class="headerlink" title="UIButton设置背景颜色和背景图片"></a>UIButton设置背景颜色和背景图片</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//背景颜色</span></div><div class="line">button2.backgroundColor = <span class="type">UIColor</span>.orange</div><div class="line"><span class="comment">//背景图片    button4.setBackgroundImage(UIImage(named:"XXX"), for: .normal)</span></div></pre></td></tr></table></figure>
<h2 id="UIButton设置字体大小"><a href="#UIButton设置字体大小" class="headerlink" title="UIButton设置字体大小"></a>UIButton设置字体大小</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">button.titleLabel?.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">12</span>)</div></pre></td></tr></table></figure>
<h2 id="禁用UIButton"><a href="#禁用UIButton" class="headerlink" title="禁用UIButton"></a>禁用UIButton</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> button.isEnabled = <span class="literal">false</span></div><div class="line">button.isEnabled = <span class="literal">true</span></div></pre></td></tr></table></figure>
<h2 id="设置圆角"><a href="#设置圆角" class="headerlink" title="设置圆角"></a>设置圆角</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> button.layer.cornerRadius = <span class="number">5</span></div><div class="line">button.layer.masksToBounds = <span class="literal">true</span></div></pre></td></tr></table></figure>
<h2 id="设置边框宽度-颜色"><a href="#设置边框宽度-颜色" class="headerlink" title="设置边框宽度/颜色"></a>设置边框宽度/颜色</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> button.layer.borderWidth = <span class="number">2</span></div><div class="line">button.layer.borderColor = <span class="type">UIColor</span>.red.cgColor</div></pre></td></tr></table></figure>
<h2 id="设置背景图片为圆角"><a href="#设置背景图片为圆角" class="headerlink" title="设置背景图片为圆角"></a>设置背景图片为圆角</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> buttonImage.setImage(<span class="type">UIImage</span>(named:<span class="string">"1"</span>) , forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</div><div class="line"><span class="comment">//设置背景图片为圆角</span></div><div class="line">buttonImage.imageView?.layer.cornerRadius = <span class="number">50</span></div><div class="line"></div><div class="line">默认情况下按钮会被渲染成单一颜色；系统蓝</div><div class="line">button.setImage(<span class="type">UIImage</span>(named:<span class="string">"icon1"</span>),forState:.<span class="type">Normal</span>)  <span class="comment">//设置图标</span></div><div class="line">button.adjustsImageWhenHighlighted=<span class="literal">false</span> <span class="comment">//使触摸模式下按钮也不会变暗（半透明）</span></div><div class="line">button.adjustsImageWhenDisabled=<span class="literal">false</span> <span class="comment">//使禁用模式下按钮也不会变暗（半透明）</span></div><div class="line"></div><div class="line">也可以设置成保留图标原来的颜色</div><div class="line"><span class="keyword">let</span> iconImage = <span class="type">UIImage</span>(named:<span class="string">"icon2"</span>)?.withRenderingMode(.alwaysOriginal)</div><div class="line">button.setImage(iconImage, <span class="keyword">for</span>:.normal)  <span class="comment">//设置图标</span></div><div class="line">button.adjustsImageWhenHighlighted = <span class="literal">false</span> <span class="comment">//使触摸模式下按钮也不会变暗（半透明）</span></div><div class="line">button.adjustsImageWhenDisabled = <span class="literal">false</span> <span class="comment">//使禁用模式下按钮也不会变暗（半透明）</span></div></pre></td></tr></table></figure>
<h2 id="UIButton上图片和文字调整"><a href="#UIButton上图片和文字调整" class="headerlink" title="UIButton上图片和文字调整"></a>UIButton上图片和文字调整</h2><blockquote>
<p>UIButton上添加图片和文字，有时需要我们调整,方向为逆时针方向，上、左、下、右依次去设置的</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  btn.imageEdgeInsets =<span class="type">UIEdgeInsetsMake</span>(top: <span class="type">CGFloat</span>, <span class="keyword">left</span>: <span class="type">CGFloat</span>, bottom: <span class="type">CGFloat</span>, <span class="keyword">right</span>: <span class="type">CGFloat</span>)</div><div class="line"></div><div class="line">btn.titleEdgeInsets =<span class="type">UIEdgeInsetsMake</span>(top: <span class="type">CGFloat</span>, <span class="keyword">left</span>: <span class="type">CGFloat</span>, bottom: <span class="type">CGFloat</span>, <span class="keyword">right</span>: <span class="type">CGFloat</span>)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//创建一个图片一个文字的按钮  </span></div><div class="line"><span class="keyword">let</span> btn2: <span class="type">UIButton</span> = <span class="type">UIButton</span>(type: .<span class="type">Custom</span>)  </div><div class="line">btn2.frame = <span class="type">CGRectMake</span>(<span class="number">50</span>, <span class="number">100</span>, <span class="number">120</span>, <span class="number">35</span>)  </div><div class="line">btn2.setImage(<span class="type">UIImage</span>(named: <span class="string">"1"</span>), forState: .<span class="type">Normal</span>)  </div><div class="line">btn2.backgroundColor = <span class="type">UIColor</span>.blackColor()  </div><div class="line">btn2.titleLabel?.font = <span class="type">UIFont</span>.systemFontOfSize(<span class="number">20</span>)  </div><div class="line">btn2.imageView?.contentMode = <span class="type">UIViewContentMode</span>.<span class="type">ScaleAspectFit</span>  </div><div class="line">btn2.setTitle(<span class="string">"图片按钮"</span>, forState: .<span class="type">Normal</span>)  </div><div class="line"><span class="comment">//偏移量，分别为上下左右  </span></div><div class="line">btn2.imageEdgeInsets = <span class="type">UIEdgeInsetsMake</span>(<span class="number">0</span>, -<span class="number">50</span>, <span class="number">0</span>, <span class="number">0</span>)  </div><div class="line">btn2.titleEdgeInsets = <span class="type">UIEdgeInsetsMake</span>(<span class="number">0</span>, -<span class="number">80</span>, <span class="number">0</span>, <span class="number">5</span>)  </div><div class="line">btn2.setTitleColor(<span class="type">UIColor</span>.whiteColor(), forState: .<span class="type">Normal</span>)  </div><div class="line">btn2.adjustsImageWhenHighlighted = <span class="literal">false</span>  </div><div class="line"><span class="keyword">self</span>.view.addSubview(btn2)</div></pre></td></tr></table></figure>
<h2 id="添加按钮的点击事件"><a href="#添加按钮的点击事件" class="headerlink" title="添加按钮的点击事件"></a>添加按钮的点击事件</h2><blockquote>
<p>按钮的触摸时间有以下类型</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> touchDown：单点触摸按下事件，点触屏幕</div><div class="line">touchDownRepeat：多点触摸按下事件，点触计数大于<span class="number">1</span>，按下第<span class="number">2</span>、<span class="number">3</span>或第<span class="number">4</span>根手指的时候</div><div class="line">touchDragInside：触摸在控件内拖动时</div><div class="line">touchDragOutside：触摸在控件外拖动时</div><div class="line">touchDragEnter：触摸从控件之外拖动到内部时</div><div class="line">touchDragExit：触摸从控件内部拖动到外部时</div><div class="line">touchUpInside：在控件之内触摸并抬起事件</div><div class="line">touchUpOutside：在控件之外触摸抬起事件</div><div class="line">touchCancel：触摸取消事件，即一次触摸因为放上太多手指而被取消，或者电话打断</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  button1.addTarget(<span class="keyword">self</span>,action:#selector(methodName), <span class="keyword">for</span>: .touchUpInside)</div><div class="line">button1.addTarget(<span class="keyword">self</span>, action:#selector(someMethod(button:)), <span class="keyword">for</span>:.touchUpInside)</div><div class="line"><span class="comment">//上</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">methodName</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"tapped"</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="comment">//下</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">someMethod</span><span class="params">(button:UIButton)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"你是谁啊，其实就是一个按钮"</span>)</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="按钮文字过长时候的显示处理"><a href="#按钮文字过长时候的显示处理" class="headerlink" title="按钮文字过长时候的显示处理"></a>按钮文字过长时候的显示处理</h2><blockquote>
<p>修改 button 按钮中 titleLabel 的 lineBreakMode 属性，便可以调整按钮在文字超长的情况下如何显示，以及是否换行</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame:<span class="type">CGRect</span>(x:<span class="number">20</span>, y:<span class="number">50</span>, width:<span class="number">130</span>, height:<span class="number">50</span>))</div><div class="line">button.setTitle(<span class="string">"这个是一长长长长长长长长长长的文字"</span>, <span class="keyword">for</span>:.normal) <span class="comment">//普通状态下的文字</span></div><div class="line">button.setTitleColor(<span class="type">UIColor</span>.white, <span class="keyword">for</span>: .normal) <span class="comment">//普通状态下文字的颜色</span></div><div class="line">button.titleLabel?.lineBreakMode = .byTruncatingTail</div><div class="line">button.backgroundColor = <span class="type">UIColor</span>.orange</div><div class="line"><span class="keyword">self</span>.view.addSubview(button)</div></pre></td></tr></table></figure>
<blockquote>
<p>NSLineBreakMode样式可供选择，API的介绍也是简单明</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">NSLineBreakMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">case</span> byWordWrapping <span class="comment">// Wrap at word boundaries, default</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byCharWrapping <span class="comment">// Wrap at character boundaries</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byClipping <span class="comment">// Simply clip</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byTruncatingHead <span class="comment">// Truncate at head of line: "...wxyz"</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byTruncatingTail <span class="comment">// Truncate at tail of line: "abcd..."</span></div><div class="line"></div><div class="line">    <span class="keyword">case</span> byTruncatingMiddle <span class="comment">// Truncate middle of line:  "ab...yz"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/06/Swift/UIKit/AppDelegate项目入口/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/Swift/UIKit/AppDelegate项目入口/" itemprop="url">Swift-UIKit-AppDelegate项目入口</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-06T16:51:02+08:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/AppDelegate/" itemprop="url" rel="index">
                    <span itemprop="name">AppDelegate</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="AppDelegate-swift"><a href="#AppDelegate-swift" class="headerlink" title="AppDelegate.swift"></a>AppDelegate.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//import是导入文件的/库的关键字</span></div><div class="line"><span class="comment">//UIKit是iOS中所有的控件的所在库文件</span></div><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"><span class="meta">@UIApplicationMain</span> <span class="comment">//调用了OC中的UIApplicationMain函数;</span></div><div class="line"><span class="comment">//UIApplicationMain是IOS应用程序的入口</span></div><div class="line"><span class="comment">//UIApplacationMain:1.创建了一个UIApplication对象,代表当前应用程序.作用是用来检测当前应用程序状态的改变</span></div><div class="line"><span class="comment">//                  2.创建一个遵守UIApplicationDelegate的协议的子类对象作为UIApplication的代理,作用是处理应用程序状态的改变(创建AppDelegate对象并且设置为UIApplication对象的代理)</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</div><div class="line">    <span class="comment">//属性:</span></div><div class="line">    <span class="keyword">var</span> window: <span class="type">UIWindow</span>?</div><div class="line"></div><div class="line">    <span class="comment">//方法:</span></div><div class="line">    <span class="comment">//一.当应用程序已经启动成功后,会自动调用这个方法</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        <span class="comment">// Override point for customization after application launch.</span></div><div class="line">        <span class="comment">//1.在这个方法中来搭建应用程序中的所有的界面</span></div><div class="line">        <span class="comment">//2.获取应用程序需要展示的数据</span></div><div class="line">        <span class="comment">//3.使用界面展示数据</span></div><div class="line">        <span class="comment">//注意:如果不再做这个方法中去创建window,那么程序会通过Main.stroyboard去创建应用程序的界面</span></div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"程序启动成功"</span>)</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//二.当应用程序将要成为非活跃状态的时候会自动调用这个方法.</span></div><div class="line">    <span class="comment">//活跃状态:程序在屏幕上可见</span></div><div class="line">    <span class="comment">//非活跃状态:程序没有显示在屏幕上(按home键进入后台,来电打断,在当前应用程序中打开其他的应用程序)</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillResignActive</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        <span class="comment">//按下home键:command + shift + h</span></div><div class="line">        <span class="comment">//在这个方法中一般去暂停视频/音频播放;游戏需要暂停;保存数据</span></div><div class="line">        <span class="built_in">print</span>(<span class="string">"将要成为非活跃状态"</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">        </div><div class="line">        </div><div class="line">       </div><div class="line">    &#125;</div><div class="line">    <span class="comment">//三.应用程序已经进入后台的时候会自动调用</span></div><div class="line">    <span class="comment">//进入后台:按home键</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidEnterBackground</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"进入后台"</span>)</div><div class="line">          </div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">//四.应用程序将要进入前台的时候会自动调用</span></div><div class="line">    <span class="comment">//进入前台:</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillEnterForeground</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"将要进入前台"</span>)</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    <span class="comment">//五.应用程序已经变成活跃状态的时候会自动调用</span></div><div class="line">    <span class="comment">//1.程序启动成功后</span></div><div class="line">    <span class="comment">//2.程序从后台重新进入前台</span></div><div class="line">    <span class="comment">//3.来电打断结束...</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationDidBecomeActive</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(<span class="string">"已经变成活跃状态"</span>)</div><div class="line">         </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//六.应用程序将要终止的时候会调用这个方法</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">applicationWillTerminate</span><span class="params">(application: UIApplication)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"应用程序将要终止"</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="ViewController-swift"><a href="#ViewController-swift" class="headerlink" title="ViewController.swift"></a>ViewController.swift</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        <span class="comment">//UIView:是IOS中所有视图(控件)直接/间接的父类;所以UIView的属性和方法,对于其他类型的视图都有效</span></div><div class="line">        </div><div class="line">        <span class="comment">//视图:在屏幕上能看到的所有的东西都属于视图</span></div><div class="line">        </div><div class="line">        <span class="comment">//一.创建UIView的对象</span></div><div class="line">        <span class="keyword">let</span> redView = <span class="type">UIView</span>.<span class="keyword">init</span>()</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="comment">//想要将视图展示在屏幕上的两个必要条件</span></div><div class="line">            <span class="comment">//1.必须设置坐标的大小(默认坐标是(0,0),大小(0,0,))</span></div><div class="line">            <span class="comment">//2.将视图添加到已经展示在屏幕上的视图上</span></div><div class="line">        </div><div class="line">        <span class="comment">//二.设置frame属性(由坐标(x,y)和大小(width,height)两个部分组成)</span></div><div class="line">        </div><div class="line">        redView.frame = <span class="type">CGRect</span>(x: <span class="number">10</span>, y: <span class="number">10</span>, width: <span class="number">100</span>, height: <span class="number">100</span>)</div><div class="line">        <span class="comment">//IOS中所有的结构体都有一个对应的Make方法用来快速的创建一个结构体变量</span></div><div class="line">        redView.frame = <span class="type">CGRectMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        <span class="comment">//三.将视图添加到界面上</span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(redView)</div><div class="line">        </div><div class="line">        <span class="comment">//四.设置背景颜色</span></div><div class="line">        <span class="comment">//视图的背景颜色默认是透明色</span></div><div class="line">        <span class="comment">//颜色的创建方式:</span></div><div class="line">        <span class="comment">//1.通过类型方法创建指定颜色</span></div><div class="line">        <span class="comment">//</span></div><div class="line">        redView.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">        <span class="comment">//通过三原色来创建颜色</span></div><div class="line">        <span class="comment">//CGFloat就是UI中的浮点型</span></div><div class="line">        <span class="comment">//参数1,2,3:红,绿,蓝的值(0~1)-(0/255~255/255)</span></div><div class="line">        <span class="comment">//参数4:透明度</span></div><div class="line">        </div><div class="line">        <span class="comment">//redView.backgroundColor = UIColor(red: 149/255.0, green: 106/255.0, blue: 55/255.0, alpha: 1)</span></div><div class="line">        <span class="comment">//设置不同程度的灰色</span></div><div class="line">        <span class="comment">//redView.backgroundColor = UIColor(white: 0.2, alpha: 1)</span></div><div class="line">        </div><div class="line">        <span class="comment">//练习:创建一个黄色的矩形,显示在红色视图的中心位置,大小(50,50)</span></div><div class="line">        <span class="comment">//方式1:</span></div><div class="line">        <span class="comment">//创建视图对象并且设置frame属性</span></div><div class="line">        <span class="comment">/*</span></div><div class="line"><span class="comment">        let yellowView = UIView.init()</span></div><div class="line"><span class="comment">        yellowView.frame = CGRectMake(35, 35, 50, 50)</span></div><div class="line"><span class="comment">        //添加到界面上</span></div><div class="line"><span class="comment">        self.view.addSubview(yellowView)</span></div><div class="line"><span class="comment">        //设置背景颜色</span></div><div class="line"><span class="comment">        yellowView.backgroundColor = UIColor.yellowColor()</span></div><div class="line"><span class="comment">        */</span></div><div class="line">        </div><div class="line">        <span class="comment">//方式2:</span></div><div class="line">        <span class="keyword">let</span> yellowView = <span class="type">UIView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">50</span>,<span class="number">50</span>))</div><div class="line">        redView.addSubview(yellowView)</div><div class="line">        yellowView.backgroundColor = <span class="type">UIColor</span>.yellowColor()</div><div class="line">        </div><div class="line">        <span class="comment">//GET:计算视图的坐标的时候,注意相对性.当前视图被添加到那个视图上,那么当前视图的坐标就是相对于谁来算的</span></div><div class="line">        </div><div class="line">        </div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="视图对象的基本属性"><a href="#视图对象的基本属性" class="headerlink" title="视图对象的基本属性"></a>视图对象的基本属性</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  mport <span class="type">UIKit</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        </div><div class="line">        <span class="comment">//创建一个视图对象</span></div><div class="line">        </div><div class="line">        <span class="keyword">let</span> redView = <span class="type">UIView</span>.<span class="keyword">init</span>()</div><div class="line">        <span class="comment">//添加到界面上</span></div><div class="line">        <span class="keyword">self</span>.view.addSubview(redView)</div><div class="line">        <span class="comment">//设置背景颜色</span></div><div class="line">        redView.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">        </div><div class="line">        <span class="comment">//1.frame(坐标和大小)</span></div><div class="line">        redView.frame = <span class="type">CGRectMake</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        <span class="comment">//2.center(中心点坐标)</span></div><div class="line">        <span class="comment">//通过frame和确定视图的中心点坐标</span></div><div class="line">        <span class="built_in">print</span>(redView.center)</div><div class="line">        <span class="built_in">print</span>(redView.frame)</div><div class="line">        </div><div class="line">        </div><div class="line">        redView.center = <span class="type">CGPointMake</span>(<span class="number">200</span>, <span class="number">200</span>)</div><div class="line">        </div><div class="line">        <span class="built_in">print</span>(redView.frame)</div><div class="line">        <span class="comment">//3.bounds(坐标和大小)</span></div><div class="line">        <span class="comment">//默认情况下bounds的坐标(0,0),大小和视图的frame大小一样</span></div><div class="line">        <span class="built_in">print</span>(redView.bounds)</div><div class="line">        </div><div class="line">        <span class="comment">//了解:</span></div><div class="line">        <span class="comment">//如果改变bounds的大小,不改变center的坐标,改变frame的坐标和大小</span></div><div class="line">        <span class="comment">/*</span></div><div class="line"><span class="comment">        redView.bounds = CGRectMake(0, 0, 200, 200)</span></div><div class="line"><span class="comment">        </span></div><div class="line"><span class="comment">        print(redView.frame)</span></div><div class="line"><span class="comment">        print("center\(redView.center)")</span></div><div class="line"><span class="comment">        */</span></div><div class="line">        </div><div class="line">        <span class="comment">//如果改变bounds的坐标,不影响当前视图的位置.但是影响添加到当前视图上的子视图的坐标,不建议修改bounds</span></div><div class="line">        </div><div class="line">        redView.bounds = <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="keyword">let</span> yellowView = <span class="type">UIView</span>.<span class="keyword">init</span>(frame:<span class="type">CGRectMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">40</span>, <span class="number">40</span>))</div><div class="line">        yellowView.backgroundColor = <span class="type">UIColor</span>.yellowColor()</div><div class="line">        redView.addSubview(yellowView)</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="comment">//4.transform(形变)</span></div><div class="line">        <span class="comment">// 当前视图发生形变,那么添加到当前视图上的所有的视图会跟着一起形变</span></div><div class="line">        <span class="comment">//1). 缩放</span></div><div class="line">        <span class="comment">//参数1:x方向上的缩放比例</span></div><div class="line">        <span class="comment">//参数2:y方向上的缩放比例</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformMakeScale</span>(<span class="number">0.5</span>, <span class="number">0.5</span>)</div><div class="line">        <span class="comment">//2).旋转</span></div><div class="line">        <span class="comment">//参数:旋转角度(圆周率对应的角度)</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformMakeRotation</span>(<span class="type">CGFloat</span>(<span class="type">M_PI_4</span>))</div><div class="line">        <span class="comment">//3).平移</span></div><div class="line">        <span class="comment">//参数1:在x方向上平移的距离</span></div><div class="line">        <span class="comment">//参数2:在y方向上平移的距离</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformMakeTranslation</span>(<span class="number">0</span>, <span class="number">300</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//4).多个形变同时进行</span></div><div class="line">        <span class="comment">//在另外一个形变的前提下旋转</span></div><div class="line">        <span class="comment">//参数1:另外一个形变</span></div><div class="line">        </div><div class="line">        <span class="comment">//在拥有缩放这个形变的前提下旋转(既可以缩放又可以旋转)</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformRotate</span>(<span class="type">CGAffineTransformMakeScale</span>(<span class="number">0.5</span>, <span class="number">0.5</span>), <span class="type">CGFloat</span>(<span class="type">M_PI_4</span> / <span class="number">2</span>))</div><div class="line">        <span class="comment">//在另外一个形变的前提下平移(既可以缩放和旋转又可以平移)</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformTranslate</span>(redView.transform, <span class="number">0</span>, <span class="number">100</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//既可以平移又可以缩放</span></div><div class="line">        </div><div class="line">        redView.transform = <span class="type">CGAffineTransformScale</span>(<span class="type">CGAffineTransformMakeTranslation</span>(<span class="number">100</span>, <span class="number">0</span>), <span class="number">0.5</span>, <span class="number">2</span>)</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="comment">//组合两个形变</span></div><div class="line">        <span class="comment">//旋转形变</span></div><div class="line">        <span class="keyword">let</span> rotate = <span class="type">CGAffineTransformMakeRotation</span>(<span class="number">0.2</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//平移形变</span></div><div class="line">        </div><div class="line">        <span class="keyword">let</span> transLation = <span class="type">CGAffineTransformMakeTranslation</span>(<span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        </div><div class="line">        <span class="comment">//将旋转形变和平移形变组合</span></div><div class="line">        redView.transform = <span class="type">CGAffineTransformConcat</span>(rotate, transLation)</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/06/Swift/Grammar/基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/Swift/Grammar/基础/" itemprop="url">Swift-Grammar-基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-06T16:10:48+08:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/" itemprop="url" rel="index">
                    <span itemprop="name">Grammar</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h1><h2 id="打印"><a href="#打印" class="headerlink" title="打印"></a>打印</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="string">"Hello,Word!"</span>)</div></pre></td></tr></table></figure>
<h2 id="定义变量和常量"><a href="#定义变量和常量" class="headerlink" title="定义变量和常量"></a>定义变量和常量</h2><blockquote>
<p>let/var<br>在同一行代码中 不用书写分号</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> myCount = <span class="number">11</span> <span class="comment">//定义一个常量为myCount = 11 常量是不可改变的量</span></div><div class="line"><span class="keyword">var</span> myVariable = <span class="number">22</span></div><div class="line">myVariable = <span class="number">33</span> <span class="comment">//定义一个变量为myVariable = 22 然后改变它的值,将33赋给myVariable。现在myVariable的值为33。</span></div></pre></td></tr></table></figure>
<h2 id="字符串插值打印"><a href="#字符串插值打印" class="headerlink" title="字符串插值打印"></a>字符串插值打印</h2><blockquote>
<p>符串插值的是在print的过程中，将你定义的常量或变量插入你要输出的字符串中</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="string">"ChenJian,\(myCount)!"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"YueKekui!\(myVariable)"</span>)</div></pre></td></tr></table></figure>
<h2 id="类型推断"><a href="#类型推断" class="headerlink" title="类型推断"></a>类型推断</h2><blockquote>
<p>在swift中 如果可以的话 尽可能省略类型标记，让swift自己推断类型</p>
</blockquote>
<h2 id="关于Swift中类型int，float，double相关的"><a href="#关于Swift中类型int，float，double相关的" class="headerlink" title="关于Swift中类型int，float，double相关的"></a>关于Swift中类型int，float，double相关的</h2><blockquote>
<p>Double(three) 和C语言的强制转换有很大区别<br>Double(three) swift 中是将three这个数据的值取出来，从新定义一个Double类型的变量，并将Three的值赋这个变量</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> three = <span class="number">3</span></div><div class="line"><span class="keyword">let</span> pointOneFourOneFiveNine = <span class="number">0.14159</span></div><div class="line"><span class="keyword">let</span> pi = <span class="type">Double</span>(three) + pointOneFourOneFiveNine</div></pre></td></tr></table></figure>
<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><blockquote>
<p>元组是用一个变量或常量，保存多项数据</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> http404Error = (<span class="number">404</span>, <span class="string">"Not Found"</span>)</div><div class="line"><span class="comment">// http404Error is of type (Int, String), and equals (404, "Not Found")</span></div></pre></td></tr></table></figure>
<blockquote>
<p>下划线的意思 忽略这一项</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> (justTheStatusCode, <span class="number">_</span>) = http404Error</div><div class="line"><span class="built_in">print</span>(<span class="string">"The status code is \(justTheStatusCode)"</span>)</div><div class="line"><span class="comment">// Prints "The status code is 404</span></div></pre></td></tr></table></figure>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><blockquote>
<p>运算符 可以分为一元运算符，二元运算符，三元运算符</p>
</blockquote>
<h3 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符"></a>一元运算符</h3><blockquote>
<p>数字前面代表数字正负的正负号是唯一的一元运算符</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">-<span class="number">8</span>,-<span class="number">14</span>,+<span class="number">8</span>(正数我们一般省略前面的正号写为：<span class="number">8</span>)</div></pre></td></tr></table></figure>
<h3 id="二元运算符"><a href="#二元运算符" class="headerlink" title="二元运算符"></a>二元运算符</h3><blockquote>
<p>赋值运算符</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> b = <span class="number">10</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">5</span></div><div class="line">a = b</div><div class="line"><span class="comment">// a is now equal to 10</span></div></pre></td></tr></table></figure>
<blockquote>
<p>关系运算符</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="number">1</span> == <span class="number">1</span>  </div><div class="line"><span class="number">2</span> != <span class="number">1</span>   </div><div class="line"><span class="number">2</span> &gt; <span class="number">1</span>    </div><div class="line"><span class="number">1</span> &lt; <span class="number">2</span>    </div><div class="line"><span class="number">1</span> &gt;= <span class="number">1</span>   </div><div class="line"><span class="number">2</span> &lt;= <span class="number">1</span></div></pre></td></tr></table></figure>
<blockquote>
<p>算术运算符：加减乘除取余</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="number">1</span> + <span class="number">2</span>       <span class="comment">// equals 3</span></div><div class="line"><span class="number">5</span> - <span class="number">3</span>       <span class="comment">// equals 2</span></div><div class="line"><span class="number">2</span> * <span class="number">3</span>       <span class="comment">// equals 6</span></div><div class="line"><span class="number">10.0</span> / <span class="number">2.5</span>  <span class="comment">// equals 4.0 </span></div><div class="line"><span class="number">9</span> % <span class="number">2</span>       <span class="comment">// equals 1</span></div></pre></td></tr></table></figure>
<blockquote>
<p>三元运算符</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//让c 取a 和b中较小的值</span></div><div class="line"><span class="keyword">let</span> a =<span class="number">5</span> , b=<span class="number">10</span></div><div class="line"><span class="keyword">let</span> <span class="built_in">c</span> = a &lt; b ? a : b</div><div class="line"></div><div class="line"><span class="comment">//问号前面是一个产生Bool类型的变量，常量或表达式</span></div></pre></td></tr></table></figure>
<h2 id="Parentheses-圆括号的作用"><a href="#Parentheses-圆括号的作用" class="headerlink" title="Parentheses 圆括号的作用"></a>Parentheses 圆括号的作用</h2><blockquote>
<p>可以使用圆括号改变运算顺序 ，如果不清楚运算的执行程序也可以直接使用圆括号来改变运算顺序</p>
</blockquote>
<h2 id="容器类型-数组"><a href="#容器类型-数组" class="headerlink" title="容器类型-数组"></a>容器类型-数组</h2><blockquote>
<p>数组是一个有序的集合<br>数组的第一个元素的下标是从0开始的 而不是1</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> threeDoubles = [<span class="type">Double</span>](<span class="built_in">count</span>: <span class="number">3</span>, repeatedValue: <span class="number">0.0</span>)</div><div class="line"><span class="keyword">var</span> array1 = [<span class="type">Int</span>]()</div><div class="line"><span class="keyword">var</span> array2: [<span class="type">Int</span>] = []</div><div class="line"><span class="keyword">var</span> array3 = [<span class="number">99</span>,<span class="number">12</span>,<span class="number">34</span>,<span class="number">156</span>,<span class="number">7</span>]</div><div class="line"><span class="keyword">var</span> array4 = [<span class="type">Int</span>](<span class="built_in">count</span>: <span class="number">100</span>, repeatedValue: <span class="number">1</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">var</span> arrayString1 = [<span class="type">String</span>]()</div><div class="line"><span class="keyword">var</span> arrayString2: [<span class="type">String</span>] = []</div><div class="line"><span class="keyword">var</span> arrayString3 = [<span class="string">"abc"</span>,<span class="string">"def"</span>,<span class="string">"ghi"</span>,<span class="string">"apple"</span>,<span class="string">"orange"</span>]</div><div class="line"><span class="keyword">var</span> arrayString4 = [<span class="type">String</span>](<span class="built_in">count</span>: <span class="number">100</span>, repeatedValue: <span class="string">""</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>两个数组可以相加</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">var</span> anotherThreeDoubles = [<span class="type">Double</span>](<span class="built_in">count</span>: <span class="number">3</span>, repeatedValue: <span class="number">2.5</span>)</div><div class="line"><span class="comment">// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]</span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> sixDoubles = threeDoubles + anotherThreeDoubles</div><div class="line"><span class="comment">// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.</span></div></pre></td></tr></table></figure>
<blockquote>
<p>向数组中添加元素的方法</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  shoppingList.append(<span class="string">"Flour"</span>)</div><div class="line"><span class="comment">//可以使用append这个函数</span></div><div class="line">shoppingList += [<span class="string">"Baking Powder"</span>]</div><div class="line"><span class="comment">// shoppingList now contains 4 items</span></div><div class="line">shoppingList += [<span class="string">"Chocolate Spread"</span>, <span class="string">"Cheese"</span>, <span class="string">"Butter"</span>]</div><div class="line"><span class="comment">//也可以用+=向数组中添加一个或多个元素</span></div></pre></td></tr></table></figure>
<blockquote>
<p>对数组进行遍历（迭代）</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> shoppingList = [<span class="string">"Six egg"</span>,<span class="string">"Milk"</span>,<span class="string">"Flour"</span>,<span class="string">"Baking Powder"</span>,<span class="string">"Bananas"</span>]</div><div class="line"><span class="keyword">for</span> item <span class="keyword">in</span> shoppingList &#123;</div><div class="line">    <span class="built_in">print</span>(item)</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">for</span> (index, value) <span class="keyword">in</span> shoppingList.<span class="built_in">enumerate</span>() &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Item \(index + 1): \(value)"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// Item 1: Six eggs</span></div><div class="line"><span class="comment">// Item 2: Milk</span></div><div class="line"><span class="comment">// Item 3: Flour</span></div><div class="line"><span class="comment">// Item 4: Baking Powder</span></div><div class="line"><span class="comment">// Item 5: Bananas”</span></div><div class="line"></div><div class="line"></div><div class="line">作者：芒果微笑</div><div class="line">链接：http:<span class="comment">//www.jianshu.com/p/8e8ff60121c4</span></div><div class="line">來源：简书</div><div class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</div></pre></td></tr></table></figure>
<h1 id="控制流程"><a href="#控制流程" class="headerlink" title="控制流程"></a>控制流程</h1><p>##顺序结构 ,程序按正常顺序执行。</p>
<p>##分支结构</p>
<p>##循环结构</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//循环</span></div><div class="line"> <span class="comment">//第一种循环</span></div><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="keyword">var</span> i = <span class="number">1</span></div><div class="line"><span class="keyword">while</span> i &lt;= <span class="number">10</span>  &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(i)"</span>)</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Hello, World!"</span>)</div><div class="line">    i += <span class="number">1</span><span class="comment">//i++</span></div><div class="line">&#125;</div><div class="line"> <span class="comment">//第二种循环  这种循环和上一种循环主要的区别是  --repeat循环至少执行一次</span></div><div class="line"><span class="keyword">var</span> i = <span class="number">1</span></div><div class="line"><span class="keyword">repeat</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(i).Hello,Word"</span>)</div><div class="line">    i += <span class="number">1</span></div><div class="line">&#125;<span class="keyword">while</span> i &lt;= <span class="number">100</span></div><div class="line"></div><div class="line"> <span class="comment">//第三种循环</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">10</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(i).Hello,World!"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// 不想用循环变量 i可以使用 _ 来省略i</span></div></pre></td></tr></table></figure>
<h3 id="猜数字"><a href="#猜数字" class="headerlink" title="猜数字"></a>猜数字</h3><blockquote>
<p>题目要求：书写一段Swift代码实现，随机出现一个1-100的数字，让用户猜这个数字是几，每次提示用户猜的数字是比实际数字大还是小，直到用户猜中为止</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> answer = <span class="type">Int</span>(arc4random_uniform(<span class="number">100</span>)) + <span class="number">1</span></div><div class="line"><span class="keyword">var</span> thyAnswer:<span class="type">Int</span></div><div class="line"><span class="keyword">var</span> counter = <span class="number">0</span></div><div class="line"><span class="keyword">repeat</span>&#123;</div><div class="line">    counter += <span class="number">1</span></div><div class="line">    <span class="built_in">print</span>(<span class="string">"请输入你猜的数字："</span>,terminator:<span class="string">""</span>)</div><div class="line">    thyAnswer = inputInt()</div><div class="line"></div><div class="line">    <span class="keyword">if</span> thyAnswer &gt; answer&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"猜小一点"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> thyAnswer &lt; answer&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"猜大一点"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"恭喜你猜对了！您一共猜了\(counter)次"</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;<span class="keyword">while</span> thyAnswer != answer</div><div class="line"><span class="keyword">if</span> counter &gt; <span class="number">7</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"你的智商该充值了！！！"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="得出1-100的素数"><a href="#得出1-100的素数" class="headerlink" title="得出1-100的素数"></a>得出1-100的素数</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//得出1-100的素数</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">isPrime</span><span class="params">(n: Int)</span></span> -&gt; <span class="type">Bool</span>&#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">2</span></div><div class="line">    <span class="keyword">while</span> i &lt;= <span class="type">Int</span>(sqrt(<span class="type">Double</span>(n)))&#123;</div><div class="line">        <span class="keyword">if</span> n % i == <span class="number">0</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">        i += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">//如果上面的循环没有返回false 就说明在2到n开根号之间没有n的因子 因此返回true 表示n是素数</span></div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> n <span class="keyword">in</span> <span class="number">1</span>...<span class="number">100</span>&#123;</div><div class="line">    <span class="keyword">if</span> isPrime(n)&#123;</div><div class="line">        <span class="built_in">print</span>(n)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="百钱白鸡"><a href="#百钱白鸡" class="headerlink" title="百钱白鸡"></a>百钱白鸡</h3><blockquote>
<p>题目要求：现在有100块钱，公鸡5块一只，母鸡3块一只，小鸡1块三只，现在要用这100块买100只鸡，问公鸡，母鸡，小鸡各有多少只？</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">for</span> x <span class="keyword">in</span> <span class="number">0</span>...<span class="number">20</span>&#123;</div><div class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="number">0</span>...<span class="number">33</span>&#123;</div><div class="line">        <span class="keyword">let</span>  z = <span class="number">100</span> - x - y</div><div class="line">        <span class="keyword">if</span>  <span class="number">5</span> * x + <span class="number">3</span> * y + z / <span class="number">3</span> == <span class="number">100</span> &amp;&amp; z % <span class="number">3</span> == <span class="number">0</span> &#123;</div><div class="line">                <span class="built_in">print</span>(<span class="string">"公鸡：\(x),母鸡:\(y),小鸡\(z)"</span>)</div><div class="line">            &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// GET:穷举法（穷尽所有的可能性直到正确答案</span></div></pre></td></tr></table></figure>
<h3 id="摇色子游戏"><a href="#摇色子游戏" class="headerlink" title="摇色子游戏"></a>摇色子游戏</h3><blockquote>
<p>题目要求：现有两人，一个玩家，一个庄家。玩家摇两个色子，如果第一次摇到7，11点玩家胜，摇到2，3，12庄家胜，摇到其他点数记住这个点数并继续摇下一次；以后每次玩家摇色子的点数和第一次记住的点数相同玩家胜，摇到7点庄家胜。用swift代码实现以上要求</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">roll</span><span class="params">()</span></span> -&gt; <span class="type">Int</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">Int</span>(arc4random_uniform(<span class="number">6</span>)) + <span class="number">1</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> money = <span class="number">1000</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">repeat</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"玩家总资产:￥\(money)元"</span>)   </div><div class="line">    <span class="keyword">var</span> debt:<span class="type">Int</span></div><div class="line">    <span class="keyword">repeat</span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"请下注:"</span>,terminator:<span class="string">""</span>)</div><div class="line">    debt = inputInt()</div><div class="line">    &#125;<span class="keyword">while</span> debt &lt;= <span class="number">0</span> || debt &gt; money</div><div class="line"></div><div class="line">    <span class="keyword">var</span> needsGoOn = <span class="literal">false</span></div><div class="line">    <span class="keyword">let</span> fristPoint = roll() + roll()</div><div class="line">    <span class="built_in">print</span>(<span class="string">"玩家摇出了\(fristPoint)"</span>)</div><div class="line">    <span class="keyword">switch</span> fristPoint&#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">7</span>,<span class="number">11</span>:</div><div class="line">        money += debt</div><div class="line">        <span class="built_in">print</span>(<span class="string">"玩家胜!!!"</span>)</div><div class="line">    <span class="keyword">case</span> <span class="number">2</span>,<span class="number">3</span>,<span class="number">12</span>:</div><div class="line">        money -= debt</div><div class="line">        <span class="built_in">print</span>(<span class="string">"庄家胜!!!"</span>)</div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        needsGoOn = <span class="literal">true</span> <span class="comment">//游戏继续</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">while</span> needsGoOn&#123;</div><div class="line">        <span class="keyword">let</span> currentPoint = roll() + roll()</div><div class="line">        <span class="built_in">print</span>(<span class="string">"玩家摇出了\(currentPoint)"</span>)</div><div class="line">        <span class="keyword">if</span> currentPoint == <span class="number">7</span> &#123;</div><div class="line">            money -= debt</div><div class="line">            <span class="built_in">print</span>(<span class="string">"庄家胜!!!"</span>)</div><div class="line">            needsGoOn = <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> currentPoint == fristPoint&#123;</div><div class="line">            money += debt</div><div class="line">            <span class="built_in">print</span>(<span class="string">"玩家胜!!!"</span>)</div><div class="line">            needsGoOn = <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;<span class="keyword">while</span> money &gt; <span class="number">0</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"你破产了！！！！"</span>)</div></pre></td></tr></table></figure>
<h2 id="排序选择"><a href="#排序选择" class="headerlink" title="排序选择"></a>排序选择</h2><blockquote>
<p>题目要求：一个数组中无序的数字，使用简单选择排序法排序。ps：简单选择排序:每次从剩下元素中找最小的元素放到对应的位置</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> array = [<span class="number">27</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">58</span>,<span class="number">44</span>,<span class="number">89</span>,<span class="number">12</span>,<span class="number">5</span>]</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;array.<span class="built_in">count</span> - <span class="number">1</span>&#123;</div><div class="line">    <span class="keyword">var</span> mindex = i</div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i+<span class="number">1</span>..&lt;array.<span class="built_in">count</span>&#123;</div><div class="line">        <span class="keyword">if</span> array[j] &lt; array[mindex]&#123;</div><div class="line">            mindex = j</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">(array[i],array[mindex]) = (array[mindex],array[i])</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(array)</div></pre></td></tr></table></figure>
<h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><blockquote>
<p>题目要求：一个数组中无序的数字，使用冒泡排序法排序。ps:冒泡排序：两个数字排序将大的数字排在后面</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">var</span> array = [<span class="number">27</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">58</span>,<span class="number">44</span>,<span class="number">89</span>,<span class="number">12</span>,<span class="number">5</span>]</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;array.<span class="built_in">count</span> - <span class="number">1</span>&#123;</div><div class="line">    <span class="keyword">var</span> swapped = <span class="literal">false</span></div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">0</span>..&lt;array.<span class="built_in">count</span> - <span class="number">1</span> - i&#123;</div><div class="line">        <span class="keyword">if</span> array[j] &gt; array[j+<span class="number">1</span>]&#123;</div><div class="line">            (array[j],array[j+<span class="number">1</span>]) = (array[j+<span class="number">1</span>],array[j])</div><div class="line">            swapped = <span class="literal">true</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> swapped == <span class="literal">false</span> <span class="comment">// if !swapped</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">break</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(array)</div></pre></td></tr></table></figure>
<h1 id="字典和集合"><a href="#字典和集合" class="headerlink" title="字典和集合"></a>字典和集合</h1><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line">  <span class="comment">//字典(存放键值对组合的容器)</span></div><div class="line"><span class="comment">//字典中的每个元素都是由两部分构成,冒号前面的是键，冒号后面的是值</span></div><div class="line"><span class="keyword">var</span> dict:[<span class="type">String</span>:<span class="type">String</span>] = [<span class="string">"abacus"</span>:<span class="string">"算盘"</span>,<span class="string">"abnormal"</span>:<span class="string">"异常的"</span>,<span class="string">"hello"</span>:<span class="string">"你好"</span>,<span class="string">"good"</span>:<span class="string">"好的"</span>]</div><div class="line"><span class="comment">//print 前面的键 就会输出后面的值</span></div><div class="line"><span class="comment">//但是print 后面的值 不会输出前面的键</span></div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"hello"</span>]!)</div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"abcxyz"</span>])</div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"你好"</span>])</div><div class="line"><span class="comment">// 添加元素</span></div><div class="line">dict[<span class="string">"shit"</span>] = <span class="string">"狗屎"</span></div><div class="line">dict[<span class="string">"delicious"</span>] = <span class="string">"好吃的"</span></div><div class="line"><span class="built_in">print</span>(dict)</div><div class="line"></div><div class="line"><span class="comment">// 删除元素</span></div><div class="line"> dict.removeValueForKey(<span class="string">"hello"</span>) <span class="comment">//第一种</span></div><div class="line">dict[<span class="string">"hello"</span>] = <span class="literal">nil</span> <span class="comment">//第二种</span></div><div class="line"><span class="built_in">print</span>(dict)</div><div class="line"><span class="built_in">print</span>(dict[<span class="string">"hello"</span>])</div><div class="line"></div><div class="line"><span class="comment">// 修改元素</span></div><div class="line">dict[<span class="string">"shit"</span>] = <span class="string">"牛粪"</span></div><div class="line"><span class="built_in">print</span>(dict)</div><div class="line"></div><div class="line"><span class="comment">// 遍历字典中所有的值</span></div><div class="line"><span class="keyword">for</span> value <span class="keyword">in</span> dict.values &#123;</div><div class="line">    <span class="built_in">print</span>(value)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 遍历字典中所有的键</span></div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dict.keys &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(key) ---&gt; \(dict[key])"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 直接通过一个元组获得字典中的键和值(原始类型)</span></div><div class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> dict &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(key) ---&gt; \(value)"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><blockquote>
<p>集合中两个值相同的元素，会合并到一起</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> a: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>]</div><div class="line">a.insert(<span class="number">100</span>)           <span class="comment">// 添加元素</span></div><div class="line">a.remove(<span class="number">2</span>)             <span class="comment">// 删除元素</span></div><div class="line"><span class="built_in">print</span>(a)</div><div class="line"><span class="keyword">var</span> b: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>]</div><div class="line"><span class="built_in">print</span>(b)</div><div class="line"></div><div class="line"><span class="built_in">print</span>(a.intersect(b))   <span class="comment">// 交集(a和b都有的元素)</span></div><div class="line"><span class="built_in">print</span>(a.union(b))       <span class="comment">// 并集(a和b的所有元素)</span></div><div class="line"><span class="built_in">print</span>(a.subtract(b))    <span class="comment">// 差集(a有b没有的元素)</span></div><div class="line"></div><div class="line"><span class="built_in">print</span>(a == b)</div><div class="line"><span class="built_in">print</span>(b.isSubsetOf(a))</div><div class="line"></div><div class="line"><span class="keyword">let</span> <span class="built_in">c</span>: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">3</span>]</div><div class="line"><span class="built_in">print</span>(<span class="built_in">c</span>.isSubsetOf(a))      <span class="comment">// 判断c是不是a的子集</span></div><div class="line"><span class="built_in">print</span>(a.isSupersetOf(<span class="built_in">c</span>))    <span class="comment">// 判断a是不是c的超集</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> d: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">2</span>, <span class="number">1000</span>, <span class="number">10000</span>]</div><div class="line"><span class="built_in">print</span>(a.isDisjointWith(d))  <span class="comment">// 判断两个集合是否相交</span></div></pre></td></tr></table></figure>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><blockquote>
<p>函数我认为是swift语言中最重要的章节之一。<br>定义函数的关键词为func</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// 函数的参数名</span></div><div class="line"><span class="comment">// 函数名(外部参数名 内部参数名: 类型, 外部参数名 内部参数名: 类型)</span></div><div class="line"><span class="comment">// 如果不写外部参数名那么内部参数名也是外部参数名</span></div><div class="line"><span class="comment">// 可以使用_来作为外部参数名表示省略外部参数名</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">myMin</span><span class="params">(a x: Int, b y: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> x &lt; y ? x : y</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 调用函数的时候要写函数的外部参数名</span></div><div class="line"><span class="built_in">print</span>(myMin(a: <span class="number">3</span>, b: <span class="number">5</span>))</div><div class="line"></div><div class="line"><span class="comment">// 定义函数</span></div><div class="line"><span class="comment">// func 函数名(参数列表) -&gt; 返回类型 &#123; 函数的执行体 &#125;</span></div><div class="line"><span class="comment">// Swift中函数的参数可以设定默认值</span></div><div class="line"><span class="comment">// 如果调用函数的时候没有给该参数赋值就直接使用默认值</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(personName: String, alreadyGreeted: Bool = <span class="literal">false</span>)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="comment">// let greeting = "Hello, " + personName + "!"</span></div><div class="line">    <span class="comment">// 如果函数的返回类型不是Void 那么函数中一定有return语句</span></div><div class="line">    <span class="comment">// return greeting</span></div><div class="line">    <span class="comment">// personName = "王小锤"   // 编译错误</span></div><div class="line">    <span class="keyword">if</span> alreadyGreeted &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"怎么又是你, "</span> + personName + <span class="string">"!"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"你好, "</span> + personName + <span class="string">"!"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 调用函数</span></div><div class="line"><span class="comment">// 函数名(参数值)</span></div><div class="line"><span class="comment">// 调用Swift的函数时, 在默认情况下从第二个参数开始需要写参数名</span></div><div class="line"><span class="built_in">print</span>(sayHello(<span class="string">"王大锤"</span>, alreadyGreeted: <span class="literal">true</span>))</div><div class="line"><span class="comment">// 如果没有给第二个参数赋值那么就直接使用默认值false</span></div><div class="line"><span class="keyword">let</span> str = sayHello(<span class="string">"Jack"</span>)</div><div class="line"><span class="built_in">print</span>(str)</div><div class="line"></div><div class="line"><span class="comment">// Swift中函数的参数列表可以是可变参数列表(参数的个数是任意多个)</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(nums: Int...)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> total = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums &#123;</div><div class="line">        total += num</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> total</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>(sum())</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">999</span>))</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">90</span>, <span class="number">82</span>, <span class="number">37</span>, <span class="number">68</span>, <span class="number">55</span>, <span class="number">11</span>, <span class="number">99</span>))</div><div class="line"></div><div class="line"><span class="comment">// 可以使用元组(tuple)让函数一次返回多条数据</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">minMax</span><span class="params">(array: [Int])</span></span> -&gt; (<span class="built_in">min</span>: <span class="type">Int</span>, <span class="built_in">max</span>: <span class="type">Int</span>)? &#123;</div><div class="line">    <span class="keyword">if</span> array.<span class="built_in">count</span> == <span class="number">0</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> currentMin = array[<span class="number">0</span>]</div><div class="line">    <span class="keyword">var</span> currentMax = array[<span class="number">0</span>]</div><div class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> array[<span class="number">1</span>..&lt;array.<span class="built_in">count</span>] &#123;</div><div class="line">        <span class="keyword">if</span> value &lt; currentMin &#123;</div><div class="line">            currentMin = value</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> value &gt; currentMax &#123;</div><div class="line">            currentMax = value</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> (currentMin, currentMax)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> b = minMax([<span class="number">23</span>, <span class="number">45</span>, <span class="number">99</span>, <span class="number">68</span>, <span class="number">72</span>, <span class="number">12</span>, <span class="number">55</span>]) &#123;</div><div class="line">    <span class="built_in">print</span>(b.<span class="built_in">min</span>)        <span class="comment">// print(b.0)</span></div><div class="line">    <span class="built_in">print</span>(b.<span class="built_in">max</span>)        <span class="comment">// print(b.1)</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"数组中没有元素!!!"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(<span class="keyword">inout</span> a: Int, <span class="keyword">inout</span> <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Void</span> &#123;</div><div class="line">    (a, b) = (b, a)</div><div class="line"><span class="comment">//    let temp = a</span></div><div class="line"><span class="comment">//    a = b</span></div><div class="line"><span class="comment">//    b = temp</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="number">300</span>, b = <span class="number">500</span></div><div class="line"><span class="built_in">swap</span>(&amp;a, &amp;b)</div><div class="line"><span class="built_in">print</span>(<span class="string">"a = \(a)"</span>)</div><div class="line"><span class="built_in">print</span>(<span class="string">"b = \(b)"</span>)</div><div class="line"></div><div class="line"><span class="comment">// inout - 输入输出参数(不仅将数据传入函数还要从函数中取出数据)</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">createX</span><span class="params">(<span class="keyword">inout</span> x: Int)</span></span> &#123;</div><div class="line">    x = <span class="number">1000</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> x = <span class="number">1</span></div><div class="line"><span class="comment">// inout类型的参数前要加上&amp;符号</span></div><div class="line">createX(&amp;x)</div><div class="line"><span class="built_in">print</span>(x)</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// 设计一个函数根据系统时间返回不同的问候语</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(name: String)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">let</span> date = <span class="type">NSDate</span>()</div><div class="line">    <span class="keyword">let</span> cal = <span class="type">NSCalendar</span>.currentCalendar()</div><div class="line">    <span class="keyword">let</span> hour = cal.component(.<span class="type">Hour</span>, fromDate: date)</div><div class="line"><span class="comment">//这三句代码的意思为：第一句 获取当前系统时间 </span></div><div class="line"><span class="comment">//第二句是 当前历法</span></div><div class="line"><span class="comment">//第三句是 当前小时</span></div><div class="line">    <span class="keyword">var</span> greeting: <span class="type">String</span></div><div class="line">    <span class="keyword">switch</span> hour &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">0</span>...<span class="number">6</span>:         <span class="comment">// 不同的分支可以有重叠的部分</span></div><div class="line">        greeting = <span class="string">"滚去碎觉了"</span></div><div class="line">        <span class="comment">// fallthrough  // 继续执行下一个case</span></div><div class="line">    <span class="keyword">case</span> <span class="number">4</span>...<span class="number">10</span>:        <span class="comment">// 匹配了一个分支之后不再匹配其他的分支</span></div><div class="line">        greeting = <span class="string">"早起的鸟儿有虫吃"</span></div><div class="line">    <span class="keyword">case</span> <span class="number">11</span>...<span class="number">13</span>:</div><div class="line">        greeting = <span class="string">"中午好"</span></div><div class="line">    <span class="keyword">case</span> <span class="number">14</span>...<span class="number">18</span>:</div><div class="line">        greeting = <span class="string">"下午好"</span></div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        greeting = <span class="string">"晚上好"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> name + <span class="string">", "</span> + greeting + <span class="string">"!"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>(sayHello(<span class="string">"小刚"</span>))</div><div class="line"></div><div class="line"><span class="comment">// 设计一个函数传入两个正整数m和n, 计算从m加到n的和</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(m: Int, <span class="number">_</span> n: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">let</span> (a, b) = m &gt; n ? (n, m) : (m, n)</div><div class="line">    <span class="keyword">var</span> value = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> a...b &#123;</div><div class="line">        value += i</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> value</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>(sum(<span class="number">1</span>, <span class="number">100</span>))</div><div class="line"><span class="built_in">print</span>(sum(<span class="number">5</span>, -<span class="number">4</span>))</div><div class="line"><span class="built_in">print</span>(sum(-<span class="number">1</span>, -<span class="number">5</span>))</div></pre></td></tr></table></figure>
<h2 id="调用苹果自身的Api，进行程序应用开发"><a href="#调用苹果自身的Api，进行程序应用开发" class="headerlink" title="调用苹果自身的Api，进行程序应用开发"></a>调用苹果自身的Api，进行程序应用开发</h2><h2 id="调用苹果的指纹识别，开发一个带有指纹识别的支付功能的app"><a href="#调用苹果的指纹识别，开发一个带有指纹识别的支付功能的app" class="headerlink" title="调用苹果的指纹识别，开发一个带有指纹识别的支付功能的app"></a>调用苹果的指纹识别，开发一个带有指纹识别的支付功能的app</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        </div><div class="line">        <span class="keyword">let</span> errPointer = <span class="type">NSErrorPointer</span>()</div><div class="line">        <span class="keyword">let</span> ctx = <span class="type">LAContext</span>()</div><div class="line">        <span class="comment">// 判断设备是否支持指纹识别</span></div><div class="line">        <span class="keyword">if</span> ctx.canEvaluatePolicy(.<span class="type">DeviceOwnerAuthenticationWithBiometrics</span>, error: errPointer) &#123;</div><div class="line">            <span class="comment">// z = f(x, g(y))</span></div><div class="line">            <span class="comment">// Swift中允许将一个函数作为另一个函数的参数</span></div><div class="line">            <span class="comment">// evalutePolicy方法的第三个参数是一个函数</span></div><div class="line">            <span class="comment">// 该函数有两个参数没有返回值</span></div><div class="line">            <span class="comment">// 给该参数传参时可以在花括号中写一个匿名函数传进去</span></div><div class="line">            <span class="comment">// 该匿名函数通常也称之为闭包(closure)</span></div><div class="line">            ctx.evaluatePolicy(.<span class="type">DeviceOwnerAuthenticationWithBiometrics</span>, localizedReason: <span class="string">"请输入指纹进行支付"</span>, reply: &#123; (isOK, err) -&gt; <span class="type">Void</span> <span class="keyword">in</span></div><div class="line">                <span class="keyword">if</span> isOK &#123;</div><div class="line">                    <span class="built_in">print</span>(<span class="string">"支付成功!!!"</span>)</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="built_in">print</span>(<span class="string">"指纹验证失败, 请输入支付密码"</span>)</div><div class="line">                &#125;</div><div class="line">            &#125;)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"你的设备不支持指纹识别"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><blockquote>
<p>闭包也称：匿名函数 意思是没有名字的函数<br>闭包由来：<br>在swift中函数也是一种类型<br>这也就意味着函数可以作为变量或常量的类型<br>同理函数也可以作为另一个函数和参数或返回值</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(a: Int, <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> a + b</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mul</span><span class="params">(a: Int, <span class="number">_</span> b: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> a * b</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">(array: [Int], fn: <span class="params">(Int, Int)</span></span></span> -&gt; <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">var</span> sum = array[<span class="number">0</span>]</div><div class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> array[<span class="number">1</span>..&lt;array.<span class="built_in">count</span>] &#123;</div><div class="line">        sum = fn(sum, x)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sum</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>由于在swift中能省则省的原则和传统就将调用函数做了以下几步写法省略</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"><span class="comment">// 当调用foo函数时第二个参数可以传什么?</span></div><div class="line"><span class="comment">// 1. 所有自定义的(Int, Int) -&gt; Int类型的函数</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: sum))</div><div class="line"><span class="comment">// 2. 传入已有的二元运算符: +-*/%(因为运算符也是函数)</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: +))</div><div class="line"><span class="comment">// 3. 传入匿名函数(闭包)</span></div><div class="line"><span class="comment">// 3.1 完整的闭包写法</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: &#123; (a, b) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> a + b</div><div class="line">&#125;))</div><div class="line"><span class="comment">// 3.2 省略掉类型和不必要的括号</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: &#123; a, b <span class="keyword">in</span> a + b &#125;))</div><div class="line"><span class="comment">// 3.3 省略参数名</span></div><div class="line"><span class="built_in">print</span>(foo(a, fn: &#123; $<span class="number">0</span> + $<span class="number">1</span> &#125;))</div><div class="line"><span class="comment">// 3.4 尾随闭包</span></div><div class="line"><span class="built_in">print</span>(foo(a) &#123; (a, b) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> a + b</div><div class="line">&#125;)</div><div class="line"><span class="built_in">print</span>(foo(a) &#123; $<span class="number">0</span> + $<span class="number">1</span> &#125;)</div></pre></td></tr></table></figure>
<blockquote>
<p>需要注意的是：<br>如果函数的最后一个参数是闭包可以写成尾随闭包的形式<br>也就是将闭包放到函数参数的圆括号外面写在一对花括号中<br>如果函数后面有尾随闭包且函数的圆括号中没有参数<br>那么函数的圆括号也可以省略(仅限于有尾随闭包的场景）<br>例如</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">var</span> array = [<span class="string">"game"</span>, <span class="string">"abacus"</span>, <span class="string">"hello"</span>, <span class="string">"cat"</span>, <span class="string">"good"</span>, <span class="string">"internationalization"</span>, <span class="string">"chaos"</span>, <span class="string">"dislike"</span>, <span class="string">"zealot"</span>, <span class="string">"young"</span>]</div><div class="line"></div><div class="line"><span class="comment">// array.sortInPlace(&gt;)</span></div><div class="line">array.sortInPlace(&#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;)</div><div class="line">array.sortInPlace() &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125;</div><div class="line">array.sortInPlace &#123; $<span class="number">0</span> &gt; $<span class="number">1</span> &#125; <span class="comment">//这就是尾随闭包的最简写法</span></div></pre></td></tr></table></figure>
<h2 id="数组最重要的三个功能"><a href="#数组最重要的三个功能" class="headerlink" title="数组最重要的三个功能"></a>数组最重要的三个功能</h2><blockquote>
<p>1.过滤 2.映射 3.缩减</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">let</span> array = [<span class="number">23</span>, <span class="number">37</span>, <span class="number">96</span>, <span class="number">55</span>, <span class="number">40</span>, <span class="number">92</span>, <span class="number">68</span>, <span class="number">88</span>]</div><div class="line"></div><div class="line"><span class="comment">// 1. 过滤</span></div><div class="line"><span class="keyword">let</span> newArray1 = array.<span class="built_in">filter</span> &#123; $<span class="number">0</span> &gt; <span class="number">50</span> &#125; <span class="comment">//找到数组中比50大的数输出出来</span></div><div class="line"><span class="built_in">print</span>(newArray1)</div><div class="line"></div><div class="line"><span class="keyword">let</span> newArray2 = array.<span class="built_in">filter</span> &#123; $<span class="number">0</span> % <span class="number">2</span> == <span class="number">0</span> &#125; <span class="comment">//找到数组中得偶数</span></div><div class="line"><span class="built_in">print</span>(newArray2)</div><div class="line"></div><div class="line"><span class="comment">// 2. 映射</span></div><div class="line"><span class="keyword">let</span> newArray3 = array.<span class="built_in">map</span> &#123; $<span class="number">0</span> * $<span class="number">0</span> &#125; <span class="comment">//将数组中的每个数平方</span></div><div class="line"><span class="built_in">print</span>(newArray3)</div><div class="line"><span class="keyword">let</span> newArray4 = array.<span class="built_in">map</span> &#123; sqrt(<span class="type">Double</span>($<span class="number">0</span>)) &#125; <span class="comment">//将数组中得每个数开根号</span></div><div class="line"><span class="built_in">print</span>(newArray4)</div><div class="line"></div><div class="line"><span class="comment">// 3. 缩减</span></div><div class="line"><span class="keyword">let</span> result1 = array.<span class="built_in">reduce</span>(<span class="number">0</span>, combine: +)<span class="comment">// 将数组中的每个数想加</span></div><div class="line"><span class="built_in">print</span>(result1)</div><div class="line"><span class="keyword">let</span> result2 = array.<span class="built_in">reduce</span>(<span class="number">1</span>, combine: *)<span class="comment">//将数组中的每个数相乘</span></div><div class="line"><span class="built_in">print</span>(result2)</div><div class="line"><span class="keyword">let</span> result3 = array.<span class="built_in">reduce</span>(array[<span class="number">0</span>]) &#123; <span class="comment">//取数组中最大的数</span></div><div class="line">    $<span class="number">1</span> &gt; $<span class="number">0</span> ? $<span class="number">1</span> : $<span class="number">0</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(result3)</div><div class="line"></div><div class="line"><span class="keyword">let</span> strArray = [<span class="string">"I"</span>, <span class="string">"love"</span>, <span class="string">"you"</span>]</div><div class="line"><span class="keyword">let</span> result4 = strArray.<span class="built_in">reduce</span>(<span class="string">""</span>) &#123; $<span class="number">0</span> + <span class="string">" "</span> + $<span class="number">1</span> &#125;<span class="comment">//将数组中的三个元素合为一个</span></div><div class="line"><span class="built_in">print</span>(result4)</div></pre></td></tr></table></figure>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><blockquote>
<p>类和上文提到的函数 紧密相关<br>类是一类事物 而对象是这类事物中具体的实例</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> 步骤<span class="number">1</span>: 定义类(如果你要用的类苹果已经提供了就直接进入第<span class="number">2</span>步)</div><div class="line"> 定义类就可以创建出新的类型</div><div class="line"> 学生类</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">    <span class="comment">// 变量定义到类的外面就叫变量 - variable</span></div><div class="line">    <span class="comment">// 变量定义到类的里面就叫属性 - property</span></div><div class="line">    <span class="comment">// 数据抽象 - 找到和学生相关的属性(找名词)</span></div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> age: <span class="type">Int</span></div><div class="line">    </div><div class="line">    <span class="comment">// 初始化方法(构造方法/构造器) - constructor</span></div><div class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.name = name</div><div class="line">        <span class="keyword">self</span>.age = age</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 函数写到类的外面就叫函数 - function</span></div><div class="line">    <span class="comment">// 函数写到类的里面就叫方法 - method</span></div><div class="line">    <span class="comment">// 行为抽象 - 找到和学生相关的方法(找动词)</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">eat</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(name)正在吃饭."</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">study</span><span class="params">(courseName: String)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(name)正在学习\(courseName)."</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">watchJapaneseAV</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">if</span> age &gt;= <span class="number">18</span> &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"\(name)正在动作片."</span>)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">print</span>(<span class="string">"亲爱的\(name), 我们推荐你观看《熊出没》"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 步骤2: 创建对象(调用初始化方法)</span></div><div class="line"><span class="keyword">let</span> stu1 = <span class="type">Student</span>(name: <span class="string">"小刚"</span>, age: <span class="number">35</span>)</div><div class="line"><span class="comment">// 步骤3: 给对象发消息(通过给对象发消息来解决问题)</span></div><div class="line">stu1.eat()</div><div class="line">stu1.study(<span class="string">"Swift程序设计"</span>)</div><div class="line">stu1.watchJapaneseAV()</div><div class="line"></div><div class="line"><span class="keyword">let</span> stu2 = <span class="type">Student</span>(name: <span class="string">"王大锤"</span>, age: <span class="number">15</span>)</div><div class="line">stu2.eat()</div><div class="line">stu2.study(<span class="string">"中国近代史"</span>)</div><div class="line">stu2.watchJapaneseAV()</div></pre></td></tr></table></figure>
<blockquote>
<p>下面定义一个圆的类<br>类里面有求圆的面积和周长的方法（函数）<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">// 0. 发现类</span></div><div class="line"><span class="comment">//  - 在对问题的描述中找名词和动词</span></div><div class="line"><span class="comment">//  - 名词会成为类或者类中的属性 动词会成为类中的方法</span></div><div class="line"></div><div class="line"><span class="comment">// 1. 定义类</span></div><div class="line"><span class="comment">//  - 数据抽象(属性)</span></div><div class="line"><span class="comment">//  - 行为抽象(方法)</span></div><div class="line"><span class="comment">//  - 初始化方法</span></div><div class="line"></div><div class="line"><span class="comment">// 访问修饰符</span></div><div class="line"><span class="comment">//  - public (公开)</span></div><div class="line"><span class="comment">//  - internal (内部的) - 默认</span></div><div class="line"><span class="comment">//  - private (私有)</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</div><div class="line">    <span class="comment">// stored property</span></div><div class="line">    <span class="comment">// 存储属性(保存和圆相关的数据的属性)</span></div><div class="line">    <span class="keyword">var</span> center: <span class="type">Point</span></div><div class="line">    <span class="keyword">var</span> radius: <span class="type">Double</span></div><div class="line">    </div><div class="line">    <span class="keyword">init</span>(center: <span class="type">Point</span>, radius: <span class="type">Double</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.center = center</div><div class="line">        <span class="keyword">self</span>.radius = radius</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 通常获得某个计算出的值的方法都可以设计成计算属性</span></div><div class="line">    <span class="comment">// computational property</span></div><div class="line">    <span class="comment">// 计算属性(通过对存储属性做运算得到的属性)</span></div><div class="line">    <span class="keyword">var</span> perimeter: <span class="type">Double</span> &#123;</div><div class="line">        <span class="comment">// 圆的周长是一个只读属性</span></div><div class="line">        <span class="comment">// 所以此处只有get&#123;&#125;没有set&#123;&#125;</span></div><div class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> <span class="number">2</span> * <span class="type">M_PI</span> * radius &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> area: <span class="type">Double</span> &#123;</div><div class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> <span class="type">M_PI</span> * radius * radius &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">注意：运算符重载</div><div class="line"></div><div class="line">```swift</div><div class="line"><span class="comment">//运算符重载（为自定义的类型定义运算符）</span></div><div class="line"><span class="function"><span class="keyword">func</span> +<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.add(two)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> -<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.sub(two)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> *<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.mul(two)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> /<span class="params">(one: Fraction, two: Fraction)</span></span> -&gt; <span class="type">Fraction</span> &#123;</div><div class="line">    <span class="keyword">return</span> one.div(two)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// 继承: 从已有的类创建新类的过程</span></div><div class="line"><span class="comment">// 提供继承信息的称为父类(超类/基类)</span></div><div class="line"><span class="comment">// 得到继承信息的称为子类(派生类/衍生类)</span></div><div class="line"><span class="comment">// 通常子类除了得到父类的继承信息还会增加一些自己特有的东西</span></div><div class="line"><span class="comment">// 所以子类的能力一定比父类更强大</span></div><div class="line"><span class="comment">// 继承的意义在于子类可以复用父类的代码并且增强系统现有的功能</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span>: <span class="title">Person</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> title: <span class="type">String</span></div><div class="line">    </div><div class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>, gender: <span class="type">Gender</span>, title: <span class="type">String</span>) &#123;</div><div class="line">        <span class="keyword">self</span>.title = title</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(name: name, age: age, gender: gender)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">teach</span><span class="params">(courseName: String)</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(name)\(title)正在教\(courseName)."</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//父类和子类关系</span></div><div class="line"><span class="keyword">let</span> p1 = <span class="type">Person</span>(name: <span class="string">"王大锤"</span>, age: <span class="number">25</span>, gender: .<span class="type">Male</span>)</div><div class="line">p1.eat()</div><div class="line"></div><div class="line"><span class="comment">// 可以将子类型的对象赋值给父类型的变量(因为子类跟父类之间是IS-A关系)</span></div><div class="line"><span class="comment">// 学生是人, 老师是人, 所以学生和老师的对象可以赋值给人类型的变量</span></div><div class="line"><span class="keyword">let</span> p2: <span class="type">Person</span> = <span class="type">Student</span>(name: <span class="string">"张尼玛"</span>, age: <span class="number">18</span>, gender: .<span class="type">Female</span>, major: <span class="string">"计算机科学与技术"</span>)</div><div class="line">p2.eat()</div><div class="line"><span class="comment">// 如果要将父类型的变量转换成子类型需要用as运算符进行类型转换</span></div><div class="line"><span class="comment">// 如果能够确认父类型的变量中就是某种子类型的对象可以用as!进行转换</span></div><div class="line"><span class="comment">// 如果不确定父类型的变量中是哪种子类型可以用as?尝试转换</span></div><div class="line">(p2 <span class="keyword">as</span>! <span class="type">Student</span>).study(<span class="string">"Swift程序设计"</span>)</div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> temp = p2 <span class="keyword">as</span>? <span class="type">Teacher</span> &#123;</div><div class="line">    temp.teach(<span class="string">"Java"</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"\(p2.name)不是老师!!!"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">let</span> p3: <span class="type">Person</span> = <span class="type">Teacher</span>(name: <span class="string">"骆昊"</span>, age: <span class="number">35</span>, gender: .<span class="type">Male</span>, title: <span class="string">"叫兽"</span>)</div><div class="line"></div><div class="line">p3.eat()</div></pre></td></tr></table></figure>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><blockquote>
<p>同样的对象类型(pet类型)接受了相同的消息(调用了相同的方法)<br>但是做了不同的事情 这就是多态(polymorphism)<br>例如：猫(cat)继承它的父类动物(pet)</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  / <span class="type">Cat</span>和<span class="type">Pet</span>之间是<span class="type">IS</span>-<span class="type">A</span>关系(继承)</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>: <span class="title">Pet</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> hairColor: <span class="type">String</span>?</div><div class="line">    </div><div class="line">    <span class="comment">// 父类有的方法子类可以重新实现 这个过程叫方法重写</span></div><div class="line">    <span class="comment">// 需要在方法前添加override关键字</span></div><div class="line">    <span class="comment">// 重写有时也被称为置换/覆盖/覆写</span></div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">play</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.play()</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(nickname)正在玩毛线球."</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">shout</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(nickname): 喵喵喵……"</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">catchTheMouse</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"\(nickname)正在抓老鼠."</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>对父类的方法可以重新实现， 这个过程叫方法重写<br>这是实现多态的重要步骤之一！<br>下面是实现多态的第二个步骤：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">let</span> petsArray = [</div><div class="line">    <span class="type">Cat</span>(nickname:<span class="string">"加菲"</span>,gender: .<span class="type">Male</span>,age:<span class="number">2</span>),</div><div class="line">    <span class="type">Dog</span>(nickname: <span class="string">"吉娃娃"</span>, gender: .<span class="type">Male</span>, age: <span class="number">3</span>, isLarge: <span class="literal">false</span>),</div><div class="line">    <span class="type">Dog</span>(nickname: <span class="string">"大黄"</span>, gender: .<span class="type">FeMale</span>, age: <span class="number">2</span>, isLarge: <span class="literal">true</span>),</div><div class="line">    <span class="type">Mistress</span>(nickname: <span class="string">"小花"</span>,gender: .<span class="type">FeMale</span>,age:<span class="number">16</span>)</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">for</span> pet <span class="keyword">in</span> petsArray&#123;</div><div class="line">    pet.eat()</div><div class="line">    <span class="comment">// 同样的对象类型(pet类型)接受了相同的消息(调用了相同的方法)</span></div><div class="line">    <span class="comment">// 但是做了不同的事情 这就是多态(polymorphism)</span></div><div class="line">    </div><div class="line">    <span class="comment">// 实现多态的关键步骤：</span></div><div class="line">    <span class="comment">// 1.方法的重写(子类在继承父类的过程中对父类已有的方法进行重写,而且不同的子类给出各自不同的实现版本)</span></div><div class="line">    <span class="comment">// 2.对象造型(将子类对象当成父类型来使用)</span></div><div class="line">    pet.play()</div><div class="line">    pet.shout()</div><div class="line">    <span class="comment">// 如果dog是属于pet中 如果dog是Dog类型就可以调用keepTheDoor这个特有的方法</span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> dog = pet <span class="keyword">as</span>? <span class="type">Dog</span>&#123;</div><div class="line">        dog.keepTheDoor()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="keyword">let</span> cat = pet <span class="keyword">as</span>? <span class="type">Cat</span>&#123;</div><div class="line">        cat.catchTheMouse()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="keyword">let</span> mistress = pet <span class="keyword">as</span>? <span class="type">Mistress</span>&#123;</div><div class="line">        mistress.makeTrouble()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//枚举</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Gender</span></span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Male</span></div><div class="line">    <span class="keyword">case</span> <span class="type">FeMale</span></div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/06/OC/Func/iOS-Func-网速实时显示/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/OC/Func/iOS-Func-网速实时显示/" itemprop="url">iOS-Func-网速实时显示</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-06T15:34:44+08:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/" itemprop="url" rel="index">
                    <span itemprop="name">OC</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/Func/" itemprop="url" rel="index">
                    <span itemprop="name">Func</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>原理：通过函数getifaddrs来得到系统网络接口的信息，网络接口的信息, 包含在if_data字段中, 有很多信息, 但我现在只关心ifi_ibytes, ifi_obytes, 应该就是接收到的字节数和发送的字节数, 加起来就是流量了. 还发现, 接口的名字, 有en, pdp_ip, lo等几种形式, en应该是wifi, pdp_ip大概是3g或者gprs, lo是环回接口, 通过名字区分可以分别统计</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;ifaddrs.h&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;sys/socket.h&gt;</span></span></div><div class="line"><span class="meta">#include <span class="meta-string">&lt;net/if.h&gt;</span></span></div><div class="line"></div><div class="line">+ (<span class="keyword">long</span> <span class="keyword">long</span>) getInterfaceBytes</div><div class="line">&#123;</div><div class="line">    <span class="keyword">struct</span> ifaddrs *ifa_list = <span class="number">0</span>, *ifa;</div><div class="line">    <span class="keyword">if</span> (getifaddrs(&amp;ifa_list) == <span class="number">-1</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    uint32_t iBytes = <span class="number">0</span>;</div><div class="line">    uint32_t oBytes = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (ifa = ifa_list; ifa; ifa = ifa-&gt;ifa_next)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (AF_LINK != ifa-&gt;ifa_addr-&gt;sa_family)</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (!(ifa-&gt;ifa_flags &amp; IFF_UP) &amp;&amp; !(ifa-&gt;ifa_flags &amp; IFF_RUNNING))</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (ifa-&gt;ifa_data == <span class="number">0</span>)</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        </div><div class="line">        <span class="comment">/* Not a loopback device. */</span></div><div class="line">        <span class="keyword">if</span> (strncmp(ifa-&gt;ifa_name, <span class="string">"lo"</span>, <span class="number">2</span>))</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">struct</span> if_data *if_data = (<span class="keyword">struct</span> if_data *)ifa-&gt;ifa_data;</div><div class="line">            </div><div class="line">            iBytes += if_data-&gt;ifi_ibytes;</div><div class="line">            oBytes += if_data-&gt;ifi_obytes;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    freeifaddrs(ifa_list);</div><div class="line">    </div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"\n[getInterfaceBytes-Total]%d,%d"</span>,iBytes,oBytes);</div><div class="line">    <span class="keyword">return</span> iBytes + oBytes;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="http://blog.csdn.net/zzzzzdddddxxxxx/article/details/51557840" target="_blank" rel="external">资料01</a></p>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/06/OC/Func/iOS-Func-内存泄漏问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/06/OC/Func/iOS-Func-内存泄漏问题/" itemprop="url">iOS-Func-内存泄漏问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-06T14:09:22+08:00">
                2017-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/" itemprop="url" rel="index">
                    <span itemprop="name">OC</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/Func/" itemprop="url" rel="index">
                    <span itemprop="name">Func</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="AFHTTP-内存泄漏问题"><a href="#AFHTTP-内存泄漏问题" class="headerlink" title="AFHTTP 内存泄漏问题"></a>AFHTTP 内存泄漏问题</h1><blockquote>
<p>AFHTTP 框架的通病。这个问题很常见，也最好解决，网上也有不少的解决方案<br>主流的解决方案就是使用单例。定义一个单例对象 SessionManager：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">@interface</span> <span class="title">SessionManager</span> : <span class="title">NSObject</span></span></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>)AFHTTPSessionManager *manager;</div><div class="line">+(SessionManager *)share;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">SessionManager</span></span></div><div class="line"></div><div class="line"></div><div class="line">+(SessionManager *)share&#123;</div><div class="line">    <span class="keyword">static</span> SessionManager *shareObj = <span class="literal">nil</span>;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</div><div class="line">    <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;</div><div class="line">        shareObj = [[SessionManager alloc] init];</div><div class="line"></div><div class="line">        AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</div><div class="line">        <span class="comment">/** 设置超时*/</span></div><div class="line">        [manager.requestSerializer willChangeValueForKey:<span class="string">@"timeoutInterval"</span>];</div><div class="line">        manager.requestSerializer.timeoutInterval = <span class="number">10</span>;</div><div class="line">        [manager.requestSerializer didChangeValueForKey:<span class="string">@"timeoutInterval"</span>];</div><div class="line">        shareObj.manager = manager;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> shareObj;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<blockquote>
<p>使用SessionManager</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> AFHTTPSessionManager* manager = [SessionManager share].manager;</div><div class="line">manager.requestSerializer = [AFHTTPRequestSerializer new];</div><div class="line">……</div></pre></td></tr></table></figure>
<h1 id="环信-UI-框架中的内存泄漏问题"><a href="#环信-UI-框架中的内存泄漏问题" class="headerlink" title="环信 UI 框架中的内存泄漏问题"></a>环信 UI 框架中的内存泄漏问题</h1><blockquote>
<p>环信框架中，有一个对 UIViewController 的扩展（Category） :UIViewController+HUD，它对 MBHUD 进行了二次封装，通过它可以使你的 MBHUD 的调用变得更简单，比如显示一个 HUD 你可以这样：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[<span class="keyword">self</span> showHudInView:<span class="keyword">self</span>.view hint:<span class="string">@""</span>];</div></pre></td></tr></table></figure>
<blockquote>
<p>但是这个方法中有一个严重的内存泄漏问题。当你在一个 View Controller 中多次显示 HUD 之后（比如反复下拉刷新表格），用视图调试器查看 UIView，你会发现视图树中显示了多个 HUD 对象。也就是说每次 showHudInView 之后都会重新生成一个新的 HUD，而原来的 HUD 虽然被隐藏了，但它们在内存中仍然是持续存在的。每次 showHudInView 调用大概会导致 400-500 k 的内存泄漏。如果你反复刷新表格（比如 5 分钟或更长）直到内存撑爆，app 崩溃<br>解决的方法很简单，在 showHudInView 方法中加入一句：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">HUD.removeFromSuperViewOnHide = <span class="literal">YES</span>;</div></pre></td></tr></table></figure>
<h1 id="O-C-块中对-self-强引用导致的内存泄漏问题"><a href="#O-C-块中对-self-强引用导致的内存泄漏问题" class="headerlink" title="O-C 块中对 self 强引用导致的内存泄漏问题"></a>O-C 块中对 self 强引用导致的内存泄漏问题</h1><blockquote>
<p>在 View Controller 类的 O-C 块中，如果你直接引用了 self，则会导致 View Controller 被强引用（因为块的参数都是以 copy 引用的，会导致 retained count 加 1）。这样，当 View Controller 被 pop 出导航控制器栈后不会被释放，导致内存泄漏。这个泄漏就比较严重了，少则几百 K,多则几兆</p>
<p>一个比较明显的例子就是 MJRefresh。在 View Controller 中，如果我们想支持下拉刷新，通常会这样使用 MJRefresh：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.tableView.mj_header=[MJRefreshNormalHeader headerWithRefreshingBlock:^&#123;</div><div class="line">       [<span class="keyword">self</span>.tableView.mj_header endRefreshing];</div><div class="line">       currentPage = <span class="number">1</span>;</div><div class="line">       [<span class="keyword">self</span> loadNoticeList:<span class="number">1</span> success:^(<span class="built_in">NSArray</span>&lt;CampusNoticeModel *&gt; *data) &#123;</div><div class="line">           [<span class="keyword">self</span>.models removeAllObjects];</div><div class="line">           [<span class="keyword">self</span>.models addObjectsFromArray:data];</div><div class="line">           [<span class="keyword">self</span>.tableView reloadData];</div><div class="line">       &#125; failure:^(<span class="built_in">NSString</span> *msg) &#123;</div><div class="line">       &#125;];        </div><div class="line">   &#125;];</div></pre></td></tr></table></figure>
<blockquote>
<p>注意，O-C 块中对 View Controller 进行了强引用，比如：self.tableView 和 self.models。<br>原则上，当我们在 O-C 块中引用 self 时，应当使用弱引用，比如上面的代码应当改为：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">__<span class="keyword">weak</span> __<span class="keyword">typeof</span>(<span class="keyword">self</span>) weakSelf=<span class="keyword">self</span>;</div><div class="line">  <span class="keyword">self</span>.tableView.mj_header=[MJRefreshNormalHeader headerWithRefreshingBlock:^&#123;</div><div class="line">      [weakSelf.tableView.mj_header endRefreshing];</div><div class="line">      currentPage = <span class="number">1</span>;</div><div class="line">      [weakSelf loadNoticeList:<span class="number">1</span> success:^(<span class="built_in">NSArray</span>&lt;CampusNoticeModel *&gt; *data) &#123;</div><div class="line">          [weakSelf.models removeAllObjects];</div><div class="line">          [weakSelf.models addObjectsFromArray:data];</div><div class="line">          [weakSelf.tableView reloadData];</div><div class="line">      &#125; failure:^(<span class="built_in">NSString</span> *msg) &#123;</div><div class="line">      &#125;];</div><div class="line">  &#125;];</div></pre></td></tr></table></figure>
<blockquote>
<p>也就是将 OC 块中所有的 self 改成 weakSelf。这里有一个例外，如果引用的是实例变量而不是属性，原则上是不需要 weakSelf 的。比如 currentPage 在 View Controller 中是以实例变量形式定义的（也就是说没有用 @property 进行声明），那么我们不需要通过 weakSelf 来进行引用<br>但是，如果你在项目中使用 MLeaksFinder 来检测内存泄漏时，MLeaksFinder 仍然会认为 O-C 块中对 currentPage 的引用存在问题。因此，为了让 MLeaksFinder 彻底“闭上嘴”，我们最好也将 currentPage 修改为属性（使用 @property 声明），然后将 O-C 块中的引用方式修改为：weakSelf.currentPage</p>
</blockquote>
<h1 id="CADisplayLink-导致的内存泄漏"><a href="#CADisplayLink-导致的内存泄漏" class="headerlink" title="CADisplayLink 导致的内存泄漏"></a>CADisplayLink 导致的内存泄漏</h1><blockquote>
<p>在使用 CADisplayLink 时，如果不释放 CADisplayLink，很容易出现内存泄漏。以自定义 UIView 为例，我们会使用定时器进行某些自定义的绘图和动画操作。这时我们会用到 CADisplayLink </p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">displayLink = [<span class="built_in">CADisplayLink</span> displayLinkWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(animateDashboard:)];</div></pre></td></tr></table></figure>
<blockquote>
<p>当我们需要开启定时器时，可以将它添加到 runloop：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line">[displayLink addToRunLoop:[<span class="built_in">NSRunLoop</span> currentRunLoop] forMode:<span class="built_in">NSRunLoopCommonModes</span>];</div></pre></td></tr></table></figure>
<blockquote>
<p>但是 displayLink 会持有 UIView 对象，导致 UIView 永远不会被释放。因此我们需要在一个适当的时机释放 displayLink，比如在 CADisplayLink 的 action 方法中根据一定的条件来 invalidate 它：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> -(<span class="keyword">void</span>)animateDashboard:(<span class="built_in">CADisplayLink</span> *)sender&#123;</div><div class="line">    <span class="keyword">if</span>( endValue &lt;= <span class="keyword">self</span>.value)&#123;<span class="comment">// 到达终点值，停止动画</span></div><div class="line">        ......</div><div class="line">        [displayLink invalidate];</div><div class="line">        ......</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        ......</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>另外，CADisplayLink 最好不要复用。也就是说，每次启动 CADisplayLink 时都重新初始化并将它添加到 runloop，而每次停止动画时都 invalidate：</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> -(<span class="keyword">void</span>)animating&#123;</div><div class="line">    <span class="keyword">if</span>(_stopped == <span class="literal">YES</span>)&#123;</div><div class="line">        displayLink = [<span class="built_in">CADisplayLink</span> displayLinkWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(blink:)];</div><div class="line">        [displayLink addToRunLoop:[<span class="built_in">NSRunLoop</span> currentRunLoop] forMode:<span class="built_in">NSRunLoopCommonModes</span>];</div><div class="line"></div><div class="line">        _stopped = <span class="literal">NO</span>;</div><div class="line">        [<span class="keyword">self</span> setNeedsDisplay];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">-(<span class="keyword">void</span>)stopAnimating&#123;</div><div class="line">    <span class="keyword">if</span>(_stopped == <span class="literal">NO</span>)&#123;</div><div class="line">        [displayLink invalidate];</div><div class="line">        _stopped = <span class="literal">YES</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="reloadRowsAtIndexPaths-导致的内存泄漏"><a href="#reloadRowsAtIndexPaths-导致的内存泄漏" class="headerlink" title="reloadRowsAtIndexPaths 导致的内存泄漏"></a>reloadRowsAtIndexPaths 导致的内存泄漏</h1><blockquote>
<p>UITableView 的 reloadRowsAtIndexPaths 的行为非常奇怪，在刷新 cell 时，它并不会重用原有的 cell，而是重新创建新的 cell 覆盖在原来的 cell 上，这会导致额外的内存开销。当重复多次调用 reloadRowsAtIndexPaths 之后，你可以在视图调试器中看下效果：<br>无论你用不用 beginUpdates/endUpdates，结果都是一样。<br>解决的办法目前只有一个，不要用 reloadRowsAtIndexPaths，而是使用 reloadData，当然会有一点性能上的代价，但也是没有办法的事情</p>
</blockquote>
<h1 id="定时器导致的内存泄漏问题"><a href="#定时器导致的内存泄漏问题" class="headerlink" title="定时器导致的内存泄漏问题"></a>定时器导致的内存泄漏问题</h1><blockquote>
<p>有时候 NSTimer （尤其是 repeated 为 YES 时）会导致内存泄漏问题。因为定时器是在另外一个线程中运行的，当界面消失后，定时器仍然还在运行，如果在定时器任务中引用了 UI 元素，则这些视图都会被强引用，从而导致界面消失后 view 无法释放，导致内存泄漏。<br>因此，如果在你的 UIViewController 中使用了定时器，一定要记得在 viewWillDisappear 方法中 invalidate 它</p>
</blockquote>
<h1 id="addScriptMessageHandler-导致的内存泄漏"><a href="#addScriptMessageHandler-导致的内存泄漏" class="headerlink" title="addScriptMessageHandler 导致的内存泄漏"></a>addScriptMessageHandler 导致的内存泄漏</h1><blockquote>
<p>WKUserContentController 的 addScriptMessageHandler 方法会导致一个对 handler 对象的强引用，从而导致 handler （通常是 webView 所在的 ViewController）不会被释放，于是内存泄漏。<br>解决的办法是 removeScriptMessageHandlerForName。根据官方文档，当你 addScriptMessageHandler 之后，需要在不再需要 handler 时，需要调用 removeScriptMessageHandlerForName 解除 handler 的强引用。<br>问题在于，“当你不在需要它的时候”到底是什么时候？我们一般会在 viewDidLoad 中 addScriptMessageHandler，按道理应该在 dealloc 中 removeScriptMessageHandlerForName。但由于内存都已经泄漏了，ViewContoller 的 dealloc 根本不会调用，这个方法是无效的。<br>解决的办法有两个，一个是将 addScriptMessageHandler 放到 viewDidAppear 中执行，那么我们就可以在 viewDidDisappler 中 removeScriptMessageHandlerForName 了。<br>另一个方法是将 handler 弱引用。这需要新建一个类，创建一个弱引用的属性，用这个属性来包装 handler 对象：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  @interface <span class="type">WeakScriptMessageDelegate</span> : <span class="type">NSObject</span>&lt;<span class="type">WKScriptMessageHandler</span>&gt;</div><div class="line"><span class="comment">// 1</span></div><div class="line">@property (nonatomic, <span class="keyword">weak</span>) id&lt;<span class="type">WKScriptMessageHandler</span>&gt; scriptDelegate;</div><div class="line"></div><div class="line">- (instancetype)initWithDelegate:(id&lt;<span class="type">WKScriptMessageHandler</span>&gt;)scriptDelegate;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation <span class="type">WeakScriptMessageDelegate</span></div><div class="line"></div><div class="line">- (instancetype)initWithDelegate:(id&lt;<span class="type">WKScriptMessageHandler</span>&gt;)scriptDelegate</div><div class="line">&#123;</div><div class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> <span class="keyword">init</span>];</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</div><div class="line">        _scriptDelegate = scriptDelegate;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 2</span></div><div class="line">- (void)userContentController:(<span class="type">WKUserContentController</span> *)userContentController didReceiveScriptMessage:(<span class="type">WKScriptMessage</span> *)message</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span>.scriptDelegate userContentController:userContentController didReceiveScriptMessage:message];</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<ul>
<li><p>这个属性就是用来弱引用 handler 的属性，它保存了一个对 handler 的弱引用。类型是 id，因为 addScriptMessageHandler 方法需要一个 WKScriptMessageHandler 对象作为参数</p>
</li>
<li><p>这个对象对 WKScriptMessageHandler 进行了封装，它同样实现了 WKScriptMessageHandler 协议，这个协议中有一个唯一的方法需要实现，即 userContentController 方法。在方法内部，我们可以直接调用 handler 的同名方法实现（因为二者的行为是一致的）</p>
</li>
</ul>
<blockquote>
<p>使用</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> / 将 handler 转换成一个若引用的 handler,从而避免内存泄漏</div><div class="line">WeakScriptMessageDelegate* weakHandler = [[WeakScriptMessageDelegate alloc] initWithDelegate:handler];</div><div class="line"></div><div class="line">[webView.configuration.userContentController addScriptMessageHandler:weakHandler name:methodName];</div></pre></td></tr></table></figure>
<blockquote>
<p>MLeaksFinder</p>
<p>内存泄漏问题多种多样，它们经常以出乎人意料的形式存在，我们无法以一种固定的模式来判断 app 中存在的内存泄漏问题。我们常常需要使用多个工具和手段来检查 app 中的内存问题，比如可以用 Xcode 的 Analyze 工具对代码进行静态语法分析，用 Instrument 的 Leaks/Allocations 工具进行动态内存检查分析，用视图调试器查看 UI 问题等等。</p>
<p>但我们还可以用许多第三方内存泄漏检测框架，比如：MLeaksFinder 和 HeapInspector-for-iOS，尤其是前者（后者目前会导致 App “冻死”的问题，作者还在解决这个问题）。</p>
<p>MLeaksFinder 是一个专门用于检测 UI 类内存泄漏的工具，我们可以利用它来检测 UIViewController 和 UIView 中未 dealloc 的 subview。</p>
<p>它的使用非常简单，直接 pod MLeaksFinder，然后找到 MLeaksFinder.h 头文件，将其中的 MEMORY_LEAKS_FINDER_ENABLED 宏和 MEMORY_LEAKS_FINDER_RETAIN_CYCLE_ENABLED 宏打开（设置为 1）就可以了。</p>
<p>编译运行 app，测试各种操作，切换到不同的 view controller，当 MLeaksFinder 发现内存泄漏会弹出一个 alert（同时控制台会有输出），告诉你哪个类和 UIView 中存在内存泄漏（以及循环持有）</p>
</blockquote>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">千夜 QQ:738816656</p>
              <p class="site-description motion-element" itemprop="description">ReactNative</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">201</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">106</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">77</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">千夜 QQ:738816656</span>

  
</div>





        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
