<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">

<meta name="theme-color" content="#222">
<style>
    .pace .pace-progress {
        background: #1E92FB; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="ReactNative">
<meta property="og:type" content="website">
<meta property="og:title" content="千夜、おれはおまえをずっと爱している">
<meta property="og:url" content="http://yoursite.com/page/13/index.html">
<meta property="og:site_name" content="千夜、おれはおまえをずっと爱している">
<meta property="og:description" content="ReactNative">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="千夜、おれはおまえをずっと爱している">
<meta name="twitter:description" content="ReactNative">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/13/"/>





  <title>千夜、おれはおまえをずっと爱している</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">千夜、おれはおまえをずっと爱している</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/10/Swift/Grammar/Inheritance-类继承/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/10/Swift/Grammar/Inheritance-类继承/" itemprop="url">Swift-Grammar-Inheritance-类继承</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-10T00:26:38+08:00">
                2017-12-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/" itemprop="url" rel="index">
                    <span itemprop="name">Grammar</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/Inheritance/" itemprop="url" rel="index">
                    <span itemprop="name">Inheritance</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Inheritance-类继承-简介"><a href="#Inheritance-类继承-简介" class="headerlink" title="Inheritance-类继承-简介"></a>Inheritance-类继承-简介</h1><blockquote>
<p>继承性是面向语言特征之一<br>swift的类继承只能发生生在类上，不能发生在枚举和结构体上<br>swift中一个类可以继承另一个类的方法、属性、下标等特征<br>子类   父类（超类）<br>子类继承父类后，可重写父类的方法、属性、下标等<br>单继承，但可遵从多个协议，多重继承可以通过遵从多个协议实现</p>
</blockquote>
<h1 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h1><blockquote>
<p>场景：面向对象的程序员岳克奎，在编程过程中需要描述和处理个人信息<br>定义类Person</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</div><div class="line">    <span class="keyword">var</span>  name:<span class="type">String</span></div><div class="line">    <span class="keyword">var</span> age :<span class="type">Int</span></div><div class="line">   </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">desription</span><span class="params">()</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"\(name)年龄是：\(age)岁"</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        name = <span class="string">""</span></div><div class="line">        age = <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>场景：1天后岳克奎遇到新需求，需描述和处理学生的信息，于是定义了一个新的类Student</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</div><div class="line">    <span class="keyword">var</span>  name:<span class="type">String</span></div><div class="line">    <span class="keyword">var</span> age :<span class="type">Int</span></div><div class="line">    </div><div class="line">    <span class="keyword">var</span> school: <span class="type">String</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">desription</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">"\(name)年龄是：\(age)岁"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        name = <span class="string">""</span></div><div class="line">        age = <span class="number">1</span></div><div class="line">        school = <span class="string">""</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>继承方式写</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Student</span>:<span class="title">Person</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> school: <span class="type">String</span>  <span class="comment">//子类新增</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span>() &#123; <span class="comment">//重写父类 构造函数</span></div><div class="line">        school = <span class="string">""</span>  <span class="comment">// 注意 school 和  super.init() 顺序</span></div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</div><div class="line">        name = <span class="string">""</span></div><div class="line">       age = <span class="number">6</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="构造函数的调用规则"><a href="#构造函数的调用规则" class="headerlink" title="构造函数的调用规则"></a>构造函数的调用规则</h1><h2 id="修改上面案例"><a href="#修改上面案例" class="headerlink" title="修改上面案例"></a>修改上面案例</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//Person</span></div><div class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</div><div class="line">       <span class="keyword">var</span>  name:<span class="type">String</span></div><div class="line">       <span class="keyword">var</span> age :<span class="type">Int</span></div><div class="line">       </div><div class="line">       <span class="function"><span class="keyword">func</span> <span class="title">desription</span><span class="params">()</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">           <span class="keyword">return</span> <span class="string">"\(name)年龄是：\(age)岁"</span></div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="keyword">convenience</span> <span class="keyword">init</span> () &#123;       <span class="comment">//  ① 便利构造函数</span></div><div class="line">           <span class="keyword">self</span>.<span class="keyword">init</span> (name: <span class="string">"岳克奎"</span>)</div><div class="line">           <span class="keyword">self</span>.age = <span class="number">99</span></div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="keyword">convenience</span> <span class="keyword">init</span> (name: <span class="type">String</span>) &#123; <span class="comment">// ② 便利构造函数</span></div><div class="line">           <span class="keyword">self</span>.<span class="keyword">init</span>(name:name,age:<span class="number">18</span>)</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">       <span class="keyword">init</span>(name: <span class="type">String</span>,age: <span class="type">Int</span>) &#123;  <span class="comment">// ③ 指定构造函数</span></div><div class="line">           <span class="keyword">self</span>.name = name</div><div class="line">           <span class="keyword">self</span>.age = age</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">   &#125;</div><div class="line">   </div><div class="line">   </div><div class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Student</span>:<span class="title">Person</span></span>&#123;</div><div class="line">       <span class="keyword">var</span> school: <span class="type">String</span></div><div class="line">       <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>,school: <span class="type">String</span> ) &#123; <span class="comment">// ④ 指定构造函数</span></div><div class="line">          <span class="keyword">self</span>.school = school</div><div class="line">           <span class="keyword">super</span>.<span class="keyword">init</span>(name: name, age: age)</div><div class="line">          </div><div class="line">       &#125;</div><div class="line">       <span class="keyword">convenience</span> <span class="keyword">override</span> <span class="keyword">init</span>(name: <span class="type">String</span>, age: <span class="type">Int</span>) &#123; <span class="comment">// ⑤ 便利构造函数</span></div><div class="line">           <span class="keyword">self</span>.<span class="keyword">init</span> (name: name, age: age, school: <span class="string">"许昌学院"</span>)</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">   &#125;</div><div class="line">   </div><div class="line">   <span class="keyword">let</span> oneStudent = <span class="type">Student</span>()</div><div class="line">   <span class="built_in">print</span>(<span class="string">"学生： \(oneStudent.desription())"</span>)<span class="comment">//学生： 岳克奎年龄是：99岁</span></div></pre></td></tr></table></figure>
<h2 id="构造函数之间的调用形成构造函数链"><a href="#构造函数之间的调用形成构造函数链" class="headerlink" title="构造函数之间的调用形成构造函数链"></a>构造函数之间的调用形成构造函数链</h2><blockquote>
<p>swift限制构造函数之间代理调用规则3条：</p>
<p>1.指定构造函数必须调用其直接父类的指定构造函数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Student中的 ④ 指定函数调用Person中③ 指定构造函数</div></pre></td></tr></table></figure>
<blockquote>
<p>2.便利构造函数必须调用同一类中定义的其他构造函数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Student 中的 ⑤ 便利构造函数 调用 同一类中  ④号构造函数，</div><div class="line">Person中的  ① 便利构造函数调用同一类中的  ② 便利构造函数，</div><div class="line">Person中的 ② 便利构造函数 调用同一类中的 ③ 指定构造函数</div></pre></td></tr></table></figure>
<blockquote>
<p>3.便利构造函数必须最终以调用一个指定构造函数结束</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Student 中的 ⑤ 便利构造函数 调用 同一类中  ④号构造函数，</div><div class="line"> Person中的 ② 便利构造函数 调用同一类中的 ③ 指定构造函数</div></pre></td></tr></table></figure>
<h1 id="构造过程安全检查"><a href="#构造过程安全检查" class="headerlink" title="构造过程安全检查"></a>构造过程安全检查</h1><h2 id="类的构造的两个阶段"><a href="#类的构造的两个阶段" class="headerlink" title="类的构造的两个阶段"></a>类的构造的两个阶段</h2><blockquote>
<p>分析图：书Page 200页</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">1.分配内存 ---&gt;初始化子类存储属性---&gt;沿构造函数链向上初始父类存储属性 </div><div class="line">到达构造函数链顶部，出书画全部的父类存储属性</div><div class="line"></div><div class="line">2.修改属性  ---&gt; 调用方法</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/08/Swift/Grammar/Character字符/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/08/Swift/Grammar/Character字符/" itemprop="url">Swift-Grammar-Character字符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-08T18:01:31+08:00">
                2017-12-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/" itemprop="url" rel="index">
                    <span itemprop="name">Grammar</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/String/" itemprop="url" rel="index">
                    <span itemprop="name">String</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h1><ul>
<li>swift 采用Unicode编码</li>
<li><p>一个字符可以用字符本身，也可以用Unicode编码</p>
<h2 id="Unicode编码"><a href="#Unicode编码" class="headerlink" title="Unicode编码"></a>Unicode编码</h2></li>
<li><p>C 和 OC等，字符放在(‘)之间的</p>
</li>
<li>Swift （””）双引号<blockquote>
<p>Unicode编码可以有 单、双、四字节编码<br>表现形式  \u{}     n为1-8个16尽职数</p>
</blockquote>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> andSign1:<span class="type">Character</span> = <span class="string">"&amp;"</span>       <span class="comment">//用字符本</span></div><div class="line"><span class="built_in">print</span>(andSign1)                    <span class="comment">// &amp;</span></div><div class="line"><span class="keyword">let</span> andSign2:<span class="type">Character</span> = <span class="string">"\u&#123;26&#125;"</span>  <span class="comment">//用Unicode编码</span></div><div class="line"><span class="built_in">print</span>(andSign2)                    <span class="comment">// &amp;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Swift字符类型是Character。声明let/var<br>如果省略Character类型声明,自动推段是字符串，”&amp;”默认是字符串类型</p>
</blockquote>
<h2 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h2><table>
<thead>
<tr>
<th>字符表示</th>
<th>Uicode编码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>\t</td>
<td>\u{0009}</td>
<td>水平制表符tab</td>
</tr>
<tr>
<td>\n</td>
<td>\u{000a}</td>
<td>换行</td>
</tr>
<tr>
<td>\r</td>
<td>\u{000d}</td>
<td>回车</td>
</tr>
<tr>
<td>\”</td>
<td>\u{0022}</td>
<td>双引号</td>
</tr>
<tr>
<td>\’</td>
<td>\u{0027}</td>
<td>单引号</td>
</tr>
<tr>
<td>\</td>
<td>\u{005c}</td>
<td>反斜线</td>
</tr>
</tbody>
</table>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="comment">//转义符</span></div><div class="line">      <span class="keyword">let</span> specialCharTab1 = <span class="string">"Yue\tKekui"</span></div><div class="line">      <span class="built_in">print</span>(<span class="string">"specialCharTab1:\(specialCharTab1)"</span>)</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/08/Swift/Grammar/Lazy-懒加载/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/08/Swift/Grammar/Lazy-懒加载/" itemprop="url">Swift-Grammar-Lazy-懒加载</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-08T16:42:07+08:00">
                2017-12-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/" itemprop="url" rel="index">
                    <span itemprop="name">Grammar</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/Lazy/" itemprop="url" rel="index">
                    <span itemprop="name">Lazy</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="惰性初始化"><a href="#惰性初始化" class="headerlink" title="惰性初始化"></a>惰性初始化</h1><blockquote>
<p>懒加载本质上是一个 闭包<br>懒加载会在第一次访问的时候执行, 闭包执行结束后, 会把结果保存在 属性 中<br>后续调用, 直接返回 属性 的内容<br>懒加载的属性会分配空间, 存储值<br>只要调用过一次, 懒加载后面的闭包再也不会执行了<br>延迟加载, 减少内存的消耗,初始化并且分配空间, 会提前创建<br>可以解除解包的烦恼<br>被设置为 nil, 懒加载也不会再次执行<br>懒加载的代码只会在第一次调用的时候, 执行闭包, 然后将闭包的结果保存在 的属性中<br>Swift中，有两种方式来惰性初始化</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">DemoLabel</span>: <span class="title">UILabel</span> </span>&#123;</div><div class="line">    <span class="comment">//模型 ---&gt; 给视图设置模型, 由视图自己根据模型的数据显示内容</span></div><div class="line">    <span class="keyword">var</span> person: <span class="type">Student</span>? &#123;</div><div class="line">        <span class="comment">// 就是替代 OC 中重写 setter 方法 , 区别: 再也不需要考虑  _成员变量 = 值, OC 中如果是 copy 属性, 应该 _成员变量 = [值 copy]</span></div><div class="line">        <span class="keyword">didSet</span>&#123;</div><div class="line">         <span class="comment">// 此时 name 属性已经有值, 可以直接使用设置 UI 内容</span></div><div class="line">            text = person?.name</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line">   </div><div class="line">   </div><div class="line">    <span class="keyword">var</span> label: <span class="type">DemoLabel</span>?</div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">        &#123;&#125; 包装代码</span></div><div class="line"><span class="comment">        () 执行代码</span></div><div class="line"><span class="comment">        日常开发:</span></div><div class="line"><span class="comment">        1. 闭包中的智能提示不好</span></div><div class="line"><span class="comment">        2. 闭包中如果出现 self. 还需要注意循环引用</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> label2 = &#123; () -&gt; <span class="type">DemoLabel</span> <span class="keyword">in</span></div><div class="line">        <span class="keyword">let</span> l = <span class="type">DemoLabel</span>()</div><div class="line">        <span class="comment">// 设置 Label 的属性...</span></div><div class="line">        <span class="keyword">return</span> l</div><div class="line">    &#125;()</div><div class="line">   </div><div class="line">    <span class="comment">// 注意: 一旦 label 被设置为 nil, 懒加载也不会再次执行</span></div><div class="line">    <span class="comment">// 懒加载的代码只会在第一次调用的时候, 执行闭包, 然后将闭包的结果保存在 label 的属性中</span></div><div class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> label3: <span class="type">UILabel</span>? = <span class="type">UILabel</span>()</div><div class="line">   </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">      </div><div class="line">        <span class="comment">// 设置 UI</span></div><div class="line">        setupUI()</div><div class="line">      </div><div class="line">        label3?.text = <span class="string">"hello"</span></div><div class="line">        label3?.sizeToFit()</div><div class="line">       </div><div class="line">        <span class="built_in">print</span>(label3 <span class="keyword">as</span> <span class="type">Any</span>)</div><div class="line">       </div><div class="line">        label3 = <span class="literal">nil</span></div><div class="line">       </div><div class="line">        <span class="built_in">print</span>(label3 <span class="keyword">as</span> <span class="type">Any</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupUI</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// 1. swvf控件</span></div><div class="line">        label = <span class="type">DemoLabel</span>()</div><div class="line">        <span class="comment">// ! 解包, 为了参与计算, addSubView 用 subViews 数组记录控件, 数组中不允许加入 nil</span></div><div class="line">        <span class="comment">// ? 可选解包, 调用方法, 如果为 nil, 不调用方法, 但是不能参与计算</span></div><div class="line">        view.addSubview(label!)</div><div class="line">       </div><div class="line">        label?.text = <span class="string">"hello"</span></div><div class="line">        label?.sizeToFit()</div><div class="line">        label?.center = view.center</div><div class="line">    &#125;</div><div class="line">   </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">didReceiveMemoryWarning</span><span class="params">()</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">// Swift 中一定注意不要主动清理视图或者控件// 因为懒加载不会再次创建</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="简单表达式"><a href="#简单表达式" class="headerlink" title="简单表达式"></a>简单表达式</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> first = <span class="type">NSArray</span>(objects: <span class="string">"1"</span>,<span class="string">"2"</span>)</div></pre></td></tr></table></figure>
<p>##闭包</p>
<blockquote>
<p>不要忘记最后的小括号，只有加了小括号，必包才会在掉用的时候立刻执行<br>要类型声明lazy var second:String，这样Xcode会进行类型检</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> second:<span class="type">String</span> = &#123;</div><div class="line">       <span class="keyword">return</span> <span class="string">"second"</span></div><div class="line">       &#125;()  </div><div class="line"><span class="comment">//&#123;&#125; 包装代码 () 执行代码</span></div></pre></td></tr></table></figure>
<h1 id="惰性初始化的使用场景"><a href="#惰性初始化的使用场景" class="headerlink" title="惰性初始化的使用场景"></a>惰性初始化的使用场景</h1><h2 id="①属性本身依赖于外部因素才能初始化"><a href="#①属性本身依赖于外部因素才能初始化" class="headerlink" title="①属性本身依赖于外部因素才能初始化"></a>①属性本身依赖于外部因素才能初始化</h2><blockquote>
<p>completeURL表示完整的URL，这个变量依赖于自身的url是否含有<a href="http://前缀" target="_blank" rel="external">http://前缀</a></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span></span>&#123;</div><div class="line">    <span class="keyword">var</span> url:<span class="type">NSString</span></div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> completeURL:<span class="type">NSString</span> = &#123;</div><div class="line">        [<span class="keyword">unowned</span> <span class="keyword">self</span>] <span class="keyword">in</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.url.hasPrefix(<span class="string">"http://"</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.url</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">"http://"</span>.stringByAppendingString(<span class="keyword">self</span>.url)</div><div class="line">        &#125;</div><div class="line">        &#125;()</div><div class="line">    <span class="keyword">init</span>(url:<span class="type">NSString</span>)&#123;</div><div class="line">        <span class="keyword">self</span>.url = url</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="②属性需要复杂计算，消耗大量CPU"><a href="#②属性需要复杂计算，消耗大量CPU" class="headerlink" title="②属性需要复杂计算，消耗大量CPU"></a>②属性需要复杂计算，消耗大量CPU</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> second:<span class="type">Int</span> = &#123;</div><div class="line">       <span class="keyword">var</span> sum = <span class="number">0</span></div><div class="line">       <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">100000</span>&#123;</div><div class="line">           sum += i</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> sum</div><div class="line">       &#125;()</div></pre></td></tr></table></figure>
<h2 id="③属性不确定是否会使用到"><a href="#③属性不确定是否会使用到" class="headerlink" title="③属性不确定是否会使用到"></a>③属性不确定是否会使用到</h2><blockquote>
<p>官网的例子，注意，对于Manager来说，使用的时候，可能导入，也可能不倒入数据。从硬盘读取数据的代价是很大的，不导入数据的时候，不要初始化</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataImporter</span> </span>&#123;</div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">    DataImporter is a class to import data from an external file.</span></div><div class="line"><span class="comment">    The class is assumed to take a non-trivial amount of time to initialize.</span></div><div class="line"><span class="comment">    */</span></div><div class="line">    <span class="keyword">var</span> fileName = <span class="string">"data.txt"</span></div><div class="line">    <span class="comment">// the DataImporter class would provide data importing functionality here</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataManager</span> </span>&#123;</div><div class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> importer = <span class="type">DataImporter</span>()</div><div class="line">    <span class="keyword">var</span> data = [<span class="type">String</span>]()</div><div class="line">    <span class="comment">// the DataManager class would provide data management functionality here</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> manager = <span class="type">DataManager</span>()</div><div class="line">manager.data.append(<span class="string">"Some data"</span>)</div><div class="line">manager.data.append(<span class="string">"Some more data"</span>)</div></pre></td></tr></table></figure>
<h2 id="④定制化的初始化"><a href="#④定制化的初始化" class="headerlink" title="④定制化的初始化"></a>④定制化的初始化</h2><blockquote>
<p>有些初始化只需要初始化一次，在变量定义的地方初始化，有助于代码维护</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> dataArray:<span class="type">NSMutableArray</span> = &#123;</div><div class="line">       <span class="keyword">var</span> array = <span class="type">NSMutableArray</span>()</div><div class="line">       <span class="keyword">for</span>  i <span class="keyword">in</span> <span class="number">1</span>...<span class="number">100</span>&#123;</div><div class="line">           array.addObject(<span class="type">NSNumber</span>(integer: i))</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> array</div><div class="line">       &#125;()</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/08/Swift/Grammar/Override-重写/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/08/Swift/Grammar/Override-重写/" itemprop="url">Swift-Grammar-Override重写</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-08T09:50:49+08:00">
                2017-12-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/Grammar/" itemprop="url" rel="index">
                    <span itemprop="name">Grammar</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="定义一个类"><a href="#定义一个类" class="headerlink" title="定义一个类"></a>定义一个类</h1><blockquote>
<p>定义可继承的基础类<br>nameStr： 人名<br>abilityInt ： 能力值</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">var</span> nameStr: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> abilityInt: <span class="type">Int</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">()</span></span> -&gt; <span class="type">String</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"\(nameStr)的能力值\(abilityInt)"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">init</span>() &#123;</div><div class="line">        nameStr    = <span class="string">"YueKekui"</span></div><div class="line">        abilityInt = <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="重写父类方法"><a href="#重写父类方法" class="headerlink" title="重写父类方法"></a>重写父类方法</h1><h2 id="重写init"><a href="#重写init" class="headerlink" title="重写init"></a>重写init</h2><blockquote>
<p>init<br>nationalityStr:新加国籍</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChinesePeople</span>:<span class="title">People</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">var</span> nationalityStr = <span class="string">"中国🇨🇳"</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span>()</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</div><div class="line">        nameStr    = <span class="string">"ChenJian"</span></div><div class="line">        abilityInt = <span class="number">666</span></div><div class="line">        <span class="comment">//self.nameStr = "LuGaygay"</span></div><div class="line">        <span class="comment">//self.abilityInt = 8888</span></div><div class="line">        <span class="comment">//继承了父类的属性，因此nameStr、 self.nameStr的属性</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">()</span></span>-&gt;<span class="type">String</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.des() + <span class="string">"他是\(nationalityStr)人"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="打印"><a href="#打印" class="headerlink" title="打印"></a>打印</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> onePeople =  <span class="type">ChinesePeople</span>.<span class="keyword">init</span>()</div><div class="line"><span class="built_in">print</span>( onePeople.des()) <span class="comment">// ChenJian的能力值666他是中国🇨🇳人</span></div></pre></td></tr></table></figure>
<h1 id="重写属性"><a href="#重写属性" class="headerlink" title="重写属性"></a>重写属性</h1><blockquote>
<p>子类并不知道继承来的属性是储值型还是算值型，它只知道继承来的属性有一个名字和类型，所以在重写属性时必须把它的名字和类型都写出来<br>储值属性可以重写为算值属性<br>只读可以重写为读写；读写不能重写为只读<br>不想重写getter，可以直接返回super.Someproperty</p>
</blockquote>
<h2 id="Get-Set"><a href="#Get-Set" class="headerlink" title="Get/Set"></a>Get/Set</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">AmericanPeople</span>: <span class="title">ChinesePeople</span> </span>&#123;</div><div class="line">   <span class="comment">// override var nationalityStr = "美国🇺🇸"</span></div><div class="line"><span class="comment">////重写了父类的属性nationalityStr，因此self和super的nationalityStr是两个不同的属性</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">var</span> nationalityStr:<span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">get</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.nationalityStr</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">set</span> &#123;</div><div class="line">            <span class="keyword">super</span>.nationalityStr = <span class="string">"美国🇺🇸"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="打印-1"><a href="#打印-1" class="headerlink" title="打印"></a>打印</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> secondPeople = <span class="type">AmericanPeople</span>.<span class="keyword">init</span>()</div><div class="line">     secondPeople.nationalityStr = <span class="string">"注意重写set get的返回"</span></div><div class="line">     <span class="built_in">print</span>(secondPeople.des()) <span class="comment">// ChenJian的能力值666他是美国🇺🇸人</span></div></pre></td></tr></table></figure>
<h1 id="重写属性观察器"><a href="#重写属性观察器" class="headerlink" title="重写属性观察器"></a>重写属性观察器</h1><blockquote>
<p>可以为继承来的变量储值属性添加属性观察器<br>可以值重写didSet或willSet</p>
</blockquote>
<h2 id="didSet"><a href="#didSet" class="headerlink" title="didSet"></a>didSet</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">AustraliansPeople</span>: <span class="title">People</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> richInt = <span class="number">1</span></div><div class="line">    <span class="keyword">override</span> <span class="keyword">var</span> abilityInt: <span class="type">Int</span>&#123;</div><div class="line">        <span class="keyword">didSet</span>&#123;</div><div class="line">            richInt = <span class="type">Int</span>(abilityInt*<span class="number">2</span>)+<span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//重写打印方法</span></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">des</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.des()+<span class="string">"财富指标\(richInt)"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="打印-2"><a href="#打印-2" class="headerlink" title="打印"></a>打印</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> thirdPeople = <span class="type">AustraliansPeople</span>.<span class="keyword">init</span>()</div><div class="line">     thirdPeople.abilityInt = <span class="number">5</span></div><div class="line">     <span class="built_in">print</span>(thirdPeople.des())  <span class="comment">//YueKekui的能力值5财富指标12</span></div></pre></td></tr></table></figure>
<h1 id="防止重写"><a href="#防止重写" class="headerlink" title="防止重写"></a>防止重写</h1><blockquote>
<p>通过把方法、属性或下标标记为final来防止它们被重写<br>在扩展中，添加到类里的方法、属性或下标也可以在扩展的定义里标记为final<br>可以在class前添加final来将整个定义为不能重写，这样的类是不可继承的</p>
</blockquote>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/UITableView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/UITableView/" itemprop="url">Swift-UIKit-UITableView</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T15:02:16+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UITableView/" itemprop="url" rel="index">
                    <span itemprop="name">UITableView</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UITableView"><a href="#UITableView" class="headerlink" title="UITableView"></a>UITableView</h1><h2 id="声明tableView-UITableView变量"><a href="#声明tableView-UITableView变量" class="headerlink" title="声明tableView:UITableView变量"></a>声明tableView:UITableView变量</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> kSize=<span class="type">UIScreen</span>.main.bounds;</div><div class="line"><span class="keyword">var</span> _tableView:<span class="type">UITableView</span>!          <span class="comment">//tableView</span></div><div class="line"><span class="keyword">var</span>  data :[(<span class="type">String</span>,<span class="type">String</span>)] = [(<span class="string">"寥寥"</span>,<span class="string">"有点绿"</span>),(<span class="string">"卢Gaygay"</span>,<span class="string">"有点Gay"</span>),(<span class="string">"222"</span>,<span class="string">"2---2"</span>),(<span class="string">"333"</span>,<span class="string">"3--3"</span>)]      <span class="comment">//数据源</span></div></pre></td></tr></table></figure>
<h2 id="声明tableView的数据源的代理协议"><a href="#声明tableView的数据源的代理协议" class="headerlink" title="声明tableView的数据源的代理协议"></a>声明tableView的数据源的代理协议</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">UITableViewDataSource</span>,<span class="title">UITableViewDelegate</span> </span>&#123;</div></pre></td></tr></table></figure>
<h2 id="MARK-设置tableView"><a href="#MARK-设置tableView" class="headerlink" title="MARK: 设置tableView"></a>MARK: 设置tableView</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeTableView</span><span class="params">()</span></span>  &#123;</div><div class="line">   _tableView = <span class="type">UITableView</span>.<span class="keyword">init</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0.0</span>,</div><div class="line">                                               y: <span class="number">64</span>,</div><div class="line">                                               width: kSize.width,</div><div class="line">                                               height: kSize.height-<span class="number">64</span>),</div><div class="line">                                 style:.plain)</div><div class="line">    <span class="keyword">self</span>.view.addSubview(_tableView);  <span class="comment">// 添加tableView</span></div><div class="line">    _tableView.dataSource = <span class="keyword">self</span>;</div><div class="line">    _tableView.delegate = <span class="keyword">self</span>;</div><div class="line">    _tableView.showsVerticalScrollIndicator = <span class="literal">false</span></div><div class="line">    _tableView.showsHorizontalScrollIndicator = <span class="literal">false</span></div><div class="line">    </div><div class="line">    _tableView.tableFooterView = <span class="type">UIView</span>()    <span class="comment">//tableFooter</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="MARK-实现tableView-dataSource协议中方法"><a href="#MARK-实现tableView-dataSource协议中方法" class="headerlink" title="MARK: 实现tableView.dataSource协议中方法"></a>MARK: 实现tableView.dataSource协议中方法</h2><h3 id="MARK-行"><a href="#MARK-行" class="headerlink" title="MARK: 行"></a>MARK: 行</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> data.<span class="built_in">count</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="MARK-Cell"><a href="#MARK-Cell" class="headerlink" title="MARK: Cell"></a>MARK: Cell</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</div><div class="line">    <span class="keyword">var</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"陈建"</span>)</div><div class="line">    <span class="keyword">if</span> cell == <span class="literal">nil</span> &#123;</div><div class="line">        cell = <span class="type">UITableViewCell</span>(style:<span class="type">UITableViewCellStyle</span>.<span class="keyword">default</span>,reuseIdentifier:<span class="string">"陈建"</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> btn:<span class="type">UIButton</span> = <span class="type">UIButton</span>.<span class="keyword">init</span>(type:<span class="type">UIButtonType</span>.custom)</div><div class="line">    btn.frame = <span class="type">CGRect</span>(x:<span class="type">UIScreen</span>.main.bounds.width - <span class="number">100</span>, y:<span class="number">10</span>, width:<span class="number">80</span>, height:<span class="number">50</span>)</div><div class="line">    btn.backgroundColor = <span class="type">UIColor</span>.red;</div><div class="line">    btn.setTitle(<span class="string">"btn标题"</span>, <span class="keyword">for</span>: <span class="type">UIControlState</span>.normal)</div><div class="line">    btn.setTitleColor(<span class="type">UIColor</span>.blue, <span class="keyword">for</span>: <span class="type">UIControlState</span>.normal)</div><div class="line">    btn.tag = indexPath.row</div><div class="line">    btn.addTarget(<span class="keyword">self</span>, action:#selector(clickBtnAction), <span class="keyword">for</span>: .touchUpInside)</div><div class="line">    </div><div class="line">    cell?.textLabel?.text = data[indexPath.row].<span class="number">0</span>;</div><div class="line">    cell?.contentView.addSubview(btn);</div><div class="line">    cell?.accessoryType=<span class="type">UITableViewCellAccessoryType</span>.disclosureIndicator</div><div class="line">    <span class="keyword">return</span> cell!</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="MARK-cell-高度"><a href="#MARK-cell-高度" class="headerlink" title="MARK: cell- 高度"></a>MARK: cell- 高度</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">66</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="头部高度"><a href="#头部高度" class="headerlink" title="头部高度"></a>头部高度</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.01</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="底部高度"><a href="#底部高度" class="headerlink" title="底部高度"></a>底部高度</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForFooterInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">0.01</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="选中cell时触发"><a href="#选中cell时触发" class="headerlink" title="选中cell时触发"></a>选中cell时触发</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, didSelectRowAt indexPath: IndexPath)</span></span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"indexPath.row = SelectRow 第\(indexPath.row)行"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="取消选中cell时"><a href="#取消选中cell时" class="headerlink" title="取消选中cell时"></a>取消选中cell时</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, didDeselectRowAt indexPath: IndexPath)</span></span>&#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"indexPath.row = DeselectRow 第\(indexPath.row)行"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="允许编辑cell"><a href="#允许编辑cell" class="headerlink" title="允许编辑cell"></a>允许编辑cell</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, canEditRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="右滑触发删除按钮"><a href="#右滑触发删除按钮" class="headerlink" title="右滑触发删除按钮"></a>右滑触发删除按钮</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, editingStyleForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCellEditingStyle</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="type">UITableViewCellEditingStyle</span>.<span class="keyword">init</span>(rawValue: <span class="number">1</span>)!</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="点击删除cell时触发"><a href="#点击删除cell时触发" class="headerlink" title="点击删除cell时触发"></a>点击删除cell时触发</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, commit editingStyle: UITableViewCellEditingStyle, forRowAt indexPath: IndexPath)</span></span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"indexPath.row = editingStyle第\(indexPath.row)行"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="点击btn的方法"><a href="#点击btn的方法" class="headerlink" title="点击btn的方法"></a>点击btn的方法</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">clickBtnAction</span> <span class="params">(sender:UIButton)</span></span>&#123;</div><div class="line">        <span class="built_in">print</span>(<span class="string">"点击了 btn"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/OC/Code/OC-Code-Error-AFN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/OC/Code/OC-Code-Error-AFN/" itemprop="url">OC-Error-AFN</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T11:33:14+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/" itemprop="url" rel="index">
                    <span itemprop="name">OC</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/Error/" itemprop="url" rel="index">
                    <span itemprop="name">Error</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/Error/AFN/" itemprop="url" rel="index">
                    <span itemprop="name">AFN</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="不接受返回类型"><a href="#不接受返回类型" class="headerlink" title="不接受返回类型"></a>不接受返回类型</h1><blockquote>
<p>解决方案：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">AFURLResponseSerialization.m中，228行左右</div><div class="line">把 这句： self.acceptableContentTypes = [NSSet setWithObjects:@&quot;application/json&quot;, @&quot;text/json&quot;, @&quot;text/javascript&quot;, nil];</div><div class="line"></div><div class="line">修改为：</div><div class="line"></div><div class="line">self.acceptableContentTypes = [NSSet setWithObjects:@&quot;application/json&quot;, @&quot;text/json&quot;, @&quot;text/javascript&quot;,@&quot;text/html&quot;, nil];</div><div class="line">在进行网络请求时出现-1016 是因为只支持text/json，application/json，text/javascript</div></pre></td></tr></table></figure>
<h1 id="3840错误"><a href="#3840错误" class="headerlink" title="3840错误"></a>3840错误</h1><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"> Error Domain=NSCocoaErrorDomain Code=3840 &quot;Invalid value around character 64.&quot; UserInfo=&#123;NSDebugDescription=Invalid value around character 64.&#125;</div><div class="line">服务器没有返回json数据</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/OC/Func/iOS-Func-网络状况侦测/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/OC/Func/iOS-Func-网络状况侦测/" itemprop="url">iOS-Func-网络状况侦测</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T11:05:40+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/" itemprop="url" rel="index">
                    <span itemprop="name">OC</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OC/Func/" itemprop="url" rel="index">
                    <span itemprop="name">Func</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://developer.apple.com/library/ios/samplecode/Reachability/Reachability.zip" target="_blank" rel="external">官方示例程序</a></p>
<blockquote>
<p>将Reachability.h 和 Reachability.m 加到自己的项目中<br>并引用 SystemConfiguration.framework</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> 网络的几种状态</div><div class="line"><span class="comment">// the network state of the device for Reachability 2.0.</span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123; </div><div class="line"> NotReachable = <span class="number">0</span>, <span class="comment">//无连接 </span></div><div class="line"> ReachableViaWiFi, <span class="comment">//使用3G/GPRS网络</span></div><div class="line"> ReachableViaWWAN <span class="comment">//使用WiFi网络</span></div><div class="line">&#125; NetworkStatus;</div></pre></td></tr></table></figure>
<blockquote>
<p>运用</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><div class="line"> <span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Reachability.h"</span></span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIAlertController</span> *alertVC;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></div><div class="line">    </div><div class="line">    <span class="comment">// 创建网络探测对象</span></div><div class="line">    Reachability *reach = [Reachability reachabilityWithHostName:<span class="string">@"www.baidu.com"</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// 想通知中心注册通知</span></div><div class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter] addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(networkChange:) name:kReachabilityChangedNotification object:<span class="literal">nil</span>];</div><div class="line">    </div><div class="line">    <span class="comment">// 开启通知监控</span></div><div class="line">    [reach startNotifier];</div><div class="line">    </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 网络状况发生改变后，执行该方法</span></div><div class="line">- (<span class="keyword">void</span>)networkChange:(<span class="built_in">NSNotification</span> *)noti &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">self</span>.alertVC = [<span class="built_in">UIAlertController</span> alertControllerWithTitle:<span class="string">@"网络提示"</span> message:<span class="string">@"当前网络状况有变更"</span> preferredStyle:<span class="built_in">UIAlertControllerStyleAlert</span>];</div><div class="line">    </div><div class="line">    <span class="built_in">UIAlertAction</span> *action1 = [<span class="built_in">UIAlertAction</span> actionWithTitle:<span class="string">@"确定"</span> style:<span class="built_in">UIAlertActionStyleDefault</span> handler:^(<span class="built_in">UIAlertAction</span> * _Nonnull action) &#123;</div><div class="line">        [_alertVC dismissViewControllerAnimated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">    &#125;];</div><div class="line">    [_alertVC addAction:action1];</div><div class="line">    </div><div class="line">    </div><div class="line">     Reachability * reach = [noti object];</div><div class="line">    <span class="comment">// 判断当前网络是否可达，可达则继续后边的判断：通过哪种途径到达，不可达，直接返回，不再执行后边的代码</span></div><div class="line">    <span class="keyword">if</span> ([reach isReachable]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"网络可达"</span>);</div><div class="line">        </div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"网络有故障"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"当前网络有故障"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> ([reach isReachableViaWiFi]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"通过WIFI到达"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"当前网络是无线网,为您加载高清资源"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">        </div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ([reach isReachableViaWWAN]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"通过基站到达"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"当前网络是流量，正在为您节省流量"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">        </div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"通过其他到达"</span>);</div><div class="line">        _alertVC.message = <span class="string">@"当前使用未知网络"</span>;</div><div class="line">        [<span class="keyword">self</span> presentViewController:_alertVC animated:<span class="literal">YES</span> completion:<span class="literal">nil</span>];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</div><div class="line">    [<span class="keyword">super</span> didReceiveMemoryWarning];</div><div class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/Swift-UIKit-UIWebView-WKWebView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/Swift-UIKit-UIWebView-WKWebView/" itemprop="url">Swift-UIKit-UIWebView/WKWebView</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T10:47:29+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UIWebView-WKWebView/" itemprop="url" rel="index">
                    <span itemprop="name">UIWebView/WKWebView</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UIWebView"><a href="#UIWebView" class="headerlink" title="UIWebView"></a>UIWebView</h1><blockquote>
<p>UIWebView功能强大，除了能够显示页面之外，还能显示HTML语言，CSS，PPT，Word等等，其用法也简单</p>
</blockquote>
<h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> webView = <span class="type">UIWebView</span>.<span class="keyword">init</span>(frame:<span class="keyword">self</span>.view.frame)</div></pre></td></tr></table></figure>
<p>##添加<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.view.addSubview(webView)</div></pre></td></tr></table></figure></p>
<h2 id="加载网页"><a href="#加载网页" class="headerlink" title="加载网页"></a>加载网页</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.loadRequest(<span class="type">NSURLRequest</span>(url:<span class="type">NSURL</span>.<span class="keyword">init</span>(string:<span class="string">"http://www.jianshu.com/u/1acf2b5a2f69"</span>) <span class="keyword">as</span>! <span class="type">URL</span>) <span class="keyword">as</span> <span class="type">URLRequest</span>)</div></pre></td></tr></table></figure>
<h2 id="脚本注入"><a href="#脚本注入" class="headerlink" title="脚本注入"></a>脚本注入</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> jsPath =  <span class="type">NSBundle</span>.mainBundle().pathForResource(<span class="string">"app"</span>, ofType: <span class="string">"js"</span>)</div></pre></td></tr></table></figure>
<h2 id="获取到脚本中的内容"><a href="#获取到脚本中的内容" class="headerlink" title="获取到脚本中的内容"></a>获取到脚本中的内容</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> jsString :<span class="type">String</span> = <span class="keyword">try</span>! <span class="type">String</span>(contentsOfFile: jsPath!, encoding: <span class="number">4</span>)</div><div class="line"><span class="comment">//将获得的文本内容后面的\n替换为空的字符串</span></div><div class="line">jsString = jsString.stringByReplacingOccurrencesOfString(<span class="string">"\n"</span>, withString: <span class="string">""</span>)</div></pre></td></tr></table></figure>
<h2 id="触发脚本"><a href="#触发脚本" class="headerlink" title="触发脚本"></a>触发脚本</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.stringByEvaluatingJavaScriptFromString(jsString <span class="keyword">as</span> <span class="type">String</span>)</div></pre></td></tr></table></figure>
<h2 id="webView-scalesPageToFit"><a href="#webView-scalesPageToFit" class="headerlink" title="webView.scalesPageToFit"></a>webView.scalesPageToFit</h2><blockquote>
<p>有点时候我们加载的网页页面比较大的话 是无法的完全显示在webView上，这个时候我们需要调节webView的scalesPageToFit属性来实现页面适应webView区域的效果</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.scalesPageToFit = <span class="literal">true</span></div></pre></td></tr></table></figure>
<h2 id="dataDetectorTypes"><a href="#dataDetectorTypes" class="headerlink" title="dataDetectorTypes"></a>dataDetectorTypes</h2><blockquote>
<p>我们可以通过设置webView的dataDetectorTypes属性来识别出网页上的电话号码，超链接，邮箱等一些特殊信息，在我们对其进行相关操作的时候可以出发关联事件</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> webView.dataDetectorTypes = .address</div><div class="line"></div><div class="line"><span class="comment">//dataDetectorTypes包含以下类型：</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">UIDataDetectorTypes</span> : <span class="title">OptionSet</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(rawValue: <span class="type">UInt</span>)</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> phoneNumber: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Phone number detection</span></div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> link: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// URL detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">4.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> address: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Street address detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">4.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> calendarEvent: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Event detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> shipmentTrackingNumber: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Shipment tracking number detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> flightNumber: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Flight number detection</span></div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> lookupSuggestion: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Information users may want to look up</span></div><div class="line"></div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> all: <span class="type">UIDataDetectorTypes</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// Enable all types, including types that may be added later</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>UIWebView在加载网页的时候有一些对应的状态，我们可以进行检测：<br>首先实现其代理：UIWebViewDelegate<br>然后设置其代理对象：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">webView.delegate = <span class="keyword">self</span>;</div></pre></td></tr></table></figure>
<blockquote>
<p>实现代理方法：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UIWebViewDelegate</span> : <span class="title">NSObjectProtocol</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="comment">//链接地址发生改变的时候调用</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: UIWebView, shouldStartLoadWith request: URLRequest, navigationType: UIWebViewNavigationType)</span></span> -&gt; <span class="type">Bool</span></div><div class="line"></div><div class="line"><span class="comment">//开始加载</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewDidStartLoad</span><span class="params">(<span class="number">_</span> webView: UIWebView)</span></span></div><div class="line"></div><div class="line"><span class="comment">//完成加载</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewDidFinishLoad</span><span class="params">(<span class="number">_</span> webView: UIWebView)</span></span></div><div class="line"></div><div class="line"><span class="comment">//加载失败</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">2.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: UIWebView, didFailLoadWithError error: Error)</span></span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>可以对webView加载状态进行控制，比如：停止加载，继续加载等，其设置方法为：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//重新加载</span></div><div class="line">- (void)reload;</div><div class="line"><span class="comment">//停止加载</span></div><div class="line">- (void)stopLoading;</div><div class="line"><span class="comment">//返回</span></div><div class="line">- (void)goBack;</div><div class="line"><span class="comment">//前往</span></div><div class="line">- (void)goForward;</div></pre></td></tr></table></figure>
<blockquote>
<p>以下是UIWebView对于HTML语言，本地文件等信息的加载：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//加载HTML文本</span></div><div class="line">- (void)loadHTMLString:(<span class="type">NSString</span> *)string baseURL:(nullable <span class="type">NSURL</span> *)baseURL;</div><div class="line"></div><div class="line"><span class="comment">//加载Data类型</span></div><div class="line">- (void)loadData:(<span class="type">NSData</span> *)data <span class="type">MIMEType</span>:(<span class="type">NSString</span> *)<span class="type">MIMEType</span> textEncodingName:(<span class="type">NSString</span> *)textEncodingName baseURL:(<span class="type">NSURL</span> *)baseURL;</div><div class="line"></div><div class="line"><span class="comment">//实现与JS的交互</span></div><div class="line">- (nullable <span class="type">NSString</span> *)stringByEvaluatingJavaScriptFromString:(<span class="type">NSString</span> *)script;</div></pre></td></tr></table></figure>
<h1 id="WKWebView"><a href="#WKWebView" class="headerlink" title="WKWebView"></a>WKWebView</h1><blockquote>
<p>使用方法</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//创建</span></div><div class="line"><span class="keyword">let</span> wkWebView = <span class="type">WKWebView</span>()</div><div class="line"></div><div class="line"><span class="comment">//设置位置和大小</span></div><div class="line">wkWebView.frame = <span class="keyword">self</span>.view.frame;</div><div class="line"></div><div class="line"><span class="comment">//创建的时候就设置位置和大小</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    public init(frame: CGRect, configuration: WKWebViewConfiguration)</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keyword">let</span> webview = <span class="type">WKWebView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.view.frame.width, <span class="keyword">self</span>.view.frame.height))</div><div class="line"></div><div class="line"><span class="comment">//添加</span></div><div class="line"><span class="keyword">self</span>.view.addSubview(wkWebView)</div><div class="line"></div><div class="line"><span class="comment">//请求</span></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    open func load(_ request: URLRequest) -&gt; WKNavigation?</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line">wkWebView.load(<span class="type">NSURLRequest</span>(url: <span class="type">NSURL</span>(string:<span class="string">"http://www.baidu.com"</span>) <span class="keyword">as</span>! <span class="type">URL</span>) <span class="keyword">as</span> <span class="type">URLRequest</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>WKWebView的代理方法：<br>WKNavigationDelegate<br>通过WKNavigationDelegate提供的代理方法，我们可以追踪WKWebView加载的过程</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> /页面开始加载时调用</div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didStartProvisionalNavigation navigation: WKNavigation!)</span></span></div><div class="line"></div><div class="line"><span class="comment">// 页面加载失败时调用</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didFailProvisionalNavigation navigation: WKNavigation!, withError error: Error)</span></span></div><div class="line"></div><div class="line"><span class="comment">// 当内容开始返回时调用</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didCommit navigation: WKNavigation!)</span></span></div><div class="line"></div><div class="line"><span class="comment">// 页面加载完成之后调用</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didFinish navigation: WKNavigation!)</span></span></div></pre></td></tr></table></figure>
<blockquote>
<p>页面跳转的代理方法有三种，分为（收到跳转与决定是否跳转两种）</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">// 接收到服务器跳转请求之后调用</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, didReceiveServerRedirectForProvisionalNavigation navigation: WKNavigation!)</span></span></div><div class="line"></div><div class="line"><span class="comment">// 在发送请求之前，决定是否跳转</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, decidePolicyFor navigationAction: WKNavigationAction, decisionHandler: @escaping <span class="params">(WKNavigationActionPolicy)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"><span class="comment">// 在收到响应后，决定是否跳转</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, decidePolicyFor navigationResponse: WKNavigationResponse, decisionHandler: @escaping <span class="params">(WKNavigationResponsePolicy)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//web内容视图被终止的时候触发</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">9.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webViewWebContentProcessDidTerminate</span><span class="params">(<span class="number">_</span> webView: WKWebView)</span></span></div></pre></td></tr></table></figure>
<blockquote>
<p>WKUIDelegate</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">/ 创建一个新的<span class="type">WebView</span></div><div class="line">   <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">   <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, createWebViewWith configuration: WKWebViewConfiguration, <span class="keyword">for</span> navigationAction: WKNavigationAction, windowFeatures: WKWindowFeatures)</span></span> -&gt; <span class="type">WKWebView</span>?</div></pre></td></tr></table></figure>
<blockquote>
<p>web界面的三种提示框（警告框、确认框、输入框）分别对应三种代理方法</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="comment">/**</span></div><div class="line"><span class="comment"> *  web界面中有弹出警告框时调用</span></div><div class="line"><span class="comment"> *  @param webView           实现该代理的webview</span></div><div class="line"><span class="comment"> *  @param message           警告框中的内容</span></div><div class="line"><span class="comment"> *  @param frame             主窗口</span></div><div class="line"><span class="comment"> *  @param completionHandler 警告框消失调用</span></div><div class="line"><span class="comment"> */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, runJavaScriptAlertPanelWithMessage message: String, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping <span class="params">()</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> *  web界面中有弹出确认框时调用</span></div><div class="line"><span class="comment"> *  @param webView           实现该代理的webview</span></div><div class="line"><span class="comment"> *  @param message           确认框中的内容</span></div><div class="line"><span class="comment"> *  @param frame             主窗口</span></div><div class="line"><span class="comment"> *  @param completionHandler 确认框消失调用</span></div><div class="line"><span class="comment"> */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, runJavaScriptConfirmPanelWithMessage message: String, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping <span class="params">(Bool)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> *  web界面中有弹出输入框时调用</span></div><div class="line"><span class="comment"> *  @param webView           实现该代理的webview</span></div><div class="line"><span class="comment"> *  @param message           输入框中的内容</span></div><div class="line"><span class="comment"> *  @param frame             主窗口</span></div><div class="line"><span class="comment"> *  @param completionHandler 输入框消失调用</span></div><div class="line"><span class="comment"> */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    <span class="keyword">optional</span> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(<span class="number">_</span> webView: WKWebView, runJavaScriptTextInputPanelWithPrompt prompt: String, defaultText: String?, initiatedByFrame frame: WKFrameInfo, completionHandler: @escaping <span class="params">(String?)</span></span></span> -&gt; <span class="type">Swift</span>.<span class="type">Void</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>WKScriptMessageHandler</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">userContentController</span><span class="params">(<span class="number">_</span> userContentController: WKUserContentController, didReceive message: WKScriptMessage)</span></span></div></pre></td></tr></table></figure>
<blockquote>
<p>这个方法是WKscriptMessageHandler协议中必须实现的方法，是提高App与web端交互的关键，它可以直接将接收到的JS脚本转为OC或Swift对象<br>获取网页标题<br>需要遵守WKNavigationDelegate协议并设置：webview.navigationDelegate = self<br>网页加载完的时候我们能获取网页的标题，所以这个步骤应该写在网页状态加载完成的方法里面：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: WKWebView, didFinishNavigation navigation: WKNavigation!)</span></span> &#123;</div><div class="line">   <span class="comment">//print(self.webview.title) </span></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>获取当前网页的url</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: WKWebView, decidePolicyForNavigationAction navigationAction:WKNavigationAction, decisionHandler: <span class="params">(WKNavigationActionPolicy)</span></span></span> -&gt;<span class="type">Void</span>) &#123;</div><div class="line">         </div><div class="line"><span class="keyword">var</span> urlString:<span class="type">NSString</span>! = navigationAction.request.<span class="type">URL</span>?.absoluteString</div><div class="line"></div><div class="line">decisionHandler(<span class="type">WKNavigationActionPolicy</span>.<span class="type">Allow</span>)<span class="comment">//一定要加上这一句代码不然会出异常          </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>前进，后退，停止。。。<br>WKWebView想UIWebView一样，可以获取一些状态，以及进行对应操作</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  <span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">reload</span><span class="params">()</span></span><span class="comment">//重新加载</span></div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">stopLoading</span><span class="params">()</span></span><span class="comment">//停止加载</span></div><div class="line">    </div><div class="line"><span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">goBack</span><span class="params">()</span></span><span class="comment">//返回</span></div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="function"><span class="keyword">func</span> <span class="title">goForward</span><span class="params">()</span></span><span class="comment">//前进</span></div><div class="line"> </div><div class="line"><span class="comment">//能不能后退 前往 加载</span></div><div class="line"><span class="keyword">open</span> <span class="keyword">var</span> canGoBack: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="keyword">var</span> canGoForward: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line"><span class="keyword">open</span> <span class="keyword">var</span> isLoading: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/UIImageView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/UIImageView/" itemprop="url">Swift-UIKit-UIImageView</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T10:40:47+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UIImageView/" itemprop="url" rel="index">
                    <span itemprop="name">UIImageView</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UIImageView"><a href="#UIImageView" class="headerlink" title="UIImageView"></a>UIImageView</h1><h2 id="创建的时候直接设置图片"><a href="#创建的时候直接设置图片" class="headerlink" title="创建的时候直接设置图片"></a>创建的时候直接设置图片</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> imageView = <span class="type">UIImageView</span>(image:<span class="type">UIImage</span>(named:<span class="string">"girl"</span>))</div></pre></td></tr></table></figure>
<h2 id="先创建出对象再设置图片"><a href="#先创建出对象再设置图片" class="headerlink" title="先创建出对象再设置图片"></a>先创建出对象再设置图片</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> imageView1 = <span class="type">UIImageView</span>()</div><div class="line">imageView1.image = <span class="type">UIImage</span>(named:<span class="string">"girl"</span>)</div></pre></td></tr></table></figure>
<h2 id="图片获取"><a href="#图片获取" class="headerlink" title="图片获取"></a>图片获取</h2><blockquote>
<p>从文件目录中获取图片</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> path = <span class="type">Bundle</span>.main.path(forResource:<span class="string">"girl"</span>, ofType: <span class="string">"png"</span>)</div><div class="line"><span class="keyword">let</span> newImage = <span class="type">UIImage</span>(contentsOfFile: path!)</div></pre></td></tr></table></figure>
<blockquote>
<p>网络地址获取图片</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> url = <span class="type">URL</span>(string:<span class="string">"http://image.cnpp.cn/upload/images/20160905/09380421552_400x300.jpg"</span>)</div><div class="line"><span class="keyword">let</span> data = <span class="keyword">try</span>! <span class="type">Data</span>(contentsOf: url!)</div><div class="line"><span class="keyword">let</span> smallImage = <span class="type">UIImage</span>(data: data)</div><div class="line"><span class="comment">//imageView1.image = smallImage</span></div><div class="line"><span class="keyword">let</span> imageView1 = <span class="type">UIImageView</span>(image:smallImage)</div></pre></td></tr></table></figure>
<h2 id="图片显示填充样式"><a href="#图片显示填充样式" class="headerlink" title="图片显示填充样式"></a>图片显示填充样式</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">imageView1.contentMode = <span class="type">UIViewContentMode</span>.scaleAspectFit</div></pre></td></tr></table></figure>
<h2 id="对于UIImageView的图片填充样式有多种"><a href="#对于UIImageView的图片填充样式有多种" class="headerlink" title="对于UIImageView的图片填充样式有多种"></a>对于UIImageView的图片填充样式有多种</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">UIViewContentMode</span> : <span class="title">Int</span> </span>&#123;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">case</span> scaleToFill</div><div class="line"></div><div class="line"><span class="keyword">case</span> scaleAspectFit <span class="comment">// contents scaled to fit with fixed aspect. remainder is transparent</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> scaleAspectFill <span class="comment">// contents scaled to fill with fixed aspect. some portion of content may be clipped.</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> redraw <span class="comment">// redraw on bounds change (calls -setNeedsDisplay)</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> center <span class="comment">// contents remain same size. positioned adjusted.</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> top</div><div class="line"></div><div class="line"><span class="keyword">case</span> bottom</div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="keyword">left</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="keyword">right</span></div><div class="line"></div><div class="line"><span class="keyword">case</span> topLeft</div><div class="line"></div><div class="line"><span class="keyword">case</span> topRight</div><div class="line"></div><div class="line"><span class="keyword">case</span> bottomLeft</div><div class="line"></div><div class="line"><span class="keyword">case</span> bottomRight</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="分组图片轮展"><a href="#分组图片轮展" class="headerlink" title="分组图片轮展"></a>分组图片轮展</h2><blockquote>
<p>UIImageView中有设置多张图片一块展示的功能，类似于幻灯片的自动播放。其实现过程如下：</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//设置图片数组</span></div><div class="line">imageView1.animationImages = [<span class="type">UIImage</span>(named:<span class="string">"2"</span>)!,<span class="type">UIImage</span>(named:<span class="string">"3"</span>)!]</div><div class="line"></div><div class="line"><span class="comment">//所有图片展示完一遍的总时长</span></div><div class="line">imageView1.animationDuration = <span class="number">2</span></div><div class="line"></div><div class="line"><span class="comment">//开始</span></div><div class="line">imageView1.startAnimating()</div><div class="line"></div><div class="line"><span class="comment">//结束</span></div><div class="line">imageView1.stopAnimating()</div></pre></td></tr></table></figure>
<h2 id="添加点击事件"><a href="#添加点击事件" class="headerlink" title="添加点击事件"></a>添加点击事件</h2><blockquote>
<p>UIImageView和UILabel类似，其用户交互默认关闭，我们要给其添加点击事件，需要打开其用户交互</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">  imageView1.isUserInteractionEnabled = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> tapGestureRecognizer = <span class="type">UITapGestureRecognizer</span>(target: <span class="keyword">self</span>, action:#selector(<span class="type">ViewController</span>.tapGestureRecognizer(sender:)))</div><div class="line"></div><div class="line">imageView1.addGestureRecognizer(tapGestureRecognizer)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tapGestureRecognizer</span><span class="params">(sender:UITapGestureRecognizer)</span></span> &#123;</div><div class="line">    <span class="comment">//code</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="属性设置"><a href="#属性设置" class="headerlink" title="属性设置"></a>属性设置</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"> <span class="comment">//边框设置</span></div><div class="line">imageView.layer.borderColor = <span class="type">UIColor</span>.redColor().<span class="type">CGColor</span></div><div class="line">imageView.layer.borderWidth = <span class="number">2</span></div><div class="line"></div><div class="line"><span class="comment">//圆角的设置</span></div><div class="line">imageView.layer.cornerRadius = <span class="number">150</span></div><div class="line">imageView.layer.masksToBounds = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="type">UIImageView</span>继承<span class="type">UIView</span>，很多常见的属性在此就不列举。。</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/07/Swift/UIKit/UISegmentedControl-分段选择控件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="千夜 QQ:738816656">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="千夜、おれはおまえをずっと爱している">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/07/Swift/UIKit/UISegmentedControl-分段选择控件/" itemprop="url">Swift-UIKit-UISegmentedControl-分段选择控件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-07T10:28:53+08:00">
                2017-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/" itemprop="url" rel="index">
                    <span itemprop="name">UIKit</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Swift/UIKit/UISegmentedControl/" itemprop="url" rel="index">
                    <span itemprop="name">UISegmentedControl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UISegmentedControl"><a href="#UISegmentedControl" class="headerlink" title="UISegmentedControl"></a>UISegmentedControl</h1><blockquote>
<p>继承自UIControl</p>
</blockquote>
<h2 id="分段选项显示"><a href="#分段选项显示" class="headerlink" title="分段选项显示"></a>分段选项显示</h2><p>###初始化数据源</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> items = [<span class="string">"见哥1"</span>,<span class="string">"见哥2"</span>,<span class="type">UIImage</span>(named:<span class="string">"1"</span>)!] <span class="keyword">as</span> [<span class="type">Any</span>]</div></pre></td></tr></table></figure>
<h3 id="初始化对象"><a href="#初始化对象" class="headerlink" title="初始化对象"></a>初始化对象</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> segmentedControl = <span class="type">UISegmentedControl</span>(items:items)</div></pre></td></tr></table></figure>
<h3 id="设置位置"><a href="#设置位置" class="headerlink" title="设置位置"></a>设置位置</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.center = <span class="keyword">self</span>.view.center</div></pre></td></tr></table></figure>
<h3 id="当前选中下标"><a href="#当前选中下标" class="headerlink" title="当前选中下标"></a>当前选中下标</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.selectedSegmentIndex = <span class="number">1</span></div></pre></td></tr></table></figure>
<p>##添加事件</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.addTarget(<span class="keyword">self</span>, action: #selector(segmentedControlChanged), <span class="keyword">for</span>: <span class="type">UIControlEvents</span>.valueChanged)</div></pre></td></tr></table></figure>
<h2 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">self</span>.view.addSubview(segmentedControl)</div></pre></td></tr></table></figure>
<h2 id="选择点击后的事件"><a href="#选择点击后的事件" class="headerlink" title="选择点击后的事件"></a>选择点击后的事件</h2><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">segmentedControlChanged</span><span class="params">(sender:UISegmentedControl)</span></span> &#123;</div><div class="line">    </div><div class="line">    <span class="built_in">print</span>(sender.selectedSegmentIndex)</div><div class="line">    </div><div class="line">    <span class="built_in">print</span>(sender.titleForSegment(at: sender.selectedSegmentIndex))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="添加删除选项"><a href="#添加删除选项" class="headerlink" title="添加删除选项"></a>添加删除选项</h2><blockquote>
<p>UISegmentedControl每个选项的宽度在默认情况下会根据选项的个数自动分配，而个数在初始化控件之后可以添加和删除</p>
</blockquote>
<h3 id="添加图片选项"><a href="#添加图片选项" class="headerlink" title="添加图片选项"></a>添加图片选项</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.insertSegment(with: <span class="type">UIImage</span>(named:<span class="string">"2"</span>), at: <span class="number">0</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure>
<h3 id="添加文字选项"><a href="#添加文字选项" class="headerlink" title="添加文字选项"></a>添加文字选项</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.insertSegment(withTitle: <span class="string">"见哥0"</span>, at: <span class="number">1</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure>
<h3 id="移除制定下标的选项"><a href="#移除制定下标的选项" class="headerlink" title="移除制定下标的选项"></a>移除制定下标的选项</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.removeSegment(at: <span class="number">1</span>, animated: <span class="literal">true</span>)</div></pre></td></tr></table></figure>
<h3 id="移出所有segment"><a href="#移出所有segment" class="headerlink" title="移出所有segment"></a>移出所有segment</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segment.removeAllSegments()</div></pre></td></tr></table></figure>
<h3 id="颜色设定"><a href="#颜色设定" class="headerlink" title="颜色设定"></a>颜色设定</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmentedControl.tintColor = <span class="type">UIColor</span>.red</div></pre></td></tr></table></figure>
<h3 id="获取颜色"><a href="#获取颜色" class="headerlink" title="获取颜色"></a>获取颜色</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> segmentColor = segment.tintColor</div></pre></td></tr></table></figure>
<h3 id="显示文字修改"><a href="#显示文字修改" class="headerlink" title="显示文字修改"></a>显示文字修改</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmented.setTitle(<span class="string">"swfit"</span>, forSegmentAt:<span class="number">1</span>)</div></pre></td></tr></table></figure>
<h3 id="获取某一个下标下的标题"><a href="#获取某一个下标下的标题" class="headerlink" title="获取某一个下标下的标题"></a>获取某一个下标下的标题</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> title = segment.titleForSegmentAtIndex(<span class="number">1</span>)</div></pre></td></tr></table></figure>
<h3 id="修改选项图片"><a href="#修改选项图片" class="headerlink" title="修改选项图片"></a>修改选项图片</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmented.setImage(<span class="type">UIImage</span>(named:<span class="string">"icon"</span>), forSegmentAt:<span class="number">2</span>)</div></pre></td></tr></table></figure>
<h3 id="获取某一个下标下得图片"><a href="#获取某一个下标下得图片" class="headerlink" title="获取某一个下标下得图片"></a>获取某一个下标下得图片</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> image = segment.imageForSegmentAtIndex(<span class="number">2</span>)</div></pre></td></tr></table></figure>
<h3 id="修改选项内容偏移位置"><a href="#修改选项内容偏移位置" class="headerlink" title="修改选项内容偏移位置"></a>修改选项内容偏移位置</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segmented.setContentOffset(<span class="type">CGSize</span>(width:<span class="number">10</span>, height:<span class="number">7</span>), forSegmentAt:<span class="number">1</span>)</div></pre></td></tr></table></figure>
<h2 id="宽度"><a href="#宽度" class="headerlink" title="宽度"></a>宽度</h2><blockquote>
<p>UISegmentedControl每个选项的宽度在默认情况下会根据选项的个数自动分配，但是有时候根据项目情况的需要，我们也是可以手动来进行设置/获取的。</p>
</blockquote>
<h3 id="设置指定下标选项的宽度"><a href="#设置指定下标选项的宽度" class="headerlink" title="设置指定下标选项的宽度"></a>设置指定下标选项的宽度</h3><p>segmentedControl.setWidth(10, forSegmentAt: 1)</p>
<h3 id="获取某一个下标segment的宽度"><a href="#获取某一个下标segment的宽度" class="headerlink" title="获取某一个下标segment的宽度"></a>获取某一个下标segment的宽度</h3><p>var width = segment.widthForSegmentAtIndex(2)</p>
<h3 id="是否根据segment的内容改变segment的宽度"><a href="#是否根据segment的内容改变segment的宽度" class="headerlink" title="是否根据segment的内容改变segment的宽度"></a>是否根据segment的内容改变segment的宽度</h3><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segment.apportionsSegmentWidthsByContent = <span class="literal">true</span></div></pre></td></tr></table></figure>
<p>###momentary属性</p>
<blockquote>
<p>分段选择控件在点击之后一直处于选中状态，除非点击其他分段，才恢复。 momentary属性用来设置是否一直保持选中状态，当设置为YES时，点击选中，但一会就是恢复到正常状态<br><figure class="highlight swift"><table><tr><td class="code"><pre><div class="line">segment.momentary = <span class="literal">true</span></div></pre></td></tr></table></figure></p>
</blockquote>

          
        
      
    </div>
    
    
    

    



    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/12/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/14/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">千夜 QQ:738816656</p>
              <p class="site-description motion-element" itemprop="description">ReactNative</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">201</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">106</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">77</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">千夜 QQ:738816656</span>

  
</div>





        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
